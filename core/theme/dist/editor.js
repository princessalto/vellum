/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/modules/editor/editor.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/@ckeditor/ckeditor5-build-inline/build/ckeditor.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@ckeditor/ckeditor5-build-inline/build/ckeditor.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/*!
 * @license Copyright (c) 2003-2018, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
!function(t){t.en=Object.assign(t.en||{},{a:"Cannot upload file:",b:"Italic",c:"Bold",d:"Block quote",e:"image widget",f:"Choose heading",g:"Heading",h:"Enter image caption",i:"Full size image",j:"Side image",k:"Left aligned image",l:"Centered image",m:"Right aligned image",n:"Link",o:"Numbered List",p:"Bulleted List",q:"Insert image",r:"Upload failed",s:"Insert table",t:"Header column",u:"Insert column before",v:"Insert column after",w:"Delete column",x:"Column",y:"Header row",z:"Insert row below",aa:"Insert row above",ab:"Delete row",ac:"Row",ad:"Merge cell up",ae:"Merge cell right",af:"Merge cell down",ag:"Merge cell left",ah:"Split cell vertically",ai:"Split cell horizontally",aj:"Merge cells",ak:"media widget",al:"Insert media",am:"The URL must not be empty.",an:"This media URL is not supported.",ao:"Upload in progress",ap:"Change image text alternative",aq:"Paragraph",ar:"Heading 1",as:"Heading 2",at:"Heading 3",au:"Save",av:"Cancel",aw:"Media URL",ax:"Rich Text Editor, %0",ay:"Text alternative",az:"Undo",ba:"Redo",bb:"Unlink",bc:"Edit link",bd:"Open link in new tab",be:"This link has no URL",bf:"Link URL"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(t,e){ true?module.exports=e():undefined}(window,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=110)}([function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r});const o="https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html";class i extends Error{constructor(t,e){t=r(t),e&&(t+=" "+JSON.stringify(e)),super(t),this.name="CKEditorError",this.data=e}static isCKEditorError(t){return t instanceof i}}function r(t){const e=t.match(/^([^:]+):/);return e?t+` Read more: ${o}#error-${e[1]}\n`:t}},function(t,e,n){"use strict";var o=n(0);const i={error(t,e){console.error(Object(o.a)(t),e)},warn(t,e){console.warn(Object(o.a)(t),e)}};e.a=i},function(t,e,n){var o={},i=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),r=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var o=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}e[t]=o}return e[t]}}(),s=null,a=0,c=[],l=n(44);function d(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=o[i.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](i.parts[s]);for(;s<i.parts.length;s++)r.parts.push(p(i.parts[s],e))}else{var a=[];for(s=0;s<i.parts.length;s++)a.push(p(i.parts[s],e));o[i.id]={id:i.id,refs:1,parts:a}}}}function u(t,e){for(var n=[],o={},i=0;i<t.length;i++){var r=t[i],s=e.base?r[0]+e.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};o[s]?o[s].parts.push(a):n.push(o[s]={id:s,parts:[a]})}return n}function h(t,e){var n=r(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=c[c.length-1];if("top"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),c.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=r(t.insertAt.before,n);n.insertBefore(e,i)}}function f(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=c.indexOf(t);e>=0&&c.splice(e,1)}function m(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var o=function(){0;return n.nc}();o&&(t.attrs.nonce=o)}return g(e,t.attrs),h(t,e),e}function g(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function p(t,e){var n,o,i,r;if(e.transform&&t.css){if(!(r="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=r}if(e.singleton){var c=a++;n=s||(s=m(e)),o=w.bind(null,n,c,!1),i=w.bind(null,n,c,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",g(e,t.attrs),h(t,e),e}(e),o=function(t,e,n){var o=n.css,i=n.sourceMap,r=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||r)&&(o=l(o));i&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([o],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,e),i=function(){f(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(e),o=function(t,e){var n=e.css,o=e.media;o&&t.setAttribute("media",o);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){f(n)});return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else i()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=i()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=u(t,e);return d(n,e),function(t){for(var i=[],r=0;r<n.length;r++){var s=n[r];(a=o[s.id]).refs--,i.push(a)}t&&d(u(t,e),e);for(r=0;r<i.length;r++){var a;if(0===(a=i[r]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete o[a.id]}}}};var b=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function w(t,e,n,o){var i=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=b(e,i);else{var r=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}},,function(t,e,n){"use strict";var o=n(9),i="object"==typeof self&&self&&self.Object===Object&&self,r=o.a||i||Function("return this")();e.a=r},function(t,e,n){"use strict";(function(t){var o=n(9),i= true&&exports&&!exports.nodeType&&exports,r=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=r&&r.exports===i&&o.a.process,a=function(){try{var t=r&&r.require&&r.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();e.a=a}).call(this,n(11)(t))},function(t,e,n){"use strict";(function(t){var o=n(4),i=n(18),r= true&&exports&&!exports.nodeType&&exports,s=r&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===r?o.a.Buffer:void 0,c=(a?a.isBuffer:void 0)||i.a;e.a=c}).call(this,n(11)(t))},function(t,e){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z" fill="#000" fill-rule="evenodd"/></svg>'},function(t,e){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z" fill="#000" fill-rule="evenodd"/></svg>'},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(16))},function(t,e){t.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="nonzero"><path d="M2 4.5V3h16v1.5zM2 7.5V6h5.674v1.5zM2 10.5V9h5.674v1.5zM2 13.5V12h5.674v1.5zM10.5 7.5V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></g></svg>\n'},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t){t.exports={a:"11.1.1"}},function(t,e){t.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="nonzero"><path d="M2 4.5V3h16v1.5zM4.5 7.5V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06C3.475 13.5 3 13.093 3 12.59V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></g></svg>\n'},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z" fill-rule="nonzero"/></svg>'},function(t,e){t.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="nonzero"><path d="M2 4.5V3h16v1.5zM6.5 7.5V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></g></svg>\n'},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var o=n(87);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e,n){"use strict";e.a=function(){return!1}},function(t,e,n){"use strict";(function(t){var o=n(4),i= true&&exports&&!exports.nodeType&&exports,r=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=r&&r.exports===i?o.a.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var n=t.length,o=a?a(n):new t.constructor(n);return t.copy(o),o}}).call(this,n(11)(t))},function(t,e){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z" fill="#000" fill-rule="nonzero"/></svg>'},function(t,e){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z" fill="#000" fill-rule="nonzero"/></svg>'},function(t,e){t.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z" fill="#000" fill-rule="evenodd"/></svg>\n'},function(t,e){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z" fill="#333" fill-rule="evenodd"/></svg>'},function(t,e){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="evenodd"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.011-.563zM11 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.011-.563z"/></g></svg>\n'},function(t,e){t.exports='<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><g><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></g></svg>\n'},function(t,e){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012.9.093 1.676.675 2.017 1.513.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z" fill="#000" fill-rule="evenodd"/></svg>'},function(t,e){t.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z" fill="#000" fill-rule="nonzero"/></svg>\n'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><g fill="#FAFAFA" fill-rule="evenodd"><rect width="700" height="250" rx="4"/></g></svg>\n'},function(t,e){t.exports='<svg width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z" fill="#000" fill-rule="evenodd"/></svg>'},function(t,e){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="#000" fill-rule="evenodd"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955c.02-.095.06-.189.12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zM16.927 17.695l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></g></svg>'},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z" fill="#000" fill-rule="nonzero"/></svg>\n'},function(t,e){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955c.02-.095.06-.189.12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z" fill="#000" fill-rule="evenodd"/></svg>'},function(t,e){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z" fill="#454545" fill-rule="evenodd"/></svg>'},function(t,e){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z" fill="#454545" fill-rule="evenodd"/></svg>'},function(t,e){t.exports='<svg width="64" height="42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z" fill="#000" fill-rule="nonzero"/></svg>'},function(t,e){t.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M18.68 2.53c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.08c0-.58-.01-.55.6-.55h17.38zM15.77 14.5v-10H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 6.677a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V6.676z" fill="#000" fill-rule="nonzero"/></svg>'},function(t,e){t.exports='<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z" fill="#333" fill-rule="evenodd"/></svg>'},function(t,e){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="#333" fill-rule="evenodd"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" fill-rule="nonzero" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></g></svg>'},function(t,e){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="#333" fill-rule="evenodd"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" fill-rule="nonzero" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></g></svg>'},function(t,e){t.exports='<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g fill="#333" fill-rule="evenodd"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" fill-rule="nonzero" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></g></svg>'},function(t,e,n){"use strict";(function(t){var e=n(1),o=n(12);const i="object"==typeof window?window:t;i.CKEDITOR_VERSION?e.a.error("ckeditor-version-collision: The global CKEDITOR_VERSION constant has already been set.",{collidingVersion:i.CKEDITOR_VERSION,version:o.a}):i.CKEDITOR_VERSION=o.a}).call(this,n(16))},function(t,e,n){var o=n(43);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999);--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border:#47a4f5;--ck-color-focus-shadow:rgba(119,186,248,0.5);--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-base-foreground);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#c2c2c2;--ck-color-upload-bar-background:#6cb5f9;--ck-color-upload-infinite-background:rgba(0,0,0,0.1);--ck-color-link-default:#0000f0;--ck-color-link-selected-background:#ebf8ff;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit) * 1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit) * 0.8);--ck-spacing-small:calc(var(--ck-spacing-unit) * 0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit) * 0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit) * 0.16)}"},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,o=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(i=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:o+r.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(t,e,n){var o=n(46);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=".ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}"},function(t,e,n){var o=n(48);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1 * var(--ck-balloon-arrow-half-width));top:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2 * var(--ck-balloon-arrow-half-width));top:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2 * var(--ck-balloon-arrow-half-width));top:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1 * var(--ck-balloon-arrow-half-width));bottom:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2 * var(--ck-balloon-arrow-half-width));bottom:calc(-1 * var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2 * var(--ck-balloon-arrow-half-width));bottom:calc(-1 * var(--ck-balloon-arrow-height))}'},function(t,e,n){var o=n(50);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row wrap;align-items:center}.ck.ck-toolbar.ck-toolbar_vertical{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating{flex-wrap:nowrap}.ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar__newline{display:block;width:100%}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>*{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar>:last-child{margin-right:0}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar__separator{align-self:stretch;width:1px;margin-top:0;margin-bottom:0;background:var(--ck-color-toolbar-border)}.ck.ck-toolbar__newline{margin:0}"},function(t,e,n){var o=n(52);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base) * var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon *{fill:currentColor}"},function(t,e,n){var o=n(54);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck-tooltip .ck-tooltip__text{display:inline-block}.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%}.ck.ck-tooltip.ck-tooltip_s{bottom:calc(-1 * var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:calc(-1 * var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_n{top:calc(-1 * var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1 * var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{border-style:solid;left:50%}.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s}'},function(t,e,n){var o=n(56);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button .ck-button__label,.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button .ck-button__label,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;border-color:transparent}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}.ck.ck-button.ck-button_with-text .ck-button__icon,a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1 * var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}"},function(t,e,n){var o=n(58);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;font-style:italic;border-left:5px solid #ccc}"},function(t,e,n){var o=n(60);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=".ck .ck-widget.ck-widget_selectable{position:relative}.ck .ck-widget.ck-widget_selectable .ck-widget__selection-handler{visibility:hidden;position:absolute}.ck .ck-widget.ck-widget_selectable .ck-widget__selection-handler .ck-icon{display:block}.ck .ck-widget.ck-widget_selectable.ck-widget_selected .ck-widget__selection-handler,.ck .ck-widget.ck-widget_selectable:hover .ck-widget__selection-handler{visibility:visible}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{margin:var(--ck-spacing-standard) 0;padding:0;outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_selectable .ck-widget__selection-handler{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_selectable .ck-widget__selection-handler:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_selectable .ck-widget__selection-handler .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_selectable .ck-widget__selection-handler .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selectable.ck-widget_selected .ck-widget__selection-handler,.ck .ck-widget.ck-widget_selectable.ck-widget_selected:hover .ck-widget__selection-handler{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_selectable.ck-widget_selected .ck-widget__selection-handler .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_selectable.ck-widget_selected:hover .ck-widget__selection-handler .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_selectable:hover .ck-widget__selection-handler{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected .ck-widget__selection-handler,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected .ck-widget__selection-handler:hover,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover .ck-widget__selection-handler,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover .ck-widget__selection-handler:hover{background:var(--ck-color-widget-blurred-border)}"},function(t,e,n){var o=n(62);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}"},function(t,e,n){var o=n(64);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=".ck.ck-labeled-input .ck-labeled-input__error{font-size:var(--ck-font-size-small);color:var(--ck-color-base-error);margin-top:var(--ck-spacing-small)}"},function(t,e,n){var o=n(66);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition-property:box-shadow,border;transition:.2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),var(--ck-inner-shadow)}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}"},function(t,e,n){var o=n(68);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=".ck.ck-text-alternative-form .ck-labeled-input{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}.ck.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck.ck-text-alternative-form:focus{outline:none}.ck.ck-text-alternative-form>:not(:first-child){margin-left:var(--ck-spacing-standard)}"},function(t,e,n){var o=n(70);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=".ck-content .image{clear:both;text-align:center}.ck-content .image>img{display:block;margin:0 auto;max-width:100%}"},function(t,e,n){var o=n(72);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=".ck-content .image{position:relative;overflow:hidden}.ck-content .image .ck-progress-bar{position:absolute;top:0;left:0}:root{--ck-image-upload-progress-line-width:30px}.ck-content .image.ck-appear{animation:fadeIn .7s}.ck-content .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}"},function(t,e,n){var o=n(74);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports='.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}'},function(t,e,n){var o=n(76);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports='.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}'},function(t,e,n){var o=n(78);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=".ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute;left:0;transform:translate3d(0,100%,0)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block;will-change:transform}:root{--ck-dropdown-arrow-size:calc(0.5 * var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);width:var(--ck-dropdown-arrow-size);margin-left:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}"},function(t,e,n){var o=n(80);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;border:0;padding:calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base)) calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:hover:not(ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}"},function(t,e,n){var o=n(82);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px}.ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(2 * var(--ck-spacing-large))}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto;transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(.5 * var(--ck-border-radius))}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:transform .3s ease}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(1.3846153847em)}"},function(t,e,n){var o=n(84);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=".ck.ck-toolbar-dropdown .ck-toolbar{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}"},function(t,e,n){var o=n(86);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}"},function(t,e){t.exports=".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}"},function(t,e,n){var o=n(89);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=".ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none;cursor:text;color:var(--ck-color-engine-placeholder-text)}"},function(t,e,n){var o=n(91);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=".ck-content .image>figcaption{color:#333;background-color:#f7f7f7;padding:.6em;font-size:.75em;outline-offset:-1px}"},function(t,e,n){var o=n(93);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=":root{--ck-image-style-spacing:1.5em}.ck-content .image-style-align-center,.ck-content .image-style-align-left,.ck-content .image-style-align-right,.ck-content .image-style-side{max-width:50%}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}"},function(t,e,n){var o=n(95);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}"},function(t,e,n){var o=n(97);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=".ck.ck-link-form .ck-labeled-input{display:inline-block}.ck.ck-link-form .ck-label{display:none}.ck.ck-link-form{padding:var(--ck-spacing-standard)}.ck.ck-link-form:focus{outline:none}.ck.ck-link-form>:not(:first-child){margin-left:var(--ck-spacing-standard)}"},function(t,e,n){var o=n(99);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=".ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}.ck.ck-link-actions{padding:var(--ck-spacing-standard)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions:focus{outline:none}.ck.ck-link-actions>:not(:first-child){margin-left:var(--ck-spacing-standard)}"},function(t,e,n){var o=n(101);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports='.ck-media__wrapper>:not(.ck-media__placeholder){pointer-events:none}.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{visibility:visible;opacity:1}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(3 * var(--ck-spacing-standard));background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:50%;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJNMjEyLjk4MyAyNDguNDk1bC0zNi45NTIgMzYuOTUzdi44MTJhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYuMjc1IDEzNi4yNzUgMCAwIDAtMi43NjQtMy45IDM3LjU3NSAzNy41NzUgMCAwIDAtLjk4OS0xLjQ0IDM1LjEyNyAzNS4xMjcgMCAwIDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OXoiIGZpbGw9IiNmZGRjNGYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxMS45OTggMjYxLjA4M2wtNi4xNTIgNi4xNTEgMjQuMjY0IDI0LjI2NGguNzgxYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM5LTUuMjM4di0xLjA0NXoiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c8,#b900b4,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OXptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OXoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzN6bTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1ek00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}'},function(t,e,n){var o=n(103);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=".ck.ck-media-form{display:flex;align-items:flex-start}.ck.ck-media-form .ck-labeled-input{display:inline-block}.ck.ck-media-form .ck-label{display:none}.ck.ck-media-form{padding:var(--ck-spacing-standard)}.ck.ck-media-form:focus{outline:none}.ck.ck-media-form>:not(:first-child){margin-left:var(--ck-spacing-standard)}"},function(t,e,n){var o=n(105);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=":root{--ck-color-table-focused-cell-background:#f5fafe}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}"},function(t,e,n){var o=n(107);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=":root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px;--ck-insert-table-dropdown-box-border-color:#bfbfbf;--ck-insert-table-dropdown-box-border-active-color:#53a0e4;--ck-insert-table-dropdown-box-active-background:#c7e5ff}.ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap;width:calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-insert-table-dropdown-box-border-color);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-insert-table-dropdown-box-border-active-color);background:var(--ck-insert-table-dropdown-box-active-background)}"},function(t,e,n){var o=n(109);"string"==typeof o&&(o=[[t.i,o,""]]);var i={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,i);o.locals&&(t.exports=o.locals)},function(t,e){t.exports=".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border-color:#d9d9d9}.ck-content .table table th{font-weight:700;background:#fafafa}"},function(t,e,n){"use strict";n.r(e);var o=n(4),i=o.a.Symbol,r=Object.prototype,s=r.hasOwnProperty,a=r.toString,c=i?i.toStringTag:void 0;var l=function(t){var e=s.call(t,c),n=t[c];try{t[c]=void 0;var o=!0}catch(t){}var i=a.call(t);return o&&(e?t[c]=n:delete t[c]),i},d=Object.prototype.toString;var u=function(t){return d.call(t)},h="[object Null]",f="[object Undefined]",m=i?i.toStringTag:void 0;var g=function(t){return null==t?void 0===t?f:h:m&&m in Object(t)?l(t):u(t)};var p=function(t,e){return function(n){return t(e(n))}},b=p(Object.getPrototypeOf,Object);var w=function(t){return null!=t&&"object"==typeof t},_="[object Object]",v=Function.prototype,k=Object.prototype,y=v.toString,x=k.hasOwnProperty,A=y.call(Object);var C=function(t){if(!w(t)||g(t)!=_)return!1;var e=b(t);if(null===e)return!0;var n=x.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&y.call(n)==A};class T{constructor(t,e){this._config={},e&&this.define(e),t&&this._setObjectToTarget(this._config,t)}set(t,e){this._setToTarget(this._config,t,e)}define(t,e){this._setToTarget(this._config,t,e,!0)}get(t){return this._getFromSource(this._config,t)}_setToTarget(t,e,n,o=!1){if(C(e))return void this._setObjectToTarget(t,e,o);const i=e.split(".");e=i.pop();for(const e of i)C(t[e])||(t[e]={}),t=t[e];if(C(n))return C(t[e])||(t[e]={}),t=t[e],void this._setObjectToTarget(t,n,o);o&&void 0!==t[e]||(t[e]=n)}_getFromSource(t,e){const n=e.split(".");e=n.pop();for(const e of n){if(!C(t[e])){t=null;break}t=t[e]}return t?t[e]:void 0}_setObjectToTarget(t,e,n){Object.keys(e).forEach(o=>{this._setToTarget(t,o,e[o],n)})}}var M=n(0);var P=function(){return function t(){t.called=!0}};class S{constructor(t,e){this.source=t,this.name=e,this.path=[],this.stop=P(),this.off=P()}}function E(){let t="e";for(let e=0;e<8;e++)t+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return t}var I={get(t){return"number"!=typeof t?this[t]||this.normal:t},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};const N=Symbol("listeningTo"),O=Symbol("emitterId");var R={on(t,e,n={}){this.listenTo(this,t,e,n)},once(t,e,n){this.listenTo(this,t,function(t,...n){t.off(),e.call(this,t,...n)},n)},off(t,e){this.stopListening(this,t,e)},listenTo(t,e,n,o={}){let i,r;this[N]||(this[N]={});const s=this[N];j(t)||D(t);const a=j(t);(i=s[a])||(i=s[a]={emitter:t,callbacks:{}}),(r=i.callbacks[e])||(r=i.callbacks[e]=[]),r.push(n),function(t,e){const n=L(t);if(n[e])return;let o=e,i=null;const r=[];for(;""!==o&&!n[o];)n[o]={callbacks:[],childEvents:[]},r.push(n[o]),i&&n[o].childEvents.push(i),i=o,o=o.substr(0,o.lastIndexOf(":"));if(""!==o){for(const t of r)t.callbacks=n[o].callbacks.slice();n[o].childEvents.push(i)}}(t,e);const c=V(t,e),l=I.get(o.priority),d={callback:n,priority:l};for(const t of c){let e=!1;for(let n=0;n<t.length;n++)if(t[n].priority<l){t.splice(n,0,d),e=!0;break}e||t.push(d)}},stopListening(t,e,n){const o=this[N];let i=t&&j(t);const r=o&&i&&o[i],s=r&&e&&r.callbacks[e];if(!(!o||t&&!r||e&&!s))if(n)z(t,e,n);else if(s){for(;n=s.pop();)z(t,e,n);delete r.callbacks[e]}else if(r){for(e in r.callbacks)this.stopListening(t,e);delete o[i]}else{for(i in o)this.stopListening(o[i].emitter);delete this[N]}},fire(t,...e){const n=t instanceof S?t:new S(this,t),o=n.name;let i=function t(e,n){let o;if(!e._events||!(o=e._events[n])||!o.callbacks.length)return n.indexOf(":")>-1?t(e,n.substr(0,n.lastIndexOf(":"))):null;return o.callbacks}(this,o);if(n.path.push(this),i){const t=[n,...e];i=Array.from(i);for(let e=0;e<i.length&&(i[e].callback.apply(this,t),n.off.called&&(delete n.off.called,z(this,o,i[e].callback)),!n.stop.called);e++);}if(this._delegations){const t=this._delegations.get(o),i=this._delegations.get("*");t&&F(t,n,e),i&&F(i,n,e)}return n.return},delegate(...t){return{to:(e,n)=>{this._delegations||(this._delegations=new Map);for(const o of t){const t=this._delegations.get(o);t?t.set(e,n):this._delegations.set(o,new Map([[e,n]]))}}}},stopDelegating(t,e){if(this._delegations)if(t)if(e){const n=this._delegations.get(t);n&&n.delete(e)}else this._delegations.delete(t);else this._delegations.clear()}};function D(t,e){t[O]||(t[O]=e||E())}function j(t){return t[O]}function L(t){return t._events||Object.defineProperty(t,"_events",{value:{}}),t._events}function V(t,e){const n=L(t)[e];if(!n)return[];let o=[n.callbacks];for(let e=0;e<n.childEvents.length;e++){const i=V(t,n.childEvents[e]);o=o.concat(i)}return o}function F(t,e,n){for(let[o,i]of t){i?"function"==typeof i&&(i=i(e.name)):i=e.name;const t=new S(e.source,i);t.path=[...e.path],o.fire(t,...n)}}function z(t,e,n){const o=V(t,e);for(const t of o)for(let e=0;e<t.length;e++)t[e].callback==n&&(t.splice(e,1),e--)}function B(t,...e){e.forEach(e=>{Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach(n=>{if(n in t.prototype)return;const o=Object.getOwnPropertyDescriptor(e,n);o.enumerable=!1,Object.defineProperty(t.prototype,n,o)})})}function U(t,e){const n=Math.min(t.length,e.length);for(let o=0;o<n;o++)if(t[o]!=e[o])return o;return t.length==e.length?"same":t.length<e.length?"prefix":"extension"}var H=function(){this.__data__=[],this.size=0};var q=function(t,e){return t===e||t!=t&&e!=e};var W=function(t,e){for(var n=t.length;n--;)if(q(t[n][0],e))return n;return-1},Y=Array.prototype.splice;var G=function(t){var e=this.__data__,n=W(e,t);return!(n<0||(n==e.length-1?e.pop():Y.call(e,n,1),--this.size,0))};var $=function(t){var e=this.__data__,n=W(e,t);return n<0?void 0:e[n][1]};var Q=function(t){return W(this.__data__,t)>-1};var J=function(t,e){var n=this.__data__,o=W(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this};function K(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}K.prototype.clear=H,K.prototype.delete=G,K.prototype.get=$,K.prototype.has=Q,K.prototype.set=J;var Z=K;var X=function(){this.__data__=new Z,this.size=0};var tt=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var et=function(t){return this.__data__.get(t)};var nt=function(t){return this.__data__.has(t)};var ot=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},it="[object AsyncFunction]",rt="[object Function]",st="[object GeneratorFunction]",at="[object Proxy]";var ct=function(t){if(!ot(t))return!1;var e=g(t);return e==rt||e==st||e==it||e==at},lt=o.a["__core-js_shared__"],dt=function(){var t=/[^.]+$/.exec(lt&&lt.keys&&lt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var ut=function(t){return!!dt&&dt in t},ht=Function.prototype.toString;var ft=function(t){if(null!=t){try{return ht.call(t)}catch(t){}try{return t+""}catch(t){}}return""},mt=/^\[object .+?Constructor\]$/,gt=Function.prototype,pt=Object.prototype,bt=gt.toString,wt=pt.hasOwnProperty,_t=RegExp("^"+bt.call(wt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var vt=function(t){return!(!ot(t)||ut(t))&&(ct(t)?_t:mt).test(ft(t))};var kt=function(t,e){return null==t?void 0:t[e]};var yt=function(t,e){var n=kt(t,e);return vt(n)?n:void 0},xt=yt(o.a,"Map"),At=yt(Object,"create");var Ct=function(){this.__data__=At?At(null):{},this.size=0};var Tt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Mt="__lodash_hash_undefined__",Pt=Object.prototype.hasOwnProperty;var St=function(t){var e=this.__data__;if(At){var n=e[t];return n===Mt?void 0:n}return Pt.call(e,t)?e[t]:void 0},Et=Object.prototype.hasOwnProperty;var It=function(t){var e=this.__data__;return At?void 0!==e[t]:Et.call(e,t)},Nt="__lodash_hash_undefined__";var Ot=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=At&&void 0===e?Nt:e,this};function Rt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}Rt.prototype.clear=Ct,Rt.prototype.delete=Tt,Rt.prototype.get=St,Rt.prototype.has=It,Rt.prototype.set=Ot;var Dt=Rt;var jt=function(){this.size=0,this.__data__={hash:new Dt,map:new(xt||Z),string:new Dt}};var Lt=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var Vt=function(t,e){var n=t.__data__;return Lt(e)?n["string"==typeof e?"string":"hash"]:n.map};var Ft=function(t){var e=Vt(this,t).delete(t);return this.size-=e?1:0,e};var zt=function(t){return Vt(this,t).get(t)};var Bt=function(t){return Vt(this,t).has(t)};var Ut=function(t,e){var n=Vt(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this};function Ht(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}Ht.prototype.clear=jt,Ht.prototype.delete=Ft,Ht.prototype.get=zt,Ht.prototype.has=Bt,Ht.prototype.set=Ut;var qt=Ht,Wt=200;var Yt=function(t,e){var n=this.__data__;if(n instanceof Z){var o=n.__data__;if(!xt||o.length<Wt-1)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new qt(o)}return n.set(t,e),this.size=n.size,this};function Gt(t){var e=this.__data__=new Z(t);this.size=e.size}Gt.prototype.clear=X,Gt.prototype.delete=tt,Gt.prototype.get=et,Gt.prototype.has=nt,Gt.prototype.set=Yt;var $t=Gt;var Qt=function(t,e){for(var n=-1,o=null==t?0:t.length;++n<o&&!1!==e(t[n],n,t););return t},Jt=function(){try{var t=yt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var Kt=function(t,e,n){"__proto__"==e&&Jt?Jt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Zt=Object.prototype.hasOwnProperty;var Xt=function(t,e,n){var o=t[e];Zt.call(t,e)&&q(o,n)&&(void 0!==n||e in t)||Kt(t,e,n)};var te=function(t,e,n,o){var i=!n;n||(n={});for(var r=-1,s=e.length;++r<s;){var a=e[r],c=o?o(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),i?Kt(n,a,c):Xt(n,a,c)}return n};var ee=function(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o},ne="[object Arguments]";var oe=function(t){return w(t)&&g(t)==ne},ie=Object.prototype,re=ie.hasOwnProperty,se=ie.propertyIsEnumerable,ae=oe(function(){return arguments}())?oe:function(t){return w(t)&&re.call(t,"callee")&&!se.call(t,"callee")},ce=Array.isArray,le=n(6),de=9007199254740991,ue=/^(?:0|[1-9]\d*)$/;var he=function(t,e){var n=typeof t;return!!(e=null==e?de:e)&&("number"==n||"symbol"!=n&&ue.test(t))&&t>-1&&t%1==0&&t<e},fe=9007199254740991;var me=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=fe},ge={};ge["[object Float32Array]"]=ge["[object Float64Array]"]=ge["[object Int8Array]"]=ge["[object Int16Array]"]=ge["[object Int32Array]"]=ge["[object Uint8Array]"]=ge["[object Uint8ClampedArray]"]=ge["[object Uint16Array]"]=ge["[object Uint32Array]"]=!0,ge["[object Arguments]"]=ge["[object Array]"]=ge["[object ArrayBuffer]"]=ge["[object Boolean]"]=ge["[object DataView]"]=ge["[object Date]"]=ge["[object Error]"]=ge["[object Function]"]=ge["[object Map]"]=ge["[object Number]"]=ge["[object Object]"]=ge["[object RegExp]"]=ge["[object Set]"]=ge["[object String]"]=ge["[object WeakMap]"]=!1;var pe=function(t){return w(t)&&me(t.length)&&!!ge[g(t)]};var be=function(t){return function(e){return t(e)}},we=n(5),_e=we.a&&we.a.isTypedArray,ve=_e?be(_e):pe,ke=Object.prototype.hasOwnProperty;var ye=function(t,e){var n=ce(t),o=!n&&ae(t),i=!n&&!o&&Object(le.a)(t),r=!n&&!o&&!i&&ve(t),s=n||o||i||r,a=s?ee(t.length,String):[],c=a.length;for(var l in t)!e&&!ke.call(t,l)||s&&("length"==l||i&&("offset"==l||"parent"==l)||r&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||he(l,c))||a.push(l);return a},xe=Object.prototype;var Ae=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||xe)},Ce=p(Object.keys,Object),Te=Object.prototype.hasOwnProperty;var Me=function(t){if(!Ae(t))return Ce(t);var e=[];for(var n in Object(t))Te.call(t,n)&&"constructor"!=n&&e.push(n);return e};var Pe=function(t){return null!=t&&me(t.length)&&!ct(t)};var Se=function(t){return Pe(t)?ye(t):Me(t)};var Ee=function(t,e){return t&&te(e,Se(e),t)};var Ie=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},Ne=Object.prototype.hasOwnProperty;var Oe=function(t){if(!ot(t))return Ie(t);var e=Ae(t),n=[];for(var o in t)("constructor"!=o||!e&&Ne.call(t,o))&&n.push(o);return n};var Re=function(t){return Pe(t)?ye(t,!0):Oe(t)};var De=function(t,e){return t&&te(e,Re(e),t)},je=n(19);var Le=function(t,e){var n=-1,o=t.length;for(e||(e=Array(o));++n<o;)e[n]=t[n];return e};var Ve=function(t,e){for(var n=-1,o=null==t?0:t.length,i=0,r=[];++n<o;){var s=t[n];e(s,n,t)&&(r[i++]=s)}return r};var Fe=function(){return[]},ze=Object.prototype.propertyIsEnumerable,Be=Object.getOwnPropertySymbols,Ue=Be?function(t){return null==t?[]:(t=Object(t),Ve(Be(t),function(e){return ze.call(t,e)}))}:Fe;var He=function(t,e){return te(t,Ue(t),e)};var qe=function(t,e){for(var n=-1,o=e.length,i=t.length;++n<o;)t[i+n]=e[n];return t},We=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)qe(e,Ue(t)),t=b(t);return e}:Fe;var Ye=function(t,e){return te(t,We(t),e)};var Ge=function(t,e,n){var o=e(t);return ce(t)?o:qe(o,n(t))};var $e=function(t){return Ge(t,Se,Ue)};var Qe=function(t){return Ge(t,Re,We)},Je=yt(o.a,"DataView"),Ke=yt(o.a,"Promise"),Ze=yt(o.a,"Set"),Xe=yt(o.a,"WeakMap"),tn=ft(Je),en=ft(xt),nn=ft(Ke),on=ft(Ze),rn=ft(Xe),sn=g;(Je&&"[object DataView]"!=sn(new Je(new ArrayBuffer(1)))||xt&&"[object Map]"!=sn(new xt)||Ke&&"[object Promise]"!=sn(Ke.resolve())||Ze&&"[object Set]"!=sn(new Ze)||Xe&&"[object WeakMap]"!=sn(new Xe))&&(sn=function(t){var e=g(t),n="[object Object]"==e?t.constructor:void 0,o=n?ft(n):"";if(o)switch(o){case tn:return"[object DataView]";case en:return"[object Map]";case nn:return"[object Promise]";case on:return"[object Set]";case rn:return"[object WeakMap]"}return e});var an=sn,cn=Object.prototype.hasOwnProperty;var ln=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&cn.call(t,"index")&&(n.index=t.index,n.input=t.input),n},dn=o.a.Uint8Array;var un=function(t){var e=new t.constructor(t.byteLength);return new dn(e).set(new dn(t)),e};var hn=function(t,e){var n=e?un(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},fn=/\w*$/;var mn=function(t){var e=new t.constructor(t.source,fn.exec(t));return e.lastIndex=t.lastIndex,e},gn=i?i.prototype:void 0,pn=gn?gn.valueOf:void 0;var bn=function(t){return pn?Object(pn.call(t)):{}};var wn=function(t,e){var n=e?un(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},_n="[object Boolean]",vn="[object Date]",kn="[object Map]",yn="[object Number]",xn="[object RegExp]",An="[object Set]",Cn="[object String]",Tn="[object Symbol]",Mn="[object ArrayBuffer]",Pn="[object DataView]",Sn="[object Float32Array]",En="[object Float64Array]",In="[object Int8Array]",Nn="[object Int16Array]",On="[object Int32Array]",Rn="[object Uint8Array]",Dn="[object Uint8ClampedArray]",jn="[object Uint16Array]",Ln="[object Uint32Array]";var Vn=function(t,e,n){var o=t.constructor;switch(e){case Mn:return un(t);case _n:case vn:return new o(+t);case Pn:return hn(t,n);case Sn:case En:case In:case Nn:case On:case Rn:case Dn:case jn:case Ln:return wn(t,n);case kn:return new o;case yn:case Cn:return new o(t);case xn:return mn(t);case An:return new o;case Tn:return bn(t)}},Fn=Object.create,zn=function(){function t(){}return function(e){if(!ot(e))return{};if(Fn)return Fn(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();var Bn=function(t){return"function"!=typeof t.constructor||Ae(t)?{}:zn(b(t))},Un="[object Map]";var Hn=function(t){return w(t)&&an(t)==Un},qn=we.a&&we.a.isMap,Wn=qn?be(qn):Hn,Yn="[object Set]";var Gn=function(t){return w(t)&&an(t)==Yn},$n=we.a&&we.a.isSet,Qn=$n?be($n):Gn,Jn=1,Kn=2,Zn=4,Xn="[object Arguments]",to="[object Function]",eo="[object GeneratorFunction]",no="[object Object]",oo={};oo[Xn]=oo["[object Array]"]=oo["[object ArrayBuffer]"]=oo["[object DataView]"]=oo["[object Boolean]"]=oo["[object Date]"]=oo["[object Float32Array]"]=oo["[object Float64Array]"]=oo["[object Int8Array]"]=oo["[object Int16Array]"]=oo["[object Int32Array]"]=oo["[object Map]"]=oo["[object Number]"]=oo[no]=oo["[object RegExp]"]=oo["[object Set]"]=oo["[object String]"]=oo["[object Symbol]"]=oo["[object Uint8Array]"]=oo["[object Uint8ClampedArray]"]=oo["[object Uint16Array]"]=oo["[object Uint32Array]"]=!0,oo["[object Error]"]=oo[to]=oo["[object WeakMap]"]=!1;var io=function t(e,n,o,i,r,s){var a,c=n&Jn,l=n&Kn,d=n&Zn;if(o&&(a=r?o(e,i,r,s):o(e)),void 0!==a)return a;if(!ot(e))return e;var u=ce(e);if(u){if(a=ln(e),!c)return Le(e,a)}else{var h=an(e),f=h==to||h==eo;if(Object(le.a)(e))return Object(je.a)(e,c);if(h==no||h==Xn||f&&!r){if(a=l||f?{}:Bn(e),!c)return l?Ye(e,De(a,e)):He(e,Ee(a,e))}else{if(!oo[h])return r?e:{};a=Vn(e,h,c)}}s||(s=new $t);var m=s.get(e);if(m)return m;if(s.set(e,a),Qn(e))return e.forEach(function(i){a.add(t(i,n,o,i,e,s))}),a;if(Wn(e))return e.forEach(function(i,r){a.set(r,t(i,n,o,r,e,s))}),a;var g=d?l?Qe:$e:l?keysIn:Se,p=u?void 0:g(e);return Qt(p||e,function(i,r){p&&(i=e[r=i]),Xt(a,r,t(i,n,o,r,e,s))}),a},ro=4;var so=function(t){return io(t,ro)};class ao{constructor(){this.parent=null}get index(){let t;if(!this.parent)return null;if(-1==(t=this.parent.getChildIndex(this)))throw new M.b("view-node-not-found-in-parent: The node's parent does not contain this node.");return t}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}get document(){return this.parent instanceof ao?this.parent.document:null}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.index),e=e.parent;return t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),o=t.getAncestors(e);let i=0;for(;n[i]==o[i]&&n[i];)i++;return 0===i?null:n[i-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),o=U(e,n);switch(o){case"prefix":return!0;case"extension":return!1;default:return e[o]<n[o]}}isAfter(t){return this!=t&&(this.root===t.root&&!this.isBefore(t))}_remove(){this.parent._removeChildren(this.index)}_fireChange(t,e){this.fire("change:"+t,e),this.parent&&this.parent._fireChange(t,e)}toJSON(){const t=so(this);return delete t.parent,t}is(t){return"node"==t}}B(ao,R);class co extends ao{constructor(t){super(),this._textData=t}is(t){return"text"==t||super.is(t)}get data(){return this._textData}get _data(){return this.data}set _data(t){this._fireChange("text",this),this._textData=t}isSimilar(t){return t instanceof co&&(this===t||this.data===t.data)}_clone(){return new co(this.data)}}class lo{constructor(t,e,n){if(this.textNode=t,e<0||e>t.data.length)throw new M.b("view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.");if(n<0||e+n>t.data.length)throw new M.b("view-textproxy-wrong-length: Given length value is incorrect.");this.data=t.data.substring(e,e+n),this.offsetInText=e}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(t){return"textProxy"==t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this.textNode:this.parent;for(;null!==n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}}function uo(t){const e=new Map;for(const n in t)e.set(n,t[n]);return e}function ho(t){return!(!t||!t[Symbol.iterator])}class fo{constructor(...t){this._patterns=[],this.add(...t)}add(...t){for(let e of t)("string"==typeof e||e instanceof RegExp)&&(e={name:e}),e.classes&&("string"==typeof e.classes||e.classes instanceof RegExp)&&(e.classes=[e.classes]),this._patterns.push(e)}match(...t){for(const e of t)for(const t of this._patterns){const n=mo(e,t);if(n)return{element:e,pattern:t,match:n}}return null}matchAll(...t){const e=[];for(const n of t)for(const t of this._patterns){const o=mo(n,t);o&&e.push({element:n,pattern:t,match:o})}return e.length>0?e:null}getElementName(){if(1!==this._patterns.length)return null;const t=this._patterns[0],e=t.name;return"function"==typeof t||!e||e instanceof RegExp?null:e}}function mo(t,e){if("function"==typeof e)return e(t);const n={};return e.name&&(n.name=function(t,e){if(t instanceof RegExp)return t.test(e);return t===e}(e.name,t.name),!n.name)?null:e.attributes&&(n.attributes=function(t,e){const n=[];for(const o in t){const i=t[o];if(!e.hasAttribute(o))return null;{const t=e.getAttribute(o);if(!0===i)n.push(o);else if(i instanceof RegExp){if(!i.test(t))return null;n.push(o)}else{if(t!==i)return null;n.push(o)}}}return n}(e.attributes,t),!n.attributes)?null:!(e.classes&&(n.classes=function(t,e){const n=[];for(const o of t)if(o instanceof RegExp){const t=e.getClassNames();for(const e of t)o.test(e)&&n.push(e);if(0===n.length)return null}else{if(!e.hasClass(o))return null;n.push(o)}return n}(e.classes,t),!n.classes))&&(!(e.styles&&(n.styles=function(t,e){const n=[];for(const o in t){const i=t[o];if(!e.hasStyle(o))return null;{const t=e.getStyle(o);if(i instanceof RegExp){if(!i.test(t))return null;n.push(o)}else{if(t!==i)return null;n.push(o)}}}return n}(e.styles,t),!n.styles))&&n)}class go extends ao{constructor(t,e,n){if(super(),this.name=t,this._attrs=function(t){t=C(t)?uo(t):new Map(t);for(const[e,n]of t)null===n?t.delete(e):"string"!=typeof n&&t.set(e,String(n));return t}(e),this._children=[],n&&this._insertChild(0,n),this._classes=new Set,this._attrs.has("class")){const t=this._attrs.get("class");bo(this._classes,t),this._attrs.delete("class")}this._styles=new Map,this._attrs.has("style")&&(po(this._styles,this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}is(t,e=null){return e?"element"==t&&e==this.name:"element"==t||t==this.name||super.is(t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.size>0&&(yield"style");for(const t of this._attrs.keys())yield t}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.size>0&&(yield["style",this.getAttribute("style")])}getAttribute(t){if("class"==t)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"!=t)return this._attrs.get(t);if(this._styles.size>0){let t="";for(const[e,n]of this._styles)t+=`${e}:${n};`;return t}}hasAttribute(t){return"class"==t?this._classes.size>0:"style"==t?this._styles.size>0:this._attrs.has(t)}isSimilar(t){if(!(t instanceof go))return!1;if(this===t)return!0;if(this.name!=t.name)return!1;if(this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;for(const[e,n]of this._attrs)if(!t._attrs.has(e)||t._attrs.get(e)!==n)return!1;for(const e of this._classes)if(!t._classes.has(e))return!1;for(const[e,n]of this._styles)if(!t._styles.has(e)||t._styles.get(e)!==n)return!1;return!0}hasClass(...t){for(const e of t)if(!this._classes.has(e))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(t){return this._styles.get(t)}getStyleNames(){return this._styles.keys()}hasStyle(...t){for(const e of t)if(!this._styles.has(e))return!1;return!0}findAncestor(...t){const e=new fo(...t);let n=this.parent;for(;n;){if(e.match(n))return n;n=n.parent}return null}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const t=Array.from(this._classes).sort().join(","),e=Array.from(this._styles).map(t=>`${t[0]}:${t[1]}`).sort().join(";"),n=Array.from(this._attrs).map(t=>`${t[0]}="${t[1]}"`).sort().join(" ");return this.name+(""==t?"":` class="${t}"`)+(""==e?"":` style="${e}"`)+(""==n?"":` ${n}`)}_clone(t=!1){const e=[];if(t)for(const n of this.getChildren())e.push(n._clone(t));const n=new this.constructor(this.name,this._attrs,e);return n._classes=new Set(this._classes),n._styles=new Map(this._styles),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n}_appendChild(t){return this._insertChild(this.childCount,t)}_insertChild(t,e){this._fireChange("children",this);let n=0;const o=function(t){if("string"==typeof t)return[new co(t)];ho(t)||(t=[t]);return Array.from(t).map(t=>"string"==typeof t?new co(t):t instanceof lo?new co(t.data):t)}(e);for(const e of o)null!==e.parent&&e._remove(),e.parent=this,this._children.splice(t,0,e),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_setAttribute(t,e){e=String(e),this._fireChange("attributes",this),"class"==t?bo(this._classes,e):"style"==t?po(this._styles,e):this._attrs.set(t,e)}_removeAttribute(t){return this._fireChange("attributes",this),"class"==t?this._classes.size>0&&(this._classes.clear(),!0):"style"==t?this._styles.size>0&&(this._styles.clear(),!0):this._attrs.delete(t)}_addClass(t){this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach(t=>this._classes.add(t))}_removeClass(t){this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach(t=>this._classes.delete(t))}_setStyle(t,e){if(this._fireChange("attributes",this),C(t)){const e=Object.keys(t);for(const n of e)this._styles.set(n,t[n])}else this._styles.set(t,e)}_removeStyle(t){this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach(t=>this._styles.delete(t))}_setCustomProperty(t,e){this._customProperties.set(t,e)}_removeCustomProperty(t){return this._customProperties.delete(t)}}function po(t,e){let n=null,o=0,i=0,r=null;if(t.clear(),""!==e){";"!=e.charAt(e.length-1)&&(e+=";");for(let s=0;s<e.length;s++){const a=e.charAt(s);if(null===n)switch(a){case":":r||(r=e.substr(o,s-o),i=s+1);break;case'"':case"'":n=a;break;case";":{const n=e.substr(i,s-i);r&&t.set(r.trim(),n.trim()),r=null,o=s+1;break}}else a===n&&(n=null)}}}function bo(t,e){const n=e.split(/\s+/);t.clear(),n.forEach(e=>t.add(e))}class wo extends go{constructor(t,e,n){super(t,e,n),this.getFillerOffset=_o}is(t,e=null){return e?"containerElement"==t&&e==this.name||super.is(t,e):"containerElement"==t||super.is(t)}}function _o(){const t=[...this.getChildren()],e=t[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const e of t)if(!e.is("uiElement"))return null;return this.childCount}var vo=function(t){return t};var ko=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},yo=Math.max;var xo=function(t,e,n){return e=yo(void 0===e?t.length-1:e,0),function(){for(var o=arguments,i=-1,r=yo(o.length-e,0),s=Array(r);++i<r;)s[i]=o[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=o[i];return a[e]=n(s),ko(t,this,a)}};var Ao=function(t){return function(){return t}},Co=Jt?function(t,e){return Jt(t,"toString",{configurable:!0,enumerable:!1,value:Ao(e),writable:!0})}:vo,To=800,Mo=16,Po=Date.now;var So=function(t){var e=0,n=0;return function(){var o=Po(),i=Mo-(o-n);if(n=o,i>0){if(++e>=To)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Co);var Eo=function(t,e){return So(xo(t,e,vo),t+"")};var Io=function(t,e,n){if(!ot(n))return!1;var o=typeof e;return!!("number"==o?Pe(n)&&he(e,n.length):"string"==o&&e in n)&&q(n[e],t)};var No=function(t){return Eo(function(e,n){var o=-1,i=n.length,r=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(r=t.length>3&&"function"==typeof r?(i--,r):void 0,s&&Io(n[0],n[1],s)&&(r=i<3?void 0:r,i=1),e=Object(e);++o<i;){var a=n[o];a&&t(e,a,o,r)}return e})}(function(t,e){te(e,Re(e),t)});const Oo=Symbol("observableProperties"),Ro=Symbol("boundObservables"),Do=Symbol("boundProperties"),jo={set(t,e){if(ot(t))return void Object.keys(t).forEach(e=>{this.set(e,t[e])},this);Vo(this);const n=this[Oo];if(t in this&&!n.has(t))throw new M.b("observable-set-cannot-override: Cannot override an existing property.");Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get:()=>n.get(t),set(e){const o=n.get(t);let i=this.fire("set:"+t,t,e,o);void 0===i&&(i=e),o===i&&n.has(t)||(n.set(t,i),this.fire("change:"+t,t,i,o))}}),this[t]=e},bind(...t){if(!t.length||!Bo(t))throw new M.b("observable-bind-wrong-properties: All properties must be strings.");if(new Set(t).size!==t.length)throw new M.b("observable-bind-duplicate-properties: Properties must be unique.");Vo(this);const e=this[Do];t.forEach(t=>{if(e.has(t))throw new M.b("observable-bind-rebind: Cannot bind the same property more that once.")});const n=new Map;return t.forEach(t=>{const o={property:t,to:[]};e.set(t,o),n.set(t,o)}),{to:Fo,toMany:zo,_observable:this,_bindProperties:t,_to:[],_bindings:n}},unbind(...t){if(!(Oo in this))return;const e=this[Do],n=this[Ro];if(t.length){if(!Bo(t))throw new M.b("observable-unbind-wrong-properties: Properties must be strings.");t.forEach(t=>{const o=e.get(t);if(!o)return;let i,r,s,a;o.to.forEach(t=>{i=t[0],r=t[1],s=n.get(i),(a=s[r]).delete(o),a.size||delete s[r],Object.keys(s).length||(n.delete(i),this.stopListening(i,"change"))}),e.delete(t)})}else n.forEach((t,e)=>{this.stopListening(e,"change")}),n.clear(),e.clear()},decorate(t){const e=this[t];if(!e)throw new M.b("observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.",{object:this,methodName:t});this.on(t,(t,n)=>{t.return=e.apply(this,n)}),this[t]=function(...e){return this.fire(t,e)}}};No(jo,R);var Lo=jo;function Vo(t){Oo in t||(Object.defineProperty(t,Oo,{value:new Map}),Object.defineProperty(t,Ro,{value:new Map}),Object.defineProperty(t,Do,{value:new Map}))}function Fo(...t){const e=function(...t){if(!t.length)throw new M.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.");const e={to:[]};let n;"function"==typeof t[t.length-1]&&(e.callback=t.pop());return t.forEach(t=>{if("string"==typeof t)n.properties.push(t);else{if("object"!=typeof t)throw new M.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.");n={observable:t,properties:[]},e.to.push(n)}}),e}(...t),n=Array.from(this._bindings.keys()),o=n.length;if(!e.callback&&e.to.length>1)throw new M.b("observable-bind-to-no-callback: Binding multiple observables only possible with callback.");if(o>1&&e.callback)throw new M.b("observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.");e.to.forEach(t=>{if(t.properties.length&&t.properties.length!==o)throw new M.b("observable-bind-to-properties-length: The number of properties must match.");t.properties.length||(t.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),function(t,e){e.forEach(e=>{const n=t[Ro];let o;n.get(e.observable)||t.listenTo(e.observable,"change",(i,r)=>{(o=n.get(e.observable)[r])&&o.forEach(e=>{Uo(t,e.property)})})})}(this._observable,this._to),function(t){let e;t._bindings.forEach((n,o)=>{t._to.forEach(i=>{e=i.properties[n.callback?0:t._bindProperties.indexOf(o)],n.to.push([i.observable,e]),function(t,e,n,o){const i=t[Ro],r=i.get(n),s=r||{};s[o]||(s[o]=new Set);s[o].add(e),r||i.set(n,s)}(t._observable,n,i.observable,e)})})}(this),this._bindProperties.forEach(t=>{Uo(this._observable,t)})}function zo(t,e,n){if(this._bindings.size>1)throw new M.b("observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().");this.to(...function(t,e){const n=t.map(t=>[t,e]);return Array.prototype.concat.apply([],n)}(t,e),n)}function Bo(t){return t.every(t=>"string"==typeof t)}function Uo(t,e){const n=t[Do].get(e);let o;o=n.callback?n.callback.apply(t,n.to.map(t=>t[0][t[1]])):(o=n.to[0])[0][o[1]],t.hasOwnProperty(e)?t[e]=o:t.set(e,o)}const Ho=Symbol("document");class qo extends wo{constructor(t,e,n){super(t,e,n),this.set("isReadOnly",!1),this.set("isFocused",!1)}get document(){return this.getCustomProperty(Ho)}set _document(t){if(this.getCustomProperty(Ho))throw new M.b("view-editableelement-document-already-set: View document is already set.");this._setCustomProperty(Ho,t),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",e=>e&&t.selection.editableElement==this),this.listenTo(t.selection,"change",()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this})}}B(qo,Lo);const Wo=Symbol("rootName");class Yo extends qo{constructor(t){super(t),this.rootName="main"}is(t,e=null){return e?"rootElement"==t&&e==this.name||super.is(t,e):"rootElement"==t||super.is(t)}get rootName(){return this.getCustomProperty(Wo)}set rootName(t){this._setCustomProperty(Wo,t)}set _name(t){this.name=t}}class Go{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new M.b("view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.");if(t.direction&&"forward"!=t.direction&&"backward"!=t.direction)throw new M.b("view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this.position=$o.createFromPosition(t.startPosition):this.position=$o.createFromPosition(t.boundaries["backward"==t.direction?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(t){let e,n,o;do{o=this.position,({done:e,value:n}=this.next())}while(!e&&t(n));e||(this.position=o)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let t=$o.createFromPosition(this.position);const e=this.position,n=t.parent;if(null===n.parent&&t.offset===n.childCount)return{done:!0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};let o;if(n instanceof co){if(t.isAtEnd)return this.position=$o.createAfter(n),this._next();o=n.data[t.offset]}else o=n.getChild(t.offset);if(o instanceof go)return this.shallow?t.offset++:t=new $o(o,0),this.position=t,this._formatReturnValue("elementStart",o,e,t,1);if(o instanceof co){if(this.singleCharacters)return t=new $o(o,0),this.position=t,this._next();{let n,i=o.data.length;return o==this._boundaryEndParent?(i=this.boundaries.end.offset,n=new lo(o,0,i),t=$o.createAfter(n)):(n=new lo(o,0,o.data.length),t.offset++),this.position=t,this._formatReturnValue("text",n,e,t,i)}}if("string"==typeof o){let o;if(this.singleCharacters)o=1;else{o=(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-t.offset}const i=new lo(n,t.offset,o);return t.offset+=o,this.position=t,this._formatReturnValue("text",i,e,t,o)}return t=$o.createAfter(n),this.position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,e,t)}_previous(){let t=$o.createFromPosition(this.position);const e=this.position,n=t.parent;if(null===n.parent&&0===t.offset)return{done:!0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};let o;if(n instanceof co){if(t.isAtStart)return this.position=$o.createBefore(n),this._previous();o=n.data[t.offset-1]}else o=n.getChild(t.offset-1);if(o instanceof go)return this.shallow?(t.offset--,this.position=t,this._formatReturnValue("elementStart",o,e,t,1)):(t=new $o(o,o.childCount),this.position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",o,e,t));if(o instanceof co){if(this.singleCharacters)return t=new $o(o,o.data.length),this.position=t,this._previous();{let n,i=o.data.length;if(o==this._boundaryStartParent){const e=this.boundaries.start.offset;i=(n=new lo(o,e,o.data.length-e)).data.length,t=$o.createBefore(n)}else n=new lo(o,0,o.data.length),t.offset--;return this.position=t,this._formatReturnValue("text",n,e,t,i)}}if("string"==typeof o){let o;if(this.singleCharacters)o=1;else{const e=n===this._boundaryStartParent?this.boundaries.start.offset:0;o=t.offset-e}t.offset-=o;const i=new lo(n,t.offset,o);return this.position=t,this._formatReturnValue("text",i,e,t,o)}return t=$o.createBefore(n),this.position=t,this._formatReturnValue("elementStart",n,e,t,1)}_formatReturnValue(t,e,n,o,i){return e instanceof lo&&(e.offsetInText+e.data.length==e.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=$o.createAfter(e.textNode):(o=$o.createAfter(e.textNode),this.position=o)),0===e.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=$o.createBefore(e.textNode):(o=$o.createBefore(e.textNode),this.position=o))),{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:o,length:i}}}}class $o{constructor(t,e){this.parent=t,this.offset=e}get nodeAfter(){return this.parent.is("text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const t=this.parent.is("text")?this.parent.data.length:this.parent.childCount;return this.offset===t}get root(){return this.parent.root}get editableElement(){let t=this.parent;for(;!(t instanceof qo);){if(!t.parent)return null;t=t.parent}return t}getShiftedBy(t){const e=$o.createFromPosition(this),n=e.offset+t;return e.offset=n<0?0:n,e}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new Go(e);return n.skip(t),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let o=0;for(;e[o]==n[o]&&e[o];)o++;return 0===o?null:e[o-1]}isEqual(t){return this.parent==t.parent&&this.offset==t.offset}isBefore(t){return"before"==this.compareWith(t)}isAfter(t){return"after"==this.compareWith(t)}compareWith(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";const e=this.parent.is("node")?this.parent.getPath():[],n=t.parent.is("node")?t.parent.getPath():[];e.push(this.offset),n.push(t.offset);const o=U(e,n);switch(o){case"prefix":return"before";case"extension":return"after";default:return e[o]<n[o]?"before":"after"}}static createAt(t,e){if(t instanceof $o)return this.createFromPosition(t);{const n=t;if("end"==e)e=n.is("text")?n.data.length:n.childCount;else{if("before"==e)return this.createBefore(n);if("after"==e)return this.createAfter(n);e||(e=0)}return new $o(n,e)}}static createAfter(t){if(t.is("textProxy"))return new $o(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new M.b("view-position-after-root: You can not make position after root.",{root:t});return new $o(t.parent,t.index+1)}static createBefore(t){if(t.is("textProxy"))return new $o(t.textNode,t.offsetInText);if(!t.parent)throw new M.b("view-position-before-root: You can not make position before root.",{root:t});return new $o(t.parent,t.index)}static createFromPosition(t){return new this(t.parent,t.offset)}}class Qo{constructor(t,e=null){this.start=$o.createFromPosition(t),this.end=e?$o.createFromPosition(e):$o.createFromPosition(t)}*[Symbol.iterator](){yield*new Go({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(Jo,{direction:"backward"}),e=this.end.getLastMatchingPosition(Jo);return t.parent.is("text")&&t.isAtStart&&(t=$o.createBefore(t.parent)),e.parent.is("text")&&e.isAtEnd&&(e=$o.createAfter(e.parent)),new Qo(t,e)}getTrimmed(){let t=this.start.getLastMatchingPosition(Jo);if(t.isAfter(this.end)||t.isEqual(this.end))return new Qo(t,t);let e=this.end.getLastMatchingPosition(Jo,{direction:"backward"});const n=t.nodeAfter,o=e.nodeBefore;return n&&n.is("text")&&(t=new $o(n,0)),o&&o.is("text")&&(e=new $o(o,o.data.length)),new Qo(t,e)}isEqual(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),o=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&o}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new Qo(this.start,t.start)),this.containsPosition(t.end)&&e.push(new Qo(t.end,this.end))):e.push(Qo.createFromRange(this)),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new Qo(e,n)}return null}getWalker(t={}){return t.boundaries=this,new Go(t)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new Go(t);for(const t of e)yield t.item}*getPositions(t={}){t.boundaries=this;const e=new Go(t);yield e.position;for(const t of e)yield t.nextPosition}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}static createFromParentsAndOffsets(t,e,n,o){return new this(new $o(t,e),new $o(n,o))}static createFromRange(t){return new this(t.start,t.end)}static createFromPositionAndShift(t,e){const n=t,o=t.getShiftedBy(e);return e>0?new this(n,o):new this(o,n)}static createIn(t){return this.createFromParentsAndOffsets(t,0,t,t.childCount)}static createOn(t){const e=t.is("textProxy")?t.offsetSize:1;return this.createFromPositionAndShift($o.createBefore(t),e)}static createCollapsedAt(t,e){const n=$o.createAt(t,e),o=$o.createFromPosition(n);return new Qo(n,o)}}function Jo(t){return!(!t.item.is("attributeElement")&&!t.item.is("uiElement"))}function Ko(t){let e=0;for(const n of t)e++;return e}class Zo{constructor(t=null,e,n){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(t,e,n)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1],e=this._lastRangeBackward?t.end:t.start;return $o.createFromPosition(e)}get focus(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1],e=this._lastRangeBackward?t.start:t.end;return $o.createFromPosition(e)}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const t of this._ranges)yield Qo.createFromRange(t)}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?Qo.createFromRange(t):null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?Qo.createFromRange(t):null}getFirstPosition(){const t=this.getFirstRange();return t?$o.createFromPosition(t.start):null}getLastPosition(){const t=this.getLastRange();return t?$o.createFromPosition(t.end):null}isEqual(t){if(this.isFake!=t.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel)return!1;if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const o of t._ranges)if(e.isEqual(o)){n=!0;break}if(!n)return!1}return!0}isSimilar(t){if(this.isBackward!=t.isBackward)return!1;const e=Ko(this.getRanges());if(e!=Ko(t.getRanges()))return!1;if(0==e)return!0;for(let e of this.getRanges()){e=e.getTrimmed();let n=!1;for(let o of t.getRanges())if(o=o.getTrimmed(),e.start.isEqual(o.start)&&e.end.isEqual(o.end)){n=!0;break}if(!n)return!1}return!0}getSelectedElement(){if(1!==this.rangeCount)return null;const t=this.getFirstRange(),e=t.start.nodeAfter,n=t.end.nodeBefore;return e instanceof go&&e==n?e:null}setTo(t,e,n){if(null===t)this._setRanges([]),this._setFakeOptions(e);else if(t instanceof Zo||t instanceof Xo)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof Qo)this._setRanges([t],e&&e.backward),this._setFakeOptions(e);else if(t instanceof $o)this._setRanges([new Qo(t)]),this._setFakeOptions(e);else if(t instanceof ao){const o=!!n&&!!n.backward;let i;if(void 0===e)throw new M.b("view-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.");i="in"==e?Qo.createIn(t):"on"==e?Qo.createOn(t):Qo.createCollapsedAt(t,e),this._setRanges([i],o),this._setFakeOptions(n)}else{if(!ho(t))throw new M.b("view-selection-setTo-not-selectable: Cannot set selection to given place.");this._setRanges(t,e&&e.backward),this._setFakeOptions(e)}this.fire("change")}setFocus(t,e){if(null===this.anchor)throw new M.b("view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.");const n=$o.createAt(t,e);if("same"==n.compareWith(this.focus))return;const o=this.anchor;this._ranges.pop(),"before"==n.compareWith(o)?this._addRange(new Qo(n,o),!0):this._addRange(new Qo(o,n)),this.fire("change")}_setRanges(t,e=!1){t=Array.from(t),this._ranges=[];for(const e of t)this._addRange(e);this._lastRangeBackward=!!e}_setFakeOptions(t={}){this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||""}_addRange(t,e=!1){if(!(t instanceof Qo))throw new M.b("view-selection-add-range-not-range: Selection range set to an object that is not an instance of view.Range");this._pushRange(t),this._lastRangeBackward=!!e}_pushRange(t){for(const e of this._ranges)if(t.isIntersecting(e))throw new M.b("view-selection-range-intersects: Trying to add a range that intersects with another range from selection.",{addedRange:t,intersectingRange:e});this._ranges.push(Qo.createFromRange(t))}}B(Zo,R);class Xo{constructor(t=null,e,n){this._selection=new Zo,this._selection.delegate("change").to(this),this._selection.setTo(t,e,n)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(t){return this._selection.isEqual(t)}isSimilar(t){return this._selection.isSimilar(t)}_setTo(t,e,n){this._selection.setTo(t,e,n)}_setFocus(t,e){this._selection.setFocus(t,e)}}B(Xo,R);class ti{constructor(t={}){this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[]}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,e){let n;const o=this._idProperty;if(o in t){if("string"!=typeof(n=t[o]))throw new M.b("collection-add-invalid-id");if(this.get(n))throw new M.b("collection-add-item-already-exists")}else t[o]=n=E();if(void 0===e)e=this._items.length;else if(e>this._items.length||e<0)throw new M.b("collection-add-item-invalid-index");return this._items.splice(e,0,t),this._itemMap.set(n,t),this.fire("add",t,e),this}get(t){let e;if("string"==typeof t)e=this._itemMap.get(t);else{if("number"!=typeof t)throw new M.b("collection-get-invalid-arg: Index or id must be given.");e=this._items[t]}return e||null}getIndex(t){let e;return e="string"==typeof t?this._itemMap.get(t):t,this._items.indexOf(e)}remove(t){let e,n,o,i=!1;const r=this._idProperty;if("string"==typeof t?(n=t,i=!(o=this._itemMap.get(n)),o&&(e=this._items.indexOf(o))):"number"==typeof t?(e=t,i=!(o=this._items[e]),o&&(n=o[r])):(n=(o=t)[r],i=-1==(e=this._items.indexOf(o))||!this._itemMap.get(n)),i)throw new M.b("collection-remove-404: Item not found.");this._items.splice(e,1),this._itemMap.delete(n);const s=this._bindToInternalToExternalMap.get(o);return this._bindToInternalToExternalMap.delete(o),this._bindToExternalToInternalMap.delete(s),this.fire("remove",o,e),o}map(t,e){return this._items.map(t,e)}find(t,e){return this._items.find(t,e)}filter(t,e){return this._items.filter(t,e)}clear(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;)this.remove(0)}bindTo(t){if(this._bindToCollection)throw new M.b("collection-bind-to-rebind: The collection cannot be bound more than once.");return this._bindToCollection=t,{as:t=>{this._setUpBindToBinding(e=>new t(e))},using:t=>{"function"==typeof t?this._setUpBindToBinding(e=>t(e)):this._setUpBindToBinding(e=>e[t])}}}_setUpBindToBinding(t){const e=this._bindToCollection,n=(n,o,i)=>{const r=e._bindToCollection==this,s=e._bindToInternalToExternalMap.get(o);if(r&&s)this._bindToExternalToInternalMap.set(o,s),this._bindToInternalToExternalMap.set(s,o);else{const n=t(o);if(!n)return void this._skippedIndexesFromExternal.push(i);let r=i;for(const t of this._skippedIndexesFromExternal)i>t&&r--;for(const t of e._skippedIndexesFromExternal)r>=t&&r++;this._bindToExternalToInternalMap.set(o,n),this._bindToInternalToExternalMap.set(n,o),this.add(n,r);for(let t=0;t<e._skippedIndexesFromExternal.length;t++)r<=e._skippedIndexesFromExternal[t]&&e._skippedIndexesFromExternal[t]++}};for(const t of e)n(0,t,e.getIndex(t));this.listenTo(e,"add",n),this.listenTo(e,"remove",(t,e,n)=>{const o=this._bindToExternalToInternalMap.get(e);o&&this.remove(o),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((t,e)=>(n<e&&t.push(e-1),n>e&&t.push(e),t),[])})}[Symbol.iterator](){return this._items[Symbol.iterator]()}}B(ti,R);class ei{constructor(){this.selection=new Xo,this.roots=new ti({idProperty:"rootName"}),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(t="main"){return this.roots.get(t)}registerPostFixer(t){this._postFixers.add(t)}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(e=n(t))break}while(e)}}B(ei,Lo);const ni=10;class oi extends go{constructor(t,e,n){super(t,e,n),this.getFillerOffset=ii,this._priority=ni,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new M.b("attribute-element-get-elements-with-same-id-no-id: Cannot get elements with the same id for an attribute element without id.");return new Set(this._clonesGroup)}is(t,e=null){return e?"attributeElement"==t&&e==this.name||super.is(t,e):"attributeElement"==t||super.is(t)}isSimilar(t){return null!==this.id||null!==t.id?this.id===t.id:super.isSimilar(t)&&this.priority==t.priority}_clone(t){const e=super._clone(t);return e._priority=this._priority,e._id=this._id,e}}function ii(){if(ri(this))return null;let t=this.parent;for(;t&&t.is("attributeElement");){if(ri(t)>1)return null;t=t.parent}return!t||ri(t)>1?null:this.childCount}function ri(t){return Array.from(t.getChildren()).filter(t=>!t.is("uiElement")).length}oi.DEFAULT_PRIORITY=ni;class si extends go{constructor(t,e,n){super(t,e,n),this.getFillerOffset=ai}is(t,e=null){return e?"emptyElement"==t&&e==this.name||super.is(t,e):"emptyElement"==t||super.is(t)}_insertChild(t,e){if(e&&(e instanceof ao||Array.from(e).length>0))throw new M.b("view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.")}}function ai(){return null}const ci=navigator.userAgent.toLowerCase();var li={isMac:function(t){return t.indexOf("macintosh")>-1}(ci),isEdge:function(t){return!!t.match(/edge\/(\d+.?\d*)/)}(ci)};const di={"⌘":"ctrl","⇧":"shift","⌥":"alt"},ui={ctrl:"⌘",shift:"⇧",alt:"⌥"},hi=function(){const t={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448};for(let e=65;e<=90;e++){const n=String.fromCharCode(e);t[n.toLowerCase()]=e}for(let e=48;e<=57;e++)t[e-48]=e;for(let e=112;e<=123;e++)t["f"+(e-111)]=e;return t}();function fi(t){let e;if("string"==typeof t){if(!(e=hi[t.toLowerCase()]))throw new M.b("keyboard-unknown-key: Unknown key name.",{key:t})}else e=t.keyCode+(t.altKey?hi.alt:0)+(t.ctrlKey?hi.ctrl:0)+(t.shiftKey?hi.shift:0);return e}function mi(t){return"string"==typeof t&&(t=gi(t)),t.map(t=>"string"==typeof t?fi(t):t).reduce((t,e)=>e+t,0)}function gi(t){return t.split(/\s*\+\s*/)}class pi extends go{constructor(t,e,n){super(t,e,n),this.getFillerOffset=wi}is(t,e=null){return e?"uiElement"==t&&e==this.name||super.is(t,e):"uiElement"==t||super.is(t)}_insertChild(t,e){if(e&&(e instanceof ao||Array.from(e).length>0))throw new M.b("view-uielement-cannot-add: Cannot add child nodes to UIElement instance.")}render(t){return this.toDomElement(t)}toDomElement(t){const e=t.createElement(this.name);for(const t of this.getAttributeKeys())e.setAttribute(t,this.getAttribute(t));return e}}function bi(t){t.document.on("keydown",(e,n)=>(function(t,e,n){if(e.keyCode==hi.arrowright){const t=e.domTarget.ownerDocument.defaultView.getSelection(),o=1==t.rangeCount&&t.getRangeAt(0).collapsed;if(o||e.shiftKey){const e=t.focusNode,i=t.focusOffset,r=n.domPositionToView(e,i);if(null===r)return;let s=!1;const a=r.getLastMatchingPosition(t=>(t.item.is("uiElement")&&(s=!0),!(!t.item.is("uiElement")&&!t.item.is("attributeElement"))));if(s){const e=n.viewPositionToDom(a);o?t.collapse(e.parent,e.offset):t.extend(e.parent,e.offset)}}}})(0,n,t.domConverter))}function wi(){return null}class _i{constructor(t){this._children=[],t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(t){return"documentFragment"==t}_appendChild(t){return this._insertChild(this.childCount,t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(t,e){this._fireChange("children",this);let n=0;const o=function(t){if("string"==typeof t)return[new co(t)];ho(t)||(t=[t]);return Array.from(t).map(t=>"string"==typeof t?new co(t):t instanceof lo?new co(t.data):t)}(e);for(const e of o)null!==e.parent&&e._remove(),e.parent=this,this._children.splice(t,0,e),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_fireChange(t,e){this.fire("change:"+t,e)}}B(_i,R);class vi{constructor(t){this.document=t,this._cloneGroups=new Map}setSelection(t,e,n){this.document.selection._setTo(t,e,n)}setSelectionFocus(t,e){this.document.selection._setFocus(t,e)}createText(t){return new co(t)}createAttributeElement(t,e,n={}){const o=new oi(t,e);return n.priority&&(o._priority=n.priority),n.id&&(o._id=n.id),o}createContainerElement(t,e){return new wo(t,e)}createEditableElement(t,e){const n=new qo(t,e);return n._document=this.document,n}createEmptyElement(t,e){return new si(t,e)}createUIElement(t,e,n){const o=new pi(t,e);return n&&(o.render=n),o}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){C(t)&&void 0===n&&(n=e),n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}breakAttributes(t){return t instanceof $o?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const e=t.parent;if(!e.is("containerElement"))throw new M.b("view-writer-break-non-container-element: Trying to break an element which is not a container element.");if(!e.parent)throw new M.b("view-writer-break-root: Trying to break root element.");if(t.isAtStart)return $o.createBefore(e);if(!t.isAtEnd){const n=e._clone(!1);this.insert($o.createAfter(e),n);const o=new Qo(t,$o.createAt(e,"end")),i=new $o(n,0);this.move(o,i)}return $o.createAfter(e)}mergeAttributes(t){const e=t.offset,n=t.parent;if(n.is("text"))return t;if(n.is("attributeElement")&&0===n.childCount){const t=n.parent,e=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new $o(t,e))}const o=n.getChild(e-1),i=n.getChild(e);if(!o||!i)return t;if(o.is("text")&&i.is("text"))return Ci(o,i);if(o.is("attributeElement")&&i.is("attributeElement")&&o.isSimilar(i)){const t=o.childCount;return o._appendChild(i.getChildren()),i._remove(),this._removeFromClonedElementsGroup(i),this.mergeAttributes(new $o(o,t))}return t}mergeContainers(t){const e=t.nodeBefore,n=t.nodeAfter;if(!(e&&n&&e.is("containerElement")&&n.is("containerElement")))throw new M.b("view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.");const o=e.getChild(e.childCount-1),i=o instanceof co?$o.createAt(o,"end"):$o.createAt(e,"end");return this.move(Qo.createIn(n),$o.createAt(e,"end")),this.remove(Qo.createOn(n)),i}insert(t,e){(function t(e){for(const n of e){if(!Ti.some(t=>n instanceof t))throw new M.b("view-writer-insert-invalid-node");n.is("text")||t(n.getChildren())}})(e=ho(e)?[...e]:[e]);const n=ki(t);if(!n)throw new M.b("view-writer-invalid-position-container");const o=this._breakAttributes(t,!0),i=n._insertChild(o.offset,e);for(const t of e)this._addToClonedElementsGroup(t);const r=o.getShiftedBy(i),s=this.mergeAttributes(o);if(0===i)return new Qo(s,s);{s.isEqual(o)||r.offset--;const t=this.mergeAttributes(r);return new Qo(s,t)}}remove(t){const e=t instanceof Qo?t:Qo.createOn(t);if(Pi(e),e.isCollapsed)return new _i;const{start:n,end:o}=this._breakAttributesRange(e,!0),i=n.parent,r=o.offset-n.offset,s=i._removeChildren(n.offset,r);for(const t of s)this._removeFromClonedElementsGroup(t);const a=this.mergeAttributes(n);return e.start=a,e.end=$o.createFromPosition(a),new _i(s)}clear(t,e){Pi(t);const n=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const o of n){const n=o.item;let i;if(n.is("element")&&e.isSimilar(n))i=Qo.createOn(n);else if(!o.nextPosition.isAfter(t.start)&&n.is("textProxy")){const t=n.getAncestors().find(t=>t.is("element")&&e.isSimilar(t));t&&(i=Qo.createIn(t))}i&&(i.end.isAfter(t.end)&&(i.end=t.end),i.start.isBefore(t.start)&&(i.start=t.start),this.remove(i))}}move(t,e){let n;if(e.isAfter(t.end)){const o=(e=this._breakAttributes(e,!0)).parent,i=o.childCount;t=this._breakAttributesRange(t,!0),n=this.remove(t),e.offset+=o.childCount-i}else n=this.remove(t);return this.insert(e,n)}wrap(t,e){if(!(e instanceof oi))throw new M.b("view-writer-wrap-invalid-attribute");if(Pi(t),t.isCollapsed){let n=t.start;n.parent.is("element")&&!function(t){return Array.from(t.getChildren()).some(t=>!t.is("uiElement"))}(n.parent)&&(n=n.getLastMatchingPosition(t=>t.item.is("uiElement"))),n=this._wrapPosition(n,e);const o=this.document.selection;return o.isCollapsed&&o.getFirstPosition().isEqual(t.start)&&this.setSelection(n),new Qo(n)}return this._wrapRange(t,e)}unwrap(t,e){if(!(e instanceof oi))throw new M.b("view-writer-unwrap-invalid-attribute");if(Pi(t),t.isCollapsed)return t;const{start:n,end:o}=this._breakAttributesRange(t,!0);if(o.isEqual(n.getShiftedBy(1))){const t=n.nodeAfter;if(!e.isSimilar(t)&&t instanceof oi&&this._unwrapAttributeElement(e,t)){const t=this.mergeAttributes(n);t.isEqual(n)||o.offset--;const e=this.mergeAttributes(o);return new Qo(t,e)}}const i=n.parent,r=this._unwrapChildren(i,n.offset,o.offset,e),s=this.mergeAttributes(r.start);s.isEqual(r.start)||r.end.offset--;const a=this.mergeAttributes(r.end);return new Qo(s,a)}rename(t,e){const n=new wo(t,e.getAttributes());return this.insert($o.createAfter(e),n),this.move(Qo.createIn(e),$o.createAt(n)),this.remove(Qo.createOn(e)),n}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}_wrapChildren(t,e,n,o){let i=e;const r=[];for(;i<n;){const e=t.getChild(i),n=e.is("text"),s=e.is("attributeElement"),a=e.is("emptyElement"),c=e.is("uiElement");if(n||a||c||s&&yi(o,e)){const n=o._clone();e._remove(),n._appendChild(e),t._insertChild(i,n),this._addToClonedElementsGroup(n),r.push(new $o(t,i))}else s&&this._wrapChildren(e,0,e.childCount,o);i++}let s=0;for(const t of r){if(t.offset-=s,t.offset==e)continue;this.mergeAttributes(t).isEqual(t)||(s++,n--)}return Qo.createFromParentsAndOffsets(t,e,t,n)}_unwrapChildren(t,e,n,o){let i=e;const r=[];for(;i<n;){const e=t.getChild(i);if(e.isSimilar(o)){const o=e.getChildren(),s=e.childCount;e._remove(),t._insertChild(i,o),this._removeFromClonedElementsGroup(e),r.push(new $o(t,i),new $o(t,i+s)),i+=s,n+=s-1}else e.is("attributeElement")&&this._unwrapChildren(e,0,e.childCount,o),i++}let s=0;for(const t of r){if(t.offset-=s,t.offset==e||t.offset==n)continue;this.mergeAttributes(t).isEqual(t)||(s++,n--)}return Qo.createFromParentsAndOffsets(t,e,t,n)}_wrapRange(t,e){if(function(t){return t.start.parent==t.end.parent&&t.start.parent.is("attributeElement")&&0===t.start.offset&&t.end.offset===t.start.parent.childCount}(t)&&this._wrapAttributeElement(e,t.start.parent)){const e=t.start.parent,n=this.mergeAttributes($o.createAfter(e)),o=this.mergeAttributes($o.createBefore(e));return new Qo(o,n)}const{start:n,end:o}=this._breakAttributesRange(t,!0);if(o.isEqual(n.getShiftedBy(1))){const t=n.nodeAfter;if(t instanceof oi&&this._wrapAttributeElement(e,t)){const t=this.mergeAttributes(n);t.isEqual(n)||o.offset--;const e=this.mergeAttributes(o);return new Qo(t,e)}}const i=n.parent,r=this._unwrapChildren(i,n.offset,o.offset,e),s=this._wrapChildren(i,r.start.offset,r.end.offset,e),a=this.mergeAttributes(s.start);a.isEqual(s.start)||s.end.offset--;const c=this.mergeAttributes(s.end);return new Qo(a,c)}_wrapPosition(t,e){if(e.isSimilar(t.parent))return xi($o.createFromPosition(t));t.parent.is("text")&&(t=Ai(t));const n=this.createAttributeElement();n._priority=Number.POSITIVE_INFINITY,n.isSimilar=(()=>!1),t.parent._insertChild(t.offset,n);const o=new Qo(t,t.getShiftedBy(1));this.wrap(o,e);const i=new $o(n.parent,n.index);n._remove();const r=i.nodeBefore,s=i.nodeAfter;return r instanceof co&&s instanceof co?Ci(r,s):xi(i)}_wrapAttributeElement(t,e){if(!Si(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if("class"!==n&&"style"!==n&&e.hasAttribute(n)&&e.getAttribute(n)!==t.getAttribute(n))return!1;for(const n of t.getStyleNames())if(e.hasStyle(n)&&e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())"class"!==n&&"style"!==n&&(e.hasAttribute(n)||this.setAttribute(n,t.getAttribute(n),e));for(const n of t.getStyleNames())e.hasStyle(n)||this.setStyle(n,t.getStyle(n),e);for(const n of t.getClassNames())e.hasClass(n)||this.addClass(n,e);return!0}_unwrapAttributeElement(t,e){if(!Si(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if("class"!==n&&"style"!==n&&(!e.hasAttribute(n)||e.getAttribute(n)!==t.getAttribute(n)))return!1;if(!e.hasClass(...t.getClassNames()))return!1;for(const n of t.getStyleNames())if(!e.hasStyle(n)||e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())"class"!==n&&"style"!==n&&this.removeAttribute(n,e);return this.removeClass(Array.from(t.getClassNames()),e),this.removeStyle(Array.from(t.getStyleNames()),e),!0}_breakAttributesRange(t,e=!1){const n=t.start,o=t.end;if(Pi(t),t.isCollapsed){const n=this._breakAttributes(t.start,e);return new Qo(n,n)}const i=this._breakAttributes(o,e),r=i.parent.childCount,s=this._breakAttributes(n,e);return i.offset+=i.parent.childCount-r,new Qo(s,i)}_breakAttributes(t,e=!1){const n=t.offset,o=t.parent;if(t.parent.is("emptyElement"))throw new M.b("view-writer-cannot-break-empty-element");if(t.parent.is("uiElement"))throw new M.b("view-writer-cannot-break-ui-element");if(!e&&o.is("text")&&Mi(o.parent))return $o.createFromPosition(t);if(Mi(o))return $o.createFromPosition(t);if(o.is("text"))return this._breakAttributes(Ai(t),e);if(n==o.childCount){const t=new $o(o.parent,o.index+1);return this._breakAttributes(t,e)}if(0===n){const t=new $o(o.parent,o.index);return this._breakAttributes(t,e)}{const t=o.index+1,i=o._clone();o.parent._insertChild(t,i),this._addToClonedElementsGroup(i);const r=o.childCount-n,s=o._removeChildren(n,r);i._appendChild(s);const a=new $o(o.parent,t);return this._breakAttributes(a,e)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(const e of t.getChildren())this._addToClonedElementsGroup(e);const e=t.id;if(!e)return;let n=this._cloneGroups.get(e);n||(n=new Set,this._cloneGroups.set(e,n)),n.add(t),t._clonesGroup=n}_removeFromClonedElementsGroup(t){if(t.is("element"))for(const e of t.getChildren())this._removeFromClonedElementsGroup(e);const e=t.id;if(!e)return;const n=this._cloneGroups.get(e);n&&n.delete(t)}}function ki(t){let e=t.parent;for(;!Mi(e);){if(!e)return;e=e.parent}return e}function yi(t,e){return t.priority<e.priority||!(t.priority>e.priority)&&t.getIdentity()<e.getIdentity()}function xi(t){const e=t.nodeBefore;if(e&&e.is("text"))return new $o(e,e.data.length);const n=t.nodeAfter;return n&&n.is("text")?new $o(n,0):t}function Ai(t){if(t.offset==t.parent.data.length)return new $o(t.parent.parent,t.parent.index+1);if(0===t.offset)return new $o(t.parent.parent,t.parent.index);const e=t.parent.data.slice(t.offset);return t.parent._data=t.parent.data.slice(0,t.offset),t.parent.parent._insertChild(t.parent.index+1,new co(e)),new $o(t.parent.parent,t.parent.index+1)}function Ci(t,e){const n=t.data.length;return t._data+=e.data,e._remove(),new $o(t,n)}const Ti=[co,oi,wo,si,pi];function Mi(t){return t&&(t.is("containerElement")||t.is("documentFragment"))}function Pi(t){const e=ki(t.start),n=ki(t.end);if(!e||!n||e!==n)throw new M.b("view-writer-invalid-range-container")}function Si(t,e){return null===t.id&&null===e.id}function Ei(t){return"[object Text]"==Object.prototype.toString.call(t)}const Ii=t=>{const e=t.createElement("br");return e.dataset.ckeFiller=!0,e},Ni=t=>t.createTextNode(" "),Oi=7;let Ri="";for(let t=0;t<Oi;t++)Ri+="​";function Di(t){return Ei(t)&&t.data.substr(0,Oi)===Ri}function ji(t){return t.data.length==Oi&&Di(t)}function Li(t){return Di(t)?t.data.slice(Oi):t.data}const Vi=new WeakMap;function Fi(t,e){let n=Vi.get(e);return n||(n=e(window.document),Vi.set(e,n)),t.isEqualNode(n)}function zi(t,e){if(e.keyCode==hi.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(1==t.rangeCount&&t.getRangeAt(0).collapsed){const e=t.getRangeAt(0).startContainer,n=t.getRangeAt(0).startOffset;Di(e)&&n<=Oi&&t.collapse(e,0)}}}function Bi(t,e,n){let o,i;if(n=n||function(t,e){return t===e},e.length<t.length){const n=t;t=e,e=n,o="delete",i="insert"}else o="insert",i="delete";const r=t.length,s=e.length,a=s-r,c={},l={};function d(a){const d=(void 0!==l[a-1]?l[a-1]:-1)+1,u=void 0!==l[a+1]?l[a+1]:-1,h=d>u?-1:1;c[a+h]&&(c[a]=c[a+h].slice(0)),c[a]||(c[a]=[]),c[a].push(d>u?o:i);let f=Math.max(d,u),m=f-a;for(;m<r&&f<s&&n(t[m],e[f]);)m++,f++,c[a].push("equal");return f}let u,h=0;do{for(u=-h;u<a;u++)l[u]=d(u);for(u=a+h;u>a;u--)l[u]=d(u);l[a]=d(a),h++}while(l[a]!==s);return c[a].slice(1)}function Ui(t,e,n){t.insertBefore(n,t.childNodes[e]||null)}function Hi(t){const e=t.parentNode;e&&e.removeChild(t)}function qi(t){if(t){if(t.defaultView)return t instanceof t.defaultView.Document;if(t.ownerDocument&&t.ownerDocument.defaultView)return t instanceof t.ownerDocument.defaultView.Node}return!1}function Wi(t,e){if(t===e)return[];return function(t,e){const n=[],{firstIndex:o,lastIndexOld:i,lastIndexNew:r}=e;r-o>0&&n.push({index:o,type:"insert",values:t.substring(o,r).split("")});i-o>0&&n.push({index:o+(r-o),type:"delete",howMany:i-o});return n}(e,function(t,e){const n=Yi(t,e),o=Gi(t,n),i=Gi(e,n),r=Yi(o,i),s=t.length-r,a=e.length-r;return{firstIndex:n,lastIndexOld:s,lastIndexNew:a}}(t,e))}function Yi(t,e){for(let n=0;n<Math.max(t.length,e.length);n++)if(t[n]!==e[n])return n}function Gi(t,e){return t.substring(e).split("").reverse().join("")}class $i{constructor(t,e){this.domDocuments=new Set,this.domConverter=t,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=e,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(t,e){if("text"===t)this.domConverter.mapViewToDom(e.parent)&&this.markedTexts.add(e);else{if(!this.domConverter.mapViewToDom(e))return;if("attributes"===t)this.markedAttributes.add(e);else{if("children"!==t)throw new M.b("view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.");this.markedChildren.add(e)}}}render(){let t;for(const t of this.markedChildren)this._updateChildrenMappings(t);this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent));for(const t of this.markedAttributes)this._updateAttrs(t);for(const e of this.markedChildren)this._updateChildren(e,{inlineFillerPosition:t});for(const e of this.markedTexts)!this.markedChildren.has(e.parent)&&this.domConverter.mapViewToDom(e.parent)&&this._updateText(e,{inlineFillerPosition:t});if(t){const e=this.domConverter.viewPositionToDom(t),n=e.parent.ownerDocument;Di(e.parent)?this._inlineFiller=e.parent:this._inlineFiller=Qi(n,e.parent,e.offset)}else this._inlineFiller=null;this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=this.domConverter.mapViewToDom(t).childNodes,o=Array.from(this.domConverter.viewChildrenToDom(t,e.ownerDocument,{withChildren:!1})),i=this._diffNodeLists(n,o),r=this._findReplaceActions(i,n,o);if(-1!==r.indexOf("replace")){const e={equal:0,insert:0,delete:0};for(const i of r)if("replace"===i){const i=e.equal+e.insert,r=e.equal+e.delete,s=t.getChild(i);s&&!s.is("uiElement")&&this._updateElementMappings(s,n[r]),Hi(o[i]),e.equal++}else e[i]++}}_updateElementMappings(t,e){this.domConverter.unbindDomElement(e),this.domConverter.bindElements(e,t),this.markedChildren.add(t),this.markedAttributes.add(t)}_getInlineFillerPosition(){const t=this.selection.getFirstPosition();return t.parent.is("text")?$o.createBefore(this.selection.getFirstPosition().parent):t}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=this.domConverter.viewPositionToDom(t);return!!(e&&Ei(e.parent)&&Di(e.parent))}_removeInlineFiller(){const t=this._inlineFiller;if(!Di(t))throw new M.b("view-renderer-filler-was-lost: The inline filler node was lost.");ji(t)?t.parentNode.removeChild(t):t.data=t.data.substr(Oi),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=t.parent,n=t.offset;if(!this.domConverter.mapViewToDom(e.root))return!1;if(!e.is("element"))return!1;if(!function(t){if("false"==t.getAttribute("contenteditable"))return!1;const e=t.findAncestor(t=>t.hasAttribute("contenteditable"));return!e||"true"==e.getAttribute("contenteditable")}(e))return!1;if(n===e.getFillerOffset())return!1;const o=t.nodeBefore,i=t.nodeAfter;return!(o instanceof co||i instanceof co)}_updateText(t,e){const n=this.domConverter.findCorrespondingDomText(t),o=this.domConverter.viewToDom(t,n.ownerDocument),i=n.data;let r=o.data;const s=e.inlineFillerPosition;if(s&&s.parent==t.parent&&s.offset==t.index&&(r=Ri+r),i!=r){const t=Wi(i,r);for(const e of t)"insert"===e.type?n.insertData(e.index,e.values.join("")):n.deleteData(e.index,e.howMany)}}_updateAttrs(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=Array.from(e.attributes).map(t=>t.name),o=t.getAttributeKeys();for(const n of o)e.setAttribute(n,t.getAttribute(n));for(const o of n)t.hasAttribute(o)||e.removeAttribute(o)}_updateChildren(t,e){const n=this.domConverter.mapViewToDom(t);if(!n)return;const o=e.inlineFillerPosition,i=this.domConverter.mapViewToDom(t).childNodes,r=Array.from(this.domConverter.viewChildrenToDom(t,n.ownerDocument,{bind:!0,inlineFillerPosition:o}));o&&o.parent===t&&Qi(n.ownerDocument,r,o.offset);const s=this._diffNodeLists(i,r);let a=0;const c=new Set;for(const t of s)"insert"===t?(Ui(n,a,r[a]),a++):"delete"===t?(c.add(i[a]),Hi(i[a])):(this._markDescendantTextToSync(this.domConverter.domToView(r[a])),a++);for(const t of c)t.parentNode||this.domConverter.unbindDomElement(t)}_diffNodeLists(t,e){return Bi(t,e,function(t,e,n){if(e===n)return!0;if(Ei(e)&&Ei(n))return e.data===n.data;if(Fi(e,t)&&Fi(n,t))return!0;return!1}.bind(null,this.domConverter.blockFiller))}_findReplaceActions(t,e,n){if(-1===t.indexOf("insert")||-1===t.indexOf("delete"))return t;let o=[],i=[],r=[];const s={equal:0,insert:0,delete:0};for(const a of t)"insert"===a?r.push(n[s.equal+s.insert]):"delete"===a?i.push(e[s.equal+s.delete]):((o=o.concat(Bi(i,r,Ji).map(t=>"equal"===t?"replace":t))).push("equal"),i=[],r=[]),s[a]++;return o.concat(Bi(i,r,Ji).map(t=>"equal"===t?"replace":t))}_markDescendantTextToSync(t){if(t)if(t.is("text"))this.markedTexts.add(t);else if(t.is("element"))for(const e of t.getChildren())this._markDescendantTextToSync(e)}_updateSelection(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):(this._removeFakeSelection(),this._updateDomSelection(t)))}_updateFakeSelection(t){const e=t.ownerDocument;let n=this._fakeSelectionContainer;n||(this._fakeSelectionContainer=n=e.createElement("div"),Object.assign(n.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),n.appendChild(e.createTextNode(" "))),n.parentElement||t.appendChild(n),n.firstChild.data=this.selection.fakeSelectionLabel||" ";const o=e.getSelection(),i=e.createRange();o.removeAllRanges(),i.selectNodeContents(n),o.addRange(i),this.domConverter.bindFakeSelection(n,this.selection)}_updateDomSelection(t){const e=t.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(e))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),o=this.domConverter.viewPositionToDom(this.selection.focus);t.focus(),e.collapse(n.parent,n.offset),e.extend(o.parent,o.offset)}_domSelectionNeedsUpdate(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;const e=t&&this.domConverter.domSelectionToView(t);return(!e||!this.selection.isEqual(e))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(e))}_removeDomSelection(){for(const t of this.domDocuments){if(t.getSelection().rangeCount){const e=t.activeElement,n=this.domConverter.mapDomToView(e);e&&n&&t.getSelection().removeAllRanges()}}}_removeFakeSelection(){const t=this._fakeSelectionContainer;t&&t.remove()}_updateFocus(){if(this.isFocused){const t=this.selection.editableElement;t&&this.domConverter.focus(t)}}}function Qi(t,e,n){const o=e instanceof Array?e:e.childNodes,i=o[n];if(Ei(i))return i.data=Ri+i.data,i;{const i=t.createTextNode(Ri);return Array.isArray(e)?o.splice(n,0,i):Ui(e,n,i),i}}function Ji(t,e){return qi(t)&&qi(e)&&!Ei(t)&&!Ei(e)&&t.tagName.toLowerCase()===e.tagName.toLowerCase()}B($i,Lo);var Ki={window:window,document:document};function Zi(t){let e=0;for(;t.previousSibling;)t=t.previousSibling,e++;return e}function Xi(t){const e=[];for(;t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}var tr=function(t){return w(t)&&1===t.nodeType&&!C(t)};class er{constructor(t={}){this.blockFiller=t.blockFiller||Ii,this.preElements=["pre"],this.blockElements=["p","div","h1","h2","h3","h4","h5","h6"],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}bindFakeSelection(t,e){this._fakeSelectionMapping.set(t,new Zo(e))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}unbindDomElement(t){const e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);for(const e of Array.from(t.childNodes))this.unbindDomElement(e)}}bindDocumentFragments(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}viewToDom(t,e,n={}){if(t.is("text")){const n=this._processDataFromViewText(t);return e.createTextNode(n)}{if(this.mapViewToDom(t))return this.mapViewToDom(t);let o;if(t.is("documentFragment"))o=e.createDocumentFragment(),n.bind&&this.bindDocumentFragments(o,t);else{if(t.is("uiElement"))return o=t.render(e),n.bind&&this.bindElements(o,t),o;o=e.createElement(t.name),n.bind&&this.bindElements(o,t);for(const e of t.getAttributeKeys())o.setAttribute(e,t.getAttribute(e))}if(n.withChildren||void 0===n.withChildren)for(const i of this.viewChildrenToDom(t,e,n))o.appendChild(i);return o}}*viewChildrenToDom(t,e,n={}){const o=t.getFillerOffset&&t.getFillerOffset();let i=0;for(const r of t.getChildren())o===i&&(yield this.blockFiller(e)),yield this.viewToDom(r,e,n),i++;o===i&&(yield this.blockFiller(e))}viewRangeToDom(t){const e=this.viewPositionToDom(t.start),n=this.viewPositionToDom(t.end),o=document.createRange();return o.setStart(e.parent,e.offset),o.setEnd(n.parent,n.offset),o}viewPositionToDom(t){const e=t.parent;if(e.is("text")){const n=this.findCorrespondingDomText(e);if(!n)return null;let o=t.offset;return Di(n)&&(o+=Oi),{parent:n,offset:o}}{let n,o,i;if(0===t.offset){if(!(n=this.mapViewToDom(e)))return null;i=n.childNodes[0]}else{const e=t.nodeBefore;if(!(o=e.is("text")?this.findCorrespondingDomText(e):this.mapViewToDom(t.nodeBefore)))return null;n=o.parentNode,i=o.nextSibling}if(Ei(i)&&Di(i))return{parent:i,offset:Oi};return{parent:n,offset:o?Zi(o)+1:0}}}domToView(t,e={}){if(Fi(t,this.blockFiller))return null;const n=this.getParentUIElement(t,this._domToViewMapping);if(n)return n;if(Ei(t)){if(ji(t))return null;{const e=this._processDataFromDomText(t);return""===e?null:new co(e)}}if(this.isComment(t))return null;{if(this.mapDomToView(t))return this.mapDomToView(t);let n;if(this.isDocumentFragment(t))n=new _i,e.bind&&this.bindDocumentFragments(t,n);else{const o=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();n=new go(o),e.bind&&this.bindElements(t,n);const i=t.attributes;for(let t=i.length-1;t>=0;t--)n._setAttribute(i[t].name,i[t].value)}if(e.withChildren||void 0===e.withChildren)for(const o of this.domChildrenToView(t,e))n._appendChild(o);return n}}*domChildrenToView(t,e={}){for(let n=0;n<t.childNodes.length;n++){const o=t.childNodes[n],i=this.domToView(o,e);null!==i&&(yield i)}}domSelectionToView(t){if(1===t.rangeCount){let e=t.getRangeAt(0).startContainer;Ei(e)&&(e=e.parentNode);const n=this.fakeSelectionToView(e);if(n)return n}const e=this.isDomSelectionBackward(t),n=[];for(let e=0;e<t.rangeCount;e++){const o=t.getRangeAt(e),i=this.domRangeToView(o);i&&n.push(i)}return new Zo(n,{backward:e})}domRangeToView(t){const e=this.domPositionToView(t.startContainer,t.startOffset),n=this.domPositionToView(t.endContainer,t.endOffset);return e&&n?new Qo(e,n):null}domPositionToView(t,e){if(Fi(t,this.blockFiller))return this.domPositionToView(t.parentNode,Zi(t));const n=this.mapDomToView(t);if(n&&n.is("uiElement"))return $o.createBefore(n);if(Ei(t)){if(ji(t))return this.domPositionToView(t.parentNode,Zi(t));const n=this.findCorrespondingViewText(t);let o=e;return n?(Di(t)&&(o=(o-=Oi)<0?0:o),new $o(n,o)):null}if(0===e){const e=this.mapDomToView(t);if(e)return new $o(e,0)}else{const n=t.childNodes[e-1],o=Ei(n)?this.findCorrespondingViewText(n):this.mapDomToView(n);if(o&&o.parent)return new $o(o.parent,o.index+1)}return null}mapDomToView(t){return this.getParentUIElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(ji(t))return null;const e=this.getParentUIElement(t);if(e)return e;const n=t.previousSibling;if(n){if(!this.isElement(n))return null;const t=this.mapDomToView(n);if(t){return t.nextSibling instanceof co?t.nextSibling:null}}else{const e=this.mapDomToView(t.parentNode);if(e){const t=e.getChild(0);return t instanceof co?t:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const e=this.mapViewToDom(t);if(e&&e.ownerDocument.activeElement!==e){const{scrollX:t,scrollY:n}=Ki.window,o=[];or(e,t=>{const{scrollLeft:e,scrollTop:n}=t;o.push([e,n])}),e.focus(),or(e,t=>{const[e,n]=o.shift();t.scrollLeft=e,t.scrollTop=n}),Ki.window.scrollTo(t,n)}}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isComment(t){return t&&t.nodeType==Node.COMMENT_NODE}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const e=document.createRange();e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset);const n=e.collapsed;return e.detach(),n}getParentUIElement(t){const e=Xi(t);for(e.pop();e.length;){const t=e.pop(),n=this._domToViewMapping.get(t);if(n&&n.is("uiElement"))return n}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}_isDomSelectionPositionCorrect(t,e){if(Ei(t)&&Di(t)&&e<Oi)return!1;if(this.isElement(t)&&Di(t.childNodes[e]))return!1;const n=this.mapDomToView(t);return!n||!n.is("uiElement")}_processDataFromViewText(t){let e=t.data;if(t.getAncestors().some(t=>this.preElements.includes(t.name)))return e;if(" "==e.charAt(0)){const n=this._getTouchingViewTextNode(t,!1);!(n&&this._nodeEndsWithSpace(n))&&n||(e=" "+e.substr(1))}if(" "==e.charAt(e.length-1)){this._getTouchingViewTextNode(t,!0)||(e=e.substr(0,e.length-1)+" ")}return e.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(t){if(t.getAncestors().some(t=>this.preElements.includes(t.name)))return!1;const e=this._processDataFromViewText(t);return" "==e.charAt(e.length-1)}_processDataFromDomText(t){let e=t.data;if(nr(t,this.preElements))return Li(t);e=e.replace(/[ \n\t\r]{1,}/g," ");const n=this._getTouchingInlineDomNode(t,!1),o=this._getTouchingInlineDomNode(t,!0),i=this._checkShouldLeftTrimDomText(n),r=this._checkShouldRightTrimDomText(t,o);return i&&(e=e.replace(/^ /,"")),r&&(e=e.replace(/ $/,"")),e=(e=Li(new Text(e))).replace(/ \u00A0/g,"  "),i&&(e=e.replace(/^\u00A0/," ")),Ei(o)&&" "!=o.data.charAt(0)||(e=e.replace(/\u00A0( *)$/," $1")),e}_checkShouldLeftTrimDomText(t){return!t||(!!tr(t)||/[^\S\u00A0]/.test(t.data.charAt(t.data.length-1)))}_checkShouldRightTrimDomText(t,e){return!e&&!Di(t)}_getTouchingViewTextNode(t,e){const n=new Go({startPosition:e?$o.createAfter(t):$o.createBefore(t),direction:e?"forward":"backward"});for(const t of n){if(t.item.is("containerElement"))return null;if(t.item.is("br"))return null;if(t.item.is("textProxy"))return t.item}return null}_getTouchingInlineDomNode(t,e){if(!t.parentNode)return null;const n=e?"nextNode":"previousNode",o=t.ownerDocument,i=Xi(t)[0],r=o.createTreeWalker(i,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode:t=>Ei(t)?NodeFilter.FILTER_ACCEPT:"BR"==t.tagName?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});r.currentNode=t;const s=r[n]();if(null!==s){const e=function(t,e){const n=Xi(t),o=Xi(e);let i=0;for(;n[i]==o[i]&&n[i];)i++;return 0===i?null:n[i-1]}(t,s);if(e&&!nr(t,this.blockElements,e)&&!nr(s,this.blockElements,e))return s}return null}}function nr(t,e,n){let o=Xi(t);return n&&(o=o.slice(o.indexOf(n)+1)),o.some(t=>t.tagName&&e.includes(t.tagName.toLowerCase()))}function or(t,e){for(;t&&t!=Ki.document;)e(t),t=t.parentNode}function ir(t){const e=Object.prototype.toString.apply(t);return"[object Window]"==e||"[object global]"==e}var rr=No({},R,{listenTo(t,...e){if(qi(t)||ir(t)){const n=this._getProxyEmitter(t)||new sr(t);n.attach(...e),t=n}R.listenTo.call(this,t,...e)},stopListening(t,e,n){if(qi(t)||ir(t)){const e=this._getProxyEmitter(t);if(!e)return;t=e}R.stopListening.call(this,t,e,n),t instanceof sr&&t.detach(e)},_getProxyEmitter(t){return function(t,e){return t[N]&&t[N][e]?t[N][e].emitter:null}(this,ar(t))}});class sr{constructor(t){D(this,ar(t)),this._domNode=t}}function ar(t){return t["data-ck-expando"]||(t["data-ck-expando"]=E())}No(sr.prototype,R,{attach(t,e,n={}){if(this._domListeners&&this._domListeners[t])return;const o=this._createDomListener(t,!!n.useCapture);this._domNode.addEventListener(t,o,!!n.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[t]=o},detach(t){let e;!this._domListeners[t]||(e=this._events[t])&&e.callbacks.length||this._domListeners[t].removeListener()},_createDomListener(t,e){const n=e=>{this.fire(t,e)};return n.removeListener=(()=>{this._domNode.removeEventListener(t,n,e),delete this._domListeners[t]}),n}});class cr{constructor(t){this.view=t,this.document=t.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}}B(cr,rr);var lr="__lodash_hash_undefined__";var dr=function(t){return this.__data__.set(t,lr),this};var ur=function(t){return this.__data__.has(t)};function hr(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new qt;++e<n;)this.add(t[e])}hr.prototype.add=hr.prototype.push=dr,hr.prototype.has=ur;var fr=hr;var mr=function(t,e){for(var n=-1,o=null==t?0:t.length;++n<o;)if(e(t[n],n,t))return!0;return!1};var gr=function(t,e){return t.has(e)},pr=1,br=2;var wr=function(t,e,n,o,i,r){var s=n&pr,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var l=r.get(t);if(l&&r.get(e))return l==e;var d=-1,u=!0,h=n&br?new fr:void 0;for(r.set(t,e),r.set(e,t);++d<a;){var f=t[d],m=e[d];if(o)var g=s?o(m,f,d,e,t,r):o(f,m,d,t,e,r);if(void 0!==g){if(g)continue;u=!1;break}if(h){if(!mr(e,function(t,e){if(!gr(h,e)&&(f===t||i(f,t,n,o,r)))return h.push(e)})){u=!1;break}}else if(f!==m&&!i(f,m,n,o,r)){u=!1;break}}return r.delete(t),r.delete(e),u};var _r=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,o){n[++e]=[o,t]}),n};var vr=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n},kr=1,yr=2,xr="[object Boolean]",Ar="[object Date]",Cr="[object Error]",Tr="[object Map]",Mr="[object Number]",Pr="[object RegExp]",Sr="[object Set]",Er="[object String]",Ir="[object Symbol]",Nr="[object ArrayBuffer]",Or="[object DataView]",Rr=i?i.prototype:void 0,Dr=Rr?Rr.valueOf:void 0;var jr=function(t,e,n,o,i,r,s){switch(n){case Or:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Nr:return!(t.byteLength!=e.byteLength||!r(new dn(t),new dn(e)));case xr:case Ar:case Mr:return q(+t,+e);case Cr:return t.name==e.name&&t.message==e.message;case Pr:case Er:return t==e+"";case Tr:var a=_r;case Sr:var c=o&kr;if(a||(a=vr),t.size!=e.size&&!c)return!1;var l=s.get(t);if(l)return l==e;o|=yr,s.set(t,e);var d=wr(a(t),a(e),o,i,r,s);return s.delete(t),d;case Ir:if(Dr)return Dr.call(t)==Dr.call(e)}return!1},Lr=1,Vr=Object.prototype.hasOwnProperty;var Fr=function(t,e,n,o,i,r){var s=n&Lr,a=$e(t),c=a.length;if(c!=$e(e).length&&!s)return!1;for(var l=c;l--;){var d=a[l];if(!(s?d in e:Vr.call(e,d)))return!1}var u=r.get(t);if(u&&r.get(e))return u==e;var h=!0;r.set(t,e),r.set(e,t);for(var f=s;++l<c;){var m=t[d=a[l]],g=e[d];if(o)var p=s?o(g,m,d,e,t,r):o(m,g,d,t,e,r);if(!(void 0===p?m===g||i(m,g,n,o,r):p)){h=!1;break}f||(f="constructor"==d)}if(h&&!f){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(h=!1)}return r.delete(t),r.delete(e),h},zr=1,Br="[object Arguments]",Ur="[object Array]",Hr="[object Object]",qr=Object.prototype.hasOwnProperty;var Wr=function(t,e,n,o,i,r){var s=ce(t),a=ce(e),c=s?Ur:an(t),l=a?Ur:an(e),d=(c=c==Br?Hr:c)==Hr,u=(l=l==Br?Hr:l)==Hr,h=c==l;if(h&&Object(le.a)(t)){if(!Object(le.a)(e))return!1;s=!0,d=!1}if(h&&!d)return r||(r=new $t),s||ve(t)?wr(t,e,n,o,i,r):jr(t,e,c,n,o,i,r);if(!(n&zr)){var f=d&&qr.call(t,"__wrapped__"),m=u&&qr.call(e,"__wrapped__");if(f||m){var g=f?t.value():t,p=m?e.value():e;return r||(r=new $t),i(g,p,n,o,r)}}return!!h&&(r||(r=new $t),Fr(t,e,n,o,i,r))};var Yr=function t(e,n,o,i,r){return e===n||(null==e||null==n||!w(e)&&!w(n)?e!=e&&n!=n:Wr(e,n,o,i,t,r))};var Gr=function(t,e,n){var o=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===o?Yr(t,e,void 0,n):!!o};class $r extends cr{constructor(t){super(t),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=t.domConverter,this.renderer=t._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(t){this._domElements.push(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}enable(){super.enable();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(t){if(0===t.length)return;const e=this.domConverter,n=new Map,o=new Set;for(const n of t)if("childList"===n.type){const t=e.mapDomToView(n.target);if(t&&t.is("uiElement"))continue;t&&!this._isBogusBrMutation(n)&&o.add(t)}for(const i of t){const t=e.mapDomToView(i.target);if((!t||!t.is("uiElement"))&&"characterData"===i.type){const t=e.findCorrespondingViewText(i.target);t&&!o.has(t.parent)?n.set(t,{type:"text",oldText:t.data,newText:Li(i.target),node:t}):!t&&Di(i.target)&&o.add(e.mapDomToView(i.target.parentNode))}}const i=[];for(const t of n.values())this.renderer.markToSync("text",t.node),i.push(t);for(const t of o){const n=e.mapViewToDom(t),o=Array.from(t.getChildren()),r=Array.from(e.domChildrenToView(n,{withChildren:!1}));Gr(o,r,a)||(this.renderer.markToSync("children",t),i.push({type:"children",oldChildren:o,newChildren:r,node:t}))}const r=t[0].target.ownerDocument.getSelection();let s=null;if(r&&r.anchorNode){const t=e.domPositionToView(r.anchorNode,r.anchorOffset),n=e.domPositionToView(r.focusNode,r.focusOffset);t&&n&&(s=new Zo(t)).setFocus(n)}function a(t,e){if(!Array.isArray(t))return t===e||!(!t.is("text")||!e.is("text"))&&t.data===e.data}this.document.fire("mutations",i,s),this.view.render()}_isBogusBrMutation(t){let e=null;return null===t.nextSibling&&0===t.removedNodes.length&&1==t.addedNodes.length&&(e=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),e&&e.is("element","br")}}class Qr{constructor(t,e,n){this.view=t,this.document=t.document,this.domEvent=e,this.domTarget=e.target,No(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Jr extends cr{constructor(t){super(t),this.useCapture=!1}observe(t){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(e=>{this.listenTo(t,e,(t,e)=>{this.isEnabled&&this.onDomEvent(e)},{useCapture:this.useCapture})})}fire(t,e,n){this.isEnabled&&this.document.fire(t,new Qr(this.view,e,n))}}class Kr extends Jr{constructor(t){super(t),this.domEventType=["keydown","keyup"]}onDomEvent(t){this.fire(t.type,t,{keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey||t.metaKey,shiftKey:t.shiftKey,get keystroke(){return fi(this)}})}}var Zr=function(){return o.a.Date.now()},Xr="[object Symbol]";var ts=function(t){return"symbol"==typeof t||w(t)&&g(t)==Xr},es=NaN,ns=/^\s+|\s+$/g,os=/^[-+]0x[0-9a-f]+$/i,is=/^0b[01]+$/i,rs=/^0o[0-7]+$/i,ss=parseInt;var as=function(t){if("number"==typeof t)return t;if(ts(t))return es;if(ot(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ot(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(ns,"");var n=is.test(t);return n||rs.test(t)?ss(t.slice(2),n?2:8):os.test(t)?es:+t},cs="Expected a function",ls=Math.max,ds=Math.min;var us=function(t,e,n){var o,i,r,s,a,c,l=0,d=!1,u=!1,h=!0;if("function"!=typeof t)throw new TypeError(cs);function f(e){var n=o,r=i;return o=i=void 0,l=e,s=t.apply(r,n)}function m(t){var n=t-c;return void 0===c||n>=e||n<0||u&&t-l>=r}function g(){var t=Zr();if(m(t))return p(t);a=setTimeout(g,function(t){var n=e-(t-c);return u?ds(n,r-(t-l)):n}(t))}function p(t){return a=void 0,h&&o?f(t):(o=i=void 0,s)}function b(){var t=Zr(),n=m(t);if(o=arguments,i=this,c=t,n){if(void 0===a)return function(t){return l=t,a=setTimeout(g,e),d?f(t):s}(c);if(u)return a=setTimeout(g,e),f(c)}return void 0===a&&(a=setTimeout(g,e)),s}return e=as(e)||0,ot(n)&&(d=!!n.leading,r=(u="maxWait"in n)?ls(as(n.maxWait)||0,e):r,h="trailing"in n?!!n.trailing:h),b.cancel=function(){void 0!==a&&clearTimeout(a),l=0,o=c=i=a=void 0},b.flush=function(){return void 0===a?s:p(Zr())},b};class hs extends cr{constructor(t){super(t),this._fireSelectionChangeDoneDebounced=us(t=>this.document.fire("selectionChangeDone",t),200)}observe(){const t=this.document;t.on("keydown",(e,n)=>{t.selection.isFake&&function(t){return t==hi.arrowright||t==hi.arrowleft||t==hi.arrowup||t==hi.arrowdown}(n.keyCode)&&this.isEnabled&&(n.preventDefault(),this._handleSelectionMove(n.keyCode))},{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(t){const e=this.document.selection,n=new Zo(e.getRanges(),{backward:e.isBackward,fake:!1});t!=hi.arrowleft&&t!=hi.arrowup||n.setTo(n.getFirstPosition()),t!=hi.arrowright&&t!=hi.arrowdown||n.setTo(n.getLastPosition());const o={oldSelection:e,newSelection:n,domSelection:null};this.document.fire("selectionChange",o),this._fireSelectionChangeDoneDebounced(o)}}var fs=n(1);class ms extends cr{constructor(t){super(t),this.mutationObserver=t.getObserver($r),this.selection=this.document.selection,this.domConverter=t.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=us(t=>this.document.fire("selectionChangeDone",t),200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._loopbackCounter=0}observe(t){const e=t.ownerDocument;this._documents.has(e)||(this.listenTo(e,"selectionchange",()=>{this._handleSelectionChange(e)}),this._documents.add(e))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionChange(t){if(!this.isEnabled||!this.document.isFocused&&!this.document.isReadOnly)return;this.mutationObserver.flush();const e=t.defaultView.getSelection(),n=this.domConverter.domSelectionToView(e);if(!this.selection.isEqual(n)||!this.domConverter.isDomSelectionCorrect(e))if(++this._loopbackCounter>60)fs.a.warn("selectionchange-infinite-loop: Selection change observer detected an infinite rendering loop.");else if(this.selection.isSimilar(n))this.view.render();else{const t={oldSelection:this.selection,newSelection:n,domSelection:e};this.document.fire("selectionChange",t),this._fireSelectionChangeDoneDebounced(t)}}_clearInfiniteLoop(){this._loopbackCounter=0}}class gs extends Jr{constructor(t){super(t),this.domEventType=["focus","blur"],this.useCapture=!0;const e=this.document;e.on("focus",()=>{e.isFocused=!0,this._renderTimeoutId=setTimeout(()=>t.render(),50)}),e.on("blur",(n,o)=>{const i=e.selection.editableElement;null!==i&&i!==o.target||(e.isFocused=!1,t.render())})}onDomEvent(t){this.fire(t.type,t)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class ps extends Jr{constructor(t){super(t),this.domEventType=["compositionstart","compositionupdate","compositionend"];const e=this.document;e.on("compositionstart",()=>{e.isComposing=!0}),e.on("compositionend",()=>{e.isComposing=!1})}onDomEvent(t){this.fire(t.type,t)}}function bs(t){return"[object Range]"==Object.prototype.toString.apply(t)}function ws(t){const e=t.ownerDocument.defaultView.getComputedStyle(t);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}const _s=["top","right","bottom","left","width","height"];class vs{constructor(t){const e=bs(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),tr(t)||e){const n=e?t.startContainer:t;n.ownerDocument&&n.ownerDocument.body.contains(n)||fs.a.warn("rect-source-not-in-dom: The source of this rect does not belong to any rendered DOM tree.",{source:t}),ks(this,e?vs.getDomRangeRects(t)[0]:t.getBoundingClientRect())}else if(ir(t)){const{innerWidth:e,innerHeight:n}=t;ks(this,{top:0,right:e,bottom:n,left:0,width:e,height:n})}else ks(this,t)}clone(){return new vs(this)}moveTo(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}moveBy(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}getIntersection(t){const e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left)};return e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0?null:new vs(e)}getIntersectionArea(t){const e=this.getIntersection(t);return e?e.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let e=this.clone();if(!ys(t)){let n=t.parentNode||t.commonAncestorContainer;for(;n&&!ys(n);){const t=new vs(n),o=e.getIntersection(t);if(!o)return null;o.getArea()<e.getArea()&&(e=o),n=n.parentNode}}return e}isEqual(t){for(const e of _s)if(this[e]!==t[e])return!1;return!0}contains(t){const e=this.getIntersection(t);return!(!e||!e.isEqual(t))}excludeScrollbarsAndBorders(){const t=this._source;let e,n;if(ir(t))e=t.innerWidth-t.document.documentElement.clientWidth,n=t.innerHeight-t.document.documentElement.clientHeight;else{const o=ws(this._source);e=t.offsetWidth-t.clientWidth,n=t.offsetHeight-t.clientHeight,this.moveBy(o.left,o.top)}return this.width-=e,this.right-=e,this.height-=n,this.bottom-=n,this}static getDomRangeRects(t){const e=[],n=Array.from(t.getClientRects());if(n.length)for(const t of n)e.push(new vs(t));else{let n=t.startContainer;Ei(n)&&(n=n.parentNode);const o=new vs(n.getBoundingClientRect());o.right=o.left,o.width=0,e.push(o)}return e}}function ks(t,e){for(const n of _s)t[n]=e[n]}function ys(t){return!!tr(t)&&t===t.ownerDocument.body}function xs({target:t,viewportOffset:e=0}){const n=Es(t);let o=n,i=null;for(;o;){let r;Cs(r=Is(o==n?t:i),()=>Ns(t,o));const s=Ns(t,o);if(As(o,s,e),o.parent!=o){if(i=o.frameElement,o=o.parent,!i)return}else o=null}}function As(t,e,n){const o=e.clone().moveBy(0,n),i=e.clone().moveBy(0,-n),r=new vs(t).excludeScrollbarsAndBorders();if(![i,o].every(t=>r.contains(t))){let{scrollX:s,scrollY:a}=t;Ms(i,r)?a-=r.top-e.top+n:Ts(o,r)&&(a+=e.bottom-r.bottom+n),Ps(e,r)?s-=r.left-e.left+n:Ss(e,r)&&(s+=e.right-r.right+n),t.scrollTo(s,a)}}function Cs(t,e){const n=Es(t);let o,i;for(;t!=n.document.body;)i=e(),(o=new vs(t).excludeScrollbarsAndBorders()).contains(i)||(Ms(i,o)?t.scrollTop-=o.top-i.top:Ts(i,o)&&(t.scrollTop+=i.bottom-o.bottom),Ps(i,o)?t.scrollLeft-=o.left-i.left:Ss(i,o)&&(t.scrollLeft+=i.right-o.right)),t=t.parentNode}function Ts(t,e){return t.bottom>e.bottom}function Ms(t,e){return t.top<e.top}function Ps(t,e){return t.left<e.left}function Ss(t,e){return t.right>e.right}function Es(t){return bs(t)?t.startContainer.ownerDocument.defaultView:t.ownerDocument.defaultView}function Is(t){if(bs(t)){let e=t.commonAncestorContainer;return Ei(e)&&(e=e.parentNode),e}return t.parentNode}function Ns(t,e){const n=Es(t),o=new vs(t);if(n===e)return o;{let t=n;for(;t!=e;){const e=t.frameElement,n=new vs(e).excludeScrollbarsAndBorders();o.moveBy(n.left,n.top),t=t.parent}}return o}Object.assign({},{scrollViewportToShowTarget:xs,scrollAncestorsToShowTarget:function(t){Cs(Is(t),()=>new vs(t))}});class Os{constructor(){this.document=new ei,this.domConverter=new er,this._renderer=new $i(this.domConverter,this.document.selection),this._renderer.bind("isFocused").to(this.document),this.domRoots=new Map,this._observers=new Map,this._ongoingChange=!1,this._renderingInProgress=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._writer=new vi(this.document),this.addObserver($r),this.addObserver(ms),this.addObserver(gs),this.addObserver(Kr),this.addObserver(hs),this.addObserver(ps),function(t){t.document.on("keydown",zi)}(this),bi(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged")})}attachDomRoot(t,e="main"){const n=this.document.getRoot(e);n._name=t.tagName.toLowerCase(),this.domRoots.set(e,t),this.domConverter.bindElements(t,n),this._renderer.markToSync("children",n),this._renderer.domDocuments.add(t.ownerDocument),n.on("change:children",(t,e)=>this._renderer.markToSync("children",e)),n.on("change:attributes",(t,e)=>this._renderer.markToSync("attributes",e)),n.on("change:text",(t,e)=>this._renderer.markToSync("text",e));for(const n of this._observers.values())n.observe(t,e)}getDomRoot(t="main"){return this.domRoots.get(t)}addObserver(t){let e=this._observers.get(t);if(e)return e;e=new t(this),this._observers.set(t,e);for(const[t,n]of this.domRoots)e.observe(n,t);return e.enable(),e}getObserver(t){return this._observers.get(t)}disableObservers(){for(const t of this._observers.values())t.disable()}enableObservers(){for(const t of this._observers.values())t.enable()}scrollToTheSelection(){const t=this.document.selection.getFirstRange();t&&xs({target:this.domConverter.viewRangeToDom(t),viewportOffset:20})}focus(){if(!this.document.isFocused){const t=this.document.selection.editableElement;t?(this.domConverter.focus(t),this.render()):fs.a.warn("view-focus-no-selection: There is no selection in any editable to focus.")}}change(t){if(this._renderingInProgress||this._postFixersInProgress)throw new M.b("cannot-change-view-tree: Attempting to make changes to the view when it is in incorrect state: rendering or post-fixers are in progress. This may cause some unexpected behaviour and inconsistency between the DOM and the view.");this._ongoingChange?t(this._writer):(this._ongoingChange=!0,t(this._writer),this._ongoingChange=!1,this._renderingDisabled||(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")))}render(){this.change(()=>{})}destroy(){for(const t of this._observers.values())t.destroy();this.stopListening()}_render(){this._renderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this._renderingInProgress=!1}}function Rs(t){return C(t)?uo(t):new Map(t)}B(Os,Lo);class Ds{constructor(t){this.parent=null,this._attrs=Rs(t)}get index(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildIndex(this)))throw new M.b("model-node-not-found-in-parent: The node's parent does not contain this node.");return t}get startOffset(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildStartOffset(this)))throw new M.b("model-node-not-found-in-parent: The node's parent does not contain this node.");return t}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}get document(){return this.root==this?null:this.root.document||null}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.startOffset),e=e.parent;return t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),o=t.getAncestors(e);let i=0;for(;n[i]==o[i]&&n[i];)i++;return 0===i?null:n[i-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),o=U(e,n);switch(o){case"prefix":return!0;case"extension":return!1;default:return e[o]<n[o]}}isAfter(t){return this!=t&&(this.root===t.root&&!this.isBefore(t))}hasAttribute(t){return this._attrs.has(t)}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const t={};return this._attrs.size&&(t.attributes=Array.from(this._attrs).reduce((t,e)=>(t[e[0]]=e[1],t),{})),t}_clone(){return new Ds(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(t,e){this._attrs.set(t,e)}_setAttributesTo(t){this._attrs=Rs(t)}_removeAttribute(t){return this._attrs.delete(t)}_clearAttributes(){this._attrs.clear()}is(t){return"node"==t}}class js extends Ds{constructor(t,e){super(e),this._data=t||""}get offsetSize(){return this.data.length}get data(){return this._data}is(t){return"text"==t||super.is(t)}toJSON(){const t=super.toJSON();return t.data=this.data,t}_clone(){return new js(this.data,this.getAttributes())}static fromJSON(t){return new js(t.data,t.attributes)}}class Ls{constructor(t,e,n){if(this.textNode=t,e<0||e>t.offsetSize)throw new M.b("model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.");if(n<0||e+n>t.offsetSize)throw new M.b("model-textproxy-wrong-length: Given length value is incorrect.");this.data=t.data.substring(e,e+n),this.offsetInText=e}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(t){return"textProxy"==t}getPath(){const t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}hasAttribute(t){return this.textNode.hasAttribute(t)}getAttribute(t){return this.textNode.getAttribute(t)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}class Vs{constructor(t){this._nodes=[],t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((t,e)=>t+e.offsetSize,0)}getNode(t){return this._nodes[t]||null}getNodeIndex(t){const e=this._nodes.indexOf(t);return-1==e?null:e}getNodeStartOffset(t){const e=this.getNodeIndex(t);return null===e?null:this._nodes.slice(0,e).reduce((t,e)=>t+e.offsetSize,0)}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const e=this._nodes[t];if(!e)throw new M.b("model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.");return this.getNodeStartOffset(e)}offsetToIndex(t){let e=0;for(const n of this._nodes){if(t>=e&&t<e+n.offsetSize)return this.getNodeIndex(n);e+=n.offsetSize}if(e!=t)throw new M.b("model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.",{offset:t,nodeList:this});return this.length}_insertNodes(t,e){for(const t of e)if(!(t instanceof Ds))throw new M.b("model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.");this._nodes.splice(t,0,...e)}_removeNodes(t,e=1){return this._nodes.splice(t,e)}toJSON(){return this._nodes.map(t=>t.toJSON())}}class Fs extends Ds{constructor(t,e,n){super(e),this.name=t,this._children=new Vs,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}is(t,e=null){return e?"element"==t&&e==this.name:"element"==t||t==this.name||super.is(t)}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}offsetToIndex(t){return this._children.offsetToIndex(t)}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}toJSON(){const t=super.toJSON();if(t.name=this.name,this._children.length>0){t.children=[];for(const e of this._children)t.children.push(e.toJSON())}return t}_clone(t=!1){const e=t?Array.from(this._children).map(t=>t._clone(!0)):null;return new Fs(this.name,this.getAttributes(),e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=function(t){if("string"==typeof t)return[new js(t)];ho(t)||(t=[t]);return Array.from(t).map(t=>"string"==typeof t?new js(t):t instanceof Ls?new js(t.data,t.getAttributes()):t)}(e);for(const t of n)null!==t.parent&&t._remove(),t.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const t of n)t.parent=null;return n}static fromJSON(t){let e=null;if(t.children){e=[];for(const n of t.children)n.name?e.push(Fs.fromJSON(n)):e.push(js.fromJSON(n))}return new Fs(t.name,t.attributes,e)}}class zs{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new M.b("model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.");const e=t.direction||"forward";if("forward"!=e&&"backward"!=e)throw new M.b("model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",{direction:e});this.direction=e,this.boundaries=t.boundaries||null,t.startPosition?this.position=Hs.createFromPosition(t.startPosition):this.position=Hs.createFromPosition(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(t){let e,n,o,i;do{o=this.position,i=this._visitedParent,({done:e,value:n}=this.next())}while(!e&&t(n));e||(this.position=o,this._visitedParent=i)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const t=this.position,e=Hs.createFromPosition(this.position),n=this._visitedParent;if(null===n.parent&&e.offset===n.maxOffset)return{done:!0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};const o=e.textNode?e.textNode:e.nodeAfter;if(o instanceof Fs)return this.shallow?e.offset++:(e.path.push(0),this._visitedParent=o),this.position=e,Bs("elementStart",o,t,e,1);if(o instanceof js){let i;if(this.singleCharacters)i=1;else{let t=o.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<t&&(t=this.boundaries.end.offset),i=t-e.offset}const r=e.offset-o.startOffset,s=new Ls(o,r,i);return e.offset+=i,this.position=e,Bs("text",s,t,e,i)}return e.path.pop(),e.offset++,this.position=e,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():Bs("elementEnd",n,t,e)}_previous(){const t=this.position,e=Hs.createFromPosition(this.position),n=this._visitedParent;if(null===n.parent&&0===e.offset)return{done:!0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};const o=e.textNode?e.textNode:e.nodeBefore;if(o instanceof Fs)return e.offset--,this.shallow?(this.position=e,Bs("elementStart",o,t,e,1)):(e.path.push(o.maxOffset),this.position=e,this._visitedParent=o,this.ignoreElementEnd?this._previous():Bs("elementEnd",o,t,e));if(o instanceof js){let i;if(this.singleCharacters)i=1;else{let t=o.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>t&&(t=this.boundaries.start.offset),i=e.offset-t}const r=e.offset-o.startOffset,s=new Ls(o,r-i,i);return e.offset-=i,this.position=e,Bs("text",s,t,e,i)}return e.path.pop(),this.position=e,this._visitedParent=n.parent,Bs("elementStart",n,t,e,1)}}function Bs(t,e,n,o,i){return{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:o,length:i}}}var Us=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0};class Hs{constructor(t,e,n="toNone"){if(!t.is("element")&&!t.is("documentFragment"))throw new M.b("model-position-root-invalid: Position root invalid.");if(!(e instanceof Array)||0===e.length)throw new M.b("model-position-path-incorrect: Position path must be an array with at least one item.",{path:e});e=t.getPath().concat(e),t=t.root,this.root=t,this.path=e,this.stickiness=n}get offset(){return Us(this.path)}set offset(t){this.path[this.path.length-1]=t}get parent(){let t=this.root;for(let e=0;e<this.path.length-1;e++)t=t.getChild(t.offsetToIndex(this.path[e]));return t}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){const t=this.parent.getChild(this.index);return t instanceof js&&t.startOffset<this.offset?t:null}get nodeAfter(){return null===this.textNode?this.parent.getChild(this.index):null}get nodeBefore(){return null===this.textNode?this.parent.getChild(this.index-1):null}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(t){if(this.root!=t.root)return"different";const e=U(this.path,t.path);switch(e){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[e]<t.path[e]?"before":"after"}}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new zs(e);return n.skip(t),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonPath(t){if(this.root!=t.root)return[];const e=U(this.path,t.path),n="string"==typeof e?Math.min(this.path.length,t.path.length):e;return this.path.slice(0,n)}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let o=0;for(;e[o]==n[o]&&e[o];)o++;return 0===o?null:e[o-1]}getShiftedBy(t){const e=Hs.createFromPosition(this),n=e.offset+t;return e.offset=n<0?0:n,e}isAfter(t){return"after"==this.compareWith(t)}isBefore(t){return"before"==this.compareWith(t)}isEqual(t){return"same"==this.compareWith(t)}isTouching(t){let e=null,n=null;switch(this.compareWith(t)){case"same":return!0;case"before":e=Hs.createFromPosition(this),n=Hs.createFromPosition(t);break;case"after":e=Hs.createFromPosition(t),n=Hs.createFromPosition(this);break;default:return!1}let o=e.parent;for(;e.path.length+n.path.length;){if(e.isEqual(n))return!0;if(e.path.length>n.path.length){if(e.offset!==o.maxOffset)return!1;e.path=e.path.slice(0,-1),o=o.parent,e.offset++}else{if(0!==n.offset)return!1;n.path=n.path.slice(0,-1)}}}hasSameParentAs(t){if(this.root!==t.root)return!1;return"same"==U(this.getParentPath(),t.getParentPath())}getTransformedByOperation(t){let e;switch(t.type){case"insert":e=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":e=this._getTransformedByMoveOperation(t);break;case"split":e=this._getTransformedBySplitOperation(t);break;case"merge":e=this._getTransformedByMergeOperation(t);break;default:e=Hs.createFromPosition(this)}return e}_getTransformedByInsertOperation(t){return this._getTransformedByInsertion(t.position,t.howMany)}_getTransformedByMoveOperation(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}_getTransformedBySplitOperation(t){const e=t.movedRange;return e.containsPosition(this)||e.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}_getTransformedByMergeOperation(t){const e=t.movedRange;let n;return e.containsPosition(this)||e.start.isEqual(this)?(n=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(n=n._getTransformedByDeletion(t.deletionPosition,1))):n=this.isEqual(t.deletionPosition)?Hs.createFromPosition(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),n}_getTransformedByDeletion(t,e){const n=Hs.createFromPosition(this);if(this.root!=t.root)return n;if("same"==U(t.getParentPath(),this.getParentPath())){if(t.offset<this.offset){if(t.offset+e>this.offset)return null;n.offset-=e}}else if("prefix"==U(t.getParentPath(),this.getParentPath())){const o=t.path.length-1;if(t.offset<=this.path[o]){if(t.offset+e>this.path[o])return null;n.path[o]-=e}}return n}_getTransformedByInsertion(t,e){const n=Hs.createFromPosition(this);if(this.root!=t.root)return n;if("same"==U(t.getParentPath(),this.getParentPath()))(t.offset<this.offset||t.offset==this.offset&&"toPrevious"!=this.stickiness)&&(n.offset+=e);else if("prefix"==U(t.getParentPath(),this.getParentPath())){const o=t.path.length-1;t.offset<=this.path[o]&&(n.path[o]+=e)}return n}_getTransformedByMove(t,e,n){if(e=e._getTransformedByDeletion(t,n),t.isEqual(e))return Hs.createFromPosition(this);const o=this._getTransformedByDeletion(t,n);return null===o||t.isEqual(this)&&"toNext"==this.stickiness||t.getShiftedBy(n).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(t,e):o._getTransformedByInsertion(e,n)}_getCombined(t,e){const n=t.path.length-1,o=Hs.createFromPosition(e);return o.stickiness=this.stickiness,o.offset=o.offset+this.path[n]-t.offset,o.path=o.path.concat(this.path.slice(n+1)),o}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}static createAt(t,e){if(t instanceof Hs)return this.createFromPosition(t);{const n=t;if("end"==e)e=n.maxOffset;else{if("before"==e)return this.createBefore(n);if("after"==e)return this.createAfter(n);e||(e=0)}return this.createFromParentAndOffset(n,e)}}static createAfter(t){if(!t.parent)throw new M.b("model-position-after-root: You cannot make a position after root.",{root:t});return this.createFromParentAndOffset(t.parent,t.endOffset)}static createBefore(t){if(!t.parent)throw new M.b("model-position-before-root: You cannot make a position before root.",{root:t});return this.createFromParentAndOffset(t.parent,t.startOffset)}static createFromParentAndOffset(t,e){if(!t.is("element")&&!t.is("documentFragment"))throw new M.b("model-position-parent-incorrect: Position parent have to be a element or document fragment.");const n=t.getPath();return n.push(e),new this(t.root,n)}static createFromPosition(t){const e=new this(t.root,t.path.slice());return e.stickiness=t.stickiness,e}static fromJSON(t,e){if("$graveyard"===t.root){const n=new Hs(e.graveyard,t.path);return n.stickiness=t.stickiness,n}if(!e.getRoot(t.root))throw new M.b("model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.",{rootName:t.root});const n=new Hs(e.getRoot(t.root),t.path);return n.stickiness=t.stickiness,n}}class qs{constructor(t,e=null){this.start=Hs.createFromPosition(t),this.end=e?Hs.createFromPosition(e):Hs.createFromPosition(t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new zs({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==U(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),o=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&o}containsItem(t){const e=Hs.createBefore(t);return this.containsPosition(e)||this.start.isEqual(e)}isEqual(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new qs(this.start,t.start)),this.containsPosition(t.end)&&e.push(new qs(t.end,this.end))):e.push(qs.createFromRange(this)),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new qs(e,n)}return null}getMinimalFlatRanges(){const t=[],e=this.start.getCommonPath(this.end).length,n=Hs.createFromPosition(this.start);let o=n.parent;for(;n.path.length>e+1;){const e=o.maxOffset-n.offset;0!==e&&t.push(new qs(n,n.getShiftedBy(e))),n.path=n.path.slice(0,-1),n.offset++,o=o.parent}for(;n.path.length<=this.end.path.length;){const e=this.end.path[n.path.length-1],o=e-n.offset;0!==o&&t.push(new qs(n,n.getShiftedBy(o))),n.offset=e,n.path.push(0)}return t}getWalker(t={}){return t.boundaries=this,new zs(t)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new zs(t);for(const t of e)yield t.item}*getPositions(t={}){t.boundaries=this;const e=new zs(t);yield e.position;for(const t of e)yield t.nextPosition}getTransformedByOperation(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[qs.createFromRange(this)]}getTransformedByOperations(t){const e=[qs.createFromRange(this)];for(const n of t)for(let t=0;t<e.length;t++){const o=e[t].getTransformedByOperation(n);e.splice(t,1,...o),t+=o.length-1}for(let t=0;t<e.length;t++){const n=e[t];for(let o=t+1;o<e.length;o++){const t=e[o];(n.containsRange(t)||t.containsRange(n)||n.isEqual(t))&&e.splice(o,1)}}return e}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}_getTransformedByInsertOperation(t,e=!1){return this._getTransformedByInsertion(t.position,t.howMany,e)}_getTransformedByMoveOperation(t,e=!1){const n=t.sourcePosition,o=t.howMany,i=t.targetPosition;return this._getTransformedByMove(n,i,o,e)}_getTransformedBySplitOperation(t){const e=this.start._getTransformedBySplitOperation(t);let n;return n=this.end.isEqual(t.insertionPosition)?this.end.getShiftedBy(1):this.end._getTransformedBySplitOperation(t),new qs(e,n)}_getTransformedByMergeOperation(t){let e=this.start._getTransformedByMergeOperation(t),n=this.end._getTransformedByMergeOperation(t);return e.root!=n.root&&(n=this.end.getShiftedBy(-1)),e.isAfter(n)?(t.sourcePosition.isBefore(t.targetPosition)?(e=Hs.createFromPosition(n)).offset=0:(t.deletionPosition.isEqual(e)||(n=t.deletionPosition),e=t.targetPosition),new qs(e,n)):new qs(e,n)}_getTransformedByInsertion(t,e,n=!1){if(n&&this.containsPosition(t))return[new qs(this.start,t),new qs(t.getShiftedBy(e),this.end._getTransformedByInsertion(t,e))];{const n=qs.createFromRange(this);return n.start=n.start._getTransformedByInsertion(t,e),n.end=n.end._getTransformedByInsertion(t,e),[n]}}_getTransformedByMove(t,e,n,o=!1){if(this.isCollapsed){const o=this.start._getTransformedByMove(t,e,n);return[new qs(o)]}const i=qs.createFromPositionAndShift(t,n),r=e._getTransformedByDeletion(t,n);if(this.containsPosition(e)&&!o&&(i.containsPosition(this.start)||i.containsPosition(this.end))){const o=this.start._getTransformedByMove(t,e,n),i=this.end._getTransformedByMove(t,e,n);return[new qs(o,i)]}let s;const a=this.getDifference(i);let c=null;const l=this.getIntersection(i);if(1==a.length?c=new qs(a[0].start._getTransformedByDeletion(t,n),a[0].end._getTransformedByDeletion(t,n)):2==a.length&&(c=new qs(this.start,this.end._getTransformedByDeletion(t,n))),s=c?c._getTransformedByInsertion(r,n,null!==l||o):[],l){const t=new qs(l.start._getCombined(i.start,r),l.end._getCombined(i.start,r));2==s.length?s.splice(1,0,t):s.push(t)}return s}_getTransformedByDeletion(t,e){let n=this.start._getTransformedByDeletion(t,e),o=this.end._getTransformedByDeletion(t,e);return null==n&&null==o?null:(null==n&&(n=t),null==o&&(o=t),new qs(n,o))}static createFromPositionAndShift(t,e){const n=t,o=t.getShiftedBy(e);return e>0?new this(n,o):new this(o,n)}static createFromParentsAndOffsets(t,e,n,o){return new this(Hs.createFromParentAndOffset(t,e),Hs.createFromParentAndOffset(n,o))}static createFromRange(t){return new this(t.start,t.end)}static createIn(t){return this.createFromParentsAndOffsets(t,0,t,t.maxOffset)}static createOn(t){return this.createFromPositionAndShift(Hs.createBefore(t),t.offsetSize)}static createCollapsedAt(t,e){const n=Hs.createAt(t,e),o=Hs.createFromPosition(n);return new qs(n,o)}static createFromRanges(t){if(0===t.length)throw new M.b("range-create-from-ranges-empty-array: At least one range has to be passed.");if(1==t.length)return this.createFromRange(t[0]);const e=t[0];t.sort((t,e)=>t.start.isAfter(e.start)?1:-1);const n=t.indexOf(e),o=new this(e.start,e.end);if(n>0)for(let e=n-1;t[e].end.isEqual(o.start);e++)o.start=Hs.createFromPosition(t[e].start);for(let e=n+1;e<t.length&&t[e].start.isEqual(o.end);e++)o.end=Hs.createFromPosition(t[e].end);return o}static fromJSON(t,e){return new this(Hs.fromJSON(t.start,e),Hs.fromJSON(t.end,e))}}class Ws{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this.on("modelToViewPosition",(t,e)=>{if(e.viewPosition)return;const n=this._modelToViewMapping.get(e.modelPosition.parent);e.viewPosition=this._findPositionIn(n,e.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(t,e)=>{if(e.modelPosition)return;let n=e.viewPosition.parent,o=this._viewToModelMapping.get(n);for(;!o;)n=n.parent,o=this._viewToModelMapping.get(n);const i=this._toModelOffset(e.viewPosition.parent,e.viewPosition.offset,n);e.modelPosition=Hs.createFromParentAndOffset(o,i)},{priority:"low"})}bindElements(t,e){this._modelToViewMapping.set(t,e),this._viewToModelMapping.set(e,t)}unbindViewElement(t){const e=this.toModelElement(t);this._viewToModelMapping.delete(t),this._modelToViewMapping.get(e)==t&&this._modelToViewMapping.delete(e)}unbindModelElement(t){const e=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(e)==t&&this._viewToModelMapping.delete(e)}bindElementToMarker(t,e){const n=this._markerNameToElements.get(e)||new Set;n.add(t),this._markerNameToElements.set(e,n)}unbindElementsFromMarkerName(t){this._markerNameToElements.delete(t)}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map}toModelElement(t){return this._viewToModelMapping.get(t)}toViewElement(t){return this._modelToViewMapping.get(t)}toModelRange(t){return new qs(this.toModelPosition(t.start),this.toModelPosition(t.end))}toViewRange(t){return new Qo(this.toViewPosition(t.start),this.toViewPosition(t.end))}toModelPosition(t){const e={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",e),e.modelPosition}toViewPosition(t,e={isPhantom:!1}){const n={modelPosition:t,mapper:this,isPhantom:e.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(t){const e=this._markerNameToElements.get(t);if(!e)return null;const n=new Set;for(const t of e)if(t.is("attributeElement"))for(const e of t.getElementsWithSameId())n.add(e);else n.add(t);return n}registerViewToModelLength(t,e){this._viewToModelLengthCallbacks.set(t,e)}_toModelOffset(t,e,n){if(n!=t){return this._toModelOffset(t.parent,t.index,n)+this._toModelOffset(t,e,t)}if(t.is("text"))return e;let o=0;for(let n=0;n<e;n++)o+=this.getModelLength(t.getChild(n));return o}getModelLength(t){if(this._viewToModelLengthCallbacks.get(t.name)){return this._viewToModelLengthCallbacks.get(t.name)(t)}if(this._viewToModelMapping.has(t))return 1;if(t.is("text"))return t.data.length;if(t.is("uiElement"))return 0;{let e=0;for(const n of t.getChildren())e+=this.getModelLength(n);return e}}_findPositionIn(t,e){let n,o=0,i=0,r=0;if(t.is("text"))return new $o(t,e);for(;i<e;)n=t.getChild(r),i+=o=this.getModelLength(n),r++;return i==e?this._moveViewPositionToTextNode(new $o(t,r)):this._findPositionIn(n,e-(i-o))}_moveViewPositionToTextNode(t){const e=t.nodeBefore,n=t.nodeAfter;return e instanceof co?new $o(e,e.data.length):n instanceof co?new $o(n,0):t}}B(Ws,R);class Ys{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(t,e){e=Gs(e),t instanceof Ls&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(e,!0)}consume(t,e){return e=Gs(e),t instanceof Ls&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,e)&&(this._consumable.get(t).set(e,!1),!0)}test(t,e){e=Gs(e),t instanceof Ls&&(t=this._getSymbolForTextProxy(t));const n=this._consumable.get(t);if(void 0===n)return null;const o=n.get(e);return void 0===o?null:o}revert(t,e){e=Gs(e),t instanceof Ls&&(t=this._getSymbolForTextProxy(t));const n=this.test(t,e);return!1===n?(this._consumable.get(t).set(e,!0),!0):!0!==n&&null}_getSymbolForTextProxy(t){let e=null;const n=this._textProxyRegistry.get(t.startOffset);if(n){const o=n.get(t.endOffset);o&&(e=o.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t.startOffset,t.endOffset,t.parent)),e}_addSymbolForTextProxy(t,e,n){const o=Symbol("textProxySymbol");let i,r;return(i=this._textProxyRegistry.get(t))||(i=new Map,this._textProxyRegistry.set(t,i)),(r=i.get(e))||(r=new Map,i.set(e,r)),r.set(n,o),o}}function Gs(t){const e=t.split(":");return e.length>1?e[0]+":"+e[1]:e[0]}class $s{constructor(t={}){this.conversionApi=No({dispatcher:this},t)}convertChanges(t,e){for(const n of t.getMarkersToRemove())this.convertMarkerRemove(n.name,n.range,e);for(const n of t.getChanges())"insert"==n.type?this.convertInsert(qs.createFromPositionAndShift(n.position,n.length),e):"remove"==n.type?this.convertRemove(n.position,n.length,n.name,e):this.convertAttribute(n.range,n.attributeKey,n.attributeOldValue,n.attributeNewValue,e);for(const n of t.getMarkersToAdd())this.convertMarkerAdd(n.name,n.range,e)}convertInsert(t,e){this.conversionApi.writer=e,this.conversionApi.consumable=this._createInsertConsumable(t);for(const e of t){const t=e.item,n={item:t,range:qs.createFromPositionAndShift(e.previousPosition,e.length)};this._testAndFire("insert",n);for(const e of t.getAttributeKeys())n.attributeKey=e,n.attributeOldValue=null,n.attributeNewValue=t.getAttribute(e),this._testAndFire(`attribute:${e}`,n)}this._clearConversionApi()}convertRemove(t,e,n,o){this.conversionApi.writer=o,this.fire("remove:"+n,{position:t,length:e},this.conversionApi),this._clearConversionApi()}convertAttribute(t,e,n,o,i){this.conversionApi.writer=i,this.conversionApi.consumable=this._createConsumableForRange(t,`attribute:${e}`);for(const i of t){const t={item:i.item,range:qs.createFromPositionAndShift(i.previousPosition,i.length),attributeKey:e,attributeOldValue:n,attributeNewValue:o};this._testAndFire(`attribute:${e}`,t)}this._clearConversionApi()}convertSelection(t,e,n){const o=Array.from(e.getMarkersAtPosition(t.getFirstPosition()));if(this.conversionApi.writer=n,this.conversionApi.consumable=this._createSelectionConsumable(t,o),this.fire("selection",{selection:t},this.conversionApi),t.isCollapsed){for(const e of o){const n=e.getRange();if(!Qs(t.getFirstPosition(),e,this.conversionApi.mapper))continue;const o={item:t,markerName:e.name,markerRange:n};this.conversionApi.consumable.test(t,"addMarker:"+e.name)&&this.fire("addMarker:"+e.name,o,this.conversionApi)}for(const e of t.getAttributeKeys()){const n={item:t,range:t.getFirstRange(),attributeKey:e,attributeOldValue:null,attributeNewValue:t.getAttribute(e)};this.conversionApi.consumable.test(t,"attribute:"+n.attributeKey)&&this.fire("attribute:"+n.attributeKey,n,this.conversionApi)}this._clearConversionApi()}}convertMarkerAdd(t,e,n){if(!e.root.document||"$graveyard"==e.root.rootName)return;this.conversionApi.writer=n;const o="addMarker:"+t;if(e.isCollapsed){const n=new Ys;return n.add(e,o),this.conversionApi.consumable=n,void this.fire(o,{markerName:t,markerRange:e},this.conversionApi)}this.conversionApi.consumable=this._createConsumableForRange(e,o);for(const n of e.getItems()){if(!this.conversionApi.consumable.test(n,o))continue;const i={item:n,range:qs.createOn(n),markerName:t,markerRange:e};this.fire(o,i,this.conversionApi)}this._clearConversionApi()}convertMarkerRemove(t,e,n){e.root.document&&"$graveyard"!=e.root.rootName&&(this.conversionApi.writer=n,this.fire("removeMarker:"+t,{markerName:t,markerRange:e},this.conversionApi),this._clearConversionApi())}_createInsertConsumable(t){const e=new Ys;for(const n of t){const t=n.item;e.add(t,"insert");for(const n of t.getAttributeKeys())e.add(t,"attribute:"+n)}return e}_createConsumableForRange(t,e){const n=new Ys;for(const o of t.getItems())n.add(o,e);return n}_createSelectionConsumable(t,e){const n=new Ys;n.add(t,"selection");for(const o of e)n.add(t,"addMarker:"+o.name);for(const e of t.getAttributeKeys())n.add(t,"attribute:"+e);return n}_testAndFire(t,e){if(!this.conversionApi.consumable.test(e.item,t))return;const n=e.item.name||"$text";this.fire(t+":"+n,e,this.conversionApi)}_clearConversionApi(){delete this.conversionApi.writer,delete this.conversionApi.consumable}}function Qs(t,e,n){const o=e.getRange(),i=Array.from(t.getAncestors());return i.shift(),i.reverse(),!i.some(t=>{if(o.containsItem(t)){return!!n.toViewElement(t).getCustomProperty("addHighlight")}})}B($s,R);class Js{constructor(t,e,n){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,t&&this.setTo(t,e,n)}get anchor(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}get focus(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(t){if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const o of t._ranges)if(e.isEqual(o)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const t of this._ranges)yield qs.createFromRange(t)}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?qs.createFromRange(t):null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?qs.createFromRange(t):null}getFirstPosition(){const t=this.getFirstRange();return t?Hs.createFromPosition(t.start):null}getLastPosition(){const t=this.getLastRange();return t?Hs.createFromPosition(t.end):null}setTo(t,e,n){if(null===t)this._setRanges([]);else if(t instanceof Js)this._setRanges(t.getRanges(),t.isBackward);else if(t&&"function"==typeof t.getRanges)this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof qs)this._setRanges([t],!!e&&!!e.backward);else if(t instanceof Hs)this._setRanges([new qs(t)]);else if(t instanceof Ds){const o=!!n&&!!n.backward;let i;if("in"==e)i=qs.createIn(t);else if("on"==e)i=qs.createOn(t);else{if(void 0===e)throw new M.b("model-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.");i=qs.createCollapsedAt(t,e)}this._setRanges([i],o)}else{if(!ho(t))throw new M.b("model-selection-setTo-not-selectable: Cannot set selection to given place.");this._setRanges(t,e&&!!e.backward)}}_setRanges(t,e=!1){const n=(t=Array.from(t)).some(t=>{if(!(t instanceof qs))throw new M.b("model-selection-set-ranges-not-range: Selection range set to an object that is not an instance of model.Range.");return this._ranges.every(e=>!e.isEqual(t))});if(t.length!==this._ranges.length||n){this._removeAllRanges();for(const e of t)this._pushRange(e);this._lastRangeBackward=!!e,this.fire("change:range",{directChange:!0})}}setFocus(t,e){if(null===this.anchor)throw new M.b("model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.");const n=Hs.createAt(t,e);if("same"==n.compareWith(this.focus))return;const o=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(o)?(this._pushRange(new qs(n,o)),this._lastRangeBackward=!0):(this._pushRange(new qs(o,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(t){return this._attrs.has(t)}removeAttribute(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}setAttribute(t,e){this.getAttribute(t)!==e&&(this._attrs.set(t,e),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}getSelectedElement(){if(1!==this.rangeCount)return null;const t=this.getFirstRange(),e=t.start.nodeAfter,n=t.end.nodeBefore;return e instanceof Fs&&e==n?e:null}*getSelectedBlocks(){const t=new WeakSet;for(const e of this.getRanges()){const n=Zs(e.start,t);n&&(yield n);for(const n of e.getWalker())"elementEnd"==n.type&&Ks(n.item,t)&&(yield n.item);const o=Zs(e.end,t);o&&!e.end.isTouching(Hs.createAt(o))&&(yield o)}}containsEntireContent(t=this.anchor.root){const e=Hs.createAt(t),n=Hs.createAt(t,"end");return e.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(t){this._checkRange(t),this._ranges.push(qs.createFromRange(t))}_checkRange(t){for(let e=0;e<this._ranges.length;e++)if(t.isIntersecting(this._ranges[e]))throw new M.b("model-selection-range-intersects: Trying to add a range that intersects with another range in the selection.",{addedRange:t,intersectingRange:this._ranges[e]})}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function Ks(t,e){return!e.has(t)&&(e.add(t),t.document.model.schema.isBlock(t)&&t.parent)}function Zs(t,e){const n=t.parent.getAncestors({parentFirst:!0,includeSelf:!0}),o=n.find(t=>Ks(t,e));return n.forEach(t=>e.add(t)),o}B(Js,R);class Xs extends qs{constructor(t,e){super(t,e),function(){this.listenTo(this.root.document.model,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&function(t){const e=this.getTransformedByOperation(t),n=qs.createFromRanges(e),o=!n.isEqual(this),i=function(t,e){switch(e.type){case"insert":return t.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return t.containsPosition(e.sourcePosition)||t.start.isEqual(e.sourcePosition)||t.containsPosition(e.targetPosition);case"split":return t.containsPosition(e.splitPosition)||t.containsPosition(e.insertionPosition)}return!1}(this,t);let r=null;if(o){"$graveyard"==n.root.rootName&&(r="remove"==t.type?t.sourcePosition:t.deletionPosition);const e=qs.createFromRange(this);this.start=n.start,this.end=n.end,this.fire("change:range",e,{deletionPosition:r})}else i&&this.fire("change:content",qs.createFromRange(this),{deletionPosition:r})}.call(this,n)},{priority:"low"})}.call(this)}detach(){this.stopListening()}}B(Xs,R);const ta="selection:";class ea{constructor(t){this._selection=new na(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(t){return this._selection.containsEntireContent(t)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(t){return this._selection.getAttribute(t)}hasAttribute(t){return this._selection.hasAttribute(t)}_setFocus(t,e){this._selection.setFocus(t,e)}_setTo(t,e,n){this._selection.setTo(t,e,n)}_setAttribute(t,e){this._selection.setAttribute(t,e)}_removeAttribute(t){this._selection.removeAttribute(t)}_getStoredAttributes(){return this._selection._getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(t){this._selection.restoreGravity(t)}static _getStoreAttributeKey(t){return ta+t}static _isStoreAttributeKey(t){return t.startsWith(ta)}}B(ea,R);class na extends Js{constructor(t){super(),this._model=t.model,this._document=t,this._attributePriority=new Map,this._fixGraveyardRangesData=[],this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this.on("change:range",()=>{for(const t of this.getRanges())if(!this._document._validateSelectionRange(t))throw new M.b("document-selection-wrong-position: Range from document selection starts or ends at incorrect position.",{range:t})}),this.listenTo(this._document,"change",(t,e)=>{this._updateAttributes(!1),function(t,e){const n=t.document.differ;for(const o of n.getChanges()){if("insert"!=o.type)continue;const n=o.position.parent,i=o.length===n.maxOffset;i&&t.enqueueChange(e,t=>{const e=Array.from(n.getAttributeKeys()).filter(t=>t.startsWith(ta));for(const o of e)t.removeAttribute(o,n)})}}(this._model,e)}),this.listenTo(this._model,"applyOperation",()=>{for(;this._fixGraveyardRangesData.length;){const{liveRange:t,sourcePosition:e}=this._fixGraveyardRangesData.shift();this._fixGraveyardSelection(t,e)}this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1}))},{priority:"lowest"})}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(t,e,n){super.setTo(t,e,n),this._refreshAttributes()}setFocus(t,e){super.setFocus(t,e),this._refreshAttributes()}setAttribute(t,e){if(this._setAttribute(t,e)){const e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:!0})}}removeAttribute(t){if(this._removeAttribute(t)){const e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:!0})}}overrideGravity(){const t=E();return this._overriddenGravityRegister.add(t),1===this._overriddenGravityRegister.size&&this._refreshAttributes(),t}restoreGravity(t){if(!this._overriddenGravityRegister.has(t))throw new M.b("document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.",{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._refreshAttributes()}_refreshAttributes(){this._updateAttributes(!0)}_popRange(){this._ranges.pop().detach()}_pushRange(t){const e=this._prepareRange(t);e&&this._ranges.push(e)}_prepareRange(t){if(this._checkRange(t),t.root==this._document.graveyard)return void fs.a.warn("model-selection-range-in-graveyard: Trying to add a Range that is in the graveyard root. Range rejected.");const e=Xs.createFromRange(t);return e.on("change:range",(t,n,o)=>{this._hasChangedRange=!0,e.root==this._document.graveyard&&this._fixGraveyardRangesData.push({liveRange:e,sourcePosition:o.deletionPosition})}),e}_updateAttributes(t){const e=Rs(this._getSurroundingAttributes()),n=Rs(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else for(const[t,e]of this._attributePriority)"low"==e&&(this._attrs.delete(t),this._attributePriority.delete(t));this._setAttributesTo(e);const o=[];for(const[t,e]of this.getAttributes())n.has(t)&&n.get(t)===e||o.push(t);for(const[t]of n)this.hasAttribute(t)||o.push(t);o.length>0&&this.fire("change:attribute",{attributeKeys:o,directChange:!1})}_setAttribute(t,e,n=!0){const o=n?"normal":"low";return("low"!=o||"normal"!=this._attributePriority.get(t))&&(super.getAttribute(t)!==e&&(this._attrs.set(t,e),this._attributePriority.set(t,o),!0))}_removeAttribute(t,e=!0){const n=e?"normal":"low";return("low"!=n||"normal"!=this._attributePriority.get(t))&&(this._attributePriority.set(t,n),!!super.hasAttribute(t)&&(this._attrs.delete(t),!0))}_setAttributesTo(t){const e=new Set;for(const[e,n]of this.getAttributes())t.get(e)!==n&&this._removeAttribute(e,!1);for(const[n,o]of t){this._setAttribute(n,o,!1)&&e.add(n)}return e}*_getStoredAttributes(){const t=this.getFirstPosition().parent;if(this.isCollapsed&&t.isEmpty)for(const e of t.getAttributeKeys())if(e.startsWith(ta)){yield[e.substr(ta.length),t.getAttribute(e)]}}_getSurroundingAttributes(){const t=this.getFirstPosition(),e=this._model.schema;let n=null;if(this.isCollapsed){const e=t.textNode?t.textNode:t.nodeBefore,o=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(n=oa(e)),n||(n=oa(o)),!this.isGravityOverridden&&!n){let t=e;for(;t&&!n;)n=oa(t=t.previousSibling)}if(!n){let t=o;for(;t&&!n;)n=oa(t=t.nextSibling)}n||(n=this._getStoredAttributes())}else{const t=this.getFirstRange();for(const o of t){if(o.item.is("element")&&e.isObject(o.item))break;"text"==o.type&&null===n&&(n=o.item.getAttributes())}}return n}_fixGraveyardSelection(t,e){const n=Hs.createFromPosition(e),o=this._model.schema.getNearestSelectionRange(n),i=this._ranges.indexOf(t);if(this._ranges.splice(i,1),t.detach(),o){const t=this._prepareRange(o);this._ranges.splice(i,0,t)}}}function oa(t){return t instanceof Ls||t instanceof js?t.getAttributes():null}var ia=1,ra=4;var sa=function(t){return io(t,ia|ra)};function aa(t){return(t=sa(t)).view=da(t.view,"container"),e=>{e.on("insert:"+t.model,function(t){return(e,n,o)=>{const i=t(n.item,o.writer);if(!i)return;if(!o.consumable.consume(n.item,"insert"))return;const r=o.mapper.toViewPosition(n.range.start);o.mapper.bindElements(n.item,i),o.writer.insert(r,i)}}(t.view),{priority:t.converterPriority||"normal"})}}function ca(t){let e="attribute:"+((t=sa(t)).model.key?t.model.key:t.model);if(t.model.name&&(e+=":"+t.model.name),t.model.values)for(const e of t.model.values)t.view[e]=da(t.view[e],"attribute");else t.view=da(t.view,"attribute");const n=ua(t);return o=>{o.on(e,function(t){return(e,n,o)=>{const i=t(n.attributeOldValue,o.writer),r=t(n.attributeNewValue,o.writer);if(!i&&!r)return;if(!o.consumable.consume(n.item,e.name))return;const s=o.writer,a=s.document.selection;if(n.item instanceof Js||n.item instanceof ea)s.wrap(a.getFirstRange(),r);else{let t=o.mapper.toViewRange(n.range);null!==n.attributeOldValue&&i&&(t=s.unwrap(t,i)),null!==n.attributeNewValue&&r&&s.wrap(t,r)}}}(n),{priority:t.converterPriority||"normal"})}}function la(t){let e="attribute:"+((t=sa(t)).model.key?t.model.key:t.model);if(t.model.name&&(e+=":"+t.model.name),t.model.values)for(const e of t.model.values)t.view[e]=ha(t.view[e]);else t.view=ha(t.view);const n=ua(t);return o=>{o.on(e,function(t){return t=t||((t,e)=>({value:t,key:e.attributeKey})),(e,n,o)=>{const i=t(n.attributeOldValue,n),r=t(n.attributeNewValue,n);if(!i&&!r)return;if(!o.consumable.consume(n.item,e.name))return;const s=o.mapper.toViewElement(n.item),a=o.writer;if(null!==n.attributeOldValue&&i)if("class"==i.key){const t=Array.isArray(i.value)?i.value:[i.value];for(const e of t)a.removeClass(e,s)}else if("style"==i.key){const t=Object.keys(i.value);for(const e of t)a.removeStyle(e,s)}else a.removeAttribute(i.key,s);if(null!==n.attributeNewValue&&r)if("class"==r.key){const t=Array.isArray(r.value)?r.value:[r.value];for(const e of t)a.addClass(e,s)}else if("style"==r.key){const t=Object.keys(r.value);for(const e of t)a.setStyle(e,r.value[e],s)}else a.setAttribute(r.key,r.value,s)}}(n),{priority:t.converterPriority||"normal"})}}function da(t,e){return"function"==typeof t?t:(n,o)=>(function(t,e,n){"string"==typeof t&&(t={name:t});let o;const i=Object.assign({},t.attributes);if("container"==n)o=e.createContainerElement(t.name,i);else if("attribute"==n){const n={priority:t.priority||oi.DEFAULT_PRIORITY};o=e.createAttributeElement(t.name,i,n)}else o=e.createUIElement(t.name,i);if(t.styles){const n=Object.keys(t.styles);for(const i of n)e.setStyle(i,t.styles[i],o)}if(t.classes){const n=t.classes;if("string"==typeof n)e.addClass(n,o);else for(const t of n)e.addClass(t,o)}return o})(t,o,e)}function ua(t){return t.model.values?(e,n)=>{const o=t.view[e];return o?o(e,n):null}:t.view}function ha(t){return"string"==typeof t?e=>({key:t,value:e}):"object"==typeof t?t.value?()=>t:e=>({key:t.key,value:e}):t}class fa{constructor(t){this.model=t,this.view=new Os,this.mapper=new Ws,this.downcastDispatcher=new $s({mapper:this.mapper});const e=this.model.document,n=e.selection,o=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._renderingDisabled=!0},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._renderingDisabled=!1,this.view.render()},{priority:"lowest"}),this.listenTo(e,"change",()=>{this.view.change(t=>{this.downcastDispatcher.convertChanges(e.differ,t),this.downcastDispatcher.convertSelection(n,o,t)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(t,e){return(n,o)=>{const i=o.newSelection,r=new Js,s=[];for(const t of i.getRanges())s.push(e.toModelRange(t));r.setTo(s,{backward:i.isBackward}),r.isEqual(t.document.selection)||t.change(t=>{t.setSelection(r)})}}(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",(t,e,n)=>{if(!n.consumable.consume(e.item,"insert"))return;const o=n.writer,i=n.mapper.toViewPosition(e.range.start),r=o.createText(e.item.data);o.insert(i,r)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(t,e,n)=>{const o=n.mapper.toViewPosition(e.position),i=e.position.getShiftedBy(e.length),r=n.mapper.toViewPosition(i,{isPhantom:!0}),s=new Qo(o,r),a=n.writer.remove(s.getTrimmed());for(const t of Qo.createIn(a).getItems())n.mapper.unbindViewElement(t)},{priority:"low"}),this.downcastDispatcher.on("selection",(t,e,n)=>{const o=n.writer,i=o.document.selection;for(const t of i.getRanges())t.isCollapsed&&t.end.parent.document&&n.writer.mergeAttributes(t.start);o.setSelection(null)},{priority:"low"}),this.downcastDispatcher.on("selection",(t,e,n)=>{const o=e.selection;if(o.isCollapsed)return;if(!n.consumable.consume(o,"selection"))return;const i=[];for(const t of o.getRanges()){const e=n.mapper.toViewRange(t);i.push(e)}n.writer.setSelection(i,{backward:o.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(t,e,n)=>{const o=e.selection;if(!o.isCollapsed)return;if(!n.consumable.consume(o,"selection"))return;const i=n.writer,r=o.getFirstPosition(),s=n.mapper.toViewPosition(r),a=i.breakAttributes(s);i.setSelection(a)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(t=>{if("$graveyard"==t.rootName)return null;const e=new Yo(t.name);return e.rootName=t.rootName,e._document=this.view.document,this.mapper.bindElements(t,e),e})}destroy(){this.view.destroy(),this.stopListening()}}B(fa,Lo);class ma{constructor(t,e=[]){this._editor=t,this._availablePlugins=new Map,this._plugins=new Map;for(const t of e)this._availablePlugins.set(t,t),t.pluginName&&this._availablePlugins.set(t.pluginName,t)}*[Symbol.iterator](){for(const t of this._plugins)"function"==typeof t[0]&&(yield t)}get(t){return this._plugins.get(t)}load(t,e=[]){const n=this,o=this._editor,i=new Set,r=[],s=u(t),a=u(e),c=function(t){const e=[];for(const n of t)d(n)||e.push(n);return e.length?e:null}(t);if(c){const t="plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.";return fs.a.error(t,{plugins:c}),Promise.reject(new M.b(t,{plugins:c}))}return Promise.all(s.map(l)).then(()=>r);function l(t){if(!a.includes(t)&&!n.get(t)&&!i.has(t))return function(t){return new Promise(s=>{i.add(t),t.requires&&t.requires.forEach(n=>{const o=d(n);if(e.includes(o))throw new M.b("plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.",{plugin:o,requiredBy:t});l(o)});const a=new t(o);n._add(t,a),r.push(a),s()})}(t).catch(e=>{throw fs.a.error("plugincollection-load: It was not possible to load the plugin.",{plugin:t}),e})}function d(t){return"function"==typeof t?t:n._availablePlugins.get(t)}function u(t){return t.map(t=>d(t)).filter(t=>!!t)}}destroy(){const t=Array.from(this).map(([,t])=>t).filter(t=>"function"==typeof t.destroy).map(t=>t.destroy());return Promise.all(t)}_add(t,e){this._plugins.set(t,e);const n=t.pluginName;n&&(this._plugins.has(n)?fs.a.warn("plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.",{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:t}):this._plugins.set(n,e))}}class ga{constructor(){this._commands=new Map}add(t,e){this._commands.set(t,e)}get(t){return this._commands.get(t)}execute(t,...e){const n=this.get(t);if(!n)throw new M.b("commandcollection-command-not-found: Command does not exist.",{commandName:t});n.execute(...e)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands())t.destroy()}}function pa(t,e){const n=Object.keys(window.CKEDITOR_TRANSLATIONS).length;return 1===n&&(t=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]),0!==n&&function(t,e){return t in window.CKEDITOR_TRANSLATIONS&&e in window.CKEDITOR_TRANSLATIONS[t]}(t,e)?window.CKEDITOR_TRANSLATIONS[t][e].replace(/ \[context: [^\]]+\]$/,""):e.replace(/ \[context: [^\]]+\]$/,"")}window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});class ba{constructor(t){this.language=t||"en",this.t=((...t)=>this._t(...t))}_t(t,e){let n=pa(this.language,t);return e&&(n=n.replace(/%(\d+)/g,(t,n)=>n<e.length?e[n]:t)),n}}class wa{constructor(){this._consumables=new Map}add(t,e){let n;t.is("text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?n=this._consumables.get(t):(n=new _a,this._consumables.set(t,n)),n.add(e))}test(t,e){const n=this._consumables.get(t);return void 0===n?null:t.is("text")||t.is("documentFragment")?n:n.test(e)}consume(t,e){return!!this.test(t,e)&&(t.is("text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(e),!0)}revert(t,e){const n=this._consumables.get(t);void 0!==n&&(t.is("text")||t.is("documentFragment")?this._consumables.set(t,!0):n.revert(e))}static consumablesFromElement(t){const e={name:!0,attributes:[],classes:[],styles:[]},n=t.getAttributeKeys();for(const t of n)"style"!=t&&"class"!=t&&e.attributes.push(t);const o=t.getClassNames();for(const t of o)e.classes.push(t);const i=t.getStyleNames();for(const t of i)e.styles.push(t);return e}static createFrom(t,e){if(e||(e=new wa),t.is("text"))return e.add(t),e;t.is("element")&&e.add(t,wa.consumablesFromElement(t)),t.is("documentFragment")&&e.add(t);for(const n of t.getChildren())e=wa.createFrom(n,e);return e}}class _a{constructor(){this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(t){t.name&&(this._canConsumeName=!0);for(const e in this._consumables)e in t&&this._add(e,t[e])}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const e in this._consumables)if(e in t){const n=this._test(e,t[e]);if(!0!==n)return n}return!0}consume(t){t.name&&(this._canConsumeName=!1);for(const e in this._consumables)e in t&&this._consume(e,t[e])}revert(t){t.name&&(this._canConsumeName=!0);for(const e in this._consumables)e in t&&this._revert(e,t[e])}_add(t,e){const n=ce(e)?e:[e],o=this._consumables[t];for(const e of n){if("attributes"===t&&("class"===e||"style"===e))throw new M.b("viewconsumable-invalid-attribute: Classes and styles should be handled separately.");o.set(e,!0)}}_test(t,e){const n=ce(e)?e:[e],o=this._consumables[t];for(const e of n)if("attributes"!==t||"class"!==e&&"style"!==e){const t=o.get(e);if(void 0===t)return null;if(!t)return!1}else{const t="class"==e?"classes":"styles",n=this._test(t,[...this._consumables[t].keys()]);if(!0!==n)return n}return!0}_consume(t,e){const n=ce(e)?e:[e],o=this._consumables[t];for(const e of n)if("attributes"!==t||"class"!==e&&"style"!==e)o.set(e,!1);else{const t="class"==e?"classes":"styles";this._consume(t,[...this._consumables[t].keys()])}}_revert(t,e){const n=ce(e)?e:[e],o=this._consumables[t];for(const e of n)if("attributes"!==t||"class"!==e&&"style"!==e){!1===o.get(e)&&o.set(e,!0)}else{const t="class"==e?"classes":"styles";this._revert(t,[...this._consumables[t].keys()])}}}class va{constructor(){this._sourceDefinitions={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(t,e)=>{e[0]=new ka(e[0])},{priority:"highest"}),this.on("checkChild",(t,e)=>{e[0]=new ka(e[0]),e[1]=this.getDefinition(e[1])},{priority:"highest"})}register(t,e){if(this._sourceDefinitions[t])throw new M.b("schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.",{itemName:t});this._sourceDefinitions[t]=[Object.assign({},e)],this._clearCache()}extend(t,e){if(!this._sourceDefinitions[t])throw new M.b("schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.",{itemName:t});this._sourceDefinitions[t].push(Object.assign({},e)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(t){let e;return e="string"==typeof t?t:t.is&&(t.is("text")||t.is("textProxy"))?"$text":t.name,this.getDefinitions()[e]}isRegistered(t){return!!this.getDefinition(t)}isBlock(t){const e=this.getDefinition(t);return!(!e||!e.isBlock)}isLimit(t){const e=this.getDefinition(t);return!!e&&!(!e.isLimit&&!e.isObject)}isObject(t){const e=this.getDefinition(t);return!(!e||!e.isObject)}checkChild(t,e){return!!e&&this._checkContextMatch(e,t)}checkAttribute(t,e){const n=this.getDefinition(t.last);return!!n&&n.allowAttributes.includes(e)}checkMerge(t,e=null){if(t instanceof Hs){const e=t.nodeBefore,n=t.nodeAfter;if(!(e instanceof Fs))throw new M.b("schema-check-merge-no-element-before: The node before the merge position must be an element.");if(!(n instanceof Fs))throw new M.b("schema-check-merge-no-element-after: The node after the merge position must be an element.");return this.checkMerge(e,n)}for(const n of e.getChildren())if(!this.checkChild(t,n))return!1;return!0}addChildCheck(t){this.on("checkChild",(e,[n,o])=>{if(!o)return;const i=t(n,o);"boolean"==typeof i&&(e.stop(),e.return=i)},{priority:"high"})}addAttributeCheck(t){this.on("checkAttribute",(e,[n,o])=>{const i=t(n,o);"boolean"==typeof i&&(e.stop(),e.return=i)},{priority:"high"})}getLimitElement(t){let e;if(t instanceof Hs)e=t.parent;else{e=(t instanceof qs?[t]:Array.from(t.getRanges())).reduce((t,e)=>{const n=e.getCommonAncestor();return t?t.getCommonAncestor(n,{includeSelf:!0}):n},null)}for(;!this.isLimit(e)&&e.parent;)e=e.parent;return e}checkAttributeInSelection(t,e){if(t.isCollapsed){const n=[...t.getFirstPosition().getAncestors(),new js("",t.getAttributes())];return this.checkAttribute(n,e)}{const n=t.getRanges();for(const t of n)for(const n of t)if(this.checkAttribute(n.item,e))return!0}return!1}*getValidRanges(t,e){t=function*(t){for(const e of t)yield*e.getMinimalFlatRanges()}(t);for(const n of t)yield*this._getValidRangesForRange(n,e)}*_getValidRangesForRange(t,e){let n=t.start,o=t.start;for(const i of t.getItems({shallow:!0}))i.is("element")&&(yield*this._getValidRangesForRange(qs.createIn(i),e)),this.checkAttribute(i,e)||(n.isEqual(o)||(yield new qs(n,o)),n=Hs.createAfter(i)),o=Hs.createAfter(i);n.isEqual(o)||(yield new qs(n,o))}getNearestSelectionRange(t,e="both"){if(this.checkChild(t,"$text"))return new qs(t);let n,o;"both"!=e&&"backward"!=e||(n=new zs({startPosition:t,direction:"backward"})),"both"!=e&&"forward"!=e||(o=new zs({startPosition:t}));for(const t of function*(t,e){let n=!1;for(;!n;){if(n=!0,t){const e=t.next();e.done||(n=!1,yield{walker:t,value:e.value})}if(e){const t=e.next();t.done||(n=!1,yield{walker:e,value:t.value})}}}(n,o)){const e=t.walker==n?"elementEnd":"elementStart",o=t.value;if(o.type==e&&this.isObject(o.item))return qs.createOn(o.item);if(this.checkChild(o.nextPosition,"$text"))return new qs(o.nextPosition)}return null}findAllowedParent(t,e){let n=e.parent;for(;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}removeDisallowedAttributes(t,e){for(const n of t){for(const t of n.getAttributeKeys())this.checkAttribute(n,t)||e.removeAttribute(t,n);n.is("element")&&this.removeDisallowedAttributes(n.getChildren(),e)}}_clearCache(){this._compiledDefinitions=null}_compile(){const t={},e=this._sourceDefinitions,n=Object.keys(e);for(const o of n)t[o]=ya(e[o],o);for(const e of n)xa(t,e);for(const e of n)Aa(t,e);for(const e of n)Ca(t,e),Ta(t,e);for(const e of n)Ma(t,e),Pa(t,e);this._compiledDefinitions=t}_checkContextMatch(t,e,n=e.length-1){const o=e.getItem(n);if(t.allowIn.includes(o.name)){if(0==n)return!0;{const t=this.getDefinition(o);return this._checkContextMatch(t,e,n-1)}}return!1}}B(va,Lo);class ka{constructor(t){if(t instanceof ka)return t;"string"==typeof t?t=[t]:Array.isArray(t)||(t=t.getAncestors({includeSelf:!0})),t[0]&&"string"!=typeof t[0]&&t[0].is("documentFragment")&&t.shift(),this._items=t.map(Ia)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const e=new ka([t]);return e._items=[...this._items,...e._items],e}getItem(t){return this._items[t]}*getNames(){yield*this._items.map(t=>t.name)}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}}function ya(t,e){const n={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};return function(t,e){for(const n of t){const t=Object.keys(n).filter(t=>t.startsWith("is"));for(const o of t)e[o]=n[o]}}(t,n),Sa(t,n,"allowIn"),Sa(t,n,"allowContentOf"),Sa(t,n,"allowWhere"),Sa(t,n,"allowAttributes"),Sa(t,n,"allowAttributesOf"),Sa(t,n,"inheritTypesFrom"),function(t,e){for(const n of t){const t=n.inheritAllFrom;t&&(e.allowContentOf.push(t),e.allowWhere.push(t),e.allowAttributesOf.push(t),e.inheritTypesFrom.push(t))}}(t,n),n}function xa(t,e){for(const n of t[e].allowContentOf)if(t[n]){Ea(t,n).forEach(t=>{t.allowIn.push(e)})}delete t[e].allowContentOf}function Aa(t,e){for(const n of t[e].allowWhere){const o=t[n];if(o){const n=o.allowIn;t[e].allowIn.push(...n)}}delete t[e].allowWhere}function Ca(t,e){for(const n of t[e].allowAttributesOf){const o=t[n];if(o){const n=o.allowAttributes;t[e].allowAttributes.push(...n)}}delete t[e].allowAttributesOf}function Ta(t,e){const n=t[e];for(const e of n.inheritTypesFrom){const o=t[e];if(o){const t=Object.keys(o).filter(t=>t.startsWith("is"));for(const e of t)e in n||(n[e]=o[e])}}delete n.inheritTypesFrom}function Ma(t,e){const n=t[e],o=n.allowIn.filter(e=>t[e]);n.allowIn=Array.from(new Set(o))}function Pa(t,e){const n=t[e];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function Sa(t,e,n){for(const o of t)"string"==typeof o[n]?e[n].push(o[n]):Array.isArray(o[n])&&e[n].push(...o[n])}function Ea(t,e){const n=t[e];return function(t){return Object.keys(t).map(e=>t[e])}(t).filter(t=>t.allowIn.includes(n.name))}function Ia(t){return"string"==typeof t?{name:t,*getAttributeKeys(){},getAttribute(){}}:{name:t.is("element")?t.name:"$text",*getAttributeKeys(){yield*t.getAttributeKeys()},getAttribute:e=>t.getAttribute(e)}}class Na{constructor(t={}){this._removeIfEmpty=new Set,this._modelCursor=null,this.conversionApi=Object.assign({},t),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this)}convert(t,e,n=["$root"]){this.fire("viewCleanup",t),this._modelCursor=function(t,e){let n;for(const o of new ka(t)){const t={};for(const e of o.getAttributeKeys())t[e]=o.getAttribute(e);const i=e.createElement(o.name,t);n&&e.append(i,n),n=Hs.createAt(i)}return n}(n,e),this.conversionApi.writer=e,this.conversionApi.consumable=wa.createFrom(t),this.conversionApi.store={};const{modelRange:o}=this._convertItem(t,this._modelCursor),i=e.createDocumentFragment();if(o){this._removeEmptyElements();for(const t of Array.from(this._modelCursor.parent.getChildren()))e.append(t,i);i.markers=function(t,e){const n=new Set,o=new Map,i=qs.createIn(t).getItems();for(const t of i)"$marker"==t.name&&n.add(t);for(const t of n){const n=t.getAttribute("data-name"),i=Hs.createBefore(t);o.has(n)?o.get(n).end=Hs.createFromPosition(i):o.set(n,new qs(Hs.createFromPosition(i))),e.remove(t)}return o}(i,e)}return this._modelCursor=null,this._removeIfEmpty.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,i}_convertItem(t,e){const n=Object.assign({viewItem:t,modelCursor:e,modelRange:null});if(t.is("element")?this.fire("element:"+t.name,n,this.conversionApi):t.is("text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof qs))throw new M.b("view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.");return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(t,e){const n=new qs(e);let o=e;for(const e of Array.from(t.getChildren())){const t=this._convertItem(e,o);t.modelRange instanceof qs&&(n.end=t.modelRange.end,o=t.modelCursor)}return{modelRange:n,modelCursor:o}}_splitToAllowedParent(t,e){const n=this.conversionApi.schema.findAllowedParent(t,e);if(!n)return null;if(n===e.parent)return{position:e};if(this._modelCursor.parent.getAncestors().includes(n))return null;const o=this.conversionApi.writer.split(e,n);for(const t of o.range.getPositions())t.isEqual(o.position)||this._removeIfEmpty.add(t.parent);return{position:o.position,cursorParent:o.range.end.parent}}_removeEmptyElements(){let t=!1;for(const e of this._removeIfEmpty)e.isEmpty&&(this.conversionApi.writer.remove(e),this._removeIfEmpty.delete(e),t=!0);t&&this._removeEmptyElements()}}function Oa(t){const e=function(t){const e=new fo(t.view);return(n,o,i)=>{const r=e.match(o.viewItem);if(!r)return;r.match.name=!0;const s=function(t,e,n){return t instanceof Function?t(e,n):n.createElement(t)}(t.model,o.viewItem,i.writer);if(!s)return;if(!i.consumable.test(o.viewItem,r.match))return;const a=i.splitToAllowedParent(s,o.modelCursor);if(!a)return;i.writer.insert(s,a.position);const c=i.convertChildren(o.viewItem,Hs.createAt(s));i.consumable.consume(o.viewItem,r.match),o.modelRange=new qs(Hs.createBefore(s),Hs.createAfter(c.modelCursor.parent)),a.cursorParent?o.modelCursor=Hs.createAt(a.cursorParent):o.modelCursor=o.modelRange.end}}(t=sa(t)),n=ja(t),o=n?"element:"+n:"element";return n=>{n.on(o,e,{priority:t.converterPriority||"normal"})}}function Ra(t){La(t=sa(t));const e=Va(t,!1),n=ja(t),o=n?"element:"+n:"element";return n=>{n.on(o,e,{priority:t.converterPriority||"normal"})}}function Da(t){let e=null;("string"==typeof(t=sa(t)).view||t.view.key)&&(e=function(t){"string"==typeof t.view&&(t.view={key:t.view});const e=t.view.key;let n;if("class"==e||"style"==e){const o="class"==e?"classes":"styles";n={[o]:t.view.value}}else{const o=void 0===t.view.value?/[\s\S]*/:t.view.value;n={attributes:{[e]:o}}}t.view.name&&(n.name=t.view.name);return t.view=n,e}(t)),La(t,e);const n=Va(t,!0);return e=>{e.on("element",n,{priority:t.converterPriority||"low"})}}function ja(t){return"string"==typeof t.view?t.view:"object"==typeof t.view&&"string"==typeof t.view.name?t.view.name:null}function La(t,e=null){const n=null===e||(t=>t.getAttribute(e)),o="object"!=typeof t.model?t.model:t.model.key,i="object"!=typeof t.model||void 0===t.model.value?n:t.model.value;t.model={key:o,value:i}}function Va(t,e){const n=new fo(t.view);return(o,i,r)=>{const s=n.match(i.viewItem);if(!s)return;const a=t.model.key,c="function"==typeof t.model.value?t.model.value(i.viewItem):t.model.value;null!==c&&(!function(t){if("object"==typeof t.view&&!ja(t))return!1;return!t.view.classes&&!t.view.attributes&&!t.view.styles}(t)?delete s.match.name:s.match.name=!0,r.consumable.test(i.viewItem,s.match)&&(i.modelRange||(i=Object.assign(i,r.convertChildren(i.viewItem,i.modelCursor))),function(t,e,n,o){let i=!1;for(const r of Array.from(t.getItems({shallow:n})))o.schema.checkAttribute(r,e.key)&&(o.writer.setAttribute(e.key,e.value,r),i=!0);return i}(i.modelRange,{key:a,value:c},e,r)&&r.consumable.consume(i.viewItem,s.match)))}}B(Na,R);class Fa{constructor(t,e){this.model=t,this.processor=e,this.mapper=new Ws,this.downcastDispatcher=new $s({mapper:this.mapper}),this.downcastDispatcher.on("insert:$text",(t,e,n)=>{if(!n.consumable.consume(e.item,"insert"))return;const o=n.writer,i=n.mapper.toViewPosition(e.range.start),r=o.createText(e.item.data);o.insert(i,r)},{priority:"lowest"}),this.upcastDispatcher=new Na({schema:t.schema}),this.upcastDispatcher.on("text",(t,e,n)=>{if(n.schema.checkChild(e.modelCursor,"$text")&&n.consumable.consume(e.viewItem)){const t=n.writer.createText(e.viewItem.data);n.writer.insert(t,e.modelCursor),e.modelRange=qs.createFromPositionAndShift(e.modelCursor,t.offsetSize),e.modelCursor=e.modelRange.end}},{priority:"lowest"}),this.upcastDispatcher.on("element",(t,e,n)=>{if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){const{modelRange:t,modelCursor:o}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=t,e.modelCursor=o}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(t,e,n)=>{if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){const{modelRange:t,modelCursor:o}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=t,e.modelCursor=o}},{priority:"lowest"}),this.decorate("init")}get(t="main"){return this.stringify(this.model.document.getRoot(t))}stringify(t){const e=this.toView(t);return this.processor.toData(e)}toView(t){this.mapper.clearBindings();const e=qs.createIn(t),n=new _i,o=new vi(new ei);if(this.mapper.bindElements(t,n),this.downcastDispatcher.convertInsert(e,o),!t.is("documentFragment")){const e=function(t){const e=[],n=t.root.document;if(!n)return[];const o=qs.createIn(t);for(const t of n.model.markers){const n=o.getIntersection(t.getRange());n&&e.push([t.name,n])}return e}(t);for(const[t,n]of e)this.downcastDispatcher.convertMarkerAdd(t,n,o)}return n}init(t,e="main"){if(this.model.document.version)throw new M.b("datacontroller-init-document-not-empty: Trying to set initial data to not empty document.");const n=this.model.document.getRoot(e);return this.model.enqueueChange("transparent",e=>{e.insert(this.parse(t,n),n)}),Promise.resolve()}set(t,e="main"){const n=this.model.document.getRoot(e);this.model.enqueueChange("transparent",e=>{e.setSelection(null),e.removeSelectionAttribute(this.model.document.selection.getAttributeKeys()),e.remove(qs.createIn(n)),e.insert(this.parse(t,n),n)})}parse(t,e="$root"){const n=this.processor.toView(t);return this.toModel(n,e)}toModel(t,e="$root"){return this.model.change(n=>this.upcastDispatcher.convert(t,n,e))}destroy(){}}B(Fa,Lo);class za{constructor(){this._dispatchersGroups=new Map}register(t,e){if(this._dispatchersGroups.has(t))throw new M.b("conversion-register-group-exists: Trying to register a group name that was already registered.");this._dispatchersGroups.set(t,e)}for(t){const e=this._getDispatchers(t);return{add(t){return function(t,e){for(const n of t)e(n)}(e,t),this}}}elementToElement(t){this.for("downcast").add(aa(t));for(const{model:e,view:n}of Ba(t))this.for("upcast").add(Oa({model:e,view:n,converterPriority:t.converterPriority}))}attributeToElement(t){this.for("downcast").add(ca(t));for(const{model:e,view:n}of Ba(t))this.for("upcast").add(Ra({view:n,model:e,priority:t.priority}))}attributeToAttribute(t){this.for("downcast").add(la(t));for(const{model:e,view:n}of Ba(t))this.for("upcast").add(Da({view:n,model:e}))}_getDispatchers(t){const e=this._dispatchersGroups.get(t);if(!e)throw new M.b("conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.");return e}}function*Ba(t){if(t.model.values)for(const e of t.model.values){yield*Ua({key:t.model.key,value:e},t.view[e],t.upcastAlso?t.upcastAlso[e]:void 0)}else yield*Ua(t.model,t.view,t.upcastAlso)}function*Ua(t,e,n){if(yield{model:t,view:e},n){n=Array.isArray(n)?n:[n];for(const e of n)yield{model:t,view:e}}}class Ha{constructor(t="default"){this.operations=[],this.type=t}get baseVersion(){for(const t of this.operations)if(null!==t.baseVersion)return t.baseVersion;return null}addOperation(t){return t.batch=this,this.operations.push(t),t}}class qa{constructor(t){this.baseVersion=t,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t){return new this(t.baseVersion)}}class Wa{constructor(t){this.markers=new Map,this._children=new Vs,t&&this._insertChild(0,t)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(t){return"documentFragment"==t}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}getPath(){return[]}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}offsetToIndex(t){return this._children.offsetToIndex(t)}toJSON(){const t=[];for(const e of this._children)t.push(e.toJSON());return t}static fromJSON(t){const e=[];for(const n of t)n.name?e.push(Fs.fromJSON(n)):e.push(js.fromJSON(n));return new Wa(e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=function(t){if("string"==typeof t)return[new js(t)];ho(t)||(t=[t]);return Array.from(t).map(t=>"string"==typeof t?new js(t):t instanceof Ls?new js(t.data,t.getAttributes()):t)}(e);for(const t of n)null!==t.parent&&t._remove(),t.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const t of n)t.parent=null;return n}}function Ya(t,e){const n=(e=Qa(e)).reduce((t,e)=>t+e.offsetSize,0),o=t.parent;Ka(t);const i=t.index;return o._insertChild(i,e),Ja(o,i+e.length),Ja(o,i),new qs(t,t.getShiftedBy(n))}function Ga(t){if(!t.isFlat)throw new M.b("operation-utils-remove-range-not-flat: Trying to remove a range which starts and ends in different element.");const e=t.start.parent;Ka(t.start),Ka(t.end);const n=e._removeChildren(t.start.index,t.end.index-t.start.index);return Ja(e,t.start.index),n}function $a(t,e){if(!t.isFlat)throw new M.b("operation-utils-move-range-not-flat: Trying to move a range which starts and ends in different element.");const n=Ga(t);return Ya(e=e._getTransformedByDeletion(t.start,t.end.offset-t.start.offset),n)}function Qa(t){const e=[];t instanceof Array||(t=[t]);for(let n=0;n<t.length;n++)if("string"==typeof t[n])e.push(new js(t[n]));else if(t[n]instanceof Ls)e.push(new js(t[n].data,t[n].getAttributes()));else if(t[n]instanceof Wa||t[n]instanceof Vs)for(const o of t[n])e.push(o);else t[n]instanceof Ds&&e.push(t[n]);for(let t=1;t<e.length;t++){const n=e[t],o=e[t-1];n instanceof js&&o instanceof js&&Za(n,o)&&(e.splice(t-1,2,new js(o.data+n.data,o.getAttributes())),t--)}return e}function Ja(t,e){const n=t.getChild(e-1),o=t.getChild(e);if(n&&o&&n.is("text")&&o.is("text")&&Za(n,o)){const i=new js(n.data+o.data,n.getAttributes());t._removeChildren(e-1,2),t._insertChild(e-1,i)}}function Ka(t){const e=t.textNode,n=t.parent;if(e){const o=t.offset-e.startOffset,i=e.index;n._removeChildren(i,1);const r=new js(e.data.substr(0,o),e.getAttributes()),s=new js(e.data.substr(o),e.getAttributes());n._insertChild(i,[r,s])}}function Za(t,e){const n=t.getAttributes(),o=e.getAttributes();for(const t of n){if(t[1]!==e.getAttribute(t[0]))return!1;o.next()}return o.next().done}var Xa=function(t,e){return Yr(t,e)};class tc extends qa{constructor(t,e,n,o,i){super(i),this.range=qs.createFromRange(t),this.key=e,this.oldValue=void 0===n?null:n,this.newValue=void 0===o?null:o}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}clone(){return new tc(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new tc(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const t=super.toJSON();return t.range=this.range.toJSON(),t}_validate(){if(!this.range.isFlat)throw new M.b("attribute-operation-range-not-flat: The range to change is not flat.");for(const t of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!Xa(t.getAttribute(this.key),this.oldValue))throw new M.b("attribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",{item:t,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&t.hasAttribute(this.key))throw new M.b("attribute-operation-attribute-exists: The attribute with given key already exists.",{node:t,key:this.key})}}_execute(){Xa(this.oldValue,this.newValue)||function(t,e,n){Ka(t.start),Ka(t.end);for(const o of t.getItems({shallow:!0})){const t=o.is("textProxy")?o.textNode:o;null!==n?t._setAttribute(e,n):t._removeAttribute(e),Ja(t.parent,t.index)}Ja(t.end.parent,t.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(t,e){return new tc(qs.fromJSON(t.range,e),t.key,t.oldValue,t.newValue,t.baseVersion)}}class ec extends qa{constructor(t,e){super(null),this.sourcePosition=Hs.createFromPosition(t),this.howMany=e}get type(){return"detach"}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t}_validate(){if(this.sourcePosition.root.document)throw new M.b("detach-operation-on-document-node: Cannot detach document node.")}_execute(){Ga(qs.createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class nc extends qa{constructor(t,e,n,o){super(o),this.sourcePosition=Hs.createFromPosition(t),this.sourcePosition.stickiness="toNext",this.howMany=e,this.targetPosition=Hs.createFromPosition(n),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent,n=this.sourcePosition.offset,o=this.targetPosition.offset;if(!t||!e)throw new M.b("move-operation-position-invalid: Source position or target position is invalid.");if(n+this.howMany>t.maxOffset)throw new M.b("move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.");if(t===e&&n<o&&o<n+this.howMany)throw new M.b("move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.");if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==U(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const t=this.sourcePosition.path.length-1;if(this.targetPosition.path[t]>=n&&this.targetPosition.path[t]<n+this.howMany)throw new M.b("move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.")}}_execute(){$a(qs.createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}static get className(){return"MoveOperation"}static fromJSON(t,e){const n=Hs.fromJSON(t.sourcePosition,e),o=Hs.fromJSON(t.targetPosition,e);return new this(n,t.howMany,o,t.baseVersion)}}class oc extends qa{constructor(t,e,n){super(n),this.position=Hs.createFromPosition(t),this.position.stickiness="toNone",this.nodes=new Vs(Qa(e)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const t=new Vs([...this.nodes].map(t=>t._clone(!0))),e=new oc(this.position,t,this.baseVersion);return e.shouldReceiveAttributes=this.shouldReceiveAttributes,e}getReversed(){const t=this.position.root.document.graveyard,e=new Hs(t,[0]);return new nc(this.position,this.nodes.maxOffset,e,this.baseVersion+1)}_validate(){const t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new M.b("insert-operation-position-invalid: Insertion position is invalid.")}_execute(){const t=this.nodes;this.nodes=new Vs([...t].map(t=>t._clone(!0))),Ya(this.position,t)}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}static get className(){return"InsertOperation"}static fromJSON(t,e){const n=[];for(const e of t.nodes)e.name?n.push(Fs.fromJSON(e)):n.push(js.fromJSON(e));const o=new oc(Hs.fromJSON(t.position,e),n,t.baseVersion);return o.shouldReceiveAttributes=t.shouldReceiveAttributes,o}}class ic extends qa{constructor(t,e,n,o,i,r){super(r),this.name=t,this.oldRange=e?qs.createFromRange(e):null,this.newRange=n?qs.createFromRange(n):null,this.affectsData=i,this._markers=o}get type(){return"marker"}clone(){return new ic(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new ic(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){const t=this.newRange?"_set":"_remove";this._markers[t](this.name,this.newRange,!0,this.affectsData)}toJSON(){const t=super.toJSON();return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}static get className(){return"MarkerOperation"}static fromJSON(t,e){return new ic(t.name,t.oldRange?qs.fromJSON(t.oldRange,e):null,t.newRange?qs.fromJSON(t.newRange,e):null,e.model.markers,t.affectsData,t.baseVersion)}}class rc extends qa{constructor(t,e,n,o){super(o),this.position=t,this.position.stickiness="toNext",this.oldName=e,this.newName=n}get type(){return"rename"}clone(){return new rc(Hs.createFromPosition(this.position),this.oldName,this.newName,this.baseVersion)}getReversed(){return new rc(Hs.createFromPosition(this.position),this.newName,this.oldName,this.baseVersion+1)}_validate(){const t=this.position.nodeAfter;if(!(t instanceof Fs))throw new M.b("rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.");if(t.name!==this.oldName)throw new M.b("rename-operation-wrong-name: Element to change has different name than operation's old name.")}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t}static get className(){return"RenameOperation"}static fromJSON(t,e){return new rc(Hs.fromJSON(t.position,e),t.oldName,t.newName,t.baseVersion)}}class sc extends qa{constructor(t,e,n,o,i){super(i),this.root=t,this.key=e,this.oldValue=n,this.newValue=o}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}clone(){return new sc(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new sc(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new M.b("rootattribute-operation-not-a-root: The element to change is not a root element.",{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new M.b("rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new M.b("rootattribute-operation-attribute-exists: The attribute with given key already exists.",{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const t=super.toJSON();return t.root=this.root.toJSON(),t}static get className(){return"RootAttributeOperation"}static fromJSON(t,e){if(!e.getRoot(t.root))throw new M.b("rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.",{rootName:t.root});return new sc(e.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}class ac extends qa{constructor(t,e,n,o,i){super(i),this.sourcePosition=Hs.createFromPosition(t),this.sourcePosition.stickiness="toPrevious",this.howMany=e,this.targetPosition=Hs.createFromPosition(n),this.targetPosition.stickiness="toNext",this.graveyardPosition=Hs.createFromPosition(o)}get type(){return"merge"}get deletionPosition(){return new Hs(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new qs(this.sourcePosition,t)}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.targetPosition._getTransformedByMergeOperation(this),e=this.sourcePosition.path.slice(0,-1),n=new Hs(this.sourcePosition.root,e)._getTransformedByMergeOperation(this),o=new cc(t,this.howMany,this.graveyardPosition,this.baseVersion+1);return o.insertionPosition=n,o}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent;if(!(t&&t.is("element")&&t.parent))throw new M.b("merge-operation-source-position-invalid: Merge source position is invalid.");if(!(e&&e.is("element")&&e.parent))throw new M.b("merge-operation-target-position-invalid: Merge target position is invalid.");if(this.howMany!=t.maxOffset)throw new M.b("merge-operation-how-many-invalid: Merge operation specifies wrong number of nodes to move.")}_execute(){const t=this.sourcePosition.parent;$a(qs.createIn(t),this.targetPosition),$a(qs.createOn(t),this.graveyardPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}static get className(){return"MergeOperation"}static fromJSON(t,e){const n=Hs.fromJSON(t.sourcePosition,e),o=Hs.fromJSON(t.targetPosition,e),i=Hs.fromJSON(t.graveyardPosition,e);return new this(n,t.howMany,o,i,t.baseVersion)}}class cc extends qa{constructor(t,e,n,o){super(o),this.splitPosition=Hs.createFromPosition(t),this.splitPosition.stickiness="toNext",this.howMany=e,this.insertionPosition=cc.getInsertionPosition(t),this.insertionPosition.stickiness="toNone",this.graveyardPosition=n?Hs.createFromPosition(n):null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const t=this.insertionPosition.path.slice();return t.push(0),new Hs(this.insertionPosition.root,t)}get movedRange(){const t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new qs(this.splitPosition,t)}clone(){const t=new this.constructor(this.splitPosition,this.howMany,this.graveyardPosition,this.baseVersion);return t.insertionPosition=this.insertionPosition,t}getReversed(){const t=this.splitPosition.root.document.graveyard,e=new Hs(t,[0]);return new ac(this.moveTargetPosition,this.howMany,this.splitPosition,e,this.baseVersion+1)}_validate(){const t=this.splitPosition.parent,e=this.splitPosition.offset;if(!t||t.maxOffset<e)throw new M.b("split-operation-position-invalid: Split position is invalid.");if(!t.parent)throw new M.b("split-operation-split-in-root: Cannot split root element.");if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new M.b("split-operation-how-many-invalid: Split operation specifies wrong number of nodes to move.");if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new M.b("split-operation-graveyard-position-invalid: Graveyard position invalid.")}_execute(){const t=this.splitPosition.parent;if(this.graveyardPosition)$a(qs.createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const e=t._clone();Ya(this.insertionPosition,e)}$a(qs.createFromParentsAndOffsets(t,this.splitPosition.offset,t,t.maxOffset),this.moveTargetPosition)}toJSON(){const t=super.toJSON();return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}static get className(){return"SplitOperation"}static getInsertionPosition(t){const e=t.path.slice(0,-1);return e[e.length-1]++,new Hs(t.root,e)}static fromJSON(t,e){const n=Hs.fromJSON(t.splitPosition,e),o=Hs.fromJSON(t.insertionPosition,e),i=t.graveyardPosition?Hs.fromJSON(t.graveyardPosition,e):null,r=new this(n,t.howMany,i,t.baseVersion);return r.insertionPosition=o,r}}class lc extends Fs{constructor(t,e,n="main"){super(e),this._doc=t,this.rootName=n}get document(){return this._doc}is(t,e){return e?"rootElement"==t&&e==this.name||super.is(t,e):"rootElement"==t||super.is(t)}toJSON(){return this.rootName}}class dc{constructor(t,e){this.model=t,this.batch=e}createText(t,e){return new js(t,e)}createElement(t,e){return new Fs(t,e)}createDocumentFragment(){return new Wa}insert(t,e,n){this._assertWriterUsedCorrectly();const o=Hs.createAt(e,n);if(t.parent){if(gc(t.root,o.root))return void this.move(qs.createOn(t),o);if(t.root.document)throw new Error("model-writer-insert-forbidden-move: Cannot move a node from a document to a different tree.");this.remove(t)}const i=o.root.document?o.root.document.version:null,r=new oc(o,t,i);if(t instanceof js&&(r.shouldReceiveAttributes=!0),this.batch.addOperation(r),this.model.applyOperation(r),t instanceof Wa)for(const[e,n]of t.markers){const t=Hs.createAt(n.root),i=new qs(n.start._getCombined(t,o),n.end._getCombined(t,o));this.addMarker(e,{range:i,usingOperation:!0})}}insertText(t,e,n,o){e instanceof Wa||e instanceof Fs||e instanceof Hs?this.insert(this.createText(t),e,n):this.insert(this.createText(t,e),n,o)}insertElement(t,e,n,o){e instanceof Wa||e instanceof Fs||e instanceof Hs?this.insert(this.createElement(t),e,n):this.insert(this.createElement(t,e),n,o)}append(t,e){this.insert(t,e,"end")}appendText(t,e,n){e instanceof Wa||e instanceof Fs?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),n,"end")}appendElement(t,e,n){e instanceof Wa||e instanceof Fs?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),n,"end")}setAttribute(t,e,n){if(this._assertWriterUsedCorrectly(),n instanceof qs){const o=n.getMinimalFlatRanges();for(const n of o)uc(this,t,e,n)}else hc(this,t,e,n)}setAttributes(t,e){for(const[n,o]of Rs(t))this.setAttribute(n,o,e)}removeAttribute(t,e){if(this._assertWriterUsedCorrectly(),e instanceof qs){const n=e.getMinimalFlatRanges();for(const e of n)uc(this,t,null,e)}else hc(this,t,null,e)}clearAttributes(t){this._assertWriterUsedCorrectly();const e=t=>{for(const e of t.getAttributeKeys())this.removeAttribute(e,t)};if(t instanceof qs)for(const n of t.getItems())e(n);else e(t)}move(t,e,n){if(this._assertWriterUsedCorrectly(),!(t instanceof qs))throw new M.b("writer-move-invalid-range: Invalid range to move.");if(!t.isFlat)throw new M.b("writer-move-range-not-flat: Range to move is not flat.");const o=Hs.createAt(e,n);if(!gc(t.root,o.root))throw new M.b("writer-move-different-document: Range is going to be moved between different documents.");const i=t.root.document?t.root.document.version:null,r=new nc(t.start,t.end.offset-t.start.offset,o,i);this.batch.addOperation(r),this.model.applyOperation(r)}remove(t){if(this._assertWriterUsedCorrectly(),t instanceof qs){const e=t.getMinimalFlatRanges().reverse();for(const t of e)mc(t.start,t.end.offset-t.start.offset,this.batch,this.model)}else{const e=t.is("text")?t.offsetSize:1;mc(Hs.createBefore(t),e,this.batch,this.model)}}merge(t){this._assertWriterUsedCorrectly();const e=t.nodeBefore,n=t.nodeAfter;if(!(e instanceof Fs))throw new M.b("writer-merge-no-element-before: Node before merge position must be an element.");if(!(n instanceof Fs))throw new M.b("writer-merge-no-element-after: Node after merge position must be an element.");t.root.document?this._merge(t):this._mergeDetached(t)}_mergeDetached(t){const e=t.nodeBefore,n=t.nodeAfter;this.move(qs.createIn(n),Hs.createAt(e,"end")),this.remove(n)}_merge(t){const e=Hs.createAt(t.nodeBefore,"end"),n=Hs.createAt(t.nodeAfter,0),o=t.root.document.graveyard,i=new Hs(o,[0]),r=t.root.document.version,s=new ac(n,t.nodeAfter.maxOffset,e,i,r);this.batch.addOperation(s),this.model.applyOperation(s)}rename(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof Fs))throw new M.b("writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.");const n=t.root.document?t.root.document.version:null,o=new rc(Hs.createBefore(t),t.name,e,n);this.batch.addOperation(o),this.model.applyOperation(o)}split(t,e){this._assertWriterUsedCorrectly();let n,o,i=t.parent;if(!i.parent)throw new M.b("writer-split-element-no-parent: Element with no parent can not be split.");if(e||(e=i.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new M.b("writer-split-invalid-limit-element: Limit element is not a position ancestor.");do{const e=i.root.document?i.root.document.version:null,r=i.maxOffset-t.offset,s=new cc(t,r,null,e);this.batch.addOperation(s),this.model.applyOperation(s),n||o||(n=i,o=t.parent.nextSibling),i=(t=Hs.createAfter(t.parent)).parent}while(i!==e);return{position:t,range:new qs(Hs.createAt(n,"end"),Hs.createAt(o))}}wrap(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new M.b("writer-wrap-range-not-flat: Range to wrap is not flat.");const n=e instanceof Fs?e:new Fs(e);if(n.childCount>0)throw new M.b("writer-wrap-element-not-empty: Element to wrap with is not empty.");if(null!==n.parent)throw new M.b("writer-wrap-element-attached: Element to wrap with is already attached to tree model.");const o=t.root.document?t.root.document.version:null,i=new oc(t.start,n,o);this.batch.addOperation(i),this.model.applyOperation(i);const r=new nc(t.start.getShiftedBy(1),t.end.offset-t.start.offset,Hs.createAt(n,0),null===o?null:o+1);this.batch.addOperation(r),this.model.applyOperation(r)}unwrap(t){if(this._assertWriterUsedCorrectly(),null===t.parent)throw new M.b("writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.");this.move(qs.createIn(t),Hs.createAfter(t)),this.remove(t)}addMarker(t,e){if(this._assertWriterUsedCorrectly(),!e||"boolean"!=typeof e.usingOperation)throw new M.b("writer-addMarker-no-usingOperations: The options.usingOperations parameter is required when adding a new marker.");const n=e.usingOperation,o=e.range,i=void 0!==e.affectsData&&e.affectsData;if(this.model.markers.has(t))throw new M.b("writer-addMarker-marker-exists: Marker with provided name already exists.");if(!o)throw new M.b("writer-addMarker-no-range: Range parameter is required when adding a new marker.");return n?(fc(this,t,null,o,i),this.model.markers.get(t)):this.model.markers._set(t,o,n,i)}updateMarker(t,e={}){this._assertWriterUsedCorrectly();const n="string"==typeof t?t:t.name,o=this.model.markers.get(n);if(!o)throw new M.b("writer-updateMarker-marker-not-exists: Marker with provided name does not exists.");const i="boolean"==typeof e.usingOperation,r="boolean"==typeof e.affectsData,s=r?e.affectsData:o.affectsData;if(!i&&!e.range&&!r)throw new M.b("writer-updateMarker-wrong-options: One of the options is required - provide range, usingOperations or affectsData.");const a=o.getRange(),c=e.range?e.range:a;i&&e.usingOperation!==o.managedUsingOperations?e.usingOperation?fc(this,n,null,c,s):(fc(this,n,a,null,s),this.model.markers._set(n,c,void 0,s)):o.managedUsingOperations?fc(this,n,a,c,s):this.model.markers._set(n,c,void 0,s)}removeMarker(t){this._assertWriterUsedCorrectly();const e="string"==typeof t?t:t.name;if(!this.model.markers.has(e))throw new M.b("writer-removeMarker-no-marker: Trying to remove marker which does not exist.");const n=this.model.markers.get(e);n.managedUsingOperations?fc(this,e,n.getRange(),null,n.affectsData):this.model.markers._remove(e)}setSelection(t,e,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(t,e,n)}setSelectionFocus(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}setSelectionAttribute(t,e){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._setSelectionAttribute(t,e);else for(const[e,n]of Rs(t))this._setSelectionAttribute(e,n)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._removeSelectionAttribute(t);else for(const e of t)this._removeSelectionAttribute(e)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,e){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const o=ea._getStoreAttributeKey(t);this.setAttribute(o,e,n.anchor.parent)}n._setAttribute(t,e)}_removeSelectionAttribute(t){const e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){const n=ea._getStoreAttributeKey(t);this.removeAttribute(n,e.anchor.parent)}e._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new M.b("writer-incorrect-use: Trying to use a writer outside the change() block.")}}function uc(t,e,n,o){const i=t.model,r=i.document;let s,a,c,l=o.start;for(const t of o.getWalker({shallow:!0}))c=t.item.getAttribute(e),s&&a!=c&&(a!=n&&d(),l=s),s=t.nextPosition,a=c;function d(){const o=new qs(l,s),c=o.root.document?r.version:null,d=new tc(o,e,a,n,c);t.batch.addOperation(d),i.applyOperation(d)}s instanceof Hs&&s!=l&&a!=n&&d()}function hc(t,e,n,o){const i=t.model,r=i.document,s=o.getAttribute(e);let a,c;if(s!=n){if(o.root===o){const t=o.document?r.version:null;c=new sc(o,e,s,n,t)}else{const t=(a=new qs(Hs.createBefore(o),Hs.createAfter(o))).root.document?r.version:null;c=new tc(a,e,s,n,t)}t.batch.addOperation(c),i.applyOperation(c)}}function fc(t,e,n,o,i){const r=t.model,s=r.document,a=new ic(e,n,o,r.markers,i,s.version);t.batch.addOperation(a),r.applyOperation(a)}function mc(t,e,n,o){let i;if(t.root.document){const n=o.document,r=new Hs(n.graveyard,[0]);i=new nc(t,e,r,n.version)}else i=new ec(t,e);n.addOperation(i),o.applyOperation(i)}function gc(t,e){return t===e||t instanceof lc&&e instanceof lc}class pc{constructor(t){this._markerCollection=t,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}bufferOperation(t){switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const e of t.range.getItems())this._isInInsertedElement(e.parent)||this._markAttribute(e);break;case"remove":case"move":case"reinsert":{const e=this._isInInsertedElement(t.sourcePosition.parent),n=this._isInInsertedElement(t.targetPosition.parent);e||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),n||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const e=qs.createFromPositionAndShift(t.position,1);for(const t of this._markerCollection.getMarkersIntersectingRange(e)){const e=t.getRange();this.bufferMarkerChange(t.name,e,e,t.affectsData)}break}case"split":{const e=t.splitPosition.parent;this._isInInsertedElement(e)||this._markRemove(e,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const e=t.sourcePosition.parent;this._isInInsertedElement(e.parent)||this._markRemove(e.parent,e.startOffset,1);const n=t.graveyardPosition.parent;this._markInsert(n,t.graveyardPosition.offset,1);const o=t.targetPosition.parent;this._isInInsertedElement(o)||this._markInsert(o,t.targetPosition.offset,e.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(t,e,n,o){const i=this._changedMarkers.get(t);i?(i.newRange=n,i.affectsData=o,null==i.oldRange&&null==i.newRange&&this._changedMarkers.delete(t)):this._changedMarkers.set(t,{oldRange:e,newRange:n,affectsData:o})}getMarkersToRemove(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.oldRange&&t.push({name:e,range:n.oldRange});return t}getMarkersToAdd(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.newRange&&t.push({name:e,range:n.newRange});return t}hasDataChanges(){for(const[,t]of this._changedMarkers)if(t.affectsData)return!0;return this._changesInElement.size>0}getChanges(t={includeChangesInGraveyard:!1}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();const e=[];for(const t of this._changesInElement.keys()){const n=this._changesInElement.get(t).sort((t,e)=>t.offset===e.offset?t.type!=e.type?"remove"==t.type?-1:1:0:t.offset<e.offset?-1:1),o=this._elementSnapshots.get(t),i=bc(t.getChildren()),r=wc(o.length,n);let s=0,a=0;for(const n of r)if("i"===n)e.push(this._getInsertDiff(t,s,i[s].name)),s++;else if("r"===n)e.push(this._getRemoveDiff(t,s,o[a].name)),a++;else if("a"===n){const n=i[s].attributes,r=o[a].attributes;let c;if("$text"==i[s].name)c=qs.createFromParentsAndOffsets(t,s,t,s+1);else{const e=t.offsetToIndex(s);c=qs.createFromParentsAndOffsets(t,s,t.getChild(e),0)}e.push(...this._getAttributesDiff(c,r,n)),s++,a++}else s++,a++}e.sort((t,e)=>t.position.root!=e.position.root?t.position.root.rootName<e.position.root.rootName?-1:1:t.position.isEqual(e.position)?t.changeCount<e.changeCount?-1:1:t.position.isBefore(e.position)?-1:1);for(let t=1;t<e.length;t++){const n=e[t-1],o=e[t],i="remove"==n.type&&"remove"==o.type&&"$text"==n.name&&"$text"==o.name&&n.position.isEqual(o.position),r="insert"==n.type&&"insert"==o.type&&"$text"==n.name&&"$text"==o.name&&n.position.parent==o.position.parent&&n.position.offset+n.length==o.position.offset,s="attribute"==n.type&&"attribute"==o.type&&n.position.parent==o.position.parent&&n.range.isFlat&&o.range.isFlat&&n.position.offset+n.length==o.position.offset&&n.attributeKey==o.attributeKey&&n.attributeOldValue==o.attributeOldValue&&n.attributeNewValue==o.attributeNewValue;(i||r||s)&&(e[t-1].length++,s&&(e[t-1].range.end=e[t-1].range.end.getShiftedBy(1)),e.splice(t,1),t--)}for(const t of e)delete t.changeCount,"attribute"==t.type&&(delete t.position,delete t.length);return this._changeCount=0,this._cachedChangesWithGraveyard=e.slice(),this._cachedChanges=e.slice().filter(_c),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}_markInsert(t,e,n){const o={type:"insert",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,o)}_markRemove(t,e,n){const o={type:"remove",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,o),this._removeAllNestedChanges(t,e,n)}_markAttribute(t){const e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}_markChange(t,e){this._makeSnapshot(t);const n=this._getChangesForElement(t);this._handleChange(e,n),n.push(e);for(let t=0;t<n.length;t++)n[t].howMany<1&&(n.splice(t,1),t--)}_getChangesForElement(t){let e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e}_makeSnapshot(t){this._elementSnapshots.has(t)||this._elementSnapshots.set(t,bc(t.getChildren()))}_handleChange(t,e){t.nodesToHandle=t.howMany;for(const n of e){const o=t.offset+t.howMany,i=n.offset+n.howMany;if("insert"==t.type&&("insert"==n.type&&(t.offset<=n.offset?n.offset+=t.howMany:t.offset<i&&(n.howMany+=t.nodesToHandle,t.nodesToHandle=0)),"remove"==n.type&&t.offset<n.offset&&(n.offset+=t.howMany),"attribute"==n.type))if(t.offset<=n.offset)n.offset+=t.howMany;else if(t.offset<i){const i=n.howMany;n.howMany=t.offset-n.offset,e.unshift({type:"attribute",offset:o,howMany:i-n.howMany,count:this._changeCount++})}if("remove"==t.type){if("insert"==n.type)if(o<=n.offset)n.offset-=t.howMany;else if(o<=i)if(t.offset<n.offset){const e=o-n.offset;n.offset=t.offset,n.howMany-=e,t.nodesToHandle-=e}else n.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=n.offset)t.nodesToHandle-=n.howMany,n.howMany=0;else if(t.offset<i){const e=i-t.offset;n.howMany-=e,t.nodesToHandle-=e}if("remove"==n.type&&(o<=n.offset?n.offset-=t.howMany:t.offset<n.offset&&(t.nodesToHandle+=n.howMany,n.howMany=0)),"attribute"==n.type)if(o<=n.offset)n.offset-=t.howMany;else if(t.offset<n.offset){const e=o-n.offset;n.offset=t.offset,n.howMany-=e}else if(t.offset<i)if(o<=i){const o=n.howMany;n.howMany=t.offset-n.offset;const i=o-n.howMany-t.nodesToHandle;e.unshift({type:"attribute",offset:t.offset,howMany:i,count:this._changeCount++})}else n.howMany-=i-t.offset}if("attribute"==t.type){if("insert"==n.type)if(t.offset<n.offset&&o>n.offset){if(o>i){const t={type:"attribute",offset:i,howMany:o-i,count:this._changeCount++};this._handleChange(t,e),e.push(t)}t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=n.offset&&t.offset<i&&(o>i?(t.nodesToHandle=o-i,t.offset=i):t.nodesToHandle=0);"attribute"==n.type&&(t.offset>=n.offset&&o<=i?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=n.offset&&o>=i&&(n.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,e,n){return{type:"insert",position:Hs.createFromParentAndOffset(t,e),name:n,length:1,changeCount:this._changeCount++}}_getRemoveDiff(t,e,n){return{type:"remove",position:Hs.createFromParentAndOffset(t,e),name:n,length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,e,n){const o=[];n=new Map(n);for(const[i,r]of e){const e=n.has(i)?n.get(i):null;e!==r&&o.push({type:"attribute",position:t.start,range:qs.createFromRange(t),length:1,attributeKey:i,attributeOldValue:r,attributeNewValue:e,changeCount:this._changeCount++}),n.delete(i)}for(const[e,i]of n)o.push({type:"attribute",position:t.start,range:qs.createFromRange(t),length:1,attributeKey:e,attributeOldValue:null,attributeNewValue:i,changeCount:this._changeCount++});return o}_isInInsertedElement(t){const e=t.parent;if(!e)return!1;const n=this._changesInElement.get(e),o=t.startOffset;if(n)for(const t of n)if("insert"==t.type&&o>=t.offset&&o<t.offset+t.howMany)return!0;return this._isInInsertedElement(e)}_removeAllNestedChanges(t,e,n){const o=qs.createFromParentsAndOffsets(t,e,t,e+n);for(const t of o.getItems({shallow:!0}))t.is("element")&&(this._elementSnapshots.delete(t),this._changesInElement.delete(t),this._removeAllNestedChanges(t,0,t.maxOffset))}}function bc(t){const e=[];for(const n of t)if(n.is("text"))for(let t=0;t<n.data.length;t++)e.push({name:"$text",attributes:new Map(n.getAttributes())});else e.push({name:n.name,attributes:new Map(n.getAttributes())});return e}function wc(t,e){const n=[];let o=0,i=0;for(const t of e)t.offset>o&&(n.push(..."e".repeat(t.offset-o).split("")),i+=t.offset-o),"insert"==t.type?(n.push(..."i".repeat(t.howMany).split("")),o=t.offset+t.howMany):"remove"==t.type?(n.push(..."r".repeat(t.howMany).split("")),o=t.offset,i+=t.howMany):(n.push(..."a".repeat(t.howMany).split("")),o=t.offset+t.howMany,i+=t.howMany);return i<t&&n.push(..."e".repeat(t-i).split("")),n}function _c(t){const e=t.position&&"$graveyard"==t.position.root.rootName,n=t.range&&"$graveyard"==t.range.root.rootName;return!e&&!n}class vc{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}addOperation(t){this._operations.includes(t)||this._operations.push(t)}getOperations(t=0,e=Number.POSITIVE_INFINITY){return t<0?[]:this._operations.slice(t,e)}getOperation(t){return this._operations[t]}setOperationAsUndone(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}}function kc(t,e){return function(t){return!!t&&1==t.length&&/[\ud800-\udbff]/.test(t)}(t.charAt(e-1))&&function(t){return!!t&&1==t.length&&/[\udc00-\udfff]/.test(t)}(t.charAt(e))}function yc(t,e){return function(t){return!!t&&1==t.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(t)}(t.charAt(e))}const xc="$graveyard";class Ac{constructor(t){this.model=t,this.version=0,this.history=new vc(this),this.selection=new ea(this),this.roots=new ti({idProperty:"rootName"}),this.differ=new pc(t.markers),this._postFixers=new Set,this.createRoot("$root",xc),this.listenTo(t,"applyOperation",(t,e)=>{const n=e[0];if(n.isDocumentOperation&&n.baseVersion!==this.version)throw new M.b("model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.",{operation:n})},{priority:"highest"}),this.listenTo(t,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&this.differ.bufferOperation(n)},{priority:"high"}),this.listenTo(t,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&(this.version++,this.history.addOperation(n))},{priority:"low"});let e=!1;this.listenTo(this.selection,"change",()=>{e=!0}),this.listenTo(t,"_change",(t,n)=>{this.differ.isEmpty&&!e||(this._callPostFixers(n),this.differ.hasDataChanges()?this.fire("change:data",n.batch):this.fire("change",n.batch),this.differ.reset(),e=!1)}),this.listenTo(t.markers,"update",(t,e,n,o)=>{this.differ.bufferMarkerChange(e.name,n,o,e.affectsData),null===n&&e.on("change",(t,n)=>{this.differ.bufferMarkerChange(e.name,n,e.getRange(),e.affectsData)})})}get graveyard(){return this.getRoot(xc)}createRoot(t="$root",e="main"){if(this.roots.get(e))throw new M.b("model-document-createRoot-name-exists: Root with specified name already exists.",{name:e});const n=new lc(this,t,e);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(t="main"){return this.roots.get(t)}getRootNames(){return Array.from(this.roots,t=>t.rootName).filter(t=>t!=xc)}registerPostFixer(t){this._postFixers.add(t)}toJSON(){const t=so(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t}_getDefaultRoot(){for(const t of this.roots)if(t!==this.graveyard)return t;return this.graveyard}_getDefaultRange(){const t=this._getDefaultRoot(),e=this.model.schema,n=new Hs(t,[0]);return e.getNearestSelectionRange(n)||new qs(n)}_validateSelectionRange(t){return Cc(t.start)&&Cc(t.end)}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(e=n(t))break}while(e)}}function Cc(t){const e=t.textNode;if(e){const n=e.data,o=t.offset-e.startOffset;return!kc(n,o)&&!yc(n,o)}return!0}B(Ac,R);class Tc{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(t){return this._markers.has(t)}get(t){return this._markers.get(t)||null}_set(t,e,n=!1,o=!1){const i=t instanceof Mc?t.name:t,r=this._markers.get(i);if(r){const t=r.getRange();let s=!1;return t.isEqual(e)||(r._attachLiveRange(Xs.createFromRange(e)),s=!0),n!=r.managedUsingOperations&&(r._managedUsingOperations=n,s=!0),"boolean"==typeof o&&o!=r.affectsData&&(r._affectsData=o,s=!0),s&&this.fire("update:"+i,r,t,e),r}const s=Xs.createFromRange(e),a=new Mc(i,s,n,o);return this._markers.set(i,a),this.fire("update:"+i,a,null,e),a}_remove(t){const e=t instanceof Mc?t.name:t,n=this._markers.get(e);return!!n&&(this._markers.delete(e),this.fire("update:"+e,n,n.getRange(),null),this._destroyMarker(n),!0)}*getMarkersAtPosition(t){for(const e of this)e.getRange().containsPosition(t)&&(yield e)}*getMarkersIntersectingRange(t){for(const e of this)null!==e.getRange().getIntersection(t)&&(yield e)}destroy(){for(const t of this._markers.values())this._destroyMarker(t);this._markers=null,this.stopListening()}*getMarkersGroup(t){for(const e of this._markers.values())e.name.startsWith(t+":")&&(yield e)}_destroyMarker(t){t.stopListening(),t._detachLiveRange()}}B(Tc,R);class Mc{constructor(t,e,n,o){this.name=t,this._liveRange=this._attachLiveRange(e),this._managedUsingOperations=n,this._affectsData=o}get managedUsingOperations(){if(!this._liveRange)throw new M.b("marker-destroyed: Cannot use a destroyed marker instance.");return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new M.b("marker-destroyed: Cannot use a destroyed marker instance.");return this._affectsData}getStart(){if(!this._liveRange)throw new M.b("marker-destroyed: Cannot use a destroyed marker instance.");return Hs.createFromPosition(this._liveRange.start)}getEnd(){if(!this._liveRange)throw new M.b("marker-destroyed: Cannot use a destroyed marker instance.");return Hs.createFromPosition(this._liveRange.end)}getRange(){if(!this._liveRange)throw new M.b("marker-destroyed: Cannot use a destroyed marker instance.");return qs.createFromRange(this._liveRange)}_attachLiveRange(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}B(Mc,R);class Pc extends Hs{constructor(t,e,n="toNone"){if(super(t,e,n),!this.root.is("rootElement"))throw new M.b("model-liveposition-root-not-rootelement: LivePosition's root has to be an instance of RootElement.");(function(){this.listenTo(this.root.document.model,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&function(t){const e=this.getTransformedByOperation(t);if(!this.isEqual(e)){const t=Hs.createFromPosition(this);this.path=e.path,this.root=e.root,this.fire("change",t)}}.call(this,n)},{priority:"low"})}).call(this)}detach(){this.stopListening()}}B(Pc,R);class Sc{constructor(t,e,n){this.model=t,this.writer=e,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._filterAttributesOf=[]}handleNodes(t,e){t=Array.from(t);for(let n=0;n<t.length;n++){const o=t[n];this._handleNode(o,{isFirst:0===n&&e.isFirst,isLast:n===t.length-1&&e.isLast})}this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}getSelectionRange(){return this.nodeToSelect?qs.createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}_handleNode(t,e){if(this.schema.isObject(t))return void this._handleObject(t,e);this._checkAndSplitToAllowedPosition(t,e)?(this._insert(t),this._mergeSiblingsOf(t,e)):this._handleDisallowedNode(t,e)}_handleObject(t,e){this._checkAndSplitToAllowedPosition(t)?this._insert(t):this._tryAutoparagraphing(t,e)}_handleDisallowedNode(t,e){t.is("element")?this.handleNodes(t.getChildren(),e):this._tryAutoparagraphing(t,e)}_insert(t){if(!this.schema.checkChild(this.position,t))return void fs.a.error("insertcontent-wrong-position: The node cannot be inserted on the given position.",{node:t,position:this.position});const e=Pc.createFromPosition(this.position);e.stickiness="toNext",this.writer.insert(t,this.position),this.position=Hs.createFromPosition(e),e.detach(),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this.nodeToSelect=t:this.nodeToSelect=null,this._filterAttributesOf.push(t)}_mergeSiblingsOf(t,e){if(!(t instanceof Fs))return;const n=this._canMergeLeft(t,e),o=this._canMergeRight(t,e),i=Pc.createBefore(t);i.stickiness="toNext";const r=Pc.createAfter(t);if(r.stickiness="toNext",n){const t=Pc.createFromPosition(this.position);t.stickiness="toNext",this.writer.merge(i),this.position=Hs.createFromPosition(t),t.detach()}if(o){this.position.isEqual(r)||fs.a.error("insertcontent-wrong-position-on-merge: The insertion position should equal the merge position"),this.position=Hs.createAt(r.nodeBefore,"end");const t=new Pc(this.position.root,this.position.path,"toPrevious");this.writer.merge(r),this.position=Hs.createFromPosition(t),t.detach()}(n||o)&&this._filterAttributesOf.push(this.position.parent),i.detach(),r.detach()}_canMergeLeft(t,e){const n=t.previousSibling;return e.isFirst&&n instanceof Fs&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(n,t)}_canMergeRight(t,e){const n=t.nextSibling;return e.isLast&&n instanceof Fs&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(t,n)}_tryAutoparagraphing(t,e){const n=this.writer.createElement("paragraph");this._getAllowedIn(n,this.position.parent)&&this.schema.checkChild(n,t)&&(n._appendChild(t),this._handleNode(n,e))}_checkAndSplitToAllowedPosition(t){const e=this._getAllowedIn(t,this.position.parent);if(!e)return!1;for(;e!=this.position.parent;){if(this.schema.isLimit(this.position.parent))return!1;if(this.position.isAtStart){const t=this.position.parent;this.position=Hs.createBefore(t),t.isEmpty&&this.writer.remove(t)}else if(this.position.isAtEnd)this.position=Hs.createAfter(this.position.parent);else{const t=Hs.createAfter(this.position.parent);this.writer.split(this.position),this.position=t,this.canMergeWith.add(this.position.nodeAfter)}}return!0}_getAllowedIn(t,e){return this.schema.checkChild(e,t)?e:e.parent?this._getAllowedIn(t,e.parent):null}}function Ec(t,e,n={}){if(e.isCollapsed)return;const o=t.schema;t.change(t=>{if(!n.doNotResetEntireContent&&function(t,e){const n=t.getLimitElement(e);if(!e.containsEntireContent(n))return!1;const o=e.getFirstRange();if(o.start.parent==o.end.parent)return!1;return t.checkChild(n,"paragraph")}(o,e))return void function(t,e){const n=t.model.schema.getLimitElement(e);t.remove(qs.createIn(n)),Ic(t,Hs.createAt(n),e)}(t,e);const i=e.getFirstRange(),r=i.start,s=Pc.createFromPosition(i.end);s.stickiness="toNext",i.start.isTouching(i.end)||t.remove(i),n.leaveUnmerged||(!function t(e,n,o){const i=n.parent;const r=o.parent;if(i==r)return;if(!i.parent||!r.parent)return;if(!function(t,e,n){const o=new qs(t,e);for(const t of o.getWalker())if(n.isLimit(t.item))return!1;return!0}(n,o,e.model.schema))return;n=Hs.createAfter(i);o=Hs.createBefore(r);o.isEqual(n)||e.insert(r,n);e.merge(n);for(;o.parent.isEmpty;){const t=o.parent;o=Hs.createBefore(t),e.remove(t)}t(e,n,o)}(t,r,s),o.removeDisallowedAttributes(r.parent.getChildren(),t)),e instanceof ea?t.setSelection(r):e.setTo(r),function(t,e){const n=t.checkChild(e,"$text"),o=t.checkChild(e,"paragraph");return!n&&o}(o,r)&&Ic(t,r,e),s.detach()})}function Ic(t,e,n){const o=t.createElement("paragraph");t.insert(o,e),n instanceof ea?t.setSelection(o,0):n.setTo(o,0)}const Nc=' ,.?!:;"-()';function Oc(t,e,n={}){const o=t.schema,i="backward"!=n.direction,r=n.unit?n.unit:"character",s=e.focus,a=new zs({boundaries:function(t,e){const n=t.root,o=Hs.createAt(n,e?"end":0);return e?new qs(t,o):new qs(o,t)}(s,i),singleCharacters:!0,direction:i?"forward":"backward"}),c={walker:a,schema:o,isForward:i,unit:r};let l;for(;l=a.next();){if(l.done)return;const n=Rc(c,l.value);if(n)return void(e instanceof ea?t.change(t=>{t.setSelectionFocus(n)}):e.setFocus(n))}}function Rc(t,e){if("text"==e.type)return"word"===t.unit?function(t,e){let n=t.position.textNode;if(n){let o=t.position.offset-n.startOffset;for(;!Dc(n.data,o,e)&&!jc(n,o,e);){t.next();const i=e?t.position.nodeAfter:t.position.nodeBefore;if(i&&i.is("text")){const o=i.data.charAt(e?0:i.data.length-1);Nc.includes(o)||(t.next(),n=t.position.textNode)}o=t.position.offset-n.startOffset}}return t.position}(t.walker,t.isForward):function(t,e){const n=t.position.textNode;if(n){const o=n.data;let i=t.position.offset-n.startOffset;for(;kc(o,i)||"character"==e&&yc(o,i);)t.next(),i=t.position.offset-n.startOffset}return t.position}(t.walker,t.unit,t.isForward);if(e.type==(t.isForward?"elementStart":"elementEnd")){if(t.schema.isObject(e.item))return Hs.createAt(e.item,t.isForward?"after":"before");if(t.schema.checkChild(e.nextPosition,"$text"))return e.nextPosition}else{if(t.schema.isLimit(e.item))return void t.walker.skip(()=>!0);if(t.schema.checkChild(e.nextPosition,"$text"))return e.nextPosition}}function Dc(t,e,n){const o=e+(n?0:-1);return Nc.includes(t.charAt(o))}function jc(t,e,n){return e===(n?t.endOffset:0)}function Lc(t,e){const n=[];Array.from(t.getItems({direction:"backward"})).map(t=>qs.createOn(t)).filter(e=>{return(e.start.isAfter(t.start)||e.start.isEqual(t.start))&&(e.end.isBefore(t.end)||e.end.isEqual(t.end))}).forEach(t=>{n.push(t.start.parent),e.remove(t)}),n.forEach(t=>{let n=t;for(;n.parent&&n.isEmpty;){const t=qs.createOn(n);n=n.parent,e.remove(t)}})}function Vc(t){t.document.registerPostFixer(e=>(function(t,e){const n=e.document.selection,o=e.schema,i=[];let r=!1;for(const t of n.getRanges()){const e=Fc(t,o);e?(i.push(e),r=!0):i.push(t)}if(r){let e=i;if(i.length>1){const t=i[0].start,n=i[i.length-1].end;e=[new qs(t,n)]}t.setSelection(e,{backward:n.isBackward})}})(e,t))}function Fc(t,e){return t.isCollapsed?function(t,e){const n=t.start,o=e.getNearestSelectionRange(n);if(!o)return null;const i=o.start;if(n.isEqual(i))return null;if(i.nodeAfter&&e.isLimit(i.nodeAfter))return new qs(i,Hs.createAfter(i.nodeAfter));return new qs(i)}(t,e):function(t,e){const n=t.start,o=t.end,i=e.checkChild(n,"$text"),r=e.checkChild(o,"$text"),s=e.getLimitElement(n),a=e.getLimitElement(o);if(s===a){if(i&&r)return null;if(function(t,e,n){const o=t.nodeAfter&&!n.isLimit(t.nodeAfter)||n.checkChild(t,"$text"),i=e.nodeBefore&&!n.isLimit(e.nodeBefore)||n.checkChild(e,"$text");return o&&i}(n,o,e)){const t=e.getNearestSelectionRange(n,"forward"),i=e.getNearestSelectionRange(o,"backward");return new qs(t?t.start:n,i?i.start:o)}}const c=s&&!s.is("rootElement"),l=a&&!a.is("rootElement");if(c||l){const t=c?zc(Hs.createAt(s),e,"start"):n,i=l?zc(Hs.createAt(a),e,"end"):o;return new qs(t,i)}return null}(t,e)}function zc(t,e,n){let o=t.parent,i=o;for(;e.isLimit(i)&&i.parent;)o=i,i=i.parent;return"start"===n?Hs.createBefore(o):Hs.createAfter(o)}class Bc{constructor(){this.markers=new Tc,this.document=new Ac(this),this.schema=new va,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(t=>this.decorate(t)),this.on("applyOperation",(t,e)=>{e[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block"}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",isLimit:!0}),this.schema.extend("$text",{allowIn:"$clipboardHolder"}),this.schema.register("$marker",{allowIn:["$root","$block"]}),Vc(this)}change(t){return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new Ha,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}enqueueChange(t,e){"string"==typeof t?t=new Ha(t):"function"==typeof t&&(e=t,t=new Ha),this._pendingChanges.push({batch:t,callback:e}),1==this._pendingChanges.length&&this._runPendingChanges()}applyOperation(t){t._execute()}insertContent(t,e){!function(t,e,n){t.change(o=>{let i;(i=n?n instanceof Js||n instanceof ea?n:new Js(n):t.document.selection).isCollapsed||t.deleteContent(i);const r=new Sc(t,o,i.anchor);let s;s=e.is("documentFragment")?e.getChildren():[e],r.handleNodes(s,{isFirst:!0,isLast:!0});const a=r.getSelectionRange();a?i instanceof ea?o.setSelection(a):i.setTo(a):fs.a.warn("insertcontent-no-range: Cannot determine a proper selection range after insertion.")})}(this,t,e)}deleteContent(t,e){Ec(this,t,e)}modifySelection(t,e){Oc(this,t,e)}getSelectedContent(t){return function(t,e){return t.change(t=>{const n=t.createDocumentFragment(),o=e.getFirstRange();if(!o||o.isCollapsed)return n;const i=o.start.root,r=o.start.getCommonPath(o.end),s=i.getNodeByPath(r);let a;const c=(a=o.start.parent==o.end.parent?o:qs.createFromParentsAndOffsets(s,o.start.path[r.length],s,o.end.path[r.length]+1)).end.offset-a.start.offset;for(const e of a.getItems({shallow:!0}))e.is("textProxy")?t.appendText(e.data,e.getAttributes(),n):t.append(e._clone(!0),n);if(a!=o){const e=o._getTransformedByMove(a.start,Hs.createAt(n,0),c)[0],i=new qs(Hs.createAt(n),e.start);Lc(new qs(e.end,Hs.createAt(n,"end")),t),Lc(i,t)}return n})}(this,t)}hasContent(t){if(t instanceof Fs&&(t=qs.createIn(t)),t.isCollapsed)return!1;for(const e of t.getItems())if(e.is("textProxy")||this.schema.isObject(e))return!0;return!1}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const t=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){const e=this._pendingChanges[0].batch;this._currentWriter=new dc(this,e);const n=this._pendingChanges[0].callback(this._currentWriter);t.push(n),this.fire("_change",this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),t}}B(Bc,Lo);class Uc{constructor(){this._listener=Object.create(rr)}listenTo(t){this._listener.listenTo(t,"keydown",(t,e)=>{this._listener.fire("_keydown:"+fi(e),e)})}set(t,e,n={}){const o=mi(t),i=n.priority;this._listener.listenTo(this._listener,"_keydown:"+o,(t,n)=>{e(n,()=>{n.preventDefault(),n.stopPropagation(),t.stop()}),t.return=!0},{priority:i})}press(t){return!!this._listener.fire("_keydown:"+fi(t),t)}destroy(){this._listener.stopListening()}}class Hc extends Uc{constructor(t){super(),this.editor=t}set(t,e,n={}){if("string"==typeof e){const t=e;e=((e,n)=>{this.editor.execute(t),n()})}super.set(t,e,n)}}n(41);class qc{constructor(t){const e=this.constructor.builtinPlugins;this.config=new T(t,this.constructor.defaultConfig),this.config.define("plugins",e),this.plugins=new ma(this,e),this.commands=new ga,this.locale=new ba(this.config.get("language")),this.t=this.locale.t,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.set("isReadOnly",!1),this.model=new Bc,this.data=new Fa(this.model),this.editing=new fa(this.model),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new za,this.conversion.register("downcast",[this.editing.downcastDispatcher,this.data.downcastDispatcher]),this.conversion.register("editingDowncast",[this.editing.downcastDispatcher]),this.conversion.register("dataDowncast",[this.data.downcastDispatcher]),this.conversion.register("upcast",[this.data.upcastDispatcher]),this.keystrokes=new Hc(this),this.keystrokes.listenTo(this.editing.view.document)}initPlugins(){const t=this,e=this.config;return function(){const n=e.get("plugins")||[],o=e.get("removePlugins")||[];return t.plugins.load(n,o)}().then(t=>n(t,"init").then(()=>n(t,"afterInit"))).then(()=>this.fire("pluginsReady"));function n(t,e){return t.reduce((t,n)=>n[e]?t.then(n[e].bind(n)):t,Promise.resolve())}}destroy(){let t=Promise.resolve();return"initializing"==this.state&&(t=new Promise(t=>this.once("ready",t))),t.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()})}execute(...t){this.commands.execute(...t)}static create(t){return new Promise(e=>{const n=new this(t);e(n.initPlugins().then(()=>{n.fire("dataReady"),n.fire("ready")}).then(()=>n))})}}B(qc,Lo);var Wc={setData(t){this.data.set(t)},getData(){return this.data.get()}};function Yc(t,e){t instanceof HTMLTextAreaElement&&(t.value=e),t.innerHTML=e}var Gc={updateSourceElement(){if(!this.sourceElement)throw new M.b("editor-missing-sourceelement: Cannot update the source element of a detached editor.");Yc(this.sourceElement,this.data.get())}};class $c{getHtml(t){const e=document.implementation.createHTMLDocument("").createElement("div");return e.appendChild(t),e.innerHTML}}class Qc{constructor(){this._domParser=new DOMParser,this._domConverter=new er({blockFiller:Ni}),this._htmlWriter=new $c}toData(t){const e=this._domConverter.viewToDom(t,document);return this._htmlWriter.getHtml(e)}toView(t){const e=this._toDom(t);return this._domConverter.domToView(e)}_toDom(t){const e=this._domParser.parseFromString(t,"text/html"),n=e.createDocumentFragment(),o=e.body.childNodes;for(;o.length>0;)n.appendChild(o[0]);return n}}class Jc{constructor(t){this.editor=t,this._components=new Map}*names(){for(const t of this._components.values())yield t.originalName}add(t,e){if(this.has(t))throw new M.b("componentfactory-item-exists: The item already exists in the component factory.",{name:t});this._components.set(Kc(t),{callback:e,originalName:t})}create(t){if(!this.has(t))throw new M.b("componentfactory-item-missing: The required component is not registered in the factory.",{name:t});return this._components.get(Kc(t)).callback(this.editor.locale)}has(t){return this._components.has(Kc(t))}}function Kc(t){return String(t).toLowerCase()}class Zc{constructor(){this.set("isFocused",!1),this.focusedElement=null,this._elements=new Set,this._nextEventLoopTimeout=null}add(t){if(this._elements.has(t))throw new M.b("focusTracker-add-element-already-exist");this.listenTo(t,"focus",()=>this._focus(t),{useCapture:!0}),this.listenTo(t,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(t)}remove(t){t===this.focusedElement&&this._blur(t),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}_focus(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}B(Zc,rr),B(Zc,Lo);class Xc{constructor(t,e){this.editor=t,this.view=e,this.componentFactory=new Jc(t),this.focusTracker=new Zc,this.listenTo(t.editing.view.document,"layoutChanged",()=>this.update())}update(){this.fire("update")}destroy(){this.stopListening(),this.view.destroy()}}B(Xc,R);class tl extends Xc{constructor(t,e){super(t,e),this._toolbarConfig=function(t){return Array.isArray(t)?{items:t}:t?Object.assign({items:[]},t):{items:[]}}(t.config.get("toolbar"))}init(){const t=this.editor,e=this.view;e.render(),e.panel.bind("isVisible").to(this.focusTracker,"isFocused"),this._toolbarConfig.viewportTopOffset&&(e.viewportTopOffset=this._toolbarConfig.viewportTopOffset),e.listenTo(t.ui,"update",()=>{e.panel.isVisible&&e.panel.pin({target:e.editableElement,positions:e.panelPositions})});const n=t.editing.view.document.getRoot();e.editable.bind("isReadOnly").to(n),e.editable.bind("isFocused").to(this.focusTracker),t.editing.view.attachDomRoot(e.editableElement),e.editable.name=n.rootName,this.focusTracker.add(e.editableElement),e.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory),function({origin:t,originKeystrokeHandler:e,originFocusTracker:n,toolbar:o,beforeFocus:i,afterBlur:r}){n.add(o.element),e.set("Alt+F10",(t,e)=>{n.isFocused&&!o.focusTracker.isFocused&&(i&&i(),o.focus(),e())}),o.keystrokes.set("Esc",(e,n)=>{o.focusTracker.isFocused&&(t.focus(),r&&r(),n())})}({origin:t.editing.view,originFocusTracker:this.focusTracker,originKeystrokeHandler:t.keystrokes,toolbar:e.toolbar})}}class el extends ti{constructor(t){super({idProperty:"viewUid"}),this.on("add",(t,e,n)=>{e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[n])}),this.on("remove",(t,e)=>{e.element&&this._parentElement&&e.element.remove()}),this.locale=t,this._parentElement=null}destroy(){this.map(t=>t.destroy())}setParent(t){this._parentElement=t}delegate(...t){if(!t.length||!function(t){return t.every(t=>"string"==typeof t)}(t))throw new M.b("ui-viewcollection-delegate-wrong-events: All event names must be strings.");return{to:e=>{for(const n of this)for(const o of t)n.delegate(o).to(e);this.on("add",(n,o)=>{for(const n of t)o.delegate(n).to(e)}),this.on("remove",(n,o)=>{for(const n of t)o.stopDelegating(n,e)})}}}}B(ti,Lo);var nl=1,ol=4;var il=function(t,e){return io(t,nl|ol,e="function"==typeof e?e:void 0)};const rl="http://www.w3.org/1999/xhtml";class sl{constructor(t){Object.assign(this,gl(ml(t))),this._isRendered=!1,this._revertData=null}render(){const t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}apply(t){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:t,isApplying:!0,revertData:this._revertData}),t}revert(t){if(!this._revertData)throw new M.b("ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.");this._revertTemplateFromNode(t,this._revertData)}*getViews(){yield*function*t(e){if(e.children)for(const n of e.children)vl(n)?yield n:kl(n)&&(yield*t(n))}(this)}static bind(t,e){return{to:(n,o)=>new cl({eventNameOrFunction:n,attribute:n,observable:t,emitter:e,callback:o}),if:(n,o,i)=>new ll({observable:t,emitter:e,attribute:n,valueIfTrue:o,callback:i})}}static extend(t,e){t._isRendered&&fs.a.warn("template-extend-render: Attempting to extend a template which has already been rendered."),function t(e,n){n.attributes&&(e.attributes||(e.attributes={}),wl(e.attributes,n.attributes));n.eventListeners&&(e.eventListeners||(e.eventListeners={}),wl(e.eventListeners,n.eventListeners));n.text&&e.text.push(...n.text);if(n.children&&n.children.length){if(e.children.length!=n.children.length)throw new M.b("ui-template-extend-children-mismatch: The number of children in extended definition does not match.");let o=0;for(const i of n.children)t(e.children[o++],i)}}(t,gl(ml(e)))}_renderNode(t){let e;if(e=t.node?this.tag&&this.text:this.tag?this.text:!this.text)throw new M.b('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.');return this.text?this._renderText(t):this._renderElement(t)}_renderElement(t){let e=t.node;return e||(e=t.node=document.createElementNS(this.ns||rl,this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),e}_renderText(t){let e=t.node;return e?t.revertData.text=e.textContent:e=t.node=document.createTextNode(""),dl(this.text)?this._bindToObservable({schema:this.text,updater:function(t){return{set(e){t.textContent=e},remove(){t.textContent=""}}}(e),data:t}):e.textContent=this.text.join(""),e}_renderAttributes(t){let e,n,o,i;if(!this.attributes)return;const r=t.node,s=t.revertData;for(e in this.attributes)if(o=r.getAttribute(e),n=this.attributes[e],s&&(s.attributes[e]=o),i=ot(n[0])&&n[0].ns?n[0].ns:null,dl(n)){const a=i?n[0].value:n;s&&xl(e)&&a.unshift(o),this._bindToObservable({schema:a,updater:hl(r,e,i),data:t})}else"style"==e&&"string"!=typeof n[0]?this._renderStyleAttribute(n[0],t):(s&&o&&xl(e)&&n.unshift(o),_l(n=n.map(t=>t&&t.value||t).reduce((t,e)=>t.concat(e),[]).reduce(bl,""))||r.setAttributeNS(i,e,n))}_renderStyleAttribute(t,e){const n=e.node;for(const o in t){const i=t[o];dl(i)?this._bindToObservable({schema:[i],updater:fl(n,o),data:e}):n.style[o]=i}}_renderElementChildren(t){const e=t.node,n=t.intoFragment?document.createDocumentFragment():e,o=t.isApplying;let i=0;for(const r of this.children)if(yl(r)){if(!o){r.setParent(e);for(const t of r)n.appendChild(t.element)}}else if(vl(r))o||(r.isRendered||r.render(),n.appendChild(r.element));else if(qi(r))n.appendChild(r);else if(o){const e={children:[],bindings:[],attributes:{}};t.revertData.children.push(e),r._renderNode({node:n.childNodes[i++],isApplying:!0,revertData:e})}else n.appendChild(r.render());t.intoFragment&&e.appendChild(n)}_setUpListeners(t){if(this.eventListeners)for(const e in this.eventListeners){const n=this.eventListeners[e].map(n=>{const[o,i]=e.split("@");return n.activateDomEventListener(o,i,t)});t.revertData&&t.revertData.bindings.push(n)}}_bindToObservable({schema:t,updater:e,data:n}){const o=n.revertData;ul(t,e,n);const i=t.filter(t=>!_l(t)).filter(t=>t.observable).map(o=>o.activateAttributeListener(t,e,n));o&&o.bindings.push(i)}_revertTemplateFromNode(t,e){for(const t of e.bindings)for(const e of t)e();if(e.text)t.textContent=e.text;else{for(const n in e.attributes){const o=e.attributes[n];null===o?t.removeAttribute(n):t.setAttribute(n,o)}for(let n=0;n<e.children.length;++n)this._revertTemplateFromNode(t.childNodes[n],e.children[n])}}}B(sl,R);class al{constructor(t){Object.assign(this,t)}getValue(t){const e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}activateAttributeListener(t,e,n){const o=()=>ul(t,e,n);return this.emitter.listenTo(this.observable,"change:"+this.attribute,o),()=>{this.emitter.stopListening(this.observable,"change:"+this.attribute,o)}}}class cl extends al{activateDomEventListener(t,e,n){const o=(t,n)=>{e&&!n.target.matches(e)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(n):this.observable.fire(this.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,t,o),()=>{this.emitter.stopListening(n.node,t,o)}}}class ll extends al{getValue(t){return!_l(super.getValue(t))&&(this.valueIfTrue||!0)}}function dl(t){return!!t&&(t.value&&(t=t.value),Array.isArray(t)?t.some(dl):t instanceof al)}function ul(t,e,{node:n}){let o=function(t,e){return t.map(t=>t instanceof al?t.getValue(e):t)}(t,n);_l(o=1==t.length&&t[0]instanceof ll?o[0]:o.reduce(bl,""))?e.remove():e.set(o)}function hl(t,e,n){return{set(o){t.setAttributeNS(n,e,o)},remove(){t.removeAttributeNS(n,e)}}}function fl(t,e){return{set(n){t.style[e]=n},remove(){t.style[e]=null}}}function ml(t){return il(t,t=>{if(t&&(t instanceof al||kl(t)||vl(t)||yl(t)))return t})}function gl(t){if("string"==typeof t?t=function(t){return{text:[t]}}(t):t.text&&function(t){Array.isArray(t.text)||(t.text=[t.text])}(t),t.on&&(t.eventListeners=function(t){for(const e in t)pl(t,e);return t}(t.on),delete t.on),!t.text){t.attributes&&function(t){for(const e in t)t[e].value&&(t[e].value=[].concat(t[e].value)),pl(t,e)}(t.attributes);const e=[];if(t.children)if(yl(t.children))e.push(t.children);else for(const n of t.children)kl(n)||vl(n)||qi(n)?e.push(n):e.push(new sl(n));t.children=e}return t}function pl(t,e){Array.isArray(t[e])||(t[e]=[t[e]])}function bl(t,e){return _l(e)?t:_l(t)?e:`${t} ${e}`}function wl(t,e){for(const n in e)t[n]?t[n].push(...e[n]):t[n]=e[n]}function _l(t){return!t&&0!==t}function vl(t){return t instanceof Al}function kl(t){return t instanceof sl}function yl(t){return t instanceof el}function xl(t){return"class"==t||"style"==t}n(42);class Al{constructor(t){this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new ti,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(e,n)=>{n.locale=t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=sl.bind(this,this)}createCollection(){const t=new el;return this._viewCollections.add(t),t}registerChild(t){ho(t)||(t=[t]);for(const e of t)this._unboundChildren.add(e)}deregisterChild(t){ho(t)||(t=[t]);for(const e of t)this._unboundChildren.remove(e)}setTemplate(t){this.template=new sl(t)}extendTemplate(t){sl.extend(this.template,t)}render(){if(this.isRendered)throw new M.b("ui-view-render-already-rendered: This View has already been rendered.");this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(t=>t.destroy())}}B(Al,rr),B(Al,Lo);n(45);class Cl extends Al{constructor(t){super(t),this.body=this.createCollection()}render(){super.render(),this._renderBodyCollection()}destroy(){return this._bodyCollectionContainer.remove(),super.destroy()}_renderBodyCollection(){const t=this._bodyCollectionContainer=new sl({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"]},children:this.body}).render();document.body.appendChild(t)}}class Tl extends Al{constructor(t,e){super(t);const n=this.bindTemplate;e&&(this.element=this.editableElement=e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners",n.to("isFocused",t=>t?"ck-focused":"ck-blurred")],contenteditable:n.to("isReadOnly",t=>!t)}}),this.set("isReadOnly",!1),this.set("isFocused",!1),this.externalElement=e}render(){super.render(),this.externalElement?this.template.apply(this.element=this.externalElement):this.editableElement=this.element}destroy(){this.externalElement&&this.template.revert(this.externalElement),super.destroy()}}class Ml extends Tl{constructor(t,e){super(t,e);const n=this.bindTemplate,o=this.t;this.set("name",null);this.extendTemplate({attributes:{role:"textbox","aria-label":n.to("name",t=>o("ax",[t])),class:"ck-editor__editable_inline"}})}}function Pl(t,e,n){const{left:o,top:i,name:r}=t(e,n);return[r,n.clone().moveTo(o,i)]}function Sl({left:t,top:e}){const{scrollX:n,scrollY:o}=Ki.window;return{left:t+n,top:e+o}}n(47);const El=function(t){return e=>e+t}("px"),Il=Ki.document.body;class Nl extends Al{constructor(t){super(t);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("className"),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",t=>`ck-balloon-panel_${t}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("className")],style:{top:e.to("top",El),left:e.to("left",El)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(t){this.show();const e=Nl.defaultPositions,n=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthWest,e.northArrowSouthEast],limiter:Il,fitInViewport:!0},t),{top:o,left:i,name:r}=Nl._getOptimalPosition(n);Object.assign(this,{top:o,left:i,position:r})}pin(t){this.unpin(),this._pinWhenIsVisibleCallback=(()=>{this.isVisible?this._startPinning(t):this._stopPinning()}),this._startPinning(t),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(t){this.attachTo(t);const e=Ol(t.target),n=t.limiter?Ol(t.limiter):Il;this.listenTo(Ki.document,"scroll",(o,i)=>{const r=i.target,s=e&&r.contains(e),a=n&&r.contains(n);!s&&!a&&e&&n||this.attachTo(t)},{useCapture:!0}),this.listenTo(Ki.window,"resize",()=>{this.attachTo(t)})}_stopPinning(){this.stopListening(Ki.document,"scroll"),this.stopListening(Ki.window,"resize")}}function Ol(t){return tr(t)?t:bs(t)?t.commonAncestorContainer:"function"==typeof t?Ol(t()):null}function Rl(t,e){return t.top-e.height-Nl.arrowVerticalOffset}function Dl(t){return t.bottom+Nl.arrowVerticalOffset}Nl.arrowHorizontalOffset=25,Nl.arrowVerticalOffset=10,Nl._getOptimalPosition=function({element:t,target:e,positions:n,limiter:o,fitInViewport:i}){ct(e)&&(e=e()),ct(o)&&(o=o());const r=function(t){for(;t&&"html"!=t.tagName.toLowerCase();){if("static"!=Ki.window.getComputedStyle(t).position)return t;t=t.parentElement}return null}(t.parentElement),s=new vs(t),a=new vs(e);let c,l;if(o||i){const t=o&&new vs(o).getVisible(),e=i&&new vs(Ki.window);[l,c]=function(t,e,n,o,i){let r,s,a=0,c=0;const l=n.getArea();return t.some(t=>{const[d,u]=Pl(t,e,n);let h,f;if(o)if(i){const t=o.getIntersection(i);h=t?t.getIntersectionArea(u):0}else h=o.getIntersectionArea(u);function m(){c=f,a=h,r=u,s=d}return i&&(f=i.getIntersectionArea(u)),i&&!o?f>c&&m():!i&&o?h>a&&m():f>c&&h>=a?m():f>=c&&h>a&&m(),h===l}),r?[s,r]:null}(n,a,s,t,e)||Pl(n[0],a,s)}else[l,c]=Pl(n[0],a,s);let{left:d,top:u}=Sl(c);if(r){const t=Sl(new vs(r)),e=ws(r);d-=t.left,u-=t.top,d+=r.scrollLeft,u+=r.scrollTop,d-=e.left,u-=e.top}return{left:d,top:u,name:l}},Nl.defaultPositions={northArrowSouth:(t,e)=>({top:Rl(t,e),left:t.left+t.width/2-e.width/2,name:"arrow_s"}),northArrowSouthEast:(t,e)=>({top:Rl(t,e),left:t.left+t.width/2-e.width+Nl.arrowHorizontalOffset,name:"arrow_se"}),northArrowSouthWest:(t,e)=>({top:Rl(t,e),left:t.left+t.width/2-Nl.arrowHorizontalOffset,name:"arrow_sw"}),northWestArrowSouth:(t,e)=>({top:Rl(t,e),left:t.left-e.width/2,name:"arrow_s"}),northWestArrowSouthWest:(t,e)=>({top:Rl(t,e),left:t.left-Nl.arrowHorizontalOffset,name:"arrow_sw"}),northWestArrowSouthEast:(t,e)=>({top:Rl(t,e),left:t.left-e.width+Nl.arrowHorizontalOffset,name:"arrow_se"}),northEastArrowSouth:(t,e)=>({top:Rl(t,e),left:t.right-e.width/2,name:"arrow_s"}),northEastArrowSouthEast:(t,e)=>({top:Rl(t,e),left:t.right-e.width+Nl.arrowHorizontalOffset,name:"arrow_se"}),northEastArrowSouthWest:(t,e)=>({top:Rl(t,e),left:t.right-Nl.arrowHorizontalOffset,name:"arrow_sw"}),southArrowNorth:(t,e)=>({top:Dl(t),left:t.left+t.width/2-e.width/2,name:"arrow_n"}),southArrowNorthEast:(t,e)=>({top:Dl(t),left:t.left+t.width/2-e.width+Nl.arrowHorizontalOffset,name:"arrow_ne"}),southArrowNorthWest:(t,e)=>({top:Dl(t),left:t.left+t.width/2-Nl.arrowHorizontalOffset,name:"arrow_nw"}),southWestArrowNorth:(t,e)=>({top:Dl(t),left:t.left-e.width/2,name:"arrow_n"}),southWestArrowNorthWest:(t,e)=>({top:Dl(t),left:t.left-Nl.arrowHorizontalOffset,name:"arrow_nw"}),southWestArrowNorthEast:(t,e)=>({top:Dl(t),left:t.left-e.width+Nl.arrowHorizontalOffset,name:"arrow_ne"}),southEastArrowNorth:(t,e)=>({top:Dl(t),left:t.right-e.width/2,name:"arrow_n"}),southEastArrowNorthEast:(t,e)=>({top:Dl(t),left:t.right-e.width+Nl.arrowHorizontalOffset,name:"arrow_ne"}),southEastArrowNorthWest:(t,e)=>({top:Dl(t),left:t.right-Nl.arrowHorizontalOffset,name:"arrow_nw"})};class jl{constructor(t){if(Object.assign(this,t),t.actions&&t.keystrokeHandler)for(const e in t.actions){let n=t.actions[e];"string"==typeof n&&(n=[n]);for(const o of n)t.keystrokeHandler.set(o,(t,n)=>{this[e](),n()})}}get first(){return this.focusables.find(Ll)||null}get last(){return this.focusables.filter(Ll).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let t=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((e,n)=>{const o=e.element===this.focusTracker.focusedElement;return o&&(t=n),o}),t)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(t){t&&t.focus()}_getFocusableItem(t){const e=this.current,n=this.focusables.length;if(!n)return null;if(null===e)return this[1===t?"first":"last"];let o=(e+n+t)%n;do{const e=this.focusables.get(o);if(Ll(e))return e;o=(o+n+t)%n}while(o!==e);return null}}function Ll(t){return!(!t.focus||"none"==Ki.window.getComputedStyle(t.element).display)}class Vl extends Al{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}n(49);class Fl extends Al{constructor(t){super(t);const e=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new Zc,this.keystrokes=new Uc,this.set("isVertical",!1),this.set("className"),this._focusCycler=new jl({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:["arrowleft","arrowup"],focusNext:["arrowright","arrowdown"]}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar",e.if("isVertical","ck-toolbar_vertical"),e.to("className")]},children:this.items,on:{mousedown:function(t){return t.bindTemplate.to(e=>{e.target===t.element&&e.preventDefault()})}(this)}})}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)}),this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(t,e){t.map(t=>{"|"==t?this.items.add(new Vl):e.has(t)?this.items.add(e.create(t)):fs.a.warn("toolbarview-item-unavailable: The requested toolbar item is unavailable.",{name:t})})}}class zl extends Cl{constructor(t,e){super(t),this.toolbar=new Fl(t),this.set("viewportTopOffset",0),this.toolbar.extendTemplate({attributes:{class:["ck-toolbar_floating"]}}),this.panel=new Nl(t),this.panel.withArrow=!1,this.panelPositions=this._getPanelPositions(),this.panel.extendTemplate({attributes:{class:"ck-toolbar-container"}}),this.editable=new Ml(t,e)}render(){super.render(),this.body.add(this.panel),this.registerChild(this.editable),this.panel.content.add(this.toolbar)}get editableElement(){return this.editable.element}_getPanelPositionTop(t,e){let n;return n=t.top>e.height+this.viewportTopOffset?t.top-e.height:t.bottom>e.height+this.viewportTopOffset+50?this.viewportTopOffset:t.bottom}_getPanelPositions(){return[(t,e)=>({top:this._getPanelPositionTop(t,e),left:t.left,name:"toolbar_west"}),(t,e)=>({top:this._getPanelPositionTop(t,e),left:t.left+t.width-e.width,name:"toolbar_east"})]}}class Bl extends qc{constructor(t,e){super(e),this.data.processor=new Qc,this.model.document.createRoot(),tr(t)&&(this.sourceElement=t),this.ui=new tl(this,new zl(this.locale,this.sourceElement)),function(t){if(!ct(t.updateSourceElement))throw new M.b("attachtoform-missing-elementapi-interface: Editor passed to attachToForm() must implement ElementApi.");const e=t.sourceElement;if(e&&"textarea"===e.tagName.toLowerCase()&&e.form){let n;const o=e.form,i=()=>t.updateSourceElement();ct(o.submit)&&(n=o.submit,o.submit=(()=>{i(),n.apply(o)})),o.addEventListener("submit",i),t.on("destroy",()=>{o.removeEventListener("submit",i),n&&(o.submit=n)})}}(this)}get element(){return this.ui.view.editable.element}destroy(){const t=this.getData();return this.ui.destroy(),super.destroy().then(()=>{this.sourceElement&&Yc(this.sourceElement,t)})}static create(t,e){return new Promise(n=>{const o=new this(t,e);n(o.initPlugins().then(()=>{o.ui.init(),o.fire("uiReady")}).then(()=>{const e=tr(t)?function(t){return t instanceof HTMLTextAreaElement?t.value:t.innerHTML}(t):t;return o.data.init(e)}).then(()=>{o.fire("dataReady"),o.fire("ready")}).then(()=>o))})}}B(Bl,Wc),B(Bl,Gc);class Ul{constructor(t){this.editor=t}destroy(){this.stopListening()}}B(Ul,Lo);class Hl{constructor(t){this.files=function(t){const e=t.files?Array.from(t.files):[],n=t.items?Array.from(t.items):[];if(e.length)return e;return n.filter(t=>"file"===t.kind).map(t=>t.getAsFile())}(t),this._native=t}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,e){this._native.setData(t,e)}}class ql extends Jr{constructor(t){super(t);const e=this.document;function n(t,n){n.preventDefault();const o=n.dropRange?[n.dropRange]:Array.from(e.selection.getRanges());e.fire("clipboardInput",{dataTransfer:n.dataTransfer,targetRanges:o})}this.domEventType=["paste","copy","cut","drop","dragover"],this.listenTo(e,"paste",n,{priority:"low"}),this.listenTo(e,"drop",n,{priority:"low"})}onDomEvent(t){const e={dataTransfer:new Hl(t.clipboardData?t.clipboardData:t.dataTransfer)};"drop"==t.type&&(e.dropRange=function(t,e){const n=e.target.ownerDocument,o=e.clientX,i=e.clientY;let r;n.caretRangeFromPoint&&n.caretRangeFromPoint(o,i)?r=n.caretRangeFromPoint(o,i):e.rangeParent&&((r=n.createRange()).setStart(e.rangeParent,e.rangeOffset),r.collapse(!0));return r?t.domConverter.domRangeToView(r):t.document.selection.getFirstRange()}(this.view,t)),this.fire(t.type,t,e)}}const Wl=["figcaption","li"];class Yl extends Ul{static get pluginName(){return"Clipboard"}init(){const t=this.editor,e=t.model.document,n=t.editing.view,o=n.document;function i(n,i){const r=i.dataTransfer;i.preventDefault();const s=t.data.toView(t.model.getSelectedContent(e.selection));o.fire("clipboardOutput",{dataTransfer:r,content:s,method:n.name})}this._htmlDataProcessor=new Qc,n.addObserver(ql),this.listenTo(o,"clipboardInput",e=>{t.isReadOnly&&e.stop()},{priority:"highest"}),this.listenTo(o,"clipboardInput",(t,e)=>{const o=e.dataTransfer;let i="";o.getData("text/html")?i=function(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,e)=>1==e.length?" ":e)}(o.getData("text/html")):o.getData("text/plain")&&(i=function(t){return(t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n\n/g,"</p><p>").replace(/\n/g,"<br>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).indexOf("</p><p>")>-1&&(t=`<p>${t}</p>`),t}(o.getData("text/plain"))),i=this._htmlDataProcessor.toView(i),this.fire("inputTransformation",{content:i,dataTransfer:o}),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(t,e)=>{if(!e.content.isEmpty){const t=this.editor.data,n=this.editor.model,o=t.toModel(e.content,"$clipboardHolder");if(0==o.childCount)return;n.insertContent(o)}},{priority:"low"}),this.listenTo(o,"copy",i,{priority:"low"}),this.listenTo(o,"cut",(e,n)=>{t.isReadOnly?n.preventDefault():i(e,n)},{priority:"low"}),this.listenTo(o,"clipboardOutput",(n,o)=>{o.content.isEmpty||(o.dataTransfer.setData("text/html",this._htmlDataProcessor.toData(o.content)),o.dataTransfer.setData("text/plain",function t(e){let n="";if(e.is("text")||e.is("textProxy"))n=e.data;else if(e.is("img")&&e.hasAttribute("alt"))n=e.getAttribute("alt");else{let o=null;for(const i of e.getChildren()){const e=t(i);o&&(o.is("containerElement")||i.is("containerElement"))&&(Wl.includes(o.name)||Wl.includes(i.name)?n+="\n":n+="\n\n"),n+=e,o=i}}return n}(o.content))),"cut"==o.method&&t.model.deleteContent(e.selection)},{priority:"low"})}}class Gl{constructor(t){this.editor=t,this.set("value",void 0),this.set("isEnabled",!1),this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"}),this.listenTo(t,"change:isReadOnly",(t,e,n)=>{n?(this.on("set:isEnabled",$l,{priority:"highest"}),this.isEnabled=!1):(this.off("set:isEnabled",$l),this.refresh())})}refresh(){this.isEnabled=!0}execute(){}destroy(){this.stopListening()}}function $l(t){t.return=!1,t.stop()}B(Gl,Lo);class Ql extends Gl{execute(){const t=this.editor.model,e=t.document;t.change(n=>{!function(t,e,n,o){const i=n.isCollapsed,r=n.getFirstRange(),s=r.start.parent,a=r.end.parent;if(o.isLimit(s)||o.isLimit(a))return void(i||s!=a||t.deleteContent(n));if(i)Jl(e,n,r.start);else{const o=!(r.start.isAtStart&&r.end.isAtEnd),i=s==a;t.deleteContent(n,{leaveUnmerged:o}),o&&(i?Jl(e,n,n.focus):e.setSelection(a,0))}}(this.editor.model,n,e.selection,t.schema),this.fire("afterExecute",{writer:n})})}}function Jl(t,e,n){const o=n.parent,i=new o.constructor(o.name,o.getAttributes());n.isAtEnd?t.insert(i,n.parent,"after"):n.isAtStart?t.insert(i,n.parent,"before"):t.split(n),t.setSelection(n.parent.nextSibling,0)}class Kl extends cr{constructor(t){super(t);const e=this.document;e.on("keydown",(t,n)=>{if(this.isEnabled&&n.keyCode==hi.enter){let o;e.once("enter",t=>o=t,{priority:"highest"}),e.fire("enter",new Qr(e,n.domEvent,{isSoft:n.shiftKey})),o&&o.stop.called&&t.stop()}})}observe(){}}class Zl extends Ul{static get pluginName(){return"Enter"}init(){const t=this.editor,e=t.editing.view,n=e.document;e.addObserver(Kl),t.commands.add("enter",new Ql(t)),this.listenTo(n,"enter",(n,o)=>{o.preventDefault(),o.isSoft||(t.execute("enter"),e.scrollToTheSelection())},{priority:"low"})}}class Xl extends Gl{execute(){const t=this.editor.model,e=t.document;t.change(n=>{!function(t,e,n){const o=n.isCollapsed,i=n.getFirstRange(),r=i.start.parent,s=i.end.parent,a=r==s;if(o)td(e,i.end);else{const o=!(i.start.isAtStart&&i.end.isAtEnd);t.deleteContent(n,{leaveUnmerged:o}),a?td(e,n.focus):o&&e.setSelection(s,0)}}(t,n,e.selection),this.fire("afterExecute",{writer:n})})}refresh(){const t=this.editor.model,e=t.document;this.isEnabled=function(t,e){if(e.rangeCount>1)return!1;const n=e.anchor;if(!n||!t.checkChild(n,"softBreak"))return!1;const o=e.getFirstRange(),i=o.start.parent,r=o.end.parent;if((ed(i,t)||ed(r,t))&&i!==r)return!1;return!0}(t.schema,e.selection)}}function td(t,e){const n=t.createElement("softBreak");t.insert(n,e),t.setSelection(n,"after")}function ed(t,e){return!t.is("rootElement")&&(e.isLimit(t)||ed(t.parent,e))}class nd extends Ul{static get pluginName(){return"ShiftEnter"}init(){const t=this.editor,e=t.model.schema,n=t.conversion,o=t.editing.view,i=o.document;e.register("softBreak",{allowWhere:"$text"}),n.for("upcast").add(Oa({model:"softBreak",view:"br"})),n.for("downcast").add(aa({model:"softBreak",view:(t,e)=>e.createEmptyElement("br")})),o.addObserver(Kl),t.commands.add("shiftEnter",new Xl(t)),this.listenTo(i,"enter",(e,n)=>{n.preventDefault(),n.isSoft&&(t.execute("shiftEnter"),o.scrollToTheSelection())},{priority:"low"})}}class od{constructor(t,e=20){this.model=t,this.size=0,this.limit=e,this.isLocked=!1,this._changeCallback=((t,e)=>{"transparent"!=e.type&&e!==this._batch&&this._reset(!0)}),this._selectionChangeCallback=(()=>{this._reset()}),this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=new Ha),this._batch}input(t){this.size+=t,this.size>=this.limit&&this._reset(!0)}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t){this.isLocked&&!t||(this._batch=null,this.size=0)}}class id extends Gl{constructor(t,e){super(t),this._buffer=new od(t.model,e)}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(t={}){const e=this.editor.model,n=e.document,o=t.text||"",i=o.length,r=t.range||n.selection.getFirstRange(),s=t.resultRange;e.enqueueChange(this._buffer.batch,t=>{const e=r.isCollapsed;this._buffer.lock(),e||t.remove(r),o&&t.insertText(o,n.selection.getAttributes(),r.start),s?t.setSelection(s):e&&t.setSelection(r.start.getShiftedBy(i)),this._buffer.unlock(),this._buffer.input(i)})}}function rd(t){let e=null;const n=t.model,o=t.editing.view,i=t.commands.get("input");function r(){const t=i.buffer;t.lock(),n.enqueueChange(t.batch,()=>{n.deleteContent(n.document.selection)}),t.unlock()}o.document.on("keydown",(t,s)=>(function(t){const s=n.document,a=o.document.isComposing,c=e&&e.isEqual(s.selection);if(e=null,!i.isEnabled)return;if(function(t){if(t.ctrlKey)return!0;return sd.includes(t.keyCode)}(t)||s.selection.isCollapsed)return;if(a&&229===t.keyCode)return;if(!a&&229===t.keyCode&&c)return;r()})(s),{priority:"lowest"}),o.document.on("compositionstart",function(){const t=n.document,e=1!==t.selection.rangeCount||t.selection.getFirstRange().isFlat;if(t.selection.isCollapsed||e)return;r()},{priority:"lowest"}),o.document.on("compositionend",()=>{e=new Js(n.document.selection)},{priority:"lowest"})}const sd=[fi("arrowUp"),fi("arrowRight"),fi("arrowDown"),fi("arrowLeft"),9,16,17,18,20,27,33,34,35,36];for(let t=112;t<=135;t++)sd.push(t);function ad(t){if(0==t.length)return!1;for(const e of t)if("children"===e.type&&!cd(e))return!0;return!1}function cd(t){if(t.newChildren.length-t.oldChildren.length!=1)return;const e=function(t,e){const n=[];let o,i=0;return t.forEach(t=>{"equal"==t?(r(),i++):"insert"==t?(s("insert")?o.values.push(e[i]):(r(),o={type:"insert",index:i,values:[e[i]]}),i++):s("delete")?o.howMany++:(r(),o={type:"delete",index:i,howMany:1})}),r(),n;function r(){o&&(n.push(o),o=null)}function s(t){return o&&o.type==t}}(Bi(t.oldChildren,t.newChildren,ld),t.newChildren);if(e.length>1)return;const n=e[0];return n.values[0]instanceof co?n:void 0}function ld(t,e){return t instanceof co&&e instanceof co?t.data===e.data:t===e}class dd{constructor(t){this.editor=t,this.editing=this.editor.editing}handle(t,e){if(ad(t))this._handleContainerChildrenMutations(t,e);else for(const n of t)this._handleTextMutation(n,e),this._handleTextNodeInsertion(n)}_handleContainerChildrenMutations(t,e){const n=function(t){const e=t.map(t=>t.node).reduce((t,e)=>t.getCommonAncestor(e,{includeSelf:!0}));if(!e)return;return e.getAncestors({includeSelf:!0,parentFirst:!0}).find(t=>t.is("containerElement")||t.is("rootElement"))}(t);if(!n)return;const o=this.editor.editing.view.domConverter.mapViewToDom(n),i=new er,r=this.editor.data.toModel(i.domToView(o)).getChild(0),s=this.editor.editing.mapper.toModelElement(n);if(!s)return;const a=Array.from(r.getChildren()),c=Array.from(s.getChildren()),l=a[a.length-1],d=c[c.length-1];if(l&&l.is("softBreak")&&d&&!d.is("softBreak")&&a.pop(),!ud(a)||!ud(c))return;const u=a.map(t=>t.is("text")?t.data:"@").join("").replace(/\u00A0/g," "),h=c.map(t=>t.is("text")?t.data:"@").join("").replace(/\u00A0/g," ");if(h===u)return;const f=Bi(h,u),{firstChangeAt:m,insertions:g,deletions:p}=hd(f);let b=null;e&&(b=this.editing.mapper.toModelRange(e.getFirstRange()));const w=u.substr(m,g),_=qs.createFromParentsAndOffsets(s,m,s,m+p);this.editor.execute("input",{text:w,range:_,resultRange:b})}_handleTextMutation(t,e){if("text"!=t.type)return;const n=t.newText.replace(/\u00A0/g," "),o=Bi(t.oldText.replace(/\u00A0/g," "),n),{firstChangeAt:i,insertions:r,deletions:s}=hd(o);let a=null;e&&(a=this.editing.mapper.toModelRange(e.getFirstRange()));const c=new $o(t.node,i),l=this.editing.mapper.toModelPosition(c),d=qs.createFromPositionAndShift(l,s),u=n.substr(i,r);this.editor.execute("input",{text:u,range:d,resultRange:a})}_handleTextNodeInsertion(t){if("children"!=t.type)return;const e=cd(t),n=new $o(t.node,e.index),o=this.editing.mapper.toModelPosition(n),i=e.values[0].data;this.editor.execute("input",{text:i.replace(/\u00A0/g," "),range:new qs(o)})}}function ud(t){return t.every(t=>t.is("text")||t.is("softBreak"))}function hd(t){let e=null,n=null;for(let o=0;o<t.length;o++){"equal"!=t[o]&&(e=null===e?o:e,n=o)}let o=0,i=0;for(let r=e;r<=n;r++)"insert"!=t[r]&&o++,"delete"!=t[r]&&i++;return{insertions:i,deletions:o,firstChangeAt:e}}class fd extends Ul{static get pluginName(){return"Input"}init(){const t=this.editor,e=new id(t,t.config.get("typing.undoStep")||20);t.commands.add("input",e),rd(t),function(t){t.editing.view.document.on("mutations",(e,n,o)=>{new dd(t).handle(n,o)})}(t)}}class md extends Gl{constructor(t,e){super(t),this.direction=e,this._buffer=new od(t.model,t.config.get("typing.undoStep"))}execute(t={}){const e=this.editor.model,n=e.document;e.enqueueChange(this._buffer.batch,o=>{this._buffer.lock();const i=new Js(n.selection),r=i.isCollapsed;if(i.isCollapsed&&e.modifySelection(i,{direction:this.direction,unit:t.unit}),this._shouldEntireContentBeReplacedWithParagraph(t.sequence||1))return void this._replaceEntireContentWithParagraph(o);if(i.isCollapsed)return;let s=0;i.getFirstRange().getMinimalFlatRanges().forEach(t=>{s+=Ko(t.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),e.deleteContent(i,{doNotResetEntireContent:r}),this._buffer.input(s),o.setSelection(i),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(t){if(t>1)return!1;const e=this.editor.model,n=e.document.selection,o=e.schema.getLimitElement(n);if(!(n.isCollapsed&&n.containsEntireContent(o)))return!1;if(!e.schema.checkChild(o,"paragraph"))return!1;const i=o.getChild(0);return!i||"paragraph"!==i.name}_replaceEntireContentWithParagraph(t){const e=this.editor.model,n=e.document.selection,o=e.schema.getLimitElement(n),i=new Fs("paragraph");t.remove(qs.createIn(o)),t.insert(i,o),t.setSelection(i,0)}}class gd extends cr{constructor(t){super(t);const e=t.document;let n=0;e.on("keyup",(t,e)=>{e.keyCode!=hi.delete&&e.keyCode!=hi.backspace||(n=0)}),e.on("keydown",(t,o)=>{const i={};if(o.keyCode==hi.delete)i.direction="forward",i.unit="character";else{if(o.keyCode!=hi.backspace)return;i.direction="backward",i.unit="codePoint"}const r=li.isMac?o.altKey:o.ctrlKey;let s;i.unit=r?"word":i.unit,i.sequence=++n,e.once("delete",t=>s=t,{priority:"highest"}),e.fire("delete",new Qr(e,o.domEvent,i)),s&&s.stop.called&&t.stop()})}observe(){}}function pd(t){const e=t.model,n=t.editing.view,o=200;let i=null,r=new Js(e.document.selection),s=Date.now();e.document.selection.on("change",function(t){const e=new Js(t.source);r.isEqual(e)||(i=r,r=e,s=Date.now())}),n.document.on("mutations",function(n,a){ad(a)&&function(t){for(const e of t){if("children"!==e.type)continue;const t=e.oldChildren,n=e.newChildren;if(!bd(t))continue;const o=Bi(t,n),i=o.some(t=>"delete"===t),r=o.some(t=>"insert"===t);if(i&&!r)return!0}return!1}(a)&&(!function(){Date.now()-s<o&&i&&!i.isCollapsed&&r.isCollapsed&&r.getLastPosition().isEqual(i.getLastPosition())&&e.enqueueChange(t=>{t.setSelection(i)});t.execute("delete")}(),n.stop())},{priority:"highest"})}function bd(t){return t.every(t=>t.is("containerElement"))}class wd extends Ul{static get pluginName(){return"Delete"}init(){const t=this.editor,e=t.editing.view,n=e.document;e.addObserver(gd),t.commands.add("forwardDelete",new md(t,"forward")),t.commands.add("delete",new md(t,"backward")),this.listenTo(n,"delete",(n,o)=>{t.execute("forward"==o.direction?"forwardDelete":"delete",{unit:o.unit,sequence:o.sequence}),o.preventDefault(),e.scrollToTheSelection()}),pd(t)}}class _d extends Ul{static get requires(){return[fd,wd]}static get pluginName(){return"Typing"}}class vd extends qa{get type(){return"noop"}clone(){return new vd(this.baseVersion)}getReversed(){return new vd(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}const kd=new Map;function yd(t,e,n){let o=kd.get(t);o||(o=new Map,kd.set(t,o)),o.set(e,n)}function xd(t){return[t]}function Ad(t,e,n={}){const o=function(t,e){const n=kd.get(t);return n&&n.has(e)?n.get(e):xd}(t.constructor,e.constructor);try{return o(t=t.clone(),e,n)}catch(o){throw fs.a.error("Error during operation transformation!",o.message),fs.a.error("Transformed operation",t),fs.a.error("Operation transformed by",e),fs.a.error("context.aIsStrong",n.aIsStrong),fs.a.error("context.aWasUndone",n.aWasUndone),fs.a.error("context.bWasUndone",n.bWasUndone),fs.a.error("context.abRelation",n.abRelation),fs.a.error("context.baRelation",n.baRelation),o}}function Cd(t,e,n){if(t=t.slice(),e=e.slice(),0==t.length||0==e.length)return{operationsA:t,operationsB:e};const o=new WeakMap;for(const e of t)o.set(e,0);const i={nextBaseVersionA:t[t.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:t.length,originalOperationsBCount:e.length},r=new Td(n.document,n.useRelations);r.setOriginalOperations(t),r.setOriginalOperations(e);let s=0;for(;s<t.length;){const n=t[s],i=o.get(n);if(i==e.length){s++;continue}const a=e[i],c=Ad(n,a,r.getContext(n,a,!0)),l=Ad(a,n,r.getContext(a,n,!1));r.updateRelation(n,a),r.setOriginalOperations(c,n),r.setOriginalOperations(l,a);for(const t of c)o.set(t,i+l.length);t.splice(s,1,...c),e.splice(i,1,...l)}if(n.padWithNoOps){const n=t.length-i.originalOperationsACount,o=e.length-i.originalOperationsBCount;Pd(t,o-n),Pd(e,n-o)}return Md(t,i.nextBaseVersionB),Md(e,i.nextBaseVersionA),{operationsA:t,operationsB:e}}class Td{constructor(t,e){this._history=t.history,this._useRelations=e,this._originalOperations=new Map,this._relations=new Map}setOriginalOperations(t,e=null){const n=e?this._originalOperations.get(e):null;for(const e of t)this._originalOperations.set(e,n||e)}updateRelation(t,e){switch(t.constructor){case nc:switch(e.constructor){case ac:t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)&&this._setRelation(t,e,"insertBetween");break;case nc:t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter")}break;case cc:switch(e.constructor){case ac:t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");break;case nc:(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))&&this._setRelation(t,e,"splitBefore")}break;case ac:switch(e.constructor){case ac:t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement")}}}getContext(t,e,n){return{aIsStrong:n,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null}}_wasUndone(t){const e=this._originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}_getRelation(t,e){const n=this._originalOperations.get(e),o=this._history.getUndoneOperation(n);if(!o)return null;const i=this._originalOperations.get(t),r=this._relations.get(i);return r&&r.get(o)||null}_setRelation(t,e,n){const o=this._originalOperations.get(t),i=this._originalOperations.get(e);let r=this._relations.get(o);r||(r=new Map,this._relations.set(o,r)),r.set(i,n)}}function Md(t,e){for(const n of t)n.baseVersion=e++}function Pd(t,e){for(let n=0;n<e;n++)t.push(new vd(0))}function Sd(t,e,n){const o=t.nodes.getNode(0).getAttribute(e);if(o==n)return null;const i=new qs(t.position,t.position.getShiftedBy(t.howMany));return new tc(i,e,o,n,0)}function Ed(t,e){return null===t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)}function Id(t,e){const n=[];for(let o=0;o<t.length;o++){const i=t[o],r=new nc(i.start,i.end.offset-i.start.offset,e,0);n.push(r);for(let e=o+1;e<t.length;e++)t[e]=t[e]._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)[0];e=e._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)}return n}yd(tc,tc,(t,e,n)=>{if(t.key===e.key){const o=t.range.getDifference(e.range).map(e=>new tc(e,t.key,t.oldValue,t.newValue,0)),i=t.range.getIntersection(e.range);return i&&n.aIsStrong&&o.push(new tc(i,e.key,e.newValue,t.newValue,0)),0==o.length?[new vd(0)]:o}return[t]}),yd(tc,oc,(t,e)=>{if(t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)){const n=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(e=>new tc(e,t.key,t.oldValue,t.newValue,t.baseVersion));if(e.shouldReceiveAttributes){const o=Sd(e,t.key,t.oldValue);o&&n.unshift(o)}return n}return t.range=t.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[t]}),yd(tc,ac,(t,e)=>{const n=[];t.range.start.hasSameParentAs(e.deletionPosition)&&(t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition))&&n.push(qs.createFromPositionAndShift(e.graveyardPosition,1));const o=t.range._getTransformedByMergeOperation(e);return o.isCollapsed||n.push(o),n.map(e=>new tc(e,t.key,t.oldValue,t.newValue,t.baseVersion))}),yd(tc,nc,(t,e)=>{return function(t,e){const n=qs.createFromPositionAndShift(e.sourcePosition,e.howMany);let o=null,i=[];n.containsRange(t,!0)?o=t:t.start.hasSameParentAs(n.start)?(i=t.getDifference(n),o=t.getIntersection(n)):i=[t];const r=[];for(let t of i){t=t._getTransformedByDeletion(e.sourcePosition,e.howMany);const n=e.getMovedRangeStart(),o=t.start.hasSameParentAs(n);t=t._getTransformedByInsertion(n,e.howMany,o),r.push(...t)}o&&r.push(o._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]);return r}(t.range,e).map(e=>new tc(e,t.key,t.oldValue,t.newValue,t.baseVersion))}),yd(tc,cc,(t,e)=>{if(t.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.range.end.offset++,[t];if(t.range.start.hasSameParentAs(e.splitPosition)&&t.range.containsPosition(e.splitPosition)){const n=t.clone();return n.range=new qs(Hs.createFromPosition(e.moveTargetPosition),t.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),t.range.end=Hs.createFromPosition(e.splitPosition),t.range.end.stickiness="toPrevious",[t,n]}return t.range=t.range._getTransformedBySplitOperation(e),[t]}),yd(oc,tc,(t,e)=>{const n=[t];if(t.shouldReceiveAttributes&&t.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(t.position)){const o=Sd(t,e.key,e.newValue);o&&n.push(o)}return n}),yd(oc,oc,(t,e,n)=>t.position.isEqual(e.position)&&n.aIsStrong?[t]:(t.position=t.position._getTransformedByInsertOperation(e),[t])),yd(oc,nc,(t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t])),yd(oc,cc,(t,e)=>(t.position=t.position._getTransformedBySplitOperation(e),[t])),yd(oc,ac,(t,e)=>(t.position=t.position._getTransformedByMergeOperation(e),[t])),yd(ic,oc,(t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByInsertOperation(e)[0]),t.newRange&&(t.newRange=t.newRange._getTransformedByInsertOperation(e)[0]),[t])),yd(ic,ic,(t,e,n)=>{if(t.name==e.name){if(!n.aIsStrong)return[new vd(0)];t.oldRange=e.newRange?qs.createFromRange(e.newRange):null}return[t]}),yd(ic,ac,(t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByMergeOperation(e)),t.newRange&&(t.newRange=t.newRange._getTransformedByMergeOperation(e)),[t])),yd(ic,nc,(t,e)=>(t.oldRange&&(t.oldRange=qs.createFromRanges(t.oldRange._getTransformedByMoveOperation(e))),t.newRange&&(t.newRange=qs.createFromRanges(t.newRange._getTransformedByMoveOperation(e))),[t])),yd(ic,cc,(t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedBySplitOperation(e)),t.newRange&&(t.newRange=t.newRange._getTransformedBySplitOperation(e)),[t])),yd(ac,oc,(t,e)=>(t.sourcePosition.hasSameParentAs(e.position)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByInsertOperation(e),t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e),[t])),yd(ac,ac,(t,e,n)=>{if(t.sourcePosition.isEqual(e.sourcePosition)&&t.targetPosition.isEqual(e.targetPosition)){if(n.bWasUndone){const n=e.graveyardPosition.path.slice();return n.push(0),t.sourcePosition=new Hs(e.graveyardPosition.root,n),t.howMany=0,[t]}return[new vd(0)]}if(t.sourcePosition.isEqual(e.sourcePosition)&&!t.targetPosition.isEqual(e.targetPosition)&&!n.bWasUndone){const o="$graveyard"==t.targetPosition.root.rootName,i="$graveyard"==e.targetPosition.root.rootName;if(i&&!o||!(o&&!i)&&n.aIsStrong){const n=e.targetPosition._getTransformedByMergeOperation(e),o=t.targetPosition._getTransformedByMergeOperation(e);return[new nc(n,t.howMany,o,0)]}return[new vd(0)]}return t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMergeOperation(e),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),t.graveyardPosition.isEqual(e.graveyardPosition)&&n.aIsStrong||(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]}),yd(ac,nc,(t,e,n)=>{const o=qs.createFromPositionAndShift(e.sourcePosition,e.howMany);return"remove"==e.type&&!n.bWasUndone&&t.deletionPosition.hasSameParentAs(e.sourcePosition)&&o.containsPosition(t.sourcePosition)?[new vd(0)]:(t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition.hasSameParentAs(e.sourcePosition)&&(t.howMany-=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMoveOperation(e),t.targetPosition=t.targetPosition._getTransformedByMoveOperation(e),t.graveyardPosition.isEqual(e.targetPosition)||(t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)),[t])}),yd(ac,cc,(t,e,n)=>{if(e.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),t.deletionPosition.isEqual(e.graveyardPosition)&&(t.howMany=e.howMany)),t.targetPosition.isEqual(e.splitPosition)){const o=0!=e.howMany,i=e.graveyardPosition&&t.deletionPosition.isEqual(e.graveyardPosition);if(o||i||"mergeTargetNotMoved"==n.abRelation)return t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),[t]}return t.sourcePosition.isEqual(e.splitPosition)&&"mergeSameElement"==n.abRelation?(t.sourcePosition=Hs.createFromPosition(e.moveTargetPosition),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]):(t.sourcePosition.hasSameParentAs(e.splitPosition)&&(t.howMany=e.splitPosition.offset),t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t])}),yd(nc,oc,(t,e)=>{const n=qs.createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByInsertOperation(e,!1)[0];return t.sourcePosition=n.start,t.howMany=n.end.offset-n.start.offset,t.targetPosition.isEqual(e.position)||(t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e)),[t]}),yd(nc,nc,(t,e,n)=>{const o=qs.createFromPositionAndShift(t.sourcePosition,t.howMany),i=qs.createFromPositionAndShift(e.sourcePosition,e.howMany);let r,s=n.aIsStrong,a=!n.aIsStrong;if("insertBefore"==n.abRelation?a=!0:"insertAfter"==n.abRelation&&(a=!1),r=t.targetPosition.isEqual(e.targetPosition)&&a?t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):t.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Ed(t,e)&&Ed(e,t))return[e.getReversed()];if(o.containsPosition(e.targetPosition)&&o.containsRange(i,!0))return o.start=o.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),o.end=o.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Id([o],r);if(i.containsPosition(t.targetPosition)&&i.containsRange(o,!0))return o.start=o.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),o.end=o.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Id([o],r);const c=U(t.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if("prefix"==c||"extension"==c)return o.start=o.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),o.end=o.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Id([o],r);"remove"!=t.type||"remove"==e.type||n.aWasUndone?"remove"==t.type||"remove"!=e.type||n.bWasUndone||(s=!1):s=!0;const l=[],d=o.getDifference(i);for(const t of d){t.start=t.start._getTransformedByDeletion(e.sourcePosition,e.howMany),t.end=t.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const n="same"==U(t.start.getParentPath(),e.getMovedRangeStart().getParentPath()),o=t._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,n);l.push(...o)}const u=o.getIntersection(i);return null!==u&&s&&(u.start=u.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),u.end=u.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),0===l.length?l.push(u):1==l.length?i.start.isBefore(o.start)||i.start.isEqual(o.start)?l.unshift(u):l.push(u):l.splice(1,0,u)),0===l.length?[new vd(t.baseVersion)]:Id(l,r)}),yd(nc,cc,(t,e,n)=>{let o=Hs.createFromPosition(t.targetPosition);t.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition||(o=t.targetPosition._getTransformedBySplitOperation(e));const i=qs.createFromPositionAndShift(t.sourcePosition,t.howMany);if(i.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.howMany++,t.targetPosition=o,[t];if(i.start.hasSameParentAs(e.splitPosition)&&i.containsPosition(e.splitPosition)){let t=new qs(e.splitPosition,i.end);return t=t._getTransformedBySplitOperation(e),Id([new qs(i.start,e.splitPosition),t],o)}t.targetPosition.isEqual(e.splitPosition)&&"insertAtSource"==n.abRelation&&(o=e.moveTargetPosition),t.targetPosition.isEqual(e.insertionPosition)&&"insertBetween"==n.abRelation&&(o=t.targetPosition);const r=i._getTransformedBySplitOperation(e);return t.sourcePosition=r.start,t.howMany=r.end.offset-r.start.offset,t.targetPosition=o,[t]}),yd(nc,ac,(t,e,n)=>{const o=qs.createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.deletionPosition.hasSameParentAs(t.sourcePosition)&&o.containsPosition(e.sourcePosition))if("remove"==t.type){if(!n.aWasUndone)return[e.getReversed(),t]}else if(1==t.howMany)return n.bWasUndone?(t.sourcePosition=Hs.createFromPosition(e.graveyardPosition),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]):[new vd(0)];const i=qs.createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByMergeOperation(e);return t.sourcePosition=i.start,t.howMany=i.end.offset-i.start.offset,t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]}),yd(rc,oc,(t,e)=>(t.position=t.position._getTransformedByInsertOperation(e),[t])),yd(rc,ac,(t,e)=>t.position.isEqual(e.deletionPosition)?(t.position=Hs.createFromPosition(e.graveyardPosition),t.position.stickiness="toNext",[t]):(t.position=t.position._getTransformedByMergeOperation(e),[t])),yd(rc,nc,(t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t])),yd(rc,rc,(t,e,n)=>{if(t.position.isEqual(e.position)){if(!n.aIsStrong)return[new vd(0)];t.oldName=e.newName}return[t]}),yd(rc,cc,(t,e)=>{if("same"==U(t.position.path,e.splitPosition.getParentPath())&&!e.graveyardPosition){return[t,new rc(t.position.getShiftedBy(1),t.oldName,t.newName,0)]}return t.position=t.position._getTransformedBySplitOperation(e),[t]}),yd(sc,sc,(t,e,n)=>{if(t.root===e.root&&t.key===e.key){if(!n.aIsStrong||t.newValue===e.newValue)return[new vd(0)];t.oldValue=e.newValue}return[t]}),yd(cc,oc,(t,e)=>(t.splitPosition.hasSameParentAs(e.position)&&t.splitPosition.offset<e.position.offset&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByInsertOperation(e),t.insertionPosition=cc.getInsertionPosition(t.splitPosition),[t])),yd(cc,ac,(t,e,n)=>{if(!t.graveyardPosition&&!n.bWasUndone&&t.splitPosition.hasSameParentAs(e.sourcePosition)){const n=e.graveyardPosition.path.slice();n.push(0);const o=new Hs(e.graveyardPosition.root,n),i=cc.getInsertionPosition(new Hs(e.graveyardPosition.root,n)),r=new cc(o,0,null,0);return r.insertionPosition=i,t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=cc.getInsertionPosition(t.splitPosition),t.graveyardPosition=Hs.createFromPosition(r.insertionPosition),t.graveyardPosition.stickiness="toNext",[r,t]}return t.splitPosition.hasSameParentAs(e.deletionPosition)&&!t.splitPosition.isAfter(e.deletionPosition)&&t.howMany--,t.splitPosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=cc.getInsertionPosition(t.splitPosition),t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]}),yd(cc,nc,(t,e,n)=>{t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e));const o=qs.createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&o.containsPosition(t.splitPosition)){const n=e.howMany-(t.splitPosition.offset-e.sourcePosition.offset);return t.howMany-=n,t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany),t.splitPosition=Hs.createFromPosition(e.sourcePosition),t.insertionPosition=cc.getInsertionPosition(t.splitPosition),[t]}return!t.splitPosition.isEqual(e.targetPosition)||"insertAtSource"!=n.baRelation&&"splitBefore"!=n.abRelation?(t.splitPosition.hasSameParentAs(e.sourcePosition)&&t.splitPosition.offset<=e.sourcePosition.offset&&(t.howMany-=e.howMany),t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany),t.splitPosition.stickiness="toNone",t.splitPosition=t.splitPosition._getTransformedByMoveOperation(e),t.splitPosition.stickiness="toNext",t.graveyardPosition?t.insertionPosition=t.insertionPosition._getTransformedByMoveOperation(e):t.insertionPosition=cc.getInsertionPosition(t.splitPosition),[t]):(t.howMany+=e.howMany,t.splitPosition=t.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),t.insertionPosition=cc.getInsertionPosition(t.splitPosition),[t])}),yd(cc,cc,(t,e,n)=>{if(t.splitPosition.isEqual(e.splitPosition)){if(!t.graveyardPosition&&!e.graveyardPosition)return[new vd(0)];if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition))return[new vd(0)]}if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition)){const o="$graveyard"==t.splitPosition.root.rootName,i="$graveyard"==e.splitPosition.root.rootName;if(i&&!o||!(o&&!i)&&n.aIsStrong){const n=[];return e.howMany&&n.push(new nc(e.moveTargetPosition,e.howMany,e.splitPosition,0)),t.howMany&&n.push(new nc(t.splitPosition,t.howMany,t.moveTargetPosition,0)),n}return[new vd(0)]}if(t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e)),t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.abRelation)return t.howMany++,[t];if(e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.baRelation){const n=e.insertionPosition.path.slice();n.push(0);const o=new Hs(e.insertionPosition.root,n);return[t,new nc(t.insertionPosition,1,o,0)]}return t.splitPosition.hasSameParentAs(e.splitPosition)&&t.splitPosition.offset<e.splitPosition.offset&&(t.howMany-=e.howMany),t.splitPosition=t.splitPosition._getTransformedBySplitOperation(e),t.insertionPosition=cc.getInsertionPosition(t.splitPosition),[t]});class Nd extends Gl{constructor(t){super(t),this._stack=[],this._createdBatches=new WeakSet,this.refresh()}refresh(){this.isEnabled=this._stack.length>0}addBatch(t){const e=this.editor.model.document.selection,n={ranges:e.hasOwnRange?Array.from(e.getRanges()):[],isBackward:e.isBackward};this._stack.push({batch:t,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(t,e,n){const o=this.editor.model,i=o.document,r=[];for(const e of t){const t=Od(e,n).find(t=>t.start.root!=i.graveyard);t&&r.push(t)}r.length&&o.change(t=>{t.setSelection(r,{backward:e})})}_undo(t,e){const n=this.editor.model,o=n.document;this._createdBatches.add(e);const i=t.operations.slice().filter(t=>t.isDocumentOperation);i.reverse();for(const t of i){const i=t.baseVersion+1,r=Array.from(o.history.getOperations(i)),s=Cd([t.getReversed()],r,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1}).operationsA;for(const i of s)e.addOperation(i),n.applyOperation(i),o.history.setOperationAsUndone(t,i)}}}function Od(t,e){const n=t.getTransformedByOperations(e);n.sort((t,e)=>t.start.isBefore(e.start)?-1:1);for(let t=1;t<n.length;t++){const e=n[t-1],o=n[t];e.end.isTouching(o.start)&&(e.end=o.end,n.splice(t,1),t--)}return n}class Rd extends Nd{execute(t=null){const e=t?this._stack.findIndex(e=>e.batch==t):this._stack.length-1,n=this._stack.splice(e,1)[0],o=new Ha;this.editor.model.enqueueChange(o,()=>{this._undo(n.batch,o);const t=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,t),this.fire("revert",n.batch,o)}),this.refresh()}}class Dd extends Nd{execute(){const t=this._stack.pop(),e=new Ha;this.editor.model.enqueueChange(e,()=>{const n=t.batch.operations[t.batch.operations.length-1].baseVersion+1,o=this.editor.model.document.history.getOperations(n);this._restoreSelection(t.selection.ranges,t.selection.isBackward,o),this._undo(t.batch,e)}),this.refresh()}}class jd extends Ul{constructor(t){super(t),this._batchRegistry=new WeakSet}init(){const t=this.editor;this._undoCommand=new Rd(t),this._redoCommand=new Dd(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",(t,e)=>{const n=e[0];if(!n.isDocumentOperation)return;const o=n.batch;this._batchRegistry.has(o)||"transparent"==o.type||(this._redoCommand._createdBatches.has(o)?this._undoCommand.addBatch(o):this._undoCommand._createdBatches.has(o)||(this._undoCommand.addBatch(o),this._redoCommand.clearStack()),this._batchRegistry.add(o))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(t,e,n)=>{this._redoCommand.addBatch(n)}),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo")}}n(51);class Ld extends Al{constructor(){super();const t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:t.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=t.getAttribute("viewBox");for(e&&(this.viewBox=e),this.element.innerHTML="";t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(t=>{t.style.fill=this.fillColor})}}n(53);class Vd extends Al{constructor(t){super(t),this.set("text",""),this.set("position","s");const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",e.to("position",t=>"ck-tooltip_"+t),e.if("text","ck-hidden",t=>!t.trim())]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:e.to("text")}]}]})}}n(55);class Fd extends Al{constructor(t){super(t);const e=this.bindTemplate,n=E();this.set("class"),this.set("labelStyle"),this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.tooltipView=this._createTooltipView(),this.labelView=this._createLabelView(n),this.iconView=new Ld,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this)),this.setTemplate({tag:"button",attributes:{class:["ck","ck-button",e.to("class"),e.if("isEnabled","ck-disabled",t=>!t),e.if("isVisible","ck-hidden",t=>!t),e.to("isOn",t=>t?"ck-on":"ck-off"),e.if("withText","ck-button_with-text")],type:e.to("type",t=>t||"button"),tabindex:e.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${n}`,"aria-disabled":e.if("isEnabled",!0,t=>!t),"aria-pressed":e.if("isOn",!0)},children:this.children,on:{mousedown:e.to(t=>{t.preventDefault()}),click:e.to(t=>{this.isEnabled?this.fire("execute"):t.preventDefault()})}})}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView)}focus(){this.element.focus()}_createTooltipView(){const t=new Vd;return t.bind("text").to(this,"_tooltipString"),t.bind("position").to(this,"tooltipPosition"),t}_createLabelView(t){const e=new Al,n=this.bindTemplate;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:n.to("labelStyle"),id:`ck-editor__aria-label_${t}`},children:[{text:this.bindTemplate.to("label")}]}),e}_getTooltipString(t,e,n){return t?"string"==typeof t?t:(n&&(n=function(t){return li.isMac?gi(t).map(t=>ui[t.toLowerCase()]||t).reduce((t,e)=>t.slice(-1)in di?t+e:t+"+"+e):t}(n)),t instanceof Function?t(e,n):`${e}${n?` (${n})`:""}`):""}}var zd=n(20),Bd=n.n(zd),Ud=n(21),Hd=n.n(Ud);class qd extends Ul{init(){const t=this.editor.t;this._addButton("undo",t("az"),"CTRL+Z",Bd.a),this._addButton("redo",t("ba"),"CTRL+Y",Hd.a)}_addButton(t,e,n,o){const i=this.editor;i.ui.componentFactory.add(t,r=>{const s=i.commands.get(t),a=new Fd(r);return a.set({label:e,icon:o,keystroke:n,tooltip:!0}),a.bind("isEnabled").to(s,"isEnabled"),this.listenTo(a,"execute",()=>i.execute(t)),a})}}class Wd extends Ul{static get requires(){return[jd,qd]}static get pluginName(){return"Undo"}}class Yd extends Ul{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new ti({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(t){if("string"!=typeof t)throw new M.b("pendingactions-add-invalid-message: The message must be a string.");const e=Object.create(Lo);return e.set("message",t),this._actions.add(e),this.hasAny=!0,e}remove(t){this._actions.remove(t),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}class Gd{constructor(){const t=new window.FileReader;this._reader=t,this.set("loaded",0),t.onprogress=(t=>{this.loaded=t.loaded})}get error(){return this._reader.error}read(t){const e=this._reader;return this.total=t.size,new Promise((n,o)=>{e.onload=(()=>{n(e.result)}),e.onerror=(()=>{o("error")}),e.onabort=(()=>{o("aborted")}),this._reader.readAsDataURL(t)})}abort(){this._reader.abort()}}B(Gd,Lo);class $d extends Ul{static get pluginName(){return"FileRepository"}static get requires(){return[Yd]}init(){this.loaders=new ti,this.loaders.on("add",()=>this._updatePendingAction()),this.loaders.on("remove",()=>this._updatePendingAction()),this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(t,e)=>e?t/e*100:0)}getLoader(t){for(const e of this.loaders)if(e.file==t)return e;return null}createLoader(t){if(!this.createUploadAdapter)return fs.a.error("filerepository-no-upload-adapter: Upload adapter is not defined."),null;const e=new Qd(t);return e._adapter=this.createUploadAdapter(e),this.loaders.add(e),e.on("change:uploaded",()=>{let t=0;for(const e of this.loaders)t+=e.uploaded;this.uploaded=t}),e.on("change:uploadTotal",()=>{let t=0;for(const e of this.loaders)e.uploadTotal&&(t+=e.uploadTotal);this.uploadTotal=t}),e}destroyLoader(t){const e=t instanceof Qd?t:this.getLoader(t);e._destroy(),this.loaders.remove(e)}_updatePendingAction(){const t=this.editor.plugins.get(Yd);if(this.loaders.length){if(!this._pendingAction){const e=this.editor.t,n=t=>`${e("ao")} ${parseInt(t)}%.`;this._pendingAction=t.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else t.remove(this._pendingAction),this._pendingAction=null}}B($d,Lo);class Qd{constructor(t,e){this.id=E(),this.file=t,this._adapter=e,this._reader=new Gd,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(t,e)=>e?t/e*100:0),this.set("uploadResponse",null)}read(){if("idle"!=this.status)throw new M.b("filerepository-read-wrong-status: You cannot call read if the status is different than idle.");return this.status="reading",this._reader.read(this.file).then(t=>(this.status="idle",t)).catch(t=>{if("aborted"===t)throw this.status="aborted","aborted";throw this.status="error",this._reader.error})}upload(){if("idle"!=this.status)throw new M.b("filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.");return this.status="uploading",this._adapter.upload().then(t=>(this.uploadResponse=t,this.status="idle",t)).catch(t=>{if("aborted"===this.status)throw"aborted";throw this.status="error",t})}abort(){const t=this.status;this.status="aborted","reading"==t&&this._reader.abort(),"uploading"==t&&this._adapter.abort&&this._adapter.abort(),this._destroy()}_destroy(){this._reader=void 0,this._adapter=void 0,this.data=void 0,this.uploadResponse=void 0,this.file=void 0}}B(Qd,Lo);const Jd="ckCsrfToken",Kd=40,Zd="abcdefghijklmnopqrstuvwxyz0123456789";function Xd(){let t=function(t){t=t.toLowerCase();const e=document.cookie.split(";");for(const n of e){const e=n.split("="),o=decodeURIComponent(e[0].trim().toLowerCase());if(o===t)return decodeURIComponent(e[1])}return null}(Jd);return t&&t.length==Kd||(t=function(t){let e="";const n=new Uint8Array(t);window.crypto.getRandomValues(n);for(let t=0;t<n.length;t++){const o=Zd.charAt(n[t]%Zd.length);e+=Math.random()>.5?o.toUpperCase():o}return e}(Kd),function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path=/"}(Jd,t)),t}class tu{constructor(t,e,n){this.loader=t,this.url=e,this.t=n}upload(){return new Promise((t,e)=>{this._initRequest(),this._initListeners(t,e),this._sendRequest()})}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const t=this.xhr=new XMLHttpRequest;t.open("POST",this.url,!0),t.responseType="json"}_initListeners(t,e){const n=this.xhr,o=this.loader,i=(0,this.t)("a")+` ${o.file.name}.`;n.addEventListener("error",()=>e(i)),n.addEventListener("abort",()=>e()),n.addEventListener("load",()=>{const o=n.response;if(!o||!o.uploaded)return e(o&&o.error&&o.error.message?o.error.message:i);t({default:o.url})}),n.upload&&n.upload.addEventListener("progress",t=>{t.lengthComputable&&(o.uploadTotal=t.total,o.uploaded=t.loaded)})}_sendRequest(){const t=new FormData;t.append("upload",this.loader.file),t.append("ckCsrfToken",Xd()),this.xhr.send(t)}}class eu{constructor(t,e,n){let o;if("function"==typeof n)o=n;else{const e=n;o=(()=>{t.execute(e)})}t.model.document.on("change",(n,i)=>{if("transparent"==i.type)return;const r=Array.from(t.model.document.differ.getChanges()),s=r[0];if(1!=r.length||"insert"!==s.type||"$text"!=s.name||1!=s.length)return;const a=s.position.textNode||s.position.nodeAfter;if(!a.parent.is("paragraph"))return;const c=e.exec(a.data);c&&t.model.enqueueChange(t=>{const e=qs.createFromParentsAndOffsets(a.parent,0,a.parent,c[0].length);t.remove(e),o({match:c})})})}}class nu{constructor(t,e,n){let o,i,r,s;e instanceof RegExp?o=e:r=e,"string"==typeof n?i=n:s=n,r=r||(t=>{let e;const n=[],i=[];for(;null!==(e=o.exec(t))&&!(e&&e.length<4);){let{index:t,1:o,2:r,3:s}=e;const a=o+r+s,c=[t+=e[0].length-a.length,t+o.length],l=[t+o.length+r.length,t+o.length+r.length+s.length];n.push(c),n.push(l),i.push([t+o.length,t+o.length+r.length])}return{remove:n,format:i}}),s=s||((t,e)=>{for(const n of e)t.setAttribute(i,!0,n);t.removeSelectionAttribute(i)}),t.model.document.on("change",(e,n)=>{if("transparent"==n.type)return;const o=t.model.document.selection;if(!o.isCollapsed)return;const a=Array.from(t.model.document.differ.getChanges()),c=a[0];if(1!=a.length||"insert"!==c.type||"$text"!=c.name||1!=c.length)return;const l=o.focus.parent,d=function(t){return Array.from(t.getChildren()).reduce((t,e)=>t+e.data,"")}(l).slice(0,o.focus.offset),u=r(d),h=ou(l,u.format),f=ou(l,u.remove);h.length&&f.length&&t.model.enqueueChange(e=>{const n=t.model.schema.getValidRanges(h,i);s(e,n);for(const t of f.reverse())e.remove(t)})})}}function ou(t,e){return e.filter(t=>void 0!==t[0]&&void 0!==t[1]).map(e=>qs.createFromParentsAndOffsets(t,e[0],t,e[1]))}class iu extends Gl{constructor(t,e){super(t),this.attributeKey=e}refresh(){const t=this.editor.model,e=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model,n=e.document.selection,o=void 0===t.forceValue?!this.value:t.forceValue;e.change(t=>{if(n.isCollapsed)o?t.setSelectionAttribute(this.attributeKey,!0):t.removeSelectionAttribute(this.attributeKey);else{const i=e.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const e of i)o?t.setAttribute(this.attributeKey,o,e):t.removeAttribute(this.attributeKey,e)}})}_getValueFromFirstAllowedNode(){const t=this.editor.model,e=t.schema,n=t.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const t of n.getRanges())for(const n of t.getItems())if(e.checkAttribute(n,this.attributeKey))return n.hasAttribute(this.attributeKey);return!1}}const ru="bold";class su extends Ul{init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:ru}),t.conversion.attributeToElement({model:ru,view:"strong",upcastAlso:["b",{styles:{"font-weight":"bold"}}]}),t.commands.add(ru,new iu(t,ru)),t.keystrokes.set("CTRL+B",ru)}}var au=n(22),cu=n.n(au);const lu="bold";class du extends Ul{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(lu,n=>{const o=t.commands.get(lu),i=new Fd(n);return i.set({label:e("c"),icon:cu.a,keystroke:"CTRL+B",tooltip:!0}),i.bind("isOn","isEnabled").to(o,"value","isEnabled"),this.listenTo(i,"execute",()=>t.execute(lu)),i})}}const uu="italic";class hu extends Ul{init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:uu}),t.conversion.attributeToElement({model:uu,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add(uu,new iu(t,uu)),t.keystrokes.set("CTRL+I",uu)}}var fu=n(23),mu=n.n(fu);const gu="italic";class pu extends Ul{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(gu,n=>{const o=t.commands.get(gu),i=new Fd(n);return i.set({label:e("b"),icon:mu.a,keystroke:"CTRL+I",tooltip:!0}),i.bind("isOn","isEnabled").to(o,"value","isEnabled"),this.listenTo(i,"execute",()=>t.execute(gu)),i})}}function bu(t){const e=t.next();return e.done?null:e.value}class wu extends Gl{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=t.document,n=t.schema,o=Array.from(e.selection.getSelectedBlocks());t.change(t=>{if(this.value)this._removeQuote(t,o.filter(_u));else{const e=o.filter(t=>_u(t)||ku(n,t));this._applyQuote(t,e)}})}_getValue(){const t=bu(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!_u(t))}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,e=this.editor.model.schema,n=bu(t.getSelectedBlocks());return!!n&&ku(e,n)}_removeQuote(t,e){vu(e).reverse().forEach(e=>{if(e.start.isAtStart&&e.end.isAtEnd)return void t.unwrap(e.start.parent);if(e.start.isAtStart){const n=Hs.createBefore(e.start.parent);return void t.move(e,n)}e.end.isAtEnd||t.split(e.end);const n=Hs.createAfter(e.end.parent);t.move(e,n)})}_applyQuote(t,e){const n=[];vu(e).reverse().forEach(e=>{let o=_u(e.start);o||(o=new Fs("blockQuote"),t.wrap(e,o)),n.push(o)}),n.reverse().reduce((e,n)=>e.nextSibling==n?(t.merge(Hs.createAfter(e)),e):n)}}function _u(t){return"blockQuote"==t.parent.name?t.parent:null}function vu(t){let e,n=0;const o=[];for(;n<t.length;){const i=t[n],r=t[n+1];e||(e=Hs.createBefore(i)),r&&i.nextSibling==r||(o.push(new qs(e,Hs.createAfter(i))),e=null),n++}return o}function ku(t,e){const n=t.checkChild(e.parent,"blockQuote"),o=t.checkChild(["$root","blockQuote"],e);return n&&o}class yu extends Ul{init(){const t=this.editor,e=t.model.schema;t.commands.add("blockQuote",new wu(t)),e.register("blockQuote",{allowWhere:"$block",allowContentOf:"$root"}),e.addChildCheck((t,e)=>{if(t.endsWith("blockQuote")&&"blockQuote"==e.name)return!1}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer(n=>{const o=t.model.document.differ.getChanges();for(const t of o)if("insert"==t.type){const o=t.position.nodeAfter;if(!o)continue;if(o.is("blockQuote")&&o.isEmpty)return n.remove(o),!0;if(o.is("blockQuote")&&!e.checkChild(t.position,o))return n.unwrap(o),!0;if(o.is("element")){const t=qs.createIn(o);for(const o of t.getItems())if(o.is("blockQuote")&&!e.checkChild(Hs.createBefore(o),o))return n.unwrap(o),!0}}else if("remove"==t.type){const e=t.position.parent;if(e.is("blockQuote")&&e.isEmpty)return n.remove(e),!0}return!1})}afterInit(){const t=this.editor.commands.get("blockQuote");this.listenTo(this.editor.editing.view.document,"enter",(e,n)=>{const o=this.editor.model.document,i=o.selection.getLastPosition().parent;o.selection.isCollapsed&&i.isEmpty&&t.value&&(this.editor.execute("blockQuote"),this.editor.editing.view.scrollToTheSelection(),n.preventDefault(),e.stop())})}}var xu=n(24),Au=n.n(xu);n(57);class Cu extends Ul{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("blockQuote",n=>{const o=t.commands.get("blockQuote"),i=new Fd(n);return i.set({label:e("d"),icon:Au.a,tooltip:!0}),i.bind("isOn","isEnabled").to(o,"value","isEnabled"),this.listenTo(i,"execute",()=>t.execute("blockQuote")),i})}}const Tu=/^data:(\S*?);base64,/;class Mu{constructor(t,e,n){if(!t)throw new Error("File must be provided");if(!e)throw new Error("Token must be provided");if(!n)throw new Error("Api address must be provided");this.file=function(t){if("string"!=typeof t)return!1;const e=t.match(Tu);return!(!e||!e.length)}(t)?function(t,e=512){try{const n=t.match(Tu)[1],o=atob(t.replace(Tu,"")),i=[];for(let t=0;t<o.length;t+=e){const n=o.slice(t,t+e),r=new Array(n.length);for(let t=0;t<n.length;t++)r[t]=n.charCodeAt(t);i.push(new Uint8Array(r))}return new Blob(i,{type:n})}catch(t){throw new Error("Problem with decoding Base64 image data.")}}(t):t,this._token=e,this._apiAddress=n}onProgress(t){return this.on("progress",(e,n)=>t(n)),this}onError(t){return this.once("error",(e,n)=>t(n)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const t=new XMLHttpRequest;t.open("POST",this._apiAddress),t.setRequestHeader("Authorization",this._token.value),t.responseType="json",this.xhr=t}_attachXHRListeners(){const t=this,e=this.xhr;function n(e){return()=>t.fire("error",e)}e.addEventListener("error",n("Network Error")),e.addEventListener("abort",n("Abort")),e.upload&&e.upload.addEventListener("progress",t=>{t.lengthComputable&&this.fire("progress",{total:t.total,uploaded:t.loaded})}),e.addEventListener("load",()=>{const t=e.status,n=e.response;if(t<200||t>299)return this.fire("error",n.message||n.error)})}_sendRequest(){const t=new FormData,e=this.xhr;return t.append("file",this.file),new Promise((n,o)=>{e.addEventListener("load",()=>{const t=e.status,i=e.response;return t<200||t>299?o(i.message||i.error):n(i)}),e.addEventListener("error",()=>o("Network Error")),e.addEventListener("abort",()=>o("Abort")),e.send(t)})}}B(Mu,R);var Pu=Mu;const Su={refreshInterval:36e5,autoRefresh:!0};class Eu{constructor(t,e=Su){if(!t)throw new Error("`tokenUrl` must be provided");this.set("value",e.initValue),this._tokenUrl=t,this._options=Object.assign({},Su,e)}init(){return new Promise((t,e)=>{this._options.autoRefresh&&this._startRefreshing(),this.value?t(this):this._refreshToken().then(t).catch(e)})}_refreshToken(){return new Promise((t,e)=>{const n=new XMLHttpRequest;n.open("GET",this._tokenUrl),n.addEventListener("load",()=>{const o=n.status,i=n.response;return o<200||o>299?e("Cannot download new token!"):(this.set("value",i),t(this))}),n.addEventListener("error",()=>e("Network Error")),n.addEventListener("abort",()=>e("Abort")),n.send()})}_startRefreshing(){this._refreshInterval=setInterval(this._refreshToken.bind(this),this._options.refreshInterval)}_stopRefreshing(){clearInterval(this._refreshInterval)}static create(t,e=Su){return new Eu(t,e).init()}}B(Eu,Lo);var Iu=Eu;class Nu extends Ul{static get pluginName(){return"CloudServices"}init(){const t=this.editor.config.get("cloudServices")||{};for(const e in t)this[e]=t[e];if(this.tokenUrl)return this.token=new Nu.Token(this.tokenUrl),this.token.init();this.token=null}}Nu.Token=Iu;class Ou extends Ul{static get requires(){return[$d,Nu]}init(){const t=this.editor,e=t.plugins.get(Nu),n=e.token,o=e.uploadUrl;n&&(this._uploadGateway=new Ou._UploadGateway(n,o),t.plugins.get($d).createUploadAdapter=(t=>new Ru(this._uploadGateway,t)))}}class Ru{constructor(t,e){this.uploadGateway=t,this.loader=e}upload(){return this.fileUploader=this.uploadGateway.upload(this.loader.file),this.fileUploader.on("progress",(t,e)=>{this.loader.uploadTotal=e.total,this.loader.uploaded=e.uploaded}),this.fileUploader.send()}abort(){this.fileUploader.abort()}}Ou._UploadGateway=class{constructor(t,e){if(!t)throw new Error("Token must be provided");if(!e)throw new Error("Api address must be provided");this._token=t,this._apiAddress=e}upload(t){return new Pu(t,this._token,this._apiAddress)}};class Du extends cr{constructor(t){super(t),this._observedElements=new Set}observe(t,e){this.document.getRoot(e).on("change:children",(e,n)=>{this.view.once("render",()=>this._updateObservedElements(t,n))})}_updateObservedElements(t,e){if(!e.is("element")||e.is("attributeElement"))return;const n=this.view.domConverter.mapViewToDom(e);if(n){for(const t of n.querySelectorAll("img"))this._observedElements.has(t)||(this.listenTo(t,"load",(t,e)=>this._fireEvents(e)),this._observedElements.add(t));for(const e of this._observedElements)t.contains(e)||(this.stopListening(e),this._observedElements.delete(e))}}_fireEvents(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}destroy(){this._observedElements.clear(),super.destroy()}}function ju(t){return n=>{n.on(`attribute:${t}:image`,e)};function e(t,e,n){if(!n.consumable.consume(e.item,t.name))return;const o=n.writer,i=n.mapper.toViewElement(e.item).getChild(0);null!==e.attributeNewValue?o.setAttribute(e.attributeKey,e.attributeNewValue,i):o.removeAttribute(e.attributeKey,i)}}class Lu{constructor(){this._stack=[]}add(t,e){const n=this._stack,o=n[0];this._insertDescriptor(t);const i=n[0];o===i||Vu(o,i)||this.fire("change:top",{oldDescriptor:o,newDescriptor:i,writer:e})}remove(t,e){const n=this._stack,o=n[0];this._removeDescriptor(t);const i=n[0];o===i||Vu(o,i)||this.fire("change:top",{oldDescriptor:o,newDescriptor:i,writer:e})}_insertDescriptor(t){const e=this._stack,n=e.findIndex(e=>e.id===t.id);if(Vu(t,e[n]))return;n>-1&&e.splice(n,1);let o=0;for(;e[o]&&Fu(e[o],t);)o++;e.splice(o,0,t)}_removeDescriptor(t){const e=this._stack,n=e.findIndex(e=>e.id===t);n>-1&&e.splice(n,1)}}function Vu(t,e){return t&&e&&t.priority==e.priority&&zu(t.classes)==zu(e.classes)}function Fu(t,e){return t.priority>e.priority||!(t.priority<e.priority)&&zu(t.classes)>zu(e.classes)}function zu(t){return Array.isArray(t)?t.sort().join(","):t}B(Lu,R);var Bu=n(25),Uu=n.n(Bu);const Hu=Symbol("isWidget"),qu=Symbol("label"),Wu="ck-widget",Yu="ck-widget_selected";function Gu(t){return!!t.getCustomProperty(Hu)}function $u(t,e,n={}){return li.isEdge||e.setAttribute("contenteditable","false",t),e.addClass(Wu,t),e.setCustomProperty(Hu,!0,t),t.getFillerOffset=Zu,n.label&&function(t,e,n){n.setCustomProperty(qu,e,t)}(t,n.label,e),n.hasSelectionHandler&&function(t,e){const n=e.createUIElement("div",{class:"ck ck-widget__selection-handler"},function(t){const e=this.toDomElement(t),n=new Ld;return n.set("content",Uu.a),n.render(),e.appendChild(n.element),e});e.insert($o.createAt(t),n),e.addClass(["ck-widget_selectable"],t)}(t,e),function(t,e,n,o){const i=new Lu;i.on("change:top",(e,i)=>{i.oldDescriptor&&o(t,i.oldDescriptor,i.writer),i.newDescriptor&&n(t,i.newDescriptor,i.writer)}),e.setCustomProperty("addHighlight",(t,e,n)=>i.add(e,n),t),e.setCustomProperty("removeHighlight",(t,e,n)=>i.remove(e,n),t)}(t,e,(t,e,n)=>n.addClass(o(e.classes),t),(t,e,n)=>n.removeClass(o(e.classes),t)),t;function o(t){return Array.isArray(t)?t:[t]}}function Qu(t){const e=t.getCustomProperty(qu);return e?"function"==typeof e?e():e:""}function Ju(t,e){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],t),li.isEdge||(e.setAttribute("contenteditable",t.isReadOnly?"false":"true",t),t.on("change:isReadOnly",(n,o,i)=>{e.setAttribute("contenteditable",i?"false":"true",t)})),t.on("change:isFocused",(n,o,i)=>{i?e.addClass("ck-editor__nested-editable_focused",t):e.removeClass("ck-editor__nested-editable_focused",t)}),t}function Ku(t){const e=t.getSelectedElement();if(e)return Hs.createAfter(e);const n=t.getSelectedBlocks().next().value;if(n){if(n.isEmpty)return Hs.createAt(n);const e=Hs.createAfter(n);return t.focus.isTouching(e)?e:Hs.createBefore(n)}return t.focus}function Zu(){return null}const Xu=Symbol("isImage");function th(t){const e=t.getSelectedElement();return!(!e||!function(t){return!!t.getCustomProperty(Xu)&&Gu(t)}(e))}function eh(t){return t instanceof Fs&&"image"==t.name}class nh extends Ul{init(){const t=this.editor,e=t.model.schema,n=t.t,o=t.conversion;t.editing.view.addObserver(Du),e.register("image",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["alt","src","srcset"]}),o.for("dataDowncast").add(aa({model:"image",view:(t,e)=>oh(e)})),o.for("editingDowncast").add(aa({model:"image",view:(t,e)=>(function(t,e,n){return e.setCustomProperty(Xu,!0,t),$u(t,e,{label:function(){const e=t.getChild(0).getAttribute("alt");return e?`${e} ${n}`:n}})})(oh(e),e,n("e"))})),o.for("downcast").add(ju("src")).add(ju("alt")).add(function(){return e=>{e.on("attribute:srcset:image",t)};function t(t,e,n){if(!n.consumable.consume(e.item,t.name))return;const o=n.writer,i=n.mapper.toViewElement(e.item).getChild(0);if(null===e.attributeNewValue){const t=e.attributeOldValue;t.data&&(o.removeAttribute("srcset",i),o.removeAttribute("sizes",i),t.width&&o.removeAttribute("width",i))}else{const t=e.attributeNewValue;t.data&&(o.setAttribute("srcset",t.data,i),o.setAttribute("sizes","100vw",i),t.width&&o.setAttribute("width",t.width,i))}}}()),o.for("upcast").add(Oa({view:{name:"img",attributes:{src:!0}},model:(t,e)=>e.createElement("image",{src:t.getAttribute("src")})})).add(Da({view:{name:"img",key:"alt"},model:"alt"})).add(Da({view:{name:"img",key:"srcset"},model:{key:"srcset",value:t=>{const e={data:t.getAttribute("srcset")};return t.hasAttribute("width")&&(e.width=t.getAttribute("width")),e}}})).add(function(){return e=>{e.on("element:figure",t)};function t(t,e,n){if(!n.consumable.test(e.viewItem,{name:!0,classes:"image"}))return;const o=Array.from(e.viewItem.getChildren()).find(t=>t.is("img"));if(!o||!o.hasAttribute("src")||!n.consumable.test(o,{name:!0}))return;const i=n.convertItem(o,e.modelCursor),r=bu(i.modelRange.getItems());r&&(n.convertChildren(e.viewItem,Hs.createAt(r)),e.modelRange=i.modelRange,e.modelCursor=i.modelCursor)}}())}}function oh(t){const e=t.createEmptyElement("img"),n=t.createContainerElement("figure",{class:"image"});return t.insert($o.createAt(n),e),n}class ih extends Jr{constructor(t){super(t),this.domEventType="mousedown"}onDomEvent(t){this.fire(t.type,t)}}n(59);const rh=mi("Ctrl+A");class sh extends Ul{static get pluginName(){return"Widget"}init(){const t=this.editor.editing.view,e=t.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(t,e,n)=>{this._clearPreviouslySelectedWidgets(n.writer);const o=n.writer,i=o.document.selection,r=i.getSelectedElement();for(const t of i.getRanges())for(const e of t){const t=e.item;t.is("element")&&Gu(t)&&(o.addClass(Yu,t),this._previouslySelected.add(t),t==r&&o.setSelection(i.getRanges(),{fake:!0,label:Qu(r)}))}},{priority:"low"}),t.addObserver(ih),this.listenTo(e,"mousedown",(...t)=>this._onMousedown(...t)),this.listenTo(e,"keydown",(...t)=>this._onKeydown(...t),{priority:"high"}),this.listenTo(e,"delete",(t,e)=>{this._handleDelete("forward"==e.direction)&&(e.preventDefault(),t.stop())},{priority:"high"})}_onMousedown(t,e){const n=this.editor,o=n.editing.view,i=o.document;let r=e.target;if(function(t){for(;t;){if(t instanceof qo&&!(t instanceof Yo))return!0;t=t.parent}return!1}(r))return;if(!Gu(r)&&!(r=r.findAncestor(Gu)))return;e.preventDefault(),i.isFocused||o.focus();const s=n.editing.mapper.toModelElement(r);this._setSelectionOverElement(s)}_onKeydown(t,e){const n=e.keyCode,o=n==hi.delete||n==hi.arrowdown||n==hi.arrowright;let i=!1;!function(t){return t==hi.arrowright||t==hi.arrowleft||t==hi.arrowup||t==hi.arrowdown}(n)?!function(t){return fi(t)==rh}(e)?n===hi.enter&&(i=this._handleEnterKey(e.shiftKey)):i=this._selectAllNestedEditableContent()||this._selectAllContent():i=this._handleArrowKeys(o),i&&(e.preventDefault(),t.stop())}_handleDelete(t){if(this.editor.isReadOnly)return;const e=this.editor.model.document.selection;if(!e.isCollapsed)return;const n=this._getObjectElementNextToSelection(t);return n?(this.editor.model.change(t=>{let o=e.anchor.parent;for(;o.isEmpty;){const e=o;o=e.parent,t.remove(e)}this._setSelectionOverElement(n)}),!0):void 0}_handleArrowKeys(t){const e=this.editor.model,n=e.schema,o=e.document.selection,i=o.getSelectedElement();if(i&&n.isObject(i)){const i=t?o.getLastPosition():o.getFirstPosition(),r=n.getNearestSelectionRange(i,t?"forward":"backward");return r&&e.change(t=>{t.setSelection(r)}),!0}if(!o.isCollapsed)return;const r=this._getObjectElementNextToSelection(t);return r instanceof Fs&&n.isObject(r)?(this._setSelectionOverElement(r),!0):void 0}_handleEnterKey(t){const e=this.editor.model,n=e.document.selection.getSelectedElement();if(n&&e.schema.isObject(n))return e.change(e=>{const o=e.createElement("paragraph");e.insert(o,n,t?"before":"after"),e.setSelection(o,"in")}),!0}_selectAllNestedEditableContent(){const t=this.editor.model,e=t.document.selection,n=t.schema.getLimitElement(e);return e.getFirstRange().root!=n&&(t.change(t=>{t.setSelection(qs.createIn(n))}),!0)}_selectAllContent(){const t=this.editor.model,e=this.editor.editing,n=e.view.document.selection.getSelectedElement();if(n&&Gu(n)){const o=e.mapper.toModelElement(n.parent);return t.change(t=>{t.setSelection(qs.createIn(o))}),!0}return!1}_setSelectionOverElement(t){this.editor.model.change(e=>{e.setSelection(qs.createOn(t))})}_getObjectElementNextToSelection(t){const e=this.editor.model,n=e.schema,o=e.document.selection,i=new Js(o);e.modifySelection(i,{direction:t?"forward":"backward"});const r=t?i.focus.nodeBefore:i.focus.nodeAfter;return r instanceof Fs&&n.isObject(r)?r:null}_clearPreviouslySelectedWidgets(t){for(const e of this._previouslySelected)t.removeClass(Yu,e);this._previouslySelected.clear()}}class ah extends Gl{refresh(){const t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=eh(t),eh(t)&&t.hasAttribute("alt")?this.value=t.getAttribute("alt"):this.value=!1}execute(t){const e=this.editor.model,n=e.document.selection.getSelectedElement();e.change(e=>{e.setAttribute("alt",t.newValue,n)})}}class ch extends Ul{init(){this.editor.commands.add("imageTextAlternative",new ah(this.editor))}}function lh({emitter:t,activator:e,callback:n,contextElements:o}){t.listenTo(document,"mousedown",(t,{target:i})=>{if(e()){for(const t of o)if(t.contains(i))return;n()}})}n(61);class dh extends Al{constructor(t){super(t),this.set("text"),this.set("for");const e=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],for:e.to("for")},children:[{text:e.to("text")}]})}}n(63);class uh extends Al{constructor(t,e){super(t);const n=`ck-input-${E()}`,o=`ck-error-${E()}`;this.set("label"),this.set("value"),this.set("isReadOnly",!1),this.set("errorText",null),this.labelView=this._createLabelView(n),this.inputView=this._createInputView(e,n,o),this.errorView=this._createErrorView(o);const i=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-input",i.if("isReadOnly","ck-disabled")]},children:[this.labelView,this.inputView,this.errorView]})}_createLabelView(t){const e=new dh(this.locale);return e.for=t,e.bind("text").to(this,"label"),e}_createInputView(t,e,n){const o=new t(this.locale,n);return o.id=e,o.ariaDesribedById=n,o.bind("value").to(this),o.bind("isReadOnly").to(this),o.bind("hasError").to(this,"errorText",t=>!!t),o.on("input",()=>{this.errorText=null}),o}_createErrorView(t){const e=new Al(this.locale),n=this.bindTemplate;return e.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-input__error",n.if("errorText","ck-hidden",t=>!t)],id:t},children:[{text:n.to("errorText")}]}),e}select(){this.inputView.select()}focus(){this.inputView.focus()}}n(65);class hh extends Al{constructor(t){super(t),this.set("value"),this.set("id"),this.set("placeholder"),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDesribedById");const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",e.if("hasError","ck-error")],id:e.to("id"),placeholder:e.to("placeholder"),readonly:e.to("isReadOnly"),"aria-invalid":e.if("hasError",!0),"aria-describedby":e.to("ariaDesribedById")},on:{input:e.to("input")}})}render(){super.render();const t=t=>{this.element.value=t||0===t?t:""};t(this.value),this.on("change:value",(e,n,o)=>{t(o)})}select(){this.element.select()}focus(){this.element.focus()}}function fh({view:t}){t.listenTo(t.element,"submit",(e,n)=>{n.preventDefault(),t.fire("submit")},{useCapture:!0})}var mh=n(7),gh=n.n(mh),ph=n(8),bh=n.n(ph);n(67);class wh extends Al{constructor(t){super(t);const e=this.locale.t;this.focusTracker=new Zc,this.keystrokes=new Uc,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(e("au"),gh.a,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(e("av"),bh.a,"ck-button-cancel","cancel"),this._focusables=new el,this._focusCycler=new jl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),fh({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)})}_createButton(t,e,n,o){const i=new Fd(this.locale);return i.set({label:t,icon:e,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),o&&i.delegate("execute").to(this,o),i}_createLabeledInputView(){const t=this.locale.t,e=new uh(this.locale,hh);return e.label=t("ay"),e.inputView.placeholder=t("ay"),e}}class _h extends Ul{static get pluginName(){return"ContextualBalloon"}init(){this.view=new Nl,this.positionLimiter=(()=>{const t=this.editor.editing.view,e=t.document.selection.editableElement;return e?t.domConverter.mapViewToDom(e.root):null}),this._stack=new Map,this.editor.ui.view.body.add(this.view),this.editor.ui.focusTracker.add(this.view.element)}get visibleView(){const t=this._stack.get(this.view.content.get(0));return t?t.view:null}hasView(t){return this._stack.has(t)}add(t){if(this.hasView(t.view))throw new M.b("contextualballoon-add-view-exist: Cannot add configuration of the same view twice.");this.visibleView&&this.view.content.remove(this.visibleView),this._stack.set(t.view,t),this._show(t)}remove(t){if(!this.hasView(t))throw new M.b("contextualballoon-remove-view-not-exist: Cannot remove configuration of not existing view.");if(this.visibleView===t){this.view.content.remove(t),this._stack.delete(t);const e=Array.from(this._stack.values()).pop();e?this._show(e):this.view.hide()}else this._stack.delete(t)}updatePosition(t){t&&(this._stack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition())}_show({view:t,balloonClassName:e=""}){this.view.className=e,this.view.content.add(t),this.view.pin(this._getBalloonPosition())}_getBalloonPosition(){let t=Array.from(this._stack.values()).pop().position;return t&&!t.limiter&&(t=Object.assign({},t,{limiter:this.positionLimiter})),t}}var vh=n(26),kh=n.n(vh);function yh(t){const e=t.editing.view,n=Nl.defaultPositions;return{target:e.domConverter.viewToDom(e.document.selection.getSelectedElement()),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast]}}class xh extends Ul{static get requires(){return[_h]}init(){this._createButton(),this._createForm()}_createButton(){const t=this.editor,e=t.t;t.ui.componentFactory.add("imageTextAlternative",n=>{const o=t.commands.get("imageTextAlternative"),i=new Fd(n);return i.set({label:e("ap"),icon:kh.a,tooltip:!0}),i.bind("isEnabled").to(o,"isEnabled"),this.listenTo(i,"execute",()=>this._showForm()),i})}_createForm(){const t=this.editor,e=t.editing.view.document;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new wh(t.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{t.execute("imageTextAlternative",{newValue:this._form.labeledInput.inputView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(t,e)=>{this._hideForm(!0),e()}),this.listenTo(t.ui,"update",()=>{th(e.selection)?this._isVisible&&function(t){const e=t.plugins.get("ContextualBalloon");if(th(t.editing.view.document.selection)){const n=yh(t);e.updatePosition(n)}}(t):this._hideForm(!0)}),lh({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._form.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;const t=this.editor,e=t.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._balloon.hasView(this._form)||this._balloon.add({view:this._form,position:yh(t)}),n.value=n.inputView.element.value=e.value||"",this._form.labeledInput.select()}_hideForm(t){this._isVisible&&(this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}get _isVisible(){return this._balloon.visibleView==this._form}}class Ah extends Ul{static get requires(){return[ch,xh]}static get pluginName(){return"ImageTextAlternative"}}n(69);class Ch extends Ul{static get requires(){return[nh,sh,Ah]}static get pluginName(){return"Image"}}class Th extends Al{constructor(t){super(t),this.buttonView=new Fd(t),this._fileInputView=new Mh(t),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class Mh extends Al{constructor(t){super(t),this.set("acceptedType"),this.set("allowMultipleFiles",!1);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:e.to("acceptedType"),multiple:e.to("allowMultipleFiles")},on:{change:e.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}var Ph=n(27),Sh=n.n(Ph);function Eh(t){return/^image\/(jpeg|png|gif|bmp)$/.test(t.type)}class Ih extends Ul{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("imageUpload",n=>{const o=new Th(n),i=t.commands.get("imageUpload");return o.set({acceptedType:"image/*",allowMultipleFiles:!0}),o.buttonView.set({label:e("q"),icon:Sh.a,tooltip:!0}),o.buttonView.bind("isEnabled").to(i),o.on("done",(e,n)=>{const o=Array.from(n).filter(Eh);o.length&&t.execute("imageUpload",{files:o})}),o})}}var Nh=n(28),Oh=n.n(Nh);n(71),n(73),n(75);class Rh extends Ul{constructor(t){super(t),this.placeholder="data:image/svg+xml;utf8,"+encodeURIComponent(Oh.a)}init(){this.editor.editing.downcastDispatcher.on("attribute:uploadStatus:image",(...t)=>this.uploadStatusChange(...t))}uploadStatusChange(t,e,n){const o=this.editor,i=e.item,r=i.getAttribute("uploadId");if(!n.consumable.consume(e.item,t.name))return;const s=o.plugins.get($d),a=r?e.attributeNewValue:null,c=this.placeholder,l=o.editing.mapper.toViewElement(i),d=n.writer;if("reading"==a)return Lh(l,d),void Vh(c,l,d);if("uploading"==a){const t=s.loaders.get(r);return Lh(l,d),void(t?(Fh(l,d),function(t,e,n,o){const i=function(t){const e=t.createUIElement("div",{class:"ck-progress-bar"});return t.setCustomProperty(Dh,!0,e),e}(e);e.insert($o.createAt(t,"end"),i),n.on("change:uploadedPercent",(t,e,n)=>{o.change(t=>{t.setStyle("width",n+"%",i)})})}(l,d,t,o.editing.view)):Vh(c,l,d))}"complete"==a&&s.loaders.get(r)&&!li.isEdge&&function(t,e,n){const o=new pi("div",{class:"ck-image-upload-complete-icon"});e.insert($o.createAt(t,"end"),o),setTimeout(()=>{n.change(t=>t.remove(Qo.createOn(o)))},3e3)}(l,d,o.editing.view),function(t,e){Bh(t,e,Dh)}(l,d),Fh(l,d),function(t,e){e.removeClass("ck-appear",t)}(l,d)}}const Dh=Symbol("progress-bar"),jh=Symbol("placeholder");function Lh(t,e){t.hasClass("ck-appear")||e.addClass("ck-appear",t)}function Vh(t,e,n){e.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",e);const o=e.getChild(0);o.getAttribute("src")!==t&&n.setAttribute("src",t,o),zh(e,jh)||n.insert($o.createAfter(o),function(t){const e=t.createUIElement("div",{class:"ck-upload-placeholder-loader"});return t.setCustomProperty(jh,!0,e),e}(n))}function Fh(t,e){t.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",t),Bh(t,e,jh)}function zh(t,e){for(const n of t.getChildren())if(n.getCustomProperty(e))return n}function Bh(t,e,n){const o=zh(t,n);o&&e.remove(Qo.createOn(o))}class Uh extends Gl{refresh(){const t=this.editor.model,e=t.document.selection,n=t.schema;this.isEnabled=function(t,e){const n=function(t){let e=Ku(t).parent;e.is("$root")||(e=e.parent);return e}(t);return e.checkChild(n,"image")}(e,n)&&function(t,e){const n=t.getSelectedElement(),o=!!n&&e.isObject(n),i=!![...t.focus.getAncestors()].find(t=>e.isObject(t));return!o&&!i}(e,n)}execute(t){const e=this.editor;e.model.change(n=>{const o=Array.isArray(t.files)?t.files:[t.files];for(const t of o)Hh(n,e,t)})}}function Hh(t,e,n){const o=e.model.document,i=e.plugins.get($d).createLoader(n);if(!i)return;const r=t.createElement("image",{uploadId:i.id}),s=Ku(o.selection);e.model.insertContent(r,s),r.parent&&t.setSelection(r,"on")}class qh extends Ul{static get pluginName(){return"Notification"}init(){this.on("show:warning",(t,e)=>{window.alert(e.message)},{priority:"lowest"})}showSuccess(t,e={}){this._showNotification({message:t,type:"success",namespace:e.namespace,title:e.title})}showInfo(t,e={}){this._showNotification({message:t,type:"info",namespace:e.namespace,title:e.title})}showWarning(t,e={}){this._showNotification({message:t,type:"warning",namespace:e.namespace,title:e.title})}_showNotification(t){const e=`show:${t.type}`+(t.namespace?`:${t.namespace}`:"");this.fire(e,{message:t.message,type:t.type,title:t.title||""})}}class Wh extends Ul{static get requires(){return[$d,qh]}init(){const t=this.editor,e=t.model.document,n=t.model.schema,o=t.plugins.get($d);n.extend("image",{allowAttributes:["uploadId","uploadStatus"]}),t.commands.add("imageUpload",new Uh(t)),this.listenTo(t.editing.view.document,"clipboardInput",(e,n)=>{if(function(t){return Array.from(t.types).includes("text/html")&&""!==t.getData("text/html")}(n.dataTransfer))return;const o=Array.from(n.dataTransfer.files).filter(Eh),i=new Js(n.targetRanges.map(e=>t.editing.mapper.toModelRange(e)));t.model.change(n=>{n.setSelection(i),o.length&&(e.stop(),t.model.enqueueChange("default",()=>{t.execute("imageUpload",{files:o})}))})}),t.editing.view.document.on("dragover",(t,e)=>{e.preventDefault()}),e.on("change",()=>{const t=e.differ.getChanges({includeChangesInGraveyard:!0});for(const e of t)if("insert"==e.type&&"image"==e.name){const t=e.position.nodeAfter,n="$graveyard"==e.position.root.rootName,i=t.getAttribute("uploadId");if(!i)continue;const r=o.loaders.get(i);if(!r)continue;n?r.abort():"idle"==r.status&&this._readAndUpload(r,t)}})}_readAndUpload(t,e){const n=this.editor,o=n.model,i=n.locale.t,r=n.plugins.get($d),s=n.plugins.get(qh);return o.enqueueChange("transparent",t=>{t.setAttribute("uploadStatus","reading",e)}),t.read().then(i=>{const r=n.editing.mapper.toViewElement(e).getChild(0),s=t.upload();return n.editing.view.change(t=>{t.setAttribute("src",i,r)}),o.enqueueChange("transparent",t=>{t.setAttribute("uploadStatus","uploading",e)}),s}).then(t=>{o.enqueueChange("transparent",n=>{n.setAttributes({uploadStatus:"complete",src:t.default},e);let o=0;const i=Object.keys(t).filter(t=>{const e=parseInt(t,10);if(!isNaN(e))return o=Math.max(o,e),!0}).map(e=>`${t[e]} ${e}w`).join(", ");""!=i&&n.setAttribute("srcset",{data:i,width:o},e)}),a()}).catch(n=>{if("error"!==t.status&&"aborted"!==t.status)throw n;"error"==t.status&&s.showWarning(n,{title:i("r"),namespace:"upload"}),a(),o.enqueueChange("transparent",t=>{t.remove(e)})});function a(){o.enqueueChange("transparent",t=>{t.removeAttribute("uploadId",e),t.removeAttribute("uploadStatus",e)}),r.destroyLoader(t)}}}class Yh extends Ul{static get pluginName(){return"ImageUpload"}static get requires(){return[Wh,Ih,Rh]}}class Gh extends Gl{refresh(){const t=this.editor.model,e=bu(t.document.selection.getSelectedBlocks());this.value=!!e&&e.is("paragraph"),this.isEnabled=!!e&&$h(e,t.schema)}execute(t={}){const e=this.editor.model,n=e.document;e.change(o=>{const i=(t.selection||n.selection).getSelectedBlocks();for(const t of i)!t.is("paragraph")&&$h(t,e.schema)&&o.rename(t,"paragraph")})}}function $h(t,e){return e.checkChild(t.parent,"paragraph")&&!e.isObject(t)}class Qh extends Ul{static get pluginName(){return"Paragraph"}init(){const t=this.editor,e=t.model,n=t.data;t.commands.add("paragraph",new Gh(t)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),n.upcastDispatcher.on("element",(t,e,n)=>{if(n.consumable.test(e.viewItem,{name:e.viewItem.name}))if(Qh.paragraphLikeElements.has(e.viewItem.name)){if(e.viewItem.isEmpty)return;const t=n.writer.createElement("paragraph"),o=n.splitToAllowedParent(t,e.modelCursor);if(!o)return;n.writer.insert(t,o.position);const{modelRange:i}=n.convertChildren(e.viewItem,Hs.createAt(t));e.modelRange=new qs(Hs.createBefore(t),i.end),e.modelCursor=e.modelRange.end}else Kh(e.viewItem,e.modelCursor,n.schema)&&(e=Object.assign(e,Jh(e.viewItem,e.modelCursor,n)))},{priority:"low"}),n.upcastDispatcher.on("text",(t,e,n)=>{e.modelRange||Kh(e.viewItem,e.modelCursor,n.schema)&&(e=Object.assign(e,Jh(e.viewItem,e.modelCursor,n)))},{priority:"lowest"}),e.document.registerPostFixer(t=>this._autoparagraphEmptyRoots(t)),t.on("dataReady",()=>{e.enqueueChange("transparent",t=>this._autoparagraphEmptyRoots(t))},{priority:"lowest"})}_autoparagraphEmptyRoots(t){const e=this.editor.model;for(const n of e.document.getRootNames()){const o=e.document.getRoot(n);if(o.isEmpty&&"$graveyard"!=o.rootName&&e.schema.checkChild(o,"paragraph"))return t.insertElement("paragraph",o),!0}}}function Jh(t,e,n){const o=n.writer.createElement("paragraph");return n.writer.insert(o,e),n.convertItem(t,Hs.createAt(o))}function Kh(t,e,n){const o=new ka(e);return!!n.checkChild(o,"paragraph")&&!!n.checkChild(o.push("paragraph"),t)}Qh.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td"]);class Zh extends Gl{constructor(t,e){super(t),this.modelElements=e}refresh(){const t=bu(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some(e=>Xh(t,e,this.editor.model.schema))}execute(t){const e=this.editor.model,n=e.document,o=t.value;e.change(t=>{const i=Array.from(n.selection.getSelectedBlocks()).filter(t=>Xh(t,o,e.schema));for(const e of i)e.is(o)||t.rename(e,o)})}}function Xh(t,e,n){return n.checkChild(t.parent,e)&&!n.isObject(t)}const tf="paragraph";class ef extends Ul{constructor(t){super(t),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Qh]}init(){const t=this.editor,e=t.config.get("heading.options"),n=[];for(const o of e)o.model!==tf&&(t.model.schema.register(o.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(o),n.push(o.model));t.commands.add("heading",new Zh(t,n))}afterInit(){const t=this.editor,e=t.commands.get("enter"),n=t.config.get("heading.options");e&&this.listenTo(e,"afterExecute",(e,o)=>{const i=t.model.document.selection.getFirstPosition().parent;n.some(t=>i.is(t.model))&&!i.is(tf)&&0===i.childCount&&o.writer.rename(i,tf)})}}class nf{constructor(t,e){e&&No(this,e),t&&this.set(t)}}B(nf,Lo);class of extends Al{constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",!1),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",e.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:e.to(t=>t.preventDefault())}})}focus(){this.children.length&&this.children.first.focus()}focusLast(){if(this.children.length){const t=this.children.last;"function"==typeof t.focusLast?t.focusLast():t.focus()}}}n(77);class rf extends Al{constructor(t,e,n){super(t);const o=this.bindTemplate;this.buttonView=e,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.focusTracker=new Zc,this.keystrokes=new Uc,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",o.if("isEnabled","ck-disabled",t=>!t)]},children:[e,n]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"]}})}render(){super.render(),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes.listenTo(this.element),this.focusTracker.add(this.element);const t=(t,e)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,e())};this.keystrokes.set("arrowdown",(t,e)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,e())}),this.keystrokes.set("arrowright",(t,e)=>{this.isOpen&&e()}),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}focus(){this.buttonView.focus()}}var sf=n(29),af=n.n(sf);class cf extends Fd{constructor(t){super(t),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new Ld;return t.content=af.a,t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}n(79);class lf extends Al{constructor(){super(),this.items=this.createCollection(),this.focusTracker=new Zc,this.keystrokes=new Uc,this._focusCycler=new jl({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:this.items})}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)}),this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class df extends Al{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:this.children})}focus(){this.children.first.focus()}}class uf extends Al{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}n(81);class hf extends Fd{constructor(t){super(t),this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const t=new Al;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}n(83),n(85);function ff(t,e=cf){const n=new e(t),o=new of(t),i=new rf(t,n,o);return n.bind("isEnabled").to(i),n instanceof cf?n.bind("isOn").to(i,"isOpen"):n.arrowView.bind("isOn").to(i,"isOpen"),function(t){(function(t){t.on("render",()=>{lh({emitter:t,activator:()=>t.isOpen,callback:()=>{t.isOpen=!1},contextElements:[t.element]})})})(t),function(t){t.on("execute",e=>{e.source instanceof hf||(t.isOpen=!1)})}(t),function(t){t.keystrokes.set("arrowdown",(e,n)=>{t.isOpen&&(t.panelView.focus(),n())}),t.keystrokes.set("arrowup",(e,n)=>{t.isOpen&&(t.panelView.focusLast(),n())})}(t)}(i),i}function mf(t,e){const n=t.locale,o=t.listView=new lf(n);o.items.bindTo(e).using(({type:t,model:e})=>{if("separator"===t)return new uf(n);if("button"===t||"switchbutton"===t){const o=new df(n);let i;return(i="button"===t?new Fd(n):new hf(n)).bind(...Object.keys(e)).to(e),i.delegate("execute").to(o),o.children.add(i),o}}),t.panelView.children.add(o),o.items.delegate("execute").to(t)}n(17);class gf extends Ul{init(){const t=this.editor,e=t.t,n=function(t){const e=t.t,n={Paragraph:e("aq"),"Heading 1":e("ar"),"Heading 2":e("as"),"Heading 3":e("at")};return t.config.get("heading.options").map(t=>{const e=n[t.title];return e&&e!=t.title&&(t=Object.assign({},t,{title:e})),t})}(t),o=e("f"),i=e("g");t.ui.componentFactory.add("heading",e=>{const r={},s=new ti,a=t.commands.get("heading"),c=t.commands.get("paragraph"),l=[a];for(const t of n){const e={type:"button",model:new nf({label:t.title,class:t.class,withText:!0})};"paragraph"===t.model?(e.model.bind("isOn").to(c,"value"),e.model.set("commandName","paragraph"),l.push(c)):(e.model.bind("isOn").to(a,"value",e=>e===t.model),e.model.set({commandName:"heading",commandValue:t.model})),s.add(e),r[t.model]=t.title}const d=ff(e);return mf(d,s),d.buttonView.set({isOn:!1,withText:!0,tooltip:i}),d.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),d.bind("isEnabled").toMany(l,"isEnabled",(...t)=>t.some(t=>t)),d.buttonView.bind("label").to(a,"value",c,"value",(t,e)=>{const n=t||e&&"paragraph";return r[n]?r[n]:o}),this.listenTo(d,"execute",e=>{t.execute(e.source.commandName,e.source.commandValue?{value:e.source.commandValue}:void 0),t.editing.view.focus()}),d})}}n(88);const pf=new WeakMap;function bf(t,e,n,o){const i=t.document;pf.has(i)||(pf.set(i,new Map),i.registerPostFixer(t=>(function(t,e){const n=pf.get(t);let o=!1;for(const[t,i]of n)wf(e,t,i)&&(o=!0);return o})(i,t))),pf.get(i).set(e,{placeholderText:n,checkFunction:o}),t.render()}function wf(t,e,n){const o=e.document,i=n.placeholderText;let r=!1;if(!o)return!1;e.getAttribute("data-placeholder")!==i&&(t.setAttribute("data-placeholder",i,e),r=!0);const s=o.selection.anchor,a=n.checkFunction;if(a&&!a())return e.hasClass("ck-placeholder")&&(t.removeClass("ck-placeholder",e),r=!0),r;const c=!Array.from(e.getChildren()).some(t=>!t.is("uiElement"));return!o.isFocused&&c?(e.hasClass("ck-placeholder")||(t.addClass("ck-placeholder",e),r=!0),r):(c&&s&&s.parent!==e?e.hasClass("ck-placeholder")||(t.addClass("ck-placeholder",e),r=!0):e.hasClass("ck-placeholder")&&(t.removeClass("ck-placeholder",e),r=!0),r)}const _f=Symbol("imageCaption");function vf(t){for(const e of t.getChildren())if(e instanceof Fs&&"caption"==e.name)return e;return null}function kf(t){const e=t.parent;return"figcaption"==t.name&&e&&"figure"==e.name&&e.hasClass("image")?{name:!0}:null}class yf extends Ul{init(){const t=this.editor,e=t.editing.view,n=t.model.schema,o=t.data,i=t.editing,r=t.t;n.register("caption",{allowIn:"image",allowContentOf:"$block",isLimit:!0}),t.model.document.registerPostFixer(t=>this._insertMissingModelCaptionElement(t)),t.conversion.for("upcast").add(Oa({view:kf,model:"caption"}));o.downcastDispatcher.on("insert:caption",xf(t=>t.createContainerElement("figcaption"),!1));const s=function(t,e){return n=>{const o=n.createEditableElement("figcaption");return n.setCustomProperty(_f,!0,o),bf(t,o,e),Ju(o,n)}}(e,r("h"));i.downcastDispatcher.on("insert:caption",xf(s)),i.downcastDispatcher.on("insert",this._fixCaptionVisibility(t=>t.item),{priority:"high"}),i.downcastDispatcher.on("remove",this._fixCaptionVisibility(t=>t.position.parent),{priority:"high"}),e.document.registerPostFixer(t=>this._updateCaptionVisibility(t))}_updateCaptionVisibility(t){const e=this.editor.editing.mapper,n=this._lastSelectedCaption;let o;const i=this.editor.model.document.selection,r=i.getSelectedElement();if(r&&r.is("image")){const t=vf(r);o=e.toViewElement(t)}const s=Af(i.getFirstPosition().parent);if(s&&(o=e.toViewElement(s)),o)return n?n===o?Tf(o,t):(Cf(n,t),this._lastSelectedCaption=o,Tf(o,t)):(this._lastSelectedCaption=o,Tf(o,t));if(n){const e=Cf(n,t);return this._lastSelectedCaption=null,e}return!1}_fixCaptionVisibility(t){return(e,n,o)=>{const i=Af(t(n)),r=this.editor.editing.mapper,s=o.writer;if(i){const t=r.toViewElement(i);t&&(i.childCount?s.removeClass("ck-hidden",t):s.addClass("ck-hidden",t))}}}_insertMissingModelCaptionElement(t){const e=this.editor.model.document.differ.getChanges();for(const n of e)if("insert"==n.type&&"image"==n.name){const e=n.position.nodeAfter;if(!vf(e))return t.appendElement("caption",e),!0}}}function xf(t,e=!0){return(n,o,i)=>{const r=o.item;if((r.childCount||e)&&eh(r.parent)){if(!i.consumable.consume(o.item,"insert"))return;const e=i.mapper.toViewElement(o.range.start.parent),n=t(i.writer),s=i.writer;r.childCount||s.addClass("ck-hidden",n),function(t,e,n,o){const i=$o.createAt(n,"end");o.writer.insert(i,t),o.mapper.bindElements(e,t)}(n,o.item,e,i)}}}function Af(t){const e=t.getAncestors({includeSelf:!0}).find(t=>"caption"==t.name);return e&&e.parent&&"image"==e.parent.name?e:null}function Cf(t,e){return!t.childCount&&!t.hasClass("ck-hidden")&&(e.addClass("ck-hidden",t),!0)}function Tf(t,e){return!!t.hasClass("ck-hidden")&&(e.removeClass("ck-hidden",t),!0)}n(90);class Mf extends Gl{constructor(t,e){super(t),this._defaultStyle=!1,this.styles=e.reduce((t,e)=>(t[e.name]=e,e.isDefault&&(this._defaultStyle=e.name),t),{})}refresh(){const t=this.editor.model.document.selection.getSelectedElement();if(this.isEnabled=eh(t),t)if(t.hasAttribute("imageStyle")){const e=t.getAttribute("imageStyle");this.value=!!this.styles[e]&&e}else this.value=this._defaultStyle;else this.value=!1}execute(t){const e=t.value,n=this.editor.model,o=n.document.selection.getSelectedElement();n.change(t=>{this.styles[e].isDefault?t.removeAttribute("imageStyle",o):t.setAttribute("imageStyle",e,o)})}}function Pf(t,e){for(const n of e)if(n.name===t)return n}var Sf=n(13),Ef=n.n(Sf),If=n(14),Nf=n.n(If),Of=n(15),Rf=n.n(Of),Df=n(10),jf=n.n(Df);const Lf={full:{name:"full",title:"Full size image",icon:Ef.a,isDefault:!0},side:{name:"side",title:"Side image",icon:jf.a,className:"image-style-side"},alignLeft:{name:"alignLeft",title:"Left aligned image",icon:Nf.a,className:"image-style-align-left"},alignCenter:{name:"alignCenter",title:"Centered image",icon:Rf.a,className:"image-style-align-center"},alignRight:{name:"alignRight",title:"Right aligned image",icon:jf.a,className:"image-style-align-right"}},Vf={full:Ef.a,left:Nf.a,right:jf.a,center:Rf.a};function Ff(t=[]){return t.map(zf).map(t=>Object.assign({},t))}function zf(t){if("string"==typeof t){const e=t;Lf[e]?t=Object.assign({},Lf[e]):(fs.a.warn("image-style-not-found: There is no such image style of given name.",{name:e}),t={name:e})}else if(Lf[t.name]){const e=Lf[t.name],n=Object.assign({},t);for(const o in e)t.hasOwnProperty(o)||(n[o]=e[o]);t=n}return"string"==typeof t.icon&&Vf[t.icon]&&(t.icon=Vf[t.icon]),t}class Bf extends Ul{static get requires(){return[nh]}static get pluginName(){return"ImageStyleEditing"}init(){const t=this.editor,e=t.model.schema,n=t.data,o=t.editing;t.config.define("image.styles",["full","side"]);const i=Ff(t.config.get("image.styles"));e.extend("image",{allowAttributes:"imageStyle"});const r=function(t){return(e,n,o)=>{if(!o.consumable.consume(n.item,e.name))return;const i=Pf(n.attributeNewValue,t),r=Pf(n.attributeOldValue,t),s=o.mapper.toViewElement(n.item),a=o.writer;r&&a.removeClass(r.className,s),i&&a.addClass(i.className,s)}}(i);o.downcastDispatcher.on("attribute:imageStyle:image",r),n.downcastDispatcher.on("attribute:imageStyle:image",r),n.upcastDispatcher.on("element:figure",function(t){const e=t.filter(t=>!t.isDefault);return(t,n,o)=>{if(!n.modelRange)return;const i=n.viewItem,r=bu(n.modelRange.getItems());if(o.schema.checkAttribute(r,"imageStyle"))for(const t of e)o.consumable.consume(i,{classes:t.className})&&o.writer.setAttribute("imageStyle",t.name,r)}}(i),{priority:"low"}),t.commands.add("imageStyle",new Mf(t,i))}}n(92);class Uf extends Ul{get localizedDefaultStylesTitles(){const t=this.editor.t;return{"Full size image":t("i"),"Side image":t("j"),"Left aligned image":t("k"),"Centered image":t("l"),"Right aligned image":t("m")}}init(){const t=function(t,e){for(const n of t)e[n.title]&&(n.title=e[n.title]);return t}(Ff(this.editor.config.get("image.styles")),this.localizedDefaultStylesTitles);for(const e of t)this._createButton(e)}_createButton(t){const e=this.editor,n=`imageStyle:${t.name}`;e.ui.componentFactory.add(n,n=>{const o=e.commands.get("imageStyle"),i=new Fd(n);return i.set({label:t.title,icon:t.icon,tooltip:!0}),i.bind("isEnabled").to(o,"isEnabled"),i.bind("isOn").to(o,"value",e=>e===t.name),this.listenTo(i,"execute",()=>e.execute("imageStyle",{value:t.name})),i})}}class Hf extends Ul{static get requires(){return[_h]}static get pluginName(){return"WidgetToolbarRepository"}init(){const t=this.editor,e=t.plugins.get("BalloonToolbar");e&&this.listenTo(e,"show",e=>{(function(t){const e=t.getSelectedElement();return!(!e||!Gu(e))})(t.editing.view.document.selection)&&e.stop()},{priority:"high"}),this._toolbars=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.listenTo(t.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}register(t,{items:e,visibleWhen:n,balloonClassName:o="ck-toolbar-container"}){const i=this.editor,r=new Fl;if(this._toolbars.has(t))throw new M.b("widget-toolbar-duplicated: Toolbar with the given id was already added.",{toolbarId:t});r.fillFromConfig(e,i.ui.componentFactory),this._toolbars.set(t,{view:r,visibleWhen:n,balloonClassName:o})}_updateToolbarsVisibility(){for(const t of this._toolbars.values())this.editor.ui.focusTracker.isFocused&&t.visibleWhen(this.editor.editing.view.document.selection)?this._showToolbar(t):this._hideToolbar(t)}_hideToolbar(t){this._isToolbarVisible(t)&&this._balloon.remove(t.view)}_showToolbar(t){this._isToolbarVisible(t)?function(t){const e=t.plugins.get("ContextualBalloon"),n=qf(t);e.updatePosition(n)}(this.editor):this._balloon.hasView(t.view)||this._balloon.add({view:t.view,position:qf(this.editor),balloonClassName:t.balloonClassName})}_isToolbarVisible(t){return this._balloon.visibleView==t.view}}function qf(t){const e=t.editing.view,n=Nl.defaultPositions,o=function(t){const e=t.getSelectedElement();if(e&&Gu(e))return e;let n=t.getFirstPosition().parent;for(;n;){if(n.is("element")&&Gu(n))return n;n=n.parent}}(e.document.selection);return{target:e.domConverter.viewToDom(o),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast]}}function Wf(t,e){return new qs(Yf(t,e,!0),Yf(t,e,!1))}function Yf(t,e,n){let o=t.textNode||(n?t.nodeBefore:t.nodeAfter),i=null;for(;o&&o.getAttribute("linkHref")==e;)i=o,o=n?o.previousSibling:o.nextSibling;return i?Hs.createAt(i,n?"before":"after"):t}class Gf extends Gl{refresh(){const t=this.editor.model,e=t.document;this.value=e.selection.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,"linkHref")}execute(t){const e=this.editor.model,n=e.document.selection;e.change(o=>{if(n.isCollapsed){const e=n.getFirstPosition();if(n.hasAttribute("linkHref")){const e=Wf(n.getFirstPosition(),n.getAttribute("linkHref"));o.setAttribute("linkHref",t,e),o.setSelection(e)}else if(""!==t){const i=Rs(n.getAttributes());i.set("linkHref",t);const r=o.createText(t,i);o.insert(r,e),o.setSelection(qs.createOn(r))}}else{const i=e.schema.getValidRanges(n.getRanges(),"linkHref");for(const e of i)o.setAttribute("linkHref",t,e)}})}}class $f extends Gl{refresh(){this.isEnabled=this.editor.model.document.selection.hasAttribute("linkHref")}execute(){const t=this.editor.model,e=t.document.selection;t.change(t=>{const n=e.isCollapsed?[Wf(e.getFirstPosition(),e.getAttribute("linkHref"))]:e.getRanges();for(const e of n)t.removeAttribute("linkHref",e)})}}const Qf=Symbol("linkElement"),Jf=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Kf=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;function Zf(t,e){const n=e.createAttributeElement("a",{href:t},{priority:5});return e.setCustomProperty(Qf,!0,n),n}function Xf(t){return function(t){return t.replace(Jf,"").match(Kf)}(t=String(t))?t:"#"}class tm{constructor(t,e,n){this.model=t,this.attribute=n,this._modelSelection=t.document.selection,this._overrideUid=null,this._isNextGravityRestorationSkipped=!1,e.listenTo(this._modelSelection,"change:range",(t,e)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!e.directChange&&em(this._modelSelection.getFirstPosition(),n)||this._restoreGravity())})}handleForwardMovement(t,e){const n=this.attribute;if(!(this._isGravityOverridden||t.isAtStart&&this._hasSelectionAttribute))return im(t,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(e),this._removeSelectionAttribute(),!0):nm(t,n)?(this._preventCaretMovement(e),this._overrideGravity(),!0):om(t,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(e),this._overrideGravity(),!0):void 0}handleBackwardMovement(t,e){const n=this.attribute;return this._isGravityOverridden?im(t,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(e),this._restoreGravity(),this._removeSelectionAttribute(),!0):(this._preventCaretMovement(e),this._restoreGravity(),t.isAtStart&&this._removeSelectionAttribute(),!0):im(t,n)&&!this._hasSelectionAttribute?(this._preventCaretMovement(e),this._setSelectionAttributeFromTheNodeBefore(t),!0):t.isAtEnd&&om(t,n)?this._hasSelectionAttribute?void(rm(t,n)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity())):(this._preventCaretMovement(e),this._setSelectionAttributeFromTheNodeBefore(t),!0):t.isAtStart?this._hasSelectionAttribute?(this._removeSelectionAttribute(),this._preventCaretMovement(e),!0):void 0:void(rm(t,n)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity()))}get _isGravityOverridden(){return!!this._overrideUid}get _hasSelectionAttribute(){return this._modelSelection.hasAttribute(this.attribute)}_overrideGravity(){this._overrideUid=this.model.change(t=>t.overrideSelectionGravity())}_restoreGravity(){this.model.change(t=>{t.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}_preventCaretMovement(t){t.preventDefault()}_removeSelectionAttribute(){this.model.change(t=>{t.removeSelectionAttribute(this.attribute)})}_setSelectionAttributeFromTheNodeBefore(t){const e=this.attribute;this.model.change(n=>{n.setSelectionAttribute(this.attribute,t.nodeBefore.getAttribute(e))})}_skipNextAutomaticGravityRestoration(){this._isNextGravityRestorationSkipped=!0}}function em(t,e){return nm(t,e)||om(t,e)}function nm(t,e){const{nodeBefore:n,nodeAfter:o}=t,i=!!n&&n.hasAttribute(e);return!!o&&o.hasAttribute(e)&&(!i||n.getAttribute(e)!==o.getAttribute(e))}function om(t,e){const{nodeBefore:n,nodeAfter:o}=t,i=!!n&&n.hasAttribute(e),r=!!o&&o.hasAttribute(e);return i&&(!r||n.getAttribute(e)!==o.getAttribute(e))}function im(t,e){const{nodeBefore:n,nodeAfter:o}=t,i=!!n&&n.hasAttribute(e);if(!!o&&o.hasAttribute(e)&&i)return o.getAttribute(e)!==n.getAttribute(e)}function rm(t,e){return em(t.getShiftedBy(-1),e)}n(94);const sm="ck-link_selected";class am extends Ul{init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").add(ca({model:"linkHref",view:Zf})),t.conversion.for("editingDowncast").add(ca({model:"linkHref",view:(t,e)=>Zf(Xf(t),e)})),t.conversion.for("upcast").add(Ra({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:t=>t.getAttribute("href")}})),t.commands.add("link",new Gf(t)),t.commands.add("unlink",new $f(t)),function(t,e,n,o){const i=new tm(e,n,o),r=e.document.selection;n.listenTo(t.document,"keydown",(t,e)=>{if(!r.isCollapsed)return;if(e.shiftKey||e.altKey||e.ctrlKey)return;const n=e.keyCode==hi.arrowright,o=e.keyCode==hi.arrowleft;if(!n&&!o)return;const s=r.getFirstPosition();let a;(a=n?i.handleForwardMovement(s,e):i.handleBackwardMovement(s,e))&&t.stop()},{priority:I.get("high")+1})}(t.editing.view,t.model,this,"linkHref"),this._setupLinkHighlight()}_setupLinkHighlight(){const t=this.editor,e=t.editing.view,n=new Set;e.document.registerPostFixer(e=>{const o=t.model.document.selection;if(o.hasAttribute("linkHref")){const i=Wf(o.getFirstPosition(),o.getAttribute("linkHref")),r=t.editing.mapper.toViewRange(i);for(const t of r.getItems())t.is("a")&&(e.addClass(sm,t),n.add(t))}}),t.conversion.for("editingDowncast").add(t=>{function o(){e.change(t=>{for(const e of n.values())t.removeClass(sm,e),n.delete(e)})}t.on("insert",o,{priority:"highest"}),t.on("remove",o,{priority:"highest"}),t.on("attribute",o,{priority:"highest"}),t.on("selection",o,{priority:"highest"})})}}class cm extends Jr{constructor(t){super(t),this.domEventType="click"}onDomEvent(t){this.fire(t.type,t)}}n(96);class lm extends Al{constructor(t){super(t);const e=t.t;this.focusTracker=new Zc,this.keystrokes=new Uc,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(e("au"),gh.a,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(e("av"),bh.a,"ck-button-cancel","cancel"),this._focusables=new el,this._focusCycler=new jl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-link-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),fh({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const t=this.locale.t,e=new uh(this.locale,hh);return e.label=t("bf"),e.inputView.placeholder="https://example.com",e}_createButton(t,e,n,o){const i=new Fd(this.locale);return i.set({label:t,icon:e,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),o&&i.delegate("execute").to(this,o),i}}var dm=n(30),um=n.n(dm),hm=n(31),fm=n.n(hm);n(98);class mm extends Al{constructor(t){super(t);const e=t.t;this.focusTracker=new Zc,this.keystrokes=new Uc,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(e("bb"),um.a,"unlink"),this.editButtonView=this._createButton(e("bc"),fm.a,"edit"),this.set("href"),this._focusables=new el,this._focusCycler=new jl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createButton(t,e,n){const o=new Fd(this.locale);return o.set({label:t,icon:e,tooltip:!0}),o.delegate("execute").to(this,n),o}_createPreviewButton(){const t=new Fd(this.locale),e=this.bindTemplate,n=this.t;return t.set({withText:!0,tooltip:n("bd")}),t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:e.to("href",t=>t&&Xf(t)),target:"_blank"}}),t.bind("label").to(this,"href",t=>t||n("be")),t.bind("isEnabled").to(this,"href",t=>!!t),t.template.tag="a",t.template.eventListeners={},t}}var gm=n(32),pm=n.n(gm);const bm="Ctrl+K";class wm extends Ul{static get requires(){return[_h]}init(){const t=this.editor;t.editing.view.addObserver(cm),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=t.plugins.get(_h),this._createToolbarLinkButton(),this._enableUserBalloonInteractions()}_createActionsView(){const t=this.editor,e=new mm(t.locale),n=t.commands.get("link"),o=t.commands.get("unlink");return e.bind("href").to(n,"value"),e.editButtonView.bind("isEnabled").to(n),e.unlinkButtonView.bind("isEnabled").to(o),this.listenTo(e,"edit",()=>{this._addFormView()}),this.listenTo(e,"unlink",()=>{t.execute("unlink"),this._hideUI()}),e.keystrokes.set("Esc",(t,e)=>{this._hideUI(),e()}),e.keystrokes.set(bm,(t,e)=>{this._addFormView(),e()}),e}_createFormView(){const t=this.editor,e=new lm(t.locale),n=t.commands.get("link");return e.urlInputView.bind("value").to(n,"value"),e.urlInputView.bind("isReadOnly").to(n,"isEnabled",t=>!t),e.saveButtonView.bind("isEnabled").to(n),this.listenTo(e,"submit",()=>{t.execute("link",e.urlInputView.inputView.element.value),this._removeFormView()}),this.listenTo(e,"cancel",()=>{this._removeFormView()}),e.keystrokes.set("Esc",(t,e)=>{this._removeFormView(),e()}),e}_createToolbarLinkButton(){const t=this.editor,e=t.commands.get("link"),n=t.t;t.keystrokes.set(bm,(t,n)=>{n(),e.isEnabled&&this._showUI()}),t.ui.componentFactory.add("link",t=>{const o=new Fd(t);return o.isEnabled=!0,o.label=n("n"),o.icon=pm.a,o.keystroke=bm,o.tooltip=!0,o.bind("isOn","isEnabled").to(e,"value","isEnabled"),this.listenTo(o,"execute",()=>this._showUI()),o})}_enableUserBalloonInteractions(){const t=this.editor.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),this.editor.keystrokes.set("Tab",(t,e)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),e())},{priority:"high"}),this.editor.keystrokes.set("Esc",(t,e)=>{this._isUIVisible&&(this._hideUI(),e())}),lh({emitter:this.formView,activator:()=>this._isUIVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this._isFormInPanel)return;const t=this.editor.commands.get("link");this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.select(),this.formView.urlInputView.inputView.element.value=t.value||""}_removeFormView(){this._isFormInPanel&&(this._balloon.remove(this.formView),this.editor.editing.view.focus())}_showUI(){this.editor.commands.get("link").isEnabled&&(this._getSelectedLinkElement()?this._areActionsVisible?this._addFormView():this._addActionsView():(this._addActionsView(),this._addFormView()),this._startUpdatingUI())}_hideUI(){if(!this._isUIInPanel)return;const t=this.editor;this.stopListening(t.ui,"update"),this._removeFormView(),this._balloon.remove(this.actionsView),t.editing.view.focus()}_startUpdatingUI(){const t=this.editor,e=t.editing.view.document;let n=this._getSelectedLinkElement(),o=i();function i(){return e.selection.focus.getAncestors().reverse().find(t=>t.is("element"))}this.listenTo(t.ui,"update",()=>{const t=this._getSelectedLinkElement(),e=i();n&&!t||!n&&e!==o?this._hideUI():this._balloon.updatePosition(this._getBalloonPositionData()),n=t,o=e})}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const t=this.editor.editing.view,e=t.document,n=this._getSelectedLinkElement();return{target:n?t.domConverter.mapViewToDom(n):t.domConverter.viewRangeToDom(e.selection.getFirstRange())}}_getSelectedLinkElement(){const t=this.editor.editing.view.document.selection;if(t.isCollapsed)return _m(t.getFirstPosition());{const e=t.getFirstRange().getTrimmed(),n=_m(e.start),o=_m(e.end);return n&&n==o&&Qo.createIn(n).getTrimmed().isEqual(e)?n:null}}}function _m(t){return t.getAncestors().find(t=>(function(t){return t.is("attributeElement")&&!!t.getCustomProperty(Qf)})(t))}class vm extends Gl{constructor(t,e){super(t),this.type="bulleted"==e?"bulleted":"numbered"}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=t.document,n=Array.from(e.selection.getSelectedBlocks()).filter(e=>ym(e,t.schema)),o=!0===this.value;t.change(t=>{if(o){let e=n[n.length-1].nextSibling,o=Number.POSITIVE_INFINITY,i=[];for(;e&&"listItem"==e.name&&0!==e.getAttribute("listIndent");){const t=e.getAttribute("listIndent");t<o&&(o=t);const n=t-o;i.push({element:e,listIndent:n}),e=e.nextSibling}i=i.reverse();for(const e of i)t.setAttribute("listIndent",e.listIndent,e.element)}if(!o){let t=Number.POSITIVE_INFINITY;for(const e of n)e.is("listItem")&&e.getAttribute("listIndent")<t&&(t=e.getAttribute("listIndent"));km(n,!0,t=0===t?1:t),km(n,!1,t)}for(const e of n.reverse())o&&"listItem"==e.name?t.rename(e,"paragraph"):o||"listItem"==e.name?o||"listItem"!=e.name||e.getAttribute("listType")==this.type||t.setAttribute("listType",this.type,e):(t.setAttributes({listType:this.type,listIndent:0},e),t.rename(e,"listItem"))})}_getValue(){const t=bu(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is("listItem")&&t.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,e=this.editor.model.schema,n=bu(t.getSelectedBlocks());return!!n&&ym(n,e)}}function km(t,e,n){const o=e?t[0]:t[t.length-1];if(o.is("listItem")){let i=o[e?"previousSibling":"nextSibling"],r=o.getAttribute("listIndent");for(;i&&i.is("listItem")&&i.getAttribute("listIndent")>=n;)r>i.getAttribute("listIndent")&&(r=i.getAttribute("listIndent")),i.getAttribute("listIndent")==r&&t[e?"unshift":"push"](i),i=i[e?"previousSibling":"nextSibling"]}}function ym(t,e){return e.checkChild(t.parent,"listItem")&&!e.isObject(t)}class xm extends Gl{constructor(t,e){super(t),this._indentBy="forward"==e?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=t.document;let n=Array.from(e.selection.getSelectedBlocks());t.change(t=>{const e=n[n.length-1];let o=e.nextSibling;for(;o&&"listItem"==o.name&&o.getAttribute("listIndent")>e.getAttribute("listIndent");)n.push(o),o=o.nextSibling;this._indentBy<0&&(n=n.reverse());for(const e of n){const n=e.getAttribute("listIndent")+this._indentBy;n<0?t.rename(e,"paragraph"):t.setAttribute("listIndent",n,e)}})}_checkEnabled(){const t=bu(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("listItem"))return!1;if(this._indentBy>0){const e=t.getAttribute("listIndent"),n=t.getAttribute("listType");let o=t.previousSibling;for(;o&&o.is("listItem")&&o.getAttribute("listIndent")>=e;){if(o.getAttribute("listIndent")==e)return o.getAttribute("listType")==n;o=o.previousSibling}return!1}return!0}}function Am(){const t=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||t?0:null}function Cm(t,e,n){const o=n.consumable;if(!o.test(e.item,"insert")||!o.test(e.item,"attribute:listType")||!o.test(e.item,"attribute:listIndent"))return;o.consume(e.item,"insert"),o.consume(e.item,"attribute:listType"),o.consume(e.item,"attribute:listIndent");const i=e.item;Fm(i,function(t,e){const n=e.mapper,o=e.writer,i="numbered"==t.getAttribute("listType")?"ol":"ul",r=function(t){const e=t.createContainerElement("li");return e.getFillerOffset=Am,e}(o),s=o.createContainerElement(i,null);return o.insert($o.createAt(s),r),n.bindElements(t,r),r}(i,n),n)}function Tm(t,e,n){const o=n.mapper.toViewPosition(e.position).getLastMatchingPosition(t=>!t.item.is("li")).nodeAfter,i=n.writer;i.breakContainer($o.createBefore(o)),i.breakContainer($o.createAfter(o));const r=o.parent,s=r.previousSibling,a=Qo.createOn(r),c=i.remove(a);s&&s.nextSibling&&Vm(i,s,s.nextSibling),zm(n.mapper.toModelElement(o).getAttribute("listIndent")+1,e.position,a.start,o,n);for(const t of Qo.createIn(c).getItems())n.mapper.unbindViewElement(t);t.stop()}function Mm(t,e,n){if(!n.consumable.consume(e.item,"attribute:listType"))return;const o=n.mapper.toViewElement(e.item),i=n.writer;i.breakContainer($o.createBefore(o)),i.breakContainer($o.createAfter(o));let r=o.parent;const s="numbered"==e.attributeNewValue?"ol":"ul";Vm(i,r=i.rename(s,r),r.nextSibling),Vm(i,r.previousSibling,r);for(const t of e.item.getChildren())n.consumable.consume(t,"insert")}function Pm(t,e,n){if(!n.consumable.consume(e.item,"attribute:listIndent"))return;const o=n.mapper.toViewElement(e.item),i=n.writer;i.breakContainer($o.createBefore(o)),i.breakContainer($o.createAfter(o));const r=o.parent,s=r.previousSibling,a=Qo.createOn(r);i.remove(a),s&&s.nextSibling&&Vm(i,s,s.nextSibling),zm(e.attributeOldValue+1,e.range.start,a.start,o,n),Fm(e.item,o,n);for(const t of e.item.getChildren())n.consumable.consume(t,"insert")}function Sm(t,e,n){if("listItem"!=e.item.name){let t=n.mapper.toViewPosition(e.range.start);const o=n.writer,i=[];for(;("ul"==t.parent.name||"ol"==t.parent.name)&&"li"==(t=o.breakContainer(t)).parent.name;){const e=t,n=$o.createAt(t.parent,"end");if(!e.isEqual(n)){const t=o.remove(new Qo(e,n));i.push(t)}t=$o.createAfter(t.parent)}if(i.length>0){for(let e=0;e<i.length;e++){const n=t.nodeBefore;if(t=o.insert(t,i[e]).end,e>0){const e=Vm(o,n,n.nextSibling);e&&e.parent==n&&t.offset--}}Vm(o,t.nodeBefore,t.nodeAfter)}}}function Em(t,e,n){const o=n.mapper.toViewPosition(e.position),i=o.nodeBefore,r=o.nodeAfter;Vm(n.writer,i,r)}function Im(t,e,n){if(n.consumable.consume(e.viewItem,{name:!0})){const t=n.writer,o=this.conversionApi.store,i=t.createElement("listItem");o.indent=o.indent||0,t.setAttribute("listIndent",o.indent,i);const r=e.viewItem.parent&&"ol"==e.viewItem.parent.name?"numbered":"bulleted";t.setAttribute("listType",r,i),o.indent++;const s=n.splitToAllowedParent(i,e.modelCursor);if(!s)return;t.insert(i,s.position);let a=Hs.createAfter(i);for(const t of e.viewItem.getChildren())"ul"==t.name||"ol"==t.name?a=n.convertItem(t,a).modelCursor:n.convertItem(t,Hs.createAt(i,"end"));o.indent--,e.modelRange=new qs(e.modelCursor,a),s.cursorParent?e.modelCursor=Hs.createAt(s.cursorParent):e.modelCursor=e.modelRange.end}}function Nm(t,e,n){if(n.consumable.test(e.viewItem,{name:!0})){const t=Array.from(e.viewItem.getChildren());for(const e of t)e.is("li")||e._remove()}}function Om(t,e,n){if(n.consumable.test(e.viewItem,{name:!0})){if(0===e.viewItem.childCount)return;const t=[...e.viewItem.getChildren()];let n=!1,o=!0;for(const e of t)!n||e.is("ul")||e.is("ol")||e._remove(),e.is("text")?(o&&(e._data=e.data.replace(/^\s+/,"")),(!e.nextSibling||e.nextSibling.is("ul")||e.nextSibling.is("ol"))&&(e._data=e.data.replace(/\s+$/,""))):(e.is("ul")||e.is("ol"))&&(n=!0),o=!1}}function Rm(t,e){if(e.isPhantom)return;const n=e.modelPosition.nodeBefore;if(n&&n.is("listItem")){const t=e.mapper.toViewElement(n),o=t.getAncestors().find(t=>t.is("ul")||t.is("ol")),i=new Go({startPosition:$o.createAt(t,0)});for(const t of i){if("elementStart"==t.type&&t.item.is("li")){e.viewPosition=t.previousPosition;break}if("elementEnd"==t.type&&t.item==o){e.viewPosition=t.nextPosition;break}}}}function Dm(t,e){const n=e.viewPosition,o=n.parent,i=e.mapper;if("ul"==o.name||"ol"==o.name){if(n.isAtEnd){const t=i.toModelElement(n.nodeBefore),o=i.getModelLength(n.nodeBefore);e.modelPosition=Hs.createBefore(t).getShiftedBy(o)}else{const t=i.toModelElement(n.nodeAfter);e.modelPosition=Hs.createBefore(t)}t.stop()}else if("li"==o.name&&n.nodeBefore&&("ul"==n.nodeBefore.name||"ol"==n.nodeBefore.name)){const r=i.toModelElement(o);let s=1,a=n.nodeBefore;for(;a&&(a.is("ul")||a.is("ol"));)s+=i.getModelLength(a),a=a.previousSibling;e.modelPosition=Hs.createBefore(r).getShiftedBy(s),t.stop()}}function jm(t,[e,n]){let o,i=e.is("documentFragment")?e.getChild(0):e;if(o=n?new Js(n):this.document.selection,i&&i.is("listItem")){const t=o.getFirstPosition();let e=null;if(t.parent.is("listItem")?e=t.parent:t.nodeBefore&&t.nodeBefore.is("listItem")&&(e=t.nodeBefore),e){const t=e.getAttribute("listIndent");if(t>0)for(;i&&i.is("listItem");)i._setAttribute("listIndent",i.getAttribute("listIndent")+t),i=i.nextSibling}}}function Lm(t,e){const n=!!e.sameIndent,o=!!e.smallerIndent,i=t instanceof Fs?t.getAttribute("listIndent"):e.listIndent;let r=t instanceof Fs?t.previousSibling:t.nodeBefore;for(;r&&"listItem"==r.name;){const t=r.getAttribute("listIndent");if(n&&i==t||o&&i>t)return r;r=r.previousSibling}return null}function Vm(t,e,n){return e&&n&&("ul"==e.name||"ol"==e.name)&&e.name==n.name?t.mergeContainers($o.createAfter(e)):null}function Fm(t,e,n){const o=e.parent,i=n.mapper,r=n.writer;let s=i.toViewPosition(Hs.createBefore(t));const a=Lm(t,{sameIndent:!0,smallerIndent:!0}),c=t.previousSibling;if(a&&a.getAttribute("listIndent")==t.getAttribute("listIndent")){const t=i.toViewElement(a);s=r.breakContainer($o.createAfter(t))}else s=c&&"listItem"==c.name?i.toViewPosition(Hs.createAt(c,"end")):i.toViewPosition(Hs.createBefore(t));if(s=Bm(s),r.insert(s,o),c&&"listItem"==c.name){const t=i.toViewElement(c),n=new Go({boundaries:new Qo($o.createAt(t,0),s),ignoreElementEnd:!0});for(const t of n)if(t.item.is("li")){const o=r.breakContainer($o.createBefore(t.item)),i=t.item.parent,s=$o.createAt(e,"end");Vm(r,s.nodeBefore,s.nodeAfter),r.move(Qo.createOn(i),s),n.position=o}}else{const n=o.nextSibling;if(n&&(n.is("ul")||n.is("ol"))){let o=null;for(const e of n.getChildren()){const n=i.toModelElement(e);if(!(n&&n.getAttribute("listIndent")>t.getAttribute("listIndent")))break;o=e}o&&(r.breakContainer($o.createAfter(o)),r.move(Qo.createOn(o.parent),$o.createAt(e,"end")))}}Vm(r,o,o.nextSibling),Vm(r,o.previousSibling,o)}function zm(t,e,n,o,i){const r=Lm(e,{sameIndent:!0,smallerIndent:!0,listIndent:t}),s=i.mapper,a=i.writer,c=r?r.getAttribute("listIndent"):null;let l;if(r)if(c==t){const t=s.toViewElement(r).parent;l=$o.createAfter(t)}else{const t=Hs.createAt(r,"end");l=s.toViewPosition(t)}else l=n;l=Bm(l);for(const t of[...o.getChildren()])(t.is("ul")||t.is("ol"))&&(l=a.move(Qo.createOn(t),l).end,Vm(a,t,t.nextSibling),Vm(a,t.previousSibling,t))}function Bm(t){return t.getLastMatchingPosition(t=>t.item.is("uiElement"))}class Um extends Ul{static get requires(){return[Qh]}init(){const t=this.editor;t.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const e=t.data,n=t.editing;t.model.document.registerPostFixer(e=>(function(t,e){const n=t.document.differ.getChanges(),o=new Map;let i=!1;for(const t of n)if("insert"==t.type&&"listItem"==t.name)r(t.position);else if("insert"==t.type&&"listItem"!=t.name){if("$text"!=t.name){const n=t.position.nodeAfter;n.hasAttribute("listIndent")&&(e.removeAttribute("listIndent",n),i=!0),n.hasAttribute("listType")&&(e.removeAttribute("listType",n),i=!0)}r(t.position.getShiftedBy(t.length))}else"remove"==t.type&&"listItem"==t.name?r(t.position):"attribute"==t.type&&"listIndent"==t.attributeKey?r(t.range.start):"attribute"==t.type&&"listType"==t.attributeKey&&r(t.range.start);for(const t of o.values())s(t),a(t);return i;function r(t){const e=t.nodeBefore;if(e&&e.is("listItem")){let n=e;if(o.has(n))return;for(;n.previousSibling&&n.previousSibling.is("listItem");)if(n=n.previousSibling,o.has(n))return;o.set(t.nodeBefore,n)}else{const e=t.nodeAfter;e&&e.is("listItem")&&o.set(e,e)}}function s(t){let n=0,o=null;for(;t&&t.is("listItem");){const r=t.getAttribute("listIndent");if(r>n){let s;null===o?(o=r-n,s=n):(o>r&&(o=r),s=r-o),e.setAttribute("listIndent",s,t),i=!0}else o=null,n=t.getAttribute("listIndent")+1;t=t.nextSibling}}function a(t){let n=[],o=null;for(;t&&t.is("listItem");){const r=t.getAttribute("listIndent");if(o&&o.getAttribute("listIndent")>r&&(n=n.slice(0,r+1)),0!=r)if(n[r]){const o=n[r];t.getAttribute("listType")!=o&&(e.setAttribute("listType",o,t),i=!0)}else n[r]=t.getAttribute("listType");o=t,t=t.nextSibling}}})(t.model,e)),n.mapper.registerViewToModelLength("li",Hm),e.mapper.registerViewToModelLength("li",Hm),n.mapper.on("modelToViewPosition",Rm),n.mapper.on("viewToModelPosition",Dm),e.mapper.on("modelToViewPosition",Rm),n.downcastDispatcher.on("insert",Sm,{priority:"high"}),n.downcastDispatcher.on("insert:listItem",Cm),e.downcastDispatcher.on("insert",Sm,{priority:"high"}),e.downcastDispatcher.on("insert:listItem",Cm),n.downcastDispatcher.on("attribute:listType:listItem",Mm),e.downcastDispatcher.on("attribute:listType:listItem",Mm),n.downcastDispatcher.on("attribute:listIndent:listItem",Pm),e.downcastDispatcher.on("attribute:listIndent:listItem",Pm),n.downcastDispatcher.on("remove:listItem",Tm),n.downcastDispatcher.on("remove",Em,{priority:"low"}),e.downcastDispatcher.on("remove:listItem",Tm),e.downcastDispatcher.on("remove",Em,{priority:"low"}),e.upcastDispatcher.on("element:ul",Nm,{priority:"high"}),e.upcastDispatcher.on("element:ol",Nm,{priority:"high"}),e.upcastDispatcher.on("element:li",Om,{priority:"high"}),e.upcastDispatcher.on("element:li",Im),t.model.on("insertContent",jm,{priority:"high"}),t.commands.add("numberedList",new vm(t,"numbered")),t.commands.add("bulletedList",new vm(t,"bulleted")),t.commands.add("indentList",new xm(t,"forward")),t.commands.add("outdentList",new xm(t,"backward"));const o=this.editor.editing.view.document;this.listenTo(o,"enter",(t,e)=>{const n=this.editor.model.document,o=n.selection.getLastPosition().parent;n.selection.isCollapsed&&"listItem"==o.name&&o.isEmpty&&(this.editor.execute("outdentList"),e.preventDefault(),t.stop())}),this.listenTo(o,"delete",(t,e)=>{if("backward"!==e.direction)return;const n=this.editor.model.document.selection;if(!n.isCollapsed)return;const o=n.getFirstPosition();if(!o.isAtStart)return;const i=o.parent;"listItem"===i.name&&(i.previousSibling&&"listItem"===i.previousSibling.name||(this.editor.execute("outdentList"),e.preventDefault(),t.stop()))},{priority:"high"});const i=t=>(e,n)=>{this.editor.commands.get(t).isEnabled&&(this.editor.execute(t),n())};this.editor.keystrokes.set("Tab",i("indentList")),this.editor.keystrokes.set("Shift+Tab",i("outdentList"))}}function Hm(t){let e=1;for(const n of t.getChildren())if("ul"==n.name||"ol"==n.name)for(const t of n.getChildren())e+=Hm(t);return e}var qm=n(33),Wm=n.n(qm),Ym=n(34),Gm=n.n(Ym);class $m extends Ul{init(){const t=this.editor.t;this._addButton("numberedList",t("o"),Wm.a),this._addButton("bulletedList",t("p"),Gm.a)}_addButton(t,e,n){const o=this.editor;o.ui.componentFactory.add(t,i=>{const r=o.commands.get(t),s=new Fd(i);return s.set({label:e,icon:n,tooltip:!0}),s.bind("isOn","isEnabled").to(r,"value","isEnabled"),this.listenTo(s,"execute",()=>o.execute(t)),s})}}function Qm(t,e){return t=>{t.on("attribute:url:media",n)};function n(n,o,i){if(!i.consumable.consume(o.item,n.name))return;const r=o.attributeNewValue,s=i.writer,a=i.mapper.toViewElement(o.item);s.remove(Qo.createIn(a));const c=t.getMediaViewElement(s,r,e);s.insert($o.createAt(a),c)}}const Jm=Symbol("isMedia");function Km(t,e,n,o){const i=t.createContainerElement("figure",{class:"media"});return i.getFillerOffset=Xm,t.insert($o.createAt(i),e.getMediaViewElement(t,n,o)),i}function Zm(t){const e=t.getSelectedElement();return e&&e.is("media")?e:null}function Xm(){return null}class tg extends Gl{refresh(){const t=this.editor.model,e=t.document.selection,n=t.schema,o=e.getFirstPosition(),i=Zm(e);let r=o.parent;r!=r.root&&(r=r.parent),this.value=i?i.getAttribute("url"):null,this.isEnabled=n.checkChild(r,"media")}execute(t){const e=this.editor.model,n=e.document.selection,o=Zm(n);if(o)e.change(e=>{e.setAttribute("url",t,o)});else{const o=Ku(n);e.change(n=>{const i=n.createElement("media",{url:t});e.insertContent(i,o),n.setSelection(i,"on")})}}}var eg=n(35),ng=n.n(eg);const og="0 0 64 42";class ig{constructor(t,e){const n=e.providers,o=e.extraProviders||[],i=new Set(e.removeProviders),r=n.concat(o).filter(t=>{const e=t.name;return e?!i.has(e):(fs.a.warn("media-embed-no-provider-name: The configured media provider has no name and cannot be used.",{provider:t}),!1)});this.locale=t,this.providerDefinitions=r}hasMedia(t){return!!this._getMedia(t)}getMediaViewElement(t,e,n){return this._getMedia(e).getViewElement(t,n)}_getMedia(t){if(!t)return new rg(this.locale);t=t.trim();for(const e of this.providerDefinitions){const n=e.html;let o=e.url;Array.isArray(o)||(o=[o]);for(const e of o){const o=this._getUrlMatches(t,e);if(o)return new rg(this.locale,t,o,n)}}return null}_getUrlMatches(t,e){let n=t.match(e);if(n)return n;let o=t.replace(/^https?:\/\//,"");return(n=o.match(e))?n:(n=(o=o.replace(/^www\./,"")).match(e))||null}}class rg{constructor(t,e,n,o){this.url=this._getValidUrl(e),this._t=t.t,this._match=n,this._previewRenderer=o}getViewElement(t,e){const n={};if(e.renderForEditingView||e.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),e.renderForEditingView&&(n.class="ck-media__wrapper");const o=this._getPreviewHtml(e);return t.createUIElement("div",n,function(t){const e=this.toDomElement(t);return e.innerHTML=o,e})}return this.url&&(n.url=this.url),t.createEmptyElement("oembed",n)}_getPreviewHtml(t){return this._previewRenderer?this._previewRenderer(this._match):this.url&&t.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const t=new Vd,e=new Ld;return t.text=this._t("Open media in new tab"),e.content=ng.a,e.viewBox=og,new sl({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"new",href:this.url},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]},t]}]}).render().outerHTML}_getValidUrl(t){return t?t.match(/^https?/)?t:"https://"+t:null}}n(100);class sg extends Ul{constructor(t){super(t),t.config.define("mediaEmbed",{providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:t=>{return'<div style="position: relative; padding-bottom: 100%; height: 0; ">'+`<iframe src="https://www.dailymotion.com/embed/video/${t[1]}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>'}},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:t=>{return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;">'+`<iframe src="https://open.spotify.com/embed/${t[1]}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>'}},{name:"youtube",url:[/^youtube\.com\/watch\?v=([\w-]+)/,/^youtube\.com\/v\/([\w-]+)/,/^youtube\.com\/embed\/([\w-]+)/,/^youtu\.be\/([\w-]+)/],html:t=>{return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">'+`<iframe src="https://www.youtube.com/embed/${t[1]}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>'}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:t=>{return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">'+`<iframe src="https://player.vimeo.com/video/${t[1]}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>'}},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:/^google\.com\/maps/},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new ig(t.locale,t.config.get("mediaEmbed"))}init(){const t=this.editor,e=t.model.schema,n=t.t,o=t.conversion,i=t.config.get("mediaEmbed.previewsInData"),r=this.registry;t.commands.add("mediaEmbed",new tg(t)),e.register("media",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["url"]}),o.for("dataDowncast").add(aa({model:"media",view:(t,e)=>{const n=t.getAttribute("url");return Km(e,r,n,{renderMediaPreview:n&&i})}})),o.for("dataDowncast").add(Qm(r,{renderMediaPreview:i})),o.for("editingDowncast").add(aa({model:"media",view:(t,e)=>{const o=t.getAttribute("url");return function(t,e,n){return e.setCustomProperty(Jm,!0,t),$u(t,e,{label:n})}(Km(e,r,o,{renderForEditingView:!0}),e,n("ak"))}})),o.for("editingDowncast").add(Qm(r,{renderForEditingView:!0})),o.for("upcast").add(Oa({view:{name:"oembed",attributes:{url:!0}},model:(t,e)=>{const n=t.getAttribute("url");if(r.hasMedia(n))return e.createElement("media",{url:n})}})).add(Oa({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(t,e)=>{const n=t.getAttribute("data-oembed-url");if(r.hasMedia(n))return e.createElement("media",{url:n})}}))}}const ag=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=]+$/;class cg extends Ul{static get requires(){return[Yl,Wd]}static get pluginName(){return"AutoMediaEmbed"}constructor(t){super(t),this._timeoutId=null,this._positionToInsert=null}init(){const t=this.editor,e=t.model.document;this.listenTo(t.plugins.get(Yl),"inputTransformation",()=>{const t=e.selection.getFirstRange(),n=Pc.createFromPosition(t.start);n.stickiness="toPrevious";const o=Pc.createFromPosition(t.end);o.stickiness="toNext",e.once("change:data",()=>{this._embedMediaBetweenPositions(n,o),n.detach(),o.detach()},{priority:"high"})}),t.commands.get("undo").on("execute",()=>{this._timeoutId&&(Ki.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(t,e){const n=this.editor,o=n.plugins.get(sg).registry,i=new Xs(t,e),r=new zs({boundaries:i,ignoreElementEnd:!0});let s="";for(const t of r)t.item.is("textProxy")&&(s+=t.item.data);(s=s.trim()).match(ag)&&o.hasMedia(s)&&(this._positionToInsert=Pc.createFromPosition(t),this._timeoutId=Ki.window.setTimeout(()=>{n.model.change(t=>{this._timeoutId=null,t.remove(i),"$graveyard"!==this._positionToInsert.root.rootName&&t.setSelection(this._positionToInsert),n.commands.execute("mediaEmbed",s),this._positionToInsert.detach(),this._positionToInsert=null})},100))}}n(102);class lg extends Al{constructor(t,e){super(e);const n=e.t;this.focusTracker=new Zc,this.keystrokes=new Uc,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("au"),gh.a,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("av"),bh.a,"ck-button-cancel","cancel"),this._focusables=new el,this._focusCycler=new jl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=t,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),fh({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element);const t=t=>t.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t),this.listenTo(this.urlInputView.element,"selectstart",(t,e)=>{e.stopPropagation()},{priority:"high"})}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.inputView.element.value.trim()}set url(t){this.urlInputView.inputView.element.value=t.trim()}isValid(){this.resetErrors();for(const t of this._validators){const e=t(this);if(e)return this.urlInputView.errorText=e,!1}return!0}resetErrors(){this.urlInputView.errorText=!1}_createUrlInput(){const t=this.locale.t,e=new uh(this.locale,hh);return e.label=t("aw"),e.inputView.placeholder="https://example.com",e}_createButton(t,e,n,o){const i=new Fd(this.locale);return i.set({label:t,icon:e,tooltip:!0}),i.extendTemplate({attributes:{class:n}}),o&&i.delegate("execute").to(this,o),i}}var dg=n(36),ug=n.n(dg);class hg extends Ul{static get requires(){return[sg]}init(){const t=this.editor,e=t.commands.get("mediaEmbed"),n=t.plugins.get(sg).registry;t.ui.componentFactory.add("mediaEmbed",o=>{const i=new lg(function(t,e){return[e=>{if(!e.url.length)return t("am")},n=>{if(!e.hasMedia(n.url))return t("an")}]}(t.t,n),o),r=ff(o);return this._setUpDropdown(r,i,e,t),this._setUpForm(i,r,e),r})}_setUpDropdown(t,e,n){const o=this.editor,i=o.t,r=t.buttonView;function s(){o.editing.view.focus(),t.isOpen=!1}t.bind("isEnabled").to(n),t.panelView.children.add(e),r.set({label:i("al"),icon:ug.a,tooltip:!0}),r.on("open",()=>{e.url=n.value||"",e.urlInputView.select(),e.focus()},{priority:"low"}),t.on("submit",()=>{e.isValid()&&(o.execute("mediaEmbed",e.url),s())}),t.on("change:isOpen",()=>e.resetErrors()),t.on("cancel",()=>s())}_setUpForm(t,e,n){t.delegate("submit","cancel").to(e),t.urlInputView.bind("value").to(n,"value"),t.urlInputView.bind("isReadOnly").to(n,"isEnabled",t=>!t),t.saveButtonView.bind("isEnabled").to(n)}}function fg(t,e){let n=e.parent;for(;n;){if(n.name===t)return n;n=n.parent}}function mg(t,e,n,o,i=1){e>i?o.setAttribute(t,e,n):o.removeAttribute(t,n)}function gg(t,e,n={}){const o=t.createElement("tableCell",n);t.insertElement("paragraph",o),t.insert(o,e)}function pg(){return t=>{t.on("element:table",(t,e,n)=>{const o=e.viewItem;if(!n.consumable.test(o,{name:!0}))return;const{rows:i,headingRows:r,headingColumns:s}=function(t){const e={headingRows:0,headingColumns:0},n=[],o=[];let i;for(const r of Array.from(t.getChildren()))if("tbody"===r.name||"thead"===r.name||"tfoot"===r.name){"thead"!==r.name||i||(i=r);for(const t of Array.from(r.getChildren()))if("thead"===t.parent.name&&t.parent===i)e.headingRows++,n.push(t);else{o.push(t);const n=wg(t);n>e.headingColumns&&(e.headingColumns=n)}}return e.rows=[...n,...o],e}(o),a={};s&&(a.headingColumns=s),r&&(a.headingRows=r);const c=n.writer.createElement("table",a),l=n.splitToAllowedParent(c,e.modelCursor);if(l){if(n.writer.insert(c,l.position),n.consumable.consume(o,{name:!0}),i.length)i.forEach(t=>n.convertItem(t,Hs.createAt(c,"end")));else{const t=n.writer.createElement("tableRow");n.writer.insert(t,Hs.createAt(c,"end")),gg(n.writer,Hs.createAt(t,"end"))}e.modelRange=new qs(Hs.createBefore(c),Hs.createAfter(c)),l.cursorParent?e.modelCursor=Hs.createAt(l.cursorParent):e.modelCursor=e.modelRange.end}})}}function bg(t){return e=>{e.on(`element:${t}`,(t,e,n)=>{const o=e.viewItem;if(!n.consumable.test(o,{name:!0}))return;const i=n.writer.createElement("tableCell"),r=n.splitToAllowedParent(i,e.modelCursor);if(!r)return;n.writer.insert(i,r.position),n.consumable.consume(o,{name:!0});const s=Hs.createAt(i);n.convertChildren(o,s),i.childCount||n.writer.insertElement("paragraph",s),e.modelRange=new qs(Hs.createBefore(i),Hs.createAfter(i)),e.modelCursor=e.modelRange.end})}}function wg(t){let e=0,n=0;const o=Array.from(t.getChildren()).filter(t=>"th"===t.name||"td"===t.name);for(;n<o.length&&"th"===o[n].name;){const t=o[n];e+=parseInt(t.getAttribute("colspan")||1),n++}return e}class _g{constructor(t,e={}){this.table=t,this.startRow=e.startRow||0,this.endRow="number"==typeof e.endRow?e.endRow:void 0,this.includeSpanned=!!e.includeSpanned,this.column="number"==typeof e.column?e.column:void 0,this._skipRows=new Set,this._row=0,this._column=0,this._cell=0,this._spannedCells=new Map}[Symbol.iterator](){return this}next(){const t=this.table.getChild(this._row);if(!t||this._isOverEndRow())return{done:!0};if(this._isSpanned(this._row,this._column)){const t=this._column,e=this._formatOutValue(void 0,t);return this._column++,!this.includeSpanned||this._shouldSkipRow()||this._shouldSkipColumn(t,1)?this.next():e}const e=t.getChild(this._cell);if(!e)return this._row++,this._column=0,this._cell=0,this.next();const n=parseInt(e.getAttribute("colspan")||1),o=parseInt(e.getAttribute("rowspan")||1);(n>1||o>1)&&this._recordSpans(this._row,this._column,o,n);const i=this._column,r=this._formatOutValue(e,i,o,n);return this._column++,this._cell++,this._shouldSkipRow()||this._shouldSkipColumn(i,n)?this.next():r}skipRow(t){this._skipRows.add(t)}_isOverEndRow(){return void 0!==this.endRow&&this._row>this.endRow}_formatOutValue(t,e,n=1,o=1){return{done:!1,value:{cell:t,row:this._row,column:e,rowspan:n,colspan:o,cellIndex:this._cell}}}_shouldSkipRow(){const t=this._row<this.startRow,e=this._skipRows.has(this._row);return t||e}_shouldSkipColumn(t,e){if(void 0===this.column)return!1;const n=t===this.column,o=t<this.column&&t+e>this.column;return!n&&!o}_isSpanned(t,e){if(!this._spannedCells.has(t))return!1;return this._spannedCells.get(t).has(e)}_recordSpans(t,e,n,o){for(let n=e+1;n<=e+o-1;n++)this._markSpannedCell(t,n);for(let i=t+1;i<t+n;i++)for(let t=e;t<=e+o-1;t++)this._markSpannedCell(i,t)}_markSpannedCell(t,e){this._spannedCells.has(t)||this._spannedCells.set(t,new Map),this._spannedCells.get(t).set(e,!0)}}const vg=Symbol("isTable");function kg(t){return!!t.getCustomProperty(vg)&&Gu(t)}function yg(t){const e=t.getSelectedElement();return!(!e||!kg(e))}function xg(t){const e=fg("table",t.getFirstPosition());return!(!e||!kg(e.parent))}function Ag(t={}){return e=>e.on("insert:table",(e,n,o)=>{const i=n.item;if(!o.consumable.consume(i,"insert"))return;o.consumable.consume(i,"attribute:headingRows:table"),o.consumable.consume(i,"attribute:headingColumns:table");const r=t&&t.asWidget,s=o.writer.createContainerElement("figure",{class:"table"}),a=o.writer.createContainerElement("table");let c;o.writer.insert($o.createAt(s),a),r&&(c=function(t,e){return e.setCustomProperty(vg,!0,t),$u(t,e,{hasSelectionHandler:!0})}(s,o.writer));const l=new _g(i),d={headingRows:i.getAttribute("headingRows")||0,headingColumns:i.getAttribute("headingColumns")||0};for(const e of l){const{row:n,cell:r}=e,s=Dg(Rg(n,d),a,o),c=Ng(i.getChild(n),n,s,o);o.consumable.consume(r,"insert"),Ig(e,d,$o.createAt(c,"end"),o,t)}const u=o.mapper.toViewPosition(n.range.start);o.mapper.bindElements(i,r?c:s),o.writer.insert(u,r?c:s)})}function Cg(t={}){return e=>e.on("insert:tableRow",(e,n,o)=>{const i=n.item;if(!o.consumable.consume(i,"insert"))return;const r=i.parent,s=Fg(o.mapper.toViewElement(r)),a=r.getChildIndex(i),c=new _g(r,{startRow:a,endRow:a}),l={headingRows:r.getAttribute("headingRows")||0,headingColumns:r.getAttribute("headingColumns")||0};for(const e of c){const n=Ng(i,a,Dg(Rg(a,l),s,o),o);o.consumable.consume(e.cell,"insert"),Ig(e,l,$o.createAt(n,"end"),o,t)}})}function Tg(t={}){return e=>e.on("insert:tableCell",(e,n,o)=>{const i=n.item;if(!o.consumable.consume(i,"insert"))return;const r=i.parent,s=r.parent,a=s.getChildIndex(r),c=new _g(s,{startRow:a,endRow:a}),l={headingRows:s.getAttribute("headingRows")||0,headingColumns:s.getAttribute("headingColumns")||0};for(const e of c)if(e.cell===i){const n=o.mapper.toViewElement(r);return void Ig(e,l,$o.createAt(n,r.getChildIndex(i)),o,t)}})}function Mg(t={}){const e=!!t.asWidget;return t=>t.on("attribute:headingRows:table",(t,n,o)=>{const i=n.item;if(!o.consumable.consume(n.item,t.name))return;const r=Fg(o.mapper.toViewElement(i)),s=n.attributeOldValue,a=n.attributeNewValue;if(a>s){const t=Array.from(i.getChildren()).filter(({index:t})=>c(t,s-1,a));Vg(t,Dg("thead",r,o),o,"end");for(const n of t)for(const t of n.getChildren())Sg(t,"th",o,e);Lg("tbody",r,o)}else{Vg(Array.from(i.getChildren()).filter(({index:t})=>c(t,a-1,s)).reverse(),Dg("tbody",r,o),o);const t=new _g(i,{startRow:a?a-1:a,endRow:s-1}),n={headingRows:i.getAttribute("headingRows")||0,headingColumns:i.getAttribute("headingColumns")||0};for(const i of t)Eg(i,n,o,e);Lg("thead",r,o)}function c(t,e,n){return t>e&&t<n}})}function Pg(t={}){const e=!!t.asWidget;return t=>t.on("attribute:headingColumns:table",(t,n,o)=>{const i=n.item;if(!o.consumable.consume(n.item,t.name))return;const r={headingRows:i.getAttribute("headingRows")||0,headingColumns:i.getAttribute("headingColumns")||0},s=n.attributeOldValue,a=n.attributeNewValue,c=(s>a?s:a)-1;for(const t of new _g(i))t.column>c||Eg(t,r,o,e)})}function Sg(t,e,n,o){const i=n.mapper.toViewElement(t);if(!i)return;let r;if(o){r=Ju(n.writer.createEditableElement(e,i.getAttributes()),n.writer),n.writer.insert($o.createAfter(i),r),n.writer.move(Qo.createIn(i),$o.createAt(r)),n.writer.remove(Qo.createOn(i))}else r=n.writer.rename(e,i);n.mapper.bindElements(t,r)}function Eg(t,e,n,o){const{cell:i}=t,r=Og(t,e),s=n.mapper.toViewElement(i);s&&s.name!==r&&Sg(i,r,n,o)}function Ig(t,e,n,o,i){const r=i&&i.asWidget,s=Og(t,e),a=r?Ju(o.writer.createEditableElement(s),o.writer):o.writer.createContainerElement(s),c=t.cell,l=1===c.childCount&&"paragraph"===c.getChild(0).name;if(o.writer.insert(n,a),l){const t=c.getChild(0),e=$o.createAt(a,"end");if(o.consumable.consume(t,"insert"),i.asWidget){const n=[...t.getAttributeKeys()].length?"p":"span",i=o.writer.createContainerElement(n);o.mapper.bindElements(t,i),o.writer.insert(e,i),o.mapper.bindElements(c,a)}else o.mapper.bindElements(c,a),o.mapper.bindElements(t,a)}else o.mapper.bindElements(c,a)}function Ng(t,e,n,o){let i=o.mapper.toViewElement(t);if(!i){o.consumable.consume(t,"insert"),i=o.writer.createContainerElement("tr"),o.mapper.bindElements(t,i);const r=t.parent.getAttribute("headingRows")||0,s=r>0&&e>=r?e-r:e,a=$o.createAt(n,s);o.writer.insert(a,i)}return i}function Og(t,e){const{row:n,column:o}=t,{headingColumns:i,headingRows:r}=e;return r&&r>n?"th":i&&i>o?"th":"td"}function Rg(t,e){return t<e.headingRows?"thead":"tbody"}function Dg(t,e,n){const o=jg(t,e);return o||function(t,e,n){const o=n.writer.createContainerElement(t);return n.writer.insert($o.createAt(e,"tbody"==t?"end":"start"),o),o}(t,e,n)}function jg(t,e){for(const n of e.getChildren())if(n.name==t)return n}function Lg(t,e,n){const o=jg(t,e);o&&0===o.childCount&&n.writer.remove(Qo.createOn(o))}function Vg(t,e,n,o){for(const i of t){const t=n.mapper.toViewElement(i);t&&n.writer.move(Qo.createOn(t),$o.createAt(e,o))}}function Fg(t){for(const e of t.getChildren())if("table"===e.name)return e}class zg extends Ul{static get pluginName(){return"TableUtils"}getCellLocation(t){const e=t.parent,n=e.parent,o=n.getChildIndex(e),i=new _g(n,{startRow:o,endRow:o});for(const{cell:e,row:n,column:o}of i)if(e===t)return{row:n,column:o}}createTable(t,e,n){const o=t.createElement("table");return Bg(t,o,0,e,n),o}insertRows(t,e={}){const n=this.editor.model,o=e.at||0,i=e.rows||1;n.change(e=>{const n=t.getAttribute("headingRows")||0;if(n>o&&e.setAttribute("headingRows",n+i,t),0===o||o===t.childCount)return void Bg(e,t,o,i,this.getColumns(t));const r=new _g(t,{endRow:o});let s=0;for(const{row:t,rowspan:n,colspan:a,cell:c}of r){t<o&&t+n>o&&e.setAttribute("rowspan",n+i,c),t===o&&(s+=a)}Bg(e,t,o,i,s)})}insertColumns(t,e={}){const n=this.editor.model,o=e.at||0,i=e.columns||1;n.change(e=>{const n=t.getAttribute("headingColumns");o<n&&e.setAttribute("headingColumns",n+i,t);const r=this.getColumns(t);if(0===o||r===o){for(const n of t.getChildren())Ug(i,e,Hs.createAt(n,o?"end":0));return}const s=new _g(t,{column:o,includeSpanned:!0});for(const{row:n,column:r,cell:a,colspan:c,rowspan:l,cellIndex:d}of s)if(r!==o){if(e.setAttribute("colspan",c+i,a),s.skipRow(n),l>1)for(let t=n+1;t<n+l;t++)s.skipRow(t)}else{const o=Hs.createFromParentAndOffset(t.getChild(n),d);Ug(i,e,o)}})}splitCellVertically(t,e=2){const n=this.editor.model,o=t.parent.parent,i=parseInt(t.getAttribute("rowspan")||1),r=parseInt(t.getAttribute("colspan")||1);n.change(n=>{if(r>1){const{newCellsSpan:o,updatedSpan:s}=Hg(r,e);mg("colspan",s,t,n);const a={};o>1&&(a.colspan=o),i>1&&(a.rowspan=i),Ug(r>e?e-1:r-1,n,Hs.createAfter(t),a)}if(r<e){const s=e-r,a=[...new _g(o)],{column:c}=a.find(({cell:e})=>e===t),l=a.filter(({cell:e,colspan:n,column:o})=>{return e!==t&&o===c||o<c&&o+n>c});for(const{cell:t,colspan:e}of l)n.setAttribute("colspan",e+s,t);const d={};i>1&&(d.rowspan=i),Ug(s,n,Hs.createAfter(t),d);const u=o.getAttribute("headingColumns")||0;u>c&&mg("headingColumns",u+s,o,n)}})}splitCellHorizontally(t,e=2){const n=this.editor.model,o=t.parent,i=o.parent,r=i.getChildIndex(o),s=parseInt(t.getAttribute("rowspan")||1),a=parseInt(t.getAttribute("colspan")||1);n.change(n=>{if(s>1){const o=[...new _g(i,{startRow:r,endRow:r+s-1,includeSpanned:!0})],{newCellsSpan:c,updatedSpan:l}=Hg(s,e);mg("rowspan",l,t,n);const{column:d}=o.find(({cell:e})=>e===t),u={};c>1&&(u.rowspan=c),a>1&&(u.colspan=a);for(const{column:t,row:e,cellIndex:s}of o){if(e>=r+l&&t===d&&(e+r+l)%c==0){Ug(1,n,Hs.createFromParentAndOffset(i.getChild(e),s),u)}}}if(s<e){const o=e-s,c=[...new _g(i,{startRow:0,endRow:r})];for(const{cell:e,rowspan:i,row:s}of c)if(e!==t&&s+i>r){const t=i+o;n.setAttribute("rowspan",t,e)}const l={};a>1&&(l.colspan=a),Bg(n,i,r+1,o,1,l);const d=i.getAttribute("headingRows")||0;d>r&&mg("headingRows",d+o,i,n)}})}getColumns(t){return[...t.getChild(0).getChildren()].reduce((t,e)=>{return t+parseInt(e.getAttribute("colspan")||1)},0)}}function Bg(t,e,n,o,i,r={}){for(let s=0;s<o;s++){const o=t.createElement("tableRow");t.insert(o,e,n),Ug(i,t,Hs.createAt(o,"end"),r)}}function Ug(t,e,n,o={}){for(let i=0;i<t;i++)gg(e,n,o)}function Hg(t,e){if(t<e)return{newCellsSpan:1,updatedSpan:1};const n=Math.floor(t/e);return{newCellsSpan:n,updatedSpan:t-n*e+n}}class qg extends Gl{refresh(){const t=this.editor.model,e=t.document.selection,n=t.schema,o=function(t){const e=t.parent;return e===e.root?e:e.parent}(e.getFirstPosition());this.isEnabled=n.checkChild(o,"table")}execute(t={}){const e=this.editor.model,n=e.document.selection,o=this.editor.plugins.get(zg),i=parseInt(t.rows)||2,r=parseInt(t.columns)||2,s=Ku(n);e.change(t=>{const n=o.createTable(t,i,r);e.insertContent(n,s),t.setSelection(Hs.createAt(n.getChild(0).getChild(0).getChild(0)))})}}class Wg extends Gl{constructor(t,e={}){super(t),this.order=e.order||"below"}refresh(){const t=fg("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!t}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get(zg),o=fg("tableCell",e.getFirstPosition()).parent,i=o.parent,r=i.getChildIndex(o),s="below"===this.order?r+1:r;n.insertRows(i,{rows:1,at:s})}}class Yg extends Gl{constructor(t,e={}){super(t),this.order=e.order||"after"}refresh(){const t=fg("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!t}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get(zg),o=fg("tableCell",e.getFirstPosition()),i=o.parent.parent,{column:r}=n.getCellLocation(o),s="after"===this.order?r+1:r;n.insertColumns(i,{columns:1,at:s})}}class Gg extends Gl{constructor(t,e={}){super(t),this.direction=e.direction||"horizontally"}refresh(){const t=fg("tableCell",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!t}execute(){const t=fg("tableCell",this.editor.model.document.selection.getFirstPosition()),e="horizontally"===this.direction,n=this.editor.plugins.get(zg);e?n.splitCellHorizontally(t,2):n.splitCellVertically(t,2)}}class $g extends Gl{constructor(t,e){super(t),this.direction=e.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){const t=this._getMergeableCell();this.isEnabled=!!t,this.value=t}execute(){const t=this.editor.model,e=fg("tableCell",t.document.selection.getFirstPosition()),n=this.value,o=this.direction;t.change(t=>{const i="right"==o||"down"==o,r=i?e:n,s=i?n:e,a=s.parent;!function(t,e,n){Qg(t)||(Qg(e)&&n.remove(qs.createIn(e)),n.move(qs.createIn(t),Hs.createAt(e,"end")));n.remove(t)}(s,r,t);const c=this.isHorizontal?"colspan":"rowspan",l=parseInt(e.getAttribute(c)||1),d=parseInt(n.getAttribute(c)||1);t.setAttribute(c,l+d,r),t.setSelection(qs.createIn(r)),a.childCount||function(t,e){const n=t.parent,o=n.getChildIndex(t);for(const{cell:t,row:i,rowspan:r}of new _g(n,{endRow:o})){const n=i+r-1>=o;n&&mg("rowspan",r-1,t,e)}e.remove(t)}(a,t)})}_getMergeableCell(){const t=fg("tableCell",this.editor.model.document.selection.getFirstPosition());if(!t)return;const e=this.editor.plugins.get(zg),n=this.isHorizontal?function(t,e,n){const o="right"==e?t.nextSibling:t.previousSibling;if(!o)return;const i="right"==e?t:o,r="right"==e?o:t,{column:s}=n.getCellLocation(i),{column:a}=n.getCellLocation(r),c=parseInt(i.getAttribute("colspan")||1);return s+c===a?o:void 0}(t,this.direction,e):function(t,e){const n=t.parent,o=n.parent,i=o.getChildIndex(n);if("down"==e&&i===o.childCount-1||"up"==e&&0===i)return;const r=parseInt(t.getAttribute("rowspan")||1),s=o.getAttribute("headingRows")||0;if(s&&("down"==e&&i+r===s||"up"==e&&i===s))return;const a=parseInt(t.getAttribute("rowspan")||1),c="down"==e?i+a:i,l=[...new _g(o,{endRow:c})],d=l.find(e=>e.cell===t).column,u=l.find(({row:t,rowspan:n,column:o})=>o===d&&("down"==e?t===c:c===t+n));return u&&u.cell}(t,this.direction);if(!n)return;const o=this.isHorizontal?"rowspan":"colspan",i=parseInt(t.getAttribute(o)||1);return parseInt(n.getAttribute(o)||1)===i?n:void 0}}function Qg(t){return 1==t.childCount&&t.getChild(0).is("paragraph")&&t.getChild(0).isEmpty}class Jg extends Gl{refresh(){const t=fg("tableCell",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!t&&t.parent.parent.childCount>1}execute(){const t=this.editor.model,e=fg("tableCell",t.document.selection.getFirstPosition()).parent,n=e.parent,o=n.getChildIndex(e),i=n.getAttribute("headingRows")||0;t.change(t=>{i&&o<=i&&mg("headingRows",i-1,n,t,0);const r=[...new _g(n,{endRow:o})],s=new Map;r.filter(({row:t,rowspan:e})=>t===o&&e>1).forEach(({column:t,cell:e,rowspan:n})=>s.set(t,{cell:e,rowspanToSet:n-1})),r.filter(({row:t,rowspan:e})=>t<=o-1&&t+e>o).forEach(({cell:e,rowspan:n})=>mg("rowspan",n-1,e,t));const a=o+1,c=new _g(n,{includeSpanned:!0,startRow:a,endRow:a});let l;for(const{row:e,column:o,cell:i}of[...c])if(s.has(o)){const{cell:i,rowspanToSet:r}=s.get(o),a=l?Hs.createAfter(l):Hs.createAt(n.getChild(e));t.move(qs.createOn(i),a),mg("rowspan",r,i,t),l=i}else l=i;t.remove(e)})}}class Kg extends Gl{refresh(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get(zg),o=fg("tableCell",e.getFirstPosition());this.isEnabled=!!o&&n.getColumns(o.parent.parent)>1}execute(){const t=this.editor.model,e=fg("tableCell",t.document.selection.getFirstPosition()),n=e.parent,o=n.parent,i=o.getAttribute("headingColumns")||0,r=o.getChildIndex(n),s=[...new _g(o)],a=s.find(t=>t.cell===e).column;t.change(t=>{i&&r<=i&&t.setAttribute("headingColumns",i-1,o);for(const{cell:e,column:n,colspan:o}of s)n<=a&&o>1&&n+o>a?mg("colspan",o-1,e,t):n===a&&t.remove(e)})}}class Zg extends Gl{refresh(){const t=fg("tableCell",this.editor.model.document.selection.getFirstPosition()),e=!!t;this.isEnabled=e,this.value=e&&this._isInHeading(t,t.parent.parent)}execute(){const t=this.editor.model,e=fg("tableCell",t.document.selection.getFirstPosition()).parent,n=e.parent,o=n.getAttribute("headingRows")||0,i=e.index,r=o>i?i:i+1;t.change(t=>{if(r){const e=function(t,e,n){const o=[],i=new _g(t,{startRow:e>n?n:0,endRow:e-1});for(const{row:t,rowspan:n,cell:r}of i)n>1&&t+n>e&&o.push(r);return o}(n,r,o);for(const n of e)Xg(n,r,t)}mg("headingRows",r,n,t,0)})}_isInHeading(t,e){const n=parseInt(e.getAttribute("headingRows")||0);return!!n&&t.parent.index<n}}function Xg(t,e,n){const o=t.parent,i=o.parent,r=e-o.index,s={},a=parseInt(t.getAttribute("rowspan"))-r;a>1&&(s.rowspan=a);const c=i.getChildIndex(o),l=c+r,d=[...new _g(i,{startRow:c,endRow:l,includeSpanned:!0})];let u;for(const{row:e,column:o,cell:r,colspan:a,cellIndex:c}of d)if(r===t&&(u=o,a>1&&(s.colspan=a)),void 0!==u&&u===o&&e===l){const t=i.getChild(e);gg(n,Hs.createFromParentAndOffset(t,c),s)}mg("rowspan",r,t,n)}class tp extends Gl{refresh(){const t=fg("tableCell",this.editor.model.document.selection.getFirstPosition()),e=!!t;this.isEnabled=e,this.value=e&&this._isInHeading(t,t.parent.parent)}execute(){const t=this.editor.model,e=t.document.selection,n=this.editor.plugins.get("TableUtils"),o=fg("tableCell",e.getFirstPosition().parent),i=o.parent.parent,r=parseInt(i.getAttribute("headingColumns")||0),{column:s}=n.getCellLocation(o),a=r>s?s:s+1;t.change(t=>{mg("headingColumns",a,i,t,0)})}_isInHeading(t,e){const n=parseInt(e.getAttribute("headingColumns")||0),o=this.editor.plugins.get("TableUtils"),{column:i}=o.getCellLocation(t);return!!n&&i<n}}function ep(t){t.document.registerPostFixer(e=>(function(t,e){const n=e.document.differ.getChanges();let o=!1;const i=new Set;for(const e of n){let n;"table"==e.name&&"insert"==e.type&&(n=e.position.nodeAfter),"tableRow"!=e.name&&"tableCell"!=e.name||(n=fg("table",e.position)),ip(e)&&(n=fg("table",e.range.start)),n&&!i.has(n)&&(o=np(n,t)||o,o=op(n,t)||o,i.add(n))}return o})(e,t))}function np(t,e){let n=!1;const o=function(t){const e=parseInt(t.getAttribute("headingRows")||0),n=t.childCount,o=[];for(const{row:i,rowspan:r,cell:s}of new _g(t)){if(r<2)continue;const t=i<e,a=t?e:n;if(i+r>a){const t=a-i;o.push({cell:s,rowspan:t})}}return o}(t);if(o.length){n=!0;for(const t of o)mg("rowspan",t.rowspan,t.cell,e,1)}return n}function op(t,e){let n=!1;const o=function(t){const e={};for(const{row:n}of new _g(t,{includeSpanned:!0}))e[n]||(e[n]=0),e[n]+=1;return e}(t),i=o[0];if(!Object.values(o).every(t=>t===i)){const i=Object.values(o).reduce((t,e)=>e>t?e:t,0);for(const[r,s]of Object.entries(o)){const o=i-s;if(o){for(let n=0;n<o;n++)gg(e,Hs.createAt(t.getChild(r),"end"));n=!0}}}return n}function ip(t){const e="attribute"===t.type,n=t.attributeKey;return e&&("headingRows"===n||"colspan"===n||"rowspan"===n)}function rp(t){t.document.registerPostFixer(e=>(function(t,e){const n=e.document.differ.getChanges();let o=!1;for(const e of n)"remove"==e.type&&e.position.parent.is("tableCell")&&(o=cp(e.position.parent,t)||o),"insert"==e.type&&("table"==e.name&&(o=sp(e.position.nodeAfter,t)||o),"tableRow"==e.name&&(o=ap(e.position.nodeAfter,t)||o),"tableCell"==e.name&&(o=cp(e.position.nodeAfter,t)||o));return o})(e,t))}function sp(t,e){let n=!1;for(const o of t.getChildren())n=ap(o,e)||n;return n}function ap(t,e){let n=!1;for(const o of t.getChildren())n=cp(o,e)||n;return n}function cp(t,e){return 0==t.childCount&&(e.insertElement("paragraph",t),!0)}function lp(t,e){e.view.document.registerPostFixer(n=>(function(t,e,n,o){let i=!1;const r=function(t){const e=Array.from(t._renderer.markedAttributes).filter(t=>!!t.parent).filter(up).filter(t=>hp(t.parent)),n=Array.from(t._renderer.markedChildren).filter(t=>!!t.parent).filter(hp).reduce((t,e)=>{const n=Array.from(e.getChildren()).filter(up);return[...t,...n]},[]);return[...e,...n]}(o);for(const e of r)i=dp(e,n,t)||i;i&&function(t,e,n){const o=Array.from(t.getRanges()).map(t=>e.toViewRange(t));n.setSelection(o,{backward:t.isBackward})}(e.document.selection,n,t);return i})(n,t,e.mapper,e.view))}function dp(t,e,n){const o=e.toModelElement(t),i=function(t,e){const n=t.childCount>1,o=!![...e.getAttributes()].length;return n||o?"p":"span"}(o.parent,o);if(t.name!==i){e.unbindViewElement(t);const r=n.rename(i,t);return e.bindElements(o,r),!0}return!1}function up(t){return t.is("p")||t.is("span")}function hp(t){return t.is("td")||t.is("th")}n(104);class fp extends Ul{init(){const t=this.editor,e=t.model,n=e.schema,o=t.conversion;n.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isLimit:!0,isObject:!0}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0}),n.extend("$block",{allowIn:"tableCell"}),n.addChildCheck((t,e)=>{if("table"==e.name&&Array.from(t.getNames()).includes("table"))return!1}),n.addChildCheck((t,e)=>{if(Array.from(t.getNames()).includes("table"))return"image"!=e.name&&"media"!=e.name&&void 0}),o.for("upcast").add(pg()),o.for("editingDowncast").add(Ag({asWidget:!0})),o.for("dataDowncast").add(Ag()),o.for("upcast").add(Oa({model:"tableRow",view:"tr"})),o.for("editingDowncast").add(Cg({asWidget:!0})),o.for("dataDowncast").add(Cg()),o.for("downcast").add(t=>t.on("remove:tableRow",(t,e,n)=>{t.stop();const o=n.mapper.toViewPosition(e.position).getLastMatchingPosition(t=>!t.item.is("tr")).nodeAfter,i=o.parent,r=Qo.createOn(o),s=n.writer.remove(r);for(const t of Qo.createIn(s).getItems())n.mapper.unbindViewElement(t);i.childCount||n.writer.remove(Qo.createOn(i))},{priority:"higher"})),o.for("upcast").add(bg("td")),o.for("upcast").add(bg("th")),o.for("editingDowncast").add(Tg({asWidget:!0})),o.for("dataDowncast").add(Tg()),o.attributeToAttribute({model:"colspan",view:"colspan"}),o.attributeToAttribute({model:"rowspan",view:"rowspan"}),o.for("editingDowncast").add(Pg({asWidget:!0})),o.for("dataDowncast").add(Pg()),o.for("editingDowncast").add(Mg({asWidget:!0})),o.for("dataDowncast").add(Mg()),lp(t.model,t.editing),t.commands.add("insertTable",new qg(t)),t.commands.add("insertTableRowAbove",new Wg(t,{order:"above"})),t.commands.add("insertTableRowBelow",new Wg(t,{order:"below"})),t.commands.add("insertTableColumnBefore",new Yg(t,{order:"before"})),t.commands.add("insertTableColumnAfter",new Yg(t,{order:"after"})),t.commands.add("removeTableRow",new Jg(t)),t.commands.add("removeTableColumn",new Kg(t)),t.commands.add("splitTableCellVertically",new Gg(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new Gg(t,{direction:"horizontally"})),t.commands.add("mergeTableCellRight",new $g(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new $g(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new $g(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new $g(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new tp(t)),t.commands.add("setTableRowHeader",new Zg(t)),ep(e),rp(e),this.editor.keystrokes.set("Tab",(...t)=>this._handleTabOnSelectedTable(...t),{priority:"low"}),this.editor.keystrokes.set("Tab",this._getTabHandler(!0),{priority:"low"}),this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(!1),{priority:"low"})}static get requires(){return[zg]}_handleTabOnSelectedTable(t,e){const n=this.editor,o=n.model.document.selection;if(!o.isCollapsed&&1===o.rangeCount&&o.getFirstRange().isFlat){const t=o.getSelectedElement();if(!t||!t.is("table"))return;e(),n.model.change(e=>{e.setSelection(qs.createIn(t.getChild(0).getChild(0)))})}}_getTabHandler(t){const e=this.editor;return(n,o)=>{const i=fg("tableCell",e.model.document.selection.getFirstPosition());if(!i)return;o();const r=i.parent,s=r.parent,a=s.getChildIndex(r),c=r.getChildIndex(i),l=0===c;if(!t&&l&&0===a)return;const d=c===r.childCount-1,u=a===s.childCount-1;let h;if(t&&u&&d&&e.plugins.get(zg).insertRows(s,{at:s.childCount}),t&&d){const t=s.getChild(a+1);h=t.getChild(0)}else if(!t&&l){const t=s.getChild(a-1);h=t.getChild(t.childCount-1)}else h=r.getChild(c+(t?1:-1));e.model.change(t=>{t.setSelection(qs.createIn(h))})}}}n(106);class mp extends Al{constructor(t){super(t);const e=this.bindTemplate;this.items=this.createCollection(),this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(t,e)=>`${e} x ${t}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},children:this.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:e.to("label")}]}],on:{mousedown:e.to(t=>{t.preventDefault()}),click:e.to(()=>{this.fire("execute")})}});for(let t=0;t<100;t++){const e=new gp;e.on("over",()=>{const e=Math.floor(t/10),n=t%10;this.set("rows",e+1),this.set("columns",n+1)}),this.items.add(e)}this.on("change:columns",()=>{this._highlightGridBoxes()}),this.on("change:rows",()=>{this._highlightGridBoxes()})}focus(){}focusLast(){}_highlightGridBoxes(){const t=this.rows,e=this.columns;this.items.map((n,o)=>{const i=Math.floor(o/10)<t&&o%10<e;n.set("isOn",i)})}}class gp extends Al{constructor(t){super(t);const e=this.bindTemplate;this.set("isOn",!1),this.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",e.if("isOn","ck-on")]},on:{mouseover:e.to("over")}})}}var pp=n(37),bp=n.n(pp),wp=n(38),_p=n.n(wp),vp=n(39),kp=n.n(vp),yp=n(40),xp=n.n(yp);class Ap extends Ul{init(){const t=this.editor,e=this.editor.t;t.ui.componentFactory.add("insertTable",n=>{const o=t.commands.get("insertTable"),i=ff(n);i.bind("isEnabled").to(o),i.buttonView.set({icon:bp.a,label:e("s"),tooltip:!0});const r=new mp(n);return i.panelView.children.add(r),r.delegate("execute").to(i),i.buttonView.on("open",()=>{r.rows=0,r.columns=0}),i.on("execute",()=>{t.execute("insertTable",{rows:r.rows,columns:r.columns}),t.editing.view.focus()}),i}),t.ui.componentFactory.add("tableColumn",t=>{const n=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:e("t"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableColumnBefore",label:e("u")}},{type:"button",model:{commandName:"insertTableColumnAfter",label:e("v")}},{type:"button",model:{commandName:"removeTableColumn",label:e("w")}}];return this._prepareDropdown(e("x"),_p.a,n,t)}),t.ui.componentFactory.add("tableRow",t=>{const n=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:e("y"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowBelow",label:e("z")}},{type:"button",model:{commandName:"insertTableRowAbove",label:e("aa")}},{type:"button",model:{commandName:"removeTableRow",label:e("ab")}}];return this._prepareDropdown(e("ac"),kp.a,n,t)}),t.ui.componentFactory.add("mergeTableCells",t=>{const n=[{type:"button",model:{commandName:"mergeTableCellUp",label:e("ad")}},{type:"button",model:{commandName:"mergeTableCellRight",label:e("ae")}},{type:"button",model:{commandName:"mergeTableCellDown",label:e("af")}},{type:"button",model:{commandName:"mergeTableCellLeft",label:e("ag")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:e("ah")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:e("ai")}}];return this._prepareDropdown(e("aj"),xp.a,n,t)})}_prepareDropdown(t,e,n,o){const i=this.editor,r=ff(o),s=[],a=new ti;for(const t of n)Cp(t,i,s,a);return mf(r,a),r.buttonView.set({label:t,icon:e,tooltip:!0}),r.bind("isEnabled").toMany(s,"isEnabled",(...t)=>t.some(t=>t)),this.listenTo(r,"execute",t=>{i.execute(t.source.commandName),i.editing.view.focus()}),r}}function Cp(t,e,n,o){const i=t.model=new nf(t.model),{commandName:r,bindIsOn:s}=t.model;if("separator"!==t.type){const t=e.commands.get(r);n.push(t),i.set({commandName:r}),i.bind("isEnabled").to(t),s&&i.bind("isOn").to(t,"value")}i.set({withText:!0}),o.add(t)}n(108);n.d(e,"default",function(){return Tp});class Tp extends Bl{}Tp.builtinPlugins=[class extends Ul{static get requires(){return[Yl,Zl,nd,_d,Wd]}static get pluginName(){return"Essentials"}},class extends Ul{static get requires(){return[$d]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const t=this.editor.config.get("ckfinder.uploadUrl");t&&(this.editor.plugins.get($d).createUploadAdapter=(e=>new tu(e,t,this.editor.t)))}},class extends Ul{static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats()}_addListAutoformats(){const t=this.editor.commands;t.get("bulletedList")&&new eu(this.editor,/^[*-]\s$/,"bulletedList"),t.get("numberedList")&&new eu(this.editor,/^\d+[.|)]\s$/,"numberedList")}_addBasicStylesAutoformats(){const t=this.editor.commands;t.get("bold")&&(new nu(this.editor,/(\*\*)([^*]+)(\*\*)$/g,"bold"),new nu(this.editor,/(__)([^_]+)(__)$/g,"bold")),t.get("italic")&&(new nu(this.editor,/(?:^|[^*])(\*)([^*_]+)(\*)$/g,"italic"),new nu(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,"italic")),t.get("code")&&new nu(this.editor,/(`)([^`]+)(`)$/g,"code")}_addHeadingAutoformats(){const t=this.editor.commands.get("heading");t&&t.modelElements.filter(t=>t.match(/^heading[1-6]$/)).forEach(t=>{const e=t[7],n=new RegExp(`^(#{${e}})\\s$`);new eu(this.editor,n,()=>{this.editor.execute("heading",{value:t})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&new eu(this.editor,/^>\s$/,"blockQuote")}},class extends Ul{static get requires(){return[su,du]}static get pluginName(){return"Bold"}},class extends Ul{static get requires(){return[hu,pu]}static get pluginName(){return"Italic"}},class extends Ul{static get requires(){return[yu,Cu]}static get pluginName(){return"BlockQuote"}},class extends Ul{static get requires(){return[Ou,Ch,Yh]}static get pluginName(){return"EasyImage"}},class extends Ul{static get requires(){return[ef,gf]}static get pluginName(){return"Heading"}},Ch,class extends Ul{static get requires(){return[yf]}static get pluginName(){return"ImageCaption"}},class extends Ul{static get requires(){return[Bf,Uf]}static get pluginName(){return"ImageStyle"}},class extends Ul{static get requires(){return[Hf]}static get pluginName(){return"ImageToolbar"}afterInit(){const t=this.editor;t.plugins.get(Hf).register("image",{items:t.config.get("image.toolbar")||[],visibleWhen:th})}},Yh,class extends Ul{static get requires(){return[am,wm]}static get pluginName(){return"Link"}},class extends Ul{static get requires(){return[Um,$m]}static get pluginName(){return"List"}},class extends Ul{static get requires(){return[sg,hg,cg,sh]}static get pluginName(){return"MediaEmbed"}},Qh,class extends Ul{static get requires(){return[fp,Ap,sh]}static get pluginName(){return"Table"}},class extends Ul{static get requires(){return[Hf]}static get pluginName(){return"TableToolbar"}afterInit(){const t=this.editor,e=t.plugins.get(Hf),n=t.config.get("table.contentToolbar"),o=t.config.get("table.toolbar"),i=t.config.get("table.tableToolbar");o&&console.warn("`config.table.toolbar` is deprecated and will be removed in the next major release. Use `config.table.contentToolbar` instead."),(n||o)&&e.register("tableContent",{items:n||o,visibleWhen:xg}),i&&e.register("table",{items:i,visibleWhen:yg})}}],Tp.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","imageUpload","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:full","imageStyle:side","|","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}}]).default});
//# sourceMappingURL=ckeditor.js.map

/***/ }),

/***/ "./node_modules/jquery/dist/jquery.js":
/*!********************************************!*\
  !*** ./node_modules/jquery/dist/jquery.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
( function( global, factory ) {

	"use strict";

	if (  true && typeof module.exports === "object" ) {

		// For CommonJS and CommonJS-like environments where a proper `window`
		// is present, execute the factory and get jQuery.
		// For environments that do not have a `window` with a `document`
		// (such as Node.js), expose a factory as module.exports.
		// This accentuates the need for the creation of a real `window`.
		// e.g. var jQuery = require("jquery")(window);
		// See ticket #14549 for more info.
		module.exports = global.document ?
			factory( global, true ) :
			function( w ) {
				if ( !w.document ) {
					throw new Error( "jQuery requires a window with a document" );
				}
				return factory( w );
			};
	} else {
		factory( global );
	}

// Pass this if window is not defined yet
} )( typeof window !== "undefined" ? window : this, function( window, noGlobal ) {

// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1
// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode
// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common
// enough that all such attempts are guarded in a try block.
"use strict";

var arr = [];

var document = window.document;

var getProto = Object.getPrototypeOf;

var slice = arr.slice;

var concat = arr.concat;

var push = arr.push;

var indexOf = arr.indexOf;

var class2type = {};

var toString = class2type.toString;

var hasOwn = class2type.hasOwnProperty;

var fnToString = hasOwn.toString;

var ObjectFunctionString = fnToString.call( Object );

var support = {};

var isFunction = function isFunction( obj ) {

      // Support: Chrome <=57, Firefox <=52
      // In some browsers, typeof returns "function" for HTML <object> elements
      // (i.e., `typeof document.createElement( "object" ) === "function"`).
      // We don't want to classify *any* DOM node as a function.
      return typeof obj === "function" && typeof obj.nodeType !== "number";
  };


var isWindow = function isWindow( obj ) {
		return obj != null && obj === obj.window;
	};




	var preservedScriptAttributes = {
		type: true,
		src: true,
		noModule: true
	};

	function DOMEval( code, doc, node ) {
		doc = doc || document;

		var i,
			script = doc.createElement( "script" );

		script.text = code;
		if ( node ) {
			for ( i in preservedScriptAttributes ) {
				if ( node[ i ] ) {
					script[ i ] = node[ i ];
				}
			}
		}
		doc.head.appendChild( script ).parentNode.removeChild( script );
	}


function toType( obj ) {
	if ( obj == null ) {
		return obj + "";
	}

	// Support: Android <=2.3 only (functionish RegExp)
	return typeof obj === "object" || typeof obj === "function" ?
		class2type[ toString.call( obj ) ] || "object" :
		typeof obj;
}
/* global Symbol */
// Defining this global in .eslintrc.json would create a danger of using the global
// unguarded in another place, it seems safer to define global only for this module



var
	version = "3.3.1",

	// Define a local copy of jQuery
	jQuery = function( selector, context ) {

		// The jQuery object is actually just the init constructor 'enhanced'
		// Need init if jQuery is called (just allow error to be thrown if not included)
		return new jQuery.fn.init( selector, context );
	},

	// Support: Android <=4.0 only
	// Make sure we trim BOM and NBSP
	rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;

jQuery.fn = jQuery.prototype = {

	// The current version of jQuery being used
	jquery: version,

	constructor: jQuery,

	// The default length of a jQuery object is 0
	length: 0,

	toArray: function() {
		return slice.call( this );
	},

	// Get the Nth element in the matched element set OR
	// Get the whole matched element set as a clean array
	get: function( num ) {

		// Return all the elements in a clean array
		if ( num == null ) {
			return slice.call( this );
		}

		// Return just the one element from the set
		return num < 0 ? this[ num + this.length ] : this[ num ];
	},

	// Take an array of elements and push it onto the stack
	// (returning the new matched element set)
	pushStack: function( elems ) {

		// Build a new jQuery matched element set
		var ret = jQuery.merge( this.constructor(), elems );

		// Add the old object onto the stack (as a reference)
		ret.prevObject = this;

		// Return the newly-formed element set
		return ret;
	},

	// Execute a callback for every element in the matched set.
	each: function( callback ) {
		return jQuery.each( this, callback );
	},

	map: function( callback ) {
		return this.pushStack( jQuery.map( this, function( elem, i ) {
			return callback.call( elem, i, elem );
		} ) );
	},

	slice: function() {
		return this.pushStack( slice.apply( this, arguments ) );
	},

	first: function() {
		return this.eq( 0 );
	},

	last: function() {
		return this.eq( -1 );
	},

	eq: function( i ) {
		var len = this.length,
			j = +i + ( i < 0 ? len : 0 );
		return this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );
	},

	end: function() {
		return this.prevObject || this.constructor();
	},

	// For internal use only.
	// Behaves like an Array's method, not like a jQuery method.
	push: push,
	sort: arr.sort,
	splice: arr.splice
};

jQuery.extend = jQuery.fn.extend = function() {
	var options, name, src, copy, copyIsArray, clone,
		target = arguments[ 0 ] || {},
		i = 1,
		length = arguments.length,
		deep = false;

	// Handle a deep copy situation
	if ( typeof target === "boolean" ) {
		deep = target;

		// Skip the boolean and the target
		target = arguments[ i ] || {};
		i++;
	}

	// Handle case when target is a string or something (possible in deep copy)
	if ( typeof target !== "object" && !isFunction( target ) ) {
		target = {};
	}

	// Extend jQuery itself if only one argument is passed
	if ( i === length ) {
		target = this;
		i--;
	}

	for ( ; i < length; i++ ) {

		// Only deal with non-null/undefined values
		if ( ( options = arguments[ i ] ) != null ) {

			// Extend the base object
			for ( name in options ) {
				src = target[ name ];
				copy = options[ name ];

				// Prevent never-ending loop
				if ( target === copy ) {
					continue;
				}

				// Recurse if we're merging plain objects or arrays
				if ( deep && copy && ( jQuery.isPlainObject( copy ) ||
					( copyIsArray = Array.isArray( copy ) ) ) ) {

					if ( copyIsArray ) {
						copyIsArray = false;
						clone = src && Array.isArray( src ) ? src : [];

					} else {
						clone = src && jQuery.isPlainObject( src ) ? src : {};
					}

					// Never move original objects, clone them
					target[ name ] = jQuery.extend( deep, clone, copy );

				// Don't bring in undefined values
				} else if ( copy !== undefined ) {
					target[ name ] = copy;
				}
			}
		}
	}

	// Return the modified object
	return target;
};

jQuery.extend( {

	// Unique for each copy of jQuery on the page
	expando: "jQuery" + ( version + Math.random() ).replace( /\D/g, "" ),

	// Assume jQuery is ready without the ready module
	isReady: true,

	error: function( msg ) {
		throw new Error( msg );
	},

	noop: function() {},

	isPlainObject: function( obj ) {
		var proto, Ctor;

		// Detect obvious negatives
		// Use toString instead of jQuery.type to catch host objects
		if ( !obj || toString.call( obj ) !== "[object Object]" ) {
			return false;
		}

		proto = getProto( obj );

		// Objects with no prototype (e.g., `Object.create( null )`) are plain
		if ( !proto ) {
			return true;
		}

		// Objects with prototype are plain iff they were constructed by a global Object function
		Ctor = hasOwn.call( proto, "constructor" ) && proto.constructor;
		return typeof Ctor === "function" && fnToString.call( Ctor ) === ObjectFunctionString;
	},

	isEmptyObject: function( obj ) {

		/* eslint-disable no-unused-vars */
		// See https://github.com/eslint/eslint/issues/6125
		var name;

		for ( name in obj ) {
			return false;
		}
		return true;
	},

	// Evaluates a script in a global context
	globalEval: function( code ) {
		DOMEval( code );
	},

	each: function( obj, callback ) {
		var length, i = 0;

		if ( isArrayLike( obj ) ) {
			length = obj.length;
			for ( ; i < length; i++ ) {
				if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {
					break;
				}
			}
		} else {
			for ( i in obj ) {
				if ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {
					break;
				}
			}
		}

		return obj;
	},

	// Support: Android <=4.0 only
	trim: function( text ) {
		return text == null ?
			"" :
			( text + "" ).replace( rtrim, "" );
	},

	// results is for internal usage only
	makeArray: function( arr, results ) {
		var ret = results || [];

		if ( arr != null ) {
			if ( isArrayLike( Object( arr ) ) ) {
				jQuery.merge( ret,
					typeof arr === "string" ?
					[ arr ] : arr
				);
			} else {
				push.call( ret, arr );
			}
		}

		return ret;
	},

	inArray: function( elem, arr, i ) {
		return arr == null ? -1 : indexOf.call( arr, elem, i );
	},

	// Support: Android <=4.0 only, PhantomJS 1 only
	// push.apply(_, arraylike) throws on ancient WebKit
	merge: function( first, second ) {
		var len = +second.length,
			j = 0,
			i = first.length;

		for ( ; j < len; j++ ) {
			first[ i++ ] = second[ j ];
		}

		first.length = i;

		return first;
	},

	grep: function( elems, callback, invert ) {
		var callbackInverse,
			matches = [],
			i = 0,
			length = elems.length,
			callbackExpect = !invert;

		// Go through the array, only saving the items
		// that pass the validator function
		for ( ; i < length; i++ ) {
			callbackInverse = !callback( elems[ i ], i );
			if ( callbackInverse !== callbackExpect ) {
				matches.push( elems[ i ] );
			}
		}

		return matches;
	},

	// arg is for internal usage only
	map: function( elems, callback, arg ) {
		var length, value,
			i = 0,
			ret = [];

		// Go through the array, translating each of the items to their new values
		if ( isArrayLike( elems ) ) {
			length = elems.length;
			for ( ; i < length; i++ ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}

		// Go through every key on the object,
		} else {
			for ( i in elems ) {
				value = callback( elems[ i ], i, arg );

				if ( value != null ) {
					ret.push( value );
				}
			}
		}

		// Flatten any nested arrays
		return concat.apply( [], ret );
	},

	// A global GUID counter for objects
	guid: 1,

	// jQuery.support is not used in Core but other projects attach their
	// properties to it so it needs to exist.
	support: support
} );

if ( typeof Symbol === "function" ) {
	jQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];
}

// Populate the class2type map
jQuery.each( "Boolean Number String Function Array Date RegExp Object Error Symbol".split( " " ),
function( i, name ) {
	class2type[ "[object " + name + "]" ] = name.toLowerCase();
} );

function isArrayLike( obj ) {

	// Support: real iOS 8.2 only (not reproducible in simulator)
	// `in` check used to prevent JIT error (gh-2145)
	// hasOwn isn't used here due to false negatives
	// regarding Nodelist length in IE
	var length = !!obj && "length" in obj && obj.length,
		type = toType( obj );

	if ( isFunction( obj ) || isWindow( obj ) ) {
		return false;
	}

	return type === "array" || length === 0 ||
		typeof length === "number" && length > 0 && ( length - 1 ) in obj;
}
var Sizzle =
/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
(function( window ) {

var i,
	support,
	Expr,
	getText,
	isXML,
	tokenize,
	compile,
	select,
	outermostContext,
	sortInput,
	hasDuplicate,

	// Local document vars
	setDocument,
	document,
	docElem,
	documentIsHTML,
	rbuggyQSA,
	rbuggyMatches,
	matches,
	contains,

	// Instance-specific data
	expando = "sizzle" + 1 * new Date(),
	preferredDoc = window.document,
	dirruns = 0,
	done = 0,
	classCache = createCache(),
	tokenCache = createCache(),
	compilerCache = createCache(),
	sortOrder = function( a, b ) {
		if ( a === b ) {
			hasDuplicate = true;
		}
		return 0;
	},

	// Instance methods
	hasOwn = ({}).hasOwnProperty,
	arr = [],
	pop = arr.pop,
	push_native = arr.push,
	push = arr.push,
	slice = arr.slice,
	// Use a stripped-down indexOf as it's faster than native
	// https://jsperf.com/thor-indexof-vs-for/5
	indexOf = function( list, elem ) {
		var i = 0,
			len = list.length;
		for ( ; i < len; i++ ) {
			if ( list[i] === elem ) {
				return i;
			}
		}
		return -1;
	},

	booleans = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",

	// Regular expressions

	// http://www.w3.org/TR/css3-selectors/#whitespace
	whitespace = "[\\x20\\t\\r\\n\\f]",

	// http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier
	identifier = "(?:\\\\.|[\\w-]|[^\0-\\xa0])+",

	// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors
	attributes = "\\[" + whitespace + "*(" + identifier + ")(?:" + whitespace +
		// Operator (capture 2)
		"*([*^$|!~]?=)" + whitespace +
		// "Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]"
		"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + identifier + "))|)" + whitespace +
		"*\\]",

	pseudos = ":(" + identifier + ")(?:\\((" +
		// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:
		// 1. quoted (capture 3; capture 4 or capture 5)
		"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|" +
		// 2. simple (capture 6)
		"((?:\\\\.|[^\\\\()[\\]]|" + attributes + ")*)|" +
		// 3. anything else (capture 2)
		".*" +
		")\\)|)",

	// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter
	rwhitespace = new RegExp( whitespace + "+", "g" ),
	rtrim = new RegExp( "^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" + whitespace + "+$", "g" ),

	rcomma = new RegExp( "^" + whitespace + "*," + whitespace + "*" ),
	rcombinators = new RegExp( "^" + whitespace + "*([>+~]|" + whitespace + ")" + whitespace + "*" ),

	rattributeQuotes = new RegExp( "=" + whitespace + "*([^\\]'\"]*?)" + whitespace + "*\\]", "g" ),

	rpseudo = new RegExp( pseudos ),
	ridentifier = new RegExp( "^" + identifier + "$" ),

	matchExpr = {
		"ID": new RegExp( "^#(" + identifier + ")" ),
		"CLASS": new RegExp( "^\\.(" + identifier + ")" ),
		"TAG": new RegExp( "^(" + identifier + "|[*])" ),
		"ATTR": new RegExp( "^" + attributes ),
		"PSEUDO": new RegExp( "^" + pseudos ),
		"CHILD": new RegExp( "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + whitespace +
			"*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" + whitespace +
			"*(\\d+)|))" + whitespace + "*\\)|)", "i" ),
		"bool": new RegExp( "^(?:" + booleans + ")$", "i" ),
		// For use in libraries implementing .is()
		// We use this for POS matching in `select`
		"needsContext": new RegExp( "^" + whitespace + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" +
			whitespace + "*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i" )
	},

	rinputs = /^(?:input|select|textarea|button)$/i,
	rheader = /^h\d$/i,

	rnative = /^[^{]+\{\s*\[native \w/,

	// Easily-parseable/retrievable ID or TAG or CLASS selectors
	rquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,

	rsibling = /[+~]/,

	// CSS escapes
	// http://www.w3.org/TR/CSS21/syndata.html#escaped-characters
	runescape = new RegExp( "\\\\([\\da-f]{1,6}" + whitespace + "?|(" + whitespace + ")|.)", "ig" ),
	funescape = function( _, escaped, escapedWhitespace ) {
		var high = "0x" + escaped - 0x10000;
		// NaN means non-codepoint
		// Support: Firefox<24
		// Workaround erroneous numeric interpretation of +"0x"
		return high !== high || escapedWhitespace ?
			escaped :
			high < 0 ?
				// BMP codepoint
				String.fromCharCode( high + 0x10000 ) :
				// Supplemental Plane codepoint (surrogate pair)
				String.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );
	},

	// CSS string/identifier serialization
	// https://drafts.csswg.org/cssom/#common-serializing-idioms
	rcssescape = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,
	fcssescape = function( ch, asCodePoint ) {
		if ( asCodePoint ) {

			// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER
			if ( ch === "\0" ) {
				return "\uFFFD";
			}

			// Control characters and (dependent upon position) numbers get escaped as code points
			return ch.slice( 0, -1 ) + "\\" + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + " ";
		}

		// Other potentially-special ASCII characters get backslash-escaped
		return "\\" + ch;
	},

	// Used for iframes
	// See setDocument()
	// Removing the function wrapper causes a "Permission Denied"
	// error in IE
	unloadHandler = function() {
		setDocument();
	},

	disabledAncestor = addCombinator(
		function( elem ) {
			return elem.disabled === true && ("form" in elem || "label" in elem);
		},
		{ dir: "parentNode", next: "legend" }
	);

// Optimize for push.apply( _, NodeList )
try {
	push.apply(
		(arr = slice.call( preferredDoc.childNodes )),
		preferredDoc.childNodes
	);
	// Support: Android<4.0
	// Detect silently failing push.apply
	arr[ preferredDoc.childNodes.length ].nodeType;
} catch ( e ) {
	push = { apply: arr.length ?

		// Leverage slice if possible
		function( target, els ) {
			push_native.apply( target, slice.call(els) );
		} :

		// Support: IE<9
		// Otherwise append directly
		function( target, els ) {
			var j = target.length,
				i = 0;
			// Can't trust NodeList.length
			while ( (target[j++] = els[i++]) ) {}
			target.length = j - 1;
		}
	};
}

function Sizzle( selector, context, results, seed ) {
	var m, i, elem, nid, match, groups, newSelector,
		newContext = context && context.ownerDocument,

		// nodeType defaults to 9, since context defaults to document
		nodeType = context ? context.nodeType : 9;

	results = results || [];

	// Return early from calls with invalid selector or context
	if ( typeof selector !== "string" || !selector ||
		nodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {

		return results;
	}

	// Try to shortcut find operations (as opposed to filters) in HTML documents
	if ( !seed ) {

		if ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {
			setDocument( context );
		}
		context = context || document;

		if ( documentIsHTML ) {

			// If the selector is sufficiently simple, try using a "get*By*" DOM method
			// (excepting DocumentFragment context, where the methods don't exist)
			if ( nodeType !== 11 && (match = rquickExpr.exec( selector )) ) {

				// ID selector
				if ( (m = match[1]) ) {

					// Document context
					if ( nodeType === 9 ) {
						if ( (elem = context.getElementById( m )) ) {

							// Support: IE, Opera, Webkit
							// TODO: identify versions
							// getElementById can match elements by name instead of ID
							if ( elem.id === m ) {
								results.push( elem );
								return results;
							}
						} else {
							return results;
						}

					// Element context
					} else {

						// Support: IE, Opera, Webkit
						// TODO: identify versions
						// getElementById can match elements by name instead of ID
						if ( newContext && (elem = newContext.getElementById( m )) &&
							contains( context, elem ) &&
							elem.id === m ) {

							results.push( elem );
							return results;
						}
					}

				// Type selector
				} else if ( match[2] ) {
					push.apply( results, context.getElementsByTagName( selector ) );
					return results;

				// Class selector
				} else if ( (m = match[3]) && support.getElementsByClassName &&
					context.getElementsByClassName ) {

					push.apply( results, context.getElementsByClassName( m ) );
					return results;
				}
			}

			// Take advantage of querySelectorAll
			if ( support.qsa &&
				!compilerCache[ selector + " " ] &&
				(!rbuggyQSA || !rbuggyQSA.test( selector )) ) {

				if ( nodeType !== 1 ) {
					newContext = context;
					newSelector = selector;

				// qSA looks outside Element context, which is not what we want
				// Thanks to Andrew Dupont for this workaround technique
				// Support: IE <=8
				// Exclude object elements
				} else if ( context.nodeName.toLowerCase() !== "object" ) {

					// Capture the context ID, setting it first if necessary
					if ( (nid = context.getAttribute( "id" )) ) {
						nid = nid.replace( rcssescape, fcssescape );
					} else {
						context.setAttribute( "id", (nid = expando) );
					}

					// Prefix every selector in the list
					groups = tokenize( selector );
					i = groups.length;
					while ( i-- ) {
						groups[i] = "#" + nid + " " + toSelector( groups[i] );
					}
					newSelector = groups.join( "," );

					// Expand context for sibling selectors
					newContext = rsibling.test( selector ) && testContext( context.parentNode ) ||
						context;
				}

				if ( newSelector ) {
					try {
						push.apply( results,
							newContext.querySelectorAll( newSelector )
						);
						return results;
					} catch ( qsaError ) {
					} finally {
						if ( nid === expando ) {
							context.removeAttribute( "id" );
						}
					}
				}
			}
		}
	}

	// All others
	return select( selector.replace( rtrim, "$1" ), context, results, seed );
}

/**
 * Create key-value caches of limited size
 * @returns {function(string, object)} Returns the Object data after storing it on itself with
 *	property name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)
 *	deleting the oldest entry
 */
function createCache() {
	var keys = [];

	function cache( key, value ) {
		// Use (key + " ") to avoid collision with native prototype properties (see Issue #157)
		if ( keys.push( key + " " ) > Expr.cacheLength ) {
			// Only keep the most recent entries
			delete cache[ keys.shift() ];
		}
		return (cache[ key + " " ] = value);
	}
	return cache;
}

/**
 * Mark a function for special use by Sizzle
 * @param {Function} fn The function to mark
 */
function markFunction( fn ) {
	fn[ expando ] = true;
	return fn;
}

/**
 * Support testing using an element
 * @param {Function} fn Passed the created element and returns a boolean result
 */
function assert( fn ) {
	var el = document.createElement("fieldset");

	try {
		return !!fn( el );
	} catch (e) {
		return false;
	} finally {
		// Remove from its parent by default
		if ( el.parentNode ) {
			el.parentNode.removeChild( el );
		}
		// release memory in IE
		el = null;
	}
}

/**
 * Adds the same handler for all of the specified attrs
 * @param {String} attrs Pipe-separated list of attributes
 * @param {Function} handler The method that will be applied
 */
function addHandle( attrs, handler ) {
	var arr = attrs.split("|"),
		i = arr.length;

	while ( i-- ) {
		Expr.attrHandle[ arr[i] ] = handler;
	}
}

/**
 * Checks document order of two siblings
 * @param {Element} a
 * @param {Element} b
 * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b
 */
function siblingCheck( a, b ) {
	var cur = b && a,
		diff = cur && a.nodeType === 1 && b.nodeType === 1 &&
			a.sourceIndex - b.sourceIndex;

	// Use IE sourceIndex if available on both nodes
	if ( diff ) {
		return diff;
	}

	// Check if b follows a
	if ( cur ) {
		while ( (cur = cur.nextSibling) ) {
			if ( cur === b ) {
				return -1;
			}
		}
	}

	return a ? 1 : -1;
}

/**
 * Returns a function to use in pseudos for input types
 * @param {String} type
 */
function createInputPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return name === "input" && elem.type === type;
	};
}

/**
 * Returns a function to use in pseudos for buttons
 * @param {String} type
 */
function createButtonPseudo( type ) {
	return function( elem ) {
		var name = elem.nodeName.toLowerCase();
		return (name === "input" || name === "button") && elem.type === type;
	};
}

/**
 * Returns a function to use in pseudos for :enabled/:disabled
 * @param {Boolean} disabled true for :disabled; false for :enabled
 */
function createDisabledPseudo( disabled ) {

	// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable
	return function( elem ) {

		// Only certain elements can match :enabled or :disabled
		// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled
		// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled
		if ( "form" in elem ) {

			// Check for inherited disabledness on relevant non-disabled elements:
			// * listed form-associated elements in a disabled fieldset
			//   https://html.spec.whatwg.org/multipage/forms.html#category-listed
			//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled
			// * option elements in a disabled optgroup
			//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled
			// All such elements have a "form" property.
			if ( elem.parentNode && elem.disabled === false ) {

				// Option elements defer to a parent optgroup if present
				if ( "label" in elem ) {
					if ( "label" in elem.parentNode ) {
						return elem.parentNode.disabled === disabled;
					} else {
						return elem.disabled === disabled;
					}
				}

				// Support: IE 6 - 11
				// Use the isDisabled shortcut property to check for disabled fieldset ancestors
				return elem.isDisabled === disabled ||

					// Where there is no isDisabled, check manually
					/* jshint -W018 */
					elem.isDisabled !== !disabled &&
						disabledAncestor( elem ) === disabled;
			}

			return elem.disabled === disabled;

		// Try to winnow out elements that can't be disabled before trusting the disabled property.
		// Some victims get caught in our net (label, legend, menu, track), but it shouldn't
		// even exist on them, let alone have a boolean value.
		} else if ( "label" in elem ) {
			return elem.disabled === disabled;
		}

		// Remaining elements are neither :enabled nor :disabled
		return false;
	};
}

/**
 * Returns a function to use in pseudos for positionals
 * @param {Function} fn
 */
function createPositionalPseudo( fn ) {
	return markFunction(function( argument ) {
		argument = +argument;
		return markFunction(function( seed, matches ) {
			var j,
				matchIndexes = fn( [], seed.length, argument ),
				i = matchIndexes.length;

			// Match elements found at the specified indexes
			while ( i-- ) {
				if ( seed[ (j = matchIndexes[i]) ] ) {
					seed[j] = !(matches[j] = seed[j]);
				}
			}
		});
	});
}

/**
 * Checks a node for validity as a Sizzle context
 * @param {Element|Object=} context
 * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value
 */
function testContext( context ) {
	return context && typeof context.getElementsByTagName !== "undefined" && context;
}

// Expose support vars for convenience
support = Sizzle.support = {};

/**
 * Detects XML nodes
 * @param {Element|Object} elem An element or a document
 * @returns {Boolean} True iff elem is a non-HTML XML node
 */
isXML = Sizzle.isXML = function( elem ) {
	// documentElement is verified for cases where it doesn't yet exist
	// (such as loading iframes in IE - #4833)
	var documentElement = elem && (elem.ownerDocument || elem).documentElement;
	return documentElement ? documentElement.nodeName !== "HTML" : false;
};

/**
 * Sets document-related variables once based on the current document
 * @param {Element|Object} [doc] An element or document object to use to set the document
 * @returns {Object} Returns the current document
 */
setDocument = Sizzle.setDocument = function( node ) {
	var hasCompare, subWindow,
		doc = node ? node.ownerDocument || node : preferredDoc;

	// Return early if doc is invalid or already selected
	if ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {
		return document;
	}

	// Update global variables
	document = doc;
	docElem = document.documentElement;
	documentIsHTML = !isXML( document );

	// Support: IE 9-11, Edge
	// Accessing iframe documents after unload throws "permission denied" errors (jQuery #13936)
	if ( preferredDoc !== document &&
		(subWindow = document.defaultView) && subWindow.top !== subWindow ) {

		// Support: IE 11, Edge
		if ( subWindow.addEventListener ) {
			subWindow.addEventListener( "unload", unloadHandler, false );

		// Support: IE 9 - 10 only
		} else if ( subWindow.attachEvent ) {
			subWindow.attachEvent( "onunload", unloadHandler );
		}
	}

	/* Attributes
	---------------------------------------------------------------------- */

	// Support: IE<8
	// Verify that getAttribute really returns attributes and not properties
	// (excepting IE8 booleans)
	support.attributes = assert(function( el ) {
		el.className = "i";
		return !el.getAttribute("className");
	});

	/* getElement(s)By*
	---------------------------------------------------------------------- */

	// Check if getElementsByTagName("*") returns only elements
	support.getElementsByTagName = assert(function( el ) {
		el.appendChild( document.createComment("") );
		return !el.getElementsByTagName("*").length;
	});

	// Support: IE<9
	support.getElementsByClassName = rnative.test( document.getElementsByClassName );

	// Support: IE<10
	// Check if getElementById returns elements by name
	// The broken getElementById methods don't pick up programmatically-set names,
	// so use a roundabout getElementsByName test
	support.getById = assert(function( el ) {
		docElem.appendChild( el ).id = expando;
		return !document.getElementsByName || !document.getElementsByName( expando ).length;
	});

	// ID filter and find
	if ( support.getById ) {
		Expr.filter["ID"] = function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				return elem.getAttribute("id") === attrId;
			};
		};
		Expr.find["ID"] = function( id, context ) {
			if ( typeof context.getElementById !== "undefined" && documentIsHTML ) {
				var elem = context.getElementById( id );
				return elem ? [ elem ] : [];
			}
		};
	} else {
		Expr.filter["ID"] =  function( id ) {
			var attrId = id.replace( runescape, funescape );
			return function( elem ) {
				var node = typeof elem.getAttributeNode !== "undefined" &&
					elem.getAttributeNode("id");
				return node && node.value === attrId;
			};
		};

		// Support: IE 6 - 7 only
		// getElementById is not reliable as a find shortcut
		Expr.find["ID"] = function( id, context ) {
			if ( typeof context.getElementById !== "undefined" && documentIsHTML ) {
				var node, i, elems,
					elem = context.getElementById( id );

				if ( elem ) {

					// Verify the id attribute
					node = elem.getAttributeNode("id");
					if ( node && node.value === id ) {
						return [ elem ];
					}

					// Fall back on getElementsByName
					elems = context.getElementsByName( id );
					i = 0;
					while ( (elem = elems[i++]) ) {
						node = elem.getAttributeNode("id");
						if ( node && node.value === id ) {
							return [ elem ];
						}
					}
				}

				return [];
			}
		};
	}

	// Tag
	Expr.find["TAG"] = support.getElementsByTagName ?
		function( tag, context ) {
			if ( typeof context.getElementsByTagName !== "undefined" ) {
				return context.getElementsByTagName( tag );

			// DocumentFragment nodes don't have gEBTN
			} else if ( support.qsa ) {
				return context.querySelectorAll( tag );
			}
		} :

		function( tag, context ) {
			var elem,
				tmp = [],
				i = 0,
				// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too
				results = context.getElementsByTagName( tag );

			// Filter out possible comments
			if ( tag === "*" ) {
				while ( (elem = results[i++]) ) {
					if ( elem.nodeType === 1 ) {
						tmp.push( elem );
					}
				}

				return tmp;
			}
			return results;
		};

	// Class
	Expr.find["CLASS"] = support.getElementsByClassName && function( className, context ) {
		if ( typeof context.getElementsByClassName !== "undefined" && documentIsHTML ) {
			return context.getElementsByClassName( className );
		}
	};

	/* QSA/matchesSelector
	---------------------------------------------------------------------- */

	// QSA and matchesSelector support

	// matchesSelector(:active) reports false when true (IE9/Opera 11.5)
	rbuggyMatches = [];

	// qSa(:focus) reports false when true (Chrome 21)
	// We allow this because of a bug in IE8/9 that throws an error
	// whenever `document.activeElement` is accessed on an iframe
	// So, we allow :focus to pass through QSA all the time to avoid the IE error
	// See https://bugs.jquery.com/ticket/13378
	rbuggyQSA = [];

	if ( (support.qsa = rnative.test( document.querySelectorAll )) ) {
		// Build QSA regex
		// Regex strategy adopted from Diego Perini
		assert(function( el ) {
			// Select is set to empty string on purpose
			// This is to test IE's treatment of not explicitly
			// setting a boolean content attribute,
			// since its presence should be enough
			// https://bugs.jquery.com/ticket/12359
			docElem.appendChild( el ).innerHTML = "<a id='" + expando + "'></a>" +
				"<select id='" + expando + "-\r\\' msallowcapture=''>" +
				"<option selected=''></option></select>";

			// Support: IE8, Opera 11-12.16
			// Nothing should be selected when empty strings follow ^= or $= or *=
			// The test attribute must be unknown in Opera but "safe" for WinRT
			// https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section
			if ( el.querySelectorAll("[msallowcapture^='']").length ) {
				rbuggyQSA.push( "[*^$]=" + whitespace + "*(?:''|\"\")" );
			}

			// Support: IE8
			// Boolean attributes and "value" are not treated correctly
			if ( !el.querySelectorAll("[selected]").length ) {
				rbuggyQSA.push( "\\[" + whitespace + "*(?:value|" + booleans + ")" );
			}

			// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+
			if ( !el.querySelectorAll( "[id~=" + expando + "-]" ).length ) {
				rbuggyQSA.push("~=");
			}

			// Webkit/Opera - :checked should return selected option elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			// IE8 throws error here and will not see later tests
			if ( !el.querySelectorAll(":checked").length ) {
				rbuggyQSA.push(":checked");
			}

			// Support: Safari 8+, iOS 8+
			// https://bugs.webkit.org/show_bug.cgi?id=136851
			// In-page `selector#id sibling-combinator selector` fails
			if ( !el.querySelectorAll( "a#" + expando + "+*" ).length ) {
				rbuggyQSA.push(".#.+[+~]");
			}
		});

		assert(function( el ) {
			el.innerHTML = "<a href='' disabled='disabled'></a>" +
				"<select disabled='disabled'><option/></select>";

			// Support: Windows 8 Native Apps
			// The type and name attributes are restricted during .innerHTML assignment
			var input = document.createElement("input");
			input.setAttribute( "type", "hidden" );
			el.appendChild( input ).setAttribute( "name", "D" );

			// Support: IE8
			// Enforce case-sensitivity of name attribute
			if ( el.querySelectorAll("[name=d]").length ) {
				rbuggyQSA.push( "name" + whitespace + "*[*^$|!~]?=" );
			}

			// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)
			// IE8 throws error here and will not see later tests
			if ( el.querySelectorAll(":enabled").length !== 2 ) {
				rbuggyQSA.push( ":enabled", ":disabled" );
			}

			// Support: IE9-11+
			// IE's :disabled selector does not pick up the children of disabled fieldsets
			docElem.appendChild( el ).disabled = true;
			if ( el.querySelectorAll(":disabled").length !== 2 ) {
				rbuggyQSA.push( ":enabled", ":disabled" );
			}

			// Opera 10-11 does not throw on post-comma invalid pseudos
			el.querySelectorAll("*,:x");
			rbuggyQSA.push(",.*:");
		});
	}

	if ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||
		docElem.webkitMatchesSelector ||
		docElem.mozMatchesSelector ||
		docElem.oMatchesSelector ||
		docElem.msMatchesSelector) )) ) {

		assert(function( el ) {
			// Check to see if it's possible to do matchesSelector
			// on a disconnected node (IE 9)
			support.disconnectedMatch = matches.call( el, "*" );

			// This should fail with an exception
			// Gecko does not error, returns false instead
			matches.call( el, "[s!='']:x" );
			rbuggyMatches.push( "!=", pseudos );
		});
	}

	rbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join("|") );
	rbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join("|") );

	/* Contains
	---------------------------------------------------------------------- */
	hasCompare = rnative.test( docElem.compareDocumentPosition );

	// Element contains another
	// Purposefully self-exclusive
	// As in, an element does not contain itself
	contains = hasCompare || rnative.test( docElem.contains ) ?
		function( a, b ) {
			var adown = a.nodeType === 9 ? a.documentElement : a,
				bup = b && b.parentNode;
			return a === bup || !!( bup && bup.nodeType === 1 && (
				adown.contains ?
					adown.contains( bup ) :
					a.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16
			));
		} :
		function( a, b ) {
			if ( b ) {
				while ( (b = b.parentNode) ) {
					if ( b === a ) {
						return true;
					}
				}
			}
			return false;
		};

	/* Sorting
	---------------------------------------------------------------------- */

	// Document order sorting
	sortOrder = hasCompare ?
	function( a, b ) {

		// Flag for duplicate removal
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		// Sort on method existence if only one input has compareDocumentPosition
		var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;
		if ( compare ) {
			return compare;
		}

		// Calculate position if both inputs belong to the same document
		compare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?
			a.compareDocumentPosition( b ) :

			// Otherwise we know they are disconnected
			1;

		// Disconnected nodes
		if ( compare & 1 ||
			(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {

			// Choose the first element that is related to our preferred document
			if ( a === document || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ) {
				return -1;
			}
			if ( b === document || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ) {
				return 1;
			}

			// Maintain original order
			return sortInput ?
				( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
				0;
		}

		return compare & 4 ? -1 : 1;
	} :
	function( a, b ) {
		// Exit early if the nodes are identical
		if ( a === b ) {
			hasDuplicate = true;
			return 0;
		}

		var cur,
			i = 0,
			aup = a.parentNode,
			bup = b.parentNode,
			ap = [ a ],
			bp = [ b ];

		// Parentless nodes are either documents or disconnected
		if ( !aup || !bup ) {
			return a === document ? -1 :
				b === document ? 1 :
				aup ? -1 :
				bup ? 1 :
				sortInput ?
				( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :
				0;

		// If the nodes are siblings, we can do a quick check
		} else if ( aup === bup ) {
			return siblingCheck( a, b );
		}

		// Otherwise we need full lists of their ancestors for comparison
		cur = a;
		while ( (cur = cur.parentNode) ) {
			ap.unshift( cur );
		}
		cur = b;
		while ( (cur = cur.parentNode) ) {
			bp.unshift( cur );
		}

		// Walk down the tree looking for a discrepancy
		while ( ap[i] === bp[i] ) {
			i++;
		}

		return i ?
			// Do a sibling check if the nodes have a common ancestor
			siblingCheck( ap[i], bp[i] ) :

			// Otherwise nodes in our document sort first
			ap[i] === preferredDoc ? -1 :
			bp[i] === preferredDoc ? 1 :
			0;
	};

	return document;
};

Sizzle.matches = function( expr, elements ) {
	return Sizzle( expr, null, null, elements );
};

Sizzle.matchesSelector = function( elem, expr ) {
	// Set document vars if needed
	if ( ( elem.ownerDocument || elem ) !== document ) {
		setDocument( elem );
	}

	// Make sure that attribute selectors are quoted
	expr = expr.replace( rattributeQuotes, "='$1']" );

	if ( support.matchesSelector && documentIsHTML &&
		!compilerCache[ expr + " " ] &&
		( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&
		( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {

		try {
			var ret = matches.call( elem, expr );

			// IE 9's matchesSelector returns false on disconnected nodes
			if ( ret || support.disconnectedMatch ||
					// As well, disconnected nodes are said to be in a document
					// fragment in IE 9
					elem.document && elem.document.nodeType !== 11 ) {
				return ret;
			}
		} catch (e) {}
	}

	return Sizzle( expr, document, null, [ elem ] ).length > 0;
};

Sizzle.contains = function( context, elem ) {
	// Set document vars if needed
	if ( ( context.ownerDocument || context ) !== document ) {
		setDocument( context );
	}
	return contains( context, elem );
};

Sizzle.attr = function( elem, name ) {
	// Set document vars if needed
	if ( ( elem.ownerDocument || elem ) !== document ) {
		setDocument( elem );
	}

	var fn = Expr.attrHandle[ name.toLowerCase() ],
		// Don't get fooled by Object.prototype properties (jQuery #13807)
		val = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?
			fn( elem, name, !documentIsHTML ) :
			undefined;

	return val !== undefined ?
		val :
		support.attributes || !documentIsHTML ?
			elem.getAttribute( name ) :
			(val = elem.getAttributeNode(name)) && val.specified ?
				val.value :
				null;
};

Sizzle.escape = function( sel ) {
	return (sel + "").replace( rcssescape, fcssescape );
};

Sizzle.error = function( msg ) {
	throw new Error( "Syntax error, unrecognized expression: " + msg );
};

/**
 * Document sorting and removing duplicates
 * @param {ArrayLike} results
 */
Sizzle.uniqueSort = function( results ) {
	var elem,
		duplicates = [],
		j = 0,
		i = 0;

	// Unless we *know* we can detect duplicates, assume their presence
	hasDuplicate = !support.detectDuplicates;
	sortInput = !support.sortStable && results.slice( 0 );
	results.sort( sortOrder );

	if ( hasDuplicate ) {
		while ( (elem = results[i++]) ) {
			if ( elem === results[ i ] ) {
				j = duplicates.push( i );
			}
		}
		while ( j-- ) {
			results.splice( duplicates[ j ], 1 );
		}
	}

	// Clear input after sorting to release objects
	// See https://github.com/jquery/sizzle/pull/225
	sortInput = null;

	return results;
};

/**
 * Utility function for retrieving the text value of an array of DOM nodes
 * @param {Array|Element} elem
 */
getText = Sizzle.getText = function( elem ) {
	var node,
		ret = "",
		i = 0,
		nodeType = elem.nodeType;

	if ( !nodeType ) {
		// If no nodeType, this is expected to be an array
		while ( (node = elem[i++]) ) {
			// Do not traverse comment nodes
			ret += getText( node );
		}
	} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {
		// Use textContent for elements
		// innerText usage removed for consistency of new lines (jQuery #11153)
		if ( typeof elem.textContent === "string" ) {
			return elem.textContent;
		} else {
			// Traverse its children
			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
				ret += getText( elem );
			}
		}
	} else if ( nodeType === 3 || nodeType === 4 ) {
		return elem.nodeValue;
	}
	// Do not include comment or processing instruction nodes

	return ret;
};

Expr = Sizzle.selectors = {

	// Can be adjusted by the user
	cacheLength: 50,

	createPseudo: markFunction,

	match: matchExpr,

	attrHandle: {},

	find: {},

	relative: {
		">": { dir: "parentNode", first: true },
		" ": { dir: "parentNode" },
		"+": { dir: "previousSibling", first: true },
		"~": { dir: "previousSibling" }
	},

	preFilter: {
		"ATTR": function( match ) {
			match[1] = match[1].replace( runescape, funescape );

			// Move the given value to match[3] whether quoted or unquoted
			match[3] = ( match[3] || match[4] || match[5] || "" ).replace( runescape, funescape );

			if ( match[2] === "~=" ) {
				match[3] = " " + match[3] + " ";
			}

			return match.slice( 0, 4 );
		},

		"CHILD": function( match ) {
			/* matches from matchExpr["CHILD"]
				1 type (only|nth|...)
				2 what (child|of-type)
				3 argument (even|odd|\d*|\d*n([+-]\d+)?|...)
				4 xn-component of xn+y argument ([+-]?\d*n|)
				5 sign of xn-component
				6 x of xn-component
				7 sign of y-component
				8 y of y-component
			*/
			match[1] = match[1].toLowerCase();

			if ( match[1].slice( 0, 3 ) === "nth" ) {
				// nth-* requires argument
				if ( !match[3] ) {
					Sizzle.error( match[0] );
				}

				// numeric x and y parameters for Expr.filter.CHILD
				// remember that false/true cast respectively to 0/1
				match[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === "even" || match[3] === "odd" ) );
				match[5] = +( ( match[7] + match[8] ) || match[3] === "odd" );

			// other types prohibit arguments
			} else if ( match[3] ) {
				Sizzle.error( match[0] );
			}

			return match;
		},

		"PSEUDO": function( match ) {
			var excess,
				unquoted = !match[6] && match[2];

			if ( matchExpr["CHILD"].test( match[0] ) ) {
				return null;
			}

			// Accept quoted arguments as-is
			if ( match[3] ) {
				match[2] = match[4] || match[5] || "";

			// Strip excess characters from unquoted arguments
			} else if ( unquoted && rpseudo.test( unquoted ) &&
				// Get excess from tokenize (recursively)
				(excess = tokenize( unquoted, true )) &&
				// advance to the next closing parenthesis
				(excess = unquoted.indexOf( ")", unquoted.length - excess ) - unquoted.length) ) {

				// excess is a negative index
				match[0] = match[0].slice( 0, excess );
				match[2] = unquoted.slice( 0, excess );
			}

			// Return only captures needed by the pseudo filter method (type and argument)
			return match.slice( 0, 3 );
		}
	},

	filter: {

		"TAG": function( nodeNameSelector ) {
			var nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();
			return nodeNameSelector === "*" ?
				function() { return true; } :
				function( elem ) {
					return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;
				};
		},

		"CLASS": function( className ) {
			var pattern = classCache[ className + " " ];

			return pattern ||
				(pattern = new RegExp( "(^|" + whitespace + ")" + className + "(" + whitespace + "|$)" )) &&
				classCache( className, function( elem ) {
					return pattern.test( typeof elem.className === "string" && elem.className || typeof elem.getAttribute !== "undefined" && elem.getAttribute("class") || "" );
				});
		},

		"ATTR": function( name, operator, check ) {
			return function( elem ) {
				var result = Sizzle.attr( elem, name );

				if ( result == null ) {
					return operator === "!=";
				}
				if ( !operator ) {
					return true;
				}

				result += "";

				return operator === "=" ? result === check :
					operator === "!=" ? result !== check :
					operator === "^=" ? check && result.indexOf( check ) === 0 :
					operator === "*=" ? check && result.indexOf( check ) > -1 :
					operator === "$=" ? check && result.slice( -check.length ) === check :
					operator === "~=" ? ( " " + result.replace( rwhitespace, " " ) + " " ).indexOf( check ) > -1 :
					operator === "|=" ? result === check || result.slice( 0, check.length + 1 ) === check + "-" :
					false;
			};
		},

		"CHILD": function( type, what, argument, first, last ) {
			var simple = type.slice( 0, 3 ) !== "nth",
				forward = type.slice( -4 ) !== "last",
				ofType = what === "of-type";

			return first === 1 && last === 0 ?

				// Shortcut for :nth-*(n)
				function( elem ) {
					return !!elem.parentNode;
				} :

				function( elem, context, xml ) {
					var cache, uniqueCache, outerCache, node, nodeIndex, start,
						dir = simple !== forward ? "nextSibling" : "previousSibling",
						parent = elem.parentNode,
						name = ofType && elem.nodeName.toLowerCase(),
						useCache = !xml && !ofType,
						diff = false;

					if ( parent ) {

						// :(first|last|only)-(child|of-type)
						if ( simple ) {
							while ( dir ) {
								node = elem;
								while ( (node = node[ dir ]) ) {
									if ( ofType ?
										node.nodeName.toLowerCase() === name :
										node.nodeType === 1 ) {

										return false;
									}
								}
								// Reverse direction for :only-* (if we haven't yet done so)
								start = dir = type === "only" && !start && "nextSibling";
							}
							return true;
						}

						start = [ forward ? parent.firstChild : parent.lastChild ];

						// non-xml :nth-child(...) stores cache data on `parent`
						if ( forward && useCache ) {

							// Seek `elem` from a previously-cached index

							// ...in a gzip-friendly way
							node = parent;
							outerCache = node[ expando ] || (node[ expando ] = {});

							// Support: IE <9 only
							// Defend against cloned attroperties (jQuery gh-1709)
							uniqueCache = outerCache[ node.uniqueID ] ||
								(outerCache[ node.uniqueID ] = {});

							cache = uniqueCache[ type ] || [];
							nodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];
							diff = nodeIndex && cache[ 2 ];
							node = nodeIndex && parent.childNodes[ nodeIndex ];

							while ( (node = ++nodeIndex && node && node[ dir ] ||

								// Fallback to seeking `elem` from the start
								(diff = nodeIndex = 0) || start.pop()) ) {

								// When found, cache indexes on `parent` and break
								if ( node.nodeType === 1 && ++diff && node === elem ) {
									uniqueCache[ type ] = [ dirruns, nodeIndex, diff ];
									break;
								}
							}

						} else {
							// Use previously-cached element index if available
							if ( useCache ) {
								// ...in a gzip-friendly way
								node = elem;
								outerCache = node[ expando ] || (node[ expando ] = {});

								// Support: IE <9 only
								// Defend against cloned attroperties (jQuery gh-1709)
								uniqueCache = outerCache[ node.uniqueID ] ||
									(outerCache[ node.uniqueID ] = {});

								cache = uniqueCache[ type ] || [];
								nodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];
								diff = nodeIndex;
							}

							// xml :nth-child(...)
							// or :nth-last-child(...) or :nth(-last)?-of-type(...)
							if ( diff === false ) {
								// Use the same loop as above to seek `elem` from the start
								while ( (node = ++nodeIndex && node && node[ dir ] ||
									(diff = nodeIndex = 0) || start.pop()) ) {

									if ( ( ofType ?
										node.nodeName.toLowerCase() === name :
										node.nodeType === 1 ) &&
										++diff ) {

										// Cache the index of each encountered element
										if ( useCache ) {
											outerCache = node[ expando ] || (node[ expando ] = {});

											// Support: IE <9 only
											// Defend against cloned attroperties (jQuery gh-1709)
											uniqueCache = outerCache[ node.uniqueID ] ||
												(outerCache[ node.uniqueID ] = {});

											uniqueCache[ type ] = [ dirruns, diff ];
										}

										if ( node === elem ) {
											break;
										}
									}
								}
							}
						}

						// Incorporate the offset, then check against cycle size
						diff -= last;
						return diff === first || ( diff % first === 0 && diff / first >= 0 );
					}
				};
		},

		"PSEUDO": function( pseudo, argument ) {
			// pseudo-class names are case-insensitive
			// http://www.w3.org/TR/selectors/#pseudo-classes
			// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters
			// Remember that setFilters inherits from pseudos
			var args,
				fn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||
					Sizzle.error( "unsupported pseudo: " + pseudo );

			// The user may use createPseudo to indicate that
			// arguments are needed to create the filter function
			// just as Sizzle does
			if ( fn[ expando ] ) {
				return fn( argument );
			}

			// But maintain support for old signatures
			if ( fn.length > 1 ) {
				args = [ pseudo, pseudo, "", argument ];
				return Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?
					markFunction(function( seed, matches ) {
						var idx,
							matched = fn( seed, argument ),
							i = matched.length;
						while ( i-- ) {
							idx = indexOf( seed, matched[i] );
							seed[ idx ] = !( matches[ idx ] = matched[i] );
						}
					}) :
					function( elem ) {
						return fn( elem, 0, args );
					};
			}

			return fn;
		}
	},

	pseudos: {
		// Potentially complex pseudos
		"not": markFunction(function( selector ) {
			// Trim the selector passed to compile
			// to avoid treating leading and trailing
			// spaces as combinators
			var input = [],
				results = [],
				matcher = compile( selector.replace( rtrim, "$1" ) );

			return matcher[ expando ] ?
				markFunction(function( seed, matches, context, xml ) {
					var elem,
						unmatched = matcher( seed, null, xml, [] ),
						i = seed.length;

					// Match elements unmatched by `matcher`
					while ( i-- ) {
						if ( (elem = unmatched[i]) ) {
							seed[i] = !(matches[i] = elem);
						}
					}
				}) :
				function( elem, context, xml ) {
					input[0] = elem;
					matcher( input, null, xml, results );
					// Don't keep the element (issue #299)
					input[0] = null;
					return !results.pop();
				};
		}),

		"has": markFunction(function( selector ) {
			return function( elem ) {
				return Sizzle( selector, elem ).length > 0;
			};
		}),

		"contains": markFunction(function( text ) {
			text = text.replace( runescape, funescape );
			return function( elem ) {
				return ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;
			};
		}),

		// "Whether an element is represented by a :lang() selector
		// is based solely on the element's language value
		// being equal to the identifier C,
		// or beginning with the identifier C immediately followed by "-".
		// The matching of C against the element's language value is performed case-insensitively.
		// The identifier C does not have to be a valid language name."
		// http://www.w3.org/TR/selectors/#lang-pseudo
		"lang": markFunction( function( lang ) {
			// lang value must be a valid identifier
			if ( !ridentifier.test(lang || "") ) {
				Sizzle.error( "unsupported lang: " + lang );
			}
			lang = lang.replace( runescape, funescape ).toLowerCase();
			return function( elem ) {
				var elemLang;
				do {
					if ( (elemLang = documentIsHTML ?
						elem.lang :
						elem.getAttribute("xml:lang") || elem.getAttribute("lang")) ) {

						elemLang = elemLang.toLowerCase();
						return elemLang === lang || elemLang.indexOf( lang + "-" ) === 0;
					}
				} while ( (elem = elem.parentNode) && elem.nodeType === 1 );
				return false;
			};
		}),

		// Miscellaneous
		"target": function( elem ) {
			var hash = window.location && window.location.hash;
			return hash && hash.slice( 1 ) === elem.id;
		},

		"root": function( elem ) {
			return elem === docElem;
		},

		"focus": function( elem ) {
			return elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);
		},

		// Boolean properties
		"enabled": createDisabledPseudo( false ),
		"disabled": createDisabledPseudo( true ),

		"checked": function( elem ) {
			// In CSS3, :checked should return both checked and selected elements
			// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
			var nodeName = elem.nodeName.toLowerCase();
			return (nodeName === "input" && !!elem.checked) || (nodeName === "option" && !!elem.selected);
		},

		"selected": function( elem ) {
			// Accessing this property makes selected-by-default
			// options in Safari work properly
			if ( elem.parentNode ) {
				elem.parentNode.selectedIndex;
			}

			return elem.selected === true;
		},

		// Contents
		"empty": function( elem ) {
			// http://www.w3.org/TR/selectors/#empty-pseudo
			// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),
			//   but not by others (comment: 8; processing instruction: 7; etc.)
			// nodeType < 6 works because attributes (2) do not appear as children
			for ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {
				if ( elem.nodeType < 6 ) {
					return false;
				}
			}
			return true;
		},

		"parent": function( elem ) {
			return !Expr.pseudos["empty"]( elem );
		},

		// Element/input types
		"header": function( elem ) {
			return rheader.test( elem.nodeName );
		},

		"input": function( elem ) {
			return rinputs.test( elem.nodeName );
		},

		"button": function( elem ) {
			var name = elem.nodeName.toLowerCase();
			return name === "input" && elem.type === "button" || name === "button";
		},

		"text": function( elem ) {
			var attr;
			return elem.nodeName.toLowerCase() === "input" &&
				elem.type === "text" &&

				// Support: IE<8
				// New HTML5 attribute values (e.g., "search") appear with elem.type === "text"
				( (attr = elem.getAttribute("type")) == null || attr.toLowerCase() === "text" );
		},

		// Position-in-collection
		"first": createPositionalPseudo(function() {
			return [ 0 ];
		}),

		"last": createPositionalPseudo(function( matchIndexes, length ) {
			return [ length - 1 ];
		}),

		"eq": createPositionalPseudo(function( matchIndexes, length, argument ) {
			return [ argument < 0 ? argument + length : argument ];
		}),

		"even": createPositionalPseudo(function( matchIndexes, length ) {
			var i = 0;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		}),

		"odd": createPositionalPseudo(function( matchIndexes, length ) {
			var i = 1;
			for ( ; i < length; i += 2 ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		}),

		"lt": createPositionalPseudo(function( matchIndexes, length, argument ) {
			var i = argument < 0 ? argument + length : argument;
			for ( ; --i >= 0; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		}),

		"gt": createPositionalPseudo(function( matchIndexes, length, argument ) {
			var i = argument < 0 ? argument + length : argument;
			for ( ; ++i < length; ) {
				matchIndexes.push( i );
			}
			return matchIndexes;
		})
	}
};

Expr.pseudos["nth"] = Expr.pseudos["eq"];

// Add button/input type pseudos
for ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {
	Expr.pseudos[ i ] = createInputPseudo( i );
}
for ( i in { submit: true, reset: true } ) {
	Expr.pseudos[ i ] = createButtonPseudo( i );
}

// Easy API for creating new setFilters
function setFilters() {}
setFilters.prototype = Expr.filters = Expr.pseudos;
Expr.setFilters = new setFilters();

tokenize = Sizzle.tokenize = function( selector, parseOnly ) {
	var matched, match, tokens, type,
		soFar, groups, preFilters,
		cached = tokenCache[ selector + " " ];

	if ( cached ) {
		return parseOnly ? 0 : cached.slice( 0 );
	}

	soFar = selector;
	groups = [];
	preFilters = Expr.preFilter;

	while ( soFar ) {

		// Comma and first run
		if ( !matched || (match = rcomma.exec( soFar )) ) {
			if ( match ) {
				// Don't consume trailing commas as valid
				soFar = soFar.slice( match[0].length ) || soFar;
			}
			groups.push( (tokens = []) );
		}

		matched = false;

		// Combinators
		if ( (match = rcombinators.exec( soFar )) ) {
			matched = match.shift();
			tokens.push({
				value: matched,
				// Cast descendant combinators to space
				type: match[0].replace( rtrim, " " )
			});
			soFar = soFar.slice( matched.length );
		}

		// Filters
		for ( type in Expr.filter ) {
			if ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||
				(match = preFilters[ type ]( match ))) ) {
				matched = match.shift();
				tokens.push({
					value: matched,
					type: type,
					matches: match
				});
				soFar = soFar.slice( matched.length );
			}
		}

		if ( !matched ) {
			break;
		}
	}

	// Return the length of the invalid excess
	// if we're just parsing
	// Otherwise, throw an error or return tokens
	return parseOnly ?
		soFar.length :
		soFar ?
			Sizzle.error( selector ) :
			// Cache the tokens
			tokenCache( selector, groups ).slice( 0 );
};

function toSelector( tokens ) {
	var i = 0,
		len = tokens.length,
		selector = "";
	for ( ; i < len; i++ ) {
		selector += tokens[i].value;
	}
	return selector;
}

function addCombinator( matcher, combinator, base ) {
	var dir = combinator.dir,
		skip = combinator.next,
		key = skip || dir,
		checkNonElements = base && key === "parentNode",
		doneName = done++;

	return combinator.first ?
		// Check against closest ancestor/preceding element
		function( elem, context, xml ) {
			while ( (elem = elem[ dir ]) ) {
				if ( elem.nodeType === 1 || checkNonElements ) {
					return matcher( elem, context, xml );
				}
			}
			return false;
		} :

		// Check against all ancestor/preceding elements
		function( elem, context, xml ) {
			var oldCache, uniqueCache, outerCache,
				newCache = [ dirruns, doneName ];

			// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching
			if ( xml ) {
				while ( (elem = elem[ dir ]) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						if ( matcher( elem, context, xml ) ) {
							return true;
						}
					}
				}
			} else {
				while ( (elem = elem[ dir ]) ) {
					if ( elem.nodeType === 1 || checkNonElements ) {
						outerCache = elem[ expando ] || (elem[ expando ] = {});

						// Support: IE <9 only
						// Defend against cloned attroperties (jQuery gh-1709)
						uniqueCache = outerCache[ elem.uniqueID ] || (outerCache[ elem.uniqueID ] = {});

						if ( skip && skip === elem.nodeName.toLowerCase() ) {
							elem = elem[ dir ] || elem;
						} else if ( (oldCache = uniqueCache[ key ]) &&
							oldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {

							// Assign to newCache so results back-propagate to previous elements
							return (newCache[ 2 ] = oldCache[ 2 ]);
						} else {
							// Reuse newcache so results back-propagate to previous elements
							uniqueCache[ key ] = newCache;

							// A match means we're done; a fail means we have to keep checking
							if ( (newCache[ 2 ] = matcher( elem, context, xml )) ) {
								return true;
							}
						}
					}
				}
			}
			return false;
		};
}

function elementMatcher( matchers ) {
	return matchers.length > 1 ?
		function( elem, context, xml ) {
			var i = matchers.length;
			while ( i-- ) {
				if ( !matchers[i]( elem, context, xml ) ) {
					return false;
				}
			}
			return true;
		} :
		matchers[0];
}

function multipleContexts( selector, contexts, results ) {
	var i = 0,
		len = contexts.length;
	for ( ; i < len; i++ ) {
		Sizzle( selector, contexts[i], results );
	}
	return results;
}

function condense( unmatched, map, filter, context, xml ) {
	var elem,
		newUnmatched = [],
		i = 0,
		len = unmatched.length,
		mapped = map != null;

	for ( ; i < len; i++ ) {
		if ( (elem = unmatched[i]) ) {
			if ( !filter || filter( elem, context, xml ) ) {
				newUnmatched.push( elem );
				if ( mapped ) {
					map.push( i );
				}
			}
		}
	}

	return newUnmatched;
}

function setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {
	if ( postFilter && !postFilter[ expando ] ) {
		postFilter = setMatcher( postFilter );
	}
	if ( postFinder && !postFinder[ expando ] ) {
		postFinder = setMatcher( postFinder, postSelector );
	}
	return markFunction(function( seed, results, context, xml ) {
		var temp, i, elem,
			preMap = [],
			postMap = [],
			preexisting = results.length,

			// Get initial elements from seed or context
			elems = seed || multipleContexts( selector || "*", context.nodeType ? [ context ] : context, [] ),

			// Prefilter to get matcher input, preserving a map for seed-results synchronization
			matcherIn = preFilter && ( seed || !selector ) ?
				condense( elems, preMap, preFilter, context, xml ) :
				elems,

			matcherOut = matcher ?
				// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,
				postFinder || ( seed ? preFilter : preexisting || postFilter ) ?

					// ...intermediate processing is necessary
					[] :

					// ...otherwise use results directly
					results :
				matcherIn;

		// Find primary matches
		if ( matcher ) {
			matcher( matcherIn, matcherOut, context, xml );
		}

		// Apply postFilter
		if ( postFilter ) {
			temp = condense( matcherOut, postMap );
			postFilter( temp, [], context, xml );

			// Un-match failing elements by moving them back to matcherIn
			i = temp.length;
			while ( i-- ) {
				if ( (elem = temp[i]) ) {
					matcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);
				}
			}
		}

		if ( seed ) {
			if ( postFinder || preFilter ) {
				if ( postFinder ) {
					// Get the final matcherOut by condensing this intermediate into postFinder contexts
					temp = [];
					i = matcherOut.length;
					while ( i-- ) {
						if ( (elem = matcherOut[i]) ) {
							// Restore matcherIn since elem is not yet a final match
							temp.push( (matcherIn[i] = elem) );
						}
					}
					postFinder( null, (matcherOut = []), temp, xml );
				}

				// Move matched elements from seed to results to keep them synchronized
				i = matcherOut.length;
				while ( i-- ) {
					if ( (elem = matcherOut[i]) &&
						(temp = postFinder ? indexOf( seed, elem ) : preMap[i]) > -1 ) {

						seed[temp] = !(results[temp] = elem);
					}
				}
			}

		// Add elements to results, through postFinder if defined
		} else {
			matcherOut = condense(
				matcherOut === results ?
					matcherOut.splice( preexisting, matcherOut.length ) :
					matcherOut
			);
			if ( postFinder ) {
				postFinder( null, results, matcherOut, xml );
			} else {
				push.apply( results, matcherOut );
			}
		}
	});
}

function matcherFromTokens( tokens ) {
	var checkContext, matcher, j,
		len = tokens.length,
		leadingRelative = Expr.relative[ tokens[0].type ],
		implicitRelative = leadingRelative || Expr.relative[" "],
		i = leadingRelative ? 1 : 0,

		// The foundational matcher ensures that elements are reachable from top-level context(s)
		matchContext = addCombinator( function( elem ) {
			return elem === checkContext;
		}, implicitRelative, true ),
		matchAnyContext = addCombinator( function( elem ) {
			return indexOf( checkContext, elem ) > -1;
		}, implicitRelative, true ),
		matchers = [ function( elem, context, xml ) {
			var ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (
				(checkContext = context).nodeType ?
					matchContext( elem, context, xml ) :
					matchAnyContext( elem, context, xml ) );
			// Avoid hanging onto element (issue #299)
			checkContext = null;
			return ret;
		} ];

	for ( ; i < len; i++ ) {
		if ( (matcher = Expr.relative[ tokens[i].type ]) ) {
			matchers = [ addCombinator(elementMatcher( matchers ), matcher) ];
		} else {
			matcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );

			// Return special upon seeing a positional matcher
			if ( matcher[ expando ] ) {
				// Find the next relative operator (if any) for proper handling
				j = ++i;
				for ( ; j < len; j++ ) {
					if ( Expr.relative[ tokens[j].type ] ) {
						break;
					}
				}
				return setMatcher(
					i > 1 && elementMatcher( matchers ),
					i > 1 && toSelector(
						// If the preceding token was a descendant combinator, insert an implicit any-element `*`
						tokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === " " ? "*" : "" })
					).replace( rtrim, "$1" ),
					matcher,
					i < j && matcherFromTokens( tokens.slice( i, j ) ),
					j < len && matcherFromTokens( (tokens = tokens.slice( j )) ),
					j < len && toSelector( tokens )
				);
			}
			matchers.push( matcher );
		}
	}

	return elementMatcher( matchers );
}

function matcherFromGroupMatchers( elementMatchers, setMatchers ) {
	var bySet = setMatchers.length > 0,
		byElement = elementMatchers.length > 0,
		superMatcher = function( seed, context, xml, results, outermost ) {
			var elem, j, matcher,
				matchedCount = 0,
				i = "0",
				unmatched = seed && [],
				setMatched = [],
				contextBackup = outermostContext,
				// We must always have either seed elements or outermost context
				elems = seed || byElement && Expr.find["TAG"]( "*", outermost ),
				// Use integer dirruns iff this is the outermost matcher
				dirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),
				len = elems.length;

			if ( outermost ) {
				outermostContext = context === document || context || outermost;
			}

			// Add elements passing elementMatchers directly to results
			// Support: IE<9, Safari
			// Tolerate NodeList properties (IE: "length"; Safari: <number>) matching elements by id
			for ( ; i !== len && (elem = elems[i]) != null; i++ ) {
				if ( byElement && elem ) {
					j = 0;
					if ( !context && elem.ownerDocument !== document ) {
						setDocument( elem );
						xml = !documentIsHTML;
					}
					while ( (matcher = elementMatchers[j++]) ) {
						if ( matcher( elem, context || document, xml) ) {
							results.push( elem );
							break;
						}
					}
					if ( outermost ) {
						dirruns = dirrunsUnique;
					}
				}

				// Track unmatched elements for set filters
				if ( bySet ) {
					// They will have gone through all possible matchers
					if ( (elem = !matcher && elem) ) {
						matchedCount--;
					}

					// Lengthen the array for every element, matched or not
					if ( seed ) {
						unmatched.push( elem );
					}
				}
			}

			// `i` is now the count of elements visited above, and adding it to `matchedCount`
			// makes the latter nonnegative.
			matchedCount += i;

			// Apply set filters to unmatched elements
			// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`
			// equals `i`), unless we didn't visit _any_ elements in the above loop because we have
			// no element matchers and no seed.
			// Incrementing an initially-string "0" `i` allows `i` to remain a string only in that
			// case, which will result in a "00" `matchedCount` that differs from `i` but is also
			// numerically zero.
			if ( bySet && i !== matchedCount ) {
				j = 0;
				while ( (matcher = setMatchers[j++]) ) {
					matcher( unmatched, setMatched, context, xml );
				}

				if ( seed ) {
					// Reintegrate element matches to eliminate the need for sorting
					if ( matchedCount > 0 ) {
						while ( i-- ) {
							if ( !(unmatched[i] || setMatched[i]) ) {
								setMatched[i] = pop.call( results );
							}
						}
					}

					// Discard index placeholder values to get only actual matches
					setMatched = condense( setMatched );
				}

				// Add matches to results
				push.apply( results, setMatched );

				// Seedless set matches succeeding multiple successful matchers stipulate sorting
				if ( outermost && !seed && setMatched.length > 0 &&
					( matchedCount + setMatchers.length ) > 1 ) {

					Sizzle.uniqueSort( results );
				}
			}

			// Override manipulation of globals by nested matchers
			if ( outermost ) {
				dirruns = dirrunsUnique;
				outermostContext = contextBackup;
			}

			return unmatched;
		};

	return bySet ?
		markFunction( superMatcher ) :
		superMatcher;
}

compile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {
	var i,
		setMatchers = [],
		elementMatchers = [],
		cached = compilerCache[ selector + " " ];

	if ( !cached ) {
		// Generate a function of recursive functions that can be used to check each element
		if ( !match ) {
			match = tokenize( selector );
		}
		i = match.length;
		while ( i-- ) {
			cached = matcherFromTokens( match[i] );
			if ( cached[ expando ] ) {
				setMatchers.push( cached );
			} else {
				elementMatchers.push( cached );
			}
		}

		// Cache the compiled function
		cached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );

		// Save selector and tokenization
		cached.selector = selector;
	}
	return cached;
};

/**
 * A low-level selection function that works with Sizzle's compiled
 *  selector functions
 * @param {String|Function} selector A selector or a pre-compiled
 *  selector function built with Sizzle.compile
 * @param {Element} context
 * @param {Array} [results]
 * @param {Array} [seed] A set of elements to match against
 */
select = Sizzle.select = function( selector, context, results, seed ) {
	var i, tokens, token, type, find,
		compiled = typeof selector === "function" && selector,
		match = !seed && tokenize( (selector = compiled.selector || selector) );

	results = results || [];

	// Try to minimize operations if there is only one selector in the list and no seed
	// (the latter of which guarantees us context)
	if ( match.length === 1 ) {

		// Reduce context if the leading compound selector is an ID
		tokens = match[0] = match[0].slice( 0 );
		if ( tokens.length > 2 && (token = tokens[0]).type === "ID" &&
				context.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[1].type ] ) {

			context = ( Expr.find["ID"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];
			if ( !context ) {
				return results;

			// Precompiled matchers will still verify ancestry, so step up a level
			} else if ( compiled ) {
				context = context.parentNode;
			}

			selector = selector.slice( tokens.shift().value.length );
		}

		// Fetch a seed set for right-to-left matching
		i = matchExpr["needsContext"].test( selector ) ? 0 : tokens.length;
		while ( i-- ) {
			token = tokens[i];

			// Abort if we hit a combinator
			if ( Expr.relative[ (type = token.type) ] ) {
				break;
			}
			if ( (find = Expr.find[ type ]) ) {
				// Search, expanding context for leading sibling combinators
				if ( (seed = find(
					token.matches[0].replace( runescape, funescape ),
					rsibling.test( tokens[0].type ) && testContext( context.parentNode ) || context
				)) ) {

					// If seed is empty or no tokens remain, we can return early
					tokens.splice( i, 1 );
					selector = seed.length && toSelector( tokens );
					if ( !selector ) {
						push.apply( results, seed );
						return results;
					}

					break;
				}
			}
		}
	}

	// Compile and execute a filtering function if one is not provided
	// Provide `match` to avoid retokenization if we modified the selector above
	( compiled || compile( selector, match ) )(
		seed,
		context,
		!documentIsHTML,
		results,
		!context || rsibling.test( selector ) && testContext( context.parentNode ) || context
	);
	return results;
};

// One-time assignments

// Sort stability
support.sortStable = expando.split("").sort( sortOrder ).join("") === expando;

// Support: Chrome 14-35+
// Always assume duplicates if they aren't passed to the comparison function
support.detectDuplicates = !!hasDuplicate;

// Initialize against the default document
setDocument();

// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)
// Detached nodes confoundingly follow *each other*
support.sortDetached = assert(function( el ) {
	// Should return 1, but returns 4 (following)
	return el.compareDocumentPosition( document.createElement("fieldset") ) & 1;
});

// Support: IE<8
// Prevent attribute/property "interpolation"
// https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx
if ( !assert(function( el ) {
	el.innerHTML = "<a href='#'></a>";
	return el.firstChild.getAttribute("href") === "#" ;
}) ) {
	addHandle( "type|href|height|width", function( elem, name, isXML ) {
		if ( !isXML ) {
			return elem.getAttribute( name, name.toLowerCase() === "type" ? 1 : 2 );
		}
	});
}

// Support: IE<9
// Use defaultValue in place of getAttribute("value")
if ( !support.attributes || !assert(function( el ) {
	el.innerHTML = "<input/>";
	el.firstChild.setAttribute( "value", "" );
	return el.firstChild.getAttribute( "value" ) === "";
}) ) {
	addHandle( "value", function( elem, name, isXML ) {
		if ( !isXML && elem.nodeName.toLowerCase() === "input" ) {
			return elem.defaultValue;
		}
	});
}

// Support: IE<9
// Use getAttributeNode to fetch booleans when getAttribute lies
if ( !assert(function( el ) {
	return el.getAttribute("disabled") == null;
}) ) {
	addHandle( booleans, function( elem, name, isXML ) {
		var val;
		if ( !isXML ) {
			return elem[ name ] === true ? name.toLowerCase() :
					(val = elem.getAttributeNode( name )) && val.specified ?
					val.value :
				null;
		}
	});
}

return Sizzle;

})( window );



jQuery.find = Sizzle;
jQuery.expr = Sizzle.selectors;

// Deprecated
jQuery.expr[ ":" ] = jQuery.expr.pseudos;
jQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;
jQuery.text = Sizzle.getText;
jQuery.isXMLDoc = Sizzle.isXML;
jQuery.contains = Sizzle.contains;
jQuery.escapeSelector = Sizzle.escape;




var dir = function( elem, dir, until ) {
	var matched = [],
		truncate = until !== undefined;

	while ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {
		if ( elem.nodeType === 1 ) {
			if ( truncate && jQuery( elem ).is( until ) ) {
				break;
			}
			matched.push( elem );
		}
	}
	return matched;
};


var siblings = function( n, elem ) {
	var matched = [];

	for ( ; n; n = n.nextSibling ) {
		if ( n.nodeType === 1 && n !== elem ) {
			matched.push( n );
		}
	}

	return matched;
};


var rneedsContext = jQuery.expr.match.needsContext;



function nodeName( elem, name ) {

  return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();

};
var rsingleTag = ( /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i );



// Implement the identical functionality for filter and not
function winnow( elements, qualifier, not ) {
	if ( isFunction( qualifier ) ) {
		return jQuery.grep( elements, function( elem, i ) {
			return !!qualifier.call( elem, i, elem ) !== not;
		} );
	}

	// Single element
	if ( qualifier.nodeType ) {
		return jQuery.grep( elements, function( elem ) {
			return ( elem === qualifier ) !== not;
		} );
	}

	// Arraylike of elements (jQuery, arguments, Array)
	if ( typeof qualifier !== "string" ) {
		return jQuery.grep( elements, function( elem ) {
			return ( indexOf.call( qualifier, elem ) > -1 ) !== not;
		} );
	}

	// Filtered directly for both simple and complex selectors
	return jQuery.filter( qualifier, elements, not );
}

jQuery.filter = function( expr, elems, not ) {
	var elem = elems[ 0 ];

	if ( not ) {
		expr = ":not(" + expr + ")";
	}

	if ( elems.length === 1 && elem.nodeType === 1 ) {
		return jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];
	}

	return jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {
		return elem.nodeType === 1;
	} ) );
};

jQuery.fn.extend( {
	find: function( selector ) {
		var i, ret,
			len = this.length,
			self = this;

		if ( typeof selector !== "string" ) {
			return this.pushStack( jQuery( selector ).filter( function() {
				for ( i = 0; i < len; i++ ) {
					if ( jQuery.contains( self[ i ], this ) ) {
						return true;
					}
				}
			} ) );
		}

		ret = this.pushStack( [] );

		for ( i = 0; i < len; i++ ) {
			jQuery.find( selector, self[ i ], ret );
		}

		return len > 1 ? jQuery.uniqueSort( ret ) : ret;
	},
	filter: function( selector ) {
		return this.pushStack( winnow( this, selector || [], false ) );
	},
	not: function( selector ) {
		return this.pushStack( winnow( this, selector || [], true ) );
	},
	is: function( selector ) {
		return !!winnow(
			this,

			// If this is a positional/relative selector, check membership in the returned set
			// so $("p:first").is("p:last") won't return true for a doc with two "p".
			typeof selector === "string" && rneedsContext.test( selector ) ?
				jQuery( selector ) :
				selector || [],
			false
		).length;
	}
} );


// Initialize a jQuery object


// A central reference to the root jQuery(document)
var rootjQuery,

	// A simple way to check for HTML strings
	// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)
	// Strict HTML recognition (#11290: must start with <)
	// Shortcut simple #id case for speed
	rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,

	init = jQuery.fn.init = function( selector, context, root ) {
		var match, elem;

		// HANDLE: $(""), $(null), $(undefined), $(false)
		if ( !selector ) {
			return this;
		}

		// Method init() accepts an alternate rootjQuery
		// so migrate can support jQuery.sub (gh-2101)
		root = root || rootjQuery;

		// Handle HTML strings
		if ( typeof selector === "string" ) {
			if ( selector[ 0 ] === "<" &&
				selector[ selector.length - 1 ] === ">" &&
				selector.length >= 3 ) {

				// Assume that strings that start and end with <> are HTML and skip the regex check
				match = [ null, selector, null ];

			} else {
				match = rquickExpr.exec( selector );
			}

			// Match html or make sure no context is specified for #id
			if ( match && ( match[ 1 ] || !context ) ) {

				// HANDLE: $(html) -> $(array)
				if ( match[ 1 ] ) {
					context = context instanceof jQuery ? context[ 0 ] : context;

					// Option to run scripts is true for back-compat
					// Intentionally let the error be thrown if parseHTML is not present
					jQuery.merge( this, jQuery.parseHTML(
						match[ 1 ],
						context && context.nodeType ? context.ownerDocument || context : document,
						true
					) );

					// HANDLE: $(html, props)
					if ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {
						for ( match in context ) {

							// Properties of context are called as methods if possible
							if ( isFunction( this[ match ] ) ) {
								this[ match ]( context[ match ] );

							// ...and otherwise set as attributes
							} else {
								this.attr( match, context[ match ] );
							}
						}
					}

					return this;

				// HANDLE: $(#id)
				} else {
					elem = document.getElementById( match[ 2 ] );

					if ( elem ) {

						// Inject the element directly into the jQuery object
						this[ 0 ] = elem;
						this.length = 1;
					}
					return this;
				}

			// HANDLE: $(expr, $(...))
			} else if ( !context || context.jquery ) {
				return ( context || root ).find( selector );

			// HANDLE: $(expr, context)
			// (which is just equivalent to: $(context).find(expr)
			} else {
				return this.constructor( context ).find( selector );
			}

		// HANDLE: $(DOMElement)
		} else if ( selector.nodeType ) {
			this[ 0 ] = selector;
			this.length = 1;
			return this;

		// HANDLE: $(function)
		// Shortcut for document ready
		} else if ( isFunction( selector ) ) {
			return root.ready !== undefined ?
				root.ready( selector ) :

				// Execute immediately if ready is not present
				selector( jQuery );
		}

		return jQuery.makeArray( selector, this );
	};

// Give the init function the jQuery prototype for later instantiation
init.prototype = jQuery.fn;

// Initialize central reference
rootjQuery = jQuery( document );


var rparentsprev = /^(?:parents|prev(?:Until|All))/,

	// Methods guaranteed to produce a unique set when starting from a unique set
	guaranteedUnique = {
		children: true,
		contents: true,
		next: true,
		prev: true
	};

jQuery.fn.extend( {
	has: function( target ) {
		var targets = jQuery( target, this ),
			l = targets.length;

		return this.filter( function() {
			var i = 0;
			for ( ; i < l; i++ ) {
				if ( jQuery.contains( this, targets[ i ] ) ) {
					return true;
				}
			}
		} );
	},

	closest: function( selectors, context ) {
		var cur,
			i = 0,
			l = this.length,
			matched = [],
			targets = typeof selectors !== "string" && jQuery( selectors );

		// Positional selectors never match, since there's no _selection_ context
		if ( !rneedsContext.test( selectors ) ) {
			for ( ; i < l; i++ ) {
				for ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {

					// Always skip document fragments
					if ( cur.nodeType < 11 && ( targets ?
						targets.index( cur ) > -1 :

						// Don't pass non-elements to Sizzle
						cur.nodeType === 1 &&
							jQuery.find.matchesSelector( cur, selectors ) ) ) {

						matched.push( cur );
						break;
					}
				}
			}
		}

		return this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );
	},

	// Determine the position of an element within the set
	index: function( elem ) {

		// No argument, return index in parent
		if ( !elem ) {
			return ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;
		}

		// Index in selector
		if ( typeof elem === "string" ) {
			return indexOf.call( jQuery( elem ), this[ 0 ] );
		}

		// Locate the position of the desired element
		return indexOf.call( this,

			// If it receives a jQuery object, the first element is used
			elem.jquery ? elem[ 0 ] : elem
		);
	},

	add: function( selector, context ) {
		return this.pushStack(
			jQuery.uniqueSort(
				jQuery.merge( this.get(), jQuery( selector, context ) )
			)
		);
	},

	addBack: function( selector ) {
		return this.add( selector == null ?
			this.prevObject : this.prevObject.filter( selector )
		);
	}
} );

function sibling( cur, dir ) {
	while ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}
	return cur;
}

jQuery.each( {
	parent: function( elem ) {
		var parent = elem.parentNode;
		return parent && parent.nodeType !== 11 ? parent : null;
	},
	parents: function( elem ) {
		return dir( elem, "parentNode" );
	},
	parentsUntil: function( elem, i, until ) {
		return dir( elem, "parentNode", until );
	},
	next: function( elem ) {
		return sibling( elem, "nextSibling" );
	},
	prev: function( elem ) {
		return sibling( elem, "previousSibling" );
	},
	nextAll: function( elem ) {
		return dir( elem, "nextSibling" );
	},
	prevAll: function( elem ) {
		return dir( elem, "previousSibling" );
	},
	nextUntil: function( elem, i, until ) {
		return dir( elem, "nextSibling", until );
	},
	prevUntil: function( elem, i, until ) {
		return dir( elem, "previousSibling", until );
	},
	siblings: function( elem ) {
		return siblings( ( elem.parentNode || {} ).firstChild, elem );
	},
	children: function( elem ) {
		return siblings( elem.firstChild );
	},
	contents: function( elem ) {
        if ( nodeName( elem, "iframe" ) ) {
            return elem.contentDocument;
        }

        // Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only
        // Treat the template element as a regular one in browsers that
        // don't support it.
        if ( nodeName( elem, "template" ) ) {
            elem = elem.content || elem;
        }

        return jQuery.merge( [], elem.childNodes );
	}
}, function( name, fn ) {
	jQuery.fn[ name ] = function( until, selector ) {
		var matched = jQuery.map( this, fn, until );

		if ( name.slice( -5 ) !== "Until" ) {
			selector = until;
		}

		if ( selector && typeof selector === "string" ) {
			matched = jQuery.filter( selector, matched );
		}

		if ( this.length > 1 ) {

			// Remove duplicates
			if ( !guaranteedUnique[ name ] ) {
				jQuery.uniqueSort( matched );
			}

			// Reverse order for parents* and prev-derivatives
			if ( rparentsprev.test( name ) ) {
				matched.reverse();
			}
		}

		return this.pushStack( matched );
	};
} );
var rnothtmlwhite = ( /[^\x20\t\r\n\f]+/g );



// Convert String-formatted options into Object-formatted ones
function createOptions( options ) {
	var object = {};
	jQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {
		object[ flag ] = true;
	} );
	return object;
}

/*
 * Create a callback list using the following parameters:
 *
 *	options: an optional list of space-separated options that will change how
 *			the callback list behaves or a more traditional option object
 *
 * By default a callback list will act like an event callback list and can be
 * "fired" multiple times.
 *
 * Possible options:
 *
 *	once:			will ensure the callback list can only be fired once (like a Deferred)
 *
 *	memory:			will keep track of previous values and will call any callback added
 *					after the list has been fired right away with the latest "memorized"
 *					values (like a Deferred)
 *
 *	unique:			will ensure a callback can only be added once (no duplicate in the list)
 *
 *	stopOnFalse:	interrupt callings when a callback returns false
 *
 */
jQuery.Callbacks = function( options ) {

	// Convert options from String-formatted to Object-formatted if needed
	// (we check in cache first)
	options = typeof options === "string" ?
		createOptions( options ) :
		jQuery.extend( {}, options );

	var // Flag to know if list is currently firing
		firing,

		// Last fire value for non-forgettable lists
		memory,

		// Flag to know if list was already fired
		fired,

		// Flag to prevent firing
		locked,

		// Actual callback list
		list = [],

		// Queue of execution data for repeatable lists
		queue = [],

		// Index of currently firing callback (modified by add/remove as needed)
		firingIndex = -1,

		// Fire callbacks
		fire = function() {

			// Enforce single-firing
			locked = locked || options.once;

			// Execute callbacks for all pending executions,
			// respecting firingIndex overrides and runtime changes
			fired = firing = true;
			for ( ; queue.length; firingIndex = -1 ) {
				memory = queue.shift();
				while ( ++firingIndex < list.length ) {

					// Run callback and check for early termination
					if ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&
						options.stopOnFalse ) {

						// Jump to end and forget the data so .add doesn't re-fire
						firingIndex = list.length;
						memory = false;
					}
				}
			}

			// Forget the data if we're done with it
			if ( !options.memory ) {
				memory = false;
			}

			firing = false;

			// Clean up if we're done firing for good
			if ( locked ) {

				// Keep an empty list if we have data for future add calls
				if ( memory ) {
					list = [];

				// Otherwise, this object is spent
				} else {
					list = "";
				}
			}
		},

		// Actual Callbacks object
		self = {

			// Add a callback or a collection of callbacks to the list
			add: function() {
				if ( list ) {

					// If we have memory from a past run, we should fire after adding
					if ( memory && !firing ) {
						firingIndex = list.length - 1;
						queue.push( memory );
					}

					( function add( args ) {
						jQuery.each( args, function( _, arg ) {
							if ( isFunction( arg ) ) {
								if ( !options.unique || !self.has( arg ) ) {
									list.push( arg );
								}
							} else if ( arg && arg.length && toType( arg ) !== "string" ) {

								// Inspect recursively
								add( arg );
							}
						} );
					} )( arguments );

					if ( memory && !firing ) {
						fire();
					}
				}
				return this;
			},

			// Remove a callback from the list
			remove: function() {
				jQuery.each( arguments, function( _, arg ) {
					var index;
					while ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {
						list.splice( index, 1 );

						// Handle firing indexes
						if ( index <= firingIndex ) {
							firingIndex--;
						}
					}
				} );
				return this;
			},

			// Check if a given callback is in the list.
			// If no argument is given, return whether or not list has callbacks attached.
			has: function( fn ) {
				return fn ?
					jQuery.inArray( fn, list ) > -1 :
					list.length > 0;
			},

			// Remove all callbacks from the list
			empty: function() {
				if ( list ) {
					list = [];
				}
				return this;
			},

			// Disable .fire and .add
			// Abort any current/pending executions
			// Clear all callbacks and values
			disable: function() {
				locked = queue = [];
				list = memory = "";
				return this;
			},
			disabled: function() {
				return !list;
			},

			// Disable .fire
			// Also disable .add unless we have memory (since it would have no effect)
			// Abort any pending executions
			lock: function() {
				locked = queue = [];
				if ( !memory && !firing ) {
					list = memory = "";
				}
				return this;
			},
			locked: function() {
				return !!locked;
			},

			// Call all callbacks with the given context and arguments
			fireWith: function( context, args ) {
				if ( !locked ) {
					args = args || [];
					args = [ context, args.slice ? args.slice() : args ];
					queue.push( args );
					if ( !firing ) {
						fire();
					}
				}
				return this;
			},

			// Call all the callbacks with the given arguments
			fire: function() {
				self.fireWith( this, arguments );
				return this;
			},

			// To know if the callbacks have already been called at least once
			fired: function() {
				return !!fired;
			}
		};

	return self;
};


function Identity( v ) {
	return v;
}
function Thrower( ex ) {
	throw ex;
}

function adoptValue( value, resolve, reject, noValue ) {
	var method;

	try {

		// Check for promise aspect first to privilege synchronous behavior
		if ( value && isFunction( ( method = value.promise ) ) ) {
			method.call( value ).done( resolve ).fail( reject );

		// Other thenables
		} else if ( value && isFunction( ( method = value.then ) ) ) {
			method.call( value, resolve, reject );

		// Other non-thenables
		} else {

			// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:
			// * false: [ value ].slice( 0 ) => resolve( value )
			// * true: [ value ].slice( 1 ) => resolve()
			resolve.apply( undefined, [ value ].slice( noValue ) );
		}

	// For Promises/A+, convert exceptions into rejections
	// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in
	// Deferred#then to conditionally suppress rejection.
	} catch ( value ) {

		// Support: Android 4.0 only
		// Strict mode functions invoked without .call/.apply get global-object context
		reject.apply( undefined, [ value ] );
	}
}

jQuery.extend( {

	Deferred: function( func ) {
		var tuples = [

				// action, add listener, callbacks,
				// ... .then handlers, argument index, [final state]
				[ "notify", "progress", jQuery.Callbacks( "memory" ),
					jQuery.Callbacks( "memory" ), 2 ],
				[ "resolve", "done", jQuery.Callbacks( "once memory" ),
					jQuery.Callbacks( "once memory" ), 0, "resolved" ],
				[ "reject", "fail", jQuery.Callbacks( "once memory" ),
					jQuery.Callbacks( "once memory" ), 1, "rejected" ]
			],
			state = "pending",
			promise = {
				state: function() {
					return state;
				},
				always: function() {
					deferred.done( arguments ).fail( arguments );
					return this;
				},
				"catch": function( fn ) {
					return promise.then( null, fn );
				},

				// Keep pipe for back-compat
				pipe: function( /* fnDone, fnFail, fnProgress */ ) {
					var fns = arguments;

					return jQuery.Deferred( function( newDefer ) {
						jQuery.each( tuples, function( i, tuple ) {

							// Map tuples (progress, done, fail) to arguments (done, fail, progress)
							var fn = isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];

							// deferred.progress(function() { bind to newDefer or newDefer.notify })
							// deferred.done(function() { bind to newDefer or newDefer.resolve })
							// deferred.fail(function() { bind to newDefer or newDefer.reject })
							deferred[ tuple[ 1 ] ]( function() {
								var returned = fn && fn.apply( this, arguments );
								if ( returned && isFunction( returned.promise ) ) {
									returned.promise()
										.progress( newDefer.notify )
										.done( newDefer.resolve )
										.fail( newDefer.reject );
								} else {
									newDefer[ tuple[ 0 ] + "With" ](
										this,
										fn ? [ returned ] : arguments
									);
								}
							} );
						} );
						fns = null;
					} ).promise();
				},
				then: function( onFulfilled, onRejected, onProgress ) {
					var maxDepth = 0;
					function resolve( depth, deferred, handler, special ) {
						return function() {
							var that = this,
								args = arguments,
								mightThrow = function() {
									var returned, then;

									// Support: Promises/A+ section 2.3.3.3.3
									// https://promisesaplus.com/#point-59
									// Ignore double-resolution attempts
									if ( depth < maxDepth ) {
										return;
									}

									returned = handler.apply( that, args );

									// Support: Promises/A+ section 2.3.1
									// https://promisesaplus.com/#point-48
									if ( returned === deferred.promise() ) {
										throw new TypeError( "Thenable self-resolution" );
									}

									// Support: Promises/A+ sections 2.3.3.1, 3.5
									// https://promisesaplus.com/#point-54
									// https://promisesaplus.com/#point-75
									// Retrieve `then` only once
									then = returned &&

										// Support: Promises/A+ section 2.3.4
										// https://promisesaplus.com/#point-64
										// Only check objects and functions for thenability
										( typeof returned === "object" ||
											typeof returned === "function" ) &&
										returned.then;

									// Handle a returned thenable
									if ( isFunction( then ) ) {

										// Special processors (notify) just wait for resolution
										if ( special ) {
											then.call(
												returned,
												resolve( maxDepth, deferred, Identity, special ),
												resolve( maxDepth, deferred, Thrower, special )
											);

										// Normal processors (resolve) also hook into progress
										} else {

											// ...and disregard older resolution values
											maxDepth++;

											then.call(
												returned,
												resolve( maxDepth, deferred, Identity, special ),
												resolve( maxDepth, deferred, Thrower, special ),
												resolve( maxDepth, deferred, Identity,
													deferred.notifyWith )
											);
										}

									// Handle all other returned values
									} else {

										// Only substitute handlers pass on context
										// and multiple values (non-spec behavior)
										if ( handler !== Identity ) {
											that = undefined;
											args = [ returned ];
										}

										// Process the value(s)
										// Default process is resolve
										( special || deferred.resolveWith )( that, args );
									}
								},

								// Only normal processors (resolve) catch and reject exceptions
								process = special ?
									mightThrow :
									function() {
										try {
											mightThrow();
										} catch ( e ) {

											if ( jQuery.Deferred.exceptionHook ) {
												jQuery.Deferred.exceptionHook( e,
													process.stackTrace );
											}

											// Support: Promises/A+ section 2.3.3.3.4.1
											// https://promisesaplus.com/#point-61
											// Ignore post-resolution exceptions
											if ( depth + 1 >= maxDepth ) {

												// Only substitute handlers pass on context
												// and multiple values (non-spec behavior)
												if ( handler !== Thrower ) {
													that = undefined;
													args = [ e ];
												}

												deferred.rejectWith( that, args );
											}
										}
									};

							// Support: Promises/A+ section 2.3.3.3.1
							// https://promisesaplus.com/#point-57
							// Re-resolve promises immediately to dodge false rejection from
							// subsequent errors
							if ( depth ) {
								process();
							} else {

								// Call an optional hook to record the stack, in case of exception
								// since it's otherwise lost when execution goes async
								if ( jQuery.Deferred.getStackHook ) {
									process.stackTrace = jQuery.Deferred.getStackHook();
								}
								window.setTimeout( process );
							}
						};
					}

					return jQuery.Deferred( function( newDefer ) {

						// progress_handlers.add( ... )
						tuples[ 0 ][ 3 ].add(
							resolve(
								0,
								newDefer,
								isFunction( onProgress ) ?
									onProgress :
									Identity,
								newDefer.notifyWith
							)
						);

						// fulfilled_handlers.add( ... )
						tuples[ 1 ][ 3 ].add(
							resolve(
								0,
								newDefer,
								isFunction( onFulfilled ) ?
									onFulfilled :
									Identity
							)
						);

						// rejected_handlers.add( ... )
						tuples[ 2 ][ 3 ].add(
							resolve(
								0,
								newDefer,
								isFunction( onRejected ) ?
									onRejected :
									Thrower
							)
						);
					} ).promise();
				},

				// Get a promise for this deferred
				// If obj is provided, the promise aspect is added to the object
				promise: function( obj ) {
					return obj != null ? jQuery.extend( obj, promise ) : promise;
				}
			},
			deferred = {};

		// Add list-specific methods
		jQuery.each( tuples, function( i, tuple ) {
			var list = tuple[ 2 ],
				stateString = tuple[ 5 ];

			// promise.progress = list.add
			// promise.done = list.add
			// promise.fail = list.add
			promise[ tuple[ 1 ] ] = list.add;

			// Handle state
			if ( stateString ) {
				list.add(
					function() {

						// state = "resolved" (i.e., fulfilled)
						// state = "rejected"
						state = stateString;
					},

					// rejected_callbacks.disable
					// fulfilled_callbacks.disable
					tuples[ 3 - i ][ 2 ].disable,

					// rejected_handlers.disable
					// fulfilled_handlers.disable
					tuples[ 3 - i ][ 3 ].disable,

					// progress_callbacks.lock
					tuples[ 0 ][ 2 ].lock,

					// progress_handlers.lock
					tuples[ 0 ][ 3 ].lock
				);
			}

			// progress_handlers.fire
			// fulfilled_handlers.fire
			// rejected_handlers.fire
			list.add( tuple[ 3 ].fire );

			// deferred.notify = function() { deferred.notifyWith(...) }
			// deferred.resolve = function() { deferred.resolveWith(...) }
			// deferred.reject = function() { deferred.rejectWith(...) }
			deferred[ tuple[ 0 ] ] = function() {
				deferred[ tuple[ 0 ] + "With" ]( this === deferred ? undefined : this, arguments );
				return this;
			};

			// deferred.notifyWith = list.fireWith
			// deferred.resolveWith = list.fireWith
			// deferred.rejectWith = list.fireWith
			deferred[ tuple[ 0 ] + "With" ] = list.fireWith;
		} );

		// Make the deferred a promise
		promise.promise( deferred );

		// Call given func if any
		if ( func ) {
			func.call( deferred, deferred );
		}

		// All done!
		return deferred;
	},

	// Deferred helper
	when: function( singleValue ) {
		var

			// count of uncompleted subordinates
			remaining = arguments.length,

			// count of unprocessed arguments
			i = remaining,

			// subordinate fulfillment data
			resolveContexts = Array( i ),
			resolveValues = slice.call( arguments ),

			// the master Deferred
			master = jQuery.Deferred(),

			// subordinate callback factory
			updateFunc = function( i ) {
				return function( value ) {
					resolveContexts[ i ] = this;
					resolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;
					if ( !( --remaining ) ) {
						master.resolveWith( resolveContexts, resolveValues );
					}
				};
			};

		// Single- and empty arguments are adopted like Promise.resolve
		if ( remaining <= 1 ) {
			adoptValue( singleValue, master.done( updateFunc( i ) ).resolve, master.reject,
				!remaining );

			// Use .then() to unwrap secondary thenables (cf. gh-3000)
			if ( master.state() === "pending" ||
				isFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {

				return master.then();
			}
		}

		// Multiple arguments are aggregated like Promise.all array elements
		while ( i-- ) {
			adoptValue( resolveValues[ i ], updateFunc( i ), master.reject );
		}

		return master.promise();
	}
} );


// These usually indicate a programmer mistake during development,
// warn about them ASAP rather than swallowing them by default.
var rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;

jQuery.Deferred.exceptionHook = function( error, stack ) {

	// Support: IE 8 - 9 only
	// Console exists when dev tools are open, which can happen at any time
	if ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {
		window.console.warn( "jQuery.Deferred exception: " + error.message, error.stack, stack );
	}
};




jQuery.readyException = function( error ) {
	window.setTimeout( function() {
		throw error;
	} );
};




// The deferred used on DOM ready
var readyList = jQuery.Deferred();

jQuery.fn.ready = function( fn ) {

	readyList
		.then( fn )

		// Wrap jQuery.readyException in a function so that the lookup
		// happens at the time of error handling instead of callback
		// registration.
		.catch( function( error ) {
			jQuery.readyException( error );
		} );

	return this;
};

jQuery.extend( {

	// Is the DOM ready to be used? Set to true once it occurs.
	isReady: false,

	// A counter to track how many items to wait for before
	// the ready event fires. See #6781
	readyWait: 1,

	// Handle when the DOM is ready
	ready: function( wait ) {

		// Abort if there are pending holds or we're already ready
		if ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {
			return;
		}

		// Remember that the DOM is ready
		jQuery.isReady = true;

		// If a normal DOM Ready event fired, decrement, and wait if need be
		if ( wait !== true && --jQuery.readyWait > 0 ) {
			return;
		}

		// If there are functions bound, to execute
		readyList.resolveWith( document, [ jQuery ] );
	}
} );

jQuery.ready.then = readyList.then;

// The ready event handler and self cleanup method
function completed() {
	document.removeEventListener( "DOMContentLoaded", completed );
	window.removeEventListener( "load", completed );
	jQuery.ready();
}

// Catch cases where $(document).ready() is called
// after the browser event has already occurred.
// Support: IE <=9 - 10 only
// Older IE sometimes signals "interactive" too soon
if ( document.readyState === "complete" ||
	( document.readyState !== "loading" && !document.documentElement.doScroll ) ) {

	// Handle it asynchronously to allow scripts the opportunity to delay ready
	window.setTimeout( jQuery.ready );

} else {

	// Use the handy event callback
	document.addEventListener( "DOMContentLoaded", completed );

	// A fallback to window.onload, that will always work
	window.addEventListener( "load", completed );
}




// Multifunctional method to get and set values of a collection
// The value/s can optionally be executed if it's a function
var access = function( elems, fn, key, value, chainable, emptyGet, raw ) {
	var i = 0,
		len = elems.length,
		bulk = key == null;

	// Sets many values
	if ( toType( key ) === "object" ) {
		chainable = true;
		for ( i in key ) {
			access( elems, fn, i, key[ i ], true, emptyGet, raw );
		}

	// Sets one value
	} else if ( value !== undefined ) {
		chainable = true;

		if ( !isFunction( value ) ) {
			raw = true;
		}

		if ( bulk ) {

			// Bulk operations run against the entire set
			if ( raw ) {
				fn.call( elems, value );
				fn = null;

			// ...except when executing function values
			} else {
				bulk = fn;
				fn = function( elem, key, value ) {
					return bulk.call( jQuery( elem ), value );
				};
			}
		}

		if ( fn ) {
			for ( ; i < len; i++ ) {
				fn(
					elems[ i ], key, raw ?
					value :
					value.call( elems[ i ], i, fn( elems[ i ], key ) )
				);
			}
		}
	}

	if ( chainable ) {
		return elems;
	}

	// Gets
	if ( bulk ) {
		return fn.call( elems );
	}

	return len ? fn( elems[ 0 ], key ) : emptyGet;
};


// Matches dashed string for camelizing
var rmsPrefix = /^-ms-/,
	rdashAlpha = /-([a-z])/g;

// Used by camelCase as callback to replace()
function fcamelCase( all, letter ) {
	return letter.toUpperCase();
}

// Convert dashed to camelCase; used by the css and data modules
// Support: IE <=9 - 11, Edge 12 - 15
// Microsoft forgot to hump their vendor prefix (#9572)
function camelCase( string ) {
	return string.replace( rmsPrefix, "ms-" ).replace( rdashAlpha, fcamelCase );
}
var acceptData = function( owner ) {

	// Accepts only:
	//  - Node
	//    - Node.ELEMENT_NODE
	//    - Node.DOCUMENT_NODE
	//  - Object
	//    - Any
	return owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );
};




function Data() {
	this.expando = jQuery.expando + Data.uid++;
}

Data.uid = 1;

Data.prototype = {

	cache: function( owner ) {

		// Check if the owner object already has a cache
		var value = owner[ this.expando ];

		// If not, create one
		if ( !value ) {
			value = {};

			// We can accept data for non-element nodes in modern browsers,
			// but we should not, see #8335.
			// Always return an empty object.
			if ( acceptData( owner ) ) {

				// If it is a node unlikely to be stringify-ed or looped over
				// use plain assignment
				if ( owner.nodeType ) {
					owner[ this.expando ] = value;

				// Otherwise secure it in a non-enumerable property
				// configurable must be true to allow the property to be
				// deleted when data is removed
				} else {
					Object.defineProperty( owner, this.expando, {
						value: value,
						configurable: true
					} );
				}
			}
		}

		return value;
	},
	set: function( owner, data, value ) {
		var prop,
			cache = this.cache( owner );

		// Handle: [ owner, key, value ] args
		// Always use camelCase key (gh-2257)
		if ( typeof data === "string" ) {
			cache[ camelCase( data ) ] = value;

		// Handle: [ owner, { properties } ] args
		} else {

			// Copy the properties one-by-one to the cache object
			for ( prop in data ) {
				cache[ camelCase( prop ) ] = data[ prop ];
			}
		}
		return cache;
	},
	get: function( owner, key ) {
		return key === undefined ?
			this.cache( owner ) :

			// Always use camelCase key (gh-2257)
			owner[ this.expando ] && owner[ this.expando ][ camelCase( key ) ];
	},
	access: function( owner, key, value ) {

		// In cases where either:
		//
		//   1. No key was specified
		//   2. A string key was specified, but no value provided
		//
		// Take the "read" path and allow the get method to determine
		// which value to return, respectively either:
		//
		//   1. The entire cache object
		//   2. The data stored at the key
		//
		if ( key === undefined ||
				( ( key && typeof key === "string" ) && value === undefined ) ) {

			return this.get( owner, key );
		}

		// When the key is not a string, or both a key and value
		// are specified, set or extend (existing objects) with either:
		//
		//   1. An object of properties
		//   2. A key and value
		//
		this.set( owner, key, value );

		// Since the "set" path can have two possible entry points
		// return the expected data based on which path was taken[*]
		return value !== undefined ? value : key;
	},
	remove: function( owner, key ) {
		var i,
			cache = owner[ this.expando ];

		if ( cache === undefined ) {
			return;
		}

		if ( key !== undefined ) {

			// Support array or space separated string of keys
			if ( Array.isArray( key ) ) {

				// If key is an array of keys...
				// We always set camelCase keys, so remove that.
				key = key.map( camelCase );
			} else {
				key = camelCase( key );

				// If a key with the spaces exists, use it.
				// Otherwise, create an array by matching non-whitespace
				key = key in cache ?
					[ key ] :
					( key.match( rnothtmlwhite ) || [] );
			}

			i = key.length;

			while ( i-- ) {
				delete cache[ key[ i ] ];
			}
		}

		// Remove the expando if there's no more data
		if ( key === undefined || jQuery.isEmptyObject( cache ) ) {

			// Support: Chrome <=35 - 45
			// Webkit & Blink performance suffers when deleting properties
			// from DOM nodes, so set to undefined instead
			// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)
			if ( owner.nodeType ) {
				owner[ this.expando ] = undefined;
			} else {
				delete owner[ this.expando ];
			}
		}
	},
	hasData: function( owner ) {
		var cache = owner[ this.expando ];
		return cache !== undefined && !jQuery.isEmptyObject( cache );
	}
};
var dataPriv = new Data();

var dataUser = new Data();



//	Implementation Summary
//
//	1. Enforce API surface and semantic compatibility with 1.9.x branch
//	2. Improve the module's maintainability by reducing the storage
//		paths to a single mechanism.
//	3. Use the same single mechanism to support "private" and "user" data.
//	4. _Never_ expose "private" data to user code (TODO: Drop _data, _removeData)
//	5. Avoid exposing implementation details on user objects (eg. expando properties)
//	6. Provide a clear path for implementation upgrade to WeakMap in 2014

var rbrace = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
	rmultiDash = /[A-Z]/g;

function getData( data ) {
	if ( data === "true" ) {
		return true;
	}

	if ( data === "false" ) {
		return false;
	}

	if ( data === "null" ) {
		return null;
	}

	// Only convert to a number if it doesn't change the string
	if ( data === +data + "" ) {
		return +data;
	}

	if ( rbrace.test( data ) ) {
		return JSON.parse( data );
	}

	return data;
}

function dataAttr( elem, key, data ) {
	var name;

	// If nothing was found internally, try to fetch any
	// data from the HTML5 data-* attribute
	if ( data === undefined && elem.nodeType === 1 ) {
		name = "data-" + key.replace( rmultiDash, "-$&" ).toLowerCase();
		data = elem.getAttribute( name );

		if ( typeof data === "string" ) {
			try {
				data = getData( data );
			} catch ( e ) {}

			// Make sure we set the data so it isn't changed later
			dataUser.set( elem, key, data );
		} else {
			data = undefined;
		}
	}
	return data;
}

jQuery.extend( {
	hasData: function( elem ) {
		return dataUser.hasData( elem ) || dataPriv.hasData( elem );
	},

	data: function( elem, name, data ) {
		return dataUser.access( elem, name, data );
	},

	removeData: function( elem, name ) {
		dataUser.remove( elem, name );
	},

	// TODO: Now that all calls to _data and _removeData have been replaced
	// with direct calls to dataPriv methods, these can be deprecated.
	_data: function( elem, name, data ) {
		return dataPriv.access( elem, name, data );
	},

	_removeData: function( elem, name ) {
		dataPriv.remove( elem, name );
	}
} );

jQuery.fn.extend( {
	data: function( key, value ) {
		var i, name, data,
			elem = this[ 0 ],
			attrs = elem && elem.attributes;

		// Gets all values
		if ( key === undefined ) {
			if ( this.length ) {
				data = dataUser.get( elem );

				if ( elem.nodeType === 1 && !dataPriv.get( elem, "hasDataAttrs" ) ) {
					i = attrs.length;
					while ( i-- ) {

						// Support: IE 11 only
						// The attrs elements can be null (#14894)
						if ( attrs[ i ] ) {
							name = attrs[ i ].name;
							if ( name.indexOf( "data-" ) === 0 ) {
								name = camelCase( name.slice( 5 ) );
								dataAttr( elem, name, data[ name ] );
							}
						}
					}
					dataPriv.set( elem, "hasDataAttrs", true );
				}
			}

			return data;
		}

		// Sets multiple values
		if ( typeof key === "object" ) {
			return this.each( function() {
				dataUser.set( this, key );
			} );
		}

		return access( this, function( value ) {
			var data;

			// The calling jQuery object (element matches) is not empty
			// (and therefore has an element appears at this[ 0 ]) and the
			// `value` parameter was not undefined. An empty jQuery object
			// will result in `undefined` for elem = this[ 0 ] which will
			// throw an exception if an attempt to read a data cache is made.
			if ( elem && value === undefined ) {

				// Attempt to get data from the cache
				// The key will always be camelCased in Data
				data = dataUser.get( elem, key );
				if ( data !== undefined ) {
					return data;
				}

				// Attempt to "discover" the data in
				// HTML5 custom data-* attrs
				data = dataAttr( elem, key );
				if ( data !== undefined ) {
					return data;
				}

				// We tried really hard, but the data doesn't exist.
				return;
			}

			// Set the data...
			this.each( function() {

				// We always store the camelCased key
				dataUser.set( this, key, value );
			} );
		}, null, value, arguments.length > 1, null, true );
	},

	removeData: function( key ) {
		return this.each( function() {
			dataUser.remove( this, key );
		} );
	}
} );


jQuery.extend( {
	queue: function( elem, type, data ) {
		var queue;

		if ( elem ) {
			type = ( type || "fx" ) + "queue";
			queue = dataPriv.get( elem, type );

			// Speed up dequeue by getting out quickly if this is just a lookup
			if ( data ) {
				if ( !queue || Array.isArray( data ) ) {
					queue = dataPriv.access( elem, type, jQuery.makeArray( data ) );
				} else {
					queue.push( data );
				}
			}
			return queue || [];
		}
	},

	dequeue: function( elem, type ) {
		type = type || "fx";

		var queue = jQuery.queue( elem, type ),
			startLength = queue.length,
			fn = queue.shift(),
			hooks = jQuery._queueHooks( elem, type ),
			next = function() {
				jQuery.dequeue( elem, type );
			};

		// If the fx queue is dequeued, always remove the progress sentinel
		if ( fn === "inprogress" ) {
			fn = queue.shift();
			startLength--;
		}

		if ( fn ) {

			// Add a progress sentinel to prevent the fx queue from being
			// automatically dequeued
			if ( type === "fx" ) {
				queue.unshift( "inprogress" );
			}

			// Clear up the last queue stop function
			delete hooks.stop;
			fn.call( elem, next, hooks );
		}

		if ( !startLength && hooks ) {
			hooks.empty.fire();
		}
	},

	// Not public - generate a queueHooks object, or return the current one
	_queueHooks: function( elem, type ) {
		var key = type + "queueHooks";
		return dataPriv.get( elem, key ) || dataPriv.access( elem, key, {
			empty: jQuery.Callbacks( "once memory" ).add( function() {
				dataPriv.remove( elem, [ type + "queue", key ] );
			} )
		} );
	}
} );

jQuery.fn.extend( {
	queue: function( type, data ) {
		var setter = 2;

		if ( typeof type !== "string" ) {
			data = type;
			type = "fx";
			setter--;
		}

		if ( arguments.length < setter ) {
			return jQuery.queue( this[ 0 ], type );
		}

		return data === undefined ?
			this :
			this.each( function() {
				var queue = jQuery.queue( this, type, data );

				// Ensure a hooks for this queue
				jQuery._queueHooks( this, type );

				if ( type === "fx" && queue[ 0 ] !== "inprogress" ) {
					jQuery.dequeue( this, type );
				}
			} );
	},
	dequeue: function( type ) {
		return this.each( function() {
			jQuery.dequeue( this, type );
		} );
	},
	clearQueue: function( type ) {
		return this.queue( type || "fx", [] );
	},

	// Get a promise resolved when queues of a certain type
	// are emptied (fx is the type by default)
	promise: function( type, obj ) {
		var tmp,
			count = 1,
			defer = jQuery.Deferred(),
			elements = this,
			i = this.length,
			resolve = function() {
				if ( !( --count ) ) {
					defer.resolveWith( elements, [ elements ] );
				}
			};

		if ( typeof type !== "string" ) {
			obj = type;
			type = undefined;
		}
		type = type || "fx";

		while ( i-- ) {
			tmp = dataPriv.get( elements[ i ], type + "queueHooks" );
			if ( tmp && tmp.empty ) {
				count++;
				tmp.empty.add( resolve );
			}
		}
		resolve();
		return defer.promise( obj );
	}
} );
var pnum = ( /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/ ).source;

var rcssNum = new RegExp( "^(?:([+-])=|)(" + pnum + ")([a-z%]*)$", "i" );


var cssExpand = [ "Top", "Right", "Bottom", "Left" ];

var isHiddenWithinTree = function( elem, el ) {

		// isHiddenWithinTree might be called from jQuery#filter function;
		// in that case, element will be second argument
		elem = el || elem;

		// Inline style trumps all
		return elem.style.display === "none" ||
			elem.style.display === "" &&

			// Otherwise, check computed style
			// Support: Firefox <=43 - 45
			// Disconnected elements can have computed display: none, so first confirm that elem is
			// in the document.
			jQuery.contains( elem.ownerDocument, elem ) &&

			jQuery.css( elem, "display" ) === "none";
	};

var swap = function( elem, options, callback, args ) {
	var ret, name,
		old = {};

	// Remember the old values, and insert the new ones
	for ( name in options ) {
		old[ name ] = elem.style[ name ];
		elem.style[ name ] = options[ name ];
	}

	ret = callback.apply( elem, args || [] );

	// Revert the old values
	for ( name in options ) {
		elem.style[ name ] = old[ name ];
	}

	return ret;
};




function adjustCSS( elem, prop, valueParts, tween ) {
	var adjusted, scale,
		maxIterations = 20,
		currentValue = tween ?
			function() {
				return tween.cur();
			} :
			function() {
				return jQuery.css( elem, prop, "" );
			},
		initial = currentValue(),
		unit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? "" : "px" ),

		// Starting value computation is required for potential unit mismatches
		initialInUnit = ( jQuery.cssNumber[ prop ] || unit !== "px" && +initial ) &&
			rcssNum.exec( jQuery.css( elem, prop ) );

	if ( initialInUnit && initialInUnit[ 3 ] !== unit ) {

		// Support: Firefox <=54
		// Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)
		initial = initial / 2;

		// Trust units reported by jQuery.css
		unit = unit || initialInUnit[ 3 ];

		// Iteratively approximate from a nonzero starting point
		initialInUnit = +initial || 1;

		while ( maxIterations-- ) {

			// Evaluate and update our best guess (doubling guesses that zero out).
			// Finish if the scale equals or crosses 1 (making the old*new product non-positive).
			jQuery.style( elem, prop, initialInUnit + unit );
			if ( ( 1 - scale ) * ( 1 - ( scale = currentValue() / initial || 0.5 ) ) <= 0 ) {
				maxIterations = 0;
			}
			initialInUnit = initialInUnit / scale;

		}

		initialInUnit = initialInUnit * 2;
		jQuery.style( elem, prop, initialInUnit + unit );

		// Make sure we update the tween properties later on
		valueParts = valueParts || [];
	}

	if ( valueParts ) {
		initialInUnit = +initialInUnit || +initial || 0;

		// Apply relative offset (+=/-=) if specified
		adjusted = valueParts[ 1 ] ?
			initialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :
			+valueParts[ 2 ];
		if ( tween ) {
			tween.unit = unit;
			tween.start = initialInUnit;
			tween.end = adjusted;
		}
	}
	return adjusted;
}


var defaultDisplayMap = {};

function getDefaultDisplay( elem ) {
	var temp,
		doc = elem.ownerDocument,
		nodeName = elem.nodeName,
		display = defaultDisplayMap[ nodeName ];

	if ( display ) {
		return display;
	}

	temp = doc.body.appendChild( doc.createElement( nodeName ) );
	display = jQuery.css( temp, "display" );

	temp.parentNode.removeChild( temp );

	if ( display === "none" ) {
		display = "block";
	}
	defaultDisplayMap[ nodeName ] = display;

	return display;
}

function showHide( elements, show ) {
	var display, elem,
		values = [],
		index = 0,
		length = elements.length;

	// Determine new display value for elements that need to change
	for ( ; index < length; index++ ) {
		elem = elements[ index ];
		if ( !elem.style ) {
			continue;
		}

		display = elem.style.display;
		if ( show ) {

			// Since we force visibility upon cascade-hidden elements, an immediate (and slow)
			// check is required in this first loop unless we have a nonempty display value (either
			// inline or about-to-be-restored)
			if ( display === "none" ) {
				values[ index ] = dataPriv.get( elem, "display" ) || null;
				if ( !values[ index ] ) {
					elem.style.display = "";
				}
			}
			if ( elem.style.display === "" && isHiddenWithinTree( elem ) ) {
				values[ index ] = getDefaultDisplay( elem );
			}
		} else {
			if ( display !== "none" ) {
				values[ index ] = "none";

				// Remember what we're overwriting
				dataPriv.set( elem, "display", display );
			}
		}
	}

	// Set the display of the elements in a second loop to avoid constant reflow
	for ( index = 0; index < length; index++ ) {
		if ( values[ index ] != null ) {
			elements[ index ].style.display = values[ index ];
		}
	}

	return elements;
}

jQuery.fn.extend( {
	show: function() {
		return showHide( this, true );
	},
	hide: function() {
		return showHide( this );
	},
	toggle: function( state ) {
		if ( typeof state === "boolean" ) {
			return state ? this.show() : this.hide();
		}

		return this.each( function() {
			if ( isHiddenWithinTree( this ) ) {
				jQuery( this ).show();
			} else {
				jQuery( this ).hide();
			}
		} );
	}
} );
var rcheckableType = ( /^(?:checkbox|radio)$/i );

var rtagName = ( /<([a-z][^\/\0>\x20\t\r\n\f]+)/i );

var rscriptType = ( /^$|^module$|\/(?:java|ecma)script/i );



// We have to close these tags to support XHTML (#13200)
var wrapMap = {

	// Support: IE <=9 only
	option: [ 1, "<select multiple='multiple'>", "</select>" ],

	// XHTML parsers do not magically insert elements in the
	// same way that tag soup parsers do. So we cannot shorten
	// this by omitting <tbody> or other required elements.
	thead: [ 1, "<table>", "</table>" ],
	col: [ 2, "<table><colgroup>", "</colgroup></table>" ],
	tr: [ 2, "<table><tbody>", "</tbody></table>" ],
	td: [ 3, "<table><tbody><tr>", "</tr></tbody></table>" ],

	_default: [ 0, "", "" ]
};

// Support: IE <=9 only
wrapMap.optgroup = wrapMap.option;

wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
wrapMap.th = wrapMap.td;


function getAll( context, tag ) {

	// Support: IE <=9 - 11 only
	// Use typeof to avoid zero-argument method invocation on host objects (#15151)
	var ret;

	if ( typeof context.getElementsByTagName !== "undefined" ) {
		ret = context.getElementsByTagName( tag || "*" );

	} else if ( typeof context.querySelectorAll !== "undefined" ) {
		ret = context.querySelectorAll( tag || "*" );

	} else {
		ret = [];
	}

	if ( tag === undefined || tag && nodeName( context, tag ) ) {
		return jQuery.merge( [ context ], ret );
	}

	return ret;
}


// Mark scripts as having already been evaluated
function setGlobalEval( elems, refElements ) {
	var i = 0,
		l = elems.length;

	for ( ; i < l; i++ ) {
		dataPriv.set(
			elems[ i ],
			"globalEval",
			!refElements || dataPriv.get( refElements[ i ], "globalEval" )
		);
	}
}


var rhtml = /<|&#?\w+;/;

function buildFragment( elems, context, scripts, selection, ignored ) {
	var elem, tmp, tag, wrap, contains, j,
		fragment = context.createDocumentFragment(),
		nodes = [],
		i = 0,
		l = elems.length;

	for ( ; i < l; i++ ) {
		elem = elems[ i ];

		if ( elem || elem === 0 ) {

			// Add nodes directly
			if ( toType( elem ) === "object" ) {

				// Support: Android <=4.0 only, PhantomJS 1 only
				// push.apply(_, arraylike) throws on ancient WebKit
				jQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );

			// Convert non-html into a text node
			} else if ( !rhtml.test( elem ) ) {
				nodes.push( context.createTextNode( elem ) );

			// Convert html into DOM nodes
			} else {
				tmp = tmp || fragment.appendChild( context.createElement( "div" ) );

				// Deserialize a standard representation
				tag = ( rtagName.exec( elem ) || [ "", "" ] )[ 1 ].toLowerCase();
				wrap = wrapMap[ tag ] || wrapMap._default;
				tmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];

				// Descend through wrappers to the right content
				j = wrap[ 0 ];
				while ( j-- ) {
					tmp = tmp.lastChild;
				}

				// Support: Android <=4.0 only, PhantomJS 1 only
				// push.apply(_, arraylike) throws on ancient WebKit
				jQuery.merge( nodes, tmp.childNodes );

				// Remember the top-level container
				tmp = fragment.firstChild;

				// Ensure the created nodes are orphaned (#12392)
				tmp.textContent = "";
			}
		}
	}

	// Remove wrapper from fragment
	fragment.textContent = "";

	i = 0;
	while ( ( elem = nodes[ i++ ] ) ) {

		// Skip elements already in the context collection (trac-4087)
		if ( selection && jQuery.inArray( elem, selection ) > -1 ) {
			if ( ignored ) {
				ignored.push( elem );
			}
			continue;
		}

		contains = jQuery.contains( elem.ownerDocument, elem );

		// Append to fragment
		tmp = getAll( fragment.appendChild( elem ), "script" );

		// Preserve script evaluation history
		if ( contains ) {
			setGlobalEval( tmp );
		}

		// Capture executables
		if ( scripts ) {
			j = 0;
			while ( ( elem = tmp[ j++ ] ) ) {
				if ( rscriptType.test( elem.type || "" ) ) {
					scripts.push( elem );
				}
			}
		}
	}

	return fragment;
}


( function() {
	var fragment = document.createDocumentFragment(),
		div = fragment.appendChild( document.createElement( "div" ) ),
		input = document.createElement( "input" );

	// Support: Android 4.0 - 4.3 only
	// Check state lost if the name is set (#11217)
	// Support: Windows Web Apps (WWA)
	// `name` and `type` must use .setAttribute for WWA (#14901)
	input.setAttribute( "type", "radio" );
	input.setAttribute( "checked", "checked" );
	input.setAttribute( "name", "t" );

	div.appendChild( input );

	// Support: Android <=4.1 only
	// Older WebKit doesn't clone checked state correctly in fragments
	support.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;

	// Support: IE <=11 only
	// Make sure textarea (and checkbox) defaultValue is properly cloned
	div.innerHTML = "<textarea>x</textarea>";
	support.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;
} )();
var documentElement = document.documentElement;



var
	rkeyEvent = /^key/,
	rmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
	rtypenamespace = /^([^.]*)(?:\.(.+)|)/;

function returnTrue() {
	return true;
}

function returnFalse() {
	return false;
}

// Support: IE <=9 only
// See #13393 for more info
function safeActiveElement() {
	try {
		return document.activeElement;
	} catch ( err ) { }
}

function on( elem, types, selector, data, fn, one ) {
	var origFn, type;

	// Types can be a map of types/handlers
	if ( typeof types === "object" ) {

		// ( types-Object, selector, data )
		if ( typeof selector !== "string" ) {

			// ( types-Object, data )
			data = data || selector;
			selector = undefined;
		}
		for ( type in types ) {
			on( elem, type, selector, data, types[ type ], one );
		}
		return elem;
	}

	if ( data == null && fn == null ) {

		// ( types, fn )
		fn = selector;
		data = selector = undefined;
	} else if ( fn == null ) {
		if ( typeof selector === "string" ) {

			// ( types, selector, fn )
			fn = data;
			data = undefined;
		} else {

			// ( types, data, fn )
			fn = data;
			data = selector;
			selector = undefined;
		}
	}
	if ( fn === false ) {
		fn = returnFalse;
	} else if ( !fn ) {
		return elem;
	}

	if ( one === 1 ) {
		origFn = fn;
		fn = function( event ) {

			// Can use an empty set, since event contains the info
			jQuery().off( event );
			return origFn.apply( this, arguments );
		};

		// Use same guid so caller can remove using origFn
		fn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );
	}
	return elem.each( function() {
		jQuery.event.add( this, types, fn, data, selector );
	} );
}

/*
 * Helper functions for managing events -- not part of the public interface.
 * Props to Dean Edwards' addEvent library for many of the ideas.
 */
jQuery.event = {

	global: {},

	add: function( elem, types, handler, data, selector ) {

		var handleObjIn, eventHandle, tmp,
			events, t, handleObj,
			special, handlers, type, namespaces, origType,
			elemData = dataPriv.get( elem );

		// Don't attach events to noData or text/comment nodes (but allow plain objects)
		if ( !elemData ) {
			return;
		}

		// Caller can pass in an object of custom data in lieu of the handler
		if ( handler.handler ) {
			handleObjIn = handler;
			handler = handleObjIn.handler;
			selector = handleObjIn.selector;
		}

		// Ensure that invalid selectors throw exceptions at attach time
		// Evaluate against documentElement in case elem is a non-element node (e.g., document)
		if ( selector ) {
			jQuery.find.matchesSelector( documentElement, selector );
		}

		// Make sure that the handler has a unique ID, used to find/remove it later
		if ( !handler.guid ) {
			handler.guid = jQuery.guid++;
		}

		// Init the element's event structure and main handler, if this is the first
		if ( !( events = elemData.events ) ) {
			events = elemData.events = {};
		}
		if ( !( eventHandle = elemData.handle ) ) {
			eventHandle = elemData.handle = function( e ) {

				// Discard the second event of a jQuery.event.trigger() and
				// when an event is called after a page has unloaded
				return typeof jQuery !== "undefined" && jQuery.event.triggered !== e.type ?
					jQuery.event.dispatch.apply( elem, arguments ) : undefined;
			};
		}

		// Handle multiple events separated by a space
		types = ( types || "" ).match( rnothtmlwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[ t ] ) || [];
			type = origType = tmp[ 1 ];
			namespaces = ( tmp[ 2 ] || "" ).split( "." ).sort();

			// There *must* be a type, no attaching namespace-only handlers
			if ( !type ) {
				continue;
			}

			// If event changes its type, use the special event handlers for the changed type
			special = jQuery.event.special[ type ] || {};

			// If selector defined, determine special event api type, otherwise given type
			type = ( selector ? special.delegateType : special.bindType ) || type;

			// Update special based on newly reset type
			special = jQuery.event.special[ type ] || {};

			// handleObj is passed to all event handlers
			handleObj = jQuery.extend( {
				type: type,
				origType: origType,
				data: data,
				handler: handler,
				guid: handler.guid,
				selector: selector,
				needsContext: selector && jQuery.expr.match.needsContext.test( selector ),
				namespace: namespaces.join( "." )
			}, handleObjIn );

			// Init the event handler queue if we're the first
			if ( !( handlers = events[ type ] ) ) {
				handlers = events[ type ] = [];
				handlers.delegateCount = 0;

				// Only use addEventListener if the special events handler returns false
				if ( !special.setup ||
					special.setup.call( elem, data, namespaces, eventHandle ) === false ) {

					if ( elem.addEventListener ) {
						elem.addEventListener( type, eventHandle );
					}
				}
			}

			if ( special.add ) {
				special.add.call( elem, handleObj );

				if ( !handleObj.handler.guid ) {
					handleObj.handler.guid = handler.guid;
				}
			}

			// Add to the element's handler list, delegates in front
			if ( selector ) {
				handlers.splice( handlers.delegateCount++, 0, handleObj );
			} else {
				handlers.push( handleObj );
			}

			// Keep track of which events have ever been used, for event optimization
			jQuery.event.global[ type ] = true;
		}

	},

	// Detach an event or set of events from an element
	remove: function( elem, types, handler, selector, mappedTypes ) {

		var j, origCount, tmp,
			events, t, handleObj,
			special, handlers, type, namespaces, origType,
			elemData = dataPriv.hasData( elem ) && dataPriv.get( elem );

		if ( !elemData || !( events = elemData.events ) ) {
			return;
		}

		// Once for each type.namespace in types; type may be omitted
		types = ( types || "" ).match( rnothtmlwhite ) || [ "" ];
		t = types.length;
		while ( t-- ) {
			tmp = rtypenamespace.exec( types[ t ] ) || [];
			type = origType = tmp[ 1 ];
			namespaces = ( tmp[ 2 ] || "" ).split( "." ).sort();

			// Unbind all events (on this namespace, if provided) for the element
			if ( !type ) {
				for ( type in events ) {
					jQuery.event.remove( elem, type + types[ t ], handler, selector, true );
				}
				continue;
			}

			special = jQuery.event.special[ type ] || {};
			type = ( selector ? special.delegateType : special.bindType ) || type;
			handlers = events[ type ] || [];
			tmp = tmp[ 2 ] &&
				new RegExp( "(^|\\.)" + namespaces.join( "\\.(?:.*\\.|)" ) + "(\\.|$)" );

			// Remove matching events
			origCount = j = handlers.length;
			while ( j-- ) {
				handleObj = handlers[ j ];

				if ( ( mappedTypes || origType === handleObj.origType ) &&
					( !handler || handler.guid === handleObj.guid ) &&
					( !tmp || tmp.test( handleObj.namespace ) ) &&
					( !selector || selector === handleObj.selector ||
						selector === "**" && handleObj.selector ) ) {
					handlers.splice( j, 1 );

					if ( handleObj.selector ) {
						handlers.delegateCount--;
					}
					if ( special.remove ) {
						special.remove.call( elem, handleObj );
					}
				}
			}

			// Remove generic event handler if we removed something and no more handlers exist
			// (avoids potential for endless recursion during removal of special event handlers)
			if ( origCount && !handlers.length ) {
				if ( !special.teardown ||
					special.teardown.call( elem, namespaces, elemData.handle ) === false ) {

					jQuery.removeEvent( elem, type, elemData.handle );
				}

				delete events[ type ];
			}
		}

		// Remove data and the expando if it's no longer used
		if ( jQuery.isEmptyObject( events ) ) {
			dataPriv.remove( elem, "handle events" );
		}
	},

	dispatch: function( nativeEvent ) {

		// Make a writable jQuery.Event from the native event object
		var event = jQuery.event.fix( nativeEvent );

		var i, j, ret, matched, handleObj, handlerQueue,
			args = new Array( arguments.length ),
			handlers = ( dataPriv.get( this, "events" ) || {} )[ event.type ] || [],
			special = jQuery.event.special[ event.type ] || {};

		// Use the fix-ed jQuery.Event rather than the (read-only) native event
		args[ 0 ] = event;

		for ( i = 1; i < arguments.length; i++ ) {
			args[ i ] = arguments[ i ];
		}

		event.delegateTarget = this;

		// Call the preDispatch hook for the mapped type, and let it bail if desired
		if ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {
			return;
		}

		// Determine handlers
		handlerQueue = jQuery.event.handlers.call( this, event, handlers );

		// Run delegates first; they may want to stop propagation beneath us
		i = 0;
		while ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {
			event.currentTarget = matched.elem;

			j = 0;
			while ( ( handleObj = matched.handlers[ j++ ] ) &&
				!event.isImmediatePropagationStopped() ) {

				// Triggered event must either 1) have no namespace, or 2) have namespace(s)
				// a subset or equal to those in the bound event (both can have no namespace).
				if ( !event.rnamespace || event.rnamespace.test( handleObj.namespace ) ) {

					event.handleObj = handleObj;
					event.data = handleObj.data;

					ret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||
						handleObj.handler ).apply( matched.elem, args );

					if ( ret !== undefined ) {
						if ( ( event.result = ret ) === false ) {
							event.preventDefault();
							event.stopPropagation();
						}
					}
				}
			}
		}

		// Call the postDispatch hook for the mapped type
		if ( special.postDispatch ) {
			special.postDispatch.call( this, event );
		}

		return event.result;
	},

	handlers: function( event, handlers ) {
		var i, handleObj, sel, matchedHandlers, matchedSelectors,
			handlerQueue = [],
			delegateCount = handlers.delegateCount,
			cur = event.target;

		// Find delegate handlers
		if ( delegateCount &&

			// Support: IE <=9
			// Black-hole SVG <use> instance trees (trac-13180)
			cur.nodeType &&

			// Support: Firefox <=42
			// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)
			// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click
			// Support: IE 11 only
			// ...but not arrow key "clicks" of radio inputs, which can have `button` -1 (gh-2343)
			!( event.type === "click" && event.button >= 1 ) ) {

			for ( ; cur !== this; cur = cur.parentNode || this ) {

				// Don't check non-elements (#13208)
				// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)
				if ( cur.nodeType === 1 && !( event.type === "click" && cur.disabled === true ) ) {
					matchedHandlers = [];
					matchedSelectors = {};
					for ( i = 0; i < delegateCount; i++ ) {
						handleObj = handlers[ i ];

						// Don't conflict with Object.prototype properties (#13203)
						sel = handleObj.selector + " ";

						if ( matchedSelectors[ sel ] === undefined ) {
							matchedSelectors[ sel ] = handleObj.needsContext ?
								jQuery( sel, this ).index( cur ) > -1 :
								jQuery.find( sel, this, null, [ cur ] ).length;
						}
						if ( matchedSelectors[ sel ] ) {
							matchedHandlers.push( handleObj );
						}
					}
					if ( matchedHandlers.length ) {
						handlerQueue.push( { elem: cur, handlers: matchedHandlers } );
					}
				}
			}
		}

		// Add the remaining (directly-bound) handlers
		cur = this;
		if ( delegateCount < handlers.length ) {
			handlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );
		}

		return handlerQueue;
	},

	addProp: function( name, hook ) {
		Object.defineProperty( jQuery.Event.prototype, name, {
			enumerable: true,
			configurable: true,

			get: isFunction( hook ) ?
				function() {
					if ( this.originalEvent ) {
							return hook( this.originalEvent );
					}
				} :
				function() {
					if ( this.originalEvent ) {
							return this.originalEvent[ name ];
					}
				},

			set: function( value ) {
				Object.defineProperty( this, name, {
					enumerable: true,
					configurable: true,
					writable: true,
					value: value
				} );
			}
		} );
	},

	fix: function( originalEvent ) {
		return originalEvent[ jQuery.expando ] ?
			originalEvent :
			new jQuery.Event( originalEvent );
	},

	special: {
		load: {

			// Prevent triggered image.load events from bubbling to window.load
			noBubble: true
		},
		focus: {

			// Fire native event if possible so blur/focus sequence is correct
			trigger: function() {
				if ( this !== safeActiveElement() && this.focus ) {
					this.focus();
					return false;
				}
			},
			delegateType: "focusin"
		},
		blur: {
			trigger: function() {
				if ( this === safeActiveElement() && this.blur ) {
					this.blur();
					return false;
				}
			},
			delegateType: "focusout"
		},
		click: {

			// For checkbox, fire native event so checked state will be right
			trigger: function() {
				if ( this.type === "checkbox" && this.click && nodeName( this, "input" ) ) {
					this.click();
					return false;
				}
			},

			// For cross-browser consistency, don't fire native .click() on links
			_default: function( event ) {
				return nodeName( event.target, "a" );
			}
		},

		beforeunload: {
			postDispatch: function( event ) {

				// Support: Firefox 20+
				// Firefox doesn't alert if the returnValue field is not set.
				if ( event.result !== undefined && event.originalEvent ) {
					event.originalEvent.returnValue = event.result;
				}
			}
		}
	}
};

jQuery.removeEvent = function( elem, type, handle ) {

	// This "if" is needed for plain objects
	if ( elem.removeEventListener ) {
		elem.removeEventListener( type, handle );
	}
};

jQuery.Event = function( src, props ) {

	// Allow instantiation without the 'new' keyword
	if ( !( this instanceof jQuery.Event ) ) {
		return new jQuery.Event( src, props );
	}

	// Event object
	if ( src && src.type ) {
		this.originalEvent = src;
		this.type = src.type;

		// Events bubbling up the document may have been marked as prevented
		// by a handler lower down the tree; reflect the correct value.
		this.isDefaultPrevented = src.defaultPrevented ||
				src.defaultPrevented === undefined &&

				// Support: Android <=2.3 only
				src.returnValue === false ?
			returnTrue :
			returnFalse;

		// Create target properties
		// Support: Safari <=6 - 7 only
		// Target should not be a text node (#504, #13143)
		this.target = ( src.target && src.target.nodeType === 3 ) ?
			src.target.parentNode :
			src.target;

		this.currentTarget = src.currentTarget;
		this.relatedTarget = src.relatedTarget;

	// Event type
	} else {
		this.type = src;
	}

	// Put explicitly provided properties onto the event object
	if ( props ) {
		jQuery.extend( this, props );
	}

	// Create a timestamp if incoming event doesn't have one
	this.timeStamp = src && src.timeStamp || Date.now();

	// Mark it as fixed
	this[ jQuery.expando ] = true;
};

// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding
// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html
jQuery.Event.prototype = {
	constructor: jQuery.Event,
	isDefaultPrevented: returnFalse,
	isPropagationStopped: returnFalse,
	isImmediatePropagationStopped: returnFalse,
	isSimulated: false,

	preventDefault: function() {
		var e = this.originalEvent;

		this.isDefaultPrevented = returnTrue;

		if ( e && !this.isSimulated ) {
			e.preventDefault();
		}
	},
	stopPropagation: function() {
		var e = this.originalEvent;

		this.isPropagationStopped = returnTrue;

		if ( e && !this.isSimulated ) {
			e.stopPropagation();
		}
	},
	stopImmediatePropagation: function() {
		var e = this.originalEvent;

		this.isImmediatePropagationStopped = returnTrue;

		if ( e && !this.isSimulated ) {
			e.stopImmediatePropagation();
		}

		this.stopPropagation();
	}
};

// Includes all common event props including KeyEvent and MouseEvent specific props
jQuery.each( {
	altKey: true,
	bubbles: true,
	cancelable: true,
	changedTouches: true,
	ctrlKey: true,
	detail: true,
	eventPhase: true,
	metaKey: true,
	pageX: true,
	pageY: true,
	shiftKey: true,
	view: true,
	"char": true,
	charCode: true,
	key: true,
	keyCode: true,
	button: true,
	buttons: true,
	clientX: true,
	clientY: true,
	offsetX: true,
	offsetY: true,
	pointerId: true,
	pointerType: true,
	screenX: true,
	screenY: true,
	targetTouches: true,
	toElement: true,
	touches: true,

	which: function( event ) {
		var button = event.button;

		// Add which for key events
		if ( event.which == null && rkeyEvent.test( event.type ) ) {
			return event.charCode != null ? event.charCode : event.keyCode;
		}

		// Add which for click: 1 === left; 2 === middle; 3 === right
		if ( !event.which && button !== undefined && rmouseEvent.test( event.type ) ) {
			if ( button & 1 ) {
				return 1;
			}

			if ( button & 2 ) {
				return 3;
			}

			if ( button & 4 ) {
				return 2;
			}

			return 0;
		}

		return event.which;
	}
}, jQuery.event.addProp );

// Create mouseenter/leave events using mouseover/out and event-time checks
// so that event delegation works in jQuery.
// Do the same for pointerenter/pointerleave and pointerover/pointerout
//
// Support: Safari 7 only
// Safari sends mouseenter too often; see:
// https://bugs.chromium.org/p/chromium/issues/detail?id=470258
// for the description of the bug (it existed in older Chrome versions as well).
jQuery.each( {
	mouseenter: "mouseover",
	mouseleave: "mouseout",
	pointerenter: "pointerover",
	pointerleave: "pointerout"
}, function( orig, fix ) {
	jQuery.event.special[ orig ] = {
		delegateType: fix,
		bindType: fix,

		handle: function( event ) {
			var ret,
				target = this,
				related = event.relatedTarget,
				handleObj = event.handleObj;

			// For mouseenter/leave call the handler if related is outside the target.
			// NB: No relatedTarget if the mouse left/entered the browser window
			if ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {
				event.type = handleObj.origType;
				ret = handleObj.handler.apply( this, arguments );
				event.type = fix;
			}
			return ret;
		}
	};
} );

jQuery.fn.extend( {

	on: function( types, selector, data, fn ) {
		return on( this, types, selector, data, fn );
	},
	one: function( types, selector, data, fn ) {
		return on( this, types, selector, data, fn, 1 );
	},
	off: function( types, selector, fn ) {
		var handleObj, type;
		if ( types && types.preventDefault && types.handleObj ) {

			// ( event )  dispatched jQuery.Event
			handleObj = types.handleObj;
			jQuery( types.delegateTarget ).off(
				handleObj.namespace ?
					handleObj.origType + "." + handleObj.namespace :
					handleObj.origType,
				handleObj.selector,
				handleObj.handler
			);
			return this;
		}
		if ( typeof types === "object" ) {

			// ( types-object [, selector] )
			for ( type in types ) {
				this.off( type, selector, types[ type ] );
			}
			return this;
		}
		if ( selector === false || typeof selector === "function" ) {

			// ( types [, fn] )
			fn = selector;
			selector = undefined;
		}
		if ( fn === false ) {
			fn = returnFalse;
		}
		return this.each( function() {
			jQuery.event.remove( this, types, fn, selector );
		} );
	}
} );


var

	/* eslint-disable max-len */

	// See https://github.com/eslint/eslint/issues/3229
	rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,

	/* eslint-enable */

	// Support: IE <=10 - 11, Edge 12 - 13 only
	// In IE/Edge using regex groups here causes severe slowdowns.
	// See https://connect.microsoft.com/IE/feedback/details/1736512/
	rnoInnerhtml = /<script|<style|<link/i,

	// checked="checked" or checked
	rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,
	rcleanScript = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;

// Prefer a tbody over its parent table for containing new rows
function manipulationTarget( elem, content ) {
	if ( nodeName( elem, "table" ) &&
		nodeName( content.nodeType !== 11 ? content : content.firstChild, "tr" ) ) {

		return jQuery( elem ).children( "tbody" )[ 0 ] || elem;
	}

	return elem;
}

// Replace/restore the type attribute of script elements for safe DOM manipulation
function disableScript( elem ) {
	elem.type = ( elem.getAttribute( "type" ) !== null ) + "/" + elem.type;
	return elem;
}
function restoreScript( elem ) {
	if ( ( elem.type || "" ).slice( 0, 5 ) === "true/" ) {
		elem.type = elem.type.slice( 5 );
	} else {
		elem.removeAttribute( "type" );
	}

	return elem;
}

function cloneCopyEvent( src, dest ) {
	var i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;

	if ( dest.nodeType !== 1 ) {
		return;
	}

	// 1. Copy private data: events, handlers, etc.
	if ( dataPriv.hasData( src ) ) {
		pdataOld = dataPriv.access( src );
		pdataCur = dataPriv.set( dest, pdataOld );
		events = pdataOld.events;

		if ( events ) {
			delete pdataCur.handle;
			pdataCur.events = {};

			for ( type in events ) {
				for ( i = 0, l = events[ type ].length; i < l; i++ ) {
					jQuery.event.add( dest, type, events[ type ][ i ] );
				}
			}
		}
	}

	// 2. Copy user data
	if ( dataUser.hasData( src ) ) {
		udataOld = dataUser.access( src );
		udataCur = jQuery.extend( {}, udataOld );

		dataUser.set( dest, udataCur );
	}
}

// Fix IE bugs, see support tests
function fixInput( src, dest ) {
	var nodeName = dest.nodeName.toLowerCase();

	// Fails to persist the checked state of a cloned checkbox or radio button.
	if ( nodeName === "input" && rcheckableType.test( src.type ) ) {
		dest.checked = src.checked;

	// Fails to return the selected option to the default selected state when cloning options
	} else if ( nodeName === "input" || nodeName === "textarea" ) {
		dest.defaultValue = src.defaultValue;
	}
}

function domManip( collection, args, callback, ignored ) {

	// Flatten any nested arrays
	args = concat.apply( [], args );

	var fragment, first, scripts, hasScripts, node, doc,
		i = 0,
		l = collection.length,
		iNoClone = l - 1,
		value = args[ 0 ],
		valueIsFunction = isFunction( value );

	// We can't cloneNode fragments that contain checked, in WebKit
	if ( valueIsFunction ||
			( l > 1 && typeof value === "string" &&
				!support.checkClone && rchecked.test( value ) ) ) {
		return collection.each( function( index ) {
			var self = collection.eq( index );
			if ( valueIsFunction ) {
				args[ 0 ] = value.call( this, index, self.html() );
			}
			domManip( self, args, callback, ignored );
		} );
	}

	if ( l ) {
		fragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );
		first = fragment.firstChild;

		if ( fragment.childNodes.length === 1 ) {
			fragment = first;
		}

		// Require either new content or an interest in ignored elements to invoke the callback
		if ( first || ignored ) {
			scripts = jQuery.map( getAll( fragment, "script" ), disableScript );
			hasScripts = scripts.length;

			// Use the original fragment for the last item
			// instead of the first because it can end up
			// being emptied incorrectly in certain situations (#8070).
			for ( ; i < l; i++ ) {
				node = fragment;

				if ( i !== iNoClone ) {
					node = jQuery.clone( node, true, true );

					// Keep references to cloned scripts for later restoration
					if ( hasScripts ) {

						// Support: Android <=4.0 only, PhantomJS 1 only
						// push.apply(_, arraylike) throws on ancient WebKit
						jQuery.merge( scripts, getAll( node, "script" ) );
					}
				}

				callback.call( collection[ i ], node, i );
			}

			if ( hasScripts ) {
				doc = scripts[ scripts.length - 1 ].ownerDocument;

				// Reenable scripts
				jQuery.map( scripts, restoreScript );

				// Evaluate executable scripts on first document insertion
				for ( i = 0; i < hasScripts; i++ ) {
					node = scripts[ i ];
					if ( rscriptType.test( node.type || "" ) &&
						!dataPriv.access( node, "globalEval" ) &&
						jQuery.contains( doc, node ) ) {

						if ( node.src && ( node.type || "" ).toLowerCase()  !== "module" ) {

							// Optional AJAX dependency, but won't run scripts if not present
							if ( jQuery._evalUrl ) {
								jQuery._evalUrl( node.src );
							}
						} else {
							DOMEval( node.textContent.replace( rcleanScript, "" ), doc, node );
						}
					}
				}
			}
		}
	}

	return collection;
}

function remove( elem, selector, keepData ) {
	var node,
		nodes = selector ? jQuery.filter( selector, elem ) : elem,
		i = 0;

	for ( ; ( node = nodes[ i ] ) != null; i++ ) {
		if ( !keepData && node.nodeType === 1 ) {
			jQuery.cleanData( getAll( node ) );
		}

		if ( node.parentNode ) {
			if ( keepData && jQuery.contains( node.ownerDocument, node ) ) {
				setGlobalEval( getAll( node, "script" ) );
			}
			node.parentNode.removeChild( node );
		}
	}

	return elem;
}

jQuery.extend( {
	htmlPrefilter: function( html ) {
		return html.replace( rxhtmlTag, "<$1></$2>" );
	},

	clone: function( elem, dataAndEvents, deepDataAndEvents ) {
		var i, l, srcElements, destElements,
			clone = elem.cloneNode( true ),
			inPage = jQuery.contains( elem.ownerDocument, elem );

		// Fix IE cloning issues
		if ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&
				!jQuery.isXMLDoc( elem ) ) {

			// We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2
			destElements = getAll( clone );
			srcElements = getAll( elem );

			for ( i = 0, l = srcElements.length; i < l; i++ ) {
				fixInput( srcElements[ i ], destElements[ i ] );
			}
		}

		// Copy the events from the original to the clone
		if ( dataAndEvents ) {
			if ( deepDataAndEvents ) {
				srcElements = srcElements || getAll( elem );
				destElements = destElements || getAll( clone );

				for ( i = 0, l = srcElements.length; i < l; i++ ) {
					cloneCopyEvent( srcElements[ i ], destElements[ i ] );
				}
			} else {
				cloneCopyEvent( elem, clone );
			}
		}

		// Preserve script evaluation history
		destElements = getAll( clone, "script" );
		if ( destElements.length > 0 ) {
			setGlobalEval( destElements, !inPage && getAll( elem, "script" ) );
		}

		// Return the cloned set
		return clone;
	},

	cleanData: function( elems ) {
		var data, elem, type,
			special = jQuery.event.special,
			i = 0;

		for ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {
			if ( acceptData( elem ) ) {
				if ( ( data = elem[ dataPriv.expando ] ) ) {
					if ( data.events ) {
						for ( type in data.events ) {
							if ( special[ type ] ) {
								jQuery.event.remove( elem, type );

							// This is a shortcut to avoid jQuery.event.remove's overhead
							} else {
								jQuery.removeEvent( elem, type, data.handle );
							}
						}
					}

					// Support: Chrome <=35 - 45+
					// Assign undefined instead of using delete, see Data#remove
					elem[ dataPriv.expando ] = undefined;
				}
				if ( elem[ dataUser.expando ] ) {

					// Support: Chrome <=35 - 45+
					// Assign undefined instead of using delete, see Data#remove
					elem[ dataUser.expando ] = undefined;
				}
			}
		}
	}
} );

jQuery.fn.extend( {
	detach: function( selector ) {
		return remove( this, selector, true );
	},

	remove: function( selector ) {
		return remove( this, selector );
	},

	text: function( value ) {
		return access( this, function( value ) {
			return value === undefined ?
				jQuery.text( this ) :
				this.empty().each( function() {
					if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
						this.textContent = value;
					}
				} );
		}, null, value, arguments.length );
	},

	append: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.appendChild( elem );
			}
		} );
	},

	prepend: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {
				var target = manipulationTarget( this, elem );
				target.insertBefore( elem, target.firstChild );
			}
		} );
	},

	before: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this );
			}
		} );
	},

	after: function() {
		return domManip( this, arguments, function( elem ) {
			if ( this.parentNode ) {
				this.parentNode.insertBefore( elem, this.nextSibling );
			}
		} );
	},

	empty: function() {
		var elem,
			i = 0;

		for ( ; ( elem = this[ i ] ) != null; i++ ) {
			if ( elem.nodeType === 1 ) {

				// Prevent memory leaks
				jQuery.cleanData( getAll( elem, false ) );

				// Remove any remaining nodes
				elem.textContent = "";
			}
		}

		return this;
	},

	clone: function( dataAndEvents, deepDataAndEvents ) {
		dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
		deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;

		return this.map( function() {
			return jQuery.clone( this, dataAndEvents, deepDataAndEvents );
		} );
	},

	html: function( value ) {
		return access( this, function( value ) {
			var elem = this[ 0 ] || {},
				i = 0,
				l = this.length;

			if ( value === undefined && elem.nodeType === 1 ) {
				return elem.innerHTML;
			}

			// See if we can take a shortcut and just use innerHTML
			if ( typeof value === "string" && !rnoInnerhtml.test( value ) &&
				!wrapMap[ ( rtagName.exec( value ) || [ "", "" ] )[ 1 ].toLowerCase() ] ) {

				value = jQuery.htmlPrefilter( value );

				try {
					for ( ; i < l; i++ ) {
						elem = this[ i ] || {};

						// Remove element nodes and prevent memory leaks
						if ( elem.nodeType === 1 ) {
							jQuery.cleanData( getAll( elem, false ) );
							elem.innerHTML = value;
						}
					}

					elem = 0;

				// If using innerHTML throws an exception, use the fallback method
				} catch ( e ) {}
			}

			if ( elem ) {
				this.empty().append( value );
			}
		}, null, value, arguments.length );
	},

	replaceWith: function() {
		var ignored = [];

		// Make the changes, replacing each non-ignored context element with the new content
		return domManip( this, arguments, function( elem ) {
			var parent = this.parentNode;

			if ( jQuery.inArray( this, ignored ) < 0 ) {
				jQuery.cleanData( getAll( this ) );
				if ( parent ) {
					parent.replaceChild( elem, this );
				}
			}

		// Force callback invocation
		}, ignored );
	}
} );

jQuery.each( {
	appendTo: "append",
	prependTo: "prepend",
	insertBefore: "before",
	insertAfter: "after",
	replaceAll: "replaceWith"
}, function( name, original ) {
	jQuery.fn[ name ] = function( selector ) {
		var elems,
			ret = [],
			insert = jQuery( selector ),
			last = insert.length - 1,
			i = 0;

		for ( ; i <= last; i++ ) {
			elems = i === last ? this : this.clone( true );
			jQuery( insert[ i ] )[ original ]( elems );

			// Support: Android <=4.0 only, PhantomJS 1 only
			// .get() because push.apply(_, arraylike) throws on ancient WebKit
			push.apply( ret, elems.get() );
		}

		return this.pushStack( ret );
	};
} );
var rnumnonpx = new RegExp( "^(" + pnum + ")(?!px)[a-z%]+$", "i" );

var getStyles = function( elem ) {

		// Support: IE <=11 only, Firefox <=30 (#15098, #14150)
		// IE throws on elements created in popups
		// FF meanwhile throws on frame elements through "defaultView.getComputedStyle"
		var view = elem.ownerDocument.defaultView;

		if ( !view || !view.opener ) {
			view = window;
		}

		return view.getComputedStyle( elem );
	};

var rboxStyle = new RegExp( cssExpand.join( "|" ), "i" );



( function() {

	// Executing both pixelPosition & boxSizingReliable tests require only one layout
	// so they're executed at the same time to save the second computation.
	function computeStyleTests() {

		// This is a singleton, we need to execute it only once
		if ( !div ) {
			return;
		}

		container.style.cssText = "position:absolute;left:-11111px;width:60px;" +
			"margin-top:1px;padding:0;border:0";
		div.style.cssText =
			"position:relative;display:block;box-sizing:border-box;overflow:scroll;" +
			"margin:auto;border:1px;padding:1px;" +
			"width:60%;top:1%";
		documentElement.appendChild( container ).appendChild( div );

		var divStyle = window.getComputedStyle( div );
		pixelPositionVal = divStyle.top !== "1%";

		// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44
		reliableMarginLeftVal = roundPixelMeasures( divStyle.marginLeft ) === 12;

		// Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3
		// Some styles come back with percentage values, even though they shouldn't
		div.style.right = "60%";
		pixelBoxStylesVal = roundPixelMeasures( divStyle.right ) === 36;

		// Support: IE 9 - 11 only
		// Detect misreporting of content dimensions for box-sizing:border-box elements
		boxSizingReliableVal = roundPixelMeasures( divStyle.width ) === 36;

		// Support: IE 9 only
		// Detect overflow:scroll screwiness (gh-3699)
		div.style.position = "absolute";
		scrollboxSizeVal = div.offsetWidth === 36 || "absolute";

		documentElement.removeChild( container );

		// Nullify the div so it wouldn't be stored in the memory and
		// it will also be a sign that checks already performed
		div = null;
	}

	function roundPixelMeasures( measure ) {
		return Math.round( parseFloat( measure ) );
	}

	var pixelPositionVal, boxSizingReliableVal, scrollboxSizeVal, pixelBoxStylesVal,
		reliableMarginLeftVal,
		container = document.createElement( "div" ),
		div = document.createElement( "div" );

	// Finish early in limited (non-browser) environments
	if ( !div.style ) {
		return;
	}

	// Support: IE <=9 - 11 only
	// Style of cloned element affects source element cloned (#8908)
	div.style.backgroundClip = "content-box";
	div.cloneNode( true ).style.backgroundClip = "";
	support.clearCloneStyle = div.style.backgroundClip === "content-box";

	jQuery.extend( support, {
		boxSizingReliable: function() {
			computeStyleTests();
			return boxSizingReliableVal;
		},
		pixelBoxStyles: function() {
			computeStyleTests();
			return pixelBoxStylesVal;
		},
		pixelPosition: function() {
			computeStyleTests();
			return pixelPositionVal;
		},
		reliableMarginLeft: function() {
			computeStyleTests();
			return reliableMarginLeftVal;
		},
		scrollboxSize: function() {
			computeStyleTests();
			return scrollboxSizeVal;
		}
	} );
} )();


function curCSS( elem, name, computed ) {
	var width, minWidth, maxWidth, ret,

		// Support: Firefox 51+
		// Retrieving style before computed somehow
		// fixes an issue with getting wrong values
		// on detached elements
		style = elem.style;

	computed = computed || getStyles( elem );

	// getPropertyValue is needed for:
	//   .css('filter') (IE 9 only, #12537)
	//   .css('--customProperty) (#3144)
	if ( computed ) {
		ret = computed.getPropertyValue( name ) || computed[ name ];

		if ( ret === "" && !jQuery.contains( elem.ownerDocument, elem ) ) {
			ret = jQuery.style( elem, name );
		}

		// A tribute to the "awesome hack by Dean Edwards"
		// Android Browser returns percentage for some values,
		// but width seems to be reliably pixels.
		// This is against the CSSOM draft spec:
		// https://drafts.csswg.org/cssom/#resolved-values
		if ( !support.pixelBoxStyles() && rnumnonpx.test( ret ) && rboxStyle.test( name ) ) {

			// Remember the original values
			width = style.width;
			minWidth = style.minWidth;
			maxWidth = style.maxWidth;

			// Put in the new values to get a computed value out
			style.minWidth = style.maxWidth = style.width = ret;
			ret = computed.width;

			// Revert the changed values
			style.width = width;
			style.minWidth = minWidth;
			style.maxWidth = maxWidth;
		}
	}

	return ret !== undefined ?

		// Support: IE <=9 - 11 only
		// IE returns zIndex value as an integer.
		ret + "" :
		ret;
}


function addGetHookIf( conditionFn, hookFn ) {

	// Define the hook, we'll check on the first run if it's really needed.
	return {
		get: function() {
			if ( conditionFn() ) {

				// Hook not needed (or it's not possible to use it due
				// to missing dependency), remove it.
				delete this.get;
				return;
			}

			// Hook needed; redefine it so that the support test is not executed again.
			return ( this.get = hookFn ).apply( this, arguments );
		}
	};
}


var

	// Swappable if display is none or starts with table
	// except "table", "table-cell", or "table-caption"
	// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display
	rdisplayswap = /^(none|table(?!-c[ea]).+)/,
	rcustomProp = /^--/,
	cssShow = { position: "absolute", visibility: "hidden", display: "block" },
	cssNormalTransform = {
		letterSpacing: "0",
		fontWeight: "400"
	},

	cssPrefixes = [ "Webkit", "Moz", "ms" ],
	emptyStyle = document.createElement( "div" ).style;

// Return a css property mapped to a potentially vendor prefixed property
function vendorPropName( name ) {

	// Shortcut for names that are not vendor prefixed
	if ( name in emptyStyle ) {
		return name;
	}

	// Check for vendor prefixed names
	var capName = name[ 0 ].toUpperCase() + name.slice( 1 ),
		i = cssPrefixes.length;

	while ( i-- ) {
		name = cssPrefixes[ i ] + capName;
		if ( name in emptyStyle ) {
			return name;
		}
	}
}

// Return a property mapped along what jQuery.cssProps suggests or to
// a vendor prefixed property.
function finalPropName( name ) {
	var ret = jQuery.cssProps[ name ];
	if ( !ret ) {
		ret = jQuery.cssProps[ name ] = vendorPropName( name ) || name;
	}
	return ret;
}

function setPositiveNumber( elem, value, subtract ) {

	// Any relative (+/-) values have already been
	// normalized at this point
	var matches = rcssNum.exec( value );
	return matches ?

		// Guard against undefined "subtract", e.g., when used as in cssHooks
		Math.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || "px" ) :
		value;
}

function boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {
	var i = dimension === "width" ? 1 : 0,
		extra = 0,
		delta = 0;

	// Adjustment may not be necessary
	if ( box === ( isBorderBox ? "border" : "content" ) ) {
		return 0;
	}

	for ( ; i < 4; i += 2 ) {

		// Both box models exclude margin
		if ( box === "margin" ) {
			delta += jQuery.css( elem, box + cssExpand[ i ], true, styles );
		}

		// If we get here with a content-box, we're seeking "padding" or "border" or "margin"
		if ( !isBorderBox ) {

			// Add padding
			delta += jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );

			// For "border" or "margin", add border
			if ( box !== "padding" ) {
				delta += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );

			// But still keep track of it otherwise
			} else {
				extra += jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}

		// If we get here with a border-box (content + padding + border), we're seeking "content" or
		// "padding" or "margin"
		} else {

			// For "content", subtract padding
			if ( box === "content" ) {
				delta -= jQuery.css( elem, "padding" + cssExpand[ i ], true, styles );
			}

			// For "content" or "padding", subtract border
			if ( box !== "margin" ) {
				delta -= jQuery.css( elem, "border" + cssExpand[ i ] + "Width", true, styles );
			}
		}
	}

	// Account for positive content-box scroll gutter when requested by providing computedVal
	if ( !isBorderBox && computedVal >= 0 ) {

		// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border
		// Assuming integer scroll gutter, subtract the rest and round down
		delta += Math.max( 0, Math.ceil(
			elem[ "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -
			computedVal -
			delta -
			extra -
			0.5
		) );
	}

	return delta;
}

function getWidthOrHeight( elem, dimension, extra ) {

	// Start with computed style
	var styles = getStyles( elem ),
		val = curCSS( elem, dimension, styles ),
		isBorderBox = jQuery.css( elem, "boxSizing", false, styles ) === "border-box",
		valueIsBorderBox = isBorderBox;

	// Support: Firefox <=54
	// Return a confounding non-pixel value or feign ignorance, as appropriate.
	if ( rnumnonpx.test( val ) ) {
		if ( !extra ) {
			return val;
		}
		val = "auto";
	}

	// Check for style in case a browser which returns unreliable values
	// for getComputedStyle silently falls back to the reliable elem.style
	valueIsBorderBox = valueIsBorderBox &&
		( support.boxSizingReliable() || val === elem.style[ dimension ] );

	// Fall back to offsetWidth/offsetHeight when value is "auto"
	// This happens for inline elements with no explicit setting (gh-3571)
	// Support: Android <=4.1 - 4.3 only
	// Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)
	if ( val === "auto" ||
		!parseFloat( val ) && jQuery.css( elem, "display", false, styles ) === "inline" ) {

		val = elem[ "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ];

		// offsetWidth/offsetHeight provide border-box values
		valueIsBorderBox = true;
	}

	// Normalize "" and auto
	val = parseFloat( val ) || 0;

	// Adjust for the element's box model
	return ( val +
		boxModelAdjustment(
			elem,
			dimension,
			extra || ( isBorderBox ? "border" : "content" ),
			valueIsBorderBox,
			styles,

			// Provide the current computed size to request scroll gutter calculation (gh-3589)
			val
		)
	) + "px";
}

jQuery.extend( {

	// Add in style property hooks for overriding the default
	// behavior of getting and setting a style property
	cssHooks: {
		opacity: {
			get: function( elem, computed ) {
				if ( computed ) {

					// We should always get a number back from opacity
					var ret = curCSS( elem, "opacity" );
					return ret === "" ? "1" : ret;
				}
			}
		}
	},

	// Don't automatically add "px" to these possibly-unitless properties
	cssNumber: {
		"animationIterationCount": true,
		"columnCount": true,
		"fillOpacity": true,
		"flexGrow": true,
		"flexShrink": true,
		"fontWeight": true,
		"lineHeight": true,
		"opacity": true,
		"order": true,
		"orphans": true,
		"widows": true,
		"zIndex": true,
		"zoom": true
	},

	// Add in properties whose names you wish to fix before
	// setting or getting the value
	cssProps: {},

	// Get and set the style property on a DOM Node
	style: function( elem, name, value, extra ) {

		// Don't set styles on text and comment nodes
		if ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {
			return;
		}

		// Make sure that we're working with the right name
		var ret, type, hooks,
			origName = camelCase( name ),
			isCustomProp = rcustomProp.test( name ),
			style = elem.style;

		// Make sure that we're working with the right name. We don't
		// want to query the value if it is a CSS custom property
		// since they are user-defined.
		if ( !isCustomProp ) {
			name = finalPropName( origName );
		}

		// Gets hook for the prefixed version, then unprefixed version
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// Check if we're setting a value
		if ( value !== undefined ) {
			type = typeof value;

			// Convert "+=" or "-=" to relative numbers (#7345)
			if ( type === "string" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {
				value = adjustCSS( elem, name, ret );

				// Fixes bug #9237
				type = "number";
			}

			// Make sure that null and NaN values aren't set (#7116)
			if ( value == null || value !== value ) {
				return;
			}

			// If a number was passed in, add the unit (except for certain CSS properties)
			if ( type === "number" ) {
				value += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? "" : "px" );
			}

			// background-* props affect original clone's values
			if ( !support.clearCloneStyle && value === "" && name.indexOf( "background" ) === 0 ) {
				style[ name ] = "inherit";
			}

			// If a hook was provided, use that value, otherwise just set the specified value
			if ( !hooks || !( "set" in hooks ) ||
				( value = hooks.set( elem, value, extra ) ) !== undefined ) {

				if ( isCustomProp ) {
					style.setProperty( name, value );
				} else {
					style[ name ] = value;
				}
			}

		} else {

			// If a hook was provided get the non-computed value from there
			if ( hooks && "get" in hooks &&
				( ret = hooks.get( elem, false, extra ) ) !== undefined ) {

				return ret;
			}

			// Otherwise just get the value from the style object
			return style[ name ];
		}
	},

	css: function( elem, name, extra, styles ) {
		var val, num, hooks,
			origName = camelCase( name ),
			isCustomProp = rcustomProp.test( name );

		// Make sure that we're working with the right name. We don't
		// want to modify the value if it is a CSS custom property
		// since they are user-defined.
		if ( !isCustomProp ) {
			name = finalPropName( origName );
		}

		// Try prefixed name followed by the unprefixed name
		hooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];

		// If a hook was provided get the computed value from there
		if ( hooks && "get" in hooks ) {
			val = hooks.get( elem, true, extra );
		}

		// Otherwise, if a way to get the computed value exists, use that
		if ( val === undefined ) {
			val = curCSS( elem, name, styles );
		}

		// Convert "normal" to computed value
		if ( val === "normal" && name in cssNormalTransform ) {
			val = cssNormalTransform[ name ];
		}

		// Make numeric if forced or a qualifier was provided and val looks numeric
		if ( extra === "" || extra ) {
			num = parseFloat( val );
			return extra === true || isFinite( num ) ? num || 0 : val;
		}

		return val;
	}
} );

jQuery.each( [ "height", "width" ], function( i, dimension ) {
	jQuery.cssHooks[ dimension ] = {
		get: function( elem, computed, extra ) {
			if ( computed ) {

				// Certain elements can have dimension info if we invisibly show them
				// but it must have a current display style that would benefit
				return rdisplayswap.test( jQuery.css( elem, "display" ) ) &&

					// Support: Safari 8+
					// Table columns in Safari have non-zero offsetWidth & zero
					// getBoundingClientRect().width unless display is changed.
					// Support: IE <=11 only
					// Running getBoundingClientRect on a disconnected node
					// in IE throws an error.
					( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?
						swap( elem, cssShow, function() {
							return getWidthOrHeight( elem, dimension, extra );
						} ) :
						getWidthOrHeight( elem, dimension, extra );
			}
		},

		set: function( elem, value, extra ) {
			var matches,
				styles = getStyles( elem ),
				isBorderBox = jQuery.css( elem, "boxSizing", false, styles ) === "border-box",
				subtract = extra && boxModelAdjustment(
					elem,
					dimension,
					extra,
					isBorderBox,
					styles
				);

			// Account for unreliable border-box dimensions by comparing offset* to computed and
			// faking a content-box to get border and padding (gh-3699)
			if ( isBorderBox && support.scrollboxSize() === styles.position ) {
				subtract -= Math.ceil(
					elem[ "offset" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -
					parseFloat( styles[ dimension ] ) -
					boxModelAdjustment( elem, dimension, "border", false, styles ) -
					0.5
				);
			}

			// Convert to pixels if value adjustment is needed
			if ( subtract && ( matches = rcssNum.exec( value ) ) &&
				( matches[ 3 ] || "px" ) !== "px" ) {

				elem.style[ dimension ] = value;
				value = jQuery.css( elem, dimension );
			}

			return setPositiveNumber( elem, value, subtract );
		}
	};
} );

jQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,
	function( elem, computed ) {
		if ( computed ) {
			return ( parseFloat( curCSS( elem, "marginLeft" ) ) ||
				elem.getBoundingClientRect().left -
					swap( elem, { marginLeft: 0 }, function() {
						return elem.getBoundingClientRect().left;
					} )
				) + "px";
		}
	}
);

// These hooks are used by animate to expand properties
jQuery.each( {
	margin: "",
	padding: "",
	border: "Width"
}, function( prefix, suffix ) {
	jQuery.cssHooks[ prefix + suffix ] = {
		expand: function( value ) {
			var i = 0,
				expanded = {},

				// Assumes a single number if not a string
				parts = typeof value === "string" ? value.split( " " ) : [ value ];

			for ( ; i < 4; i++ ) {
				expanded[ prefix + cssExpand[ i ] + suffix ] =
					parts[ i ] || parts[ i - 2 ] || parts[ 0 ];
			}

			return expanded;
		}
	};

	if ( prefix !== "margin" ) {
		jQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;
	}
} );

jQuery.fn.extend( {
	css: function( name, value ) {
		return access( this, function( elem, name, value ) {
			var styles, len,
				map = {},
				i = 0;

			if ( Array.isArray( name ) ) {
				styles = getStyles( elem );
				len = name.length;

				for ( ; i < len; i++ ) {
					map[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );
				}

				return map;
			}

			return value !== undefined ?
				jQuery.style( elem, name, value ) :
				jQuery.css( elem, name );
		}, name, value, arguments.length > 1 );
	}
} );


function Tween( elem, options, prop, end, easing ) {
	return new Tween.prototype.init( elem, options, prop, end, easing );
}
jQuery.Tween = Tween;

Tween.prototype = {
	constructor: Tween,
	init: function( elem, options, prop, end, easing, unit ) {
		this.elem = elem;
		this.prop = prop;
		this.easing = easing || jQuery.easing._default;
		this.options = options;
		this.start = this.now = this.cur();
		this.end = end;
		this.unit = unit || ( jQuery.cssNumber[ prop ] ? "" : "px" );
	},
	cur: function() {
		var hooks = Tween.propHooks[ this.prop ];

		return hooks && hooks.get ?
			hooks.get( this ) :
			Tween.propHooks._default.get( this );
	},
	run: function( percent ) {
		var eased,
			hooks = Tween.propHooks[ this.prop ];

		if ( this.options.duration ) {
			this.pos = eased = jQuery.easing[ this.easing ](
				percent, this.options.duration * percent, 0, 1, this.options.duration
			);
		} else {
			this.pos = eased = percent;
		}
		this.now = ( this.end - this.start ) * eased + this.start;

		if ( this.options.step ) {
			this.options.step.call( this.elem, this.now, this );
		}

		if ( hooks && hooks.set ) {
			hooks.set( this );
		} else {
			Tween.propHooks._default.set( this );
		}
		return this;
	}
};

Tween.prototype.init.prototype = Tween.prototype;

Tween.propHooks = {
	_default: {
		get: function( tween ) {
			var result;

			// Use a property on the element directly when it is not a DOM element,
			// or when there is no matching style property that exists.
			if ( tween.elem.nodeType !== 1 ||
				tween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {
				return tween.elem[ tween.prop ];
			}

			// Passing an empty string as a 3rd parameter to .css will automatically
			// attempt a parseFloat and fallback to a string if the parse fails.
			// Simple values such as "10px" are parsed to Float;
			// complex values such as "rotate(1rad)" are returned as-is.
			result = jQuery.css( tween.elem, tween.prop, "" );

			// Empty strings, null, undefined and "auto" are converted to 0.
			return !result || result === "auto" ? 0 : result;
		},
		set: function( tween ) {

			// Use step hook for back compat.
			// Use cssHook if its there.
			// Use .style if available and use plain properties where available.
			if ( jQuery.fx.step[ tween.prop ] ) {
				jQuery.fx.step[ tween.prop ]( tween );
			} else if ( tween.elem.nodeType === 1 &&
				( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null ||
					jQuery.cssHooks[ tween.prop ] ) ) {
				jQuery.style( tween.elem, tween.prop, tween.now + tween.unit );
			} else {
				tween.elem[ tween.prop ] = tween.now;
			}
		}
	}
};

// Support: IE <=9 only
// Panic based approach to setting things on disconnected nodes
Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {
	set: function( tween ) {
		if ( tween.elem.nodeType && tween.elem.parentNode ) {
			tween.elem[ tween.prop ] = tween.now;
		}
	}
};

jQuery.easing = {
	linear: function( p ) {
		return p;
	},
	swing: function( p ) {
		return 0.5 - Math.cos( p * Math.PI ) / 2;
	},
	_default: "swing"
};

jQuery.fx = Tween.prototype.init;

// Back compat <1.8 extension point
jQuery.fx.step = {};




var
	fxNow, inProgress,
	rfxtypes = /^(?:toggle|show|hide)$/,
	rrun = /queueHooks$/;

function schedule() {
	if ( inProgress ) {
		if ( document.hidden === false && window.requestAnimationFrame ) {
			window.requestAnimationFrame( schedule );
		} else {
			window.setTimeout( schedule, jQuery.fx.interval );
		}

		jQuery.fx.tick();
	}
}

// Animations created synchronously will run synchronously
function createFxNow() {
	window.setTimeout( function() {
		fxNow = undefined;
	} );
	return ( fxNow = Date.now() );
}

// Generate parameters to create a standard animation
function genFx( type, includeWidth ) {
	var which,
		i = 0,
		attrs = { height: type };

	// If we include width, step value is 1 to do all cssExpand values,
	// otherwise step value is 2 to skip over Left and Right
	includeWidth = includeWidth ? 1 : 0;
	for ( ; i < 4; i += 2 - includeWidth ) {
		which = cssExpand[ i ];
		attrs[ "margin" + which ] = attrs[ "padding" + which ] = type;
	}

	if ( includeWidth ) {
		attrs.opacity = attrs.width = type;
	}

	return attrs;
}

function createTween( value, prop, animation ) {
	var tween,
		collection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ "*" ] ),
		index = 0,
		length = collection.length;
	for ( ; index < length; index++ ) {
		if ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {

			// We're done with this property
			return tween;
		}
	}
}

function defaultPrefilter( elem, props, opts ) {
	var prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,
		isBox = "width" in props || "height" in props,
		anim = this,
		orig = {},
		style = elem.style,
		hidden = elem.nodeType && isHiddenWithinTree( elem ),
		dataShow = dataPriv.get( elem, "fxshow" );

	// Queue-skipping animations hijack the fx hooks
	if ( !opts.queue ) {
		hooks = jQuery._queueHooks( elem, "fx" );
		if ( hooks.unqueued == null ) {
			hooks.unqueued = 0;
			oldfire = hooks.empty.fire;
			hooks.empty.fire = function() {
				if ( !hooks.unqueued ) {
					oldfire();
				}
			};
		}
		hooks.unqueued++;

		anim.always( function() {

			// Ensure the complete handler is called before this completes
			anim.always( function() {
				hooks.unqueued--;
				if ( !jQuery.queue( elem, "fx" ).length ) {
					hooks.empty.fire();
				}
			} );
		} );
	}

	// Detect show/hide animations
	for ( prop in props ) {
		value = props[ prop ];
		if ( rfxtypes.test( value ) ) {
			delete props[ prop ];
			toggle = toggle || value === "toggle";
			if ( value === ( hidden ? "hide" : "show" ) ) {

				// Pretend to be hidden if this is a "show" and
				// there is still data from a stopped show/hide
				if ( value === "show" && dataShow && dataShow[ prop ] !== undefined ) {
					hidden = true;

				// Ignore all other no-op show/hide data
				} else {
					continue;
				}
			}
			orig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );
		}
	}

	// Bail out if this is a no-op like .hide().hide()
	propTween = !jQuery.isEmptyObject( props );
	if ( !propTween && jQuery.isEmptyObject( orig ) ) {
		return;
	}

	// Restrict "overflow" and "display" styles during box animations
	if ( isBox && elem.nodeType === 1 ) {

		// Support: IE <=9 - 11, Edge 12 - 15
		// Record all 3 overflow attributes because IE does not infer the shorthand
		// from identically-valued overflowX and overflowY and Edge just mirrors
		// the overflowX value there.
		opts.overflow = [ style.overflow, style.overflowX, style.overflowY ];

		// Identify a display type, preferring old show/hide data over the CSS cascade
		restoreDisplay = dataShow && dataShow.display;
		if ( restoreDisplay == null ) {
			restoreDisplay = dataPriv.get( elem, "display" );
		}
		display = jQuery.css( elem, "display" );
		if ( display === "none" ) {
			if ( restoreDisplay ) {
				display = restoreDisplay;
			} else {

				// Get nonempty value(s) by temporarily forcing visibility
				showHide( [ elem ], true );
				restoreDisplay = elem.style.display || restoreDisplay;
				display = jQuery.css( elem, "display" );
				showHide( [ elem ] );
			}
		}

		// Animate inline elements as inline-block
		if ( display === "inline" || display === "inline-block" && restoreDisplay != null ) {
			if ( jQuery.css( elem, "float" ) === "none" ) {

				// Restore the original display value at the end of pure show/hide animations
				if ( !propTween ) {
					anim.done( function() {
						style.display = restoreDisplay;
					} );
					if ( restoreDisplay == null ) {
						display = style.display;
						restoreDisplay = display === "none" ? "" : display;
					}
				}
				style.display = "inline-block";
			}
		}
	}

	if ( opts.overflow ) {
		style.overflow = "hidden";
		anim.always( function() {
			style.overflow = opts.overflow[ 0 ];
			style.overflowX = opts.overflow[ 1 ];
			style.overflowY = opts.overflow[ 2 ];
		} );
	}

	// Implement show/hide animations
	propTween = false;
	for ( prop in orig ) {

		// General show/hide setup for this element animation
		if ( !propTween ) {
			if ( dataShow ) {
				if ( "hidden" in dataShow ) {
					hidden = dataShow.hidden;
				}
			} else {
				dataShow = dataPriv.access( elem, "fxshow", { display: restoreDisplay } );
			}

			// Store hidden/visible for toggle so `.stop().toggle()` "reverses"
			if ( toggle ) {
				dataShow.hidden = !hidden;
			}

			// Show elements before animating them
			if ( hidden ) {
				showHide( [ elem ], true );
			}

			/* eslint-disable no-loop-func */

			anim.done( function() {

			/* eslint-enable no-loop-func */

				// The final step of a "hide" animation is actually hiding the element
				if ( !hidden ) {
					showHide( [ elem ] );
				}
				dataPriv.remove( elem, "fxshow" );
				for ( prop in orig ) {
					jQuery.style( elem, prop, orig[ prop ] );
				}
			} );
		}

		// Per-property setup
		propTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );
		if ( !( prop in dataShow ) ) {
			dataShow[ prop ] = propTween.start;
			if ( hidden ) {
				propTween.end = propTween.start;
				propTween.start = 0;
			}
		}
	}
}

function propFilter( props, specialEasing ) {
	var index, name, easing, value, hooks;

	// camelCase, specialEasing and expand cssHook pass
	for ( index in props ) {
		name = camelCase( index );
		easing = specialEasing[ name ];
		value = props[ index ];
		if ( Array.isArray( value ) ) {
			easing = value[ 1 ];
			value = props[ index ] = value[ 0 ];
		}

		if ( index !== name ) {
			props[ name ] = value;
			delete props[ index ];
		}

		hooks = jQuery.cssHooks[ name ];
		if ( hooks && "expand" in hooks ) {
			value = hooks.expand( value );
			delete props[ name ];

			// Not quite $.extend, this won't overwrite existing keys.
			// Reusing 'index' because we have the correct "name"
			for ( index in value ) {
				if ( !( index in props ) ) {
					props[ index ] = value[ index ];
					specialEasing[ index ] = easing;
				}
			}
		} else {
			specialEasing[ name ] = easing;
		}
	}
}

function Animation( elem, properties, options ) {
	var result,
		stopped,
		index = 0,
		length = Animation.prefilters.length,
		deferred = jQuery.Deferred().always( function() {

			// Don't match elem in the :animated selector
			delete tick.elem;
		} ),
		tick = function() {
			if ( stopped ) {
				return false;
			}
			var currentTime = fxNow || createFxNow(),
				remaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),

				// Support: Android 2.3 only
				// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)
				temp = remaining / animation.duration || 0,
				percent = 1 - temp,
				index = 0,
				length = animation.tweens.length;

			for ( ; index < length; index++ ) {
				animation.tweens[ index ].run( percent );
			}

			deferred.notifyWith( elem, [ animation, percent, remaining ] );

			// If there's more to do, yield
			if ( percent < 1 && length ) {
				return remaining;
			}

			// If this was an empty animation, synthesize a final progress notification
			if ( !length ) {
				deferred.notifyWith( elem, [ animation, 1, 0 ] );
			}

			// Resolve the animation and report its conclusion
			deferred.resolveWith( elem, [ animation ] );
			return false;
		},
		animation = deferred.promise( {
			elem: elem,
			props: jQuery.extend( {}, properties ),
			opts: jQuery.extend( true, {
				specialEasing: {},
				easing: jQuery.easing._default
			}, options ),
			originalProperties: properties,
			originalOptions: options,
			startTime: fxNow || createFxNow(),
			duration: options.duration,
			tweens: [],
			createTween: function( prop, end ) {
				var tween = jQuery.Tween( elem, animation.opts, prop, end,
						animation.opts.specialEasing[ prop ] || animation.opts.easing );
				animation.tweens.push( tween );
				return tween;
			},
			stop: function( gotoEnd ) {
				var index = 0,

					// If we are going to the end, we want to run all the tweens
					// otherwise we skip this part
					length = gotoEnd ? animation.tweens.length : 0;
				if ( stopped ) {
					return this;
				}
				stopped = true;
				for ( ; index < length; index++ ) {
					animation.tweens[ index ].run( 1 );
				}

				// Resolve when we played the last frame; otherwise, reject
				if ( gotoEnd ) {
					deferred.notifyWith( elem, [ animation, 1, 0 ] );
					deferred.resolveWith( elem, [ animation, gotoEnd ] );
				} else {
					deferred.rejectWith( elem, [ animation, gotoEnd ] );
				}
				return this;
			}
		} ),
		props = animation.props;

	propFilter( props, animation.opts.specialEasing );

	for ( ; index < length; index++ ) {
		result = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );
		if ( result ) {
			if ( isFunction( result.stop ) ) {
				jQuery._queueHooks( animation.elem, animation.opts.queue ).stop =
					result.stop.bind( result );
			}
			return result;
		}
	}

	jQuery.map( props, createTween, animation );

	if ( isFunction( animation.opts.start ) ) {
		animation.opts.start.call( elem, animation );
	}

	// Attach callbacks from options
	animation
		.progress( animation.opts.progress )
		.done( animation.opts.done, animation.opts.complete )
		.fail( animation.opts.fail )
		.always( animation.opts.always );

	jQuery.fx.timer(
		jQuery.extend( tick, {
			elem: elem,
			anim: animation,
			queue: animation.opts.queue
		} )
	);

	return animation;
}

jQuery.Animation = jQuery.extend( Animation, {

	tweeners: {
		"*": [ function( prop, value ) {
			var tween = this.createTween( prop, value );
			adjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );
			return tween;
		} ]
	},

	tweener: function( props, callback ) {
		if ( isFunction( props ) ) {
			callback = props;
			props = [ "*" ];
		} else {
			props = props.match( rnothtmlwhite );
		}

		var prop,
			index = 0,
			length = props.length;

		for ( ; index < length; index++ ) {
			prop = props[ index ];
			Animation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];
			Animation.tweeners[ prop ].unshift( callback );
		}
	},

	prefilters: [ defaultPrefilter ],

	prefilter: function( callback, prepend ) {
		if ( prepend ) {
			Animation.prefilters.unshift( callback );
		} else {
			Animation.prefilters.push( callback );
		}
	}
} );

jQuery.speed = function( speed, easing, fn ) {
	var opt = speed && typeof speed === "object" ? jQuery.extend( {}, speed ) : {
		complete: fn || !fn && easing ||
			isFunction( speed ) && speed,
		duration: speed,
		easing: fn && easing || easing && !isFunction( easing ) && easing
	};

	// Go to the end state if fx are off
	if ( jQuery.fx.off ) {
		opt.duration = 0;

	} else {
		if ( typeof opt.duration !== "number" ) {
			if ( opt.duration in jQuery.fx.speeds ) {
				opt.duration = jQuery.fx.speeds[ opt.duration ];

			} else {
				opt.duration = jQuery.fx.speeds._default;
			}
		}
	}

	// Normalize opt.queue - true/undefined/null -> "fx"
	if ( opt.queue == null || opt.queue === true ) {
		opt.queue = "fx";
	}

	// Queueing
	opt.old = opt.complete;

	opt.complete = function() {
		if ( isFunction( opt.old ) ) {
			opt.old.call( this );
		}

		if ( opt.queue ) {
			jQuery.dequeue( this, opt.queue );
		}
	};

	return opt;
};

jQuery.fn.extend( {
	fadeTo: function( speed, to, easing, callback ) {

		// Show any hidden elements after setting opacity to 0
		return this.filter( isHiddenWithinTree ).css( "opacity", 0 ).show()

			// Animate to the value specified
			.end().animate( { opacity: to }, speed, easing, callback );
	},
	animate: function( prop, speed, easing, callback ) {
		var empty = jQuery.isEmptyObject( prop ),
			optall = jQuery.speed( speed, easing, callback ),
			doAnimation = function() {

				// Operate on a copy of prop so per-property easing won't be lost
				var anim = Animation( this, jQuery.extend( {}, prop ), optall );

				// Empty animations, or finishing resolves immediately
				if ( empty || dataPriv.get( this, "finish" ) ) {
					anim.stop( true );
				}
			};
			doAnimation.finish = doAnimation;

		return empty || optall.queue === false ?
			this.each( doAnimation ) :
			this.queue( optall.queue, doAnimation );
	},
	stop: function( type, clearQueue, gotoEnd ) {
		var stopQueue = function( hooks ) {
			var stop = hooks.stop;
			delete hooks.stop;
			stop( gotoEnd );
		};

		if ( typeof type !== "string" ) {
			gotoEnd = clearQueue;
			clearQueue = type;
			type = undefined;
		}
		if ( clearQueue && type !== false ) {
			this.queue( type || "fx", [] );
		}

		return this.each( function() {
			var dequeue = true,
				index = type != null && type + "queueHooks",
				timers = jQuery.timers,
				data = dataPriv.get( this );

			if ( index ) {
				if ( data[ index ] && data[ index ].stop ) {
					stopQueue( data[ index ] );
				}
			} else {
				for ( index in data ) {
					if ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {
						stopQueue( data[ index ] );
					}
				}
			}

			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this &&
					( type == null || timers[ index ].queue === type ) ) {

					timers[ index ].anim.stop( gotoEnd );
					dequeue = false;
					timers.splice( index, 1 );
				}
			}

			// Start the next in the queue if the last step wasn't forced.
			// Timers currently will call their complete callbacks, which
			// will dequeue but only if they were gotoEnd.
			if ( dequeue || !gotoEnd ) {
				jQuery.dequeue( this, type );
			}
		} );
	},
	finish: function( type ) {
		if ( type !== false ) {
			type = type || "fx";
		}
		return this.each( function() {
			var index,
				data = dataPriv.get( this ),
				queue = data[ type + "queue" ],
				hooks = data[ type + "queueHooks" ],
				timers = jQuery.timers,
				length = queue ? queue.length : 0;

			// Enable finishing flag on private data
			data.finish = true;

			// Empty the queue first
			jQuery.queue( this, type, [] );

			if ( hooks && hooks.stop ) {
				hooks.stop.call( this, true );
			}

			// Look for any active animations, and finish them
			for ( index = timers.length; index--; ) {
				if ( timers[ index ].elem === this && timers[ index ].queue === type ) {
					timers[ index ].anim.stop( true );
					timers.splice( index, 1 );
				}
			}

			// Look for any animations in the old queue and finish them
			for ( index = 0; index < length; index++ ) {
				if ( queue[ index ] && queue[ index ].finish ) {
					queue[ index ].finish.call( this );
				}
			}

			// Turn off finishing flag
			delete data.finish;
		} );
	}
} );

jQuery.each( [ "toggle", "show", "hide" ], function( i, name ) {
	var cssFn = jQuery.fn[ name ];
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return speed == null || typeof speed === "boolean" ?
			cssFn.apply( this, arguments ) :
			this.animate( genFx( name, true ), speed, easing, callback );
	};
} );

// Generate shortcuts for custom animations
jQuery.each( {
	slideDown: genFx( "show" ),
	slideUp: genFx( "hide" ),
	slideToggle: genFx( "toggle" ),
	fadeIn: { opacity: "show" },
	fadeOut: { opacity: "hide" },
	fadeToggle: { opacity: "toggle" }
}, function( name, props ) {
	jQuery.fn[ name ] = function( speed, easing, callback ) {
		return this.animate( props, speed, easing, callback );
	};
} );

jQuery.timers = [];
jQuery.fx.tick = function() {
	var timer,
		i = 0,
		timers = jQuery.timers;

	fxNow = Date.now();

	for ( ; i < timers.length; i++ ) {
		timer = timers[ i ];

		// Run the timer and safely remove it when done (allowing for external removal)
		if ( !timer() && timers[ i ] === timer ) {
			timers.splice( i--, 1 );
		}
	}

	if ( !timers.length ) {
		jQuery.fx.stop();
	}
	fxNow = undefined;
};

jQuery.fx.timer = function( timer ) {
	jQuery.timers.push( timer );
	jQuery.fx.start();
};

jQuery.fx.interval = 13;
jQuery.fx.start = function() {
	if ( inProgress ) {
		return;
	}

	inProgress = true;
	schedule();
};

jQuery.fx.stop = function() {
	inProgress = null;
};

jQuery.fx.speeds = {
	slow: 600,
	fast: 200,

	// Default speed
	_default: 400
};


// Based off of the plugin by Clint Helfers, with permission.
// https://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/
jQuery.fn.delay = function( time, type ) {
	time = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;
	type = type || "fx";

	return this.queue( type, function( next, hooks ) {
		var timeout = window.setTimeout( next, time );
		hooks.stop = function() {
			window.clearTimeout( timeout );
		};
	} );
};


( function() {
	var input = document.createElement( "input" ),
		select = document.createElement( "select" ),
		opt = select.appendChild( document.createElement( "option" ) );

	input.type = "checkbox";

	// Support: Android <=4.3 only
	// Default value for a checkbox should be "on"
	support.checkOn = input.value !== "";

	// Support: IE <=11 only
	// Must access selectedIndex to make default options select
	support.optSelected = opt.selected;

	// Support: IE <=11 only
	// An input loses its value after becoming a radio
	input = document.createElement( "input" );
	input.value = "t";
	input.type = "radio";
	support.radioValue = input.value === "t";
} )();


var boolHook,
	attrHandle = jQuery.expr.attrHandle;

jQuery.fn.extend( {
	attr: function( name, value ) {
		return access( this, jQuery.attr, name, value, arguments.length > 1 );
	},

	removeAttr: function( name ) {
		return this.each( function() {
			jQuery.removeAttr( this, name );
		} );
	}
} );

jQuery.extend( {
	attr: function( elem, name, value ) {
		var ret, hooks,
			nType = elem.nodeType;

		// Don't get/set attributes on text, comment and attribute nodes
		if ( nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		// Fallback to prop when attributes are not supported
		if ( typeof elem.getAttribute === "undefined" ) {
			return jQuery.prop( elem, name, value );
		}

		// Attribute hooks are determined by the lowercase version
		// Grab necessary hook if one is defined
		if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {
			hooks = jQuery.attrHooks[ name.toLowerCase() ] ||
				( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );
		}

		if ( value !== undefined ) {
			if ( value === null ) {
				jQuery.removeAttr( elem, name );
				return;
			}

			if ( hooks && "set" in hooks &&
				( ret = hooks.set( elem, value, name ) ) !== undefined ) {
				return ret;
			}

			elem.setAttribute( name, value + "" );
			return value;
		}

		if ( hooks && "get" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {
			return ret;
		}

		ret = jQuery.find.attr( elem, name );

		// Non-existent attributes return null, we normalize to undefined
		return ret == null ? undefined : ret;
	},

	attrHooks: {
		type: {
			set: function( elem, value ) {
				if ( !support.radioValue && value === "radio" &&
					nodeName( elem, "input" ) ) {
					var val = elem.value;
					elem.setAttribute( "type", value );
					if ( val ) {
						elem.value = val;
					}
					return value;
				}
			}
		}
	},

	removeAttr: function( elem, value ) {
		var name,
			i = 0,

			// Attribute names can contain non-HTML whitespace characters
			// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2
			attrNames = value && value.match( rnothtmlwhite );

		if ( attrNames && elem.nodeType === 1 ) {
			while ( ( name = attrNames[ i++ ] ) ) {
				elem.removeAttribute( name );
			}
		}
	}
} );

// Hooks for boolean attributes
boolHook = {
	set: function( elem, value, name ) {
		if ( value === false ) {

			// Remove boolean attributes when set to false
			jQuery.removeAttr( elem, name );
		} else {
			elem.setAttribute( name, name );
		}
		return name;
	}
};

jQuery.each( jQuery.expr.match.bool.source.match( /\w+/g ), function( i, name ) {
	var getter = attrHandle[ name ] || jQuery.find.attr;

	attrHandle[ name ] = function( elem, name, isXML ) {
		var ret, handle,
			lowercaseName = name.toLowerCase();

		if ( !isXML ) {

			// Avoid an infinite loop by temporarily removing this function from the getter
			handle = attrHandle[ lowercaseName ];
			attrHandle[ lowercaseName ] = ret;
			ret = getter( elem, name, isXML ) != null ?
				lowercaseName :
				null;
			attrHandle[ lowercaseName ] = handle;
		}
		return ret;
	};
} );




var rfocusable = /^(?:input|select|textarea|button)$/i,
	rclickable = /^(?:a|area)$/i;

jQuery.fn.extend( {
	prop: function( name, value ) {
		return access( this, jQuery.prop, name, value, arguments.length > 1 );
	},

	removeProp: function( name ) {
		return this.each( function() {
			delete this[ jQuery.propFix[ name ] || name ];
		} );
	}
} );

jQuery.extend( {
	prop: function( elem, name, value ) {
		var ret, hooks,
			nType = elem.nodeType;

		// Don't get/set properties on text, comment and attribute nodes
		if ( nType === 3 || nType === 8 || nType === 2 ) {
			return;
		}

		if ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {

			// Fix name and attach hooks
			name = jQuery.propFix[ name ] || name;
			hooks = jQuery.propHooks[ name ];
		}

		if ( value !== undefined ) {
			if ( hooks && "set" in hooks &&
				( ret = hooks.set( elem, value, name ) ) !== undefined ) {
				return ret;
			}

			return ( elem[ name ] = value );
		}

		if ( hooks && "get" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {
			return ret;
		}

		return elem[ name ];
	},

	propHooks: {
		tabIndex: {
			get: function( elem ) {

				// Support: IE <=9 - 11 only
				// elem.tabIndex doesn't always return the
				// correct value when it hasn't been explicitly set
				// https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/
				// Use proper attribute retrieval(#12072)
				var tabindex = jQuery.find.attr( elem, "tabindex" );

				if ( tabindex ) {
					return parseInt( tabindex, 10 );
				}

				if (
					rfocusable.test( elem.nodeName ) ||
					rclickable.test( elem.nodeName ) &&
					elem.href
				) {
					return 0;
				}

				return -1;
			}
		}
	},

	propFix: {
		"for": "htmlFor",
		"class": "className"
	}
} );

// Support: IE <=11 only
// Accessing the selectedIndex property
// forces the browser to respect setting selected
// on the option
// The getter ensures a default option is selected
// when in an optgroup
// eslint rule "no-unused-expressions" is disabled for this code
// since it considers such accessions noop
if ( !support.optSelected ) {
	jQuery.propHooks.selected = {
		get: function( elem ) {

			/* eslint no-unused-expressions: "off" */

			var parent = elem.parentNode;
			if ( parent && parent.parentNode ) {
				parent.parentNode.selectedIndex;
			}
			return null;
		},
		set: function( elem ) {

			/* eslint no-unused-expressions: "off" */

			var parent = elem.parentNode;
			if ( parent ) {
				parent.selectedIndex;

				if ( parent.parentNode ) {
					parent.parentNode.selectedIndex;
				}
			}
		}
	};
}

jQuery.each( [
	"tabIndex",
	"readOnly",
	"maxLength",
	"cellSpacing",
	"cellPadding",
	"rowSpan",
	"colSpan",
	"useMap",
	"frameBorder",
	"contentEditable"
], function() {
	jQuery.propFix[ this.toLowerCase() ] = this;
} );




	// Strip and collapse whitespace according to HTML spec
	// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace
	function stripAndCollapse( value ) {
		var tokens = value.match( rnothtmlwhite ) || [];
		return tokens.join( " " );
	}


function getClass( elem ) {
	return elem.getAttribute && elem.getAttribute( "class" ) || "";
}

function classesToArray( value ) {
	if ( Array.isArray( value ) ) {
		return value;
	}
	if ( typeof value === "string" ) {
		return value.match( rnothtmlwhite ) || [];
	}
	return [];
}

jQuery.fn.extend( {
	addClass: function( value ) {
		var classes, elem, cur, curValue, clazz, j, finalValue,
			i = 0;

		if ( isFunction( value ) ) {
			return this.each( function( j ) {
				jQuery( this ).addClass( value.call( this, j, getClass( this ) ) );
			} );
		}

		classes = classesToArray( value );

		if ( classes.length ) {
			while ( ( elem = this[ i++ ] ) ) {
				curValue = getClass( elem );
				cur = elem.nodeType === 1 && ( " " + stripAndCollapse( curValue ) + " " );

				if ( cur ) {
					j = 0;
					while ( ( clazz = classes[ j++ ] ) ) {
						if ( cur.indexOf( " " + clazz + " " ) < 0 ) {
							cur += clazz + " ";
						}
					}

					// Only assign if different to avoid unneeded rendering.
					finalValue = stripAndCollapse( cur );
					if ( curValue !== finalValue ) {
						elem.setAttribute( "class", finalValue );
					}
				}
			}
		}

		return this;
	},

	removeClass: function( value ) {
		var classes, elem, cur, curValue, clazz, j, finalValue,
			i = 0;

		if ( isFunction( value ) ) {
			return this.each( function( j ) {
				jQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );
			} );
		}

		if ( !arguments.length ) {
			return this.attr( "class", "" );
		}

		classes = classesToArray( value );

		if ( classes.length ) {
			while ( ( elem = this[ i++ ] ) ) {
				curValue = getClass( elem );

				// This expression is here for better compressibility (see addClass)
				cur = elem.nodeType === 1 && ( " " + stripAndCollapse( curValue ) + " " );

				if ( cur ) {
					j = 0;
					while ( ( clazz = classes[ j++ ] ) ) {

						// Remove *all* instances
						while ( cur.indexOf( " " + clazz + " " ) > -1 ) {
							cur = cur.replace( " " + clazz + " ", " " );
						}
					}

					// Only assign if different to avoid unneeded rendering.
					finalValue = stripAndCollapse( cur );
					if ( curValue !== finalValue ) {
						elem.setAttribute( "class", finalValue );
					}
				}
			}
		}

		return this;
	},

	toggleClass: function( value, stateVal ) {
		var type = typeof value,
			isValidValue = type === "string" || Array.isArray( value );

		if ( typeof stateVal === "boolean" && isValidValue ) {
			return stateVal ? this.addClass( value ) : this.removeClass( value );
		}

		if ( isFunction( value ) ) {
			return this.each( function( i ) {
				jQuery( this ).toggleClass(
					value.call( this, i, getClass( this ), stateVal ),
					stateVal
				);
			} );
		}

		return this.each( function() {
			var className, i, self, classNames;

			if ( isValidValue ) {

				// Toggle individual class names
				i = 0;
				self = jQuery( this );
				classNames = classesToArray( value );

				while ( ( className = classNames[ i++ ] ) ) {

					// Check each className given, space separated list
					if ( self.hasClass( className ) ) {
						self.removeClass( className );
					} else {
						self.addClass( className );
					}
				}

			// Toggle whole class name
			} else if ( value === undefined || type === "boolean" ) {
				className = getClass( this );
				if ( className ) {

					// Store className if set
					dataPriv.set( this, "__className__", className );
				}

				// If the element has a class name or if we're passed `false`,
				// then remove the whole classname (if there was one, the above saved it).
				// Otherwise bring back whatever was previously saved (if anything),
				// falling back to the empty string if nothing was stored.
				if ( this.setAttribute ) {
					this.setAttribute( "class",
						className || value === false ?
						"" :
						dataPriv.get( this, "__className__" ) || ""
					);
				}
			}
		} );
	},

	hasClass: function( selector ) {
		var className, elem,
			i = 0;

		className = " " + selector + " ";
		while ( ( elem = this[ i++ ] ) ) {
			if ( elem.nodeType === 1 &&
				( " " + stripAndCollapse( getClass( elem ) ) + " " ).indexOf( className ) > -1 ) {
					return true;
			}
		}

		return false;
	}
} );




var rreturn = /\r/g;

jQuery.fn.extend( {
	val: function( value ) {
		var hooks, ret, valueIsFunction,
			elem = this[ 0 ];

		if ( !arguments.length ) {
			if ( elem ) {
				hooks = jQuery.valHooks[ elem.type ] ||
					jQuery.valHooks[ elem.nodeName.toLowerCase() ];

				if ( hooks &&
					"get" in hooks &&
					( ret = hooks.get( elem, "value" ) ) !== undefined
				) {
					return ret;
				}

				ret = elem.value;

				// Handle most common string cases
				if ( typeof ret === "string" ) {
					return ret.replace( rreturn, "" );
				}

				// Handle cases where value is null/undef or number
				return ret == null ? "" : ret;
			}

			return;
		}

		valueIsFunction = isFunction( value );

		return this.each( function( i ) {
			var val;

			if ( this.nodeType !== 1 ) {
				return;
			}

			if ( valueIsFunction ) {
				val = value.call( this, i, jQuery( this ).val() );
			} else {
				val = value;
			}

			// Treat null/undefined as ""; convert numbers to string
			if ( val == null ) {
				val = "";

			} else if ( typeof val === "number" ) {
				val += "";

			} else if ( Array.isArray( val ) ) {
				val = jQuery.map( val, function( value ) {
					return value == null ? "" : value + "";
				} );
			}

			hooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];

			// If set returns undefined, fall back to normal setting
			if ( !hooks || !( "set" in hooks ) || hooks.set( this, val, "value" ) === undefined ) {
				this.value = val;
			}
		} );
	}
} );

jQuery.extend( {
	valHooks: {
		option: {
			get: function( elem ) {

				var val = jQuery.find.attr( elem, "value" );
				return val != null ?
					val :

					// Support: IE <=10 - 11 only
					// option.text throws exceptions (#14686, #14858)
					// Strip and collapse whitespace
					// https://html.spec.whatwg.org/#strip-and-collapse-whitespace
					stripAndCollapse( jQuery.text( elem ) );
			}
		},
		select: {
			get: function( elem ) {
				var value, option, i,
					options = elem.options,
					index = elem.selectedIndex,
					one = elem.type === "select-one",
					values = one ? null : [],
					max = one ? index + 1 : options.length;

				if ( index < 0 ) {
					i = max;

				} else {
					i = one ? index : 0;
				}

				// Loop through all the selected options
				for ( ; i < max; i++ ) {
					option = options[ i ];

					// Support: IE <=9 only
					// IE8-9 doesn't update selected after form reset (#2551)
					if ( ( option.selected || i === index ) &&

							// Don't return options that are disabled or in a disabled optgroup
							!option.disabled &&
							( !option.parentNode.disabled ||
								!nodeName( option.parentNode, "optgroup" ) ) ) {

						// Get the specific value for the option
						value = jQuery( option ).val();

						// We don't need an array for one selects
						if ( one ) {
							return value;
						}

						// Multi-Selects return an array
						values.push( value );
					}
				}

				return values;
			},

			set: function( elem, value ) {
				var optionSet, option,
					options = elem.options,
					values = jQuery.makeArray( value ),
					i = options.length;

				while ( i-- ) {
					option = options[ i ];

					/* eslint-disable no-cond-assign */

					if ( option.selected =
						jQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1
					) {
						optionSet = true;
					}

					/* eslint-enable no-cond-assign */
				}

				// Force browsers to behave consistently when non-matching value is set
				if ( !optionSet ) {
					elem.selectedIndex = -1;
				}
				return values;
			}
		}
	}
} );

// Radios and checkboxes getter/setter
jQuery.each( [ "radio", "checkbox" ], function() {
	jQuery.valHooks[ this ] = {
		set: function( elem, value ) {
			if ( Array.isArray( value ) ) {
				return ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );
			}
		}
	};
	if ( !support.checkOn ) {
		jQuery.valHooks[ this ].get = function( elem ) {
			return elem.getAttribute( "value" ) === null ? "on" : elem.value;
		};
	}
} );




// Return jQuery for attributes-only inclusion


support.focusin = "onfocusin" in window;


var rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,
	stopPropagationCallback = function( e ) {
		e.stopPropagation();
	};

jQuery.extend( jQuery.event, {

	trigger: function( event, data, elem, onlyHandlers ) {

		var i, cur, tmp, bubbleType, ontype, handle, special, lastElement,
			eventPath = [ elem || document ],
			type = hasOwn.call( event, "type" ) ? event.type : event,
			namespaces = hasOwn.call( event, "namespace" ) ? event.namespace.split( "." ) : [];

		cur = lastElement = tmp = elem = elem || document;

		// Don't do events on text and comment nodes
		if ( elem.nodeType === 3 || elem.nodeType === 8 ) {
			return;
		}

		// focus/blur morphs to focusin/out; ensure we're not firing them right now
		if ( rfocusMorph.test( type + jQuery.event.triggered ) ) {
			return;
		}

		if ( type.indexOf( "." ) > -1 ) {

			// Namespaced trigger; create a regexp to match event type in handle()
			namespaces = type.split( "." );
			type = namespaces.shift();
			namespaces.sort();
		}
		ontype = type.indexOf( ":" ) < 0 && "on" + type;

		// Caller can pass in a jQuery.Event object, Object, or just an event type string
		event = event[ jQuery.expando ] ?
			event :
			new jQuery.Event( type, typeof event === "object" && event );

		// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)
		event.isTrigger = onlyHandlers ? 2 : 3;
		event.namespace = namespaces.join( "." );
		event.rnamespace = event.namespace ?
			new RegExp( "(^|\\.)" + namespaces.join( "\\.(?:.*\\.|)" ) + "(\\.|$)" ) :
			null;

		// Clean up the event in case it is being reused
		event.result = undefined;
		if ( !event.target ) {
			event.target = elem;
		}

		// Clone any incoming data and prepend the event, creating the handler arg list
		data = data == null ?
			[ event ] :
			jQuery.makeArray( data, [ event ] );

		// Allow special events to draw outside the lines
		special = jQuery.event.special[ type ] || {};
		if ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {
			return;
		}

		// Determine event propagation path in advance, per W3C events spec (#9951)
		// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)
		if ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {

			bubbleType = special.delegateType || type;
			if ( !rfocusMorph.test( bubbleType + type ) ) {
				cur = cur.parentNode;
			}
			for ( ; cur; cur = cur.parentNode ) {
				eventPath.push( cur );
				tmp = cur;
			}

			// Only add window if we got to document (e.g., not plain obj or detached DOM)
			if ( tmp === ( elem.ownerDocument || document ) ) {
				eventPath.push( tmp.defaultView || tmp.parentWindow || window );
			}
		}

		// Fire handlers on the event path
		i = 0;
		while ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {
			lastElement = cur;
			event.type = i > 1 ?
				bubbleType :
				special.bindType || type;

			// jQuery handler
			handle = ( dataPriv.get( cur, "events" ) || {} )[ event.type ] &&
				dataPriv.get( cur, "handle" );
			if ( handle ) {
				handle.apply( cur, data );
			}

			// Native handler
			handle = ontype && cur[ ontype ];
			if ( handle && handle.apply && acceptData( cur ) ) {
				event.result = handle.apply( cur, data );
				if ( event.result === false ) {
					event.preventDefault();
				}
			}
		}
		event.type = type;

		// If nobody prevented the default action, do it now
		if ( !onlyHandlers && !event.isDefaultPrevented() ) {

			if ( ( !special._default ||
				special._default.apply( eventPath.pop(), data ) === false ) &&
				acceptData( elem ) ) {

				// Call a native DOM method on the target with the same name as the event.
				// Don't do default actions on window, that's where global variables be (#6170)
				if ( ontype && isFunction( elem[ type ] ) && !isWindow( elem ) ) {

					// Don't re-trigger an onFOO event when we call its FOO() method
					tmp = elem[ ontype ];

					if ( tmp ) {
						elem[ ontype ] = null;
					}

					// Prevent re-triggering of the same event, since we already bubbled it above
					jQuery.event.triggered = type;

					if ( event.isPropagationStopped() ) {
						lastElement.addEventListener( type, stopPropagationCallback );
					}

					elem[ type ]();

					if ( event.isPropagationStopped() ) {
						lastElement.removeEventListener( type, stopPropagationCallback );
					}

					jQuery.event.triggered = undefined;

					if ( tmp ) {
						elem[ ontype ] = tmp;
					}
				}
			}
		}

		return event.result;
	},

	// Piggyback on a donor event to simulate a different one
	// Used only for `focus(in | out)` events
	simulate: function( type, elem, event ) {
		var e = jQuery.extend(
			new jQuery.Event(),
			event,
			{
				type: type,
				isSimulated: true
			}
		);

		jQuery.event.trigger( e, null, elem );
	}

} );

jQuery.fn.extend( {

	trigger: function( type, data ) {
		return this.each( function() {
			jQuery.event.trigger( type, data, this );
		} );
	},
	triggerHandler: function( type, data ) {
		var elem = this[ 0 ];
		if ( elem ) {
			return jQuery.event.trigger( type, data, elem, true );
		}
	}
} );


// Support: Firefox <=44
// Firefox doesn't have focus(in | out) events
// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787
//
// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1
// focus(in | out) events fire after focus & blur events,
// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order
// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857
if ( !support.focusin ) {
	jQuery.each( { focus: "focusin", blur: "focusout" }, function( orig, fix ) {

		// Attach a single capturing handler on the document while someone wants focusin/focusout
		var handler = function( event ) {
			jQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );
		};

		jQuery.event.special[ fix ] = {
			setup: function() {
				var doc = this.ownerDocument || this,
					attaches = dataPriv.access( doc, fix );

				if ( !attaches ) {
					doc.addEventListener( orig, handler, true );
				}
				dataPriv.access( doc, fix, ( attaches || 0 ) + 1 );
			},
			teardown: function() {
				var doc = this.ownerDocument || this,
					attaches = dataPriv.access( doc, fix ) - 1;

				if ( !attaches ) {
					doc.removeEventListener( orig, handler, true );
					dataPriv.remove( doc, fix );

				} else {
					dataPriv.access( doc, fix, attaches );
				}
			}
		};
	} );
}
var location = window.location;

var nonce = Date.now();

var rquery = ( /\?/ );



// Cross-browser xml parsing
jQuery.parseXML = function( data ) {
	var xml;
	if ( !data || typeof data !== "string" ) {
		return null;
	}

	// Support: IE 9 - 11 only
	// IE throws on parseFromString with invalid input.
	try {
		xml = ( new window.DOMParser() ).parseFromString( data, "text/xml" );
	} catch ( e ) {
		xml = undefined;
	}

	if ( !xml || xml.getElementsByTagName( "parsererror" ).length ) {
		jQuery.error( "Invalid XML: " + data );
	}
	return xml;
};


var
	rbracket = /\[\]$/,
	rCRLF = /\r?\n/g,
	rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,
	rsubmittable = /^(?:input|select|textarea|keygen)/i;

function buildParams( prefix, obj, traditional, add ) {
	var name;

	if ( Array.isArray( obj ) ) {

		// Serialize array item.
		jQuery.each( obj, function( i, v ) {
			if ( traditional || rbracket.test( prefix ) ) {

				// Treat each array item as a scalar.
				add( prefix, v );

			} else {

				// Item is non-scalar (array or object), encode its numeric index.
				buildParams(
					prefix + "[" + ( typeof v === "object" && v != null ? i : "" ) + "]",
					v,
					traditional,
					add
				);
			}
		} );

	} else if ( !traditional && toType( obj ) === "object" ) {

		// Serialize object item.
		for ( name in obj ) {
			buildParams( prefix + "[" + name + "]", obj[ name ], traditional, add );
		}

	} else {

		// Serialize scalar item.
		add( prefix, obj );
	}
}

// Serialize an array of form elements or a set of
// key/values into a query string
jQuery.param = function( a, traditional ) {
	var prefix,
		s = [],
		add = function( key, valueOrFunction ) {

			// If value is a function, invoke it and use its return value
			var value = isFunction( valueOrFunction ) ?
				valueOrFunction() :
				valueOrFunction;

			s[ s.length ] = encodeURIComponent( key ) + "=" +
				encodeURIComponent( value == null ? "" : value );
		};

	// If an array was passed in, assume that it is an array of form elements.
	if ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {

		// Serialize the form elements
		jQuery.each( a, function() {
			add( this.name, this.value );
		} );

	} else {

		// If traditional, encode the "old" way (the way 1.3.2 or older
		// did it), otherwise encode params recursively.
		for ( prefix in a ) {
			buildParams( prefix, a[ prefix ], traditional, add );
		}
	}

	// Return the resulting serialization
	return s.join( "&" );
};

jQuery.fn.extend( {
	serialize: function() {
		return jQuery.param( this.serializeArray() );
	},
	serializeArray: function() {
		return this.map( function() {

			// Can add propHook for "elements" to filter or add form elements
			var elements = jQuery.prop( this, "elements" );
			return elements ? jQuery.makeArray( elements ) : this;
		} )
		.filter( function() {
			var type = this.type;

			// Use .is( ":disabled" ) so that fieldset[disabled] works
			return this.name && !jQuery( this ).is( ":disabled" ) &&
				rsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&
				( this.checked || !rcheckableType.test( type ) );
		} )
		.map( function( i, elem ) {
			var val = jQuery( this ).val();

			if ( val == null ) {
				return null;
			}

			if ( Array.isArray( val ) ) {
				return jQuery.map( val, function( val ) {
					return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
				} );
			}

			return { name: elem.name, value: val.replace( rCRLF, "\r\n" ) };
		} ).get();
	}
} );


var
	r20 = /%20/g,
	rhash = /#.*$/,
	rantiCache = /([?&])_=[^&]*/,
	rheaders = /^(.*?):[ \t]*([^\r\n]*)$/mg,

	// #7653, #8125, #8152: local protocol detection
	rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
	rnoContent = /^(?:GET|HEAD)$/,
	rprotocol = /^\/\//,

	/* Prefilters
	 * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)
	 * 2) These are called:
	 *    - BEFORE asking for a transport
	 *    - AFTER param serialization (s.data is a string if s.processData is true)
	 * 3) key is the dataType
	 * 4) the catchall symbol "*" can be used
	 * 5) execution will start with transport dataType and THEN continue down to "*" if needed
	 */
	prefilters = {},

	/* Transports bindings
	 * 1) key is the dataType
	 * 2) the catchall symbol "*" can be used
	 * 3) selection will start with transport dataType and THEN go to "*" if needed
	 */
	transports = {},

	// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression
	allTypes = "*/".concat( "*" ),

	// Anchor tag for parsing the document origin
	originAnchor = document.createElement( "a" );
	originAnchor.href = location.href;

// Base "constructor" for jQuery.ajaxPrefilter and jQuery.ajaxTransport
function addToPrefiltersOrTransports( structure ) {

	// dataTypeExpression is optional and defaults to "*"
	return function( dataTypeExpression, func ) {

		if ( typeof dataTypeExpression !== "string" ) {
			func = dataTypeExpression;
			dataTypeExpression = "*";
		}

		var dataType,
			i = 0,
			dataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];

		if ( isFunction( func ) ) {

			// For each dataType in the dataTypeExpression
			while ( ( dataType = dataTypes[ i++ ] ) ) {

				// Prepend if requested
				if ( dataType[ 0 ] === "+" ) {
					dataType = dataType.slice( 1 ) || "*";
					( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );

				// Otherwise append
				} else {
					( structure[ dataType ] = structure[ dataType ] || [] ).push( func );
				}
			}
		}
	};
}

// Base inspection function for prefilters and transports
function inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {

	var inspected = {},
		seekingTransport = ( structure === transports );

	function inspect( dataType ) {
		var selected;
		inspected[ dataType ] = true;
		jQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {
			var dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );
			if ( typeof dataTypeOrTransport === "string" &&
				!seekingTransport && !inspected[ dataTypeOrTransport ] ) {

				options.dataTypes.unshift( dataTypeOrTransport );
				inspect( dataTypeOrTransport );
				return false;
			} else if ( seekingTransport ) {
				return !( selected = dataTypeOrTransport );
			}
		} );
		return selected;
	}

	return inspect( options.dataTypes[ 0 ] ) || !inspected[ "*" ] && inspect( "*" );
}

// A special extend for ajax options
// that takes "flat" options (not to be deep extended)
// Fixes #9887
function ajaxExtend( target, src ) {
	var key, deep,
		flatOptions = jQuery.ajaxSettings.flatOptions || {};

	for ( key in src ) {
		if ( src[ key ] !== undefined ) {
			( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];
		}
	}
	if ( deep ) {
		jQuery.extend( true, target, deep );
	}

	return target;
}

/* Handles responses to an ajax request:
 * - finds the right dataType (mediates between content-type and expected dataType)
 * - returns the corresponding response
 */
function ajaxHandleResponses( s, jqXHR, responses ) {

	var ct, type, finalDataType, firstDataType,
		contents = s.contents,
		dataTypes = s.dataTypes;

	// Remove auto dataType and get content-type in the process
	while ( dataTypes[ 0 ] === "*" ) {
		dataTypes.shift();
		if ( ct === undefined ) {
			ct = s.mimeType || jqXHR.getResponseHeader( "Content-Type" );
		}
	}

	// Check if we're dealing with a known content-type
	if ( ct ) {
		for ( type in contents ) {
			if ( contents[ type ] && contents[ type ].test( ct ) ) {
				dataTypes.unshift( type );
				break;
			}
		}
	}

	// Check to see if we have a response for the expected dataType
	if ( dataTypes[ 0 ] in responses ) {
		finalDataType = dataTypes[ 0 ];
	} else {

		// Try convertible dataTypes
		for ( type in responses ) {
			if ( !dataTypes[ 0 ] || s.converters[ type + " " + dataTypes[ 0 ] ] ) {
				finalDataType = type;
				break;
			}
			if ( !firstDataType ) {
				firstDataType = type;
			}
		}

		// Or just use first one
		finalDataType = finalDataType || firstDataType;
	}

	// If we found a dataType
	// We add the dataType to the list if needed
	// and return the corresponding response
	if ( finalDataType ) {
		if ( finalDataType !== dataTypes[ 0 ] ) {
			dataTypes.unshift( finalDataType );
		}
		return responses[ finalDataType ];
	}
}

/* Chain conversions given the request and the original response
 * Also sets the responseXXX fields on the jqXHR instance
 */
function ajaxConvert( s, response, jqXHR, isSuccess ) {
	var conv2, current, conv, tmp, prev,
		converters = {},

		// Work with a copy of dataTypes in case we need to modify it for conversion
		dataTypes = s.dataTypes.slice();

	// Create converters map with lowercased keys
	if ( dataTypes[ 1 ] ) {
		for ( conv in s.converters ) {
			converters[ conv.toLowerCase() ] = s.converters[ conv ];
		}
	}

	current = dataTypes.shift();

	// Convert to each sequential dataType
	while ( current ) {

		if ( s.responseFields[ current ] ) {
			jqXHR[ s.responseFields[ current ] ] = response;
		}

		// Apply the dataFilter if provided
		if ( !prev && isSuccess && s.dataFilter ) {
			response = s.dataFilter( response, s.dataType );
		}

		prev = current;
		current = dataTypes.shift();

		if ( current ) {

			// There's only work to do if current dataType is non-auto
			if ( current === "*" ) {

				current = prev;

			// Convert response if prev dataType is non-auto and differs from current
			} else if ( prev !== "*" && prev !== current ) {

				// Seek a direct converter
				conv = converters[ prev + " " + current ] || converters[ "* " + current ];

				// If none found, seek a pair
				if ( !conv ) {
					for ( conv2 in converters ) {

						// If conv2 outputs current
						tmp = conv2.split( " " );
						if ( tmp[ 1 ] === current ) {

							// If prev can be converted to accepted input
							conv = converters[ prev + " " + tmp[ 0 ] ] ||
								converters[ "* " + tmp[ 0 ] ];
							if ( conv ) {

								// Condense equivalence converters
								if ( conv === true ) {
									conv = converters[ conv2 ];

								// Otherwise, insert the intermediate dataType
								} else if ( converters[ conv2 ] !== true ) {
									current = tmp[ 0 ];
									dataTypes.unshift( tmp[ 1 ] );
								}
								break;
							}
						}
					}
				}

				// Apply converter (if not an equivalence)
				if ( conv !== true ) {

					// Unless errors are allowed to bubble, catch and return them
					if ( conv && s.throws ) {
						response = conv( response );
					} else {
						try {
							response = conv( response );
						} catch ( e ) {
							return {
								state: "parsererror",
								error: conv ? e : "No conversion from " + prev + " to " + current
							};
						}
					}
				}
			}
		}
	}

	return { state: "success", data: response };
}

jQuery.extend( {

	// Counter for holding the number of active queries
	active: 0,

	// Last-Modified header cache for next request
	lastModified: {},
	etag: {},

	ajaxSettings: {
		url: location.href,
		type: "GET",
		isLocal: rlocalProtocol.test( location.protocol ),
		global: true,
		processData: true,
		async: true,
		contentType: "application/x-www-form-urlencoded; charset=UTF-8",

		/*
		timeout: 0,
		data: null,
		dataType: null,
		username: null,
		password: null,
		cache: null,
		throws: false,
		traditional: false,
		headers: {},
		*/

		accepts: {
			"*": allTypes,
			text: "text/plain",
			html: "text/html",
			xml: "application/xml, text/xml",
			json: "application/json, text/javascript"
		},

		contents: {
			xml: /\bxml\b/,
			html: /\bhtml/,
			json: /\bjson\b/
		},

		responseFields: {
			xml: "responseXML",
			text: "responseText",
			json: "responseJSON"
		},

		// Data converters
		// Keys separate source (or catchall "*") and destination types with a single space
		converters: {

			// Convert anything to text
			"* text": String,

			// Text to html (true = no transformation)
			"text html": true,

			// Evaluate text as a json expression
			"text json": JSON.parse,

			// Parse text as xml
			"text xml": jQuery.parseXML
		},

		// For options that shouldn't be deep extended:
		// you can add your own custom options here if
		// and when you create one that shouldn't be
		// deep extended (see ajaxExtend)
		flatOptions: {
			url: true,
			context: true
		}
	},

	// Creates a full fledged settings object into target
	// with both ajaxSettings and settings fields.
	// If target is omitted, writes into ajaxSettings.
	ajaxSetup: function( target, settings ) {
		return settings ?

			// Building a settings object
			ajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :

			// Extending ajaxSettings
			ajaxExtend( jQuery.ajaxSettings, target );
	},

	ajaxPrefilter: addToPrefiltersOrTransports( prefilters ),
	ajaxTransport: addToPrefiltersOrTransports( transports ),

	// Main method
	ajax: function( url, options ) {

		// If url is an object, simulate pre-1.5 signature
		if ( typeof url === "object" ) {
			options = url;
			url = undefined;
		}

		// Force options to be an object
		options = options || {};

		var transport,

			// URL without anti-cache param
			cacheURL,

			// Response headers
			responseHeadersString,
			responseHeaders,

			// timeout handle
			timeoutTimer,

			// Url cleanup var
			urlAnchor,

			// Request state (becomes false upon send and true upon completion)
			completed,

			// To know if global events are to be dispatched
			fireGlobals,

			// Loop variable
			i,

			// uncached part of the url
			uncached,

			// Create the final options object
			s = jQuery.ajaxSetup( {}, options ),

			// Callbacks context
			callbackContext = s.context || s,

			// Context for global events is callbackContext if it is a DOM node or jQuery collection
			globalEventContext = s.context &&
				( callbackContext.nodeType || callbackContext.jquery ) ?
					jQuery( callbackContext ) :
					jQuery.event,

			// Deferreds
			deferred = jQuery.Deferred(),
			completeDeferred = jQuery.Callbacks( "once memory" ),

			// Status-dependent callbacks
			statusCode = s.statusCode || {},

			// Headers (they are sent all at once)
			requestHeaders = {},
			requestHeadersNames = {},

			// Default abort message
			strAbort = "canceled",

			// Fake xhr
			jqXHR = {
				readyState: 0,

				// Builds headers hashtable if needed
				getResponseHeader: function( key ) {
					var match;
					if ( completed ) {
						if ( !responseHeaders ) {
							responseHeaders = {};
							while ( ( match = rheaders.exec( responseHeadersString ) ) ) {
								responseHeaders[ match[ 1 ].toLowerCase() ] = match[ 2 ];
							}
						}
						match = responseHeaders[ key.toLowerCase() ];
					}
					return match == null ? null : match;
				},

				// Raw string
				getAllResponseHeaders: function() {
					return completed ? responseHeadersString : null;
				},

				// Caches the header
				setRequestHeader: function( name, value ) {
					if ( completed == null ) {
						name = requestHeadersNames[ name.toLowerCase() ] =
							requestHeadersNames[ name.toLowerCase() ] || name;
						requestHeaders[ name ] = value;
					}
					return this;
				},

				// Overrides response content-type header
				overrideMimeType: function( type ) {
					if ( completed == null ) {
						s.mimeType = type;
					}
					return this;
				},

				// Status-dependent callbacks
				statusCode: function( map ) {
					var code;
					if ( map ) {
						if ( completed ) {

							// Execute the appropriate callbacks
							jqXHR.always( map[ jqXHR.status ] );
						} else {

							// Lazy-add the new callbacks in a way that preserves old ones
							for ( code in map ) {
								statusCode[ code ] = [ statusCode[ code ], map[ code ] ];
							}
						}
					}
					return this;
				},

				// Cancel the request
				abort: function( statusText ) {
					var finalText = statusText || strAbort;
					if ( transport ) {
						transport.abort( finalText );
					}
					done( 0, finalText );
					return this;
				}
			};

		// Attach deferreds
		deferred.promise( jqXHR );

		// Add protocol if not provided (prefilters might expect it)
		// Handle falsy url in the settings object (#10093: consistency with old signature)
		// We also use the url parameter if available
		s.url = ( ( url || s.url || location.href ) + "" )
			.replace( rprotocol, location.protocol + "//" );

		// Alias method option to type as per ticket #12004
		s.type = options.method || options.type || s.method || s.type;

		// Extract dataTypes list
		s.dataTypes = ( s.dataType || "*" ).toLowerCase().match( rnothtmlwhite ) || [ "" ];

		// A cross-domain request is in order when the origin doesn't match the current origin.
		if ( s.crossDomain == null ) {
			urlAnchor = document.createElement( "a" );

			// Support: IE <=8 - 11, Edge 12 - 15
			// IE throws exception on accessing the href property if url is malformed,
			// e.g. http://example.com:80x/
			try {
				urlAnchor.href = s.url;

				// Support: IE <=8 - 11 only
				// Anchor's host property isn't correctly set when s.url is relative
				urlAnchor.href = urlAnchor.href;
				s.crossDomain = originAnchor.protocol + "//" + originAnchor.host !==
					urlAnchor.protocol + "//" + urlAnchor.host;
			} catch ( e ) {

				// If there is an error parsing the URL, assume it is crossDomain,
				// it can be rejected by the transport if it is invalid
				s.crossDomain = true;
			}
		}

		// Convert data if not already a string
		if ( s.data && s.processData && typeof s.data !== "string" ) {
			s.data = jQuery.param( s.data, s.traditional );
		}

		// Apply prefilters
		inspectPrefiltersOrTransports( prefilters, s, options, jqXHR );

		// If request was aborted inside a prefilter, stop there
		if ( completed ) {
			return jqXHR;
		}

		// We can fire global events as of now if asked to
		// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)
		fireGlobals = jQuery.event && s.global;

		// Watch for a new set of requests
		if ( fireGlobals && jQuery.active++ === 0 ) {
			jQuery.event.trigger( "ajaxStart" );
		}

		// Uppercase the type
		s.type = s.type.toUpperCase();

		// Determine if request has content
		s.hasContent = !rnoContent.test( s.type );

		// Save the URL in case we're toying with the If-Modified-Since
		// and/or If-None-Match header later on
		// Remove hash to simplify url manipulation
		cacheURL = s.url.replace( rhash, "" );

		// More options handling for requests with no content
		if ( !s.hasContent ) {

			// Remember the hash so we can put it back
			uncached = s.url.slice( cacheURL.length );

			// If data is available and should be processed, append data to url
			if ( s.data && ( s.processData || typeof s.data === "string" ) ) {
				cacheURL += ( rquery.test( cacheURL ) ? "&" : "?" ) + s.data;

				// #9682: remove data so that it's not used in an eventual retry
				delete s.data;
			}

			// Add or update anti-cache param if needed
			if ( s.cache === false ) {
				cacheURL = cacheURL.replace( rantiCache, "$1" );
				uncached = ( rquery.test( cacheURL ) ? "&" : "?" ) + "_=" + ( nonce++ ) + uncached;
			}

			// Put hash and anti-cache on the URL that will be requested (gh-1732)
			s.url = cacheURL + uncached;

		// Change '%20' to '+' if this is encoded form body content (gh-2658)
		} else if ( s.data && s.processData &&
			( s.contentType || "" ).indexOf( "application/x-www-form-urlencoded" ) === 0 ) {
			s.data = s.data.replace( r20, "+" );
		}

		// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
		if ( s.ifModified ) {
			if ( jQuery.lastModified[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-Modified-Since", jQuery.lastModified[ cacheURL ] );
			}
			if ( jQuery.etag[ cacheURL ] ) {
				jqXHR.setRequestHeader( "If-None-Match", jQuery.etag[ cacheURL ] );
			}
		}

		// Set the correct header, if data is being sent
		if ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {
			jqXHR.setRequestHeader( "Content-Type", s.contentType );
		}

		// Set the Accepts header for the server, depending on the dataType
		jqXHR.setRequestHeader(
			"Accept",
			s.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?
				s.accepts[ s.dataTypes[ 0 ] ] +
					( s.dataTypes[ 0 ] !== "*" ? ", " + allTypes + "; q=0.01" : "" ) :
				s.accepts[ "*" ]
		);

		// Check for headers option
		for ( i in s.headers ) {
			jqXHR.setRequestHeader( i, s.headers[ i ] );
		}

		// Allow custom headers/mimetypes and early abort
		if ( s.beforeSend &&
			( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {

			// Abort if not done already and return
			return jqXHR.abort();
		}

		// Aborting is no longer a cancellation
		strAbort = "abort";

		// Install callbacks on deferreds
		completeDeferred.add( s.complete );
		jqXHR.done( s.success );
		jqXHR.fail( s.error );

		// Get transport
		transport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );

		// If no transport, we auto-abort
		if ( !transport ) {
			done( -1, "No Transport" );
		} else {
			jqXHR.readyState = 1;

			// Send global event
			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxSend", [ jqXHR, s ] );
			}

			// If request was aborted inside ajaxSend, stop there
			if ( completed ) {
				return jqXHR;
			}

			// Timeout
			if ( s.async && s.timeout > 0 ) {
				timeoutTimer = window.setTimeout( function() {
					jqXHR.abort( "timeout" );
				}, s.timeout );
			}

			try {
				completed = false;
				transport.send( requestHeaders, done );
			} catch ( e ) {

				// Rethrow post-completion exceptions
				if ( completed ) {
					throw e;
				}

				// Propagate others as results
				done( -1, e );
			}
		}

		// Callback for when everything is done
		function done( status, nativeStatusText, responses, headers ) {
			var isSuccess, success, error, response, modified,
				statusText = nativeStatusText;

			// Ignore repeat invocations
			if ( completed ) {
				return;
			}

			completed = true;

			// Clear timeout if it exists
			if ( timeoutTimer ) {
				window.clearTimeout( timeoutTimer );
			}

			// Dereference transport for early garbage collection
			// (no matter how long the jqXHR object will be used)
			transport = undefined;

			// Cache response headers
			responseHeadersString = headers || "";

			// Set readyState
			jqXHR.readyState = status > 0 ? 4 : 0;

			// Determine if successful
			isSuccess = status >= 200 && status < 300 || status === 304;

			// Get response data
			if ( responses ) {
				response = ajaxHandleResponses( s, jqXHR, responses );
			}

			// Convert no matter what (that way responseXXX fields are always set)
			response = ajaxConvert( s, response, jqXHR, isSuccess );

			// If successful, handle type chaining
			if ( isSuccess ) {

				// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.
				if ( s.ifModified ) {
					modified = jqXHR.getResponseHeader( "Last-Modified" );
					if ( modified ) {
						jQuery.lastModified[ cacheURL ] = modified;
					}
					modified = jqXHR.getResponseHeader( "etag" );
					if ( modified ) {
						jQuery.etag[ cacheURL ] = modified;
					}
				}

				// if no content
				if ( status === 204 || s.type === "HEAD" ) {
					statusText = "nocontent";

				// if not modified
				} else if ( status === 304 ) {
					statusText = "notmodified";

				// If we have data, let's convert it
				} else {
					statusText = response.state;
					success = response.data;
					error = response.error;
					isSuccess = !error;
				}
			} else {

				// Extract error from statusText and normalize for non-aborts
				error = statusText;
				if ( status || !statusText ) {
					statusText = "error";
					if ( status < 0 ) {
						status = 0;
					}
				}
			}

			// Set data for the fake xhr object
			jqXHR.status = status;
			jqXHR.statusText = ( nativeStatusText || statusText ) + "";

			// Success/Error
			if ( isSuccess ) {
				deferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );
			} else {
				deferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );
			}

			// Status-dependent callbacks
			jqXHR.statusCode( statusCode );
			statusCode = undefined;

			if ( fireGlobals ) {
				globalEventContext.trigger( isSuccess ? "ajaxSuccess" : "ajaxError",
					[ jqXHR, s, isSuccess ? success : error ] );
			}

			// Complete
			completeDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );

			if ( fireGlobals ) {
				globalEventContext.trigger( "ajaxComplete", [ jqXHR, s ] );

				// Handle the global AJAX counter
				if ( !( --jQuery.active ) ) {
					jQuery.event.trigger( "ajaxStop" );
				}
			}
		}

		return jqXHR;
	},

	getJSON: function( url, data, callback ) {
		return jQuery.get( url, data, callback, "json" );
	},

	getScript: function( url, callback ) {
		return jQuery.get( url, undefined, callback, "script" );
	}
} );

jQuery.each( [ "get", "post" ], function( i, method ) {
	jQuery[ method ] = function( url, data, callback, type ) {

		// Shift arguments if data argument was omitted
		if ( isFunction( data ) ) {
			type = type || callback;
			callback = data;
			data = undefined;
		}

		// The url can be an options object (which then must have .url)
		return jQuery.ajax( jQuery.extend( {
			url: url,
			type: method,
			dataType: type,
			data: data,
			success: callback
		}, jQuery.isPlainObject( url ) && url ) );
	};
} );


jQuery._evalUrl = function( url ) {
	return jQuery.ajax( {
		url: url,

		// Make this explicit, since user can override this through ajaxSetup (#11264)
		type: "GET",
		dataType: "script",
		cache: true,
		async: false,
		global: false,
		"throws": true
	} );
};


jQuery.fn.extend( {
	wrapAll: function( html ) {
		var wrap;

		if ( this[ 0 ] ) {
			if ( isFunction( html ) ) {
				html = html.call( this[ 0 ] );
			}

			// The elements to wrap the target around
			wrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );

			if ( this[ 0 ].parentNode ) {
				wrap.insertBefore( this[ 0 ] );
			}

			wrap.map( function() {
				var elem = this;

				while ( elem.firstElementChild ) {
					elem = elem.firstElementChild;
				}

				return elem;
			} ).append( this );
		}

		return this;
	},

	wrapInner: function( html ) {
		if ( isFunction( html ) ) {
			return this.each( function( i ) {
				jQuery( this ).wrapInner( html.call( this, i ) );
			} );
		}

		return this.each( function() {
			var self = jQuery( this ),
				contents = self.contents();

			if ( contents.length ) {
				contents.wrapAll( html );

			} else {
				self.append( html );
			}
		} );
	},

	wrap: function( html ) {
		var htmlIsFunction = isFunction( html );

		return this.each( function( i ) {
			jQuery( this ).wrapAll( htmlIsFunction ? html.call( this, i ) : html );
		} );
	},

	unwrap: function( selector ) {
		this.parent( selector ).not( "body" ).each( function() {
			jQuery( this ).replaceWith( this.childNodes );
		} );
		return this;
	}
} );


jQuery.expr.pseudos.hidden = function( elem ) {
	return !jQuery.expr.pseudos.visible( elem );
};
jQuery.expr.pseudos.visible = function( elem ) {
	return !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );
};




jQuery.ajaxSettings.xhr = function() {
	try {
		return new window.XMLHttpRequest();
	} catch ( e ) {}
};

var xhrSuccessStatus = {

		// File protocol always yields status code 0, assume 200
		0: 200,

		// Support: IE <=9 only
		// #1450: sometimes IE returns 1223 when it should be 204
		1223: 204
	},
	xhrSupported = jQuery.ajaxSettings.xhr();

support.cors = !!xhrSupported && ( "withCredentials" in xhrSupported );
support.ajax = xhrSupported = !!xhrSupported;

jQuery.ajaxTransport( function( options ) {
	var callback, errorCallback;

	// Cross domain only allowed if supported through XMLHttpRequest
	if ( support.cors || xhrSupported && !options.crossDomain ) {
		return {
			send: function( headers, complete ) {
				var i,
					xhr = options.xhr();

				xhr.open(
					options.type,
					options.url,
					options.async,
					options.username,
					options.password
				);

				// Apply custom fields if provided
				if ( options.xhrFields ) {
					for ( i in options.xhrFields ) {
						xhr[ i ] = options.xhrFields[ i ];
					}
				}

				// Override mime type if needed
				if ( options.mimeType && xhr.overrideMimeType ) {
					xhr.overrideMimeType( options.mimeType );
				}

				// X-Requested-With header
				// For cross-domain requests, seeing as conditions for a preflight are
				// akin to a jigsaw puzzle, we simply never set it to be sure.
				// (it can always be set on a per-request basis or even using ajaxSetup)
				// For same-domain requests, won't change header if already provided.
				if ( !options.crossDomain && !headers[ "X-Requested-With" ] ) {
					headers[ "X-Requested-With" ] = "XMLHttpRequest";
				}

				// Set headers
				for ( i in headers ) {
					xhr.setRequestHeader( i, headers[ i ] );
				}

				// Callback
				callback = function( type ) {
					return function() {
						if ( callback ) {
							callback = errorCallback = xhr.onload =
								xhr.onerror = xhr.onabort = xhr.ontimeout =
									xhr.onreadystatechange = null;

							if ( type === "abort" ) {
								xhr.abort();
							} else if ( type === "error" ) {

								// Support: IE <=9 only
								// On a manual native abort, IE9 throws
								// errors on any property access that is not readyState
								if ( typeof xhr.status !== "number" ) {
									complete( 0, "error" );
								} else {
									complete(

										// File: protocol always yields status 0; see #8605, #14207
										xhr.status,
										xhr.statusText
									);
								}
							} else {
								complete(
									xhrSuccessStatus[ xhr.status ] || xhr.status,
									xhr.statusText,

									// Support: IE <=9 only
									// IE9 has no XHR2 but throws on binary (trac-11426)
									// For XHR2 non-text, let the caller handle it (gh-2498)
									( xhr.responseType || "text" ) !== "text"  ||
									typeof xhr.responseText !== "string" ?
										{ binary: xhr.response } :
										{ text: xhr.responseText },
									xhr.getAllResponseHeaders()
								);
							}
						}
					};
				};

				// Listen to events
				xhr.onload = callback();
				errorCallback = xhr.onerror = xhr.ontimeout = callback( "error" );

				// Support: IE 9 only
				// Use onreadystatechange to replace onabort
				// to handle uncaught aborts
				if ( xhr.onabort !== undefined ) {
					xhr.onabort = errorCallback;
				} else {
					xhr.onreadystatechange = function() {

						// Check readyState before timeout as it changes
						if ( xhr.readyState === 4 ) {

							// Allow onerror to be called first,
							// but that will not handle a native abort
							// Also, save errorCallback to a variable
							// as xhr.onerror cannot be accessed
							window.setTimeout( function() {
								if ( callback ) {
									errorCallback();
								}
							} );
						}
					};
				}

				// Create the abort callback
				callback = callback( "abort" );

				try {

					// Do send the request (this may raise an exception)
					xhr.send( options.hasContent && options.data || null );
				} catch ( e ) {

					// #14683: Only rethrow if this hasn't been notified as an error yet
					if ( callback ) {
						throw e;
					}
				}
			},

			abort: function() {
				if ( callback ) {
					callback();
				}
			}
		};
	}
} );




// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)
jQuery.ajaxPrefilter( function( s ) {
	if ( s.crossDomain ) {
		s.contents.script = false;
	}
} );

// Install script dataType
jQuery.ajaxSetup( {
	accepts: {
		script: "text/javascript, application/javascript, " +
			"application/ecmascript, application/x-ecmascript"
	},
	contents: {
		script: /\b(?:java|ecma)script\b/
	},
	converters: {
		"text script": function( text ) {
			jQuery.globalEval( text );
			return text;
		}
	}
} );

// Handle cache's special case and crossDomain
jQuery.ajaxPrefilter( "script", function( s ) {
	if ( s.cache === undefined ) {
		s.cache = false;
	}
	if ( s.crossDomain ) {
		s.type = "GET";
	}
} );

// Bind script tag hack transport
jQuery.ajaxTransport( "script", function( s ) {

	// This transport only deals with cross domain requests
	if ( s.crossDomain ) {
		var script, callback;
		return {
			send: function( _, complete ) {
				script = jQuery( "<script>" ).prop( {
					charset: s.scriptCharset,
					src: s.url
				} ).on(
					"load error",
					callback = function( evt ) {
						script.remove();
						callback = null;
						if ( evt ) {
							complete( evt.type === "error" ? 404 : 200, evt.type );
						}
					}
				);

				// Use native DOM manipulation to avoid our domManip AJAX trickery
				document.head.appendChild( script[ 0 ] );
			},
			abort: function() {
				if ( callback ) {
					callback();
				}
			}
		};
	}
} );




var oldCallbacks = [],
	rjsonp = /(=)\?(?=&|$)|\?\?/;

// Default jsonp settings
jQuery.ajaxSetup( {
	jsonp: "callback",
	jsonpCallback: function() {
		var callback = oldCallbacks.pop() || ( jQuery.expando + "_" + ( nonce++ ) );
		this[ callback ] = true;
		return callback;
	}
} );

// Detect, normalize options and install callbacks for jsonp requests
jQuery.ajaxPrefilter( "json jsonp", function( s, originalSettings, jqXHR ) {

	var callbackName, overwritten, responseContainer,
		jsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?
			"url" :
			typeof s.data === "string" &&
				( s.contentType || "" )
					.indexOf( "application/x-www-form-urlencoded" ) === 0 &&
				rjsonp.test( s.data ) && "data"
		);

	// Handle iff the expected data type is "jsonp" or we have a parameter to set
	if ( jsonProp || s.dataTypes[ 0 ] === "jsonp" ) {

		// Get callback name, remembering preexisting value associated with it
		callbackName = s.jsonpCallback = isFunction( s.jsonpCallback ) ?
			s.jsonpCallback() :
			s.jsonpCallback;

		// Insert callback into url or form data
		if ( jsonProp ) {
			s[ jsonProp ] = s[ jsonProp ].replace( rjsonp, "$1" + callbackName );
		} else if ( s.jsonp !== false ) {
			s.url += ( rquery.test( s.url ) ? "&" : "?" ) + s.jsonp + "=" + callbackName;
		}

		// Use data converter to retrieve json after script execution
		s.converters[ "script json" ] = function() {
			if ( !responseContainer ) {
				jQuery.error( callbackName + " was not called" );
			}
			return responseContainer[ 0 ];
		};

		// Force json dataType
		s.dataTypes[ 0 ] = "json";

		// Install callback
		overwritten = window[ callbackName ];
		window[ callbackName ] = function() {
			responseContainer = arguments;
		};

		// Clean-up function (fires after converters)
		jqXHR.always( function() {

			// If previous value didn't exist - remove it
			if ( overwritten === undefined ) {
				jQuery( window ).removeProp( callbackName );

			// Otherwise restore preexisting value
			} else {
				window[ callbackName ] = overwritten;
			}

			// Save back as free
			if ( s[ callbackName ] ) {

				// Make sure that re-using the options doesn't screw things around
				s.jsonpCallback = originalSettings.jsonpCallback;

				// Save the callback name for future use
				oldCallbacks.push( callbackName );
			}

			// Call if it was a function and we have a response
			if ( responseContainer && isFunction( overwritten ) ) {
				overwritten( responseContainer[ 0 ] );
			}

			responseContainer = overwritten = undefined;
		} );

		// Delegate to script
		return "script";
	}
} );




// Support: Safari 8 only
// In Safari 8 documents created via document.implementation.createHTMLDocument
// collapse sibling forms: the second one becomes a child of the first one.
// Because of that, this security measure has to be disabled in Safari 8.
// https://bugs.webkit.org/show_bug.cgi?id=137337
support.createHTMLDocument = ( function() {
	var body = document.implementation.createHTMLDocument( "" ).body;
	body.innerHTML = "<form></form><form></form>";
	return body.childNodes.length === 2;
} )();


// Argument "data" should be string of html
// context (optional): If specified, the fragment will be created in this context,
// defaults to document
// keepScripts (optional): If true, will include scripts passed in the html string
jQuery.parseHTML = function( data, context, keepScripts ) {
	if ( typeof data !== "string" ) {
		return [];
	}
	if ( typeof context === "boolean" ) {
		keepScripts = context;
		context = false;
	}

	var base, parsed, scripts;

	if ( !context ) {

		// Stop scripts or inline event handlers from being executed immediately
		// by using document.implementation
		if ( support.createHTMLDocument ) {
			context = document.implementation.createHTMLDocument( "" );

			// Set the base href for the created document
			// so any parsed elements with URLs
			// are based on the document's URL (gh-2965)
			base = context.createElement( "base" );
			base.href = document.location.href;
			context.head.appendChild( base );
		} else {
			context = document;
		}
	}

	parsed = rsingleTag.exec( data );
	scripts = !keepScripts && [];

	// Single tag
	if ( parsed ) {
		return [ context.createElement( parsed[ 1 ] ) ];
	}

	parsed = buildFragment( [ data ], context, scripts );

	if ( scripts && scripts.length ) {
		jQuery( scripts ).remove();
	}

	return jQuery.merge( [], parsed.childNodes );
};


/**
 * Load a url into a page
 */
jQuery.fn.load = function( url, params, callback ) {
	var selector, type, response,
		self = this,
		off = url.indexOf( " " );

	if ( off > -1 ) {
		selector = stripAndCollapse( url.slice( off ) );
		url = url.slice( 0, off );
	}

	// If it's a function
	if ( isFunction( params ) ) {

		// We assume that it's the callback
		callback = params;
		params = undefined;

	// Otherwise, build a param string
	} else if ( params && typeof params === "object" ) {
		type = "POST";
	}

	// If we have elements to modify, make the request
	if ( self.length > 0 ) {
		jQuery.ajax( {
			url: url,

			// If "type" variable is undefined, then "GET" method will be used.
			// Make value of this field explicit since
			// user can override it through ajaxSetup method
			type: type || "GET",
			dataType: "html",
			data: params
		} ).done( function( responseText ) {

			// Save response for use in complete callback
			response = arguments;

			self.html( selector ?

				// If a selector was specified, locate the right elements in a dummy div
				// Exclude scripts to avoid IE 'Permission Denied' errors
				jQuery( "<div>" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :

				// Otherwise use the full result
				responseText );

		// If the request succeeds, this function gets "data", "status", "jqXHR"
		// but they are ignored because response was set above.
		// If it fails, this function gets "jqXHR", "status", "error"
		} ).always( callback && function( jqXHR, status ) {
			self.each( function() {
				callback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );
			} );
		} );
	}

	return this;
};




// Attach a bunch of functions for handling common AJAX events
jQuery.each( [
	"ajaxStart",
	"ajaxStop",
	"ajaxComplete",
	"ajaxError",
	"ajaxSuccess",
	"ajaxSend"
], function( i, type ) {
	jQuery.fn[ type ] = function( fn ) {
		return this.on( type, fn );
	};
} );




jQuery.expr.pseudos.animated = function( elem ) {
	return jQuery.grep( jQuery.timers, function( fn ) {
		return elem === fn.elem;
	} ).length;
};




jQuery.offset = {
	setOffset: function( elem, options, i ) {
		var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,
			position = jQuery.css( elem, "position" ),
			curElem = jQuery( elem ),
			props = {};

		// Set position first, in-case top/left are set even on static elem
		if ( position === "static" ) {
			elem.style.position = "relative";
		}

		curOffset = curElem.offset();
		curCSSTop = jQuery.css( elem, "top" );
		curCSSLeft = jQuery.css( elem, "left" );
		calculatePosition = ( position === "absolute" || position === "fixed" ) &&
			( curCSSTop + curCSSLeft ).indexOf( "auto" ) > -1;

		// Need to be able to calculate position if either
		// top or left is auto and position is either absolute or fixed
		if ( calculatePosition ) {
			curPosition = curElem.position();
			curTop = curPosition.top;
			curLeft = curPosition.left;

		} else {
			curTop = parseFloat( curCSSTop ) || 0;
			curLeft = parseFloat( curCSSLeft ) || 0;
		}

		if ( isFunction( options ) ) {

			// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)
			options = options.call( elem, i, jQuery.extend( {}, curOffset ) );
		}

		if ( options.top != null ) {
			props.top = ( options.top - curOffset.top ) + curTop;
		}
		if ( options.left != null ) {
			props.left = ( options.left - curOffset.left ) + curLeft;
		}

		if ( "using" in options ) {
			options.using.call( elem, props );

		} else {
			curElem.css( props );
		}
	}
};

jQuery.fn.extend( {

	// offset() relates an element's border box to the document origin
	offset: function( options ) {

		// Preserve chaining for setter
		if ( arguments.length ) {
			return options === undefined ?
				this :
				this.each( function( i ) {
					jQuery.offset.setOffset( this, options, i );
				} );
		}

		var rect, win,
			elem = this[ 0 ];

		if ( !elem ) {
			return;
		}

		// Return zeros for disconnected and hidden (display: none) elements (gh-2310)
		// Support: IE <=11 only
		// Running getBoundingClientRect on a
		// disconnected node in IE throws an error
		if ( !elem.getClientRects().length ) {
			return { top: 0, left: 0 };
		}

		// Get document-relative position by adding viewport scroll to viewport-relative gBCR
		rect = elem.getBoundingClientRect();
		win = elem.ownerDocument.defaultView;
		return {
			top: rect.top + win.pageYOffset,
			left: rect.left + win.pageXOffset
		};
	},

	// position() relates an element's margin box to its offset parent's padding box
	// This corresponds to the behavior of CSS absolute positioning
	position: function() {
		if ( !this[ 0 ] ) {
			return;
		}

		var offsetParent, offset, doc,
			elem = this[ 0 ],
			parentOffset = { top: 0, left: 0 };

		// position:fixed elements are offset from the viewport, which itself always has zero offset
		if ( jQuery.css( elem, "position" ) === "fixed" ) {

			// Assume position:fixed implies availability of getBoundingClientRect
			offset = elem.getBoundingClientRect();

		} else {
			offset = this.offset();

			// Account for the *real* offset parent, which can be the document or its root element
			// when a statically positioned element is identified
			doc = elem.ownerDocument;
			offsetParent = elem.offsetParent || doc.documentElement;
			while ( offsetParent &&
				( offsetParent === doc.body || offsetParent === doc.documentElement ) &&
				jQuery.css( offsetParent, "position" ) === "static" ) {

				offsetParent = offsetParent.parentNode;
			}
			if ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {

				// Incorporate borders into its offset, since they are outside its content origin
				parentOffset = jQuery( offsetParent ).offset();
				parentOffset.top += jQuery.css( offsetParent, "borderTopWidth", true );
				parentOffset.left += jQuery.css( offsetParent, "borderLeftWidth", true );
			}
		}

		// Subtract parent offsets and element margins
		return {
			top: offset.top - parentOffset.top - jQuery.css( elem, "marginTop", true ),
			left: offset.left - parentOffset.left - jQuery.css( elem, "marginLeft", true )
		};
	},

	// This method will return documentElement in the following cases:
	// 1) For the element inside the iframe without offsetParent, this method will return
	//    documentElement of the parent window
	// 2) For the hidden or detached element
	// 3) For body or html element, i.e. in case of the html node - it will return itself
	//
	// but those exceptions were never presented as a real life use-cases
	// and might be considered as more preferable results.
	//
	// This logic, however, is not guaranteed and can change at any point in the future
	offsetParent: function() {
		return this.map( function() {
			var offsetParent = this.offsetParent;

			while ( offsetParent && jQuery.css( offsetParent, "position" ) === "static" ) {
				offsetParent = offsetParent.offsetParent;
			}

			return offsetParent || documentElement;
		} );
	}
} );

// Create scrollLeft and scrollTop methods
jQuery.each( { scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function( method, prop ) {
	var top = "pageYOffset" === prop;

	jQuery.fn[ method ] = function( val ) {
		return access( this, function( elem, method, val ) {

			// Coalesce documents and windows
			var win;
			if ( isWindow( elem ) ) {
				win = elem;
			} else if ( elem.nodeType === 9 ) {
				win = elem.defaultView;
			}

			if ( val === undefined ) {
				return win ? win[ prop ] : elem[ method ];
			}

			if ( win ) {
				win.scrollTo(
					!top ? val : win.pageXOffset,
					top ? val : win.pageYOffset
				);

			} else {
				elem[ method ] = val;
			}
		}, method, val, arguments.length );
	};
} );

// Support: Safari <=7 - 9.1, Chrome <=37 - 49
// Add the top/left cssHooks using jQuery.fn.position
// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084
// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347
// getComputedStyle returns percent when specified for top/left/bottom/right;
// rather than make the css module depend on the offset module, just check for it here
jQuery.each( [ "top", "left" ], function( i, prop ) {
	jQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,
		function( elem, computed ) {
			if ( computed ) {
				computed = curCSS( elem, prop );

				// If curCSS returns percentage, fallback to offset
				return rnumnonpx.test( computed ) ?
					jQuery( elem ).position()[ prop ] + "px" :
					computed;
			}
		}
	);
} );


// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods
jQuery.each( { Height: "height", Width: "width" }, function( name, type ) {
	jQuery.each( { padding: "inner" + name, content: type, "": "outer" + name },
		function( defaultExtra, funcName ) {

		// Margin is only for outerHeight, outerWidth
		jQuery.fn[ funcName ] = function( margin, value ) {
			var chainable = arguments.length && ( defaultExtra || typeof margin !== "boolean" ),
				extra = defaultExtra || ( margin === true || value === true ? "margin" : "border" );

			return access( this, function( elem, type, value ) {
				var doc;

				if ( isWindow( elem ) ) {

					// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)
					return funcName.indexOf( "outer" ) === 0 ?
						elem[ "inner" + name ] :
						elem.document.documentElement[ "client" + name ];
				}

				// Get document width or height
				if ( elem.nodeType === 9 ) {
					doc = elem.documentElement;

					// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],
					// whichever is greatest
					return Math.max(
						elem.body[ "scroll" + name ], doc[ "scroll" + name ],
						elem.body[ "offset" + name ], doc[ "offset" + name ],
						doc[ "client" + name ]
					);
				}

				return value === undefined ?

					// Get width or height on the element, requesting but not forcing parseFloat
					jQuery.css( elem, type, extra ) :

					// Set width or height on the element
					jQuery.style( elem, type, value, extra );
			}, type, chainable ? margin : undefined, chainable );
		};
	} );
} );


jQuery.each( ( "blur focus focusin focusout resize scroll click dblclick " +
	"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " +
	"change select submit keydown keypress keyup contextmenu" ).split( " " ),
	function( i, name ) {

	// Handle event binding
	jQuery.fn[ name ] = function( data, fn ) {
		return arguments.length > 0 ?
			this.on( name, null, data, fn ) :
			this.trigger( name );
	};
} );

jQuery.fn.extend( {
	hover: function( fnOver, fnOut ) {
		return this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );
	}
} );




jQuery.fn.extend( {

	bind: function( types, data, fn ) {
		return this.on( types, null, data, fn );
	},
	unbind: function( types, fn ) {
		return this.off( types, null, fn );
	},

	delegate: function( selector, types, data, fn ) {
		return this.on( types, selector, data, fn );
	},
	undelegate: function( selector, types, fn ) {

		// ( namespace ) or ( selector, types [, fn] )
		return arguments.length === 1 ?
			this.off( selector, "**" ) :
			this.off( types, selector || "**", fn );
	}
} );

// Bind a function to a context, optionally partially applying any
// arguments.
// jQuery.proxy is deprecated to promote standards (specifically Function#bind)
// However, it is not slated for removal any time soon
jQuery.proxy = function( fn, context ) {
	var tmp, args, proxy;

	if ( typeof context === "string" ) {
		tmp = fn[ context ];
		context = fn;
		fn = tmp;
	}

	// Quick check to determine if target is callable, in the spec
	// this throws a TypeError, but we will just return undefined.
	if ( !isFunction( fn ) ) {
		return undefined;
	}

	// Simulated bind
	args = slice.call( arguments, 2 );
	proxy = function() {
		return fn.apply( context || this, args.concat( slice.call( arguments ) ) );
	};

	// Set the guid of unique handler to the same of original handler, so it can be removed
	proxy.guid = fn.guid = fn.guid || jQuery.guid++;

	return proxy;
};

jQuery.holdReady = function( hold ) {
	if ( hold ) {
		jQuery.readyWait++;
	} else {
		jQuery.ready( true );
	}
};
jQuery.isArray = Array.isArray;
jQuery.parseJSON = JSON.parse;
jQuery.nodeName = nodeName;
jQuery.isFunction = isFunction;
jQuery.isWindow = isWindow;
jQuery.camelCase = camelCase;
jQuery.type = toType;

jQuery.now = Date.now;

jQuery.isNumeric = function( obj ) {

	// As of jQuery 3.0, isNumeric is limited to
	// strings and numbers (primitives or objects)
	// that can be coerced to finite numbers (gh-2662)
	var type = jQuery.type( obj );
	return ( type === "number" || type === "string" ) &&

		// parseFloat NaNs numeric-cast false positives ("")
		// ...but misinterprets leading-number strings, particularly hex literals ("0x...")
		// subtraction forces infinities to NaN
		!isNaN( obj - parseFloat( obj ) );
};




// Register as a named AMD module, since jQuery can be concatenated with other
// files that may use define, but not via a proper concatenation script that
// understands anonymous AMD modules. A named AMD is safest and most robust
// way to register. Lowercase jquery is used because AMD module names are
// derived from file names, and jQuery is normally delivered in a lowercase
// file name. Do this after creating the global so that if an AMD module wants
// to call noConflict to hide this version of jQuery, it will work.

// Note that for maximum portability, libraries that are not jQuery should
// declare themselves as anonymous modules, and avoid setting a global if an
// AMD loader is present. jQuery is a special case. For more information, see
// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon

if ( true ) {
	!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function() {
		return jQuery;
	}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
}




var

	// Map over jQuery in case of overwrite
	_jQuery = window.jQuery,

	// Map over the $ in case of overwrite
	_$ = window.$;

jQuery.noConflict = function( deep ) {
	if ( window.$ === jQuery ) {
		window.$ = _$;
	}

	if ( deep && window.jQuery === jQuery ) {
		window.jQuery = _jQuery;
	}

	return jQuery;
};

// Expose jQuery and $ identifiers, even in AMD
// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)
// and CommonJS for browser emulators (#13566)
if ( !noGlobal ) {
	window.jQuery = window.$ = jQuery;
}




return jQuery;
} );


/***/ }),

/***/ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js!./node_modules/import-glob-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/lib/loader.js?!./node_modules/@epegzz/sass-vars-loader/dist/sassVarsLoader.js?!./src/modules/editor/editor.scss":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader!./node_modules/import-glob-loader!./node_modules/postcss-loader/src??ref--5-4!./node_modules/sass-loader/lib/loader.js??ref--5-5!./node_modules/@epegzz/sass-vars-loader/dist/sassVarsLoader.js??ref--5-6!./src/modules/editor/editor.scss ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ }),

/***/ "./node_modules/style-loader/lib/addStyles.js":
/*!****************************************************!*\
  !*** ./node_modules/style-loader/lib/addStyles.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/

var stylesInDom = {};

var	memoize = function (fn) {
	var memo;

	return function () {
		if (typeof memo === "undefined") memo = fn.apply(this, arguments);
		return memo;
	};
};

var isOldIE = memoize(function () {
	// Test for IE <= 9 as proposed by Browserhacks
	// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
	// Tests for existence of standard globals is to allow style-loader
	// to operate correctly into non-standard environments
	// @see https://github.com/webpack-contrib/style-loader/issues/177
	return window && document && document.all && !window.atob;
});

var getTarget = function (target, parent) {
  if (parent){
    return parent.querySelector(target);
  }
  return document.querySelector(target);
};

var getElement = (function (fn) {
	var memo = {};

	return function(target, parent) {
                // If passing function in options, then use it for resolve "head" element.
                // Useful for Shadow Root style i.e
                // {
                //   insertInto: function () { return document.querySelector("#foo").shadowRoot }
                // }
                if (typeof target === 'function') {
                        return target();
                }
                if (typeof memo[target] === "undefined") {
			var styleTarget = getTarget.call(this, target, parent);
			// Special case to return head of iframe instead of iframe itself
			if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
				try {
					// This will throw an exception if access to iframe is blocked
					// due to cross-origin restrictions
					styleTarget = styleTarget.contentDocument.head;
				} catch(e) {
					styleTarget = null;
				}
			}
			memo[target] = styleTarget;
		}
		return memo[target]
	};
})();

var singleton = null;
var	singletonCounter = 0;
var	stylesInsertedAtTop = [];

var	fixUrls = __webpack_require__(/*! ./urls */ "./node_modules/style-loader/lib/urls.js");

module.exports = function(list, options) {
	if (typeof DEBUG !== "undefined" && DEBUG) {
		if (typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");
	}

	options = options || {};

	options.attrs = typeof options.attrs === "object" ? options.attrs : {};

	// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
	// tags it will allow on a page
	if (!options.singleton && typeof options.singleton !== "boolean") options.singleton = isOldIE();

	// By default, add <style> tags to the <head> element
        if (!options.insertInto) options.insertInto = "head";

	// By default, add <style> tags to the bottom of the target
	if (!options.insertAt) options.insertAt = "bottom";

	var styles = listToStyles(list, options);

	addStylesToDom(styles, options);

	return function update (newList) {
		var mayRemove = [];

		for (var i = 0; i < styles.length; i++) {
			var item = styles[i];
			var domStyle = stylesInDom[item.id];

			domStyle.refs--;
			mayRemove.push(domStyle);
		}

		if(newList) {
			var newStyles = listToStyles(newList, options);
			addStylesToDom(newStyles, options);
		}

		for (var i = 0; i < mayRemove.length; i++) {
			var domStyle = mayRemove[i];

			if(domStyle.refs === 0) {
				for (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();

				delete stylesInDom[domStyle.id];
			}
		}
	};
};

function addStylesToDom (styles, options) {
	for (var i = 0; i < styles.length; i++) {
		var item = styles[i];
		var domStyle = stylesInDom[item.id];

		if(domStyle) {
			domStyle.refs++;

			for(var j = 0; j < domStyle.parts.length; j++) {
				domStyle.parts[j](item.parts[j]);
			}

			for(; j < item.parts.length; j++) {
				domStyle.parts.push(addStyle(item.parts[j], options));
			}
		} else {
			var parts = [];

			for(var j = 0; j < item.parts.length; j++) {
				parts.push(addStyle(item.parts[j], options));
			}

			stylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};
		}
	}
}

function listToStyles (list, options) {
	var styles = [];
	var newStyles = {};

	for (var i = 0; i < list.length; i++) {
		var item = list[i];
		var id = options.base ? item[0] + options.base : item[0];
		var css = item[1];
		var media = item[2];
		var sourceMap = item[3];
		var part = {css: css, media: media, sourceMap: sourceMap};

		if(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});
		else newStyles[id].parts.push(part);
	}

	return styles;
}

function insertStyleElement (options, style) {
	var target = getElement(options.insertInto)

	if (!target) {
		throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
	}

	var lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];

	if (options.insertAt === "top") {
		if (!lastStyleElementInsertedAtTop) {
			target.insertBefore(style, target.firstChild);
		} else if (lastStyleElementInsertedAtTop.nextSibling) {
			target.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);
		} else {
			target.appendChild(style);
		}
		stylesInsertedAtTop.push(style);
	} else if (options.insertAt === "bottom") {
		target.appendChild(style);
	} else if (typeof options.insertAt === "object" && options.insertAt.before) {
		var nextSibling = getElement(options.insertAt.before, target);
		target.insertBefore(style, nextSibling);
	} else {
		throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");
	}
}

function removeStyleElement (style) {
	if (style.parentNode === null) return false;
	style.parentNode.removeChild(style);

	var idx = stylesInsertedAtTop.indexOf(style);
	if(idx >= 0) {
		stylesInsertedAtTop.splice(idx, 1);
	}
}

function createStyleElement (options) {
	var style = document.createElement("style");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}

	if(options.attrs.nonce === undefined) {
		var nonce = getNonce();
		if (nonce) {
			options.attrs.nonce = nonce;
		}
	}

	addAttrs(style, options.attrs);
	insertStyleElement(options, style);

	return style;
}

function createLinkElement (options) {
	var link = document.createElement("link");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}
	options.attrs.rel = "stylesheet";

	addAttrs(link, options.attrs);
	insertStyleElement(options, link);

	return link;
}

function addAttrs (el, attrs) {
	Object.keys(attrs).forEach(function (key) {
		el.setAttribute(key, attrs[key]);
	});
}

function getNonce() {
	if (false) {}

	return __webpack_require__.nc;
}

function addStyle (obj, options) {
	var style, update, remove, result;

	// If a transform function was defined, run it on the css
	if (options.transform && obj.css) {
	    result = typeof options.transform === 'function'
		 ? options.transform(obj.css) 
		 : options.transform.default(obj.css);

	    if (result) {
	    	// If transform returns a value, use that instead of the original css.
	    	// This allows running runtime transformations on the css.
	    	obj.css = result;
	    } else {
	    	// If the transform function returns a falsy value, don't add this css.
	    	// This allows conditional loading of css
	    	return function() {
	    		// noop
	    	};
	    }
	}

	if (options.singleton) {
		var styleIndex = singletonCounter++;

		style = singleton || (singleton = createStyleElement(options));

		update = applyToSingletonTag.bind(null, style, styleIndex, false);
		remove = applyToSingletonTag.bind(null, style, styleIndex, true);

	} else if (
		obj.sourceMap &&
		typeof URL === "function" &&
		typeof URL.createObjectURL === "function" &&
		typeof URL.revokeObjectURL === "function" &&
		typeof Blob === "function" &&
		typeof btoa === "function"
	) {
		style = createLinkElement(options);
		update = updateLink.bind(null, style, options);
		remove = function () {
			removeStyleElement(style);

			if(style.href) URL.revokeObjectURL(style.href);
		};
	} else {
		style = createStyleElement(options);
		update = applyToTag.bind(null, style);
		remove = function () {
			removeStyleElement(style);
		};
	}

	update(obj);

	return function updateStyle (newObj) {
		if (newObj) {
			if (
				newObj.css === obj.css &&
				newObj.media === obj.media &&
				newObj.sourceMap === obj.sourceMap
			) {
				return;
			}

			update(obj = newObj);
		} else {
			remove();
		}
	};
}

var replaceText = (function () {
	var textStore = [];

	return function (index, replacement) {
		textStore[index] = replacement;

		return textStore.filter(Boolean).join('\n');
	};
})();

function applyToSingletonTag (style, index, remove, obj) {
	var css = remove ? "" : obj.css;

	if (style.styleSheet) {
		style.styleSheet.cssText = replaceText(index, css);
	} else {
		var cssNode = document.createTextNode(css);
		var childNodes = style.childNodes;

		if (childNodes[index]) style.removeChild(childNodes[index]);

		if (childNodes.length) {
			style.insertBefore(cssNode, childNodes[index]);
		} else {
			style.appendChild(cssNode);
		}
	}
}

function applyToTag (style, obj) {
	var css = obj.css;
	var media = obj.media;

	if(media) {
		style.setAttribute("media", media)
	}

	if(style.styleSheet) {
		style.styleSheet.cssText = css;
	} else {
		while(style.firstChild) {
			style.removeChild(style.firstChild);
		}

		style.appendChild(document.createTextNode(css));
	}
}

function updateLink (link, options, obj) {
	var css = obj.css;
	var sourceMap = obj.sourceMap;

	/*
		If convertToAbsoluteUrls isn't defined, but sourcemaps are enabled
		and there is no publicPath defined then lets turn convertToAbsoluteUrls
		on by default.  Otherwise default to the convertToAbsoluteUrls option
		directly
	*/
	var autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;

	if (options.convertToAbsoluteUrls || autoFixUrls) {
		css = fixUrls(css);
	}

	if (sourceMap) {
		// http://stackoverflow.com/a/26603875
		css += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";
	}

	var blob = new Blob([css], { type: "text/css" });

	var oldSrc = link.href;

	link.href = URL.createObjectURL(blob);

	if(oldSrc) URL.revokeObjectURL(oldSrc);
}


/***/ }),

/***/ "./node_modules/style-loader/lib/urls.js":
/*!***********************************************!*\
  !*** ./node_modules/style-loader/lib/urls.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {


/**
 * When source maps are enabled, `style-loader` uses a link element with a data-uri to
 * embed the css on the page. This breaks all relative urls because now they are relative to a
 * bundle instead of the current page.
 *
 * One solution is to only use full urls, but that may be impossible.
 *
 * Instead, this function "fixes" the relative urls to be absolute according to the current page location.
 *
 * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.
 *
 */

module.exports = function (css) {
  // get current location
  var location = typeof window !== "undefined" && window.location;

  if (!location) {
    throw new Error("fixUrls requires window.location");
  }

	// blank or null?
	if (!css || typeof css !== "string") {
	  return css;
  }

  var baseUrl = location.protocol + "//" + location.host;
  var currentDir = baseUrl + location.pathname.replace(/\/[^\/]*$/, "/");

	// convert each url(...)
	/*
	This regular expression is just a way to recursively match brackets within
	a string.

	 /url\s*\(  = Match on the word "url" with any whitespace after it and then a parens
	   (  = Start a capturing group
	     (?:  = Start a non-capturing group
	         [^)(]  = Match anything that isn't a parentheses
	         |  = OR
	         \(  = Match a start parentheses
	             (?:  = Start another non-capturing groups
	                 [^)(]+  = Match anything that isn't a parentheses
	                 |  = OR
	                 \(  = Match a start parentheses
	                     [^)(]*  = Match anything that isn't a parentheses
	                 \)  = Match a end parentheses
	             )  = End Group
              *\) = Match anything and then a close parens
          )  = Close non-capturing group
          *  = Match anything
       )  = Close capturing group
	 \)  = Match a close parens

	 /gi  = Get all matches, not the first.  Be case insensitive.
	 */
	var fixedCss = css.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function(fullMatch, origUrl) {
		// strip quotes (if they exist)
		var unquotedOrigUrl = origUrl
			.trim()
			.replace(/^"(.*)"$/, function(o, $1){ return $1; })
			.replace(/^'(.*)'$/, function(o, $1){ return $1; });

		// already a full url? no change
		if (/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(unquotedOrigUrl)) {
		  return fullMatch;
		}

		// convert the url to a full url
		var newUrl;

		if (unquotedOrigUrl.indexOf("//") === 0) {
		  	//TODO: should we add protocol?
			newUrl = unquotedOrigUrl;
		} else if (unquotedOrigUrl.indexOf("/") === 0) {
			// path should be relative to the base url
			newUrl = baseUrl + unquotedOrigUrl; // already starts with '/'
		} else {
			// path should be relative to current directory
			newUrl = currentDir + unquotedOrigUrl.replace(/^\.\//, ""); // Strip leading './'
		}

		// send back the fixed url(...)
		return "url(" + JSON.stringify(newUrl) + ")";
	});

	// send back the fixed css
	return fixedCss;
};


/***/ }),

/***/ "./src/modules/editor/editor-inline.js":
/*!*********************************************!*\
  !*** ./src/modules/editor/editor-inline.js ***!
  \*********************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ckeditor_ckeditor5_build_inline__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ckeditor/ckeditor5-build-inline */ "./node_modules/@ckeditor/ckeditor5-build-inline/build/ckeditor.js");
/* harmony import */ var _ckeditor_ckeditor5_build_inline__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_ckeditor_ckeditor5_build_inline__WEBPACK_IMPORTED_MODULE_1__);


jquery__WEBPACK_IMPORTED_MODULE_0___default()(document).ready(function () {
  jquery__WEBPACK_IMPORTED_MODULE_0___default()('[data-editor]').each(function () {
    var options = Object.assign({}, jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).data('editor'));
    var $target = jquery__WEBPACK_IMPORTED_MODULE_0___default()(jquery__WEBPACK_IMPORTED_MODULE_0___default()(this).data('target'));
    _ckeditor_ckeditor5_build_inline__WEBPACK_IMPORTED_MODULE_1___default.a.create(this, options).then(function (editor) {
      editor.setData($target.val());
      jquery__WEBPACK_IMPORTED_MODULE_0___default()(document).on('submit', 'form', function () {
        var content = editor.getData();
        $target && $target.val(content);
      });
    }).catch(function (error) {
      console.log(error);
    });
  });
});

/***/ }),

/***/ "./src/modules/editor/editor.js":
/*!**************************************!*\
  !*** ./src/modules/editor/editor.js ***!
  \**************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _editor_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editor.scss */ "./src/modules/editor/editor.scss");
/* harmony import */ var _editor_scss__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_editor_scss__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _editor_inline_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editor-inline.js */ "./src/modules/editor/editor-inline.js");



/***/ }),

/***/ "./src/modules/editor/editor.scss":
/*!****************************************!*\
  !*** ./src/modules/editor/editor.scss ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader!../../../node_modules/import-glob-loader!../../../node_modules/postcss-loader/src??ref--5-4!../../../node_modules/sass-loader/lib/loader.js??ref--5-5!../../../node_modules/@epegzz/sass-vars-loader/dist/sassVarsLoader.js??ref--5-6!./editor.scss */ "./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js!./node_modules/import-glob-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/lib/loader.js?!./node_modules/@epegzz/sass-vars-loader/dist/sassVarsLoader.js?!./src/modules/editor/editor.scss");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0Bja2VkaXRvci9ja2VkaXRvcjUtYnVpbGQtaW5saW5lL2J1aWxkL2NrZWRpdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qcXVlcnkvZGlzdC9qcXVlcnkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvZWRpdG9yL2VkaXRvci5zY3NzP2FjOTgiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL3VybHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvZWRpdG9yL2VkaXRvci1pbmxpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvZWRpdG9yL2VkaXRvci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9lZGl0b3IvZWRpdG9yLnNjc3M/YWZkYSJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsImVhY2giLCJvcHRpb25zIiwiT2JqZWN0IiwiYXNzaWduIiwiZGF0YSIsIiR0YXJnZXQiLCJJbmxpbmVFZGl0b3IiLCJjcmVhdGUiLCJ0aGVuIiwiZWRpdG9yIiwic2V0RGF0YSIsInZhbCIsIm9uIiwiY29udGVudCIsImdldERhdGEiLCJjYXRjaCIsImVycm9yIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0RBQTBDLGdDQUFnQztBQUMxRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtB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Q0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFFBQVEsWUFBWTs7QUFFcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGLG9CQUFvQjs7QUFFcEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVUsWUFBWTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUyxTQUFTO0FBQ2xCO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUyxZQUFZO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsVUFBVSxZQUFZO0FBQ3RCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLFNBQVM7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQSxnQkFBZ0IsSUFBSTs7QUFFcEI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0Esd0NBQXdDLElBQUk7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSx5QkFBeUI7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsUUFBUSw2QkFBNkI7QUFDaEQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQjtBQUMzQixhQUFhLHVCQUF1QjtBQUNwQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLGVBQWU7QUFDMUIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLGdDQUFnQyxNQUFNO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLGVBQWU7O0FBRWYsU0FBUzs7QUFFVDtBQUNBLFFBQVEsaUNBQWlDO0FBQ3pDLFFBQVEsb0JBQW9CO0FBQzVCLFFBQVEsc0NBQXNDO0FBQzlDLFFBQVE7QUFDUixFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsYUFBYSxFQUFFO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSw0REFBNEQ7O0FBRTVEO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qzs7QUFFekM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZEOztBQUU3RDtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7O0FBRTFDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0VBQWdFOztBQUVoRTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7O0FBRTdDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFD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QTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsTUFBTTtBQUNqQixXQUFXLE1BQU07QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7O0FBRUEsQ0FBQzs7OztBQUlEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBLFFBQVEsR0FBRztBQUNYO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBOzs7O0FBSUE7O0FBRUE7O0FBRUE7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQixTQUFTO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBOztBQUVBLGNBQWMsU0FBUztBQUN2QjtBQUNBOztBQUVBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7OztBQUdEOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVUsT0FBTztBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVSxPQUFPO0FBQ2pCLDBCQUEwQix3QkFBd0I7O0FBRWxEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBLDBDQUEwQztBQUMxQyxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7O0FBRW5CO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsY0FBYztBQUN4QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7O0FBRVI7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHdDQUF3QyxzQ0FBc0M7QUFDOUUsb0NBQW9DLHVDQUF1QztBQUMzRSxvQ0FBb0Msc0NBQXNDO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsT0FBTztBQUNQO0FBQ0EsTUFBTTtBQUNOLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXOztBQUVYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVU7O0FBRVY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXOztBQUVYO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFROztBQUVSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvQ0FBb0M7QUFDcEMscUNBQXFDO0FBQ3JDLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOzs7OztBQUtBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVUsU0FBUztBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCLGFBQWE7QUFDcEMsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0IsU0FBUztBQUM3Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTs7O0FBR0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVEsZ0JBQWdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQixnQkFBZ0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7QUFDRDs7QUFFQTs7QUFFQTs7OztBQUlBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsRUFBRTtBQUNGOztBQUVBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxRQUFRLE9BQU87QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0Esc0JBQXNCOztBQUV0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsUUFBUSxPQUFPO0FBQ2Y7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsZ0JBQWdCO0FBQ2xCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxXQUFXOztBQUVYOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVB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O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFDQUFxQyxjQUFjO0FBQ25EO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOzs7QUFHRDs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNB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QUFHRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLCtEQUErRDtBQUMzRTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFFBQVEsT0FBTzs7QUFFZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUEsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGdCQUFnQjtBQUNsQztBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjs7QUFFakI7QUFDQTs7QUFFQSxVQUFVLE9BQU87QUFDakI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxXQUFXLFNBQVM7QUFDcEI7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQSxRQUFRLE9BQU87QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsZ0JBQWdCO0FBQ3hCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixpREFBaUQsMEJBQTBCO0FBQzNFOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsVUFBVSxnQkFBZ0I7QUFDMUI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDJCQUEyQjtBQUMz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QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7OztBQUtEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7OztBQUtEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7QUFLRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBLGlDQUFpQztBQUNqQztBQUNBOztBQUVBLElBQUk7QUFDSjs7QUFFQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFNBQVM7QUFDcEI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7Ozs7O0FBS0Q7OztBQUdBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBOztBQUVBOztBQUVBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJDQUEyQztBQUMzQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsS0FBSztBQUNmO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaURBQWlEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsQ0FBQzs7QUFFRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUscUNBQXFDOztBQUVwRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBOztBQUVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUgsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLEtBQUs7QUFDTDs7QUFFQSxXQUFXO0FBQ1gsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7O0FBRWhCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7O0FBRWhCLGdEQUFnRDtBQUNoRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLG1CQUFtQjtBQUNuQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx3REFBd0Q7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCOztBQUVqQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxJQUFJOztBQUVKO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVM7QUFDVDs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsaUJBQWlCO0FBQ2pCLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7O0FBRWxEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCOztBQUUzQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0Esa0NBQWtDOztBQUVsQztBQUNBLHNCQUFzQjtBQUN0QiwyQkFBMkI7O0FBRTNCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEO0FBQ3REO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQSxFQUFFOztBQUVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLElBQUk7QUFDSjtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7O0FBRVI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHVCQUF1QjtBQUNsQyxXQUFXLHlCQUF5QjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7QUFLRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7OztBQUtEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7Ozs7QUFLRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7QUFHRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEVBQUU7QUFDRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7OztBQUtEO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHFEQUFxRDtBQUNyRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUI7O0FBRW5CO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDOztBQUVEO0FBQ0EsY0FBYyxzREFBc0Q7QUFDcEU7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQUk7QUFDSjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQSxjQUFjLG1DQUFtQztBQUNqRCxlQUFlLDZEQUE2RDtBQUM1RTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsRUFBRTtBQUNGLENBQUM7OztBQUdEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOzs7OztBQUtEOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSyxJQUEwQztBQUMvQyxDQUFDLGlDQUFrQixFQUFFLG1DQUFFO0FBQ3ZCO0FBQ0EsRUFBRTtBQUFBLG9HQUFFO0FBQ0o7Ozs7O0FBS0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBLENBQUM7Ozs7Ozs7Ozs7OztBQzNuVUQsdUM7Ozs7Ozs7Ozs7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTs7QUFFQSxjQUFjLG1CQUFPLENBQUMsdURBQVE7O0FBRTlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSxpQkFBaUIsbUJBQW1CO0FBQ3BDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlCQUFpQixzQkFBc0I7QUFDdkM7O0FBRUE7QUFDQSxtQkFBbUIsMkJBQTJCOztBQUU5QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0JBQWdCLG1CQUFtQjtBQUNuQztBQUNBOztBQUVBO0FBQ0E7O0FBRUEsaUJBQWlCLDJCQUEyQjtBQUM1QztBQUNBOztBQUVBLFFBQVEsdUJBQXVCO0FBQy9CO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUEsaUJBQWlCLHVCQUF1QjtBQUN4QztBQUNBOztBQUVBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGdCQUFnQixpQkFBaUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7O0FBRWQsa0RBQWtELHNCQUFzQjtBQUN4RTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjs7QUFFQTtBQUNBLEtBQUssS0FBd0MsRUFBRSxFQUU3Qzs7QUFFRixRQUFRLHNCQUFpQjtBQUN6Qjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQ7O0FBRUEsNkJBQTZCLG1CQUFtQjs7QUFFaEQ7O0FBRUE7O0FBRUE7QUFDQTs7Ozs7Ozs7Ozs7OztBQzlZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsV0FBVyxFQUFFO0FBQ3JELHdDQUF3QyxXQUFXLEVBQUU7O0FBRXJEO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esc0NBQXNDO0FBQ3RDLEdBQUc7QUFDSDtBQUNBLDhEQUE4RDtBQUM5RDs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7QUN4RkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQUEsNkNBQUMsQ0FBQ0MsUUFBRCxDQUFELENBQVlDLEtBQVosQ0FBa0IsWUFBWTtBQUM1QkYsK0NBQUMsQ0FBQyxlQUFELENBQUQsQ0FBbUJHLElBQW5CLENBQXdCLFlBQVk7QUFDbEMsUUFBSUMsT0FBTyxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FBYyxFQUFkLEVBQWtCTiw2Q0FBQyxDQUFDLElBQUQsQ0FBRCxDQUFRTyxJQUFSLENBQWEsUUFBYixDQUFsQixDQUFkO0FBQ0EsUUFBSUMsT0FBTyxHQUFHUiw2Q0FBQyxDQUFDQSw2Q0FBQyxDQUFDLElBQUQsQ0FBRCxDQUFRTyxJQUFSLENBQWEsUUFBYixDQUFELENBQWY7QUFFQUUsMkVBQVksQ0FBQ0MsTUFBYixDQUFvQixJQUFwQixFQUEwQk4sT0FBMUIsRUFDR08sSUFESCxDQUNRLFVBQUFDLE1BQU0sRUFBSTtBQUNkQSxZQUFNLENBQUNDLE9BQVAsQ0FBZUwsT0FBTyxDQUFDTSxHQUFSLEVBQWY7QUFFQWQsbURBQUMsQ0FBQ0MsUUFBRCxDQUFELENBQVljLEVBQVosQ0FBZSxRQUFmLEVBQXlCLE1BQXpCLEVBQWlDLFlBQVk7QUFDM0MsWUFBSUMsT0FBTyxHQUFHSixNQUFNLENBQUNLLE9BQVAsRUFBZDtBQUNBVCxlQUFPLElBQUlBLE9BQU8sQ0FBQ00sR0FBUixDQUFZRSxPQUFaLENBQVg7QUFDRCxPQUhEO0FBSUQsS0FSSCxFQVNHRSxLQVRILENBU1MsVUFBQUMsS0FBSyxFQUFJO0FBQ2RDLGFBQU8sQ0FBQ0MsR0FBUixDQUFZRixLQUFaO0FBQ0QsS0FYSDtBQVlELEdBaEJEO0FBaUJELENBbEJELEU7Ozs7Ozs7Ozs7OztBQ0hBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7Ozs7QUNDQSxjQUFjLG1CQUFPLENBQUMsc3BCQUFnWDs7QUFFdFksNENBQTRDLFFBQVM7O0FBRXJEO0FBQ0E7Ozs7QUFJQSxlQUFlOztBQUVmO0FBQ0E7O0FBRUEsYUFBYSxtQkFBTyxDQUFDLHlHQUFzRDs7QUFFM0U7O0FBRUEsR0FBRyxLQUFVLEVBQUUsRSIsImZpbGUiOiJlZGl0b3IuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL3NyYy9tb2R1bGVzL2VkaXRvci9lZGl0b3IuanNcIik7XG4iLCIvKiFcbiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwMy0yMDE4LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogRm9yIGxpY2Vuc2luZywgc2VlIExJQ0VOU0UubWQuXG4gKi9cbiFmdW5jdGlvbih0KXt0LmVuPU9iamVjdC5hc3NpZ24odC5lbnx8e30se2E6XCJDYW5ub3QgdXBsb2FkIGZpbGU6XCIsYjpcIkl0YWxpY1wiLGM6XCJCb2xkXCIsZDpcIkJsb2NrIHF1b3RlXCIsZTpcImltYWdlIHdpZGdldFwiLGY6XCJDaG9vc2UgaGVhZGluZ1wiLGc6XCJIZWFkaW5nXCIsaDpcIkVudGVyIGltYWdlIGNhcHRpb25cIixpOlwiRnVsbCBzaXplIGltYWdlXCIsajpcIlNpZGUgaW1hZ2VcIixrOlwiTGVmdCBhbGlnbmVkIGltYWdlXCIsbDpcIkNlbnRlcmVkIGltYWdlXCIsbTpcIlJpZ2h0IGFsaWduZWQgaW1hZ2VcIixuOlwiTGlua1wiLG86XCJOdW1iZXJlZCBMaXN0XCIscDpcIkJ1bGxldGVkIExpc3RcIixxOlwiSW5zZXJ0IGltYWdlXCIscjpcIlVwbG9hZCBmYWlsZWRcIixzOlwiSW5zZXJ0IHRhYmxlXCIsdDpcIkhlYWRlciBjb2x1bW5cIix1OlwiSW5zZXJ0IGNvbHVtbiBiZWZvcmVcIix2OlwiSW5zZXJ0IGNvbHVtbiBhZnRlclwiLHc6XCJEZWxldGUgY29sdW1uXCIseDpcIkNvbHVtblwiLHk6XCJIZWFkZXIgcm93XCIsejpcIkluc2VydCByb3cgYmVsb3dcIixhYTpcIkluc2VydCByb3cgYWJvdmVcIixhYjpcIkRlbGV0ZSByb3dcIixhYzpcIlJvd1wiLGFkOlwiTWVyZ2UgY2VsbCB1cFwiLGFlOlwiTWVyZ2UgY2VsbCByaWdodFwiLGFmOlwiTWVyZ2UgY2VsbCBkb3duXCIsYWc6XCJNZXJnZSBjZWxsIGxlZnRcIixhaDpcIlNwbGl0IGNlbGwgdmVydGljYWxseVwiLGFpOlwiU3BsaXQgY2VsbCBob3Jpem9udGFsbHlcIixhajpcIk1lcmdlIGNlbGxzXCIsYWs6XCJtZWRpYSB3aWRnZXRcIixhbDpcIkluc2VydCBtZWRpYVwiLGFtOlwiVGhlIFVSTCBtdXN0IG5vdCBiZSBlbXB0eS5cIixhbjpcIlRoaXMgbWVkaWEgVVJMIGlzIG5vdCBzdXBwb3J0ZWQuXCIsYW86XCJVcGxvYWQgaW4gcHJvZ3Jlc3NcIixhcDpcIkNoYW5nZSBpbWFnZSB0ZXh0IGFsdGVybmF0aXZlXCIsYXE6XCJQYXJhZ3JhcGhcIixhcjpcIkhlYWRpbmcgMVwiLGFzOlwiSGVhZGluZyAyXCIsYXQ6XCJIZWFkaW5nIDNcIixhdTpcIlNhdmVcIixhdjpcIkNhbmNlbFwiLGF3OlwiTWVkaWEgVVJMXCIsYXg6XCJSaWNoIFRleHQgRWRpdG9yLCAlMFwiLGF5OlwiVGV4dCBhbHRlcm5hdGl2ZVwiLGF6OlwiVW5kb1wiLGJhOlwiUmVkb1wiLGJiOlwiVW5saW5rXCIsYmM6XCJFZGl0IGxpbmtcIixiZDpcIk9wZW4gbGluayBpbiBuZXcgdGFiXCIsYmU6XCJUaGlzIGxpbmsgaGFzIG5vIFVSTFwiLGJmOlwiTGluayBVUkxcIn0pfSh3aW5kb3cuQ0tFRElUT1JfVFJBTlNMQVRJT05TfHwod2luZG93LkNLRURJVE9SX1RSQU5TTEFUSU9OUz17fSkpLGZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5JbmxpbmVFZGl0b3I9ZSgpOnQuSW5saW5lRWRpdG9yPWUoKX0od2luZG93LGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4obyl7aWYoZVtvXSlyZXR1cm4gZVtvXS5leHBvcnRzO3ZhciBpPWVbb109e2k6byxsOiExLGV4cG9ydHM6e319O3JldHVybiB0W29dLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLG4pLGkubD0hMCxpLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUsbyl7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0Om99KX0sbi5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbih0LGUpe2lmKDEmZSYmKHQ9bih0KSksOCZlKXJldHVybiB0O2lmKDQmZSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgbz1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihvKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobyxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZlJiZcInN0cmluZ1wiIT10eXBlb2YgdClmb3IodmFyIGkgaW4gdCluLmQobyxpLGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfS5iaW5kKG51bGwsaSkpO3JldHVybiBvfSxuLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIG4uZChlLFwiYVwiLGUpLGV9LG4ubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sbi5wPVwiXCIsbihuLnM9MTEwKX0oW2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLmQoZSxcImJcIixmdW5jdGlvbigpe3JldHVybiBpfSksbi5kKGUsXCJhXCIsZnVuY3Rpb24oKXtyZXR1cm4gcn0pO2NvbnN0IG89XCJodHRwczovL2NrZWRpdG9yLmNvbS9kb2NzL2NrZWRpdG9yNS9sYXRlc3QvZnJhbWV3b3JrL2d1aWRlcy9zdXBwb3J0L2Vycm9yLWNvZGVzLmh0bWxcIjtjbGFzcyBpIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IodCxlKXt0PXIodCksZSYmKHQrPVwiIFwiK0pTT04uc3RyaW5naWZ5KGUpKSxzdXBlcih0KSx0aGlzLm5hbWU9XCJDS0VkaXRvckVycm9yXCIsdGhpcy5kYXRhPWV9c3RhdGljIGlzQ0tFZGl0b3JFcnJvcih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGl9fWZ1bmN0aW9uIHIodCl7Y29uc3QgZT10Lm1hdGNoKC9eKFteOl0rKTovKTtyZXR1cm4gZT90K2AgUmVhZCBtb3JlOiAke299I2Vycm9yLSR7ZVsxXX1cXG5gOnR9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG89bigwKTtjb25zdCBpPXtlcnJvcih0LGUpe2NvbnNvbGUuZXJyb3IoT2JqZWN0KG8uYSkodCksZSl9LHdhcm4odCxlKXtjb25zb2xlLndhcm4oT2JqZWN0KG8uYSkodCksZSl9fTtlLmE9aX0sZnVuY3Rpb24odCxlLG4pe3ZhciBvPXt9LGk9ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpKSxlfX0oZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93JiZkb2N1bWVudCYmZG9jdW1lbnQuYWxsJiYhd2luZG93LmF0b2J9KSxyPWZ1bmN0aW9uKHQpe3ZhciBlPXt9O3JldHVybiBmdW5jdGlvbih0LG4pe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpcmV0dXJuIHQoKTtpZih2b2lkIDA9PT1lW3RdKXt2YXIgbz1mdW5jdGlvbih0LGUpe3JldHVybiBlP2UucXVlcnlTZWxlY3Rvcih0KTpkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQpfS5jYWxsKHRoaXMsdCxuKTtpZih3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQmJm8gaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpdHJ5e289by5jb250ZW50RG9jdW1lbnQuaGVhZH1jYXRjaCh0KXtvPW51bGx9ZVt0XT1vfXJldHVybiBlW3RdfX0oKSxzPW51bGwsYT0wLGM9W10sbD1uKDQ0KTtmdW5jdGlvbiBkKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl0scj1vW2kuaWRdO2lmKHIpe3IucmVmcysrO2Zvcih2YXIgcz0wO3M8ci5wYXJ0cy5sZW5ndGg7cysrKXIucGFydHNbc10oaS5wYXJ0c1tzXSk7Zm9yKDtzPGkucGFydHMubGVuZ3RoO3MrKylyLnBhcnRzLnB1c2gocChpLnBhcnRzW3NdLGUpKX1lbHNle3ZhciBhPVtdO2ZvcihzPTA7czxpLnBhcnRzLmxlbmd0aDtzKyspYS5wdXNoKHAoaS5wYXJ0c1tzXSxlKSk7b1tpLmlkXT17aWQ6aS5pZCxyZWZzOjEscGFydHM6YX19fX1mdW5jdGlvbiB1KHQsZSl7Zm9yKHZhciBuPVtdLG89e30saT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgcj10W2ldLHM9ZS5iYXNlP3JbMF0rZS5iYXNlOnJbMF0sYT17Y3NzOnJbMV0sbWVkaWE6clsyXSxzb3VyY2VNYXA6clszXX07b1tzXT9vW3NdLnBhcnRzLnB1c2goYSk6bi5wdXNoKG9bc109e2lkOnMscGFydHM6W2FdfSl9cmV0dXJuIG59ZnVuY3Rpb24gaCh0LGUpe3ZhciBuPXIodC5pbnNlcnRJbnRvKTtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTt2YXIgbz1jW2MubGVuZ3RoLTFdO2lmKFwidG9wXCI9PT10Lmluc2VydEF0KW8/by5uZXh0U2libGluZz9uLmluc2VydEJlZm9yZShlLG8ubmV4dFNpYmxpbmcpOm4uYXBwZW5kQ2hpbGQoZSk6bi5pbnNlcnRCZWZvcmUoZSxuLmZpcnN0Q2hpbGQpLGMucHVzaChlKTtlbHNlIGlmKFwiYm90dG9tXCI9PT10Lmluc2VydEF0KW4uYXBwZW5kQ2hpbGQoZSk7ZWxzZXtpZihcIm9iamVjdFwiIT10eXBlb2YgdC5pbnNlcnRBdHx8IXQuaW5zZXJ0QXQuYmVmb3JlKXRocm93IG5ldyBFcnJvcihcIltTdHlsZSBMb2FkZXJdXFxuXFxuIEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnICgnb3B0aW9ucy5pbnNlcnRBdCcpIGZvdW5kLlxcbiBNdXN0IGJlICd0b3AnLCAnYm90dG9tJywgb3IgT2JqZWN0LlxcbiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIjaW5zZXJ0YXQpXFxuXCIpO3ZhciBpPXIodC5pbnNlcnRBdC5iZWZvcmUsbik7bi5pbnNlcnRCZWZvcmUoZSxpKX19ZnVuY3Rpb24gZih0KXtpZihudWxsPT09dC5wYXJlbnROb2RlKXJldHVybiExO3QucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KTt2YXIgZT1jLmluZGV4T2YodCk7ZT49MCYmYy5zcGxpY2UoZSwxKX1mdW5jdGlvbiBtKHQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtpZih2b2lkIDA9PT10LmF0dHJzLnR5cGUmJih0LmF0dHJzLnR5cGU9XCJ0ZXh0L2Nzc1wiKSx2b2lkIDA9PT10LmF0dHJzLm5vbmNlKXt2YXIgbz1mdW5jdGlvbigpezA7cmV0dXJuIG4ubmN9KCk7byYmKHQuYXR0cnMubm9uY2U9byl9cmV0dXJuIGcoZSx0LmF0dHJzKSxoKHQsZSksZX1mdW5jdGlvbiBnKHQsZSl7T2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbihuKXt0LnNldEF0dHJpYnV0ZShuLGVbbl0pfSl9ZnVuY3Rpb24gcCh0LGUpe3ZhciBuLG8saSxyO2lmKGUudHJhbnNmb3JtJiZ0LmNzcyl7aWYoIShyPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUudHJhbnNmb3JtP2UudHJhbnNmb3JtKHQuY3NzKTplLnRyYW5zZm9ybS5kZWZhdWx0KHQuY3NzKSkpcmV0dXJuIGZ1bmN0aW9uKCl7fTt0LmNzcz1yfWlmKGUuc2luZ2xldG9uKXt2YXIgYz1hKys7bj1zfHwocz1tKGUpKSxvPXcuYmluZChudWxsLG4sYywhMSksaT13LmJpbmQobnVsbCxuLGMsITApfWVsc2UgdC5zb3VyY2VNYXAmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgQmxvYiYmXCJmdW5jdGlvblwiPT10eXBlb2YgYnRvYT8obj1mdW5jdGlvbih0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtyZXR1cm4gdm9pZCAwPT09dC5hdHRycy50eXBlJiYodC5hdHRycy50eXBlPVwidGV4dC9jc3NcIiksdC5hdHRycy5yZWw9XCJzdHlsZXNoZWV0XCIsZyhlLHQuYXR0cnMpLGgodCxlKSxlfShlKSxvPWZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1uLmNzcyxpPW4uc291cmNlTWFwLHI9dm9pZCAwPT09ZS5jb252ZXJ0VG9BYnNvbHV0ZVVybHMmJmk7KGUuY29udmVydFRvQWJzb2x1dGVVcmxzfHxyKSYmKG89bChvKSk7aSYmKG8rPVwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShpKSkpKStcIiAqL1wiKTt2YXIgcz1uZXcgQmxvYihbb10se3R5cGU6XCJ0ZXh0L2Nzc1wifSksYT10LmhyZWY7dC5ocmVmPVVSTC5jcmVhdGVPYmplY3RVUkwocyksYSYmVVJMLnJldm9rZU9iamVjdFVSTChhKX0uYmluZChudWxsLG4sZSksaT1mdW5jdGlvbigpe2Yobiksbi5ocmVmJiZVUkwucmV2b2tlT2JqZWN0VVJMKG4uaHJlZil9KToobj1tKGUpLG89ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmNzcyxvPWUubWVkaWE7byYmdC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLG8pO2lmKHQuc3R5bGVTaGVldCl0LnN0eWxlU2hlZXQuY3NzVGV4dD1uO2Vsc2V7Zm9yKDt0LmZpcnN0Q2hpbGQ7KXQucmVtb3ZlQ2hpbGQodC5maXJzdENoaWxkKTt0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG4pKX19LmJpbmQobnVsbCxuKSxpPWZ1bmN0aW9uKCl7ZihuKX0pO3JldHVybiBvKHQpLGZ1bmN0aW9uKGUpe2lmKGUpe2lmKGUuY3NzPT09dC5jc3MmJmUubWVkaWE9PT10Lm1lZGlhJiZlLnNvdXJjZU1hcD09PXQuc291cmNlTWFwKXJldHVybjtvKHQ9ZSl9ZWxzZSBpKCl9fXQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBERUJVRyYmREVCVUcmJlwib2JqZWN0XCIhPXR5cGVvZiBkb2N1bWVudCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7KGU9ZXx8e30pLmF0dHJzPVwib2JqZWN0XCI9PXR5cGVvZiBlLmF0dHJzP2UuYXR0cnM6e30sZS5zaW5nbGV0b258fFwiYm9vbGVhblwiPT10eXBlb2YgZS5zaW5nbGV0b258fChlLnNpbmdsZXRvbj1pKCkpLGUuaW5zZXJ0SW50b3x8KGUuaW5zZXJ0SW50bz1cImhlYWRcIiksZS5pbnNlcnRBdHx8KGUuaW5zZXJ0QXQ9XCJib3R0b21cIik7dmFyIG49dSh0LGUpO3JldHVybiBkKG4sZSksZnVuY3Rpb24odCl7Zm9yKHZhciBpPVtdLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIHM9bltyXTsoYT1vW3MuaWRdKS5yZWZzLS0saS5wdXNoKGEpfXQmJmQodSh0LGUpLGUpO2ZvcihyPTA7cjxpLmxlbmd0aDtyKyspe3ZhciBhO2lmKDA9PT0oYT1pW3JdKS5yZWZzKXtmb3IodmFyIGM9MDtjPGEucGFydHMubGVuZ3RoO2MrKylhLnBhcnRzW2NdKCk7ZGVsZXRlIG9bYS5pZF19fX19O3ZhciBiPWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIGZ1bmN0aW9uKGUsbil7cmV0dXJuIHRbZV09bix0LmZpbHRlcihCb29sZWFuKS5qb2luKFwiXFxuXCIpfX0oKTtmdW5jdGlvbiB3KHQsZSxuLG8pe3ZhciBpPW4/XCJcIjpvLmNzcztpZih0LnN0eWxlU2hlZXQpdC5zdHlsZVNoZWV0LmNzc1RleHQ9YihlLGkpO2Vsc2V7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoaSkscz10LmNoaWxkTm9kZXM7c1tlXSYmdC5yZW1vdmVDaGlsZChzW2VdKSxzLmxlbmd0aD90Lmluc2VydEJlZm9yZShyLHNbZV0pOnQuYXBwZW5kQ2hpbGQocil9fX0sLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgbz1uKDkpLGk9XCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnNlbGYmJnNlbGYuT2JqZWN0PT09T2JqZWN0JiZzZWxmLHI9by5hfHxpfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7ZS5hPXJ9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24odCl7dmFyIG89big5KSxpPVwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZleHBvcnRzJiYhZXhwb3J0cy5ub2RlVHlwZSYmZXhwb3J0cyxyPWkmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0JiYhdC5ub2RlVHlwZSYmdCxzPXImJnIuZXhwb3J0cz09PWkmJm8uYS5wcm9jZXNzLGE9ZnVuY3Rpb24oKXt0cnl7dmFyIHQ9ciYmci5yZXF1aXJlJiZyLnJlcXVpcmUoXCJ1dGlsXCIpLnR5cGVzO3JldHVybiB0fHxzJiZzLmJpbmRpbmcmJnMuYmluZGluZyhcInV0aWxcIil9Y2F0Y2godCl7fX0oKTtlLmE9YX0pLmNhbGwodGhpcyxuKDExKSh0KSl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24odCl7dmFyIG89big0KSxpPW4oMTgpLHI9XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJmV4cG9ydHMmJiFleHBvcnRzLm5vZGVUeXBlJiZleHBvcnRzLHM9ciYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJiF0Lm5vZGVUeXBlJiZ0LGE9cyYmcy5leHBvcnRzPT09cj9vLmEuQnVmZmVyOnZvaWQgMCxjPShhP2EuaXNCdWZmZXI6dm9pZCAwKXx8aS5hO2UuYT1jfSkuY2FsbCh0aGlzLG4oMTEpKHQpKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTYuOTcyIDE2LjYxNWEuOTk3Ljk5NyAwIDAgMS0uNzQ0LS4yOTJsLTQuNTk2LTQuNTk2YTEgMSAwIDEgMSAxLjQxNC0xLjQxNGwzLjkyNiAzLjkyNiA5LjkzNy05LjkzN2ExIDEgMCAwIDEgMS40MTQgMS40MTVMNy43MTcgMTYuMzIzYS45OTcuOTk3IDAgMCAxLS43NDUuMjkyelwiIGZpbGw9XCIjMDAwXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiLz48L3N2Zz4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMTEuNTkxIDEwLjE3N2w0LjI0MyA0LjI0MmExIDEgMCAwIDEtMS40MTUgMS40MTVsLTQuMjQyLTQuMjQzLTQuMjQzIDQuMjQzYTEgMSAwIDAgMS0xLjQxNC0xLjQxNWw0LjI0My00LjI0Mkw0LjUyIDUuOTM0QTEgMSAwIDAgMSA1LjkzNCA0LjUybDQuMjQzIDQuMjQzIDQuMjQyLTQuMjQzYTEgMSAwIDEgMSAxLjQxNSAxLjQxNGwtNC4yNDMgNC4yNDN6XCIgZmlsbD1cIiMwMDBcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPid9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24odCl7dmFyIG49XCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuT2JqZWN0PT09T2JqZWN0JiZ0O2UuYT1ufSkuY2FsbCh0aGlzLG4oMTYpKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxnIGZpbGw9XCIjMDAwXCIgZmlsbC1ydWxlPVwibm9uemVyb1wiPjxwYXRoIGQ9XCJNMiA0LjVWM2gxNnYxLjV6TTIgNy41VjZoNS42NzR2MS41ek0yIDEwLjVWOWg1LjY3NHYxLjV6TTIgMTMuNVYxMmg1LjY3NHYxLjV6TTEwLjUgNy41VjEyaDZWNy41aC02ek05LjY4MiA2aDcuNjM2Yy4zNzcgMCAuNjgyLjQwNy42ODIuOTF2NS42OGMwIC41MDMtLjMwNS45MS0uNjgyLjkxSDkuNjgyYy0uMzc3IDAtLjY4Mi0uNDA3LS42ODItLjkxVjYuOTFjMC0uNTAzLjMwNS0uOTEuNjgyLS45MXpNMiAxNi41VjE1aDE2djEuNXpcIi8+PC9nPjwvc3ZnPlxcbid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCF0LndlYnBhY2tQb2x5ZmlsbCl7dmFyIGU9T2JqZWN0LmNyZWF0ZSh0KTtlLmNoaWxkcmVufHwoZS5jaGlsZHJlbj1bXSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJsb2FkZWRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5sfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiaWRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5pfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiZXhwb3J0c1wiLHtlbnVtZXJhYmxlOiEwfSksZS53ZWJwYWNrUG9seWZpbGw9MX1yZXR1cm4gZX19LGZ1bmN0aW9uKHQpe3QuZXhwb3J0cz17YTpcIjExLjEuMVwifX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxnIGZpbGw9XCIjMDAwXCIgZmlsbC1ydWxlPVwibm9uemVyb1wiPjxwYXRoIGQ9XCJNMiA0LjVWM2gxNnYxLjV6TTQuNSA3LjVWMTJoMTFWNy41aC0xMXpNNC4wNjEgNkgxNS45NGMuNTg2IDAgMS4wNjEuNDA3IDEuMDYxLjkxdjUuNjhjMCAuNTAzLS40NzUuOTEtMS4wNjEuOTFINC4wNkMzLjQ3NSAxMy41IDMgMTMuMDkzIDMgMTIuNTlWNi45MUMzIDYuNDA2IDMuNDc1IDYgNC4wNjEgNnpNMiAxNi41VjE1aDE2djEuNXpcIi8+PC9nPjwvc3ZnPlxcbid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMS40MTRcIj48cGF0aCBkPVwiTTE4IDQuNVYzSDJ2MS41aDE2em0wIDNWNmgtNS42NzR2MS41SDE4em0wIDNWOWgtNS42NzR2MS41SDE4em0wIDNWMTJoLTUuNjc0djEuNUgxOHptLTguNS02VjEyaC02VjcuNWg2em0uODE4LTEuNUgyLjY4MkMyLjMwNSA2IDIgNi40MDcgMiA2LjkxdjUuNjhjMCAuNTAzLjMwNS45MS42ODIuOTFoNy42MzZjLjM3NyAwIC42ODItLjQwNy42ODItLjkxVjYuOTFjMC0uNTAzLS4zMDUtLjkxLS42ODItLjkxek0xOCAxNi41VjE1SDJ2MS41aDE2elwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIi8+PC9zdmc+J30sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxnIGZpbGw9XCIjMDAwXCIgZmlsbC1ydWxlPVwibm9uemVyb1wiPjxwYXRoIGQ9XCJNMiA0LjVWM2gxNnYxLjV6TTYuNSA3LjVWMTJoN1Y3LjVoLTd6TTUuNzU4IDZoOC40ODRjLjQxOSAwIC43NTguNDA3Ljc1OC45MXY1LjY4MWMwIC41MDItLjM0LjkwOS0uNzU4LjkwOUg1Ljc1OGMtLjQxOSAwLS43NTgtLjQwNy0uNzU4LS45MVY2LjkxYzAtLjUwMy4zNC0uOTEuNzU4LS45MXpNMiAxNi41VjE1aDE2djEuNXpcIi8+PC9nPjwvc3ZnPlxcbid9LGZ1bmN0aW9uKHQsZSl7dmFyIG47bj1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtuPW58fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKXx8KDAsZXZhbCkoXCJ0aGlzXCIpfWNhdGNoKHQpe1wib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJihuPXdpbmRvdyl9dC5leHBvcnRzPW59LGZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1uKDg3KTtcInN0cmluZ1wiPT10eXBlb2YgbyYmKG89W1t0LmksbyxcIlwiXV0pO3ZhciBpPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMikobyxpKTtvLmxvY2FscyYmKHQuZXhwb3J0cz1vLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtlLmE9ZnVuY3Rpb24oKXtyZXR1cm4hMX19LGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24odCl7dmFyIG89big0KSxpPVwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZleHBvcnRzJiYhZXhwb3J0cy5ub2RlVHlwZSYmZXhwb3J0cyxyPWkmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0JiYhdC5ub2RlVHlwZSYmdCxzPXImJnIuZXhwb3J0cz09PWk/by5hLkJ1ZmZlcjp2b2lkIDAsYT1zP3MuYWxsb2NVbnNhZmU6dm9pZCAwO2UuYT1mdW5jdGlvbih0LGUpe2lmKGUpcmV0dXJuIHQuc2xpY2UoKTt2YXIgbj10Lmxlbmd0aCxvPWE/YShuKTpuZXcgdC5jb25zdHJ1Y3RvcihuKTtyZXR1cm4gdC5jb3B5KG8pLG99fSkuY2FsbCh0aGlzLG4oMTEpKHQpKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTUuMDQyIDkuMzY3bDIuMTg5IDEuODM3YS43NS43NSAwIDAgMS0uOTY1IDEuMTQ5bC0zLjc4OC0zLjE4YS43NDcuNzQ3IDAgMCAxLS4yMS0uMjg0Ljc1Ljc1IDAgMCAxIC4xNy0uOTQ1TDYuMjMgNC43NjJhLjc1Ljc1IDAgMSAxIC45NjQgMS4xNUw0Ljg2MyA3Ljg2Nmg4LjkxN0EuNzUuNzUgMCAwIDEgMTQgNy45YTQgNCAwIDEgMS0xLjQ3NyA3LjcxOGwuMzQ0LTEuNDg5YTIuNSAyLjUgMCAxIDAgMS4wOTQtNC43M2wuMDA4LS4wMzJINS4wNDJ6XCIgZmlsbD1cIiMwMDBcIiBmaWxsLXJ1bGU9XCJub256ZXJvXCIvPjwvc3ZnPid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0xNC45NTggOS4zNjdsLTIuMTg5IDEuODM3YS43NS43NSAwIDAgMCAuOTY1IDEuMTQ5bDMuNzg4LTMuMThhLjc0Ny43NDcgMCAwIDAgLjIxLS4yODQuNzUuNzUgMCAwIDAtLjE3LS45NDVMMTMuNzcgNC43NjJhLjc1Ljc1IDAgMSAwLS45NjQgMS4xNWwyLjMzMSAxLjk1NUg2LjIyQS43NS43NSAwIDAgMCA2IDcuOWE0IDQgMCAxIDAgMS40NzcgNy43MThsLS4zNDQtMS40ODlBMi41IDIuNSAwIDEgMSA2LjAzOSA5LjRsLS4wMDgtLjAzMmg4LjkyN3pcIiBmaWxsPVwiIzAwMFwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIi8+PC9zdmc+J30sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMTAuMTg3IDE3SDUuNzczYy0uNjM3IDAtMS4wOTItLjEzOC0xLjM2NC0uNDE1LS4yNzMtLjI3Ny0uNDA5LS43MTgtLjQwOS0xLjMyM1Y0LjczOGMwLS42MTcuMTQtMS4wNjIuNDE5LTEuMzMyLjI3OS0uMjcuNzMtLjQwNiAxLjM1NC0uNDA2aDQuNjhjLjY5IDAgMS4yODguMDQxIDEuNzkzLjEyNC41MDYuMDgzLjk2LjI0MiAxLjM2LjQ3OC4zNDEuMTk3LjY0NC40NDcuOTA2Ljc1YTMuMjYyIDMuMjYyIDAgMCAxIC44MDggMi4xNjJjMCAxLjQwMS0uNzIyIDIuNDI2LTIuMTY3IDMuMDc1QzE1LjA1IDEwLjE3NSAxNiAxMS4zMTUgMTYgMTMuMDFhMy43NTYgMy43NTYgMCAwIDEtMi4yOTYgMy41MDQgNi4xIDYuMSAwIDAgMS0xLjUxNy4zNzdjLS41NzEuMDczLTEuMjM4LjExLTIgLjExem0tLjIxNy02LjIxN0g3djQuMDg3aDMuMDY5YzEuOTc3IDAgMi45NjUtLjY5IDIuOTY1LTIuMDcyIDAtLjcwNy0uMjU2LTEuMjItLjc2OC0xLjUzNy0uNTEyLS4zMTktMS4yNzctLjQ3OC0yLjI5Ni0uNDc4ek03IDUuMTN2My42MTloMi42MDZjLjcyOSAwIDEuMjkyLS4wNjcgMS42OS0uMmExLjYgMS42IDAgMCAwIC45MS0uNzY1Yy4xNjUtLjI2Ny4yNDctLjU2Ni4yNDctLjg5NyAwLS43MDctLjI2LTEuMTc2LS43NzgtMS40MDktLjUxOS0uMjMyLTEuMzEtLjM0OC0yLjM3NS0uMzQ4SDd6XCIgZmlsbD1cIiMwMDBcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPlxcbid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk05LjU4NiAxNC42MzNsLjAyMS4wMDRjLS4wMzYuMzM1LjA5NS42NTUuMzkzLjk2Mi4wODIuMDgzLjE3My4xNS4yNzQuMjAxaDEuNDc0YS42LjYgMCAxIDEgMCAxLjJINS4zMDRhLjYuNiAwIDAgMSAwLTEuMmgxLjE1Yy40NzQtLjA3LjgwOS0uMTgyIDEuMDA1LS4zMzQuMTU3LS4xMjIuMjkxLS4zMi40MDQtLjU5N2wyLjQxNi05LjU1YTEuMDUzIDEuMDUzIDAgMCAwLS4yODEtLjgyMyAxLjEyIDEuMTIgMCAwIDAtLjQ0Mi0uMjk2SDguMTVhLjYuNiAwIDAgMSAwLTEuMmg2LjQ0M2EuNi42IDAgMSAxIDAgMS4yaC0xLjE5NWMtLjM3Ni4wNTYtLjY1LjE1NS0uODIzLjI5Ni0uMjE1LjE3NS0uNDIzLjQzOS0uNjIzLjc5bC0yLjM2NiA5LjM0N3pcIiBmaWxsPVwiIzMzM1wiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIi8+PC9zdmc+J30sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48ZyBmaWxsPVwiIzAwMFwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj48cGF0aCBkPVwiTTMgMTAuNDIzYTYuNSA2LjUgMCAwIDEgNi4wNTYtNi40MDhsLjAzOC42N0M2LjQ0OCA1LjQyMyA1LjM1NCA3LjY2MyA1LjIyIDEwSDljLjU1MiAwIC41LjQzMi41Ljk4NnY0LjUxMWMwIC41NTQtLjQ0OC41MDMtMSAuNTAzaC01Yy0uNTUyIDAtLjUtLjQ0OS0uNS0xLjAwM3YtNC4wMTEtLjU2M3pNMTEgMTAuNDIzYTYuNSA2LjUgMCAwIDEgNi4wNTYtNi40MDhsLjAzOC42N2MtMi42NDYuNzM5LTMuNzQgMi45NzktMy44NzMgNS4zMTVIMTdjLjU1MiAwIC41LjQzMi41Ljk4NnY0LjUxMWMwIC41NTQtLjQ0OC41MDMtMSAuNTAzaC01Yy0uNTUyIDAtLjUtLjQ0OS0uNS0xLjAwM3YtNC4wMTEtLjU2M3pcIi8+PC9nPjwvc3ZnPlxcbid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMTYgMTZcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PGc+PHBhdGggZD1cIk00IDB2MUgxdjNIMFYuNUEuNS41IDAgMCAxIC41IDBINHptOCAwaDMuNWEuNS41IDAgMCAxIC41LjVWNGgtMVYxaC0zVjB6TTQgMTZILjVhLjUuNSAwIDAgMS0uNS0uNVYxMmgxdjNoM3Yxem04IDB2LTFoM3YtM2gxdjMuNWEuNS41IDAgMCAxLS41LjVIMTJ6XCIvPjxwYXRoIGZpbGwtb3BhY2l0eT1cIi4yNTZcIiBkPVwiTTEgMWgxNHYxNEgxelwiLz48ZyBjbGFzcz1cImNrLWljb25fX3NlbGVjdGVkLWluZGljYXRvclwiPjxwYXRoIGQ9XCJNNyAwaDJ2MUg3VjB6TTAgN2gxdjJIMFY3em0xNSAwaDF2MmgtMVY3em0tOCA4aDJ2MUg3di0xelwiLz48cGF0aCBmaWxsLW9wYWNpdHk9XCIuMjU0XCIgZD1cIk0xIDFoMTR2MTRIMXpcIi8+PC9nPjwvZz48L3N2Zz5cXG4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNNS4wODUgNi4yMkwyLjk0MyA0LjA3OGEuNzUuNzUgMCAxIDEgMS4wNi0xLjA2bDIuNTkyIDIuNTlBMTEuMDk0IDExLjA5NCAwIDAgMSAxMCA1LjA2OGM0LjczOCAwIDguNTc4IDMuMTAxIDguNTc4IDUuMDgzIDAgMS4xOTctMS40MDEgMi44MDMtMy41NTUgMy44ODdsMS43MTQgMS43MTNhLjc1Ljc1IDAgMCAxLS4wOSAxLjEzOC40ODguNDg4IDAgMCAxLS4xNS4wODQuNzUuNzUgMCAwIDEtLjgyMS0uMTZMNi4xNyA3LjMwNGMtLjI1OC4xMS0uNTEuMjMzLS43NTcuMzY1bDYuMjM5IDYuMjQtLjAwNi4wMDUuNzguNzhjLS4zODguMDk0LS43OC4xNjYtMS4xNzQuMjE1bC0xLjExLTEuMTFoLjAxMUw0LjU1IDguMTk3YTcuMiA3LjIgMCAwIDAtLjY2NS41MTRsLS4xMTIuMDk4IDQuODk3IDQuODk3LS4wMDUuMDA2IDEuMjc2IDEuMjc2YTEwLjE2NCAxMC4xNjQgMCAwIDEtMS40NzctLjExN2wtLjQ3OS0uNDc5LS4wMDkuMDA5LTQuODYzLTQuODYzLS4wMjIuMDMxYTIuNTYzIDIuNTYzIDAgMCAwLS4xMjQuMmMtLjA0My4wNzctLjA4LjE1OC0uMTA4LjI0MWEuNTM0LjUzNCAwIDAgMC0uMDI4LjEzMy4yOS4yOSAwIDAgMCAuMDA4LjA3Mi45MjcuOTI3IDAgMCAwIC4wODIuMjI2Yy4wNjcuMTMzLjE0NS4yNi4yMzQuMzc5bDMuMjQyIDMuMzY1LjAyNS4wMS41OS42MjNjLTMuMjY1LS45MTgtNS41OS0zLjE1NS01LjU5LTQuNjY4IDAtMS4xOTQgMS40NDgtMi44MzggMy42NjMtMy45M3ptNy4wNy41MzFhNC42MzIgNC42MzIgMCAwIDEgMS4xMDggNS45OTJsLjM0NS4zNDQuMDQ2LS4wMThhOS4zMTMgOS4zMTMgMCAwIDAgMi0xLjExMmMuMjU2LS4xODcuNS0uMzkyLjcyNy0uNjEzLjEzNy0uMTM0LjI3LS4yNzcuMzkyLS40MzEuMDcyLS4wOTEuMTQxLS4xODUuMjAzLS4yODYuMDU3LS4wOTMuMTA3LS4xOS4xNDgtLjI5MmEuNzIuNzIgMCAwIDAgLjAzNi0uMTIuMjkuMjkgMCAwIDAgLjAwOC0uMDcyLjQ5Mi40OTIgMCAwIDAtLjAyOC0uMTMzLjk5OS45OTkgMCAwIDAtLjAzNi0uMDk2IDIuMTY1IDIuMTY1IDAgMCAwLS4wNzEtLjE0NSAyLjkxNyAyLjkxNyAwIDAgMC0uMTI1LS4yIDMuNTkyIDMuNTkyIDAgMCAwLS4yNjMtLjMzNSA1LjQ0NCA1LjQ0NCAwIDAgMC0uNTMtLjUyMyA3Ljk1NSA3Ljk1NSAwIDAgMC0xLjA1NC0uNzY4IDkuNzY2IDkuNzY2IDAgMCAwLTEuODc5LS44OTFjLS4zMzctLjExOC0uNjgtLjIxOS0xLjAyNy0uMzAxem0tMi44NS4yMWwtLjA2OS4wMDJhLjUwOC41MDggMCAwIDAtLjI1NC4wOTcuNDk2LjQ5NiAwIDAgMC0uMTA0LjY3OS40OTguNDk4IDAgMCAwIC4zMjYuMTk5bC4wNDUuMDA1Yy4wOTEuMDAzLjE4MS4wMDMuMjcyLjAxMi45LjA5MyAxLjY3Ni42NzUgMi4wMTcgMS41MTMuMDI0LjA2MS4wNDMuMTI1LjA2OS4xODVhLjQ5NC40OTQgMCAwIDAgLjQ1LjI4N2guMDA4YS40OTYuNDk2IDAgMCAwIC4zNS0uMTU4LjQ4Mi40ODIgMCAwIDAgLjEzLS4zMzUuNjM4LjYzOCAwIDAgMC0uMDQ4LS4yMTkgMy4zNzkgMy4zNzkgMCAwIDAtLjM2LS43MjMgMy40MzggMy40MzggMCAwIDAtMi43OTEtMS41NDNsLS4wMjgtLjAwMWgtLjAxM3pcIiBmaWxsPVwiIzAwMFwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIi8+PC9zdmc+J30sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNNi45MSAxMC41NGMuMjYtLjIzLjY0LS4yMS44OC4wM2wzLjM2IDMuMTQgMi4yMy0yLjA2YS42NC42NCAwIDAgMSAuODcgMGwyLjUyIDIuOTdWNC41SDMuMnYxMC4xMmwzLjcxLTQuMDh6bTEwLjI3LTcuNTFjLjYgMCAxLjA5LjQ3IDEuMDkgMS4wNXYxMS44NGMwIC41OS0uNDkgMS4wNi0xLjA5IDEuMDZIMi43OWMtLjYgMC0xLjA5LS40Ny0xLjA5LTEuMDZWNC4wOGMwLS41OC40OS0xLjA1IDEuMS0xLjA1aDE0LjM4em0tNS4yMiA1LjU2YTEuOTYgMS45NiAwIDEgMSAzLjQtMS45NiAxLjk2IDEuOTYgMCAwIDEtMy40IDEuOTZ6XCIgZmlsbD1cIiMwMDBcIiBmaWxsLXJ1bGU9XCJub256ZXJvXCIvPjwvc3ZnPlxcbid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDcwMCAyNTBcIj48ZyBmaWxsPVwiI0ZBRkFGQVwiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj48cmVjdCB3aWR0aD1cIjcwMFwiIGhlaWdodD1cIjI1MFwiIHJ4PVwiNFwiLz48L2c+PC9zdmc+XFxuJ30sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIxMFwiIGhlaWdodD1cIjEwXCIgdmlld0JveD1cIjAgMCAxMCAxMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTS45NDEgNC41MjNhLjc1Ljc1IDAgMSAxIDEuMDYtMS4wNmwzLjAwNiAzLjAwNSAzLjAwNS0zLjAwNWEuNzUuNzUgMCAxIDEgMS4wNiAxLjA2bC0zLjU0OSAzLjU1YS43NS43NSAwIDAgMS0xLjE2OC0uMTM2TC45NDEgNC41MjN6XCIgZmlsbD1cIiMwMDBcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PGcgZmlsbD1cIiMwMDBcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCI+PHBhdGggZD1cIk0xMS4wNzcgMTVsLjk5MS0xLjQxNmEuNzUuNzUgMCAxIDEgMS4yMjkuODZsLTEuMTQ4IDEuNjRhLjc0OC43NDggMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTVjLjAyLS4wOTUuMDYtLjE4OS4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6TTE2LjkyNyAxNy42OTVsLTEuNDE0IDEuNDE0YS43NS43NSAwIDEgMS0xLjA2LTEuMDZsMS40MTQtMS40MTUtMS40MTUtMS40MTRhLjc1Ljc1IDAgMCAxIDEuMDYxLTEuMDZsMS40MTQgMS40MTQgMS40MTQtMS40MTVhLjc1Ljc1IDAgMCAxIDEuMDYxIDEuMDYxbC0xLjQxNCAxLjQxNCAxLjQxNCAxLjQxNWEuNzUuNzUgMCAwIDEtMS4wNiAxLjA2bC0xLjQxNS0xLjQxNHpcIi8+PC9nPjwvc3ZnPid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk03LjMgMTcuMzdsLS4wNjEuMDg4YTEuNTE4IDEuNTE4IDAgMCAxLS45MzQuNTM1bC00LjE3OC42NjMtLjgwNi00LjE1M2ExLjQ5NSAxLjQ5NSAwIDAgMSAuMTg3LTEuMDU4bC4wNTYtLjA4Nkw4Ljc3IDIuNjM5Yy45NTgtMS4zNTEgMi44MDMtMS4wNzYgNC4yOTYtLjAzIDEuNDk3IDEuMDQ3IDIuMzg3IDIuNjkzIDEuNDMzIDQuMDU1TDcuMyAxNy4zN3pNOS4xNCA0LjcyOGwtNS41NDUgOC4zNDYgMy4yNzcgMi4yOTQgNS41NDQtOC4zNDZMOS4xNCA0LjcyOHpNNi4wNyAxNi41MTJsLTMuMjc2LTIuMjk1LjUzIDIuNzMgMi43NDYtLjQzNXpNOS45OTQgMy41MDZMMTMuMjcxIDUuOGMuMzE2LS40NTItLjE2LTEuMzMzLTEuMDY1LTEuOTY2LS45MDUtLjYzNC0xLjg5NS0uNzgtMi4yMTItLjMyOHpNOCAxOC41TDkuMzc1IDE3SDE5djEuNUg4elwiIGZpbGw9XCIjMDAwXCIgZmlsbC1ydWxlPVwibm9uemVyb1wiLz48L3N2Zz5cXG4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMTEuMDc3IDE1bC45OTEtMS40MTZhLjc1Ljc1IDAgMSAxIDEuMjI5Ljg2bC0xLjE0OCAxLjY0YS43NDguNzQ4IDAgMCAxLS4yMTcuMjA2IDUuMjUxIDUuMjUxIDAgMCAxLTguNTAzLTUuOTU1Yy4wMi0uMDk1LjA2LS4xODkuMTItLjI3NGwxLjE0Ny0xLjYzOWEuNzUuNzUgMCAxIDEgMS4yMjguODZMNC45MzMgMTAuN2wuMDA2LjAwM2EzLjc1IDMuNzUgMCAwIDAgNi4xMzIgNC4yOTRsLjAwNi4wMDR6bTUuNDk0LTUuMzM1YS43NDguNzQ4IDAgMCAxLS4xMi4yNzRsLTEuMTQ3IDEuNjM5YS43NS43NSAwIDEgMS0xLjIyOC0uODZsLjg2LTEuMjNhMy43NSAzLjc1IDAgMCAwLTYuMTQ0LTQuMzAxbC0uODYgMS4yMjlhLjc1Ljc1IDAgMCAxLTEuMjI5LS44NmwxLjE0OC0xLjY0YS43NDguNzQ4IDAgMCAxIC4yMTctLjIwNiA1LjI1MSA1LjI1MSAwIDAgMSA4LjUwMyA1Ljk1NXptLTQuNTYzLTIuNTMyYS43NS43NSAwIDAgMSAuMTg0IDEuMDQ1bC0zLjE1NSA0LjUwNWEuNzUuNzUgMCAxIDEtMS4yMjktLjg2bDMuMTU1LTQuNTA2YS43NS43NSAwIDAgMSAxLjA0NS0uMTg0elwiIGZpbGw9XCIjMDAwXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiLz48L3N2Zz4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNNyA1Ljc1YzAgLjQxNC4zMzYuNzUuNzUuNzVoOS41YS43NS43NSAwIDEgMCAwLTEuNWgtOS41YS43NS43NSAwIDAgMC0uNzUuNzV6TTMuNSAzdjVIMlYzLjdIMXYtMWgyLjVWM3pNLjM0MyAxNy44NTdsMi41OS0zLjI1N0gyLjkyYS42LjYgMCAxIDAtMS4wNCAwSC4zMDJhMiAyIDAgMSAxIDMuOTk1IDBoLS4wMDFjLS4wNDguNDA1LS4xNi43MzQtLjMzMy45ODgtLjE3NS4yNTQtLjU5LjY5Mi0xLjI0NCAxLjMxMkg0LjN2MWgtNGwuMDQzLS4wNDN6TTcgMTQuNzVhLjc1Ljc1IDAgMCAxIC43NS0uNzVoOS41YS43NS43NSAwIDEgMSAwIDEuNWgtOS41YS43NS43NSAwIDAgMS0uNzUtLjc1elwiIGZpbGw9XCIjNDU0NTQ1XCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiLz48L3N2Zz4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNNyA1Ljc1YzAgLjQxNC4zMzYuNzUuNzUuNzVoOS41YS43NS43NSAwIDEgMCAwLTEuNWgtOS41YS43NS43NSAwIDAgMC0uNzUuNzV6bS02IDBDMSA0Ljc4NCAxLjc3NyA0IDIuNzUgNGMuOTY2IDAgMS43NS43NzcgMS43NSAxLjc1IDAgLjk2Ni0uNzc3IDEuNzUtMS43NSAxLjc1QzEuNzg0IDcuNSAxIDYuNzIzIDEgNS43NXptNiA5YzAgLjQxNC4zMzYuNzUuNzUuNzVoOS41YS43NS43NSAwIDEgMCAwLTEuNWgtOS41YS43NS43NSAwIDAgMC0uNzUuNzV6bS02IDBjMC0uOTY2Ljc3Ny0xLjc1IDEuNzUtMS43NS45NjYgMCAxLjc1Ljc3NyAxLjc1IDEuNzUgMCAuOTY2LS43NzcgMS43NS0xLjc1IDEuNzUtLjk2NiAwLTEuNzUtLjc3Ny0xLjc1LTEuNzV6XCIgZmlsbD1cIiM0NTQ1NDVcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCIvPjwvc3ZnPid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiNjRcIiBoZWlnaHQ9XCI0MlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTQ3LjQyNiAxN1YzLjcxM0w2My4xMDIgMHYxOS4zODloLS4wMDFsLjAwMS4yNzJjMCAxLjU5NS0yLjAzMiAzLjQzLTQuNTM4IDQuMDk4LTIuNTA2LjY2OC00LjUzOC0uMDgzLTQuNTM4LTEuNjc4IDAtMS41OTQgMi4wMzItMy40MyA0LjUzOC00LjA5OC45MTQtLjI0NCAyLjAzMi0uNTY1IDIuODg4LS42MDNWNC41MTZMNDkuMDc2IDcuNDQ3djkuNTU2QTEuMDE0IDEuMDE0IDAgMCAwIDQ5IDE3aC0xLjU3NHpNMjkuNSAxN2gtOC4zNDNhNy4wNzMgNy4wNzMgMCAxIDAtNC42NTcgNC4wNnYzLjc4MUgzLjNhMi44MDMgMi44MDMgMCAwIDEtMi44LTIuODA0VjguNjNhMi44MDMgMi44MDMgMCAwIDEgMi44LTIuODA1aDQuMDgyTDguNTggMi43NjhBMS45OTQgMS45OTQgMCAwIDEgMTAuNDM1IDEuNWg4Ljk4NWMuNzczIDAgMS40NzcuNDQ4IDEuODA1IDEuMTQ5bDEuNDg4IDMuMTc3SDI2LjdjMS41NDYgMCAyLjggMS4yNTYgMi44IDIuODA1VjE3em0tMTEuNjM3IDBIMTcuNWExIDEgMCAwIDAtMSAxdi4wNUE0LjI0NCA0LjI0NCAwIDEgMSAxNy44NjMgMTd6bTI5LjY4NCAyYy45NyAwIC45NTMtLjA0OC45NTMuODg5djIwLjc0M2MwIC45NTMuMDE2LjkwNS0uOTUzLjkwNUgxOS40NTNjLS45NyAwLS45NTMuMDQ4LS45NTMtLjkwNVYxOS44OWMwLS45MzctLjAxNi0uODg5Ljk3LS44ODloMjguMDc3em0tNC43MDEgMTkuMzM4VjIyLjE4M0gyNC4xNTR2MTYuMTU1aDE4LjY5MnpNMjAuNiAyMS4zNzV2MS42MTZoMS42MTZ2LTEuNjE2SDIwLjZ6bTAgMy4yMzF2MS42MTZoMS42MTZ2LTEuNjE2SDIwLjZ6bTAgMy4yMzF2MS42MTZoMS42MTZ2LTEuNjE2SDIwLjZ6bTAgMy4yMzF2MS42MTZoMS42MTZ2LTEuNjE2SDIwLjZ6bTAgMy4yMzF2MS42MTZoMS42MTZ2LTEuNjE2SDIwLjZ6bTAgMy4yMzF2MS42MTZoMS42MTZWMzcuNTNIMjAuNnptMjQuMjMzLTE2LjE1NXYxLjYxNmgxLjYxNXYtMS42MTZoLTEuNjE1em0wIDMuMjMxdjEuNjE2aDEuNjE1di0xLjYxNmgtMS42MTV6bTAgMy4yMzF2MS42MTZoMS42MTV2LTEuNjE2aC0xLjYxNXptMCAzLjIzMXYxLjYxNmgxLjYxNXYtMS42MTZoLTEuNjE1em0wIDMuMjMxdjEuNjE2aDEuNjE1di0xLjYxNmgtMS42MTV6bTAgMy4yMzF2MS42MTZoMS42MTVWMzcuNTNoLTEuNjE1ek0yOS40ODUgMjUuMjgzYS40LjQgMCAwIDEgLjU5My0uMzVsOS4wNSA0Ljk3N2EuNC40IDAgMCAxIDAgLjcwMWwtOS4wNSA0Ljk3OGEuNC40IDAgMCAxLS41OTMtLjM1di05Ljk1NnpcIiBmaWxsPVwiIzAwMFwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIi8+PC9zdmc+J30sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMTguNjggMi41M2MuNiAwIC41OS0uMDMuNTkuNTV2MTIuODRjMCAuNTkuMDEuNTYtLjU5LjU2SDEuMjljLS42IDAtLjU5LjAzLS41OS0uNTZWMy4wOGMwLS41OC0uMDEtLjU1LjYtLjU1aDE3LjM4ek0xNS43NyAxNC41di0xMEg0LjJ2MTBoMTEuNTd6TTIgNHYxaDFWNEgyem0wIDJ2MWgxVjZIMnptMCAydjFoMVY4SDJ6bTAgMnYxaDF2LTFIMnptMCAydjFoMXYtMUgyem0wIDJ2MWgxdi0xSDJ6TTE3IDR2MWgxVjRoLTF6bTAgMnYxaDFWNmgtMXptMCAydjFoMVY4aC0xem0wIDJ2MWgxdi0xaC0xem0wIDJ2MWgxdi0xaC0xem0wIDJ2MWgxdi0xaC0xek03LjUgNi42NzdhLjQuNCAwIDAgMSAuNTkzLS4zNTFsNS4xMzMgMi44MjRhLjQuNCAwIDAgMSAwIC43bC01LjEzMyAyLjgyNGEuNC40IDAgMCAxLS41OTMtLjM1VjYuNjc2elwiIGZpbGw9XCIjMDAwXCIgZmlsbC1ydWxlPVwibm9uemVyb1wiLz48L3N2Zz4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0zIDZ2M2g0VjZIM3ptMCA0djNoNHYtM0gzem0wIDR2M2g0di0zSDN6bTUgM2g0di0zSDh2M3ptNSAwaDR2LTNoLTR2M3ptNC00di0zaC00djNoNHptMC00VjZoLTR2M2g0em0xLjUgOGExLjUgMS41IDAgMCAxLTEuNSAxLjVIM0ExLjUgMS41IDAgMCAxIDEuNSAxN1Y0Yy4yMjItLjg2MyAxLjA2OC0xLjUgMi0xLjVoMTNjLjkzMiAwIDEuNzc4LjYzNyAyIDEuNXYxM3pNMTIgMTN2LTNIOHYzaDR6bTAtNFY2SDh2M2g0elwiIGZpbGw9XCIjMzMzXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiLz48L3N2Zz4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB3aWR0aD1cIjIwXCIgaGVpZ2h0PVwiMjBcIiB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxnIGZpbGw9XCIjMzMzXCIgZmlsbC1ydWxlPVwiZXZlbm9kZFwiPjxwYXRoIGQ9XCJNMi41IDFoMTVBMS41IDEuNSAwIDAgMSAxOSAyLjV2MTVhMS41IDEuNSAwIDAgMS0xLjUgMS41aC0xNUExLjUgMS41IDAgMCAxIDEgMTcuNXYtMTVBMS41IDEuNSAwIDAgMSAyLjUgMXpNMiAydjE2aDE2VjJIMnpcIiBvcGFjaXR5PVwiLjZcIi8+PHBhdGggZD1cIk0xOCA3djFIMlY3aDE2em0wIDV2MUgydi0xaDE2elwiIGZpbGwtcnVsZT1cIm5vbnplcm9cIiBvcGFjaXR5PVwiLjZcIi8+PHBhdGggZD1cIk0xNCAxdjE4YTEgMSAwIDAgMS0xIDFIN2ExIDEgMCAwIDEtMS0xVjFhMSAxIDAgMCAxIDEtMWg2YTEgMSAwIDAgMSAxIDF6bS0yIDFIOHY0aDRWMnptMCA2SDh2NGg0Vjh6bTAgNkg4djRoNHYtNHpcIi8+PC9nPjwvc3ZnPid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHdpZHRoPVwiMjBcIiBoZWlnaHQ9XCIyMFwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PGcgZmlsbD1cIiMzMzNcIiBmaWxsLXJ1bGU9XCJldmVub2RkXCI+PHBhdGggZD1cIk0yLjUgMWgxNUExLjUgMS41IDAgMCAxIDE5IDIuNXYxNWExLjUgMS41IDAgMCAxLTEuNSAxLjVoLTE1QTEuNSAxLjUgMCAwIDEgMSAxNy41di0xNUExLjUgMS41IDAgMCAxIDIuNSAxek0yIDJ2MTZoMTZWMkgyelwiIG9wYWNpdHk9XCIuNlwiLz48cGF0aCBkPVwiTTcgMmgxdjE2SDdWMnptNSAwaDF2MTZoLTFWMnpcIiBmaWxsLXJ1bGU9XCJub256ZXJvXCIgb3BhY2l0eT1cIi42XCIvPjxwYXRoIGQ9XCJNMSA2aDE4YTEgMSAwIDAgMSAxIDF2NmExIDEgMCAwIDEtMSAxSDFhMSAxIDAgMCAxLTEtMVY3YTEgMSAwIDAgMSAxLTF6bTEgMnY0aDRWOEgyem02IDB2NGg0VjhIOHptNiAwdjRoNFY4aC00elwiLz48L2c+PC9zdmc+J30sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzxzdmcgd2lkdGg9XCIyMFwiIGhlaWdodD1cIjIwXCIgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48ZyBmaWxsPVwiIzMzM1wiIGZpbGwtcnVsZT1cImV2ZW5vZGRcIj48cGF0aCBkPVwiTTIuNSAxaDE1QTEuNSAxLjUgMCAwIDEgMTkgMi41djE1YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtMTVBMS41IDEuNSAwIDAgMSAxIDE3LjV2LTE1QTEuNSAxLjUgMCAwIDEgMi41IDF6TTIgMnYxNmgxNlYySDJ6XCIgb3BhY2l0eT1cIi42XCIvPjxwYXRoIGQ9XCJNNyAyaDF2MTZIN1Yyem01IDBoMXY3aC0xVjJ6bTYgNXYxSDJWN2gxNnpNOCAxMnYxSDJ2LTFoNnpcIiBmaWxsLXJ1bGU9XCJub256ZXJvXCIgb3BhY2l0eT1cIi42XCIvPjxwYXRoIGQ9XCJNNyA3aDEyYTEgMSAwIDAgMSAxIDF2MTFhMSAxIDAgMCAxLTEgMUg3YTEgMSAwIDAgMS0xLTFWOGExIDEgMCAwIDEgMS0xem0xIDJ2OWgxMFY5SDh6XCIvPjwvZz48L3N2Zz4nfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKHQpe3ZhciBlPW4oMSksbz1uKDEyKTtjb25zdCBpPVwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3c/d2luZG93OnQ7aS5DS0VESVRPUl9WRVJTSU9OP2UuYS5lcnJvcihcImNrZWRpdG9yLXZlcnNpb24tY29sbGlzaW9uOiBUaGUgZ2xvYmFsIENLRURJVE9SX1ZFUlNJT04gY29uc3RhbnQgaGFzIGFscmVhZHkgYmVlbiBzZXQuXCIse2NvbGxpZGluZ1ZlcnNpb246aS5DS0VESVRPUl9WRVJTSU9OLHZlcnNpb246by5hfSk6aS5DS0VESVRPUl9WRVJTSU9OPW8uYX0pLmNhbGwodGhpcyxuKDE2KSl9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1uKDQzKTtcInN0cmluZ1wiPT10eXBlb2YgbyYmKG89W1t0LmksbyxcIlwiXV0pO3ZhciBpPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMikobyxpKTtvLmxvY2FscyYmKHQuZXhwb3J0cz1vLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLWhpZGRlbntkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5jay5jay1yZXNldCwuY2suY2stcmVzZXRfYWxsLC5jay5jay1yZXNldF9hbGwgKntib3gtc2l6aW5nOmJvcmRlci1ib3g7d2lkdGg6YXV0bztoZWlnaHQ6YXV0bztwb3NpdGlvbjpzdGF0aWN9OnJvb3R7LS1jay16LWRlZmF1bHQ6MTstLWNrLXotbW9kYWw6Y2FsYyh2YXIoLS1jay16LWRlZmF1bHQpICsgOTk5KTstLWNrLWNvbG9yLWJhc2UtZm9yZWdyb3VuZDojZmFmYWZhOy0tY2stY29sb3ItYmFzZS1iYWNrZ3JvdW5kOiNmZmY7LS1jay1jb2xvci1iYXNlLWJvcmRlcjojYzRjNGM0Oy0tY2stY29sb3ItYmFzZS1hY3Rpb246IzYxYjA0NTstLWNrLWNvbG9yLWJhc2UtZm9jdXM6IzZjYjVmOTstLWNrLWNvbG9yLWJhc2UtdGV4dDojMzMzOy0tY2stY29sb3ItYmFzZS1hY3RpdmU6IzE5OGNmMDstLWNrLWNvbG9yLWJhc2UtYWN0aXZlLWZvY3VzOiMwZTdmZTE7LS1jay1jb2xvci1iYXNlLWVycm9yOiNkYjM3MDA7LS1jay1jb2xvci1mb2N1cy1ib3JkZXI6IzQ3YTRmNTstLWNrLWNvbG9yLWZvY3VzLXNoYWRvdzpyZ2JhKDExOSwxODYsMjQ4LDAuNSk7LS1jay1jb2xvci1mb2N1cy1kaXNhYmxlZC1zaGFkb3c6cmdiYSgxMTksMTg2LDI0OCwwLjMpOy0tY2stY29sb3ItZm9jdXMtZXJyb3Itc2hhZG93OnJnYmEoMjU1LDY0LDMxLDAuMyk7LS1jay1jb2xvci10ZXh0OnZhcigtLWNrLWNvbG9yLWJhc2UtdGV4dCk7LS1jay1jb2xvci1zaGFkb3ctZHJvcDpyZ2JhKDAsMCwwLDAuMTUpOy0tY2stY29sb3Itc2hhZG93LWlubmVyOnJnYmEoMCwwLDAsMC4xKTstLWNrLWNvbG9yLWJ1dHRvbi1kZWZhdWx0LWJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7LS1jay1jb2xvci1idXR0b24tZGVmYXVsdC1ob3Zlci1iYWNrZ3JvdW5kOiNlNmU2ZTY7LS1jay1jb2xvci1idXR0b24tZGVmYXVsdC1hY3RpdmUtYmFja2dyb3VuZDojZDlkOWQ5Oy0tY2stY29sb3ItYnV0dG9uLWRlZmF1bHQtYWN0aXZlLXNoYWRvdzojYmZiZmJmOy0tY2stY29sb3ItYnV0dG9uLWRlZmF1bHQtZGlzYWJsZWQtYmFja2dyb3VuZDp0cmFuc3BhcmVudDstLWNrLWNvbG9yLWJ1dHRvbi1vbi1iYWNrZ3JvdW5kOiNkZWRlZGU7LS1jay1jb2xvci1idXR0b24tb24taG92ZXItYmFja2dyb3VuZDojYzRjNGM0Oy0tY2stY29sb3ItYnV0dG9uLW9uLWFjdGl2ZS1iYWNrZ3JvdW5kOiNiYWJhYmE7LS1jay1jb2xvci1idXR0b24tb24tYWN0aXZlLXNoYWRvdzojYTFhMWExOy0tY2stY29sb3ItYnV0dG9uLW9uLWRpc2FibGVkLWJhY2tncm91bmQ6I2RlZGVkZTstLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24tYmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1iYXNlLWFjdGlvbik7LS1jay1jb2xvci1idXR0b24tYWN0aW9uLWhvdmVyLWJhY2tncm91bmQ6IzU3OWUzZDstLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24tYWN0aXZlLWJhY2tncm91bmQ6IzUzOTczYjstLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24tYWN0aXZlLXNoYWRvdzojNDk4NDMzOy0tY2stY29sb3ItYnV0dG9uLWFjdGlvbi1kaXNhYmxlZC1iYWNrZ3JvdW5kOiM3ZWMzNjU7LS1jay1jb2xvci1idXR0b24tYWN0aW9uLXRleHQ6dmFyKC0tY2stY29sb3ItYmFzZS1iYWNrZ3JvdW5kKTstLWNrLWNvbG9yLWJ1dHRvbi1zYXZlOiMwMDhhMDA7LS1jay1jb2xvci1idXR0b24tY2FuY2VsOiNkYjM3MDA7LS1jay1jb2xvci1zd2l0Y2gtYnV0dG9uLW9mZi1iYWNrZ3JvdW5kOiNiMGIwYjA7LS1jay1jb2xvci1zd2l0Y2gtYnV0dG9uLW9uLWJhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLWFjdGlvbi1iYWNrZ3JvdW5kKTstLWNrLWNvbG9yLXN3aXRjaC1idXR0b24taW5uZXItYmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1iYXNlLWJhY2tncm91bmQpOy0tY2stY29sb3ItZHJvcGRvd24tcGFuZWwtYmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1iYXNlLWJhY2tncm91bmQpOy0tY2stY29sb3ItZHJvcGRvd24tcGFuZWwtYm9yZGVyOnZhcigtLWNrLWNvbG9yLWJhc2UtYm9yZGVyKTstLWNrLWNvbG9yLWlucHV0LWJhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYmFzZS1iYWNrZ3JvdW5kKTstLWNrLWNvbG9yLWlucHV0LWJvcmRlcjojYzdjN2M3Oy0tY2stY29sb3ItaW5wdXQtZXJyb3ItYm9yZGVyOnZhcigtLWNrLWNvbG9yLWJhc2UtZXJyb3IpOy0tY2stY29sb3ItaW5wdXQtdGV4dDp2YXIoLS1jay1jb2xvci1iYXNlLXRleHQpOy0tY2stY29sb3ItaW5wdXQtZGlzYWJsZWQtYmFja2dyb3VuZDojZjJmMmYyOy0tY2stY29sb3ItaW5wdXQtZGlzYWJsZWQtYm9yZGVyOiNjN2M3Yzc7LS1jay1jb2xvci1pbnB1dC1kaXNhYmxlZC10ZXh0OiM1YzVjNWM7LS1jay1jb2xvci1saXN0LWJhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYmFzZS1iYWNrZ3JvdW5kKTstLWNrLWNvbG9yLWxpc3QtYnV0dG9uLWhvdmVyLWJhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYmFzZS1mb3JlZ3JvdW5kKTstLWNrLWNvbG9yLWxpc3QtYnV0dG9uLW9uLWJhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYmFzZS1hY3RpdmUpOy0tY2stY29sb3ItbGlzdC1idXR0b24tb24tYmFja2dyb3VuZC1mb2N1czp2YXIoLS1jay1jb2xvci1iYXNlLWFjdGl2ZS1mb2N1cyk7LS1jay1jb2xvci1saXN0LWJ1dHRvbi1vbi10ZXh0OnZhcigtLWNrLWNvbG9yLWJhc2UtYmFja2dyb3VuZCk7LS1jay1jb2xvci1wYW5lbC1iYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJhc2UtYmFja2dyb3VuZCk7LS1jay1jb2xvci1wYW5lbC1ib3JkZXI6dmFyKC0tY2stY29sb3ItYmFzZS1ib3JkZXIpOy0tY2stY29sb3ItdG9vbGJhci1iYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJhc2UtZm9yZWdyb3VuZCk7LS1jay1jb2xvci10b29sYmFyLWJvcmRlcjp2YXIoLS1jay1jb2xvci1iYXNlLWJvcmRlcik7LS1jay1jb2xvci10b29sdGlwLWJhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYmFzZS10ZXh0KTstLWNrLWNvbG9yLXRvb2x0aXAtdGV4dDp2YXIoLS1jay1jb2xvci1iYXNlLWJhY2tncm91bmQpOy0tY2stY29sb3ItZW5naW5lLXBsYWNlaG9sZGVyLXRleHQ6I2MyYzJjMjstLWNrLWNvbG9yLXVwbG9hZC1iYXItYmFja2dyb3VuZDojNmNiNWY5Oy0tY2stY29sb3ItdXBsb2FkLWluZmluaXRlLWJhY2tncm91bmQ6cmdiYSgwLDAsMCwwLjEpOy0tY2stY29sb3ItbGluay1kZWZhdWx0OiMwMDAwZjA7LS1jay1jb2xvci1saW5rLXNlbGVjdGVkLWJhY2tncm91bmQ6I2ViZjhmZjstLWNrLWRpc2FibGVkLW9wYWNpdHk6LjU7LS1jay1mb2N1cy1vdXRlci1zaGFkb3ctZ2VvbWV0cnk6MCAwIDAgM3B4Oy0tY2stZm9jdXMtb3V0ZXItc2hhZG93OnZhcigtLWNrLWZvY3VzLW91dGVyLXNoYWRvdy1nZW9tZXRyeSkgdmFyKC0tY2stY29sb3ItZm9jdXMtc2hhZG93KTstLWNrLWZvY3VzLWRpc2FibGVkLW91dGVyLXNoYWRvdzp2YXIoLS1jay1mb2N1cy1vdXRlci1zaGFkb3ctZ2VvbWV0cnkpIHZhcigtLWNrLWNvbG9yLWZvY3VzLWRpc2FibGVkLXNoYWRvdyk7LS1jay1mb2N1cy1lcnJvci1vdXRlci1zaGFkb3c6dmFyKC0tY2stZm9jdXMtb3V0ZXItc2hhZG93LWdlb21ldHJ5KSB2YXIoLS1jay1jb2xvci1mb2N1cy1lcnJvci1zaGFkb3cpOy0tY2stZm9jdXMtcmluZzoxcHggc29saWQgdmFyKC0tY2stY29sb3ItZm9jdXMtYm9yZGVyKTstLWNrLWZvbnQtc2l6ZS1iYXNlOjEzcHg7LS1jay1saW5lLWhlaWdodC1iYXNlOjEuODQ2MTU7LS1jay1mb250LWZhY2U6SGVsdmV0aWNhLEFyaWFsLFRhaG9tYSxWZXJkYW5hLFNhbnMtU2VyaWY7LS1jay1mb250LXNpemUtdGlueTowLjdlbTstLWNrLWZvbnQtc2l6ZS1zbWFsbDowLjc1ZW07LS1jay1mb250LXNpemUtbm9ybWFsOjFlbTstLWNrLWZvbnQtc2l6ZS1iaWc6MS40ZW07LS1jay1mb250LXNpemUtbGFyZ2U6MS44ZW07LS1jay11aS1jb21wb25lbnQtbWluLWhlaWdodDoyLjNlbX0uY2suY2stcmVzZXQsLmNrLmNrLXJlc2V0X2FsbCwuY2suY2stcmVzZXRfYWxsICp7bWFyZ2luOjA7cGFkZGluZzowO2JvcmRlcjowO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7dmVydGljYWwtYWxpZ246bWlkZGxlO3RyYW5zaXRpb246bm9uZTt3b3JkLXdyYXA6YnJlYWstd29yZH0uY2suY2stcmVzZXRfYWxsLC5jay5jay1yZXNldF9hbGwgKntib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7Zm9udDpub3JtYWwgbm9ybWFsIG5vcm1hbCB2YXIoLS1jay1mb250LXNpemUtYmFzZSkvdmFyKC0tY2stbGluZS1oZWlnaHQtYmFzZSkgdmFyKC0tY2stZm9udC1mYWNlKTtjb2xvcjp2YXIoLS1jay1jb2xvci10ZXh0KTt0ZXh0LWFsaWduOmxlZnQ7d2hpdGUtc3BhY2U6bm93cmFwO2N1cnNvcjphdXRvO2Zsb2F0Om5vbmV9LmNrLmNrLXJlc2V0X2FsbCAuY2stcnRsICp7dGV4dC1hbGlnbjpyaWdodH0uY2suY2stcmVzZXRfYWxsIGlmcmFtZXt2ZXJ0aWNhbC1hbGlnbjppbmhlcml0fS5jay5jay1yZXNldF9hbGwgdGV4dGFyZWF7d2hpdGUtc3BhY2U6cHJlLXdyYXB9LmNrLmNrLXJlc2V0X2FsbCBpbnB1dFt0eXBlPXBhc3N3b3JkXSwuY2suY2stcmVzZXRfYWxsIGlucHV0W3R5cGU9dGV4dF0sLmNrLmNrLXJlc2V0X2FsbCB0ZXh0YXJlYXtjdXJzb3I6dGV4dH0uY2suY2stcmVzZXRfYWxsIGlucHV0W3R5cGU9cGFzc3dvcmRdW2Rpc2FibGVkXSwuY2suY2stcmVzZXRfYWxsIGlucHV0W3R5cGU9dGV4dF1bZGlzYWJsZWRdLC5jay5jay1yZXNldF9hbGwgdGV4dGFyZWFbZGlzYWJsZWRde2N1cnNvcjpkZWZhdWx0fS5jay5jay1yZXNldF9hbGwgZmllbGRzZXR7cGFkZGluZzoxMHB4O2JvcmRlcjoycHggZ3Jvb3ZlICNkZmRlZTN9LmNrLmNrLXJlc2V0X2FsbCBidXR0b246Oi1tb3otZm9jdXMtaW5uZXJ7cGFkZGluZzowO2JvcmRlcjowfTpyb290ey0tY2stYm9yZGVyLXJhZGl1czoycHg7LS1jay1pbm5lci1zaGFkb3c6MnB4IDJweCAzcHggdmFyKC0tY2stY29sb3Itc2hhZG93LWlubmVyKSBpbnNldDstLWNrLWRyb3Atc2hhZG93OjAgMXB4IDJweCAxcHggdmFyKC0tY2stY29sb3Itc2hhZG93LWRyb3ApOy0tY2stc3BhY2luZy11bml0OjAuNmVtOy0tY2stc3BhY2luZy1sYXJnZTpjYWxjKHZhcigtLWNrLXNwYWNpbmctdW5pdCkgKiAxLjUpOy0tY2stc3BhY2luZy1zdGFuZGFyZDp2YXIoLS1jay1zcGFjaW5nLXVuaXQpOy0tY2stc3BhY2luZy1tZWRpdW06Y2FsYyh2YXIoLS1jay1zcGFjaW5nLXVuaXQpICogMC44KTstLWNrLXNwYWNpbmctc21hbGw6Y2FsYyh2YXIoLS1jay1zcGFjaW5nLXVuaXQpICogMC41KTstLWNrLXNwYWNpbmctdGlueTpjYWxjKHZhcigtLWNrLXNwYWNpbmctdW5pdCkgKiAwLjMpOy0tY2stc3BhY2luZy1leHRyYS10aW55OmNhbGModmFyKC0tY2stc3BhY2luZy11bml0KSAqIDAuMTYpfVwifSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubG9jYXRpb247aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7aWYoIXR8fFwic3RyaW5nXCIhPXR5cGVvZiB0KXJldHVybiB0O3ZhciBuPWUucHJvdG9jb2wrXCIvL1wiK2UuaG9zdCxvPW4rZS5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sXCIvXCIpO3JldHVybiB0LnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLGZ1bmN0aW9uKHQsZSl7dmFyIGkscj1lLnRyaW0oKS5yZXBsYWNlKC9eXCIoLiopXCIkLyxmdW5jdGlvbih0LGUpe3JldHVybiBlfSkucmVwbGFjZSgvXicoLiopJyQvLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV9KTtyZXR1cm4vXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcL3xcXHMqJCkvaS50ZXN0KHIpP3Q6KGk9MD09PXIuaW5kZXhPZihcIi8vXCIpP3I6MD09PXIuaW5kZXhPZihcIi9cIik/bityOm8rci5yZXBsYWNlKC9eXFwuXFwvLyxcIlwiKSxcInVybChcIitKU09OLnN0cmluZ2lmeShpKStcIilcIil9KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1uKDQ2KTtcInN0cmluZ1wiPT10eXBlb2YgbyYmKG89W1t0LmksbyxcIlwiXV0pO3ZhciBpPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMikobyxpKTtvLmxvY2FscyYmKHQuZXhwb3J0cz1vLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLmNrLWVkaXRvcl9fZWRpdGFibGU6bm90KC5jay1lZGl0b3JfX25lc3RlZC1lZGl0YWJsZSl7Ym9yZGVyLXJhZGl1czowfS5jay1yb3VuZGVkLWNvcm5lcnMgLmNrLmNrLWVkaXRvcl9fZWRpdGFibGU6bm90KC5jay1lZGl0b3JfX25lc3RlZC1lZGl0YWJsZSksLmNrLmNrLWVkaXRvcl9fZWRpdGFibGU6bm90KC5jay1lZGl0b3JfX25lc3RlZC1lZGl0YWJsZSkuY2stcm91bmRlZC1jb3JuZXJze2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyl9LmNrLmNrLWVkaXRvcl9fZWRpdGFibGU6bm90KC5jay1lZGl0b3JfX25lc3RlZC1lZGl0YWJsZSkuY2stZm9jdXNlZHtvdXRsaW5lOm5vbmU7Ym9yZGVyOnZhcigtLWNrLWZvY3VzLXJpbmcpO2JveC1zaGFkb3c6dmFyKC0tY2staW5uZXItc2hhZG93KSwwIDB9LmNrLmNrLWVkaXRvcl9fZWRpdGFibGVfaW5saW5le292ZXJmbG93OmF1dG87cGFkZGluZzowIHZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpO2JvcmRlcjoxcHggc29saWQgdHJhbnNwYXJlbnR9LmNrLmNrLWVkaXRvcl9fZWRpdGFibGVfaW5saW5lPjpmaXJzdC1jaGlsZHttYXJnaW4tdG9wOnZhcigtLWNrLXNwYWNpbmctbGFyZ2UpfS5jay5jay1lZGl0b3JfX2VkaXRhYmxlX2lubGluZT46bGFzdC1jaGlsZHttYXJnaW4tYm90dG9tOnZhcigtLWNrLXNwYWNpbmctbGFyZ2UpfS5jay5jay1iYWxsb29uLXBhbmVsLmNrLXRvb2xiYXItY29udGFpbmVyW2NsYXNzKj1hcnJvd19uXTphZnRlcntib3JkZXItYm90dG9tLWNvbG9yOnZhcigtLWNrLWNvbG9yLWJhc2UtZm9yZWdyb3VuZCl9LmNrLmNrLWJhbGxvb24tcGFuZWwuY2stdG9vbGJhci1jb250YWluZXJbY2xhc3MqPWFycm93X3NdOmFmdGVye2JvcmRlci10b3AtY29sb3I6dmFyKC0tY2stY29sb3ItYmFzZS1mb3JlZ3JvdW5kKX1cIn0sZnVuY3Rpb24odCxlLG4pe3ZhciBvPW4oNDgpO1wic3RyaW5nXCI9PXR5cGVvZiBvJiYobz1bW3QuaSxvLFwiXCJdXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigyKShvLGkpO28ubG9jYWxzJiYodC5leHBvcnRzPW8ubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzpyb290ey0tY2stYmFsbG9vbi1wYW5lbC1hcnJvdy16LWluZGV4OmNhbGModmFyKC0tY2stei1kZWZhdWx0KSAtIDMpfS5jay5jay1iYWxsb29uLXBhbmVse2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OnZhcigtLWNrLXotbW9kYWwpfS5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfd2l0aC1hcnJvdzphZnRlciwuY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX3dpdGgtYXJyb3c6YmVmb3Jle2NvbnRlbnQ6XCJcIjtwb3NpdGlvbjphYnNvbHV0ZX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX3dpdGgtYXJyb3c6YmVmb3Jle3otaW5kZXg6dmFyKC0tY2stYmFsbG9vbi1wYW5lbC1hcnJvdy16LWluZGV4KX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX3dpdGgtYXJyb3c6YWZ0ZXJ7ei1pbmRleDpjYWxjKHZhcigtLWNrLWJhbGxvb24tcGFuZWwtYXJyb3ctei1pbmRleCkgKyAxKX0uY2suY2stYmFsbG9vbi1wYW5lbFtjbGFzcyo9YXJyb3dfbl06YmVmb3Jle3otaW5kZXg6dmFyKC0tY2stYmFsbG9vbi1wYW5lbC1hcnJvdy16LWluZGV4KX0uY2suY2stYmFsbG9vbi1wYW5lbFtjbGFzcyo9YXJyb3dfbl06YWZ0ZXJ7ei1pbmRleDpjYWxjKHZhcigtLWNrLWJhbGxvb24tcGFuZWwtYXJyb3ctei1pbmRleCkgKyAxKX0uY2suY2stYmFsbG9vbi1wYW5lbFtjbGFzcyo9YXJyb3dfc106YmVmb3Jle3otaW5kZXg6dmFyKC0tY2stYmFsbG9vbi1wYW5lbC1hcnJvdy16LWluZGV4KX0uY2suY2stYmFsbG9vbi1wYW5lbFtjbGFzcyo9YXJyb3dfc106YWZ0ZXJ7ei1pbmRleDpjYWxjKHZhcigtLWNrLWJhbGxvb24tcGFuZWwtYXJyb3ctei1pbmRleCkgKyAxKX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX3Zpc2libGV7ZGlzcGxheTpibG9ja306cm9vdHstLWNrLWJhbGxvb24tYXJyb3ctb2Zmc2V0OjJweDstLWNrLWJhbGxvb24tYXJyb3ctaGVpZ2h0OjEwcHg7LS1jay1iYWxsb29uLWFycm93LWhhbGYtd2lkdGg6OHB4fS5jay5jay1iYWxsb29uLXBhbmVse2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1iYWxsb29uLXBhbmVsLC5jay5jay1iYWxsb29uLXBhbmVsLmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpfS5jay5jay1iYWxsb29uLXBhbmVse2JveC1zaGFkb3c6dmFyKC0tY2stZHJvcC1zaGFkb3cpLDAgMDttaW4taGVpZ2h0OjE1cHg7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1wYW5lbC1iYWNrZ3JvdW5kKTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLXBhbmVsLWJvcmRlcil9LmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF93aXRoLWFycm93OmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfd2l0aC1hcnJvdzpiZWZvcmV7d2lkdGg6MDtoZWlnaHQ6MDtib3JkZXItc3R5bGU6c29saWR9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X25dOmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsW2NsYXNzKj1hcnJvd19uXTpiZWZvcmV7Ym9yZGVyLWxlZnQtd2lkdGg6dmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oYWxmLXdpZHRoKTtib3JkZXItYm90dG9tLXdpZHRoOnZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGVpZ2h0KTtib3JkZXItcmlnaHQtd2lkdGg6dmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oYWxmLXdpZHRoKTtib3JkZXItdG9wLXdpZHRoOjB9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X25dOmJlZm9yZXtib3JkZXItYm90dG9tLWNvbG9yOnZhcigtLWNrLWNvbG9yLXBhbmVsLWJvcmRlcil9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X25dOmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsW2NsYXNzKj1hcnJvd19uXTpiZWZvcmV7Ym9yZGVyLWxlZnQtY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyLXJpZ2h0LWNvbG9yOnRyYW5zcGFyZW50O2JvcmRlci10b3AtY29sb3I6dHJhbnNwYXJlbnR9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X25dOmFmdGVye2JvcmRlci1ib3R0b20tY29sb3I6dmFyKC0tY2stY29sb3ItcGFuZWwtYmFja2dyb3VuZCk7bWFyZ2luLXRvcDp2YXIoLS1jay1iYWxsb29uLWFycm93LW9mZnNldCl9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X3NdOmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsW2NsYXNzKj1hcnJvd19zXTpiZWZvcmV7Ym9yZGVyLWxlZnQtd2lkdGg6dmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oYWxmLXdpZHRoKTtib3JkZXItYm90dG9tLXdpZHRoOjA7Ym9yZGVyLXJpZ2h0LXdpZHRoOnZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGFsZi13aWR0aCk7Ym9yZGVyLXRvcC13aWR0aDp2YXIoLS1jay1iYWxsb29uLWFycm93LWhlaWdodCl9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X3NdOmJlZm9yZXtib3JkZXItdG9wLWNvbG9yOnZhcigtLWNrLWNvbG9yLXBhbmVsLWJvcmRlcil9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X3NdOmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsW2NsYXNzKj1hcnJvd19zXTpiZWZvcmV7Ym9yZGVyLWxlZnQtY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyLWJvdHRvbS1jb2xvcjp0cmFuc3BhcmVudDtib3JkZXItcmlnaHQtY29sb3I6dHJhbnNwYXJlbnR9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X3NdOmFmdGVye2JvcmRlci10b3AtY29sb3I6dmFyKC0tY2stY29sb3ItcGFuZWwtYmFja2dyb3VuZCk7bWFyZ2luLWJvdHRvbTp2YXIoLS1jay1iYWxsb29uLWFycm93LW9mZnNldCl9LmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF9hcnJvd19uOmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfYXJyb3dfbjpiZWZvcmV7bGVmdDo1MCU7bWFyZ2luLWxlZnQ6Y2FsYygtMSAqIHZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGFsZi13aWR0aCkpO3RvcDpjYWxjKC0xICogdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oZWlnaHQpKX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X253OmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfYXJyb3dfbnc6YmVmb3Jle2xlZnQ6Y2FsYygyICogdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oYWxmLXdpZHRoKSk7dG9wOmNhbGMoLTEgKiB2YXIoLS1jay1iYWxsb29uLWFycm93LWhlaWdodCkpfS5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfYXJyb3dfbmU6YWZ0ZXIsLmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF9hcnJvd19uZTpiZWZvcmV7cmlnaHQ6Y2FsYygyICogdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oYWxmLXdpZHRoKSk7dG9wOmNhbGMoLTEgKiB2YXIoLS1jay1iYWxsb29uLWFycm93LWhlaWdodCkpfS5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfYXJyb3dfczphZnRlciwuY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X3M6YmVmb3Jle2xlZnQ6NTAlO21hcmdpbi1sZWZ0OmNhbGMoLTEgKiB2YXIoLS1jay1iYWxsb29uLWFycm93LWhhbGYtd2lkdGgpKTtib3R0b206Y2FsYygtMSAqIHZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGVpZ2h0KSl9LmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF9hcnJvd19zdzphZnRlciwuY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X3N3OmJlZm9yZXtsZWZ0OmNhbGMoMiAqIHZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGFsZi13aWR0aCkpO2JvdHRvbTpjYWxjKC0xICogdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oZWlnaHQpKX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X3NlOmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfYXJyb3dfc2U6YmVmb3Jle3JpZ2h0OmNhbGMoMiAqIHZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGFsZi13aWR0aCkpO2JvdHRvbTpjYWxjKC0xICogdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oZWlnaHQpKX0nfSxmdW5jdGlvbih0LGUsbil7dmFyIG89big1MCk7XCJzdHJpbmdcIj09dHlwZW9mIG8mJihvPVtbdC5pLG8sXCJcIl1dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDIpKG8saSk7by5sb2NhbHMmJih0LmV4cG9ydHM9by5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay10b29sYmFyey1tb3otdXNlci1zZWxlY3Q6bm9uZTstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTtkaXNwbGF5OmZsZXg7ZmxleC1mbG93OnJvdyB3cmFwO2FsaWduLWl0ZW1zOmNlbnRlcn0uY2suY2stdG9vbGJhci5jay10b29sYmFyX3ZlcnRpY2Fse2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn0uY2suY2stdG9vbGJhci5jay10b29sYmFyX2Zsb2F0aW5ne2ZsZXgtd3JhcDpub3dyYXB9LmNrLmNrLXRvb2xiYXJfX3NlcGFyYXRvcntkaXNwbGF5OmlubGluZS1ibG9ja30uY2suY2stdG9vbGJhcl9fbmV3bGluZXtkaXNwbGF5OmJsb2NrO3dpZHRoOjEwMCV9LmNrLmNrLXRvb2xiYXJ7Ym9yZGVyLXJhZGl1czowfS5jay1yb3VuZGVkLWNvcm5lcnMgLmNrLmNrLXRvb2xiYXIsLmNrLmNrLXRvb2xiYXIuY2stcm91bmRlZC1jb3JuZXJze2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyl9LmNrLmNrLXRvb2xiYXJ7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci10b29sYmFyLWJhY2tncm91bmQpO3BhZGRpbmc6MCB2YXIoLS1jay1zcGFjaW5nLXNtYWxsKTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLXRvb2xiYXItYm9yZGVyKX0uY2suY2stdG9vbGJhcj4qe21hcmdpbi1yaWdodDp2YXIoLS1jay1zcGFjaW5nLXNtYWxsKTttYXJnaW4tdG9wOnZhcigtLWNrLXNwYWNpbmctc21hbGwpO21hcmdpbi1ib3R0b206dmFyKC0tY2stc3BhY2luZy1zbWFsbCl9LmNrLmNrLXRvb2xiYXIuY2stdG9vbGJhcl92ZXJ0aWNhbHtwYWRkaW5nOjB9LmNrLmNrLXRvb2xiYXIuY2stdG9vbGJhcl92ZXJ0aWNhbD4qe3dpZHRoOjEwMCU7bWFyZ2luOjA7Ym9yZGVyLXJhZGl1czowO2JvcmRlcjowfS5jay5jay10b29sYmFyPjpsYXN0LWNoaWxke21hcmdpbi1yaWdodDowfS5jay10b29sYmFyLWNvbnRhaW5lciAuY2suY2stdG9vbGJhcntib3JkZXI6MH0uY2suY2stdG9vbGJhcl9fc2VwYXJhdG9ye2FsaWduLXNlbGY6c3RyZXRjaDt3aWR0aDoxcHg7bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MDtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLXRvb2xiYXItYm9yZGVyKX0uY2suY2stdG9vbGJhcl9fbmV3bGluZXttYXJnaW46MH1cIn0sZnVuY3Rpb24odCxlLG4pe3ZhciBvPW4oNTIpO1wic3RyaW5nXCI9PXR5cGVvZiBvJiYobz1bW3QuaSxvLFwiXCJdXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigyKShvLGkpO28ubG9jYWxzJiYodC5leHBvcnRzPW8ubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2suY2staWNvbnt2ZXJ0aWNhbC1hbGlnbjptaWRkbGV9OnJvb3R7LS1jay1pY29uLXNpemU6Y2FsYyh2YXIoLS1jay1saW5lLWhlaWdodC1iYXNlKSAqIHZhcigtLWNrLWZvbnQtc2l6ZS1ub3JtYWwpKX0uY2suY2staWNvbnt3aWR0aDp2YXIoLS1jay1pY29uLXNpemUpO2hlaWdodDp2YXIoLS1jay1pY29uLXNpemUpO2ZvbnQtc2l6ZTouODMzMzM1MDY5NGVtO3dpbGwtY2hhbmdlOnRyYW5zZm9ybX0uY2suY2staWNvbiwuY2suY2staWNvbiAqe2NvbG9yOmluaGVyaXQ7Y3Vyc29yOmluaGVyaXR9LmNrLmNrLWljb24gKntmaWxsOmN1cnJlbnRDb2xvcn1cIn0sZnVuY3Rpb24odCxlLG4pe3ZhciBvPW4oNTQpO1wic3RyaW5nXCI9PXR5cGVvZiBvJiYobz1bW3QuaSxvLFwiXCJdXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigyKShvLGkpO28ubG9jYWxzJiYodC5leHBvcnRzPW8ubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jy5jay5jay10b29sdGlwLC5jay5jay10b29sdGlwIC5jay10b29sdGlwX190ZXh0OmFmdGVye3Bvc2l0aW9uOmFic29sdXRlO3BvaW50ZXItZXZlbnRzOm5vbmU7LXdlYmtpdC1iYWNrZmFjZS12aXNpYmlsaXR5OmhpZGRlbn0uY2stdG9vbHRpcHt2aXNpYmlsaXR5OmhpZGRlbjtvcGFjaXR5OjA7ZGlzcGxheTpub25lO3otaW5kZXg6dmFyKC0tY2stei1tb2RhbCl9LmNrLXRvb2x0aXAgLmNrLXRvb2x0aXBfX3RleHR7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmNrLXRvb2x0aXAgLmNrLXRvb2x0aXBfX3RleHQ6YWZ0ZXJ7Y29udGVudDpcIlwiO3dpZHRoOjA7aGVpZ2h0OjB9OnJvb3R7LS1jay10b29sdGlwLWFycm93LXNpemU6NXB4fS5jay5jay10b29sdGlwe2xlZnQ6NTAlfS5jay5jay10b29sdGlwLmNrLXRvb2x0aXBfc3tib3R0b206Y2FsYygtMSAqIHZhcigtLWNrLXRvb2x0aXAtYXJyb3ctc2l6ZSkpO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDEwMCUpfS5jay5jay10b29sdGlwLmNrLXRvb2x0aXBfcyAuY2stdG9vbHRpcF9fdGV4dDphZnRlcnt0b3A6Y2FsYygtMSAqIHZhcigtLWNrLXRvb2x0aXAtYXJyb3ctc2l6ZSkpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpO2JvcmRlci1sZWZ0LWNvbG9yOnRyYW5zcGFyZW50O2JvcmRlci1ib3R0b20tY29sb3I6dmFyKC0tY2stY29sb3ItdG9vbHRpcC1iYWNrZ3JvdW5kKTtib3JkZXItcmlnaHQtY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyLXRvcC1jb2xvcjp0cmFuc3BhcmVudDtib3JkZXItbGVmdC13aWR0aDp2YXIoLS1jay10b29sdGlwLWFycm93LXNpemUpO2JvcmRlci1ib3R0b20td2lkdGg6dmFyKC0tY2stdG9vbHRpcC1hcnJvdy1zaXplKTtib3JkZXItcmlnaHQtd2lkdGg6dmFyKC0tY2stdG9vbHRpcC1hcnJvdy1zaXplKTtib3JkZXItdG9wLXdpZHRoOjB9LmNrLmNrLXRvb2x0aXAuY2stdG9vbHRpcF9ue3RvcDpjYWxjKC0xICogdmFyKC0tY2stdG9vbHRpcC1hcnJvdy1zaXplKSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwMCUpfS5jay5jay10b29sdGlwLmNrLXRvb2x0aXBfbiAuY2stdG9vbHRpcF9fdGV4dDphZnRlcntib3R0b206Y2FsYygtMSAqIHZhcigtLWNrLXRvb2x0aXAtYXJyb3ctc2l6ZSkpO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC01MCUpO2JvcmRlci1sZWZ0LWNvbG9yOnRyYW5zcGFyZW50O2JvcmRlci1ib3R0b20tY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyLXJpZ2h0LWNvbG9yOnRyYW5zcGFyZW50O2JvcmRlci10b3AtY29sb3I6dmFyKC0tY2stY29sb3ItdG9vbHRpcC1iYWNrZ3JvdW5kKTtib3JkZXItbGVmdC13aWR0aDp2YXIoLS1jay10b29sdGlwLWFycm93LXNpemUpO2JvcmRlci1ib3R0b20td2lkdGg6MDtib3JkZXItcmlnaHQtd2lkdGg6dmFyKC0tY2stdG9vbHRpcC1hcnJvdy1zaXplKTtib3JkZXItdG9wLXdpZHRoOnZhcigtLWNrLXRvb2x0aXAtYXJyb3ctc2l6ZSl9LmNrLmNrLXRvb2x0aXAgLmNrLXRvb2x0aXBfX3RleHR7Ym9yZGVyLXJhZGl1czowfS5jay1yb3VuZGVkLWNvcm5lcnMgLmNrLmNrLXRvb2x0aXAgLmNrLXRvb2x0aXBfX3RleHQsLmNrLmNrLXRvb2x0aXAgLmNrLXRvb2x0aXBfX3RleHQuY2stcm91bmRlZC1jb3JuZXJze2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyl9LmNrLmNrLXRvb2x0aXAgLmNrLXRvb2x0aXBfX3RleHR7Zm9udC1zaXplOi45ZW07bGluZS1oZWlnaHQ6MS41O2NvbG9yOnZhcigtLWNrLWNvbG9yLXRvb2x0aXAtdGV4dCk7cGFkZGluZzp2YXIoLS1jay1zcGFjaW5nLXNtYWxsKSB2YXIoLS1jay1zcGFjaW5nLW1lZGl1bSk7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci10b29sdGlwLWJhY2tncm91bmQpO3Bvc2l0aW9uOnJlbGF0aXZlO2xlZnQ6LTUwJX0uY2suY2stdG9vbHRpcCAuY2stdG9vbHRpcF9fdGV4dDphZnRlcntib3JkZXItc3R5bGU6c29saWQ7bGVmdDo1MCV9LmNrLmNrLXRvb2x0aXAsLmNrLmNrLXRvb2x0aXAgLmNrLXRvb2x0aXBfX3RleHQ6YWZ0ZXJ7dHJhbnNpdGlvbjpvcGFjaXR5IC4ycyBlYXNlLWluLW91dCAuMnN9J30sZnVuY3Rpb24odCxlLG4pe3ZhciBvPW4oNTYpO1wic3RyaW5nXCI9PXR5cGVvZiBvJiYobz1bW3QuaSxvLFwiXCJdXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigyKShvLGkpO28ubG9jYWxzJiYodC5leHBvcnRzPW8ubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2suY2stYnV0dG9uLGEuY2suY2stYnV0dG9uey1tb3otdXNlci1zZWxlY3Q6bm9uZTstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZX0uY2suY2stYnV0dG9uIC5jay10b29sdGlwLGEuY2suY2stYnV0dG9uIC5jay10b29sdGlwe2Rpc3BsYXk6YmxvY2t9QG1lZGlhIChob3Zlcjpub25lKXsuY2suY2stYnV0dG9uIC5jay10b29sdGlwLGEuY2suY2stYnV0dG9uIC5jay10b29sdGlwe2Rpc3BsYXk6bm9uZX19LmNrLmNrLWJ1dHRvbixhLmNrLmNrLWJ1dHRvbntwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmlubGluZS1mbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6bGVmdH0uY2suY2stYnV0dG9uLmNrLWJ1dHRvbl93aXRoLXRleHQgLmNrLWJ1dHRvbl9fbGFiZWwsYS5jay5jay1idXR0b24uY2stYnV0dG9uX3dpdGgtdGV4dCAuY2stYnV0dG9uX19sYWJlbHtkaXNwbGF5OmlubGluZS1ibG9ja30uY2suY2stYnV0dG9uOm5vdCguY2stYnV0dG9uX3dpdGgtdGV4dCksYS5jay5jay1idXR0b246bm90KC5jay1idXR0b25fd2l0aC10ZXh0KXtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyfS5jay5jay1idXR0b246aG92ZXIgLmNrLXRvb2x0aXAsYS5jay5jay1idXR0b246aG92ZXIgLmNrLXRvb2x0aXB7dmlzaWJpbGl0eTp2aXNpYmxlO29wYWNpdHk6MX0uY2suY2stYnV0dG9uIC5jay1idXR0b25fX2xhYmVsLC5jay5jay1idXR0b246Zm9jdXM6bm90KDpob3ZlcikgLmNrLXRvb2x0aXAsYS5jay5jay1idXR0b24gLmNrLWJ1dHRvbl9fbGFiZWwsYS5jay5jay1idXR0b246Zm9jdXM6bm90KDpob3ZlcikgLmNrLXRvb2x0aXB7ZGlzcGxheTpub25lfS5jay5jay1idXR0b24sYS5jay5jay1idXR0b257YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1idXR0b24tZGVmYXVsdC1iYWNrZ3JvdW5kKX0uY2suY2stYnV0dG9uOm5vdCguY2stZGlzYWJsZWQpOmhvdmVyLGEuY2suY2stYnV0dG9uOm5vdCguY2stZGlzYWJsZWQpOmhvdmVye2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLWRlZmF1bHQtaG92ZXItYmFja2dyb3VuZCl9LmNrLmNrLWJ1dHRvbjpub3QoLmNrLWRpc2FibGVkKTphY3RpdmUsYS5jay5jay1idXR0b246bm90KC5jay1kaXNhYmxlZCk6YWN0aXZle2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLWRlZmF1bHQtYWN0aXZlLWJhY2tncm91bmQpO2JveC1zaGFkb3c6aW5zZXQgMCAycHggMnB4IHZhcigtLWNrLWNvbG9yLWJ1dHRvbi1kZWZhdWx0LWFjdGl2ZS1zaGFkb3cpfS5jay5jay1idXR0b24uY2stZGlzYWJsZWQsYS5jay5jay1idXR0b24uY2stZGlzYWJsZWR7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1idXR0b24tZGVmYXVsdC1kaXNhYmxlZC1iYWNrZ3JvdW5kKX0uY2suY2stYnV0dG9uLGEuY2suY2stYnV0dG9ue2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1idXR0b24sLmNrLXJvdW5kZWQtY29ybmVycyBhLmNrLmNrLWJ1dHRvbiwuY2suY2stYnV0dG9uLmNrLXJvdW5kZWQtY29ybmVycyxhLmNrLmNrLWJ1dHRvbi5jay1yb3VuZGVkLWNvcm5lcnN7Ym9yZGVyLXJhZGl1czp2YXIoLS1jay1ib3JkZXItcmFkaXVzKX0uY2suY2stYnV0dG9uLGEuY2suY2stYnV0dG9ue3doaXRlLXNwYWNlOm5vd3JhcDtjdXJzb3I6ZGVmYXVsdDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7cGFkZGluZzp2YXIoLS1jay1zcGFjaW5nLXRpbnkpO3RleHQtYWxpZ246Y2VudGVyO21pbi13aWR0aDp2YXIoLS1jay11aS1jb21wb25lbnQtbWluLWhlaWdodCk7bWluLWhlaWdodDp2YXIoLS1jay11aS1jb21wb25lbnQtbWluLWhlaWdodCk7bGluZS1oZWlnaHQ6MTtmb250LXNpemU6aW5oZXJpdDtib3JkZXI6MXB4IHNvbGlkIHRyYW5zcGFyZW50O3RyYW5zaXRpb246Ym94LXNoYWRvdyAuMnMgZWFzZS1pbi1vdXQ7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmV9LmNrLmNrLWJ1dHRvbjphY3RpdmUsLmNrLmNrLWJ1dHRvbjpmb2N1cyxhLmNrLmNrLWJ1dHRvbjphY3RpdmUsYS5jay5jay1idXR0b246Zm9jdXN7b3V0bGluZTpub25lO2JvcmRlcjp2YXIoLS1jay1mb2N1cy1yaW5nKTtib3gtc2hhZG93OnZhcigtLWNrLWZvY3VzLW91dGVyLXNoYWRvdyksMCAwO2JvcmRlci1jb2xvcjp0cmFuc3BhcmVudH0uY2suY2stYnV0dG9uLmNrLWRpc2FibGVkOmFjdGl2ZSwuY2suY2stYnV0dG9uLmNrLWRpc2FibGVkOmZvY3VzLGEuY2suY2stYnV0dG9uLmNrLWRpc2FibGVkOmFjdGl2ZSxhLmNrLmNrLWJ1dHRvbi5jay1kaXNhYmxlZDpmb2N1c3tib3gtc2hhZG93OnZhcigtLWNrLWZvY3VzLWRpc2FibGVkLW91dGVyLXNoYWRvdyksMCAwfS5jay5jay1idXR0b24uY2stZGlzYWJsZWQgLmNrLWJ1dHRvbl9faWNvbixhLmNrLmNrLWJ1dHRvbi5jay1kaXNhYmxlZCAuY2stYnV0dG9uX19pY29ue29wYWNpdHk6dmFyKC0tY2stZGlzYWJsZWQtb3BhY2l0eSl9LmNrLmNrLWJ1dHRvbi5jay1kaXNhYmxlZCAuY2stYnV0dG9uX19sYWJlbCxhLmNrLmNrLWJ1dHRvbi5jay1kaXNhYmxlZCAuY2stYnV0dG9uX19sYWJlbHtvcGFjaXR5OnZhcigtLWNrLWRpc2FibGVkLW9wYWNpdHkpfS5jay5jay1idXR0b24uY2stYnV0dG9uX3dpdGgtdGV4dCxhLmNrLmNrLWJ1dHRvbi5jay1idXR0b25fd2l0aC10ZXh0e3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy10aW55KSB2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKX0uY2suY2stYnV0dG9uLmNrLWJ1dHRvbl93aXRoLXRleHQgLmNrLWJ1dHRvbl9faWNvbixhLmNrLmNrLWJ1dHRvbi5jay1idXR0b25fd2l0aC10ZXh0IC5jay1idXR0b25fX2ljb257bWFyZ2luLWxlZnQ6Y2FsYygtMSAqIHZhcigtLWNrLXNwYWNpbmctc21hbGwpKTttYXJnaW4tcmlnaHQ6dmFyKC0tY2stc3BhY2luZy1zbWFsbCl9LmNrLmNrLWJ1dHRvbi5jay1vbixhLmNrLmNrLWJ1dHRvbi5jay1vbntiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1vbi1iYWNrZ3JvdW5kKX0uY2suY2stYnV0dG9uLmNrLW9uOm5vdCguY2stZGlzYWJsZWQpOmhvdmVyLGEuY2suY2stYnV0dG9uLmNrLW9uOm5vdCguY2stZGlzYWJsZWQpOmhvdmVye2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLW9uLWhvdmVyLWJhY2tncm91bmQpfS5jay5jay1idXR0b24uY2stb246bm90KC5jay1kaXNhYmxlZCk6YWN0aXZlLGEuY2suY2stYnV0dG9uLmNrLW9uOm5vdCguY2stZGlzYWJsZWQpOmFjdGl2ZXtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1vbi1hY3RpdmUtYmFja2dyb3VuZCk7Ym94LXNoYWRvdzppbnNldCAwIDJweCAycHggdmFyKC0tY2stY29sb3ItYnV0dG9uLW9uLWFjdGl2ZS1zaGFkb3cpfS5jay5jay1idXR0b24uY2stb24uY2stZGlzYWJsZWQsYS5jay5jay1idXR0b24uY2stb24uY2stZGlzYWJsZWR7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1idXR0b24tb24tZGlzYWJsZWQtYmFja2dyb3VuZCl9LmNrLmNrLWJ1dHRvbi5jay1idXR0b24tc2F2ZSxhLmNrLmNrLWJ1dHRvbi5jay1idXR0b24tc2F2ZXtjb2xvcjp2YXIoLS1jay1jb2xvci1idXR0b24tc2F2ZSl9LmNrLmNrLWJ1dHRvbi5jay1idXR0b24tY2FuY2VsLGEuY2suY2stYnV0dG9uLmNrLWJ1dHRvbi1jYW5jZWx7Y29sb3I6dmFyKC0tY2stY29sb3ItYnV0dG9uLWNhbmNlbCl9LmNrLmNrLWJ1dHRvbiAuY2stYnV0dG9uX19pY29uIHVzZSwuY2suY2stYnV0dG9uIC5jay1idXR0b25fX2ljb24gdXNlICosYS5jay5jay1idXR0b24gLmNrLWJ1dHRvbl9faWNvbiB1c2UsYS5jay5jay1idXR0b24gLmNrLWJ1dHRvbl9faWNvbiB1c2UgKntjb2xvcjppbmhlcml0fS5jay5jay1idXR0b24gLmNrLWJ1dHRvbl9fbGFiZWwsYS5jay5jay1idXR0b24gLmNrLWJ1dHRvbl9fbGFiZWx7Zm9udC1zaXplOmluaGVyaXQ7Zm9udC13ZWlnaHQ6aW5oZXJpdDtjb2xvcjppbmhlcml0O2N1cnNvcjppbmhlcml0O3ZlcnRpY2FsLWFsaWduOm1pZGRsZX0uY2suY2stYnV0dG9uLWFjdGlvbixhLmNrLmNrLWJ1dHRvbi1hY3Rpb257YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1idXR0b24tYWN0aW9uLWJhY2tncm91bmQpfS5jay5jay1idXR0b24tYWN0aW9uOm5vdCguY2stZGlzYWJsZWQpOmhvdmVyLGEuY2suY2stYnV0dG9uLWFjdGlvbjpub3QoLmNrLWRpc2FibGVkKTpob3ZlcntiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24taG92ZXItYmFja2dyb3VuZCl9LmNrLmNrLWJ1dHRvbi1hY3Rpb246bm90KC5jay1kaXNhYmxlZCk6YWN0aXZlLGEuY2suY2stYnV0dG9uLWFjdGlvbjpub3QoLmNrLWRpc2FibGVkKTphY3RpdmV7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1idXR0b24tYWN0aW9uLWFjdGl2ZS1iYWNrZ3JvdW5kKTtib3gtc2hhZG93Omluc2V0IDAgMnB4IDJweCB2YXIoLS1jay1jb2xvci1idXR0b24tYWN0aW9uLWFjdGl2ZS1zaGFkb3cpfS5jay5jay1idXR0b24tYWN0aW9uLmNrLWRpc2FibGVkLGEuY2suY2stYnV0dG9uLWFjdGlvbi5jay1kaXNhYmxlZHtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24tZGlzYWJsZWQtYmFja2dyb3VuZCl9LmNrLmNrLWJ1dHRvbi1hY3Rpb24sYS5jay5jay1idXR0b24tYWN0aW9ue2NvbG9yOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24tdGV4dCl9LmNrLmNrLWJ1dHRvbi1ib2xkLGEuY2suY2stYnV0dG9uLWJvbGR7Zm9udC13ZWlnaHQ6NzAwfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIG89big1OCk7XCJzdHJpbmdcIj09dHlwZW9mIG8mJihvPVtbdC5pLG8sXCJcIl1dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDIpKG8saSk7by5sb2NhbHMmJih0LmV4cG9ydHM9by5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay1jb250ZW50IGJsb2NrcXVvdGV7b3ZlcmZsb3c6aGlkZGVuO3BhZGRpbmctcmlnaHQ6MS41ZW07cGFkZGluZy1sZWZ0OjEuNWVtO21hcmdpbi1sZWZ0OjA7Zm9udC1zdHlsZTppdGFsaWM7Ym9yZGVyLWxlZnQ6NXB4IHNvbGlkICNjY2N9XCJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1uKDYwKTtcInN0cmluZ1wiPT10eXBlb2YgbyYmKG89W1t0LmksbyxcIlwiXV0pO3ZhciBpPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMikobyxpKTtvLmxvY2FscyYmKHQuZXhwb3J0cz1vLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrIC5jay13aWRnZXQuY2std2lkZ2V0X3NlbGVjdGFibGV7cG9zaXRpb246cmVsYXRpdmV9LmNrIC5jay13aWRnZXQuY2std2lkZ2V0X3NlbGVjdGFibGUgLmNrLXdpZGdldF9fc2VsZWN0aW9uLWhhbmRsZXJ7dmlzaWJpbGl0eTpoaWRkZW47cG9zaXRpb246YWJzb2x1dGV9LmNrIC5jay13aWRnZXQuY2std2lkZ2V0X3NlbGVjdGFibGUgLmNrLXdpZGdldF9fc2VsZWN0aW9uLWhhbmRsZXIgLmNrLWljb257ZGlzcGxheTpibG9ja30uY2sgLmNrLXdpZGdldC5jay13aWRnZXRfc2VsZWN0YWJsZS5jay13aWRnZXRfc2VsZWN0ZWQgLmNrLXdpZGdldF9fc2VsZWN0aW9uLWhhbmRsZXIsLmNrIC5jay13aWRnZXQuY2std2lkZ2V0X3NlbGVjdGFibGU6aG92ZXIgLmNrLXdpZGdldF9fc2VsZWN0aW9uLWhhbmRsZXJ7dmlzaWJpbGl0eTp2aXNpYmxlfTpyb290ey0tY2std2lkZ2V0LW91dGxpbmUtdGhpY2tuZXNzOjNweDstLWNrLXdpZGdldC1oYW5kbGVyLWljb24tc2l6ZToxNnB4Oy0tY2std2lkZ2V0LWhhbmRsZXItYW5pbWF0aW9uLWR1cmF0aW9uOjIwMG1zOy0tY2std2lkZ2V0LWhhbmRsZXItYW5pbWF0aW9uLWN1cnZlOmVhc2U7LS1jay1jb2xvci13aWRnZXQtYmx1cnJlZC1ib3JkZXI6I2RlZGVkZTstLWNrLWNvbG9yLXdpZGdldC1ob3Zlci1ib3JkZXI6I2ZmYzgzZDstLWNrLWNvbG9yLXdpZGdldC1lZGl0YWJsZS1mb2N1cy1iYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJhc2UtYmFja2dyb3VuZCk7LS1jay1jb2xvci13aWRnZXQtZHJhZy1oYW5kbGVyLWljb24tY29sb3I6dmFyKC0tY2stY29sb3ItYmFzZS1iYWNrZ3JvdW5kKX0uY2sgLmNrLXdpZGdldHttYXJnaW46dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCkgMDtwYWRkaW5nOjA7b3V0bGluZS13aWR0aDp2YXIoLS1jay13aWRnZXQtb3V0bGluZS10aGlja25lc3MpO291dGxpbmUtc3R5bGU6c29saWQ7b3V0bGluZS1jb2xvcjp0cmFuc3BhcmVudDt0cmFuc2l0aW9uOm91dGxpbmUtY29sb3IgdmFyKC0tY2std2lkZ2V0LWhhbmRsZXItYW5pbWF0aW9uLWR1cmF0aW9uKSB2YXIoLS1jay13aWRnZXQtaGFuZGxlci1hbmltYXRpb24tY3VydmUpfS5jayAuY2std2lkZ2V0LmNrLXdpZGdldF9zZWxlY3RlZCwuY2sgLmNrLXdpZGdldC5jay13aWRnZXRfc2VsZWN0ZWQ6aG92ZXJ7b3V0bGluZTp2YXIoLS1jay13aWRnZXQtb3V0bGluZS10aGlja25lc3MpIHNvbGlkIHZhcigtLWNrLWNvbG9yLWZvY3VzLWJvcmRlcil9LmNrIC5jay13aWRnZXQ6aG92ZXJ7b3V0bGluZS1jb2xvcjp2YXIoLS1jay1jb2xvci13aWRnZXQtaG92ZXItYm9yZGVyKX0uY2sgLmNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxle2JvcmRlcjoxcHggc29saWQgdHJhbnNwYXJlbnR9LmNrIC5jay1lZGl0b3JfX25lc3RlZC1lZGl0YWJsZS5jay1lZGl0b3JfX25lc3RlZC1lZGl0YWJsZV9mb2N1c2VkLC5jayAuY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGU6Zm9jdXN7b3V0bGluZTpub25lO2JvcmRlcjp2YXIoLS1jay1mb2N1cy1yaW5nKTtib3gtc2hhZG93OnZhcigtLWNrLWlubmVyLXNoYWRvdyksMCAwO2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2stY29sb3Itd2lkZ2V0LWVkaXRhYmxlLWZvY3VzLWJhY2tncm91bmQpfS5jayAuY2std2lkZ2V0LmNrLXdpZGdldF9zZWxlY3RhYmxlIC5jay13aWRnZXRfX3NlbGVjdGlvbi1oYW5kbGVye3BhZGRpbmc6NHB4O2JveC1zaXppbmc6Ym9yZGVyLWJveDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O29wYWNpdHk6MDt0cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgdmFyKC0tY2std2lkZ2V0LWhhbmRsZXItYW5pbWF0aW9uLWR1cmF0aW9uKSB2YXIoLS1jay13aWRnZXQtaGFuZGxlci1hbmltYXRpb24tY3VydmUpLHZpc2liaWxpdHkgdmFyKC0tY2std2lkZ2V0LWhhbmRsZXItYW5pbWF0aW9uLWR1cmF0aW9uKSB2YXIoLS1jay13aWRnZXQtaGFuZGxlci1hbmltYXRpb24tY3VydmUpLG9wYWNpdHkgdmFyKC0tY2std2lkZ2V0LWhhbmRsZXItYW5pbWF0aW9uLWR1cmF0aW9uKSB2YXIoLS1jay13aWRnZXQtaGFuZGxlci1hbmltYXRpb24tY3VydmUpO2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cykgdmFyKC0tY2stYm9yZGVyLXJhZGl1cykgMCAwO3RyYW5zZm9ybTp0cmFuc2xhdGVZKC0xMDAlKTtsZWZ0OmNhbGMoMHB4IC0gdmFyKC0tY2std2lkZ2V0LW91dGxpbmUtdGhpY2tuZXNzKSl9LmNrIC5jay13aWRnZXQuY2std2lkZ2V0X3NlbGVjdGFibGUgLmNrLXdpZGdldF9fc2VsZWN0aW9uLWhhbmRsZXI6aG92ZXIgLmNrLWljb24gLmNrLWljb25fX3NlbGVjdGVkLWluZGljYXRvcntvcGFjaXR5OjF9LmNrIC5jay13aWRnZXQuY2std2lkZ2V0X3NlbGVjdGFibGUgLmNrLXdpZGdldF9fc2VsZWN0aW9uLWhhbmRsZXIgLmNrLWljb257d2lkdGg6dmFyKC0tY2std2lkZ2V0LWhhbmRsZXItaWNvbi1zaXplKTtoZWlnaHQ6dmFyKC0tY2std2lkZ2V0LWhhbmRsZXItaWNvbi1zaXplKTtjb2xvcjp2YXIoLS1jay1jb2xvci13aWRnZXQtZHJhZy1oYW5kbGVyLWljb24tY29sb3IpfS5jayAuY2std2lkZ2V0LmNrLXdpZGdldF9zZWxlY3RhYmxlIC5jay13aWRnZXRfX3NlbGVjdGlvbi1oYW5kbGVyIC5jay1pY29uIC5jay1pY29uX19zZWxlY3RlZC1pbmRpY2F0b3J7b3BhY2l0eTowO3RyYW5zaXRpb246b3BhY2l0eSAuM3MgdmFyKC0tY2std2lkZ2V0LWhhbmRsZXItYW5pbWF0aW9uLWN1cnZlKX0uY2sgLmNrLXdpZGdldC5jay13aWRnZXRfc2VsZWN0YWJsZS5jay13aWRnZXRfc2VsZWN0ZWQgLmNrLXdpZGdldF9fc2VsZWN0aW9uLWhhbmRsZXIsLmNrIC5jay13aWRnZXQuY2std2lkZ2V0X3NlbGVjdGFibGUuY2std2lkZ2V0X3NlbGVjdGVkOmhvdmVyIC5jay13aWRnZXRfX3NlbGVjdGlvbi1oYW5kbGVye29wYWNpdHk6MTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNrLWNvbG9yLWZvY3VzLWJvcmRlcil9LmNrIC5jay13aWRnZXQuY2std2lkZ2V0X3NlbGVjdGFibGUuY2std2lkZ2V0X3NlbGVjdGVkIC5jay13aWRnZXRfX3NlbGVjdGlvbi1oYW5kbGVyIC5jay1pY29uIC5jay1pY29uX19zZWxlY3RlZC1pbmRpY2F0b3IsLmNrIC5jay13aWRnZXQuY2std2lkZ2V0X3NlbGVjdGFibGUuY2std2lkZ2V0X3NlbGVjdGVkOmhvdmVyIC5jay13aWRnZXRfX3NlbGVjdGlvbi1oYW5kbGVyIC5jay1pY29uIC5jay1pY29uX19zZWxlY3RlZC1pbmRpY2F0b3J7b3BhY2l0eToxfS5jayAuY2std2lkZ2V0LmNrLXdpZGdldF9zZWxlY3RhYmxlOmhvdmVyIC5jay13aWRnZXRfX3NlbGVjdGlvbi1oYW5kbGVye29wYWNpdHk6MTtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNrLWNvbG9yLXdpZGdldC1ob3Zlci1ib3JkZXIpfS5jay1lZGl0b3JfX2VkaXRhYmxlLmNrLWJsdXJyZWQgLmNrLXdpZGdldC5jay13aWRnZXRfc2VsZWN0ZWQsLmNrLWVkaXRvcl9fZWRpdGFibGUuY2stYmx1cnJlZCAuY2std2lkZ2V0LmNrLXdpZGdldF9zZWxlY3RlZDpob3ZlcntvdXRsaW5lLWNvbG9yOnZhcigtLWNrLWNvbG9yLXdpZGdldC1ibHVycmVkLWJvcmRlcil9LmNrLWVkaXRvcl9fZWRpdGFibGUuY2stYmx1cnJlZCAuY2std2lkZ2V0LmNrLXdpZGdldF9zZWxlY3RlZCAuY2std2lkZ2V0X19zZWxlY3Rpb24taGFuZGxlciwuY2stZWRpdG9yX19lZGl0YWJsZS5jay1ibHVycmVkIC5jay13aWRnZXQuY2std2lkZ2V0X3NlbGVjdGVkIC5jay13aWRnZXRfX3NlbGVjdGlvbi1oYW5kbGVyOmhvdmVyLC5jay1lZGl0b3JfX2VkaXRhYmxlLmNrLWJsdXJyZWQgLmNrLXdpZGdldC5jay13aWRnZXRfc2VsZWN0ZWQ6aG92ZXIgLmNrLXdpZGdldF9fc2VsZWN0aW9uLWhhbmRsZXIsLmNrLWVkaXRvcl9fZWRpdGFibGUuY2stYmx1cnJlZCAuY2std2lkZ2V0LmNrLXdpZGdldF9zZWxlY3RlZDpob3ZlciAuY2std2lkZ2V0X19zZWxlY3Rpb24taGFuZGxlcjpob3ZlcntiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLXdpZGdldC1ibHVycmVkLWJvcmRlcil9XCJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1uKDYyKTtcInN0cmluZ1wiPT10eXBlb2YgbyYmKG89W1t0LmksbyxcIlwiXV0pO3ZhciBpPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMikobyxpKTtvLmxvY2FscyYmKHQuZXhwb3J0cz1vLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLmNrLWxhYmVse2Rpc3BsYXk6YmxvY2t9LmNrLmNrLXZvaWNlLWxhYmVse2Rpc3BsYXk6bm9uZX0uY2suY2stbGFiZWx7Zm9udC13ZWlnaHQ6NzAwfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIG89big2NCk7XCJzdHJpbmdcIj09dHlwZW9mIG8mJihvPVtbdC5pLG8sXCJcIl1dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDIpKG8saSk7by5sb2NhbHMmJih0LmV4cG9ydHM9by5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay1sYWJlbGVkLWlucHV0IC5jay1sYWJlbGVkLWlucHV0X19lcnJvcntmb250LXNpemU6dmFyKC0tY2stZm9udC1zaXplLXNtYWxsKTtjb2xvcjp2YXIoLS1jay1jb2xvci1iYXNlLWVycm9yKTttYXJnaW4tdG9wOnZhcigtLWNrLXNwYWNpbmctc21hbGwpfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIG89big2Nik7XCJzdHJpbmdcIj09dHlwZW9mIG8mJihvPVtbdC5pLG8sXCJcIl1dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDIpKG8saSk7by5sb2NhbHMmJih0LmV4cG9ydHM9by5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIjpyb290ey0tY2staW5wdXQtdGV4dC13aWR0aDoxOGVtfS5jay5jay1pbnB1dC10ZXh0e2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1pbnB1dC10ZXh0LC5jay5jay1pbnB1dC10ZXh0LmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpfS5jay5jay1pbnB1dC10ZXh0e2JveC1zaGFkb3c6dmFyKC0tY2staW5uZXItc2hhZG93KSwwIDA7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1pbnB1dC1iYWNrZ3JvdW5kKTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLWlucHV0LWJvcmRlcik7cGFkZGluZzp2YXIoLS1jay1zcGFjaW5nLWV4dHJhLXRpbnkpIHZhcigtLWNrLXNwYWNpbmctbWVkaXVtKTttaW4td2lkdGg6dmFyKC0tY2staW5wdXQtdGV4dC13aWR0aCk7bWluLWhlaWdodDp2YXIoLS1jay11aS1jb21wb25lbnQtbWluLWhlaWdodCk7dHJhbnNpdGlvbi1wcm9wZXJ0eTpib3gtc2hhZG93LGJvcmRlcjt0cmFuc2l0aW9uOi4ycyBlYXNlLWluLW91dH0uY2suY2staW5wdXQtdGV4dDpmb2N1c3tvdXRsaW5lOm5vbmU7Ym9yZGVyOnZhcigtLWNrLWZvY3VzLXJpbmcpO2JveC1zaGFkb3c6dmFyKC0tY2stZm9jdXMtb3V0ZXItc2hhZG93KSx2YXIoLS1jay1pbm5lci1zaGFkb3cpfS5jay5jay1pbnB1dC10ZXh0W3JlYWRvbmx5XXtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLWlucHV0LWRpc2FibGVkLWJvcmRlcik7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1pbnB1dC1kaXNhYmxlZC1iYWNrZ3JvdW5kKTtjb2xvcjp2YXIoLS1jay1jb2xvci1pbnB1dC1kaXNhYmxlZC10ZXh0KX0uY2suY2staW5wdXQtdGV4dFtyZWFkb25seV06Zm9jdXN7Ym94LXNoYWRvdzp2YXIoLS1jay1mb2N1cy1kaXNhYmxlZC1vdXRlci1zaGFkb3cpLHZhcigtLWNrLWlubmVyLXNoYWRvdyl9LmNrLmNrLWlucHV0LXRleHQuY2stZXJyb3J7Ym9yZGVyLWNvbG9yOnZhcigtLWNrLWNvbG9yLWlucHV0LWVycm9yLWJvcmRlcik7YW5pbWF0aW9uOmNrLXRleHQtaW5wdXQtc2hha2UgLjNzIGVhc2UgYm90aH0uY2suY2staW5wdXQtdGV4dC5jay1lcnJvcjpmb2N1c3tib3gtc2hhZG93OnZhcigtLWNrLWZvY3VzLWVycm9yLW91dGVyLXNoYWRvdyksdmFyKC0tY2staW5uZXItc2hhZG93KX1Aa2V5ZnJhbWVzIGNrLXRleHQtaW5wdXQtc2hha2V7MjAle3RyYW5zZm9ybTp0cmFuc2xhdGVYKC0ycHgpfTQwJXt0cmFuc2Zvcm06dHJhbnNsYXRlWCgycHgpfTYwJXt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtMXB4KX04MCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMXB4KX19XCJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1uKDY4KTtcInN0cmluZ1wiPT10eXBlb2YgbyYmKG89W1t0LmksbyxcIlwiXV0pO3ZhciBpPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMikobyxpKTtvLmxvY2FscyYmKHQuZXhwb3J0cz1vLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLmNrLXRleHQtYWx0ZXJuYXRpdmUtZm9ybSAuY2stbGFiZWxlZC1pbnB1dHtkaXNwbGF5OmlubGluZS1ibG9ja30uY2suY2stdGV4dC1hbHRlcm5hdGl2ZS1mb3JtIC5jay1sYWJlbHtkaXNwbGF5Om5vbmV9LmNrLmNrLXRleHQtYWx0ZXJuYXRpdmUtZm9ybXtwYWRkaW5nOnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpfS5jay5jay10ZXh0LWFsdGVybmF0aXZlLWZvcm06Zm9jdXN7b3V0bGluZTpub25lfS5jay5jay10ZXh0LWFsdGVybmF0aXZlLWZvcm0+Om5vdCg6Zmlyc3QtY2hpbGQpe21hcmdpbi1sZWZ0OnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIG89big3MCk7XCJzdHJpbmdcIj09dHlwZW9mIG8mJihvPVtbdC5pLG8sXCJcIl1dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDIpKG8saSk7by5sb2NhbHMmJih0LmV4cG9ydHM9by5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay1jb250ZW50IC5pbWFnZXtjbGVhcjpib3RoO3RleHQtYWxpZ246Y2VudGVyfS5jay1jb250ZW50IC5pbWFnZT5pbWd7ZGlzcGxheTpibG9jazttYXJnaW46MCBhdXRvO21heC13aWR0aDoxMDAlfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIG89big3Mik7XCJzdHJpbmdcIj09dHlwZW9mIG8mJihvPVtbdC5pLG8sXCJcIl1dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDIpKG8saSk7by5sb2NhbHMmJih0LmV4cG9ydHM9by5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay1jb250ZW50IC5pbWFnZXtwb3NpdGlvbjpyZWxhdGl2ZTtvdmVyZmxvdzpoaWRkZW59LmNrLWNvbnRlbnQgLmltYWdlIC5jay1wcm9ncmVzcy1iYXJ7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowfTpyb290ey0tY2staW1hZ2UtdXBsb2FkLXByb2dyZXNzLWxpbmUtd2lkdGg6MzBweH0uY2stY29udGVudCAuaW1hZ2UuY2stYXBwZWFye2FuaW1hdGlvbjpmYWRlSW4gLjdzfS5jay1jb250ZW50IC5pbWFnZSAuY2stcHJvZ3Jlc3MtYmFye2hlaWdodDoycHg7d2lkdGg6MDtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLXVwbG9hZC1iYXItYmFja2dyb3VuZCk7dHJhbnNpdGlvbjp3aWR0aCAuMXN9QGtleWZyYW1lcyBmYWRlSW57MCV7b3BhY2l0eTowfXRve29wYWNpdHk6MX19XCJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1uKDc0KTtcInN0cmluZ1wiPT10eXBlb2YgbyYmKG89W1t0LmksbyxcIlwiXV0pO3ZhciBpPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMikobyxpKTtvLmxvY2FscyYmKHQuZXhwb3J0cz1vLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPScuY2staW1hZ2UtdXBsb2FkLWNvbXBsZXRlLWljb257ZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MTBweDtyaWdodDoxMHB4O2JvcmRlci1yYWRpdXM6NTAlfS5jay1pbWFnZS11cGxvYWQtY29tcGxldGUtaWNvbjphZnRlcntjb250ZW50OlwiXCI7cG9zaXRpb246YWJzb2x1dGV9OnJvb3R7LS1jay1jb2xvci1pbWFnZS11cGxvYWQtaWNvbjojZmZmOy0tY2stY29sb3ItaW1hZ2UtdXBsb2FkLWljb24tYmFja2dyb3VuZDojMDA4YTAwOy0tY2staW1hZ2UtdXBsb2FkLWljb24tc2l6ZToyMHB4Oy0tY2staW1hZ2UtdXBsb2FkLWljb24td2lkdGg6MnB4fS5jay1pbWFnZS11cGxvYWQtY29tcGxldGUtaWNvbnt3aWR0aDp2YXIoLS1jay1pbWFnZS11cGxvYWQtaWNvbi1zaXplKTtoZWlnaHQ6dmFyKC0tY2staW1hZ2UtdXBsb2FkLWljb24tc2l6ZSk7b3BhY2l0eTowO2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItaW1hZ2UtdXBsb2FkLWljb24tYmFja2dyb3VuZCk7YW5pbWF0aW9uLW5hbWU6Y2stdXBsb2FkLWNvbXBsZXRlLWljb24tc2hvdyxjay11cGxvYWQtY29tcGxldGUtaWNvbi1oaWRlO2FuaW1hdGlvbi1maWxsLW1vZGU6Zm9yd2FyZHMsZm9yd2FyZHM7YW5pbWF0aW9uLWR1cmF0aW9uOi41cywuNXM7Zm9udC1zaXplOnZhcigtLWNrLWltYWdlLXVwbG9hZC1pY29uLXNpemUpO2FuaW1hdGlvbi1kZWxheTowbXMsM3N9LmNrLWltYWdlLXVwbG9hZC1jb21wbGV0ZS1pY29uOmFmdGVye2xlZnQ6MjUlO3RvcDo1MCU7b3BhY2l0eTowO2hlaWdodDowO3dpZHRoOjA7dHJhbnNmb3JtOnNjYWxlWCgtMSkgcm90YXRlKDEzNWRlZyk7dHJhbnNmb3JtLW9yaWdpbjpsZWZ0IHRvcDtib3JkZXItdG9wOnZhcigtLWNrLWltYWdlLXVwbG9hZC1pY29uLXdpZHRoKSBzb2xpZCB2YXIoLS1jay1jb2xvci1pbWFnZS11cGxvYWQtaWNvbik7Ym9yZGVyLXJpZ2h0OnZhcigtLWNrLWltYWdlLXVwbG9hZC1pY29uLXdpZHRoKSBzb2xpZCB2YXIoLS1jay1jb2xvci1pbWFnZS11cGxvYWQtaWNvbik7YW5pbWF0aW9uLW5hbWU6Y2stdXBsb2FkLWNvbXBsZXRlLWljb24tY2hlY2s7YW5pbWF0aW9uLWR1cmF0aW9uOi41czthbmltYXRpb24tZGVsYXk6LjVzO2FuaW1hdGlvbi1maWxsLW1vZGU6Zm9yd2FyZHM7Ym94LXNpemluZzpib3JkZXItYm94fUBrZXlmcmFtZXMgY2stdXBsb2FkLWNvbXBsZXRlLWljb24tc2hvd3swJXtvcGFjaXR5OjB9dG97b3BhY2l0eToxfX1Aa2V5ZnJhbWVzIGNrLXVwbG9hZC1jb21wbGV0ZS1pY29uLWhpZGV7MCV7b3BhY2l0eToxfXRve29wYWNpdHk6MH19QGtleWZyYW1lcyBjay11cGxvYWQtY29tcGxldGUtaWNvbi1jaGVja3swJXtvcGFjaXR5OjE7d2lkdGg6MDtoZWlnaHQ6MH0zMyV7d2lkdGg6LjNlbTtoZWlnaHQ6MH10b3tvcGFjaXR5OjE7d2lkdGg6LjNlbTtoZWlnaHQ6LjQ1ZW19fSd9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1uKDc2KTtcInN0cmluZ1wiPT10eXBlb2YgbyYmKG89W1t0LmksbyxcIlwiXV0pO3ZhciBpPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMikobyxpKTtvLmxvY2FscyYmKHQuZXhwb3J0cz1vLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPScuY2sgLmNrLXVwbG9hZC1wbGFjZWhvbGRlci1sb2FkZXJ7cG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmNlbnRlcjtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO3RvcDowO2xlZnQ6MH0uY2sgLmNrLXVwbG9hZC1wbGFjZWhvbGRlci1sb2FkZXI6YmVmb3Jle2NvbnRlbnQ6XCJcIjtwb3NpdGlvbjpyZWxhdGl2ZX06cm9vdHstLWNrLWNvbG9yLXVwbG9hZC1wbGFjZWhvbGRlci1sb2FkZXI6I2IzYjNiMzstLWNrLXVwbG9hZC1wbGFjZWhvbGRlci1sb2FkZXItc2l6ZTozMnB4fS5jayAuY2staW1hZ2UtdXBsb2FkLXBsYWNlaG9sZGVye3dpZHRoOjEwMCU7bWFyZ2luOjB9LmNrIC5jay11cGxvYWQtcGxhY2Vob2xkZXItbG9hZGVye3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9LmNrIC5jay11cGxvYWQtcGxhY2Vob2xkZXItbG9hZGVyOmJlZm9yZXt3aWR0aDp2YXIoLS1jay11cGxvYWQtcGxhY2Vob2xkZXItbG9hZGVyLXNpemUpO2hlaWdodDp2YXIoLS1jay11cGxvYWQtcGxhY2Vob2xkZXItbG9hZGVyLXNpemUpO2JvcmRlci1yYWRpdXM6NTAlO2JvcmRlci10b3A6M3B4IHNvbGlkIHZhcigtLWNrLWNvbG9yLXVwbG9hZC1wbGFjZWhvbGRlci1sb2FkZXIpO2JvcmRlci1yaWdodDoycHggc29saWQgdHJhbnNwYXJlbnQ7YW5pbWF0aW9uOmNrLXVwbG9hZC1wbGFjZWhvbGRlci1sb2FkZXIgMXMgbGluZWFyIGluZmluaXRlfUBrZXlmcmFtZXMgY2stdXBsb2FkLXBsYWNlaG9sZGVyLWxvYWRlcnt0b3t0cmFuc2Zvcm06cm90YXRlKDF0dXJuKX19J30sZnVuY3Rpb24odCxlLG4pe3ZhciBvPW4oNzgpO1wic3RyaW5nXCI9PXR5cGVvZiBvJiYobz1bW3QuaSxvLFwiXCJdXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigyKShvLGkpO28ubG9jYWxzJiYodC5leHBvcnRzPW8ubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2suY2stZHJvcGRvd257ZGlzcGxheTppbmxpbmUtYmxvY2s7cG9zaXRpb246cmVsYXRpdmV9LmNrLmNrLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fYXJyb3d7cG9pbnRlci1ldmVudHM6bm9uZTt6LWluZGV4OnZhcigtLWNrLXotZGVmYXVsdCl9LmNrLmNrLWRyb3Bkb3duIC5jay1idXR0b24uY2stZHJvcGRvd25fX2J1dHRvbnt3aWR0aDoxMDAlfS5jay5jay1kcm9wZG93biAuY2stYnV0dG9uLmNrLWRyb3Bkb3duX19idXR0b24uY2stb24gLmNrLXRvb2x0aXB7ZGlzcGxheTpub25lfS5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsey13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTpoaWRkZW47ZGlzcGxheTpub25lO3otaW5kZXg6dmFyKC0tY2stei1tb2RhbCk7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RyYW5zZm9ybTp0cmFuc2xhdGUzZCgwLDEwMCUsMCl9LmNrLmNrLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fcGFuZWwuY2stZHJvcGRvd25fX3BhbmVsLXZpc2libGV7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lsbC1jaGFuZ2U6dHJhbnNmb3JtfTpyb290ey0tY2stZHJvcGRvd24tYXJyb3ctc2l6ZTpjYWxjKDAuNSAqIHZhcigtLWNrLWljb24tc2l6ZSkpfS5jay5jay1kcm9wZG93bntmb250LXNpemU6aW5oZXJpdH0uY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19hcnJvd3tyaWdodDp2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKTt3aWR0aDp2YXIoLS1jay1kcm9wZG93bi1hcnJvdy1zaXplKTttYXJnaW4tbGVmdDp2YXIoLS1jay1zcGFjaW5nLXNtYWxsKX0uY2suY2stZHJvcGRvd24uY2stZGlzYWJsZWQgLmNrLWRyb3Bkb3duX19hcnJvd3tvcGFjaXR5OnZhcigtLWNrLWRpc2FibGVkLW9wYWNpdHkpfS5jay5jay1kcm9wZG93biAuY2stYnV0dG9uLmNrLWRyb3Bkb3duX19idXR0b246bm90KC5jay1idXR0b25fd2l0aC10ZXh0KXtwYWRkaW5nLWxlZnQ6dmFyKC0tY2stc3BhY2luZy1zbWFsbCl9LmNrLmNrLWRyb3Bkb3duIC5jay1idXR0b24uY2stZHJvcGRvd25fX2J1dHRvbi5jay1kaXNhYmxlZCAuY2stYnV0dG9uX19sYWJlbHtvcGFjaXR5OnZhcigtLWNrLWRpc2FibGVkLW9wYWNpdHkpfS5jay5jay1kcm9wZG93biAuY2stYnV0dG9uLmNrLWRyb3Bkb3duX19idXR0b24uY2stb257Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowO2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjB9LmNrLmNrLWRyb3Bkb3duIC5jay1idXR0b24uY2stZHJvcGRvd25fX2J1dHRvbiAuY2stYnV0dG9uX19sYWJlbHt3aWR0aDo3ZW07b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXN9LmNrLmNrLWRyb3Bkb3duX19wYW5lbHtib3gtc2hhZG93OnZhcigtLWNrLWRyb3Atc2hhZG93KSwwIDA7Ym9yZGVyLXJhZGl1czowfS5jay1yb3VuZGVkLWNvcm5lcnMgLmNrLmNrLWRyb3Bkb3duX19wYW5lbCwuY2suY2stZHJvcGRvd25fX3BhbmVsLmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MH0uY2suY2stZHJvcGRvd25fX3BhbmVse2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItZHJvcGRvd24tcGFuZWwtYmFja2dyb3VuZCk7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1jay1jb2xvci1kcm9wZG93bi1wYW5lbC1ib3JkZXIpO2JvdHRvbTowO21pbi13aWR0aDoxMDAlfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIG89big4MCk7XCJzdHJpbmdcIj09dHlwZW9mIG8mJihvPVtbdC5pLG8sXCJcIl1dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDIpKG8saSk7by5sb2NhbHMmJih0LmV4cG9ydHM9by5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay1saXN0ey1tb3otdXNlci1zZWxlY3Q6bm9uZTstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1ufS5jay5jay1saXN0IC5jay1saXN0X19pdGVtLC5jay5jay1saXN0IC5jay1saXN0X19zZXBhcmF0b3J7ZGlzcGxheTpibG9ja30uY2suY2stbGlzdCAuY2stbGlzdF9faXRlbT46Zm9jdXN7cG9zaXRpb246cmVsYXRpdmU7ei1pbmRleDp2YXIoLS1jay16LWRlZmF1bHQpfS5jay5jay1saXN0e2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1saXN0LC5jay5jay1saXN0LmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpfS5jay5jay1saXN0e2xpc3Qtc3R5bGUtdHlwZTpub25lO2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItbGlzdC1iYWNrZ3JvdW5kKX0uY2suY2stbGlzdF9faXRlbXtjdXJzb3I6ZGVmYXVsdDttaW4td2lkdGg6MTJlbX0uY2suY2stbGlzdF9faXRlbSAuY2stYnV0dG9ue21pbi1oZWlnaHQ6dW5zZXQ7d2lkdGg6MTAwJTt0ZXh0LWFsaWduOmxlZnQ7Ym9yZGVyLXJhZGl1czowO2JvcmRlcjowO3BhZGRpbmc6Y2FsYyguMiAqIHZhcigtLWNrLWxpbmUtaGVpZ2h0LWJhc2UpICogdmFyKC0tY2stZm9udC1zaXplLWJhc2UpKSBjYWxjKC40ICogdmFyKC0tY2stbGluZS1oZWlnaHQtYmFzZSkgKiB2YXIoLS1jay1mb250LXNpemUtYmFzZSkpfS5jay5jay1saXN0X19pdGVtIC5jay1idXR0b24gLmNrLWJ1dHRvbl9fbGFiZWx7bGluZS1oZWlnaHQ6Y2FsYygxLjIgKiB2YXIoLS1jay1saW5lLWhlaWdodC1iYXNlKSAqIHZhcigtLWNrLWZvbnQtc2l6ZS1iYXNlKSl9LmNrLmNrLWxpc3RfX2l0ZW0gLmNrLWJ1dHRvbjphY3RpdmV7Ym94LXNoYWRvdzpub25lfS5jay5jay1saXN0X19pdGVtIC5jay1idXR0b24uY2stb257YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1saXN0LWJ1dHRvbi1vbi1iYWNrZ3JvdW5kKTtjb2xvcjp2YXIoLS1jay1jb2xvci1saXN0LWJ1dHRvbi1vbi10ZXh0KX0uY2suY2stbGlzdF9faXRlbSAuY2stYnV0dG9uLmNrLW9uOmhvdmVyOm5vdChjay1kaXNhYmxlZCl7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1saXN0LWJ1dHRvbi1vbi1iYWNrZ3JvdW5kLWZvY3VzKX0uY2suY2stbGlzdF9faXRlbSAuY2stYnV0dG9uLmNrLW9uOmFjdGl2ZXtib3gtc2hhZG93Om5vbmV9LmNrLmNrLWxpc3RfX2l0ZW0gLmNrLWJ1dHRvbjpob3Zlcjpub3QoLmNrLWRpc2FibGVkKXtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWxpc3QtYnV0dG9uLWhvdmVyLWJhY2tncm91bmQpfS5jay5jay1saXN0X19pdGVtIC5jay1zd2l0Y2hidXR0b24uY2stb257YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1saXN0LWJhY2tncm91bmQpO2NvbG9yOmluaGVyaXR9LmNrLmNrLWxpc3RfX2l0ZW0gLmNrLXN3aXRjaGJ1dHRvbi5jay1vbjpob3Zlcjpub3QoY2stZGlzYWJsZWQpe2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItbGlzdC1idXR0b24taG92ZXItYmFja2dyb3VuZCk7Y29sb3I6aW5oZXJpdH0uY2suY2stbGlzdF9fc2VwYXJhdG9ye2hlaWdodDoxcHg7d2lkdGg6MTAwJTtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJhc2UtYm9yZGVyKX1cIn0sZnVuY3Rpb24odCxlLG4pe3ZhciBvPW4oODIpO1wic3RyaW5nXCI9PXR5cGVvZiBvJiYobz1bW3QuaSxvLFwiXCJdXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigyKShvLGkpO28ubG9jYWxzJiYodC5leHBvcnRzPW8ubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2suY2stYnV0dG9uLmNrLXN3aXRjaGJ1dHRvbiAuY2stYnV0dG9uX190b2dnbGUsLmNrLmNrLWJ1dHRvbi5jay1zd2l0Y2hidXR0b24gLmNrLWJ1dHRvbl9fdG9nZ2xlIC5jay1idXR0b25fX3RvZ2dsZV9faW5uZXJ7ZGlzcGxheTpibG9ja306cm9vdHstLWNrLXN3aXRjaC1idXR0b24tdG9nZ2xlLXdpZHRoOjIuNjE1Mzg0NjE1NGVtOy0tY2stc3dpdGNoLWJ1dHRvbi10b2dnbGUtaW5uZXItc2l6ZToxLjA3NjkyMzA3NjllbTstLWNrLXN3aXRjaC1idXR0b24tdG9nZ2xlLXNwYWNpbmc6MXB4fS5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uIC5jay1idXR0b25fX2xhYmVse21hcmdpbi1yaWdodDpjYWxjKDIgKiB2YXIoLS1jay1zcGFjaW5nLWxhcmdlKSl9LmNrLmNrLWJ1dHRvbi5jay1zd2l0Y2hidXR0b24uY2stZGlzYWJsZWQgLmNrLWJ1dHRvbl9fdG9nZ2xle29wYWNpdHk6dmFyKC0tY2stZGlzYWJsZWQtb3BhY2l0eSl9LmNrLmNrLWJ1dHRvbi5jay1zd2l0Y2hidXR0b24gLmNrLWJ1dHRvbl9fdG9nZ2xle2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uIC5jay1idXR0b25fX3RvZ2dsZSwuY2suY2stYnV0dG9uLmNrLXN3aXRjaGJ1dHRvbiAuY2stYnV0dG9uX190b2dnbGUuY2stcm91bmRlZC1jb3JuZXJze2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyl9LmNrLmNrLWJ1dHRvbi5jay1zd2l0Y2hidXR0b24gLmNrLWJ1dHRvbl9fdG9nZ2xle21hcmdpbi1sZWZ0OmF1dG87dHJhbnNpdGlvbjpiYWNrZ3JvdW5kIC40cyBlYXNlO3dpZHRoOnZhcigtLWNrLXN3aXRjaC1idXR0b24tdG9nZ2xlLXdpZHRoKTtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLXN3aXRjaC1idXR0b24tb2ZmLWJhY2tncm91bmQpfS5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uIC5jay1idXR0b25fX3RvZ2dsZSAuY2stYnV0dG9uX190b2dnbGVfX2lubmVye2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uIC5jay1idXR0b25fX3RvZ2dsZSAuY2stYnV0dG9uX190b2dnbGVfX2lubmVyLC5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uIC5jay1idXR0b25fX3RvZ2dsZSAuY2stYnV0dG9uX190b2dnbGVfX2lubmVyLmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpO2JvcmRlci1yYWRpdXM6Y2FsYyguNSAqIHZhcigtLWNrLWJvcmRlci1yYWRpdXMpKX0uY2suY2stYnV0dG9uLmNrLXN3aXRjaGJ1dHRvbiAuY2stYnV0dG9uX190b2dnbGUgLmNrLWJ1dHRvbl9fdG9nZ2xlX19pbm5lcnttYXJnaW46dmFyKC0tY2stc3dpdGNoLWJ1dHRvbi10b2dnbGUtc3BhY2luZyk7d2lkdGg6dmFyKC0tY2stc3dpdGNoLWJ1dHRvbi10b2dnbGUtaW5uZXItc2l6ZSk7aGVpZ2h0OnZhcigtLWNrLXN3aXRjaC1idXR0b24tdG9nZ2xlLWlubmVyLXNpemUpO2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3Itc3dpdGNoLWJ1dHRvbi1pbm5lci1iYWNrZ3JvdW5kKTt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuM3MgZWFzZX0uY2suY2stYnV0dG9uLmNrLXN3aXRjaGJ1dHRvbi5jay1vbiAuY2stYnV0dG9uX190b2dnbGV7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1zd2l0Y2gtYnV0dG9uLW9uLWJhY2tncm91bmQpfS5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uLmNrLW9uIC5jay1idXR0b25fX3RvZ2dsZSAuY2stYnV0dG9uX190b2dnbGVfX2lubmVye3RyYW5zZm9ybTp0cmFuc2xhdGVYKDEuMzg0NjE1Mzg0N2VtKX1cIn0sZnVuY3Rpb24odCxlLG4pe3ZhciBvPW4oODQpO1wic3RyaW5nXCI9PXR5cGVvZiBvJiYobz1bW3QuaSxvLFwiXCJdXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigyKShvLGkpO28ubG9jYWxzJiYodC5leHBvcnRzPW8ubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2suY2stdG9vbGJhci1kcm9wZG93biAuY2stdG9vbGJhcntmbGV4LXdyYXA6bm93cmFwfS5jay5jay10b29sYmFyLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fcGFuZWwgLmNrLWJ1dHRvbjpmb2N1c3t6LWluZGV4OmNhbGModmFyKC0tY2stei1kZWZhdWx0KSArIDEpfS5jay5jay10b29sYmFyLWRyb3Bkb3duIC5jay10b29sYmFye2JvcmRlcjowfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIG89big4Nik7XCJzdHJpbmdcIj09dHlwZW9mIG8mJihvPVtbdC5pLG8sXCJcIl1dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDIpKG8saSk7by5sb2NhbHMmJih0LmV4cG9ydHM9by5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsIC5jay1saXN0e2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsIC5jay1saXN0LC5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsIC5jay1saXN0LmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MH0uY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19wYW5lbCAuY2stbGlzdCAuY2stbGlzdF9faXRlbTpmaXJzdC1jaGlsZCAuY2stYnV0dG9ue2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsIC5jay1saXN0IC5jay1saXN0X19pdGVtOmZpcnN0LWNoaWxkIC5jay1idXR0b24sLmNrLmNrLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fcGFuZWwgLmNrLWxpc3QgLmNrLWxpc3RfX2l0ZW06Zmlyc3QtY2hpbGQgLmNrLWJ1dHRvbi5jay1yb3VuZGVkLWNvcm5lcnN7Ym9yZGVyLXJhZGl1czp2YXIoLS1jay1ib3JkZXItcmFkaXVzKTtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowO2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjB9LmNrLmNrLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fcGFuZWwgLmNrLWxpc3QgLmNrLWxpc3RfX2l0ZW06bGFzdC1jaGlsZCAuY2stYnV0dG9ue2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsIC5jay1saXN0IC5jay1saXN0X19pdGVtOmxhc3QtY2hpbGQgLmNrLWJ1dHRvbiwuY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19wYW5lbCAuY2stbGlzdCAuY2stbGlzdF9faXRlbTpsYXN0LWNoaWxkIC5jay1idXR0b24uY2stcm91bmRlZC1jb3JuZXJze2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyk7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czowO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjB9XCJ9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLmNrLWhlYWRpbmdfaGVhZGluZzF7Zm9udC1zaXplOjIwcHh9LmNrLmNrLWhlYWRpbmdfaGVhZGluZzJ7Zm9udC1zaXplOjE3cHh9LmNrLmNrLWhlYWRpbmdfaGVhZGluZzN7Zm9udC1zaXplOjE0cHh9LmNrW2NsYXNzKj1jay1oZWFkaW5nX2hlYWRpbmdde2ZvbnQtd2VpZ2h0OjcwMH0uY2suY2stZHJvcGRvd24uY2staGVhZGluZy1kcm9wZG93biAuY2stZHJvcGRvd25fX2J1dHRvbiAuY2stYnV0dG9uX19sYWJlbHt3aWR0aDo4ZW19LmNrLmNrLWRyb3Bkb3duLmNrLWhlYWRpbmctZHJvcGRvd24gLmNrLWRyb3Bkb3duX19wYW5lbCAuY2stbGlzdF9faXRlbXttaW4td2lkdGg6MThlbX1cIn0sZnVuY3Rpb24odCxlLG4pe3ZhciBvPW4oODkpO1wic3RyaW5nXCI9PXR5cGVvZiBvJiYobz1bW3QuaSxvLFwiXCJdXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigyKShvLGkpO28ubG9jYWxzJiYodC5leHBvcnRzPW8ubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2suY2stcGxhY2Vob2xkZXI6YmVmb3JlLC5jayAuY2stcGxhY2Vob2xkZXI6YmVmb3Jle2NvbnRlbnQ6YXR0cihkYXRhLXBsYWNlaG9sZGVyKTtwb2ludGVyLWV2ZW50czpub25lO2N1cnNvcjp0ZXh0O2NvbG9yOnZhcigtLWNrLWNvbG9yLWVuZ2luZS1wbGFjZWhvbGRlci10ZXh0KX1cIn0sZnVuY3Rpb24odCxlLG4pe3ZhciBvPW4oOTEpO1wic3RyaW5nXCI9PXR5cGVvZiBvJiYobz1bW3QuaSxvLFwiXCJdXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigyKShvLGkpO28ubG9jYWxzJiYodC5leHBvcnRzPW8ubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2stY29udGVudCAuaW1hZ2U+ZmlnY2FwdGlvbntjb2xvcjojMzMzO2JhY2tncm91bmQtY29sb3I6I2Y3ZjdmNztwYWRkaW5nOi42ZW07Zm9udC1zaXplOi43NWVtO291dGxpbmUtb2Zmc2V0Oi0xcHh9XCJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1uKDkzKTtcInN0cmluZ1wiPT10eXBlb2YgbyYmKG89W1t0LmksbyxcIlwiXV0pO3ZhciBpPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMikobyxpKTtvLmxvY2FscyYmKHQuZXhwb3J0cz1vLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiOnJvb3R7LS1jay1pbWFnZS1zdHlsZS1zcGFjaW5nOjEuNWVtfS5jay1jb250ZW50IC5pbWFnZS1zdHlsZS1hbGlnbi1jZW50ZXIsLmNrLWNvbnRlbnQgLmltYWdlLXN0eWxlLWFsaWduLWxlZnQsLmNrLWNvbnRlbnQgLmltYWdlLXN0eWxlLWFsaWduLXJpZ2h0LC5jay1jb250ZW50IC5pbWFnZS1zdHlsZS1zaWRle21heC13aWR0aDo1MCV9LmNrLWNvbnRlbnQgLmltYWdlLXN0eWxlLXNpZGV7ZmxvYXQ6cmlnaHQ7bWFyZ2luLWxlZnQ6dmFyKC0tY2staW1hZ2Utc3R5bGUtc3BhY2luZyl9LmNrLWNvbnRlbnQgLmltYWdlLXN0eWxlLWFsaWduLWxlZnR7ZmxvYXQ6bGVmdDttYXJnaW4tcmlnaHQ6dmFyKC0tY2staW1hZ2Utc3R5bGUtc3BhY2luZyl9LmNrLWNvbnRlbnQgLmltYWdlLXN0eWxlLWFsaWduLWNlbnRlcnttYXJnaW4tbGVmdDphdXRvO21hcmdpbi1yaWdodDphdXRvfS5jay1jb250ZW50IC5pbWFnZS1zdHlsZS1hbGlnbi1yaWdodHtmbG9hdDpyaWdodDttYXJnaW4tbGVmdDp2YXIoLS1jay1pbWFnZS1zdHlsZS1zcGFjaW5nKX1cIn0sZnVuY3Rpb24odCxlLG4pe3ZhciBvPW4oOTUpO1wic3RyaW5nXCI9PXR5cGVvZiBvJiYobz1bW3QuaSxvLFwiXCJdXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigyKShvLGkpO28ubG9jYWxzJiYodC5leHBvcnRzPW8ubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2sgLmNrLWxpbmtfc2VsZWN0ZWR7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1saW5rLXNlbGVjdGVkLWJhY2tncm91bmQpfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIG89big5Nyk7XCJzdHJpbmdcIj09dHlwZW9mIG8mJihvPVtbdC5pLG8sXCJcIl1dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDIpKG8saSk7by5sb2NhbHMmJih0LmV4cG9ydHM9by5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay1saW5rLWZvcm0gLmNrLWxhYmVsZWQtaW5wdXR7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmNrLmNrLWxpbmstZm9ybSAuY2stbGFiZWx7ZGlzcGxheTpub25lfS5jay5jay1saW5rLWZvcm17cGFkZGluZzp2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKX0uY2suY2stbGluay1mb3JtOmZvY3Vze291dGxpbmU6bm9uZX0uY2suY2stbGluay1mb3JtPjpub3QoOmZpcnN0LWNoaWxkKXttYXJnaW4tbGVmdDp2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKX1cIn0sZnVuY3Rpb24odCxlLG4pe3ZhciBvPW4oOTkpO1wic3RyaW5nXCI9PXR5cGVvZiBvJiYobz1bW3QuaSxvLFwiXCJdXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigyKShvLGkpO28ubG9jYWxzJiYodC5leHBvcnRzPW8ubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2suY2stbGluay1hY3Rpb25zIC5jay1saW5rLWFjdGlvbnNfX3ByZXZpZXd7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmNrLmNrLWxpbmstYWN0aW9ucyAuY2stbGluay1hY3Rpb25zX19wcmV2aWV3IC5jay1idXR0b25fX2xhYmVse292ZXJmbG93OmhpZGRlbn0uY2suY2stbGluay1hY3Rpb25ze3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCl9LmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uLmNrLWxpbmstYWN0aW9uc19fcHJldmlld3twYWRkaW5nLWxlZnQ6MDtwYWRkaW5nLXJpZ2h0OjB9LmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uLmNrLWxpbmstYWN0aW9uc19fcHJldmlldywuY2suY2stbGluay1hY3Rpb25zIC5jay1idXR0b24uY2stbGluay1hY3Rpb25zX19wcmV2aWV3OmFjdGl2ZSwuY2suY2stbGluay1hY3Rpb25zIC5jay1idXR0b24uY2stbGluay1hY3Rpb25zX19wcmV2aWV3OmZvY3VzLC5jay5jay1saW5rLWFjdGlvbnMgLmNrLWJ1dHRvbi5jay1saW5rLWFjdGlvbnNfX3ByZXZpZXc6aG92ZXJ7YmFja2dyb3VuZDpub25lfS5jay5jay1saW5rLWFjdGlvbnMgLmNrLWJ1dHRvbi5jay1saW5rLWFjdGlvbnNfX3ByZXZpZXc6YWN0aXZle2JveC1zaGFkb3c6bm9uZX0uY2suY2stbGluay1hY3Rpb25zIC5jay1idXR0b24uY2stbGluay1hY3Rpb25zX19wcmV2aWV3OmZvY3VzIC5jay1idXR0b25fX2xhYmVse3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmV9LmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uLmNrLWxpbmstYWN0aW9uc19fcHJldmlldyAuY2stYnV0dG9uX19sYWJlbHtwYWRkaW5nOjAgdmFyKC0tY2stc3BhY2luZy1tZWRpdW0pO2NvbG9yOnZhcigtLWNrLWNvbG9yLWxpbmstZGVmYXVsdCk7dGV4dC1vdmVyZmxvdzplbGxpcHNpcztjdXJzb3I6cG9pbnRlcjttYXgtd2lkdGg6dmFyKC0tY2staW5wdXQtdGV4dC13aWR0aCk7bWluLXdpZHRoOjNlbTt0ZXh0LWFsaWduOmNlbnRlcn0uY2suY2stbGluay1hY3Rpb25zIC5jay1idXR0b24uY2stbGluay1hY3Rpb25zX19wcmV2aWV3IC5jay1idXR0b25fX2xhYmVsOmhvdmVye3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmV9LmNrLmNrLWxpbmstYWN0aW9uczpmb2N1c3tvdXRsaW5lOm5vbmV9LmNrLmNrLWxpbmstYWN0aW9ucz46bm90KDpmaXJzdC1jaGlsZCl7bWFyZ2luLWxlZnQ6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCl9XCJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1uKDEwMSk7XCJzdHJpbmdcIj09dHlwZW9mIG8mJihvPVtbdC5pLG8sXCJcIl1dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDIpKG8saSk7by5sb2NhbHMmJih0LmV4cG9ydHM9by5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nLmNrLW1lZGlhX193cmFwcGVyPjpub3QoLmNrLW1lZGlhX19wbGFjZWhvbGRlcil7cG9pbnRlci1ldmVudHM6bm9uZX0uY2stbWVkaWFfX3dyYXBwZXIgLmNrLW1lZGlhX19wbGFjZWhvbGRlcntkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2FsaWduLWl0ZW1zOmNlbnRlcn0uY2stbWVkaWFfX3dyYXBwZXIgLmNrLW1lZGlhX19wbGFjZWhvbGRlciAuY2stbWVkaWFfX3BsYWNlaG9sZGVyX191cmwgLmNrLXRvb2x0aXB7ZGlzcGxheTpibG9ja31AbWVkaWEgKGhvdmVyOm5vbmUpey5jay1tZWRpYV9fd3JhcHBlciAuY2stbWVkaWFfX3BsYWNlaG9sZGVyIC5jay1tZWRpYV9fcGxhY2Vob2xkZXJfX3VybCAuY2stdG9vbHRpcHtkaXNwbGF5Om5vbmV9fS5jay1tZWRpYV9fd3JhcHBlciAuY2stbWVkaWFfX3BsYWNlaG9sZGVyIC5jay1tZWRpYV9fcGxhY2Vob2xkZXJfX3VybHttYXgtd2lkdGg6MTAwJTtwb3NpdGlvbjpyZWxhdGl2ZX0uY2stbWVkaWFfX3dyYXBwZXIgLmNrLW1lZGlhX19wbGFjZWhvbGRlciAuY2stbWVkaWFfX3BsYWNlaG9sZGVyX191cmw6aG92ZXIgLmNrLXRvb2x0aXB7dmlzaWJpbGl0eTp2aXNpYmxlO29wYWNpdHk6MX0uY2stbWVkaWFfX3dyYXBwZXIgLmNrLW1lZGlhX19wbGFjZWhvbGRlciAuY2stbWVkaWFfX3BsYWNlaG9sZGVyX191cmwgLmNrLW1lZGlhX19wbGFjZWhvbGRlcl9fdXJsX190ZXh0e292ZXJmbG93OmhpZGRlbjtkaXNwbGF5OmJsb2NrfS5jay1tZWRpYV9fd3JhcHBlcltkYXRhLW9lbWJlZC11cmwqPVwiZmFjZWJvb2suY29tXCJdIC5jay1tZWRpYV9fcGxhY2Vob2xkZXJfX2ljb24gKiwuY2stbWVkaWFfX3dyYXBwZXJbZGF0YS1vZW1iZWQtdXJsKj1cImdvb2dsZS5jb20vbWFwc1wiXSAuY2stbWVkaWFfX3BsYWNlaG9sZGVyX19pY29uICosLmNrLW1lZGlhX193cmFwcGVyW2RhdGEtb2VtYmVkLXVybCo9XCJpbnN0YWdyYW0uY29tXCJdIC5jay1tZWRpYV9fcGxhY2Vob2xkZXJfX2ljb24gKiwuY2stbWVkaWFfX3dyYXBwZXJbZGF0YS1vZW1iZWQtdXJsKj1cInR3aXR0ZXIuY29tXCJdIC5jay1tZWRpYV9fcGxhY2Vob2xkZXJfX2ljb24gKntkaXNwbGF5Om5vbmV9OnJvb3R7LS1jay1tZWRpYS1lbWJlZC1wbGFjZWhvbGRlci1pY29uLXNpemU6M2VtOy0tY2stY29sb3ItbWVkaWEtZW1iZWQtcGxhY2Vob2xkZXItdXJsLXRleHQ6Izc1NzU3NTstLWNrLWNvbG9yLW1lZGlhLWVtYmVkLXBsYWNlaG9sZGVyLXVybC10ZXh0LWhvdmVyOnZhcigtLWNrLWNvbG9yLWJhc2UtdGV4dCl9LmNrLW1lZGlhX193cmFwcGVye21hcmdpbjowIGF1dG99LmNrLW1lZGlhX193cmFwcGVyIC5jay1tZWRpYV9fcGxhY2Vob2xkZXJ7cGFkZGluZzpjYWxjKDMgKiB2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKSk7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1iYXNlLWZvcmVncm91bmQpfS5jay1tZWRpYV9fd3JhcHBlciAuY2stbWVkaWFfX3BsYWNlaG9sZGVyIC5jay1tZWRpYV9fcGxhY2Vob2xkZXJfX2ljb257bWluLXdpZHRoOnZhcigtLWNrLW1lZGlhLWVtYmVkLXBsYWNlaG9sZGVyLWljb24tc2l6ZSk7aGVpZ2h0OnZhcigtLWNrLW1lZGlhLWVtYmVkLXBsYWNlaG9sZGVyLWljb24tc2l6ZSk7bWFyZ2luLWJvdHRvbTp2YXIoLS1jay1zcGFjaW5nLWxhcmdlKTtiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJTtiYWNrZ3JvdW5kLXNpemU6Y292ZXJ9LmNrLW1lZGlhX193cmFwcGVyIC5jay1tZWRpYV9fcGxhY2Vob2xkZXIgLmNrLW1lZGlhX19wbGFjZWhvbGRlcl9faWNvbiAuY2staWNvbnt3aWR0aDoxMDAlO2hlaWdodDoxMDAlfS5jay1tZWRpYV9fd3JhcHBlciAuY2stbWVkaWFfX3BsYWNlaG9sZGVyIC5jay1tZWRpYV9fcGxhY2Vob2xkZXJfX3VybCAuY2stbWVkaWFfX3BsYWNlaG9sZGVyX191cmxfX3RleHR7Y29sb3I6dmFyKC0tY2stY29sb3ItbWVkaWEtZW1iZWQtcGxhY2Vob2xkZXItdXJsLXRleHQpO3doaXRlLXNwYWNlOm5vd3JhcDt0ZXh0LWFsaWduOmNlbnRlcjtmb250LXN0eWxlOml0YWxpYzt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzfS5jay1tZWRpYV9fd3JhcHBlciAuY2stbWVkaWFfX3BsYWNlaG9sZGVyIC5jay1tZWRpYV9fcGxhY2Vob2xkZXJfX3VybCAuY2stbWVkaWFfX3BsYWNlaG9sZGVyX191cmxfX3RleHQ6aG92ZXJ7Y29sb3I6dmFyKC0tY2stY29sb3ItbWVkaWEtZW1iZWQtcGxhY2Vob2xkZXItdXJsLXRleHQtaG92ZXIpO2N1cnNvcjpwb2ludGVyO3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmV9LmNrLW1lZGlhX193cmFwcGVyW2RhdGEtb2VtYmVkLXVybCo9XCJvcGVuLnNwb3RpZnkuY29tXCJde21heC13aWR0aDozMDBweDttYXgtaGVpZ2h0OjM4MHB4fS5jay1tZWRpYV9fd3JhcHBlcltkYXRhLW9lbWJlZC11cmwqPVwidHdpdHRlci5jb21cIl0gLmNrLmNrLW1lZGlhX19wbGFjZWhvbGRlcntiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCg5MGRlZywjNzFjNmY0LCMwZDcwYTUpfS5jay1tZWRpYV9fd3JhcHBlcltkYXRhLW9lbWJlZC11cmwqPVwidHdpdHRlci5jb21cIl0gLmNrLmNrLW1lZGlhX19wbGFjZWhvbGRlciAuY2stbWVkaWFfX3BsYWNlaG9sZGVyX19pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIWnBaWGRDYjNnOUlqQWdNQ0EwTURBZ05EQXdJajQ4Y0dGMGFDQmtQU0pOTkRBd0lESXdNR013SURFeE1DNDFMVGc1TGpVZ01qQXdMVEl3TUNBeU1EQlRNQ0F6TVRBdU5TQXdJREl3TUNBNE9TNDFJREFnTWpBd0lEQnpNakF3SURnNUxqVWdNakF3SURJd01IcE5NVFl6TGpRZ016QTFMalZqT0RndU55QXdJREV6Tnk0eUxUY3pMalVnTVRNM0xqSXRNVE0zTGpJZ01DMHlMakVnTUMwMExqSXRMakV0Tmk0eUlEa3VOQzAyTGpnZ01UY3VOaTB4TlM0eklESTBMakV0TWpVdE9DNDJJRE11T0MweE55NDVJRFl1TkMweU55NDNJRGN1TmlBeE1DMDJJREUzTGpZdE1UVXVOQ0F5TVM0eUxUSTJMamN0T1M0eklEVXVOUzB4T1M0MklEa3VOUzB6TUM0MklERXhMamN0T0M0NExUa3VOQzB5TVM0ekxURTFMakl0TXpVdU1pMHhOUzR5TFRJMkxqWWdNQzAwT0M0eUlESXhMall0TkRndU1pQTBPQzR5SURBZ015NDRMalFnTnk0MUlERXVNeUF4TVMwME1DNHhMVEl0TnpVdU5pMHlNUzR5TFRrNUxqUXROVEF1TkMwMExqRWdOeTR4TFRZdU5TQXhOUzQwTFRZdU5TQXlOQzR5SURBZ01UWXVOeUE0TGpVZ016RXVOU0F5TVM0MUlEUXdMakV0Tnk0NUxTNHlMVEUxTGpNdE1pNDBMVEl4TGpndE5uWXVObU13SURJekxqUWdNVFl1TmlBME1pNDRJRE00TGpjZ05EY3VNeTAwSURFdU1TMDRMak1nTVM0M0xURXlMamNnTVM0M0xUTXVNU0F3TFRZdU1TMHVNeTA1TGpFdExqa2dOaTR4SURFNUxqSWdNak11T1NBek15NHhJRFExSURNekxqVXRNVFl1TlNBeE1pNDVMVE0zTGpNZ01qQXVOaTAxT1M0NUlESXdMall0TXk0NUlEQXROeTQzTFM0eUxURXhMalV0TGpjZ01qRXVNU0F4TXk0NElEUTJMalVnTWpFdU9DQTNNeTQzSURJeExqZ2lJR1pwYkd3OUlpTm1abVlpTHo0OEwzTjJaejQ9KX0uY2stbWVkaWFfX3dyYXBwZXJbZGF0YS1vZW1iZWQtdXJsKj1cInR3aXR0ZXIuY29tXCJdIC5jay5jay1tZWRpYV9fcGxhY2Vob2xkZXIgLmNrLW1lZGlhX19wbGFjZWhvbGRlcl9fdXJsX190ZXh0e2NvbG9yOiNiOGU2ZmZ9LmNrLW1lZGlhX193cmFwcGVyW2RhdGEtb2VtYmVkLXVybCo9XCJ0d2l0dGVyLmNvbVwiXSAuY2suY2stbWVkaWFfX3BsYWNlaG9sZGVyIC5jay1tZWRpYV9fcGxhY2Vob2xkZXJfX3VybF9fdGV4dDpob3Zlcntjb2xvcjojZmZmfS5jay1tZWRpYV9fd3JhcHBlcltkYXRhLW9lbWJlZC11cmwqPVwiZ29vZ2xlLmNvbS9tYXBzXCJdIC5jay1tZWRpYV9fcGxhY2Vob2xkZXJfX2ljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TlRBdU16YzRJaUJvWldsbmFIUTlJakkxTkM0eE5qY2lJSFpwWlhkQ2IzZzlJakFnTUNBMk5pNHlORFlnTmpjdU1qUTRJajQ4WnlCMGNtRnVjMlp2Y20wOUluUnlZVzV6YkdGMFpTZ3RNVGN5TGpVek1TQXRNakU0TGpRMU5Ta2djMk5oYkdVb0xqazRNREV5S1NJK1BISmxZM1FnY25rOUlqVXVNak00SWlCeWVEMGlOUzR5TXpnaUlIazlJakl6TVM0ek9Ua2lJSGc5SWpFM05pNHdNekVpSUdobGFXZG9kRDBpTmpBdU1EazVJaUIzYVdSMGFEMGlOakF1TURrNUlpQm1hV3hzUFNJak16UmhOalk0SWlCd1lXbHVkQzF2Y21SbGNqMGliV0Z5YTJWeWN5QnpkSEp2YTJVZ1ptbHNiQ0l2UGp4d1lYUm9JR1E5SWsweU1EWXVORGMzSURJMk1DNDViQzB5T0M0NU9EY2dNamd1T1RnM1lUVXVNakU0SURVdU1qRTRJREFnTUNBd0lETXVOemdnTVM0Mk1XZzBPUzQyTWpGak1TNDJPVFFnTUNBekxqRTVMUzQzT1RnZ05DNHhORFl0TWk0d016ZDZJaUJtYVd4c1BTSWpOV000T0dNMUlpOCtQSEJoZEdnZ1pEMGlUVEl5Tmk0M05ESWdNakl5TGprNE9HTXRPUzR5TmpZZ01DMHhOaTQzTnpjZ055NHhOeTB4Tmk0M056Y2dNVFl1TURFMExqQXdOeUF5TGpjMk1pNDJOak1nTlM0ME56UWdNaTR3T1RNZ055NDROelV1TkRNdU56QXpMamd6SURFdU5EQTRJREV1TVRrZ01pNHhNRGN1TXpNekxqVXdNaTQyTlNBeExqQXdOUzQ1TlNBeExqVXdPQzR6TkRNdU5EYzNMalkzTXk0NU5UY3VPVGc0SURFdU5EUWdNUzR6TVNBeExqYzJPU0F5TGpVZ015NDFNRElnTXk0Mk16Y2dOUzR4TmpndU56a3pJREV1TWpjMUlERXVOamd6SURJdU5qUWdNaTQwTmpZZ015NDVPU0F5TGpNMk15QTBMakE1TkNBMExqQXdOeUE0TGpBNU1pQTBMallnTVRNdU9URTBkaTR3TVRKakxqRTRNaTQwTVRJdU5URTJMalkyTmk0NE56a3VOalkzTGpRd015MHVNREF4TGpjMk9DMHVNekUwTGprekxTNDNPVGt1TmpBekxUVXVOelUySURJdU1qTTRMVGt1TnpJNUlEUXVOVGcxTFRFekxqYzVOQzQzT0RJdE1TNHpOU0F4TGpZM015MHlMamN4TlNBeUxqUTJOUzB6TGprNUlERXVNVE0zTFRFdU5qWTJJREl1TXpJNExUTXVOQ0F6TGpZek9DMDFMakUyT1M0ek1UVXRMalE0TWk0Mk5EVXRMamsyTWk0NU9EZ3RNUzQwTXprdU15MHVOVEF6TGpZeE55MHhMakF3Tmk0NU5TMHhMalV3T0M0ek5Ua3RMamN1TnpZdE1TNDBNRFFnTVM0eE9TMHlMakV3TnlBeExqUXlOaTB5TGpRd01pQXlMVFV1TVRFMElESXVNREEwTFRjdU9EYzFJREF0T0M0NE5EUXROeTQxTVRFdE1UWXVNREUwTFRFMkxqYzNOaTB4Tmk0d01UUjZJaUJtYVd4c1BTSWpaR1EwWWpObElpQndZV2x1ZEMxdmNtUmxjajBpYldGeWEyVnljeUJ6ZEhKdmEyVWdabWxzYkNJdlBqeGxiR3hwY0hObElISjVQU0kxTGpVMk5DSWdjbmc5SWpVdU9ESTRJaUJqZVQwaU1qTTVMakF3TWlJZ1kzZzlJakl5Tmk0M05ESWlJR1pwYkd3OUlpTTRNREprTWpjaUlIQmhhVzUwTFc5eVpHVnlQU0p0WVhKclpYSnpJSE4wY205clpTQm1hV3hzSWk4K1BIQmhkR2dnWkQwaVRURTVNQzR6TURFZ01qTTNMakk0TTJNdE5DNDJOeUF3TFRndU5EVTNJRE11T0RVekxUZ3VORFUzSURndU5qQTJjek11TnpnMklEZ3VOakEzSURndU5EVTNJRGd1TmpBM1l6TXVNRFF6SURBZ05DNDRNRFl0TGprMU9DQTJMak16TnkweUxqVXhOaUF4TGpVekxURXVOVFUzSURJdU1EZzNMVE11T1RFeklESXVNRGczTFRZdU1qa2dNQzB1TXpZeUxTNHdNak10TGpjeU1pMHVNRFkwTFRFdU1EYzVhQzA0TGpJMU4zWXpMakEwTTJnMExqZzFZeTB1TVRrM0xqYzFPUzB1TlRNeElERXVORFV0TVM0d05UZ2dNUzQ1T0RZdExqazBNaTQ1TlRndE1pNHdNamdnTVM0MU5EZ3RNeTQ1TURFZ01TNDFORGd0TWk0NE56WWdNQzAxTGpJd09DMHlMak0zTWkwMUxqSXdPQzAxTGpJNU9TQXdMVEl1T1RJMklESXVNek15TFRVdU1qazVJRFV1TWpBNExUVXVNams1SURFdU16azVJREFnTWk0Mk1UZ3VOREEzSURNdU5UZzBJREV1TWpremJESXVNemd4TFRJdU16aGpNQzB1TURBeUxTNHdNRE10TGpBd05DMHVNREEwTFM0d01EVXRNUzQxT0RndE1TNDFNalF0TXk0Mk1pMHlMakl4TlMwMUxqazFOUzB5TGpJeE5YcHROQzQwTXlBMUxqWTJiQzR3TURNdU1EQTJkaTB1TURBemVpSWdabWxzYkQwaUkyWm1aaUlnY0dGcGJuUXRiM0prWlhJOUltMWhjbXRsY25NZ2MzUnliMnRsSUdacGJHd2lMejQ4Y0dGMGFDQmtQU0pOTWpFMUxqRTROQ0F5TlRFdU9USTViQzAzTGprNElEY3VPVGM1SURJNExqUTNOeUF5T0M0ME56VmhOUzR5TXpNZ05TNHlNek1nTUNBd0lEQWdMalEwT1MweUxqRXlNM1l0TXpFdU1UWTFZeTB1TkRZNUxqWTNOUzB1T1RNMElERXVNelE1TFRFdU16Z3lJREl1TURBMUxTNDNPVElnTVM0eU56VXRNUzQyT0RJZ01pNDJOQzB5TGpRMk5TQXpMams1TFRJdU16UTNJRFF1TURZMUxUTXVPVGd5SURndU1ETTRMVFF1TlRnMUlERXpMamM1TkMwdU1UWXlMalE0TlMwdU5USTNMamM1T0MwdU9UTXVOems1TFM0ek5qTXRMakF3TVMwdU5qazNMUzR5TlRVdExqZzNPUzB1TmpZM2RpMHVNREV5WXkwdU5Ua3pMVFV1T0RJeUxUSXVNak0zTFRrdU9ESXROQzQyTFRFekxqa3hOQzB1TnpnekxURXVNelV0TVM0Mk56TXRNaTQzTVRVdE1pNDBOall0TXk0NU9TMHhMakV6TnkweExqWTJOaTB5TGpNeU55MHpMalF0TXk0Mk16Y3ROUzR4Tmpsc0xTNHdNREl0TGpBd00zb2lJR1pwYkd3OUlpTmpNMk16WXpNaUx6NDhjR0YwYUNCa1BTSk5NakV5TGprNE15QXlORGd1TkRrMWJDMHpOaTQ1TlRJZ016WXVPVFV6ZGk0NE1USmhOUzR5TWpjZ05TNHlNamNnTUNBd0lEQWdOUzR5TXpnZ05TNHlNemhvTVM0d01UVnNNelV1TmpZMkxUTTFMalkyTm1FeE16WXVNamMxSURFek5pNHlOelVnTUNBd0lEQXRNaTQzTmpRdE15NDVJRE0zTGpVM05TQXpOeTQxTnpVZ01DQXdJREF0TGprNE9TMHhMalEwSURNMUxqRXlOeUF6TlM0eE1qY2dNQ0F3SURBdExqazFMVEV1TlRBNFl5MHVNRGd6TFM0eE5qSXRMakUzTmkwdU16STJMUzR5TmpRdExqUTRPWG9pSUdacGJHdzlJaU5tWkdSak5HWWlJSEJoYVc1MExXOXlaR1Z5UFNKdFlYSnJaWEp6SUhOMGNtOXJaU0JtYVd4c0lpOCtQSEJoZEdnZ1pEMGlUVEl4TVM0NU9UZ2dNall4TGpBNE0yd3ROaTR4TlRJZ05pNHhOVEVnTWpRdU1qWTBJREkwTGpJMk5HZ3VOemd4WVRVdU1qSTNJRFV1TWpJM0lEQWdNQ0F3SURVdU1qTTVMVFV1TWpNNGRpMHhMakEwTlhvaUlHWnBiR3c5SWlObVptWWlJSEJoYVc1MExXOXlaR1Z5UFNKdFlYSnJaWEp6SUhOMGNtOXJaU0JtYVd4c0lpOCtQQzluUGp3dmMzWm5QZz09KX0uY2stbWVkaWFfX3dyYXBwZXJbZGF0YS1vZW1iZWQtdXJsKj1cImZhY2Vib29rLmNvbVwiXSAuY2stbWVkaWFfX3BsYWNlaG9sZGVye2JhY2tncm91bmQ6IzQyNjhiM30uY2stbWVkaWFfX3dyYXBwZXJbZGF0YS1vZW1iZWQtdXJsKj1cImZhY2Vib29rLmNvbVwiXSAuY2stbWVkaWFfX3BsYWNlaG9sZGVyIC5jay1tZWRpYV9fcGxhY2Vob2xkZXJfX2ljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCM2FXUjBhRDBpTVRBeU5DSWdhR1ZwWjJoMFBTSXhNREkwSWlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpUGp4d1lYUm9JR1E5SWswNU5qY3VORGcwSURCSU5UWXVOVEUzUXpJMUxqTXdOQ0F3SURBZ01qVXVNekEwSURBZ05UWXVOVEUzZGpreE1DNDVOalpETUNBNU9UZ3VOamswSURJMUxqSTVOeUF4TURJMElEVTJMalV5TWlBeE1ESTBTRFUwTjFZMk1qaElOREUwVmpRM00yZ3hNek5XTXpVNUxqQXlPV013TFRFek1pNHlOaklnT0RBdU56Y3pMVEl3TkM0eU9ESWdNVGs0TGpjMU5pMHlNRFF1TWpneUlEVTJMalV4TXlBd0lERXdOUzR3T0RZZ05DNHlNRGdnTVRFNUxqSTBOQ0EyTGpBNE9WWXlPVGxzTFRneExqWXhOaTR3TXpkakxUWXpMams1TXlBd0xUYzJMak00TkNBek1DNDBPVEl0TnpZdU16ZzBJRGMxTGpJek5sWTBOek5vTVRVekxqUTROMnd0TVRrdU9UZzJJREUxTlVnM01EZDJNemsyYURJMk1DNDBPRFJqTXpFdU1qRXpJREFnTlRZdU5URTJMVEkxTGpNd015QTFOaTQxTVRZdE5UWXVOVEUyVmpVMkxqVXhOVU14TURJMElESTFMak13TXlBNU9UZ3VOamszSURBZ09UWTNMalE0TkNBd0lpQm1hV3hzUFNJalJrWkdSa1pGSWlCbWFXeHNMWEoxYkdVOUltVjJaVzV2WkdRaUx6NDhMM04yWno0PSl9LmNrLW1lZGlhX193cmFwcGVyW2RhdGEtb2VtYmVkLXVybCo9XCJmYWNlYm9vay5jb21cIl0gLmNrLW1lZGlhX19wbGFjZWhvbGRlciAuY2stbWVkaWFfX3BsYWNlaG9sZGVyX191cmxfX3RleHR7Y29sb3I6I2NkZn0uY2stbWVkaWFfX3dyYXBwZXJbZGF0YS1vZW1iZWQtdXJsKj1cImZhY2Vib29rLmNvbVwiXSAuY2stbWVkaWFfX3BsYWNlaG9sZGVyIC5jay1tZWRpYV9fcGxhY2Vob2xkZXJfX3VybF9fdGV4dDpob3Zlcntjb2xvcjojZmZmfS5jay1tZWRpYV9fd3JhcHBlcltkYXRhLW9lbWJlZC11cmwqPVwiaW5zdGFncmFtLmNvbVwiXSAuY2stbWVkaWFfX3BsYWNlaG9sZGVye2JhY2tncm91bmQ6bGluZWFyLWdyYWRpZW50KC0xMzVkZWcsIzE0MDBjOCwjYjkwMGI0LCNmNTAwMDApfS5jay1tZWRpYV9fd3JhcHBlcltkYXRhLW9lbWJlZC11cmwqPVwiaW5zdGFncmFtLmNvbVwiXSAuY2stbWVkaWFfX3BsYWNlaG9sZGVyIC5jay1tZWRpYV9fcGxhY2Vob2xkZXJfX2ljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCM2FXUjBhRDBpTlRBMElpQm9aV2xuYUhROUlqVXdOQ0lnZUcxc2JuTTlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JaUI0Yld4dWN6cDRiR2x1YXowaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1UazVPUzk0YkdsdWF5SStQR1JsWm5NK1BIQmhkR2dnYVdROUltRWlJR1E5SWswd0lDNHhOVGxvTlRBekxqZzBNVlkxTURNdU9UUklNSG9pTHo0OEwyUmxabk0rUEdjZ1ptbHNiRDBpYm05dVpTSWdabWxzYkMxeWRXeGxQU0psZG1WdWIyUmtJajQ4YldGemF5QnBaRDBpWWlJZ1ptbHNiRDBpSTJabVppSStQSFZ6WlNCNGJHbHVhenBvY21WbVBTSWpZU0l2UGp3dmJXRnphejQ4Y0dGMGFDQmtQU0pOTWpVeExqa3lNUzR4TlRsakxUWTRMalF4T0NBd0xUYzJMams1Tnk0eU9TMHhNRE11T0RZM0lERXVOVEUyTFRJMkxqZ3hOQ0F4TGpJeU15MDBOUzR4TWpjZ05TNDBPREl0TmpFdU1UVXhJREV4TGpjeExURTJMalUyTmlBMkxqUXpOeTB6TUM0Mk1UVWdNVFV1TURVeExUUTBMall5TVNBeU9TNHdOVFl0TVRRdU1EQTFJREUwTGpBd05pMHlNaTQyTVRrZ01qZ3VNRFUxTFRJNUxqQTFOaUEwTkM0Mk1qRXROaTR5TWpnZ01UWXVNREkwTFRFd0xqUTROeUF6TkM0ek16Y3RNVEV1TnpFZ05qRXVNVFV4UXk0eU9TQXhOelV1TURneklEQWdNVGd6TGpZMk1pQXdJREkxTWk0d09HTXdJRFk0TGpReE55NHlPU0EzTmk0NU9UWWdNUzQxTVRZZ01UQXpMamcyTmlBeExqSXlNeUF5Tmk0NE1UUWdOUzQwT0RJZ05EVXVNVEkzSURFeExqY3hJRFl4TGpFMU1TQTJMalF6TnlBeE5pNDFOallnTVRVdU1EVXhJRE13TGpZeE5TQXlPUzR3TlRZZ05EUXVOakl4SURFMExqQXdOaUF4TkM0d01EVWdNamd1TURVMUlESXlMall4T1NBME5DNDJNakVnTWprdU1EVTNJREUyTGpBeU5DQTJMakl5TnlBek5DNHpNemNnTVRBdU5EZzJJRFl4TGpFMU1TQXhNUzQzTURrZ01qWXVPRGNnTVM0eU1qWWdNelV1TkRRNUlERXVOVEUySURFd015NDROamNnTVM0MU1UWWdOamd1TkRFM0lEQWdOell1T1RrMkxTNHlPU0F4TURNdU9EWTJMVEV1TlRFMklESTJMamd4TkMweExqSXlNeUEwTlM0eE1qY3ROUzQwT0RJZ05qRXVNVFV4TFRFeExqY3dPU0F4Tmk0MU5qWXROaTQwTXpnZ016QXVOakUxTFRFMUxqQTFNaUEwTkM0Mk1qRXRNamt1TURVM0lERTBMakF3TlMweE5DNHdNRFlnTWpJdU5qRTVMVEk0TGpBMU5TQXlPUzR3TlRjdE5EUXVOakl4SURZdU1qSTNMVEUyTGpBeU5DQXhNQzQwT0RZdE16UXVNek0zSURFeExqY3dPUzAyTVM0eE5URWdNUzR5TWpZdE1qWXVPRGNnTVM0MU1UWXRNelV1TkRRNUlERXVOVEUyTFRFd015NDROallnTUMwMk9DNDBNVGd0TGpJNUxUYzJMams1TnkweExqVXhOaTB4TURNdU9EWTNMVEV1TWpJekxUSTJMamd4TkMwMUxqUTRNaTAwTlM0eE1qY3RNVEV1TnpBNUxUWXhMakUxTVMwMkxqUXpPQzB4Tmk0MU5qWXRNVFV1TURVeUxUTXdMall4TlMweU9TNHdOVGN0TkRRdU5qSXhMVEUwTGpBd05pMHhOQzR3TURVdE1qZ3VNRFUxTFRJeUxqWXhPUzAwTkM0Mk1qRXRNamt1TURVMkxURTJMakF5TkMwMkxqSXlPQzB6TkM0ek16Y3RNVEF1TkRnM0xUWXhMakUxTVMweE1TNDNNVU16TWpndU9URTNMalEwT1NBek1qQXVNek00TGpFMU9TQXlOVEV1T1RJeExqRTFPWHB0TUNBME5TNHpPVEZqTmpjdU1qWTFJREFnTnpVdU1qTXpMakkxTnlBeE1ERXVOemszSURFdU5EWTVJREkwTGpVMk1pQXhMakV5SURNM0xqa3dNU0ExTGpJeU5DQTBOaTQzTnpnZ09DNDJOelFnTVRFdU56VTVJRFF1TlRjZ01qQXVNVFV4SURFd0xqQXlPU0F5T0M0NU5qWWdNVGd1T0RRMUlEZ3VPREUySURndU9ERTFJREUwTGpJM05TQXhOeTR5TURjZ01UZ3VPRFExSURJNExqazJOaUF6TGpRMUlEZ3VPRGMzSURjdU5UVTBJREl5TGpJeE5pQTRMalkzTkNBME5pNDNOemdnTVM0eU1USWdNall1TlRZMElERXVORFk1SURNMExqVXpNaUF4TGpRMk9TQXhNREV1TnprNElEQWdOamN1TWpZMUxTNHlOVGNnTnpVdU1qTXpMVEV1TkRZNUlERXdNUzQzT1RjdE1TNHhNaUF5TkM0MU5qSXROUzR5TWpRZ016Y3VPVEF4TFRndU5qYzBJRFEyTGpjM09DMDBMalUzSURFeExqYzFPUzB4TUM0d01qa2dNakF1TVRVeExURTRMamcwTlNBeU9DNDVOall0T0M0NE1UVWdPQzQ0TVRZdE1UY3VNakEzSURFMExqSTNOUzB5T0M0NU5qWWdNVGd1T0RRMUxUZ3VPRGMzSURNdU5EVXRNakl1TWpFMklEY3VOVFUwTFRRMkxqYzNPQ0E0TGpZM05DMHlOaTQxTmlBeExqSXhNaTB6TkM0MU1qY2dNUzQwTmprdE1UQXhMamM1TnlBeExqUTJPUzAyTnk0eU56RWdNQzAzTlM0eU16Y3RMakkxTnkweE1ERXVOems0TFRFdU5EWTVMVEkwTGpVMk1pMHhMakV5TFRNM0xqa3dNUzAxTGpJeU5DMDBOaTQzTnpndE9DNDJOelF0TVRFdU56VTVMVFF1TlRjdE1qQXVNVFV4TFRFd0xqQXlPUzB5T0M0NU5qWXRNVGd1T0RRMUxUZ3VPREUxTFRndU9ERTFMVEUwTGpJM05TMHhOeTR5TURjdE1UZ3VPRFExTFRJNExqazJOaTB6TGpRMUxUZ3VPRGMzTFRjdU5UVTBMVEl5TGpJeE5pMDRMalkzTkMwME5pNDNOemd0TVM0eU1USXRNall1TlRZMExURXVORFk1TFRNMExqVXpNaTB4TGpRMk9TMHhNREV1TnprM0lEQXROamN1TWpZMkxqSTFOeTAzTlM0eU16UWdNUzQwTmprdE1UQXhMamM1T0NBeExqRXlMVEkwTGpVMk1pQTFMakl5TkMwek55NDVNREVnT0M0Mk56UXRORFl1TnpjNElEUXVOVGN0TVRFdU56VTVJREV3TGpBeU9TMHlNQzR4TlRFZ01UZ3VPRFExTFRJNExqazJOaUE0TGpneE5TMDRMamd4TmlBeE55NHlNRGN0TVRRdU1qYzFJREk0TGprMk5pMHhPQzQ0TkRVZ09DNDROemN0TXk0ME5TQXlNaTR5TVRZdE55NDFOVFFnTkRZdU56YzRMVGd1TmpjMElESTJMalUyTkMweExqSXhNaUF6TkM0MU16SXRNUzQwTmprZ01UQXhMamM1T0MweExqUTJPWG9pSUdacGJHdzlJaU5HUmtZaUlHMWhjMnM5SW5WeWJDZ2pZaWtpTHo0OGNHRjBhQ0JrUFNKTk1qVXhMamt5TVNBek16WXVNRFV6WXkwME5pNHpOemdnTUMwNE15NDVOelF0TXpjdU5UazJMVGd6TGprM05DMDRNeTQ1TnpNZ01DMDBOaTR6TnpnZ016Y3VOVGsyTFRnekxqazNOQ0E0TXk0NU56UXRPRE11T1RjMElEUTJMak0zTnlBd0lEZ3pMamszTXlBek55NDFPVFlnT0RNdU9UY3pJRGd6TGprM05DQXdJRFEyTGpNM055MHpOeTQxT1RZZ09ETXVPVGN6TFRnekxqazNNeUE0TXk0NU56TjZiVEF0TWpFekxqTXpPR010TnpFdU5EUTNJREF0TVRJNUxqTTJOU0ExTnk0NU1UZ3RNVEk1TGpNMk5TQXhNamt1TXpZMUlEQWdOekV1TkRRMklEVTNMamt4T0NBeE1qa3VNelkwSURFeU9TNHpOalVnTVRJNUxqTTJOQ0EzTVM0ME5EWWdNQ0F4TWprdU16WTBMVFUzTGpreE9DQXhNamt1TXpZMExURXlPUzR6TmpRZ01DMDNNUzQwTkRjdE5UY3VPVEU0TFRFeU9TNHpOalV0TVRJNUxqTTJOQzB4TWprdU16WTFlazAwTVRZdU5qSTNJREV4Tnk0Mk1EUmpNQ0F4Tmk0Mk9UWXRNVE11TlRNMUlETXdMakl6TFRNd0xqSXpNU0F6TUM0eU15MHhOaTQyT1RVZ01DMHpNQzR5TXkweE15NDFNelF0TXpBdU1qTXRNekF1TWpNZ01DMHhOaTQyT1RZZ01UTXVOVE0xTFRNd0xqSXpNU0F6TUM0eU15MHpNQzR5TXpFZ01UWXVOamsySURBZ016QXVNak14SURFekxqVXpOU0F6TUM0eU16RWdNekF1TWpNeElpQm1hV3hzUFNJalJrWkdJaTgrUEM5blBqd3ZjM1puUGc9PSl9LmNrLW1lZGlhX193cmFwcGVyW2RhdGEtb2VtYmVkLXVybCo9XCJpbnN0YWdyYW0uY29tXCJdIC5jay1tZWRpYV9fcGxhY2Vob2xkZXIgLmNrLW1lZGlhX19wbGFjZWhvbGRlcl9fdXJsX190ZXh0e2NvbG9yOiNmZmUwZmV9LmNrLW1lZGlhX193cmFwcGVyW2RhdGEtb2VtYmVkLXVybCo9XCJpbnN0YWdyYW0uY29tXCJdIC5jay1tZWRpYV9fcGxhY2Vob2xkZXIgLmNrLW1lZGlhX19wbGFjZWhvbGRlcl9fdXJsX190ZXh0OmhvdmVye2NvbG9yOiNmZmZ9J30sZnVuY3Rpb24odCxlLG4pe3ZhciBvPW4oMTAzKTtcInN0cmluZ1wiPT10eXBlb2YgbyYmKG89W1t0LmksbyxcIlwiXV0pO3ZhciBpPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMikobyxpKTtvLmxvY2FscyYmKHQuZXhwb3J0cz1vLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLmNrLW1lZGlhLWZvcm17ZGlzcGxheTpmbGV4O2FsaWduLWl0ZW1zOmZsZXgtc3RhcnR9LmNrLmNrLW1lZGlhLWZvcm0gLmNrLWxhYmVsZWQtaW5wdXR7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmNrLmNrLW1lZGlhLWZvcm0gLmNrLWxhYmVse2Rpc3BsYXk6bm9uZX0uY2suY2stbWVkaWEtZm9ybXtwYWRkaW5nOnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpfS5jay5jay1tZWRpYS1mb3JtOmZvY3Vze291dGxpbmU6bm9uZX0uY2suY2stbWVkaWEtZm9ybT46bm90KDpmaXJzdC1jaGlsZCl7bWFyZ2luLWxlZnQ6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCl9XCJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1uKDEwNSk7XCJzdHJpbmdcIj09dHlwZW9mIG8mJihvPVtbdC5pLG8sXCJcIl1dKTt2YXIgaT17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDIpKG8saSk7by5sb2NhbHMmJih0LmV4cG9ydHM9by5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIjpyb290ey0tY2stY29sb3ItdGFibGUtZm9jdXNlZC1jZWxsLWJhY2tncm91bmQ6I2Y1ZmFmZX0uY2std2lkZ2V0LnRhYmxlIHRkLmNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlLmNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlX2ZvY3VzZWQsLmNrLXdpZGdldC50YWJsZSB0aC5jay1lZGl0b3JfX25lc3RlZC1lZGl0YWJsZS5jay1lZGl0b3JfX25lc3RlZC1lZGl0YWJsZV9mb2N1c2Vke2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItdGFibGUtZm9jdXNlZC1jZWxsLWJhY2tncm91bmQpO2JvcmRlci1zdHlsZTpub25lO291dGxpbmU6MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLWZvY3VzLWJvcmRlcik7b3V0bGluZS1vZmZzZXQ6LTFweH1cIn0sZnVuY3Rpb24odCxlLG4pe3ZhciBvPW4oMTA3KTtcInN0cmluZ1wiPT10eXBlb2YgbyYmKG89W1t0LmksbyxcIlwiXV0pO3ZhciBpPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMikobyxpKTtvLmxvY2FscyYmKHQuZXhwb3J0cz1vLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiOnJvb3R7LS1jay1pbnNlcnQtdGFibGUtZHJvcGRvd24tcGFkZGluZzoxMHB4Oy0tY2staW5zZXJ0LXRhYmxlLWRyb3Bkb3duLWJveC1oZWlnaHQ6MTFweDstLWNrLWluc2VydC10YWJsZS1kcm9wZG93bi1ib3gtd2lkdGg6MTJweDstLWNrLWluc2VydC10YWJsZS1kcm9wZG93bi1ib3gtbWFyZ2luOjFweDstLWNrLWluc2VydC10YWJsZS1kcm9wZG93bi1ib3gtYm9yZGVyLWNvbG9yOiNiZmJmYmY7LS1jay1pbnNlcnQtdGFibGUtZHJvcGRvd24tYm94LWJvcmRlci1hY3RpdmUtY29sb3I6IzUzYTBlNDstLWNrLWluc2VydC10YWJsZS1kcm9wZG93bi1ib3gtYWN0aXZlLWJhY2tncm91bmQ6I2M3ZTVmZn0uY2sgLmNrLWluc2VydC10YWJsZS1kcm9wZG93bl9fZ3JpZHtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93O2ZsZXgtd3JhcDp3cmFwO3dpZHRoOmNhbGModmFyKC0tY2staW5zZXJ0LXRhYmxlLWRyb3Bkb3duLWJveC13aWR0aCkgKiAxMCArIHZhcigtLWNrLWluc2VydC10YWJsZS1kcm9wZG93bi1ib3gtbWFyZ2luKSAqIDIwICsgdmFyKC0tY2staW5zZXJ0LXRhYmxlLWRyb3Bkb3duLXBhZGRpbmcpICogMik7cGFkZGluZzp2YXIoLS1jay1pbnNlcnQtdGFibGUtZHJvcGRvd24tcGFkZGluZykgdmFyKC0tY2staW5zZXJ0LXRhYmxlLWRyb3Bkb3duLXBhZGRpbmcpIDB9LmNrIC5jay1pbnNlcnQtdGFibGUtZHJvcGRvd25fX2xhYmVse3RleHQtYWxpZ246Y2VudGVyfS5jayAuY2staW5zZXJ0LXRhYmxlLWRyb3Bkb3duLWdyaWQtYm94e3dpZHRoOnZhcigtLWNrLWluc2VydC10YWJsZS1kcm9wZG93bi1ib3gtd2lkdGgpO2hlaWdodDp2YXIoLS1jay1pbnNlcnQtdGFibGUtZHJvcGRvd24tYm94LWhlaWdodCk7bWFyZ2luOnZhcigtLWNrLWluc2VydC10YWJsZS1kcm9wZG93bi1ib3gtbWFyZ2luKTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNrLWluc2VydC10YWJsZS1kcm9wZG93bi1ib3gtYm9yZGVyLWNvbG9yKTtib3JkZXItcmFkaXVzOjFweH0uY2sgLmNrLWluc2VydC10YWJsZS1kcm9wZG93bi1ncmlkLWJveC5jay1vbntib3JkZXItY29sb3I6dmFyKC0tY2staW5zZXJ0LXRhYmxlLWRyb3Bkb3duLWJveC1ib3JkZXItYWN0aXZlLWNvbG9yKTtiYWNrZ3JvdW5kOnZhcigtLWNrLWluc2VydC10YWJsZS1kcm9wZG93bi1ib3gtYWN0aXZlLWJhY2tncm91bmQpfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIG89bigxMDkpO1wic3RyaW5nXCI9PXR5cGVvZiBvJiYobz1bW3QuaSxvLFwiXCJdXSk7dmFyIGk9e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigyKShvLGkpO28ubG9jYWxzJiYodC5leHBvcnRzPW8ubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2stY29udGVudCAudGFibGV7bWFyZ2luOjFlbSBhdXRvO2Rpc3BsYXk6dGFibGV9LmNrLWNvbnRlbnQgLnRhYmxlIHRhYmxle2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTtib3JkZXItc3BhY2luZzowO2JvcmRlcjoxcHggZG91YmxlICNiM2IzYjN9LmNrLWNvbnRlbnQgLnRhYmxlIHRhYmxlIHRkLC5jay1jb250ZW50IC50YWJsZSB0YWJsZSB0aHttaW4td2lkdGg6MmVtO3BhZGRpbmc6LjRlbTtib3JkZXItY29sb3I6I2Q5ZDlkOX0uY2stY29udGVudCAudGFibGUgdGFibGUgdGh7Zm9udC13ZWlnaHQ6NzAwO2JhY2tncm91bmQ6I2ZhZmFmYX1cIn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24ucihlKTt2YXIgbz1uKDQpLGk9by5hLlN5bWJvbCxyPU9iamVjdC5wcm90b3R5cGUscz1yLmhhc093blByb3BlcnR5LGE9ci50b1N0cmluZyxjPWk/aS50b1N0cmluZ1RhZzp2b2lkIDA7dmFyIGw9ZnVuY3Rpb24odCl7dmFyIGU9cy5jYWxsKHQsYyksbj10W2NdO3RyeXt0W2NdPXZvaWQgMDt2YXIgbz0hMH1jYXRjaCh0KXt9dmFyIGk9YS5jYWxsKHQpO3JldHVybiBvJiYoZT90W2NdPW46ZGVsZXRlIHRbY10pLGl9LGQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZzt2YXIgdT1mdW5jdGlvbih0KXtyZXR1cm4gZC5jYWxsKHQpfSxoPVwiW29iamVjdCBOdWxsXVwiLGY9XCJbb2JqZWN0IFVuZGVmaW5lZF1cIixtPWk/aS50b1N0cmluZ1RhZzp2b2lkIDA7dmFyIGc9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/dm9pZCAwPT09dD9mOmg6bSYmbSBpbiBPYmplY3QodCk/bCh0KTp1KHQpfTt2YXIgcD1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gdChlKG4pKX19LGI9cChPYmplY3QuZ2V0UHJvdG90eXBlT2YsT2JqZWN0KTt2YXIgdz1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dCYmXCJvYmplY3RcIj09dHlwZW9mIHR9LF89XCJbb2JqZWN0IE9iamVjdF1cIix2PUZ1bmN0aW9uLnByb3RvdHlwZSxrPU9iamVjdC5wcm90b3R5cGUseT12LnRvU3RyaW5nLHg9ay5oYXNPd25Qcm9wZXJ0eSxBPXkuY2FsbChPYmplY3QpO3ZhciBDPWZ1bmN0aW9uKHQpe2lmKCF3KHQpfHxnKHQpIT1fKXJldHVybiExO3ZhciBlPWIodCk7aWYobnVsbD09PWUpcmV0dXJuITA7dmFyIG49eC5jYWxsKGUsXCJjb25zdHJ1Y3RvclwiKSYmZS5jb25zdHJ1Y3RvcjtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZuIGluc3RhbmNlb2YgbiYmeS5jYWxsKG4pPT1BfTtjbGFzcyBUe2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5fY29uZmlnPXt9LGUmJnRoaXMuZGVmaW5lKGUpLHQmJnRoaXMuX3NldE9iamVjdFRvVGFyZ2V0KHRoaXMuX2NvbmZpZyx0KX1zZXQodCxlKXt0aGlzLl9zZXRUb1RhcmdldCh0aGlzLl9jb25maWcsdCxlKX1kZWZpbmUodCxlKXt0aGlzLl9zZXRUb1RhcmdldCh0aGlzLl9jb25maWcsdCxlLCEwKX1nZXQodCl7cmV0dXJuIHRoaXMuX2dldEZyb21Tb3VyY2UodGhpcy5fY29uZmlnLHQpfV9zZXRUb1RhcmdldCh0LGUsbixvPSExKXtpZihDKGUpKXJldHVybiB2b2lkIHRoaXMuX3NldE9iamVjdFRvVGFyZ2V0KHQsZSxvKTtjb25zdCBpPWUuc3BsaXQoXCIuXCIpO2U9aS5wb3AoKTtmb3IoY29uc3QgZSBvZiBpKUModFtlXSl8fCh0W2VdPXt9KSx0PXRbZV07aWYoQyhuKSlyZXR1cm4gQyh0W2VdKXx8KHRbZV09e30pLHQ9dFtlXSx2b2lkIHRoaXMuX3NldE9iamVjdFRvVGFyZ2V0KHQsbixvKTtvJiZ2b2lkIDAhPT10W2VdfHwodFtlXT1uKX1fZ2V0RnJvbVNvdXJjZSh0LGUpe2NvbnN0IG49ZS5zcGxpdChcIi5cIik7ZT1uLnBvcCgpO2Zvcihjb25zdCBlIG9mIG4pe2lmKCFDKHRbZV0pKXt0PW51bGw7YnJlYWt9dD10W2VdfXJldHVybiB0P3RbZV06dm9pZCAwfV9zZXRPYmplY3RUb1RhcmdldCh0LGUsbil7T2JqZWN0LmtleXMoZSkuZm9yRWFjaChvPT57dGhpcy5fc2V0VG9UYXJnZXQodCxvLGVbb10sbil9KX19dmFyIE09bigwKTt2YXIgUD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiB0KCl7dC5jYWxsZWQ9ITB9fTtjbGFzcyBTe2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5zb3VyY2U9dCx0aGlzLm5hbWU9ZSx0aGlzLnBhdGg9W10sdGhpcy5zdG9wPVAoKSx0aGlzLm9mZj1QKCl9fWZ1bmN0aW9uIEUoKXtsZXQgdD1cImVcIjtmb3IobGV0IGU9MDtlPDg7ZSsrKXQrPU1hdGguZmxvb3IoNjU1MzYqKDErTWF0aC5yYW5kb20oKSkpLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSk7cmV0dXJuIHR9dmFyIEk9e2dldCh0KXtyZXR1cm5cIm51bWJlclwiIT10eXBlb2YgdD90aGlzW3RdfHx0aGlzLm5vcm1hbDp0fSxoaWdoZXN0OjFlNSxoaWdoOjFlMyxub3JtYWw6MCxsb3c6LTFlMyxsb3dlc3Q6LTFlNX07Y29uc3QgTj1TeW1ib2woXCJsaXN0ZW5pbmdUb1wiKSxPPVN5bWJvbChcImVtaXR0ZXJJZFwiKTt2YXIgUj17b24odCxlLG49e30pe3RoaXMubGlzdGVuVG8odGhpcyx0LGUsbil9LG9uY2UodCxlLG4pe3RoaXMubGlzdGVuVG8odGhpcyx0LGZ1bmN0aW9uKHQsLi4ubil7dC5vZmYoKSxlLmNhbGwodGhpcyx0LC4uLm4pfSxuKX0sb2ZmKHQsZSl7dGhpcy5zdG9wTGlzdGVuaW5nKHRoaXMsdCxlKX0sbGlzdGVuVG8odCxlLG4sbz17fSl7bGV0IGkscjt0aGlzW05dfHwodGhpc1tOXT17fSk7Y29uc3Qgcz10aGlzW05dO2oodCl8fEQodCk7Y29uc3QgYT1qKHQpOyhpPXNbYV0pfHwoaT1zW2FdPXtlbWl0dGVyOnQsY2FsbGJhY2tzOnt9fSksKHI9aS5jYWxsYmFja3NbZV0pfHwocj1pLmNhbGxiYWNrc1tlXT1bXSksci5wdXNoKG4pLGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1MKHQpO2lmKG5bZV0pcmV0dXJuO2xldCBvPWUsaT1udWxsO2NvbnN0IHI9W107Zm9yKDtcIlwiIT09byYmIW5bb107KW5bb109e2NhbGxiYWNrczpbXSxjaGlsZEV2ZW50czpbXX0sci5wdXNoKG5bb10pLGkmJm5bb10uY2hpbGRFdmVudHMucHVzaChpKSxpPW8sbz1vLnN1YnN0cigwLG8ubGFzdEluZGV4T2YoXCI6XCIpKTtpZihcIlwiIT09byl7Zm9yKGNvbnN0IHQgb2Ygcil0LmNhbGxiYWNrcz1uW29dLmNhbGxiYWNrcy5zbGljZSgpO25bb10uY2hpbGRFdmVudHMucHVzaChpKX19KHQsZSk7Y29uc3QgYz1WKHQsZSksbD1JLmdldChvLnByaW9yaXR5KSxkPXtjYWxsYmFjazpuLHByaW9yaXR5Omx9O2Zvcihjb25zdCB0IG9mIGMpe2xldCBlPSExO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKWlmKHRbbl0ucHJpb3JpdHk8bCl7dC5zcGxpY2UobiwwLGQpLGU9ITA7YnJlYWt9ZXx8dC5wdXNoKGQpfX0sc3RvcExpc3RlbmluZyh0LGUsbil7Y29uc3Qgbz10aGlzW05dO2xldCBpPXQmJmoodCk7Y29uc3Qgcj1vJiZpJiZvW2ldLHM9ciYmZSYmci5jYWxsYmFja3NbZV07aWYoISghb3x8dCYmIXJ8fGUmJiFzKSlpZihuKXoodCxlLG4pO2Vsc2UgaWYocyl7Zm9yKDtuPXMucG9wKCk7KXoodCxlLG4pO2RlbGV0ZSByLmNhbGxiYWNrc1tlXX1lbHNlIGlmKHIpe2ZvcihlIGluIHIuY2FsbGJhY2tzKXRoaXMuc3RvcExpc3RlbmluZyh0LGUpO2RlbGV0ZSBvW2ldfWVsc2V7Zm9yKGkgaW4gbyl0aGlzLnN0b3BMaXN0ZW5pbmcob1tpXS5lbWl0dGVyKTtkZWxldGUgdGhpc1tOXX19LGZpcmUodCwuLi5lKXtjb25zdCBuPXQgaW5zdGFuY2VvZiBTP3Q6bmV3IFModGhpcyx0KSxvPW4ubmFtZTtsZXQgaT1mdW5jdGlvbiB0KGUsbil7bGV0IG87aWYoIWUuX2V2ZW50c3x8IShvPWUuX2V2ZW50c1tuXSl8fCFvLmNhbGxiYWNrcy5sZW5ndGgpcmV0dXJuIG4uaW5kZXhPZihcIjpcIik+LTE/dChlLG4uc3Vic3RyKDAsbi5sYXN0SW5kZXhPZihcIjpcIikpKTpudWxsO3JldHVybiBvLmNhbGxiYWNrc30odGhpcyxvKTtpZihuLnBhdGgucHVzaCh0aGlzKSxpKXtjb25zdCB0PVtuLC4uLmVdO2k9QXJyYXkuZnJvbShpKTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoJiYoaVtlXS5jYWxsYmFjay5hcHBseSh0aGlzLHQpLG4ub2ZmLmNhbGxlZCYmKGRlbGV0ZSBuLm9mZi5jYWxsZWQseih0aGlzLG8saVtlXS5jYWxsYmFjaykpLCFuLnN0b3AuY2FsbGVkKTtlKyspO31pZih0aGlzLl9kZWxlZ2F0aW9ucyl7Y29uc3QgdD10aGlzLl9kZWxlZ2F0aW9ucy5nZXQobyksaT10aGlzLl9kZWxlZ2F0aW9ucy5nZXQoXCIqXCIpO3QmJkYodCxuLGUpLGkmJkYoaSxuLGUpfXJldHVybiBuLnJldHVybn0sZGVsZWdhdGUoLi4udCl7cmV0dXJue3RvOihlLG4pPT57dGhpcy5fZGVsZWdhdGlvbnN8fCh0aGlzLl9kZWxlZ2F0aW9ucz1uZXcgTWFwKTtmb3IoY29uc3QgbyBvZiB0KXtjb25zdCB0PXRoaXMuX2RlbGVnYXRpb25zLmdldChvKTt0P3Quc2V0KGUsbik6dGhpcy5fZGVsZWdhdGlvbnMuc2V0KG8sbmV3IE1hcChbW2Usbl1dKSl9fX19LHN0b3BEZWxlZ2F0aW5nKHQsZSl7aWYodGhpcy5fZGVsZWdhdGlvbnMpaWYodClpZihlKXtjb25zdCBuPXRoaXMuX2RlbGVnYXRpb25zLmdldCh0KTtuJiZuLmRlbGV0ZShlKX1lbHNlIHRoaXMuX2RlbGVnYXRpb25zLmRlbGV0ZSh0KTtlbHNlIHRoaXMuX2RlbGVnYXRpb25zLmNsZWFyKCl9fTtmdW5jdGlvbiBEKHQsZSl7dFtPXXx8KHRbT109ZXx8RSgpKX1mdW5jdGlvbiBqKHQpe3JldHVybiB0W09dfWZ1bmN0aW9uIEwodCl7cmV0dXJuIHQuX2V2ZW50c3x8T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfZXZlbnRzXCIse3ZhbHVlOnt9fSksdC5fZXZlbnRzfWZ1bmN0aW9uIFYodCxlKXtjb25zdCBuPUwodClbZV07aWYoIW4pcmV0dXJuW107bGV0IG89W24uY2FsbGJhY2tzXTtmb3IobGV0IGU9MDtlPG4uY2hpbGRFdmVudHMubGVuZ3RoO2UrKyl7Y29uc3QgaT1WKHQsbi5jaGlsZEV2ZW50c1tlXSk7bz1vLmNvbmNhdChpKX1yZXR1cm4gb31mdW5jdGlvbiBGKHQsZSxuKXtmb3IobGV0W28saV1vZiB0KXtpP1wiZnVuY3Rpb25cIj09dHlwZW9mIGkmJihpPWkoZS5uYW1lKSk6aT1lLm5hbWU7Y29uc3QgdD1uZXcgUyhlLnNvdXJjZSxpKTt0LnBhdGg9Wy4uLmUucGF0aF0sby5maXJlKHQsLi4ubil9fWZ1bmN0aW9uIHoodCxlLG4pe2NvbnN0IG89Vih0LGUpO2Zvcihjb25zdCB0IG9mIG8pZm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspdFtlXS5jYWxsYmFjaz09biYmKHQuc3BsaWNlKGUsMSksZS0tKX1mdW5jdGlvbiBCKHQsLi4uZSl7ZS5mb3JFYWNoKGU9PntPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKS5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKSkuZm9yRWFjaChuPT57aWYobiBpbiB0LnByb3RvdHlwZSlyZXR1cm47Y29uc3Qgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbik7by5lbnVtZXJhYmxlPSExLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxuLG8pfSl9KX1mdW5jdGlvbiBVKHQsZSl7Y29uc3Qgbj1NYXRoLm1pbih0Lmxlbmd0aCxlLmxlbmd0aCk7Zm9yKGxldCBvPTA7bzxuO28rKylpZih0W29dIT1lW29dKXJldHVybiBvO3JldHVybiB0Lmxlbmd0aD09ZS5sZW5ndGg/XCJzYW1lXCI6dC5sZW5ndGg8ZS5sZW5ndGg/XCJwcmVmaXhcIjpcImV4dGVuc2lvblwifXZhciBIPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1bXSx0aGlzLnNpemU9MH07dmFyIHE9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09PWV8fHQhPXQmJmUhPWV9O3ZhciBXPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPXQubGVuZ3RoO24tLTspaWYocSh0W25dWzBdLGUpKXJldHVybiBuO3JldHVybi0xfSxZPUFycmF5LnByb3RvdHlwZS5zcGxpY2U7dmFyIEc9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX2RhdGFfXyxuPVcoZSx0KTtyZXR1cm4hKG48MHx8KG49PWUubGVuZ3RoLTE/ZS5wb3AoKTpZLmNhbGwoZSxuLDEpLC0tdGhpcy5zaXplLDApKX07dmFyICQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX2RhdGFfXyxuPVcoZSx0KTtyZXR1cm4gbjwwP3ZvaWQgMDplW25dWzFdfTt2YXIgUT1mdW5jdGlvbih0KXtyZXR1cm4gVyh0aGlzLl9fZGF0YV9fLHQpPi0xfTt2YXIgSj1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX19kYXRhX18sbz1XKG4sdCk7cmV0dXJuIG88MD8oKyt0aGlzLnNpemUsbi5wdXNoKFt0LGVdKSk6bltvXVsxXT1lLHRoaXN9O2Z1bmN0aW9uIEsodCl7dmFyIGU9LTEsbj1udWxsPT10PzA6dC5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK2U8bjspe3ZhciBvPXRbZV07dGhpcy5zZXQob1swXSxvWzFdKX19Sy5wcm90b3R5cGUuY2xlYXI9SCxLLnByb3RvdHlwZS5kZWxldGU9RyxLLnByb3RvdHlwZS5nZXQ9JCxLLnByb3RvdHlwZS5oYXM9USxLLnByb3RvdHlwZS5zZXQ9Sjt2YXIgWj1LO3ZhciBYPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1uZXcgWix0aGlzLnNpemU9MH07dmFyIHR0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX19kYXRhX18sbj1lLmRlbGV0ZSh0KTtyZXR1cm4gdGhpcy5zaXplPWUuc2l6ZSxufTt2YXIgZXQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KHQpfTt2YXIgbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHQpfTt2YXIgb3Q9ZnVuY3Rpb24odCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuIG51bGwhPXQmJihcIm9iamVjdFwiPT1lfHxcImZ1bmN0aW9uXCI9PWUpfSxpdD1cIltvYmplY3QgQXN5bmNGdW5jdGlvbl1cIixydD1cIltvYmplY3QgRnVuY3Rpb25dXCIsc3Q9XCJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXVwiLGF0PVwiW29iamVjdCBQcm94eV1cIjt2YXIgY3Q9ZnVuY3Rpb24odCl7aWYoIW90KHQpKXJldHVybiExO3ZhciBlPWcodCk7cmV0dXJuIGU9PXJ0fHxlPT1zdHx8ZT09aXR8fGU9PWF0fSxsdD1vLmFbXCJfX2NvcmUtanNfc2hhcmVkX19cIl0sZHQ9ZnVuY3Rpb24oKXt2YXIgdD0vW14uXSskLy5leGVjKGx0JiZsdC5rZXlzJiZsdC5rZXlzLklFX1BST1RPfHxcIlwiKTtyZXR1cm4gdD9cIlN5bWJvbChzcmMpXzEuXCIrdDpcIlwifSgpO3ZhciB1dD1mdW5jdGlvbih0KXtyZXR1cm4hIWR0JiZkdCBpbiB0fSxodD1GdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7dmFyIGZ0PWZ1bmN0aW9uKHQpe2lmKG51bGwhPXQpe3RyeXtyZXR1cm4gaHQuY2FsbCh0KX1jYXRjaCh0KXt9dHJ5e3JldHVybiB0K1wiXCJ9Y2F0Y2godCl7fX1yZXR1cm5cIlwifSxtdD0vXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvLGd0PUZ1bmN0aW9uLnByb3RvdHlwZSxwdD1PYmplY3QucHJvdG90eXBlLGJ0PWd0LnRvU3RyaW5nLHd0PXB0Lmhhc093blByb3BlcnR5LF90PVJlZ0V4cChcIl5cIitidC5jYWxsKHd0KS5yZXBsYWNlKC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZyxcIlxcXFwkJlwiKS5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLFwiJDEuKj9cIikrXCIkXCIpO3ZhciB2dD1mdW5jdGlvbih0KXtyZXR1cm4hKCFvdCh0KXx8dXQodCkpJiYoY3QodCk/X3Q6bXQpLnRlc3QoZnQodCkpfTt2YXIga3Q9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbD09dD92b2lkIDA6dFtlXX07dmFyIHl0PWZ1bmN0aW9uKHQsZSl7dmFyIG49a3QodCxlKTtyZXR1cm4gdnQobik/bjp2b2lkIDB9LHh0PXl0KG8uYSxcIk1hcFwiKSxBdD15dChPYmplY3QsXCJjcmVhdGVcIik7dmFyIEN0PWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1BdD9BdChudWxsKTp7fSx0aGlzLnNpemU9MH07dmFyIFR0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuaGFzKHQpJiZkZWxldGUgdGhpcy5fX2RhdGFfX1t0XTtyZXR1cm4gdGhpcy5zaXplLT1lPzE6MCxlfSxNdD1cIl9fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX19cIixQdD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3ZhciBTdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9fZGF0YV9fO2lmKEF0KXt2YXIgbj1lW3RdO3JldHVybiBuPT09TXQ/dm9pZCAwOm59cmV0dXJuIFB0LmNhbGwoZSx0KT9lW3RdOnZvaWQgMH0sRXQ9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt2YXIgSXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fX2RhdGFfXztyZXR1cm4gQXQ/dm9pZCAwIT09ZVt0XTpFdC5jYWxsKGUsdCl9LE50PVwiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1wiO3ZhciBPdD1mdW5jdGlvbih0LGUpe3ZhciBuPXRoaXMuX19kYXRhX187cmV0dXJuIHRoaXMuc2l6ZSs9dGhpcy5oYXModCk/MDoxLG5bdF09QXQmJnZvaWQgMD09PWU/TnQ6ZSx0aGlzfTtmdW5jdGlvbiBSdCh0KXt2YXIgZT0tMSxuPW51bGw9PXQ/MDp0Lmxlbmd0aDtmb3IodGhpcy5jbGVhcigpOysrZTxuOyl7dmFyIG89dFtlXTt0aGlzLnNldChvWzBdLG9bMV0pfX1SdC5wcm90b3R5cGUuY2xlYXI9Q3QsUnQucHJvdG90eXBlLmRlbGV0ZT1UdCxSdC5wcm90b3R5cGUuZ2V0PVN0LFJ0LnByb3RvdHlwZS5oYXM9SXQsUnQucHJvdG90eXBlLnNldD1PdDt2YXIgRHQ9UnQ7dmFyIGp0PWZ1bmN0aW9uKCl7dGhpcy5zaXplPTAsdGhpcy5fX2RhdGFfXz17aGFzaDpuZXcgRHQsbWFwOm5ldyh4dHx8Wiksc3RyaW5nOm5ldyBEdH19O3ZhciBMdD1mdW5jdGlvbih0KXt2YXIgZT10eXBlb2YgdDtyZXR1cm5cInN0cmluZ1wiPT1lfHxcIm51bWJlclwiPT1lfHxcInN5bWJvbFwiPT1lfHxcImJvb2xlYW5cIj09ZT9cIl9fcHJvdG9fX1wiIT09dDpudWxsPT09dH07dmFyIFZ0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5fX2RhdGFfXztyZXR1cm4gTHQoZSk/bltcInN0cmluZ1wiPT10eXBlb2YgZT9cInN0cmluZ1wiOlwiaGFzaFwiXTpuLm1hcH07dmFyIEZ0PWZ1bmN0aW9uKHQpe3ZhciBlPVZ0KHRoaXMsdCkuZGVsZXRlKHQpO3JldHVybiB0aGlzLnNpemUtPWU/MTowLGV9O3ZhciB6dD1mdW5jdGlvbih0KXtyZXR1cm4gVnQodGhpcyx0KS5nZXQodCl9O3ZhciBCdD1mdW5jdGlvbih0KXtyZXR1cm4gVnQodGhpcyx0KS5oYXModCl9O3ZhciBVdD1mdW5jdGlvbih0LGUpe3ZhciBuPVZ0KHRoaXMsdCksbz1uLnNpemU7cmV0dXJuIG4uc2V0KHQsZSksdGhpcy5zaXplKz1uLnNpemU9PW8/MDoxLHRoaXN9O2Z1bmN0aW9uIEh0KHQpe3ZhciBlPS0xLG49bnVsbD09dD8wOnQubGVuZ3RoO2Zvcih0aGlzLmNsZWFyKCk7KytlPG47KXt2YXIgbz10W2VdO3RoaXMuc2V0KG9bMF0sb1sxXSl9fUh0LnByb3RvdHlwZS5jbGVhcj1qdCxIdC5wcm90b3R5cGUuZGVsZXRlPUZ0LEh0LnByb3RvdHlwZS5nZXQ9enQsSHQucHJvdG90eXBlLmhhcz1CdCxIdC5wcm90b3R5cGUuc2V0PVV0O3ZhciBxdD1IdCxXdD0yMDA7dmFyIFl0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fX2RhdGFfXztpZihuIGluc3RhbmNlb2YgWil7dmFyIG89bi5fX2RhdGFfXztpZigheHR8fG8ubGVuZ3RoPFd0LTEpcmV0dXJuIG8ucHVzaChbdCxlXSksdGhpcy5zaXplPSsrbi5zaXplLHRoaXM7bj10aGlzLl9fZGF0YV9fPW5ldyBxdChvKX1yZXR1cm4gbi5zZXQodCxlKSx0aGlzLnNpemU9bi5zaXplLHRoaXN9O2Z1bmN0aW9uIEd0KHQpe3ZhciBlPXRoaXMuX19kYXRhX189bmV3IFoodCk7dGhpcy5zaXplPWUuc2l6ZX1HdC5wcm90b3R5cGUuY2xlYXI9WCxHdC5wcm90b3R5cGUuZGVsZXRlPXR0LEd0LnByb3RvdHlwZS5nZXQ9ZXQsR3QucHJvdG90eXBlLmhhcz1udCxHdC5wcm90b3R5cGUuc2V0PVl0O3ZhciAkdD1HdDt2YXIgUXQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49LTEsbz1udWxsPT10PzA6dC5sZW5ndGg7KytuPG8mJiExIT09ZSh0W25dLG4sdCk7KTtyZXR1cm4gdH0sSnQ9ZnVuY3Rpb24oKXt0cnl7dmFyIHQ9eXQoT2JqZWN0LFwiZGVmaW5lUHJvcGVydHlcIik7cmV0dXJuIHQoe30sXCJcIix7fSksdH1jYXRjaCh0KXt9fSgpO3ZhciBLdD1mdW5jdGlvbih0LGUsbil7XCJfX3Byb3RvX19cIj09ZSYmSnQ/SnQodCxlLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMCx2YWx1ZTpuLHdyaXRhYmxlOiEwfSk6dFtlXT1ufSxadD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3ZhciBYdD1mdW5jdGlvbih0LGUsbil7dmFyIG89dFtlXTtadC5jYWxsKHQsZSkmJnEobyxuKSYmKHZvaWQgMCE9PW58fGUgaW4gdCl8fEt0KHQsZSxuKX07dmFyIHRlPWZ1bmN0aW9uKHQsZSxuLG8pe3ZhciBpPSFuO258fChuPXt9KTtmb3IodmFyIHI9LTEscz1lLmxlbmd0aDsrK3I8czspe3ZhciBhPWVbcl0sYz1vP28oblthXSx0W2FdLGEsbix0KTp2b2lkIDA7dm9pZCAwPT09YyYmKGM9dFthXSksaT9LdChuLGEsYyk6WHQobixhLGMpfXJldHVybiBufTt2YXIgZWU9ZnVuY3Rpb24odCxlKXtmb3IodmFyIG49LTEsbz1BcnJheSh0KTsrK248dDspb1tuXT1lKG4pO3JldHVybiBvfSxuZT1cIltvYmplY3QgQXJndW1lbnRzXVwiO3ZhciBvZT1mdW5jdGlvbih0KXtyZXR1cm4gdyh0KSYmZyh0KT09bmV9LGllPU9iamVjdC5wcm90b3R5cGUscmU9aWUuaGFzT3duUHJvcGVydHksc2U9aWUucHJvcGVydHlJc0VudW1lcmFibGUsYWU9b2UoZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKT9vZTpmdW5jdGlvbih0KXtyZXR1cm4gdyh0KSYmcmUuY2FsbCh0LFwiY2FsbGVlXCIpJiYhc2UuY2FsbCh0LFwiY2FsbGVlXCIpfSxjZT1BcnJheS5pc0FycmF5LGxlPW4oNiksZGU9OTAwNzE5OTI1NDc0MDk5MSx1ZT0vXig/OjB8WzEtOV1cXGQqKSQvO3ZhciBoZT1mdW5jdGlvbih0LGUpe3ZhciBuPXR5cGVvZiB0O3JldHVybiEhKGU9bnVsbD09ZT9kZTplKSYmKFwibnVtYmVyXCI9PW58fFwic3ltYm9sXCIhPW4mJnVlLnRlc3QodCkpJiZ0Pi0xJiZ0JTE9PTAmJnQ8ZX0sZmU9OTAwNzE5OTI1NDc0MDk5MTt2YXIgbWU9ZnVuY3Rpb24odCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQmJnQ+LTEmJnQlMT09MCYmdDw9ZmV9LGdlPXt9O2dlW1wiW29iamVjdCBGbG9hdDMyQXJyYXldXCJdPWdlW1wiW29iamVjdCBGbG9hdDY0QXJyYXldXCJdPWdlW1wiW29iamVjdCBJbnQ4QXJyYXldXCJdPWdlW1wiW29iamVjdCBJbnQxNkFycmF5XVwiXT1nZVtcIltvYmplY3QgSW50MzJBcnJheV1cIl09Z2VbXCJbb2JqZWN0IFVpbnQ4QXJyYXldXCJdPWdlW1wiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cIl09Z2VbXCJbb2JqZWN0IFVpbnQxNkFycmF5XVwiXT1nZVtcIltvYmplY3QgVWludDMyQXJyYXldXCJdPSEwLGdlW1wiW29iamVjdCBBcmd1bWVudHNdXCJdPWdlW1wiW29iamVjdCBBcnJheV1cIl09Z2VbXCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiXT1nZVtcIltvYmplY3QgQm9vbGVhbl1cIl09Z2VbXCJbb2JqZWN0IERhdGFWaWV3XVwiXT1nZVtcIltvYmplY3QgRGF0ZV1cIl09Z2VbXCJbb2JqZWN0IEVycm9yXVwiXT1nZVtcIltvYmplY3QgRnVuY3Rpb25dXCJdPWdlW1wiW29iamVjdCBNYXBdXCJdPWdlW1wiW29iamVjdCBOdW1iZXJdXCJdPWdlW1wiW29iamVjdCBPYmplY3RdXCJdPWdlW1wiW29iamVjdCBSZWdFeHBdXCJdPWdlW1wiW29iamVjdCBTZXRdXCJdPWdlW1wiW29iamVjdCBTdHJpbmddXCJdPWdlW1wiW29iamVjdCBXZWFrTWFwXVwiXT0hMTt2YXIgcGU9ZnVuY3Rpb24odCl7cmV0dXJuIHcodCkmJm1lKHQubGVuZ3RoKSYmISFnZVtnKHQpXX07dmFyIGJlPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdChlKX19LHdlPW4oNSksX2U9d2UuYSYmd2UuYS5pc1R5cGVkQXJyYXksdmU9X2U/YmUoX2UpOnBlLGtlPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dmFyIHllPWZ1bmN0aW9uKHQsZSl7dmFyIG49Y2UodCksbz0hbiYmYWUodCksaT0hbiYmIW8mJk9iamVjdChsZS5hKSh0KSxyPSFuJiYhbyYmIWkmJnZlKHQpLHM9bnx8b3x8aXx8cixhPXM/ZWUodC5sZW5ndGgsU3RyaW5nKTpbXSxjPWEubGVuZ3RoO2Zvcih2YXIgbCBpbiB0KSFlJiYha2UuY2FsbCh0LGwpfHxzJiYoXCJsZW5ndGhcIj09bHx8aSYmKFwib2Zmc2V0XCI9PWx8fFwicGFyZW50XCI9PWwpfHxyJiYoXCJidWZmZXJcIj09bHx8XCJieXRlTGVuZ3RoXCI9PWx8fFwiYnl0ZU9mZnNldFwiPT1sKXx8aGUobCxjKSl8fGEucHVzaChsKTtyZXR1cm4gYX0seGU9T2JqZWN0LnByb3RvdHlwZTt2YXIgQWU9ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5jb25zdHJ1Y3RvcjtyZXR1cm4gdD09PShcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZlLnByb3RvdHlwZXx8eGUpfSxDZT1wKE9iamVjdC5rZXlzLE9iamVjdCksVGU9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt2YXIgTWU9ZnVuY3Rpb24odCl7aWYoIUFlKHQpKXJldHVybiBDZSh0KTt2YXIgZT1bXTtmb3IodmFyIG4gaW4gT2JqZWN0KHQpKVRlLmNhbGwodCxuKSYmXCJjb25zdHJ1Y3RvclwiIT1uJiZlLnB1c2gobik7cmV0dXJuIGV9O3ZhciBQZT1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dCYmbWUodC5sZW5ndGgpJiYhY3QodCl9O3ZhciBTZT1mdW5jdGlvbih0KXtyZXR1cm4gUGUodCk/eWUodCk6TWUodCl9O3ZhciBFZT1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZ0ZShlLFNlKGUpLHQpfTt2YXIgSWU9ZnVuY3Rpb24odCl7dmFyIGU9W107aWYobnVsbCE9dClmb3IodmFyIG4gaW4gT2JqZWN0KHQpKWUucHVzaChuKTtyZXR1cm4gZX0sTmU9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt2YXIgT2U9ZnVuY3Rpb24odCl7aWYoIW90KHQpKXJldHVybiBJZSh0KTt2YXIgZT1BZSh0KSxuPVtdO2Zvcih2YXIgbyBpbiB0KShcImNvbnN0cnVjdG9yXCIhPW98fCFlJiZOZS5jYWxsKHQsbykpJiZuLnB1c2gobyk7cmV0dXJuIG59O3ZhciBSZT1mdW5jdGlvbih0KXtyZXR1cm4gUGUodCk/eWUodCwhMCk6T2UodCl9O3ZhciBEZT1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZ0ZShlLFJlKGUpLHQpfSxqZT1uKDE5KTt2YXIgTGU9ZnVuY3Rpb24odCxlKXt2YXIgbj0tMSxvPXQubGVuZ3RoO2ZvcihlfHwoZT1BcnJheShvKSk7KytuPG87KWVbbl09dFtuXTtyZXR1cm4gZX07dmFyIFZlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPS0xLG89bnVsbD09dD8wOnQubGVuZ3RoLGk9MCxyPVtdOysrbjxvOyl7dmFyIHM9dFtuXTtlKHMsbix0KSYmKHJbaSsrXT1zKX1yZXR1cm4gcn07dmFyIEZlPWZ1bmN0aW9uKCl7cmV0dXJuW119LHplPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsQmU9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxVZT1CZT9mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD9bXToodD1PYmplY3QodCksVmUoQmUodCksZnVuY3Rpb24oZSl7cmV0dXJuIHplLmNhbGwodCxlKX0pKX06RmU7dmFyIEhlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRlKHQsVWUodCksZSl9O3ZhciBxZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0tMSxvPWUubGVuZ3RoLGk9dC5sZW5ndGg7KytuPG87KXRbaStuXT1lW25dO3JldHVybiB0fSxXZT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzP2Z1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXTt0OylxZShlLFVlKHQpKSx0PWIodCk7cmV0dXJuIGV9OkZlO3ZhciBZZT1mdW5jdGlvbih0LGUpe3JldHVybiB0ZSh0LFdlKHQpLGUpfTt2YXIgR2U9ZnVuY3Rpb24odCxlLG4pe3ZhciBvPWUodCk7cmV0dXJuIGNlKHQpP286cWUobyxuKHQpKX07dmFyICRlPWZ1bmN0aW9uKHQpe3JldHVybiBHZSh0LFNlLFVlKX07dmFyIFFlPWZ1bmN0aW9uKHQpe3JldHVybiBHZSh0LFJlLFdlKX0sSmU9eXQoby5hLFwiRGF0YVZpZXdcIiksS2U9eXQoby5hLFwiUHJvbWlzZVwiKSxaZT15dChvLmEsXCJTZXRcIiksWGU9eXQoby5hLFwiV2Vha01hcFwiKSx0bj1mdChKZSksZW49ZnQoeHQpLG5uPWZ0KEtlKSxvbj1mdChaZSkscm49ZnQoWGUpLHNuPWc7KEplJiZcIltvYmplY3QgRGF0YVZpZXddXCIhPXNuKG5ldyBKZShuZXcgQXJyYXlCdWZmZXIoMSkpKXx8eHQmJlwiW29iamVjdCBNYXBdXCIhPXNuKG5ldyB4dCl8fEtlJiZcIltvYmplY3QgUHJvbWlzZV1cIiE9c24oS2UucmVzb2x2ZSgpKXx8WmUmJlwiW29iamVjdCBTZXRdXCIhPXNuKG5ldyBaZSl8fFhlJiZcIltvYmplY3QgV2Vha01hcF1cIiE9c24obmV3IFhlKSkmJihzbj1mdW5jdGlvbih0KXt2YXIgZT1nKHQpLG49XCJbb2JqZWN0IE9iamVjdF1cIj09ZT90LmNvbnN0cnVjdG9yOnZvaWQgMCxvPW4/ZnQobik6XCJcIjtpZihvKXN3aXRjaChvKXtjYXNlIHRuOnJldHVyblwiW29iamVjdCBEYXRhVmlld11cIjtjYXNlIGVuOnJldHVyblwiW29iamVjdCBNYXBdXCI7Y2FzZSBubjpyZXR1cm5cIltvYmplY3QgUHJvbWlzZV1cIjtjYXNlIG9uOnJldHVyblwiW29iamVjdCBTZXRdXCI7Y2FzZSBybjpyZXR1cm5cIltvYmplY3QgV2Vha01hcF1cIn1yZXR1cm4gZX0pO3ZhciBhbj1zbixjbj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3ZhciBsbj1mdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aCxuPW5ldyB0LmNvbnN0cnVjdG9yKGUpO3JldHVybiBlJiZcInN0cmluZ1wiPT10eXBlb2YgdFswXSYmY24uY2FsbCh0LFwiaW5kZXhcIikmJihuLmluZGV4PXQuaW5kZXgsbi5pbnB1dD10LmlucHV0KSxufSxkbj1vLmEuVWludDhBcnJheTt2YXIgdW49ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHQuY29uc3RydWN0b3IodC5ieXRlTGVuZ3RoKTtyZXR1cm4gbmV3IGRuKGUpLnNldChuZXcgZG4odCkpLGV9O3ZhciBobj1mdW5jdGlvbih0LGUpe3ZhciBuPWU/dW4odC5idWZmZXIpOnQuYnVmZmVyO3JldHVybiBuZXcgdC5jb25zdHJ1Y3RvcihuLHQuYnl0ZU9mZnNldCx0LmJ5dGVMZW5ndGgpfSxmbj0vXFx3KiQvO3ZhciBtbj1mdW5jdGlvbih0KXt2YXIgZT1uZXcgdC5jb25zdHJ1Y3Rvcih0LnNvdXJjZSxmbi5leGVjKHQpKTtyZXR1cm4gZS5sYXN0SW5kZXg9dC5sYXN0SW5kZXgsZX0sZ249aT9pLnByb3RvdHlwZTp2b2lkIDAscG49Z24/Z24udmFsdWVPZjp2b2lkIDA7dmFyIGJuPWZ1bmN0aW9uKHQpe3JldHVybiBwbj9PYmplY3QocG4uY2FsbCh0KSk6e319O3ZhciB3bj1mdW5jdGlvbih0LGUpe3ZhciBuPWU/dW4odC5idWZmZXIpOnQuYnVmZmVyO3JldHVybiBuZXcgdC5jb25zdHJ1Y3RvcihuLHQuYnl0ZU9mZnNldCx0Lmxlbmd0aCl9LF9uPVwiW29iamVjdCBCb29sZWFuXVwiLHZuPVwiW29iamVjdCBEYXRlXVwiLGtuPVwiW29iamVjdCBNYXBdXCIseW49XCJbb2JqZWN0IE51bWJlcl1cIix4bj1cIltvYmplY3QgUmVnRXhwXVwiLEFuPVwiW29iamVjdCBTZXRdXCIsQ249XCJbb2JqZWN0IFN0cmluZ11cIixUbj1cIltvYmplY3QgU3ltYm9sXVwiLE1uPVwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIixQbj1cIltvYmplY3QgRGF0YVZpZXddXCIsU249XCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIixFbj1cIltvYmplY3QgRmxvYXQ2NEFycmF5XVwiLEluPVwiW29iamVjdCBJbnQ4QXJyYXldXCIsTm49XCJbb2JqZWN0IEludDE2QXJyYXldXCIsT249XCJbb2JqZWN0IEludDMyQXJyYXldXCIsUm49XCJbb2JqZWN0IFVpbnQ4QXJyYXldXCIsRG49XCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XVwiLGpuPVwiW29iamVjdCBVaW50MTZBcnJheV1cIixMbj1cIltvYmplY3QgVWludDMyQXJyYXldXCI7dmFyIFZuPWZ1bmN0aW9uKHQsZSxuKXt2YXIgbz10LmNvbnN0cnVjdG9yO3N3aXRjaChlKXtjYXNlIE1uOnJldHVybiB1bih0KTtjYXNlIF9uOmNhc2Ugdm46cmV0dXJuIG5ldyBvKCt0KTtjYXNlIFBuOnJldHVybiBobih0LG4pO2Nhc2UgU246Y2FzZSBFbjpjYXNlIEluOmNhc2UgTm46Y2FzZSBPbjpjYXNlIFJuOmNhc2UgRG46Y2FzZSBqbjpjYXNlIExuOnJldHVybiB3bih0LG4pO2Nhc2Uga246cmV0dXJuIG5ldyBvO2Nhc2UgeW46Y2FzZSBDbjpyZXR1cm4gbmV3IG8odCk7Y2FzZSB4bjpyZXR1cm4gbW4odCk7Y2FzZSBBbjpyZXR1cm4gbmV3IG87Y2FzZSBUbjpyZXR1cm4gYm4odCl9fSxGbj1PYmplY3QuY3JlYXRlLHpuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gZnVuY3Rpb24oZSl7aWYoIW90KGUpKXJldHVybnt9O2lmKEZuKXJldHVybiBGbihlKTt0LnByb3RvdHlwZT1lO3ZhciBuPW5ldyB0O3JldHVybiB0LnByb3RvdHlwZT12b2lkIDAsbn19KCk7dmFyIEJuPWZ1bmN0aW9uKHQpe3JldHVyblwiZnVuY3Rpb25cIiE9dHlwZW9mIHQuY29uc3RydWN0b3J8fEFlKHQpP3t9OnpuKGIodCkpfSxVbj1cIltvYmplY3QgTWFwXVwiO3ZhciBIbj1mdW5jdGlvbih0KXtyZXR1cm4gdyh0KSYmYW4odCk9PVVufSxxbj13ZS5hJiZ3ZS5hLmlzTWFwLFduPXFuP2JlKHFuKTpIbixZbj1cIltvYmplY3QgU2V0XVwiO3ZhciBHbj1mdW5jdGlvbih0KXtyZXR1cm4gdyh0KSYmYW4odCk9PVlufSwkbj13ZS5hJiZ3ZS5hLmlzU2V0LFFuPSRuP2JlKCRuKTpHbixKbj0xLEtuPTIsWm49NCxYbj1cIltvYmplY3QgQXJndW1lbnRzXVwiLHRvPVwiW29iamVjdCBGdW5jdGlvbl1cIixlbz1cIltvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dXCIsbm89XCJbb2JqZWN0IE9iamVjdF1cIixvbz17fTtvb1tYbl09b29bXCJbb2JqZWN0IEFycmF5XVwiXT1vb1tcIltvYmplY3QgQXJyYXlCdWZmZXJdXCJdPW9vW1wiW29iamVjdCBEYXRhVmlld11cIl09b29bXCJbb2JqZWN0IEJvb2xlYW5dXCJdPW9vW1wiW29iamVjdCBEYXRlXVwiXT1vb1tcIltvYmplY3QgRmxvYXQzMkFycmF5XVwiXT1vb1tcIltvYmplY3QgRmxvYXQ2NEFycmF5XVwiXT1vb1tcIltvYmplY3QgSW50OEFycmF5XVwiXT1vb1tcIltvYmplY3QgSW50MTZBcnJheV1cIl09b29bXCJbb2JqZWN0IEludDMyQXJyYXldXCJdPW9vW1wiW29iamVjdCBNYXBdXCJdPW9vW1wiW29iamVjdCBOdW1iZXJdXCJdPW9vW25vXT1vb1tcIltvYmplY3QgUmVnRXhwXVwiXT1vb1tcIltvYmplY3QgU2V0XVwiXT1vb1tcIltvYmplY3QgU3RyaW5nXVwiXT1vb1tcIltvYmplY3QgU3ltYm9sXVwiXT1vb1tcIltvYmplY3QgVWludDhBcnJheV1cIl09b29bXCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XVwiXT1vb1tcIltvYmplY3QgVWludDE2QXJyYXldXCJdPW9vW1wiW29iamVjdCBVaW50MzJBcnJheV1cIl09ITAsb29bXCJbb2JqZWN0IEVycm9yXVwiXT1vb1t0b109b29bXCJbb2JqZWN0IFdlYWtNYXBdXCJdPSExO3ZhciBpbz1mdW5jdGlvbiB0KGUsbixvLGkscixzKXt2YXIgYSxjPW4mSm4sbD1uJktuLGQ9biZabjtpZihvJiYoYT1yP28oZSxpLHIscyk6byhlKSksdm9pZCAwIT09YSlyZXR1cm4gYTtpZighb3QoZSkpcmV0dXJuIGU7dmFyIHU9Y2UoZSk7aWYodSl7aWYoYT1sbihlKSwhYylyZXR1cm4gTGUoZSxhKX1lbHNle3ZhciBoPWFuKGUpLGY9aD09dG98fGg9PWVvO2lmKE9iamVjdChsZS5hKShlKSlyZXR1cm4gT2JqZWN0KGplLmEpKGUsYyk7aWYoaD09bm98fGg9PVhufHxmJiYhcil7aWYoYT1sfHxmP3t9OkJuKGUpLCFjKXJldHVybiBsP1llKGUsRGUoYSxlKSk6SGUoZSxFZShhLGUpKX1lbHNle2lmKCFvb1toXSlyZXR1cm4gcj9lOnt9O2E9Vm4oZSxoLGMpfX1zfHwocz1uZXcgJHQpO3ZhciBtPXMuZ2V0KGUpO2lmKG0pcmV0dXJuIG07aWYocy5zZXQoZSxhKSxRbihlKSlyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGkpe2EuYWRkKHQoaSxuLG8saSxlLHMpKX0pLGE7aWYoV24oZSkpcmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihpLHIpe2Euc2V0KHIsdChpLG4sbyxyLGUscykpfSksYTt2YXIgZz1kP2w/UWU6JGU6bD9rZXlzSW46U2UscD11P3ZvaWQgMDpnKGUpO3JldHVybiBRdChwfHxlLGZ1bmN0aW9uKGkscil7cCYmKGk9ZVtyPWldKSxYdChhLHIsdChpLG4sbyxyLGUscykpfSksYX0scm89NDt2YXIgc289ZnVuY3Rpb24odCl7cmV0dXJuIGlvKHQscm8pfTtjbGFzcyBhb3tjb25zdHJ1Y3Rvcigpe3RoaXMucGFyZW50PW51bGx9Z2V0IGluZGV4KCl7bGV0IHQ7aWYoIXRoaXMucGFyZW50KXJldHVybiBudWxsO2lmKC0xPT0odD10aGlzLnBhcmVudC5nZXRDaGlsZEluZGV4KHRoaXMpKSl0aHJvdyBuZXcgTS5iKFwidmlldy1ub2RlLW5vdC1mb3VuZC1pbi1wYXJlbnQ6IFRoZSBub2RlJ3MgcGFyZW50IGRvZXMgbm90IGNvbnRhaW4gdGhpcyBub2RlLlwiKTtyZXR1cm4gdH1nZXQgbmV4dFNpYmxpbmcoKXtjb25zdCB0PXRoaXMuaW5kZXg7cmV0dXJuIG51bGwhPT10JiZ0aGlzLnBhcmVudC5nZXRDaGlsZCh0KzEpfHxudWxsfWdldCBwcmV2aW91c1NpYmxpbmcoKXtjb25zdCB0PXRoaXMuaW5kZXg7cmV0dXJuIG51bGwhPT10JiZ0aGlzLnBhcmVudC5nZXRDaGlsZCh0LTEpfHxudWxsfWdldCByb290KCl7bGV0IHQ9dGhpcztmb3IoO3QucGFyZW50Oyl0PXQucGFyZW50O3JldHVybiB0fWdldCBkb2N1bWVudCgpe3JldHVybiB0aGlzLnBhcmVudCBpbnN0YW5jZW9mIGFvP3RoaXMucGFyZW50LmRvY3VtZW50Om51bGx9Z2V0UGF0aCgpe2NvbnN0IHQ9W107bGV0IGU9dGhpcztmb3IoO2UucGFyZW50Oyl0LnVuc2hpZnQoZS5pbmRleCksZT1lLnBhcmVudDtyZXR1cm4gdH1nZXRBbmNlc3RvcnModD17aW5jbHVkZVNlbGY6ITEscGFyZW50Rmlyc3Q6ITF9KXtjb25zdCBlPVtdO2xldCBuPXQuaW5jbHVkZVNlbGY/dGhpczp0aGlzLnBhcmVudDtmb3IoO247KWVbdC5wYXJlbnRGaXJzdD9cInB1c2hcIjpcInVuc2hpZnRcIl0obiksbj1uLnBhcmVudDtyZXR1cm4gZX1nZXRDb21tb25BbmNlc3Rvcih0LGU9e30pe2NvbnN0IG49dGhpcy5nZXRBbmNlc3RvcnMoZSksbz10LmdldEFuY2VzdG9ycyhlKTtsZXQgaT0wO2Zvcig7bltpXT09b1tpXSYmbltpXTspaSsrO3JldHVybiAwPT09aT9udWxsOm5baS0xXX1pc0JlZm9yZSh0KXtpZih0aGlzPT10KXJldHVybiExO2lmKHRoaXMucm9vdCE9PXQucm9vdClyZXR1cm4hMTtjb25zdCBlPXRoaXMuZ2V0UGF0aCgpLG49dC5nZXRQYXRoKCksbz1VKGUsbik7c3dpdGNoKG8pe2Nhc2VcInByZWZpeFwiOnJldHVybiEwO2Nhc2VcImV4dGVuc2lvblwiOnJldHVybiExO2RlZmF1bHQ6cmV0dXJuIGVbb108bltvXX19aXNBZnRlcih0KXtyZXR1cm4gdGhpcyE9dCYmKHRoaXMucm9vdD09PXQucm9vdCYmIXRoaXMuaXNCZWZvcmUodCkpfV9yZW1vdmUoKXt0aGlzLnBhcmVudC5fcmVtb3ZlQ2hpbGRyZW4odGhpcy5pbmRleCl9X2ZpcmVDaGFuZ2UodCxlKXt0aGlzLmZpcmUoXCJjaGFuZ2U6XCIrdCxlKSx0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuX2ZpcmVDaGFuZ2UodCxlKX10b0pTT04oKXtjb25zdCB0PXNvKHRoaXMpO3JldHVybiBkZWxldGUgdC5wYXJlbnQsdH1pcyh0KXtyZXR1cm5cIm5vZGVcIj09dH19QihhbyxSKTtjbGFzcyBjbyBleHRlbmRzIGFve2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5fdGV4dERhdGE9dH1pcyh0KXtyZXR1cm5cInRleHRcIj09dHx8c3VwZXIuaXModCl9Z2V0IGRhdGEoKXtyZXR1cm4gdGhpcy5fdGV4dERhdGF9Z2V0IF9kYXRhKCl7cmV0dXJuIHRoaXMuZGF0YX1zZXQgX2RhdGEodCl7dGhpcy5fZmlyZUNoYW5nZShcInRleHRcIix0aGlzKSx0aGlzLl90ZXh0RGF0YT10fWlzU2ltaWxhcih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGNvJiYodGhpcz09PXR8fHRoaXMuZGF0YT09PXQuZGF0YSl9X2Nsb25lKCl7cmV0dXJuIG5ldyBjbyh0aGlzLmRhdGEpfX1jbGFzcyBsb3tjb25zdHJ1Y3Rvcih0LGUsbil7aWYodGhpcy50ZXh0Tm9kZT10LGU8MHx8ZT50LmRhdGEubGVuZ3RoKXRocm93IG5ldyBNLmIoXCJ2aWV3LXRleHRwcm94eS13cm9uZy1vZmZzZXRpbnRleHQ6IEdpdmVuIG9mZnNldEluVGV4dCB2YWx1ZSBpcyBpbmNvcnJlY3QuXCIpO2lmKG48MHx8ZStuPnQuZGF0YS5sZW5ndGgpdGhyb3cgbmV3IE0uYihcInZpZXctdGV4dHByb3h5LXdyb25nLWxlbmd0aDogR2l2ZW4gbGVuZ3RoIHZhbHVlIGlzIGluY29ycmVjdC5cIik7dGhpcy5kYXRhPXQuZGF0YS5zdWJzdHJpbmcoZSxlK24pLHRoaXMub2Zmc2V0SW5UZXh0PWV9Z2V0IG9mZnNldFNpemUoKXtyZXR1cm4gdGhpcy5kYXRhLmxlbmd0aH1nZXQgaXNQYXJ0aWFsKCl7cmV0dXJuIHRoaXMuZGF0YS5sZW5ndGghPT10aGlzLnRleHROb2RlLmRhdGEubGVuZ3RofWdldCBwYXJlbnQoKXtyZXR1cm4gdGhpcy50ZXh0Tm9kZS5wYXJlbnR9Z2V0IHJvb3QoKXtyZXR1cm4gdGhpcy50ZXh0Tm9kZS5yb290fWdldCBkb2N1bWVudCgpe3JldHVybiB0aGlzLnRleHROb2RlLmRvY3VtZW50fWlzKHQpe3JldHVyblwidGV4dFByb3h5XCI9PXR9Z2V0QW5jZXN0b3JzKHQ9e2luY2x1ZGVTZWxmOiExLHBhcmVudEZpcnN0OiExfSl7Y29uc3QgZT1bXTtsZXQgbj10LmluY2x1ZGVTZWxmP3RoaXMudGV4dE5vZGU6dGhpcy5wYXJlbnQ7Zm9yKDtudWxsIT09bjspZVt0LnBhcmVudEZpcnN0P1wicHVzaFwiOlwidW5zaGlmdFwiXShuKSxuPW4ucGFyZW50O3JldHVybiBlfX1mdW5jdGlvbiB1byh0KXtjb25zdCBlPW5ldyBNYXA7Zm9yKGNvbnN0IG4gaW4gdCllLnNldChuLHRbbl0pO3JldHVybiBlfWZ1bmN0aW9uIGhvKHQpe3JldHVybiEoIXR8fCF0W1N5bWJvbC5pdGVyYXRvcl0pfWNsYXNzIGZve2NvbnN0cnVjdG9yKC4uLnQpe3RoaXMuX3BhdHRlcm5zPVtdLHRoaXMuYWRkKC4uLnQpfWFkZCguLi50KXtmb3IobGV0IGUgb2YgdCkoXCJzdHJpbmdcIj09dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiBSZWdFeHApJiYoZT17bmFtZTplfSksZS5jbGFzc2VzJiYoXCJzdHJpbmdcIj09dHlwZW9mIGUuY2xhc3Nlc3x8ZS5jbGFzc2VzIGluc3RhbmNlb2YgUmVnRXhwKSYmKGUuY2xhc3Nlcz1bZS5jbGFzc2VzXSksdGhpcy5fcGF0dGVybnMucHVzaChlKX1tYXRjaCguLi50KXtmb3IoY29uc3QgZSBvZiB0KWZvcihjb25zdCB0IG9mIHRoaXMuX3BhdHRlcm5zKXtjb25zdCBuPW1vKGUsdCk7aWYobilyZXR1cm57ZWxlbWVudDplLHBhdHRlcm46dCxtYXRjaDpufX1yZXR1cm4gbnVsbH1tYXRjaEFsbCguLi50KXtjb25zdCBlPVtdO2Zvcihjb25zdCBuIG9mIHQpZm9yKGNvbnN0IHQgb2YgdGhpcy5fcGF0dGVybnMpe2NvbnN0IG89bW8obix0KTtvJiZlLnB1c2goe2VsZW1lbnQ6bixwYXR0ZXJuOnQsbWF0Y2g6b30pfXJldHVybiBlLmxlbmd0aD4wP2U6bnVsbH1nZXRFbGVtZW50TmFtZSgpe2lmKDEhPT10aGlzLl9wYXR0ZXJucy5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLl9wYXR0ZXJuc1swXSxlPXQubmFtZTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0fHwhZXx8ZSBpbnN0YW5jZW9mIFJlZ0V4cD9udWxsOmV9fWZ1bmN0aW9uIG1vKHQsZSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZSlyZXR1cm4gZSh0KTtjb25zdCBuPXt9O3JldHVybiBlLm5hbWUmJihuLm5hbWU9ZnVuY3Rpb24odCxlKXtpZih0IGluc3RhbmNlb2YgUmVnRXhwKXJldHVybiB0LnRlc3QoZSk7cmV0dXJuIHQ9PT1lfShlLm5hbWUsdC5uYW1lKSwhbi5uYW1lKT9udWxsOmUuYXR0cmlidXRlcyYmKG4uYXR0cmlidXRlcz1mdW5jdGlvbih0LGUpe2NvbnN0IG49W107Zm9yKGNvbnN0IG8gaW4gdCl7Y29uc3QgaT10W29dO2lmKCFlLmhhc0F0dHJpYnV0ZShvKSlyZXR1cm4gbnVsbDt7Y29uc3QgdD1lLmdldEF0dHJpYnV0ZShvKTtpZighMD09PWkpbi5wdXNoKG8pO2Vsc2UgaWYoaSBpbnN0YW5jZW9mIFJlZ0V4cCl7aWYoIWkudGVzdCh0KSlyZXR1cm4gbnVsbDtuLnB1c2gobyl9ZWxzZXtpZih0IT09aSlyZXR1cm4gbnVsbDtuLnB1c2gobyl9fX1yZXR1cm4gbn0oZS5hdHRyaWJ1dGVzLHQpLCFuLmF0dHJpYnV0ZXMpP251bGw6IShlLmNsYXNzZXMmJihuLmNsYXNzZXM9ZnVuY3Rpb24odCxlKXtjb25zdCBuPVtdO2Zvcihjb25zdCBvIG9mIHQpaWYobyBpbnN0YW5jZW9mIFJlZ0V4cCl7Y29uc3QgdD1lLmdldENsYXNzTmFtZXMoKTtmb3IoY29uc3QgZSBvZiB0KW8udGVzdChlKSYmbi5wdXNoKGUpO2lmKDA9PT1uLmxlbmd0aClyZXR1cm4gbnVsbH1lbHNle2lmKCFlLmhhc0NsYXNzKG8pKXJldHVybiBudWxsO24ucHVzaChvKX1yZXR1cm4gbn0oZS5jbGFzc2VzLHQpLCFuLmNsYXNzZXMpKSYmKCEoZS5zdHlsZXMmJihuLnN0eWxlcz1mdW5jdGlvbih0LGUpe2NvbnN0IG49W107Zm9yKGNvbnN0IG8gaW4gdCl7Y29uc3QgaT10W29dO2lmKCFlLmhhc1N0eWxlKG8pKXJldHVybiBudWxsO3tjb25zdCB0PWUuZ2V0U3R5bGUobyk7aWYoaSBpbnN0YW5jZW9mIFJlZ0V4cCl7aWYoIWkudGVzdCh0KSlyZXR1cm4gbnVsbDtuLnB1c2gobyl9ZWxzZXtpZih0IT09aSlyZXR1cm4gbnVsbDtuLnB1c2gobyl9fX1yZXR1cm4gbn0oZS5zdHlsZXMsdCksIW4uc3R5bGVzKSkmJm4pfWNsYXNzIGdvIGV4dGVuZHMgYW97Y29uc3RydWN0b3IodCxlLG4pe2lmKHN1cGVyKCksdGhpcy5uYW1lPXQsdGhpcy5fYXR0cnM9ZnVuY3Rpb24odCl7dD1DKHQpP3VvKHQpOm5ldyBNYXAodCk7Zm9yKGNvbnN0W2Usbl1vZiB0KW51bGw9PT1uP3QuZGVsZXRlKGUpOlwic3RyaW5nXCIhPXR5cGVvZiBuJiZ0LnNldChlLFN0cmluZyhuKSk7cmV0dXJuIHR9KGUpLHRoaXMuX2NoaWxkcmVuPVtdLG4mJnRoaXMuX2luc2VydENoaWxkKDAsbiksdGhpcy5fY2xhc3Nlcz1uZXcgU2V0LHRoaXMuX2F0dHJzLmhhcyhcImNsYXNzXCIpKXtjb25zdCB0PXRoaXMuX2F0dHJzLmdldChcImNsYXNzXCIpO2JvKHRoaXMuX2NsYXNzZXMsdCksdGhpcy5fYXR0cnMuZGVsZXRlKFwiY2xhc3NcIil9dGhpcy5fc3R5bGVzPW5ldyBNYXAsdGhpcy5fYXR0cnMuaGFzKFwic3R5bGVcIikmJihwbyh0aGlzLl9zdHlsZXMsdGhpcy5fYXR0cnMuZ2V0KFwic3R5bGVcIikpLHRoaXMuX2F0dHJzLmRlbGV0ZShcInN0eWxlXCIpKSx0aGlzLl9jdXN0b21Qcm9wZXJ0aWVzPW5ldyBNYXB9Z2V0IGNoaWxkQ291bnQoKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4ubGVuZ3RofWdldCBpc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLl9jaGlsZHJlbi5sZW5ndGh9aXModCxlPW51bGwpe3JldHVybiBlP1wiZWxlbWVudFwiPT10JiZlPT10aGlzLm5hbWU6XCJlbGVtZW50XCI9PXR8fHQ9PXRoaXMubmFtZXx8c3VwZXIuaXModCl9Z2V0Q2hpbGQodCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuW3RdfWdldENoaWxkSW5kZXgodCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmluZGV4T2YodCl9Z2V0Q2hpbGRyZW4oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5bU3ltYm9sLml0ZXJhdG9yXSgpfSpnZXRBdHRyaWJ1dGVLZXlzKCl7dGhpcy5fY2xhc3Nlcy5zaXplPjAmJih5aWVsZFwiY2xhc3NcIiksdGhpcy5fc3R5bGVzLnNpemU+MCYmKHlpZWxkXCJzdHlsZVwiKTtmb3IoY29uc3QgdCBvZiB0aGlzLl9hdHRycy5rZXlzKCkpeWllbGQgdH0qZ2V0QXR0cmlidXRlcygpe3lpZWxkKnRoaXMuX2F0dHJzLmVudHJpZXMoKSx0aGlzLl9jbGFzc2VzLnNpemU+MCYmKHlpZWxkW1wiY2xhc3NcIix0aGlzLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpXSksdGhpcy5fc3R5bGVzLnNpemU+MCYmKHlpZWxkW1wic3R5bGVcIix0aGlzLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpXSl9Z2V0QXR0cmlidXRlKHQpe2lmKFwiY2xhc3NcIj09dClyZXR1cm4gdGhpcy5fY2xhc3Nlcy5zaXplPjA/Wy4uLnRoaXMuX2NsYXNzZXNdLmpvaW4oXCIgXCIpOnZvaWQgMDtpZihcInN0eWxlXCIhPXQpcmV0dXJuIHRoaXMuX2F0dHJzLmdldCh0KTtpZih0aGlzLl9zdHlsZXMuc2l6ZT4wKXtsZXQgdD1cIlwiO2Zvcihjb25zdFtlLG5db2YgdGhpcy5fc3R5bGVzKXQrPWAke2V9OiR7bn07YDtyZXR1cm4gdH19aGFzQXR0cmlidXRlKHQpe3JldHVyblwiY2xhc3NcIj09dD90aGlzLl9jbGFzc2VzLnNpemU+MDpcInN0eWxlXCI9PXQ/dGhpcy5fc3R5bGVzLnNpemU+MDp0aGlzLl9hdHRycy5oYXModCl9aXNTaW1pbGFyKHQpe2lmKCEodCBpbnN0YW5jZW9mIGdvKSlyZXR1cm4hMTtpZih0aGlzPT09dClyZXR1cm4hMDtpZih0aGlzLm5hbWUhPXQubmFtZSlyZXR1cm4hMTtpZih0aGlzLl9hdHRycy5zaXplIT09dC5fYXR0cnMuc2l6ZXx8dGhpcy5fY2xhc3Nlcy5zaXplIT09dC5fY2xhc3Nlcy5zaXplfHx0aGlzLl9zdHlsZXMuc2l6ZSE9PXQuX3N0eWxlcy5zaXplKXJldHVybiExO2Zvcihjb25zdFtlLG5db2YgdGhpcy5fYXR0cnMpaWYoIXQuX2F0dHJzLmhhcyhlKXx8dC5fYXR0cnMuZ2V0KGUpIT09bilyZXR1cm4hMTtmb3IoY29uc3QgZSBvZiB0aGlzLl9jbGFzc2VzKWlmKCF0Ll9jbGFzc2VzLmhhcyhlKSlyZXR1cm4hMTtmb3IoY29uc3RbZSxuXW9mIHRoaXMuX3N0eWxlcylpZighdC5fc3R5bGVzLmhhcyhlKXx8dC5fc3R5bGVzLmdldChlKSE9PW4pcmV0dXJuITE7cmV0dXJuITB9aGFzQ2xhc3MoLi4udCl7Zm9yKGNvbnN0IGUgb2YgdClpZighdGhpcy5fY2xhc3Nlcy5oYXMoZSkpcmV0dXJuITE7cmV0dXJuITB9Z2V0Q2xhc3NOYW1lcygpe3JldHVybiB0aGlzLl9jbGFzc2VzLmtleXMoKX1nZXRTdHlsZSh0KXtyZXR1cm4gdGhpcy5fc3R5bGVzLmdldCh0KX1nZXRTdHlsZU5hbWVzKCl7cmV0dXJuIHRoaXMuX3N0eWxlcy5rZXlzKCl9aGFzU3R5bGUoLi4udCl7Zm9yKGNvbnN0IGUgb2YgdClpZighdGhpcy5fc3R5bGVzLmhhcyhlKSlyZXR1cm4hMTtyZXR1cm4hMH1maW5kQW5jZXN0b3IoLi4udCl7Y29uc3QgZT1uZXcgZm8oLi4udCk7bGV0IG49dGhpcy5wYXJlbnQ7Zm9yKDtuOyl7aWYoZS5tYXRjaChuKSlyZXR1cm4gbjtuPW4ucGFyZW50fXJldHVybiBudWxsfWdldEN1c3RvbVByb3BlcnR5KHQpe3JldHVybiB0aGlzLl9jdXN0b21Qcm9wZXJ0aWVzLmdldCh0KX0qZ2V0Q3VzdG9tUHJvcGVydGllcygpe3lpZWxkKnRoaXMuX2N1c3RvbVByb3BlcnRpZXMuZW50cmllcygpfWdldElkZW50aXR5KCl7Y29uc3QgdD1BcnJheS5mcm9tKHRoaXMuX2NsYXNzZXMpLnNvcnQoKS5qb2luKFwiLFwiKSxlPUFycmF5LmZyb20odGhpcy5fc3R5bGVzKS5tYXAodD0+YCR7dFswXX06JHt0WzFdfWApLnNvcnQoKS5qb2luKFwiO1wiKSxuPUFycmF5LmZyb20odGhpcy5fYXR0cnMpLm1hcCh0PT5gJHt0WzBdfT1cIiR7dFsxXX1cImApLnNvcnQoKS5qb2luKFwiIFwiKTtyZXR1cm4gdGhpcy5uYW1lKyhcIlwiPT10P1wiXCI6YCBjbGFzcz1cIiR7dH1cImApKyhcIlwiPT1lP1wiXCI6YCBzdHlsZT1cIiR7ZX1cImApKyhcIlwiPT1uP1wiXCI6YCAke259YCl9X2Nsb25lKHQ9ITEpe2NvbnN0IGU9W107aWYodClmb3IoY29uc3QgbiBvZiB0aGlzLmdldENoaWxkcmVuKCkpZS5wdXNoKG4uX2Nsb25lKHQpKTtjb25zdCBuPW5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMubmFtZSx0aGlzLl9hdHRycyxlKTtyZXR1cm4gbi5fY2xhc3Nlcz1uZXcgU2V0KHRoaXMuX2NsYXNzZXMpLG4uX3N0eWxlcz1uZXcgTWFwKHRoaXMuX3N0eWxlcyksbi5fY3VzdG9tUHJvcGVydGllcz1uZXcgTWFwKHRoaXMuX2N1c3RvbVByb3BlcnRpZXMpLG4uZ2V0RmlsbGVyT2Zmc2V0PXRoaXMuZ2V0RmlsbGVyT2Zmc2V0LG59X2FwcGVuZENoaWxkKHQpe3JldHVybiB0aGlzLl9pbnNlcnRDaGlsZCh0aGlzLmNoaWxkQ291bnQsdCl9X2luc2VydENoaWxkKHQsZSl7dGhpcy5fZmlyZUNoYW5nZShcImNoaWxkcmVuXCIsdGhpcyk7bGV0IG49MDtjb25zdCBvPWZ1bmN0aW9uKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybltuZXcgY28odCldO2hvKHQpfHwodD1bdF0pO3JldHVybiBBcnJheS5mcm9tKHQpLm1hcCh0PT5cInN0cmluZ1wiPT10eXBlb2YgdD9uZXcgY28odCk6dCBpbnN0YW5jZW9mIGxvP25ldyBjbyh0LmRhdGEpOnQpfShlKTtmb3IoY29uc3QgZSBvZiBvKW51bGwhPT1lLnBhcmVudCYmZS5fcmVtb3ZlKCksZS5wYXJlbnQ9dGhpcyx0aGlzLl9jaGlsZHJlbi5zcGxpY2UodCwwLGUpLHQrKyxuKys7cmV0dXJuIG59X3JlbW92ZUNoaWxkcmVuKHQsZT0xKXt0aGlzLl9maXJlQ2hhbmdlKFwiY2hpbGRyZW5cIix0aGlzKTtmb3IobGV0IG49dDtuPHQrZTtuKyspdGhpcy5fY2hpbGRyZW5bbl0ucGFyZW50PW51bGw7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLnNwbGljZSh0LGUpfV9zZXRBdHRyaWJ1dGUodCxlKXtlPVN0cmluZyhlKSx0aGlzLl9maXJlQ2hhbmdlKFwiYXR0cmlidXRlc1wiLHRoaXMpLFwiY2xhc3NcIj09dD9ibyh0aGlzLl9jbGFzc2VzLGUpOlwic3R5bGVcIj09dD9wbyh0aGlzLl9zdHlsZXMsZSk6dGhpcy5fYXR0cnMuc2V0KHQsZSl9X3JlbW92ZUF0dHJpYnV0ZSh0KXtyZXR1cm4gdGhpcy5fZmlyZUNoYW5nZShcImF0dHJpYnV0ZXNcIix0aGlzKSxcImNsYXNzXCI9PXQ/dGhpcy5fY2xhc3Nlcy5zaXplPjAmJih0aGlzLl9jbGFzc2VzLmNsZWFyKCksITApOlwic3R5bGVcIj09dD90aGlzLl9zdHlsZXMuc2l6ZT4wJiYodGhpcy5fc3R5bGVzLmNsZWFyKCksITApOnRoaXMuX2F0dHJzLmRlbGV0ZSh0KX1fYWRkQ2xhc3ModCl7dGhpcy5fZmlyZUNoYW5nZShcImF0dHJpYnV0ZXNcIix0aGlzKSwodD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdKS5mb3JFYWNoKHQ9PnRoaXMuX2NsYXNzZXMuYWRkKHQpKX1fcmVtb3ZlQ2xhc3ModCl7dGhpcy5fZmlyZUNoYW5nZShcImF0dHJpYnV0ZXNcIix0aGlzKSwodD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdKS5mb3JFYWNoKHQ9PnRoaXMuX2NsYXNzZXMuZGVsZXRlKHQpKX1fc2V0U3R5bGUodCxlKXtpZih0aGlzLl9maXJlQ2hhbmdlKFwiYXR0cmlidXRlc1wiLHRoaXMpLEModCkpe2NvbnN0IGU9T2JqZWN0LmtleXModCk7Zm9yKGNvbnN0IG4gb2YgZSl0aGlzLl9zdHlsZXMuc2V0KG4sdFtuXSl9ZWxzZSB0aGlzLl9zdHlsZXMuc2V0KHQsZSl9X3JlbW92ZVN0eWxlKHQpe3RoaXMuX2ZpcmVDaGFuZ2UoXCJhdHRyaWJ1dGVzXCIsdGhpcyksKHQ9QXJyYXkuaXNBcnJheSh0KT90Olt0XSkuZm9yRWFjaCh0PT50aGlzLl9zdHlsZXMuZGVsZXRlKHQpKX1fc2V0Q3VzdG9tUHJvcGVydHkodCxlKXt0aGlzLl9jdXN0b21Qcm9wZXJ0aWVzLnNldCh0LGUpfV9yZW1vdmVDdXN0b21Qcm9wZXJ0eSh0KXtyZXR1cm4gdGhpcy5fY3VzdG9tUHJvcGVydGllcy5kZWxldGUodCl9fWZ1bmN0aW9uIHBvKHQsZSl7bGV0IG49bnVsbCxvPTAsaT0wLHI9bnVsbDtpZih0LmNsZWFyKCksXCJcIiE9PWUpe1wiO1wiIT1lLmNoYXJBdChlLmxlbmd0aC0xKSYmKGUrPVwiO1wiKTtmb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrKyl7Y29uc3QgYT1lLmNoYXJBdChzKTtpZihudWxsPT09bilzd2l0Y2goYSl7Y2FzZVwiOlwiOnJ8fChyPWUuc3Vic3RyKG8scy1vKSxpPXMrMSk7YnJlYWs7Y2FzZSdcIic6Y2FzZVwiJ1wiOm49YTticmVhaztjYXNlXCI7XCI6e2NvbnN0IG49ZS5zdWJzdHIoaSxzLWkpO3ImJnQuc2V0KHIudHJpbSgpLG4udHJpbSgpKSxyPW51bGwsbz1zKzE7YnJlYWt9fWVsc2UgYT09PW4mJihuPW51bGwpfX19ZnVuY3Rpb24gYm8odCxlKXtjb25zdCBuPWUuc3BsaXQoL1xccysvKTt0LmNsZWFyKCksbi5mb3JFYWNoKGU9PnQuYWRkKGUpKX1jbGFzcyB3byBleHRlbmRzIGdve2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcih0LGUsbiksdGhpcy5nZXRGaWxsZXJPZmZzZXQ9X299aXModCxlPW51bGwpe3JldHVybiBlP1wiY29udGFpbmVyRWxlbWVudFwiPT10JiZlPT10aGlzLm5hbWV8fHN1cGVyLmlzKHQsZSk6XCJjb250YWluZXJFbGVtZW50XCI9PXR8fHN1cGVyLmlzKHQpfX1mdW5jdGlvbiBfbygpe2NvbnN0IHQ9Wy4uLnRoaXMuZ2V0Q2hpbGRyZW4oKV0sZT10W3RoaXMuY2hpbGRDb3VudC0xXTtpZihlJiZlLmlzKFwiZWxlbWVudFwiLFwiYnJcIikpcmV0dXJuIHRoaXMuY2hpbGRDb3VudDtmb3IoY29uc3QgZSBvZiB0KWlmKCFlLmlzKFwidWlFbGVtZW50XCIpKXJldHVybiBudWxsO3JldHVybiB0aGlzLmNoaWxkQ291bnR9dmFyIHZvPWZ1bmN0aW9uKHQpe3JldHVybiB0fTt2YXIga289ZnVuY3Rpb24odCxlLG4pe3N3aXRjaChuLmxlbmd0aCl7Y2FzZSAwOnJldHVybiB0LmNhbGwoZSk7Y2FzZSAxOnJldHVybiB0LmNhbGwoZSxuWzBdKTtjYXNlIDI6cmV0dXJuIHQuY2FsbChlLG5bMF0sblsxXSk7Y2FzZSAzOnJldHVybiB0LmNhbGwoZSxuWzBdLG5bMV0sblsyXSl9cmV0dXJuIHQuYXBwbHkoZSxuKX0seW89TWF0aC5tYXg7dmFyIHhvPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZT15byh2b2lkIDA9PT1lP3QubGVuZ3RoLTE6ZSwwKSxmdW5jdGlvbigpe2Zvcih2YXIgbz1hcmd1bWVudHMsaT0tMSxyPXlvKG8ubGVuZ3RoLWUsMCkscz1BcnJheShyKTsrK2k8cjspc1tpXT1vW2UraV07aT0tMTtmb3IodmFyIGE9QXJyYXkoZSsxKTsrK2k8ZTspYVtpXT1vW2ldO3JldHVybiBhW2VdPW4ocyksa28odCx0aGlzLGEpfX07dmFyIEFvPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0sQ289SnQ/ZnVuY3Rpb24odCxlKXtyZXR1cm4gSnQodCxcInRvU3RyaW5nXCIse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiExLHZhbHVlOkFvKGUpLHdyaXRhYmxlOiEwfSl9OnZvLFRvPTgwMCxNbz0xNixQbz1EYXRlLm5vdzt2YXIgU289ZnVuY3Rpb24odCl7dmFyIGU9MCxuPTA7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG89UG8oKSxpPU1vLShvLW4pO2lmKG49byxpPjApe2lmKCsrZT49VG8pcmV0dXJuIGFyZ3VtZW50c1swXX1lbHNlIGU9MDtyZXR1cm4gdC5hcHBseSh2b2lkIDAsYXJndW1lbnRzKX19KENvKTt2YXIgRW89ZnVuY3Rpb24odCxlKXtyZXR1cm4gU28oeG8odCxlLHZvKSx0K1wiXCIpfTt2YXIgSW89ZnVuY3Rpb24odCxlLG4pe2lmKCFvdChuKSlyZXR1cm4hMTt2YXIgbz10eXBlb2YgZTtyZXR1cm4hIShcIm51bWJlclwiPT1vP1BlKG4pJiZoZShlLG4ubGVuZ3RoKTpcInN0cmluZ1wiPT1vJiZlIGluIG4pJiZxKG5bZV0sdCl9O3ZhciBObz1mdW5jdGlvbih0KXtyZXR1cm4gRW8oZnVuY3Rpb24oZSxuKXt2YXIgbz0tMSxpPW4ubGVuZ3RoLHI9aT4xP25baS0xXTp2b2lkIDAscz1pPjI/blsyXTp2b2lkIDA7Zm9yKHI9dC5sZW5ndGg+MyYmXCJmdW5jdGlvblwiPT10eXBlb2Ygcj8oaS0tLHIpOnZvaWQgMCxzJiZJbyhuWzBdLG5bMV0scykmJihyPWk8Mz92b2lkIDA6cixpPTEpLGU9T2JqZWN0KGUpOysrbzxpOyl7dmFyIGE9bltvXTthJiZ0KGUsYSxvLHIpfXJldHVybiBlfSl9KGZ1bmN0aW9uKHQsZSl7dGUoZSxSZShlKSx0KX0pO2NvbnN0IE9vPVN5bWJvbChcIm9ic2VydmFibGVQcm9wZXJ0aWVzXCIpLFJvPVN5bWJvbChcImJvdW5kT2JzZXJ2YWJsZXNcIiksRG89U3ltYm9sKFwiYm91bmRQcm9wZXJ0aWVzXCIpLGpvPXtzZXQodCxlKXtpZihvdCh0KSlyZXR1cm4gdm9pZCBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGU9Pnt0aGlzLnNldChlLHRbZV0pfSx0aGlzKTtWbyh0aGlzKTtjb25zdCBuPXRoaXNbT29dO2lmKHQgaW4gdGhpcyYmIW4uaGFzKHQpKXRocm93IG5ldyBNLmIoXCJvYnNlcnZhYmxlLXNldC1jYW5ub3Qtb3ZlcnJpZGU6IENhbm5vdCBvdmVycmlkZSBhbiBleGlzdGluZyBwcm9wZXJ0eS5cIik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsdCx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0OigpPT5uLmdldCh0KSxzZXQoZSl7Y29uc3Qgbz1uLmdldCh0KTtsZXQgaT10aGlzLmZpcmUoXCJzZXQ6XCIrdCx0LGUsbyk7dm9pZCAwPT09aSYmKGk9ZSksbz09PWkmJm4uaGFzKHQpfHwobi5zZXQodCxpKSx0aGlzLmZpcmUoXCJjaGFuZ2U6XCIrdCx0LGksbykpfX0pLHRoaXNbdF09ZX0sYmluZCguLi50KXtpZighdC5sZW5ndGh8fCFCbyh0KSl0aHJvdyBuZXcgTS5iKFwib2JzZXJ2YWJsZS1iaW5kLXdyb25nLXByb3BlcnRpZXM6IEFsbCBwcm9wZXJ0aWVzIG11c3QgYmUgc3RyaW5ncy5cIik7aWYobmV3IFNldCh0KS5zaXplIT09dC5sZW5ndGgpdGhyb3cgbmV3IE0uYihcIm9ic2VydmFibGUtYmluZC1kdXBsaWNhdGUtcHJvcGVydGllczogUHJvcGVydGllcyBtdXN0IGJlIHVuaXF1ZS5cIik7Vm8odGhpcyk7Y29uc3QgZT10aGlzW0RvXTt0LmZvckVhY2godD0+e2lmKGUuaGFzKHQpKXRocm93IG5ldyBNLmIoXCJvYnNlcnZhYmxlLWJpbmQtcmViaW5kOiBDYW5ub3QgYmluZCB0aGUgc2FtZSBwcm9wZXJ0eSBtb3JlIHRoYXQgb25jZS5cIil9KTtjb25zdCBuPW5ldyBNYXA7cmV0dXJuIHQuZm9yRWFjaCh0PT57Y29uc3Qgbz17cHJvcGVydHk6dCx0bzpbXX07ZS5zZXQodCxvKSxuLnNldCh0LG8pfSkse3RvOkZvLHRvTWFueTp6byxfb2JzZXJ2YWJsZTp0aGlzLF9iaW5kUHJvcGVydGllczp0LF90bzpbXSxfYmluZGluZ3M6bn19LHVuYmluZCguLi50KXtpZighKE9vIGluIHRoaXMpKXJldHVybjtjb25zdCBlPXRoaXNbRG9dLG49dGhpc1tSb107aWYodC5sZW5ndGgpe2lmKCFCbyh0KSl0aHJvdyBuZXcgTS5iKFwib2JzZXJ2YWJsZS11bmJpbmQtd3JvbmctcHJvcGVydGllczogUHJvcGVydGllcyBtdXN0IGJlIHN0cmluZ3MuXCIpO3QuZm9yRWFjaCh0PT57Y29uc3Qgbz1lLmdldCh0KTtpZighbylyZXR1cm47bGV0IGkscixzLGE7by50by5mb3JFYWNoKHQ9PntpPXRbMF0scj10WzFdLHM9bi5nZXQoaSksKGE9c1tyXSkuZGVsZXRlKG8pLGEuc2l6ZXx8ZGVsZXRlIHNbcl0sT2JqZWN0LmtleXMocykubGVuZ3RofHwobi5kZWxldGUoaSksdGhpcy5zdG9wTGlzdGVuaW5nKGksXCJjaGFuZ2VcIikpfSksZS5kZWxldGUodCl9KX1lbHNlIG4uZm9yRWFjaCgodCxlKT0+e3RoaXMuc3RvcExpc3RlbmluZyhlLFwiY2hhbmdlXCIpfSksbi5jbGVhcigpLGUuY2xlYXIoKX0sZGVjb3JhdGUodCl7Y29uc3QgZT10aGlzW3RdO2lmKCFlKXRocm93IG5ldyBNLmIoXCJvYnNlcnZhYmxlbWl4aW4tY2Fubm90LWRlY29yYXRlLXVuZGVmaW5lZDogQ2Fubm90IGRlY29yYXRlIGFuIHVuZGVmaW5lZCBtZXRob2QuXCIse29iamVjdDp0aGlzLG1ldGhvZE5hbWU6dH0pO3RoaXMub24odCwodCxuKT0+e3QucmV0dXJuPWUuYXBwbHkodGhpcyxuKX0pLHRoaXNbdF09ZnVuY3Rpb24oLi4uZSl7cmV0dXJuIHRoaXMuZmlyZSh0LGUpfX19O05vKGpvLFIpO3ZhciBMbz1qbztmdW5jdGlvbiBWbyh0KXtPbyBpbiB0fHwoT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsT28se3ZhbHVlOm5ldyBNYXB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxSbyx7dmFsdWU6bmV3IE1hcH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LERvLHt2YWx1ZTpuZXcgTWFwfSkpfWZ1bmN0aW9uIEZvKC4uLnQpe2NvbnN0IGU9ZnVuY3Rpb24oLi4udCl7aWYoIXQubGVuZ3RoKXRocm93IG5ldyBNLmIoXCJvYnNlcnZhYmxlLWJpbmQtdG8tcGFyc2UtZXJyb3I6IEludmFsaWQgYXJndW1lbnQgc3ludGF4IGluIGB0bygpYC5cIik7Y29uc3QgZT17dG86W119O2xldCBuO1wiZnVuY3Rpb25cIj09dHlwZW9mIHRbdC5sZW5ndGgtMV0mJihlLmNhbGxiYWNrPXQucG9wKCkpO3JldHVybiB0LmZvckVhY2godD0+e2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KW4ucHJvcGVydGllcy5wdXNoKHQpO2Vsc2V7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IE0uYihcIm9ic2VydmFibGUtYmluZC10by1wYXJzZS1lcnJvcjogSW52YWxpZCBhcmd1bWVudCBzeW50YXggaW4gYHRvKClgLlwiKTtuPXtvYnNlcnZhYmxlOnQscHJvcGVydGllczpbXX0sZS50by5wdXNoKG4pfX0pLGV9KC4uLnQpLG49QXJyYXkuZnJvbSh0aGlzLl9iaW5kaW5ncy5rZXlzKCkpLG89bi5sZW5ndGg7aWYoIWUuY2FsbGJhY2smJmUudG8ubGVuZ3RoPjEpdGhyb3cgbmV3IE0uYihcIm9ic2VydmFibGUtYmluZC10by1uby1jYWxsYmFjazogQmluZGluZyBtdWx0aXBsZSBvYnNlcnZhYmxlcyBvbmx5IHBvc3NpYmxlIHdpdGggY2FsbGJhY2suXCIpO2lmKG8+MSYmZS5jYWxsYmFjayl0aHJvdyBuZXcgTS5iKFwib2JzZXJ2YWJsZS1iaW5kLXRvLWV4dHJhLWNhbGxiYWNrOiBDYW5ub3QgYmluZCBtdWx0aXBsZSBwcm9wZXJ0aWVzIGFuZCB1c2UgYSBjYWxsYmFjayBpbiBvbmUgYmluZGluZy5cIik7ZS50by5mb3JFYWNoKHQ9PntpZih0LnByb3BlcnRpZXMubGVuZ3RoJiZ0LnByb3BlcnRpZXMubGVuZ3RoIT09byl0aHJvdyBuZXcgTS5iKFwib2JzZXJ2YWJsZS1iaW5kLXRvLXByb3BlcnRpZXMtbGVuZ3RoOiBUaGUgbnVtYmVyIG9mIHByb3BlcnRpZXMgbXVzdCBtYXRjaC5cIik7dC5wcm9wZXJ0aWVzLmxlbmd0aHx8KHQucHJvcGVydGllcz10aGlzLl9iaW5kUHJvcGVydGllcyl9KSx0aGlzLl90bz1lLnRvLGUuY2FsbGJhY2smJih0aGlzLl9iaW5kaW5ncy5nZXQoblswXSkuY2FsbGJhY2s9ZS5jYWxsYmFjayksZnVuY3Rpb24odCxlKXtlLmZvckVhY2goZT0+e2NvbnN0IG49dFtSb107bGV0IG87bi5nZXQoZS5vYnNlcnZhYmxlKXx8dC5saXN0ZW5UbyhlLm9ic2VydmFibGUsXCJjaGFuZ2VcIiwoaSxyKT0+eyhvPW4uZ2V0KGUub2JzZXJ2YWJsZSlbcl0pJiZvLmZvckVhY2goZT0+e1VvKHQsZS5wcm9wZXJ0eSl9KX0pfSl9KHRoaXMuX29ic2VydmFibGUsdGhpcy5fdG8pLGZ1bmN0aW9uKHQpe2xldCBlO3QuX2JpbmRpbmdzLmZvckVhY2goKG4sbyk9Pnt0Ll90by5mb3JFYWNoKGk9PntlPWkucHJvcGVydGllc1tuLmNhbGxiYWNrPzA6dC5fYmluZFByb3BlcnRpZXMuaW5kZXhPZihvKV0sbi50by5wdXNoKFtpLm9ic2VydmFibGUsZV0pLGZ1bmN0aW9uKHQsZSxuLG8pe2NvbnN0IGk9dFtSb10scj1pLmdldChuKSxzPXJ8fHt9O3Nbb118fChzW29dPW5ldyBTZXQpO3Nbb10uYWRkKGUpLHJ8fGkuc2V0KG4scyl9KHQuX29ic2VydmFibGUsbixpLm9ic2VydmFibGUsZSl9KX0pfSh0aGlzKSx0aGlzLl9iaW5kUHJvcGVydGllcy5mb3JFYWNoKHQ9PntVbyh0aGlzLl9vYnNlcnZhYmxlLHQpfSl9ZnVuY3Rpb24gem8odCxlLG4pe2lmKHRoaXMuX2JpbmRpbmdzLnNpemU+MSl0aHJvdyBuZXcgTS5iKFwib2JzZXJ2YWJsZS1iaW5kLXRvLW1hbnktbm90LW9uZS1iaW5kaW5nOiBDYW5ub3QgYmluZCBtdWx0aXBsZSBwcm9wZXJ0aWVzIHdpdGggdG9NYW55KCkuXCIpO3RoaXMudG8oLi4uZnVuY3Rpb24odCxlKXtjb25zdCBuPXQubWFwKHQ9Plt0LGVdKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSxuKX0odCxlKSxuKX1mdW5jdGlvbiBCbyh0KXtyZXR1cm4gdC5ldmVyeSh0PT5cInN0cmluZ1wiPT10eXBlb2YgdCl9ZnVuY3Rpb24gVW8odCxlKXtjb25zdCBuPXRbRG9dLmdldChlKTtsZXQgbztvPW4uY2FsbGJhY2s/bi5jYWxsYmFjay5hcHBseSh0LG4udG8ubWFwKHQ9PnRbMF1bdFsxXV0pKToobz1uLnRvWzBdKVswXVtvWzFdXSx0Lmhhc093blByb3BlcnR5KGUpP3RbZV09bzp0LnNldChlLG8pfWNvbnN0IEhvPVN5bWJvbChcImRvY3VtZW50XCIpO2NsYXNzIHFvIGV4dGVuZHMgd297Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKHQsZSxuKSx0aGlzLnNldChcImlzUmVhZE9ubHlcIiwhMSksdGhpcy5zZXQoXCJpc0ZvY3VzZWRcIiwhMSl9Z2V0IGRvY3VtZW50KCl7cmV0dXJuIHRoaXMuZ2V0Q3VzdG9tUHJvcGVydHkoSG8pfXNldCBfZG9jdW1lbnQodCl7aWYodGhpcy5nZXRDdXN0b21Qcm9wZXJ0eShIbykpdGhyb3cgbmV3IE0uYihcInZpZXctZWRpdGFibGVlbGVtZW50LWRvY3VtZW50LWFscmVhZHktc2V0OiBWaWV3IGRvY3VtZW50IGlzIGFscmVhZHkgc2V0LlwiKTt0aGlzLl9zZXRDdXN0b21Qcm9wZXJ0eShIbyx0KSx0aGlzLmJpbmQoXCJpc1JlYWRPbmx5XCIpLnRvKHQpLHRoaXMuYmluZChcImlzRm9jdXNlZFwiKS50byh0LFwiaXNGb2N1c2VkXCIsZT0+ZSYmdC5zZWxlY3Rpb24uZWRpdGFibGVFbGVtZW50PT10aGlzKSx0aGlzLmxpc3RlblRvKHQuc2VsZWN0aW9uLFwiY2hhbmdlXCIsKCk9Pnt0aGlzLmlzRm9jdXNlZD10LmlzRm9jdXNlZCYmdC5zZWxlY3Rpb24uZWRpdGFibGVFbGVtZW50PT10aGlzfSl9fUIocW8sTG8pO2NvbnN0IFdvPVN5bWJvbChcInJvb3ROYW1lXCIpO2NsYXNzIFlvIGV4dGVuZHMgcW97Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5yb290TmFtZT1cIm1haW5cIn1pcyh0LGU9bnVsbCl7cmV0dXJuIGU/XCJyb290RWxlbWVudFwiPT10JiZlPT10aGlzLm5hbWV8fHN1cGVyLmlzKHQsZSk6XCJyb290RWxlbWVudFwiPT10fHxzdXBlci5pcyh0KX1nZXQgcm9vdE5hbWUoKXtyZXR1cm4gdGhpcy5nZXRDdXN0b21Qcm9wZXJ0eShXbyl9c2V0IHJvb3ROYW1lKHQpe3RoaXMuX3NldEN1c3RvbVByb3BlcnR5KFdvLHQpfXNldCBfbmFtZSh0KXt0aGlzLm5hbWU9dH19Y2xhc3MgR297Y29uc3RydWN0b3IodD17fSl7aWYoIXQuYm91bmRhcmllcyYmIXQuc3RhcnRQb3NpdGlvbil0aHJvdyBuZXcgTS5iKFwidmlldy10cmVlLXdhbGtlci1uby1zdGFydC1wb3NpdGlvbjogTmVpdGhlciBib3VuZGFyaWVzIG5vciBzdGFydGluZyBwb3NpdGlvbiBoYXZlIGJlZW4gZGVmaW5lZC5cIik7aWYodC5kaXJlY3Rpb24mJlwiZm9yd2FyZFwiIT10LmRpcmVjdGlvbiYmXCJiYWNrd2FyZFwiIT10LmRpcmVjdGlvbil0aHJvdyBuZXcgTS5iKFwidmlldy10cmVlLXdhbGtlci11bmtub3duLWRpcmVjdGlvbjogT25seSBgYmFja3dhcmRgIGFuZCBgZm9yd2FyZGAgZGlyZWN0aW9uIGFsbG93ZWQuXCIse2RpcmVjdGlvbjp0LmRpcmVjdGlvbn0pO3RoaXMuYm91bmRhcmllcz10LmJvdW5kYXJpZXN8fG51bGwsdC5zdGFydFBvc2l0aW9uP3RoaXMucG9zaXRpb249JG8uY3JlYXRlRnJvbVBvc2l0aW9uKHQuc3RhcnRQb3NpdGlvbik6dGhpcy5wb3NpdGlvbj0kby5jcmVhdGVGcm9tUG9zaXRpb24odC5ib3VuZGFyaWVzW1wiYmFja3dhcmRcIj09dC5kaXJlY3Rpb24/XCJlbmRcIjpcInN0YXJ0XCJdKSx0aGlzLmRpcmVjdGlvbj10LmRpcmVjdGlvbnx8XCJmb3J3YXJkXCIsdGhpcy5zaW5nbGVDaGFyYWN0ZXJzPSEhdC5zaW5nbGVDaGFyYWN0ZXJzLHRoaXMuc2hhbGxvdz0hIXQuc2hhbGxvdyx0aGlzLmlnbm9yZUVsZW1lbnRFbmQ9ISF0Lmlnbm9yZUVsZW1lbnRFbmQsdGhpcy5fYm91bmRhcnlTdGFydFBhcmVudD10aGlzLmJvdW5kYXJpZXM/dGhpcy5ib3VuZGFyaWVzLnN0YXJ0LnBhcmVudDpudWxsLHRoaXMuX2JvdW5kYXJ5RW5kUGFyZW50PXRoaXMuYm91bmRhcmllcz90aGlzLmJvdW5kYXJpZXMuZW5kLnBhcmVudDpudWxsfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXN9c2tpcCh0KXtsZXQgZSxuLG87ZG97bz10aGlzLnBvc2l0aW9uLCh7ZG9uZTplLHZhbHVlOm59PXRoaXMubmV4dCgpKX13aGlsZSghZSYmdChuKSk7ZXx8KHRoaXMucG9zaXRpb249byl9bmV4dCgpe3JldHVyblwiZm9yd2FyZFwiPT10aGlzLmRpcmVjdGlvbj90aGlzLl9uZXh0KCk6dGhpcy5fcHJldmlvdXMoKX1fbmV4dCgpe2xldCB0PSRvLmNyZWF0ZUZyb21Qb3NpdGlvbih0aGlzLnBvc2l0aW9uKTtjb25zdCBlPXRoaXMucG9zaXRpb24sbj10LnBhcmVudDtpZihudWxsPT09bi5wYXJlbnQmJnQub2Zmc2V0PT09bi5jaGlsZENvdW50KXJldHVybntkb25lOiEwfTtpZihuPT09dGhpcy5fYm91bmRhcnlFbmRQYXJlbnQmJnQub2Zmc2V0PT10aGlzLmJvdW5kYXJpZXMuZW5kLm9mZnNldClyZXR1cm57ZG9uZTohMH07bGV0IG87aWYobiBpbnN0YW5jZW9mIGNvKXtpZih0LmlzQXRFbmQpcmV0dXJuIHRoaXMucG9zaXRpb249JG8uY3JlYXRlQWZ0ZXIobiksdGhpcy5fbmV4dCgpO289bi5kYXRhW3Qub2Zmc2V0XX1lbHNlIG89bi5nZXRDaGlsZCh0Lm9mZnNldCk7aWYobyBpbnN0YW5jZW9mIGdvKXJldHVybiB0aGlzLnNoYWxsb3c/dC5vZmZzZXQrKzp0PW5ldyAkbyhvLDApLHRoaXMucG9zaXRpb249dCx0aGlzLl9mb3JtYXRSZXR1cm5WYWx1ZShcImVsZW1lbnRTdGFydFwiLG8sZSx0LDEpO2lmKG8gaW5zdGFuY2VvZiBjbyl7aWYodGhpcy5zaW5nbGVDaGFyYWN0ZXJzKXJldHVybiB0PW5ldyAkbyhvLDApLHRoaXMucG9zaXRpb249dCx0aGlzLl9uZXh0KCk7e2xldCBuLGk9by5kYXRhLmxlbmd0aDtyZXR1cm4gbz09dGhpcy5fYm91bmRhcnlFbmRQYXJlbnQ/KGk9dGhpcy5ib3VuZGFyaWVzLmVuZC5vZmZzZXQsbj1uZXcgbG8obywwLGkpLHQ9JG8uY3JlYXRlQWZ0ZXIobikpOihuPW5ldyBsbyhvLDAsby5kYXRhLmxlbmd0aCksdC5vZmZzZXQrKyksdGhpcy5wb3NpdGlvbj10LHRoaXMuX2Zvcm1hdFJldHVyblZhbHVlKFwidGV4dFwiLG4sZSx0LGkpfX1pZihcInN0cmluZ1wiPT10eXBlb2Ygbyl7bGV0IG87aWYodGhpcy5zaW5nbGVDaGFyYWN0ZXJzKW89MTtlbHNle289KG49PT10aGlzLl9ib3VuZGFyeUVuZFBhcmVudD90aGlzLmJvdW5kYXJpZXMuZW5kLm9mZnNldDpuLmRhdGEubGVuZ3RoKS10Lm9mZnNldH1jb25zdCBpPW5ldyBsbyhuLHQub2Zmc2V0LG8pO3JldHVybiB0Lm9mZnNldCs9byx0aGlzLnBvc2l0aW9uPXQsdGhpcy5fZm9ybWF0UmV0dXJuVmFsdWUoXCJ0ZXh0XCIsaSxlLHQsbyl9cmV0dXJuIHQ9JG8uY3JlYXRlQWZ0ZXIobiksdGhpcy5wb3NpdGlvbj10LHRoaXMuaWdub3JlRWxlbWVudEVuZD90aGlzLl9uZXh0KCk6dGhpcy5fZm9ybWF0UmV0dXJuVmFsdWUoXCJlbGVtZW50RW5kXCIsbixlLHQpfV9wcmV2aW91cygpe2xldCB0PSRvLmNyZWF0ZUZyb21Qb3NpdGlvbih0aGlzLnBvc2l0aW9uKTtjb25zdCBlPXRoaXMucG9zaXRpb24sbj10LnBhcmVudDtpZihudWxsPT09bi5wYXJlbnQmJjA9PT10Lm9mZnNldClyZXR1cm57ZG9uZTohMH07aWYobj09dGhpcy5fYm91bmRhcnlTdGFydFBhcmVudCYmdC5vZmZzZXQ9PXRoaXMuYm91bmRhcmllcy5zdGFydC5vZmZzZXQpcmV0dXJue2RvbmU6ITB9O2xldCBvO2lmKG4gaW5zdGFuY2VvZiBjbyl7aWYodC5pc0F0U3RhcnQpcmV0dXJuIHRoaXMucG9zaXRpb249JG8uY3JlYXRlQmVmb3JlKG4pLHRoaXMuX3ByZXZpb3VzKCk7bz1uLmRhdGFbdC5vZmZzZXQtMV19ZWxzZSBvPW4uZ2V0Q2hpbGQodC5vZmZzZXQtMSk7aWYobyBpbnN0YW5jZW9mIGdvKXJldHVybiB0aGlzLnNoYWxsb3c/KHQub2Zmc2V0LS0sdGhpcy5wb3NpdGlvbj10LHRoaXMuX2Zvcm1hdFJldHVyblZhbHVlKFwiZWxlbWVudFN0YXJ0XCIsbyxlLHQsMSkpOih0PW5ldyAkbyhvLG8uY2hpbGRDb3VudCksdGhpcy5wb3NpdGlvbj10LHRoaXMuaWdub3JlRWxlbWVudEVuZD90aGlzLl9wcmV2aW91cygpOnRoaXMuX2Zvcm1hdFJldHVyblZhbHVlKFwiZWxlbWVudEVuZFwiLG8sZSx0KSk7aWYobyBpbnN0YW5jZW9mIGNvKXtpZih0aGlzLnNpbmdsZUNoYXJhY3RlcnMpcmV0dXJuIHQ9bmV3ICRvKG8sby5kYXRhLmxlbmd0aCksdGhpcy5wb3NpdGlvbj10LHRoaXMuX3ByZXZpb3VzKCk7e2xldCBuLGk9by5kYXRhLmxlbmd0aDtpZihvPT10aGlzLl9ib3VuZGFyeVN0YXJ0UGFyZW50KXtjb25zdCBlPXRoaXMuYm91bmRhcmllcy5zdGFydC5vZmZzZXQ7aT0obj1uZXcgbG8obyxlLG8uZGF0YS5sZW5ndGgtZSkpLmRhdGEubGVuZ3RoLHQ9JG8uY3JlYXRlQmVmb3JlKG4pfWVsc2Ugbj1uZXcgbG8obywwLG8uZGF0YS5sZW5ndGgpLHQub2Zmc2V0LS07cmV0dXJuIHRoaXMucG9zaXRpb249dCx0aGlzLl9mb3JtYXRSZXR1cm5WYWx1ZShcInRleHRcIixuLGUsdCxpKX19aWYoXCJzdHJpbmdcIj09dHlwZW9mIG8pe2xldCBvO2lmKHRoaXMuc2luZ2xlQ2hhcmFjdGVycylvPTE7ZWxzZXtjb25zdCBlPW49PT10aGlzLl9ib3VuZGFyeVN0YXJ0UGFyZW50P3RoaXMuYm91bmRhcmllcy5zdGFydC5vZmZzZXQ6MDtvPXQub2Zmc2V0LWV9dC5vZmZzZXQtPW87Y29uc3QgaT1uZXcgbG8obix0Lm9mZnNldCxvKTtyZXR1cm4gdGhpcy5wb3NpdGlvbj10LHRoaXMuX2Zvcm1hdFJldHVyblZhbHVlKFwidGV4dFwiLGksZSx0LG8pfXJldHVybiB0PSRvLmNyZWF0ZUJlZm9yZShuKSx0aGlzLnBvc2l0aW9uPXQsdGhpcy5fZm9ybWF0UmV0dXJuVmFsdWUoXCJlbGVtZW50U3RhcnRcIixuLGUsdCwxKX1fZm9ybWF0UmV0dXJuVmFsdWUodCxlLG4sbyxpKXtyZXR1cm4gZSBpbnN0YW5jZW9mIGxvJiYoZS5vZmZzZXRJblRleHQrZS5kYXRhLmxlbmd0aD09ZS50ZXh0Tm9kZS5kYXRhLmxlbmd0aCYmKFwiZm9yd2FyZFwiIT10aGlzLmRpcmVjdGlvbnx8dGhpcy5ib3VuZGFyaWVzJiZ0aGlzLmJvdW5kYXJpZXMuZW5kLmlzRXF1YWwodGhpcy5wb3NpdGlvbik/bj0kby5jcmVhdGVBZnRlcihlLnRleHROb2RlKToobz0kby5jcmVhdGVBZnRlcihlLnRleHROb2RlKSx0aGlzLnBvc2l0aW9uPW8pKSwwPT09ZS5vZmZzZXRJblRleHQmJihcImJhY2t3YXJkXCIhPXRoaXMuZGlyZWN0aW9ufHx0aGlzLmJvdW5kYXJpZXMmJnRoaXMuYm91bmRhcmllcy5zdGFydC5pc0VxdWFsKHRoaXMucG9zaXRpb24pP249JG8uY3JlYXRlQmVmb3JlKGUudGV4dE5vZGUpOihvPSRvLmNyZWF0ZUJlZm9yZShlLnRleHROb2RlKSx0aGlzLnBvc2l0aW9uPW8pKSkse2RvbmU6ITEsdmFsdWU6e3R5cGU6dCxpdGVtOmUscHJldmlvdXNQb3NpdGlvbjpuLG5leHRQb3NpdGlvbjpvLGxlbmd0aDppfX19fWNsYXNzICRve2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5wYXJlbnQ9dCx0aGlzLm9mZnNldD1lfWdldCBub2RlQWZ0ZXIoKXtyZXR1cm4gdGhpcy5wYXJlbnQuaXMoXCJ0ZXh0XCIpP251bGw6dGhpcy5wYXJlbnQuZ2V0Q2hpbGQodGhpcy5vZmZzZXQpfHxudWxsfWdldCBub2RlQmVmb3JlKCl7cmV0dXJuIHRoaXMucGFyZW50LmlzKFwidGV4dFwiKT9udWxsOnRoaXMucGFyZW50LmdldENoaWxkKHRoaXMub2Zmc2V0LTEpfHxudWxsfWdldCBpc0F0U3RhcnQoKXtyZXR1cm4gMD09PXRoaXMub2Zmc2V0fWdldCBpc0F0RW5kKCl7Y29uc3QgdD10aGlzLnBhcmVudC5pcyhcInRleHRcIik/dGhpcy5wYXJlbnQuZGF0YS5sZW5ndGg6dGhpcy5wYXJlbnQuY2hpbGRDb3VudDtyZXR1cm4gdGhpcy5vZmZzZXQ9PT10fWdldCByb290KCl7cmV0dXJuIHRoaXMucGFyZW50LnJvb3R9Z2V0IGVkaXRhYmxlRWxlbWVudCgpe2xldCB0PXRoaXMucGFyZW50O2Zvcig7ISh0IGluc3RhbmNlb2YgcW8pOyl7aWYoIXQucGFyZW50KXJldHVybiBudWxsO3Q9dC5wYXJlbnR9cmV0dXJuIHR9Z2V0U2hpZnRlZEJ5KHQpe2NvbnN0IGU9JG8uY3JlYXRlRnJvbVBvc2l0aW9uKHRoaXMpLG49ZS5vZmZzZXQrdDtyZXR1cm4gZS5vZmZzZXQ9bjwwPzA6bixlfWdldExhc3RNYXRjaGluZ1Bvc2l0aW9uKHQsZT17fSl7ZS5zdGFydFBvc2l0aW9uPXRoaXM7Y29uc3Qgbj1uZXcgR28oZSk7cmV0dXJuIG4uc2tpcCh0KSxuLnBvc2l0aW9ufWdldEFuY2VzdG9ycygpe3JldHVybiB0aGlzLnBhcmVudC5pcyhcImRvY3VtZW50RnJhZ21lbnRcIik/W3RoaXMucGFyZW50XTp0aGlzLnBhcmVudC5nZXRBbmNlc3RvcnMoe2luY2x1ZGVTZWxmOiEwfSl9Z2V0Q29tbW9uQW5jZXN0b3IodCl7Y29uc3QgZT10aGlzLmdldEFuY2VzdG9ycygpLG49dC5nZXRBbmNlc3RvcnMoKTtsZXQgbz0wO2Zvcig7ZVtvXT09bltvXSYmZVtvXTspbysrO3JldHVybiAwPT09bz9udWxsOmVbby0xXX1pc0VxdWFsKHQpe3JldHVybiB0aGlzLnBhcmVudD09dC5wYXJlbnQmJnRoaXMub2Zmc2V0PT10Lm9mZnNldH1pc0JlZm9yZSh0KXtyZXR1cm5cImJlZm9yZVwiPT10aGlzLmNvbXBhcmVXaXRoKHQpfWlzQWZ0ZXIodCl7cmV0dXJuXCJhZnRlclwiPT10aGlzLmNvbXBhcmVXaXRoKHQpfWNvbXBhcmVXaXRoKHQpe2lmKHRoaXMucm9vdCE9PXQucm9vdClyZXR1cm5cImRpZmZlcmVudFwiO2lmKHRoaXMuaXNFcXVhbCh0KSlyZXR1cm5cInNhbWVcIjtjb25zdCBlPXRoaXMucGFyZW50LmlzKFwibm9kZVwiKT90aGlzLnBhcmVudC5nZXRQYXRoKCk6W10sbj10LnBhcmVudC5pcyhcIm5vZGVcIik/dC5wYXJlbnQuZ2V0UGF0aCgpOltdO2UucHVzaCh0aGlzLm9mZnNldCksbi5wdXNoKHQub2Zmc2V0KTtjb25zdCBvPVUoZSxuKTtzd2l0Y2gobyl7Y2FzZVwicHJlZml4XCI6cmV0dXJuXCJiZWZvcmVcIjtjYXNlXCJleHRlbnNpb25cIjpyZXR1cm5cImFmdGVyXCI7ZGVmYXVsdDpyZXR1cm4gZVtvXTxuW29dP1wiYmVmb3JlXCI6XCJhZnRlclwifX1zdGF0aWMgY3JlYXRlQXQodCxlKXtpZih0IGluc3RhbmNlb2YgJG8pcmV0dXJuIHRoaXMuY3JlYXRlRnJvbVBvc2l0aW9uKHQpO3tjb25zdCBuPXQ7aWYoXCJlbmRcIj09ZSllPW4uaXMoXCJ0ZXh0XCIpP24uZGF0YS5sZW5ndGg6bi5jaGlsZENvdW50O2Vsc2V7aWYoXCJiZWZvcmVcIj09ZSlyZXR1cm4gdGhpcy5jcmVhdGVCZWZvcmUobik7aWYoXCJhZnRlclwiPT1lKXJldHVybiB0aGlzLmNyZWF0ZUFmdGVyKG4pO2V8fChlPTApfXJldHVybiBuZXcgJG8obixlKX19c3RhdGljIGNyZWF0ZUFmdGVyKHQpe2lmKHQuaXMoXCJ0ZXh0UHJveHlcIikpcmV0dXJuIG5ldyAkbyh0LnRleHROb2RlLHQub2Zmc2V0SW5UZXh0K3QuZGF0YS5sZW5ndGgpO2lmKCF0LnBhcmVudCl0aHJvdyBuZXcgTS5iKFwidmlldy1wb3NpdGlvbi1hZnRlci1yb290OiBZb3UgY2FuIG5vdCBtYWtlIHBvc2l0aW9uIGFmdGVyIHJvb3QuXCIse3Jvb3Q6dH0pO3JldHVybiBuZXcgJG8odC5wYXJlbnQsdC5pbmRleCsxKX1zdGF0aWMgY3JlYXRlQmVmb3JlKHQpe2lmKHQuaXMoXCJ0ZXh0UHJveHlcIikpcmV0dXJuIG5ldyAkbyh0LnRleHROb2RlLHQub2Zmc2V0SW5UZXh0KTtpZighdC5wYXJlbnQpdGhyb3cgbmV3IE0uYihcInZpZXctcG9zaXRpb24tYmVmb3JlLXJvb3Q6IFlvdSBjYW4gbm90IG1ha2UgcG9zaXRpb24gYmVmb3JlIHJvb3QuXCIse3Jvb3Q6dH0pO3JldHVybiBuZXcgJG8odC5wYXJlbnQsdC5pbmRleCl9c3RhdGljIGNyZWF0ZUZyb21Qb3NpdGlvbih0KXtyZXR1cm4gbmV3IHRoaXModC5wYXJlbnQsdC5vZmZzZXQpfX1jbGFzcyBRb3tjb25zdHJ1Y3Rvcih0LGU9bnVsbCl7dGhpcy5zdGFydD0kby5jcmVhdGVGcm9tUG9zaXRpb24odCksdGhpcy5lbmQ9ZT8kby5jcmVhdGVGcm9tUG9zaXRpb24oZSk6JG8uY3JlYXRlRnJvbVBvc2l0aW9uKHQpfSpbU3ltYm9sLml0ZXJhdG9yXSgpe3lpZWxkKm5ldyBHbyh7Ym91bmRhcmllczp0aGlzLGlnbm9yZUVsZW1lbnRFbmQ6ITB9KX1nZXQgaXNDb2xsYXBzZWQoKXtyZXR1cm4gdGhpcy5zdGFydC5pc0VxdWFsKHRoaXMuZW5kKX1nZXQgaXNGbGF0KCl7cmV0dXJuIHRoaXMuc3RhcnQucGFyZW50PT09dGhpcy5lbmQucGFyZW50fWdldCByb290KCl7cmV0dXJuIHRoaXMuc3RhcnQucm9vdH1nZXRFbmxhcmdlZCgpe2xldCB0PXRoaXMuc3RhcnQuZ2V0TGFzdE1hdGNoaW5nUG9zaXRpb24oSm8se2RpcmVjdGlvbjpcImJhY2t3YXJkXCJ9KSxlPXRoaXMuZW5kLmdldExhc3RNYXRjaGluZ1Bvc2l0aW9uKEpvKTtyZXR1cm4gdC5wYXJlbnQuaXMoXCJ0ZXh0XCIpJiZ0LmlzQXRTdGFydCYmKHQ9JG8uY3JlYXRlQmVmb3JlKHQucGFyZW50KSksZS5wYXJlbnQuaXMoXCJ0ZXh0XCIpJiZlLmlzQXRFbmQmJihlPSRvLmNyZWF0ZUFmdGVyKGUucGFyZW50KSksbmV3IFFvKHQsZSl9Z2V0VHJpbW1lZCgpe2xldCB0PXRoaXMuc3RhcnQuZ2V0TGFzdE1hdGNoaW5nUG9zaXRpb24oSm8pO2lmKHQuaXNBZnRlcih0aGlzLmVuZCl8fHQuaXNFcXVhbCh0aGlzLmVuZCkpcmV0dXJuIG5ldyBRbyh0LHQpO2xldCBlPXRoaXMuZW5kLmdldExhc3RNYXRjaGluZ1Bvc2l0aW9uKEpvLHtkaXJlY3Rpb246XCJiYWNrd2FyZFwifSk7Y29uc3Qgbj10Lm5vZGVBZnRlcixvPWUubm9kZUJlZm9yZTtyZXR1cm4gbiYmbi5pcyhcInRleHRcIikmJih0PW5ldyAkbyhuLDApKSxvJiZvLmlzKFwidGV4dFwiKSYmKGU9bmV3ICRvKG8sby5kYXRhLmxlbmd0aCkpLG5ldyBRbyh0LGUpfWlzRXF1YWwodCl7cmV0dXJuIHRoaXM9PXR8fHRoaXMuc3RhcnQuaXNFcXVhbCh0LnN0YXJ0KSYmdGhpcy5lbmQuaXNFcXVhbCh0LmVuZCl9Y29udGFpbnNQb3NpdGlvbih0KXtyZXR1cm4gdC5pc0FmdGVyKHRoaXMuc3RhcnQpJiZ0LmlzQmVmb3JlKHRoaXMuZW5kKX1jb250YWluc1JhbmdlKHQsZT0hMSl7dC5pc0NvbGxhcHNlZCYmKGU9ITEpO2NvbnN0IG49dGhpcy5jb250YWluc1Bvc2l0aW9uKHQuc3RhcnQpfHxlJiZ0aGlzLnN0YXJ0LmlzRXF1YWwodC5zdGFydCksbz10aGlzLmNvbnRhaW5zUG9zaXRpb24odC5lbmQpfHxlJiZ0aGlzLmVuZC5pc0VxdWFsKHQuZW5kKTtyZXR1cm4gbiYmb31nZXREaWZmZXJlbmNlKHQpe2NvbnN0IGU9W107cmV0dXJuIHRoaXMuaXNJbnRlcnNlY3RpbmcodCk/KHRoaXMuY29udGFpbnNQb3NpdGlvbih0LnN0YXJ0KSYmZS5wdXNoKG5ldyBRbyh0aGlzLnN0YXJ0LHQuc3RhcnQpKSx0aGlzLmNvbnRhaW5zUG9zaXRpb24odC5lbmQpJiZlLnB1c2gobmV3IFFvKHQuZW5kLHRoaXMuZW5kKSkpOmUucHVzaChRby5jcmVhdGVGcm9tUmFuZ2UodGhpcykpLGV9Z2V0SW50ZXJzZWN0aW9uKHQpe2lmKHRoaXMuaXNJbnRlcnNlY3RpbmcodCkpe2xldCBlPXRoaXMuc3RhcnQsbj10aGlzLmVuZDtyZXR1cm4gdGhpcy5jb250YWluc1Bvc2l0aW9uKHQuc3RhcnQpJiYoZT10LnN0YXJ0KSx0aGlzLmNvbnRhaW5zUG9zaXRpb24odC5lbmQpJiYobj10LmVuZCksbmV3IFFvKGUsbil9cmV0dXJuIG51bGx9Z2V0V2Fsa2VyKHQ9e30pe3JldHVybiB0LmJvdW5kYXJpZXM9dGhpcyxuZXcgR28odCl9Z2V0Q29tbW9uQW5jZXN0b3IoKXtyZXR1cm4gdGhpcy5zdGFydC5nZXRDb21tb25BbmNlc3Rvcih0aGlzLmVuZCl9KmdldEl0ZW1zKHQ9e30pe3QuYm91bmRhcmllcz10aGlzLHQuaWdub3JlRWxlbWVudEVuZD0hMDtjb25zdCBlPW5ldyBHbyh0KTtmb3IoY29uc3QgdCBvZiBlKXlpZWxkIHQuaXRlbX0qZ2V0UG9zaXRpb25zKHQ9e30pe3QuYm91bmRhcmllcz10aGlzO2NvbnN0IGU9bmV3IEdvKHQpO3lpZWxkIGUucG9zaXRpb247Zm9yKGNvbnN0IHQgb2YgZSl5aWVsZCB0Lm5leHRQb3NpdGlvbn1pc0ludGVyc2VjdGluZyh0KXtyZXR1cm4gdGhpcy5zdGFydC5pc0JlZm9yZSh0LmVuZCkmJnRoaXMuZW5kLmlzQWZ0ZXIodC5zdGFydCl9c3RhdGljIGNyZWF0ZUZyb21QYXJlbnRzQW5kT2Zmc2V0cyh0LGUsbixvKXtyZXR1cm4gbmV3IHRoaXMobmV3ICRvKHQsZSksbmV3ICRvKG4sbykpfXN0YXRpYyBjcmVhdGVGcm9tUmFuZ2UodCl7cmV0dXJuIG5ldyB0aGlzKHQuc3RhcnQsdC5lbmQpfXN0YXRpYyBjcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdCh0LGUpe2NvbnN0IG49dCxvPXQuZ2V0U2hpZnRlZEJ5KGUpO3JldHVybiBlPjA/bmV3IHRoaXMobixvKTpuZXcgdGhpcyhvLG4pfXN0YXRpYyBjcmVhdGVJbih0KXtyZXR1cm4gdGhpcy5jcmVhdGVGcm9tUGFyZW50c0FuZE9mZnNldHModCwwLHQsdC5jaGlsZENvdW50KX1zdGF0aWMgY3JlYXRlT24odCl7Y29uc3QgZT10LmlzKFwidGV4dFByb3h5XCIpP3Qub2Zmc2V0U2l6ZToxO3JldHVybiB0aGlzLmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KCRvLmNyZWF0ZUJlZm9yZSh0KSxlKX1zdGF0aWMgY3JlYXRlQ29sbGFwc2VkQXQodCxlKXtjb25zdCBuPSRvLmNyZWF0ZUF0KHQsZSksbz0kby5jcmVhdGVGcm9tUG9zaXRpb24obik7cmV0dXJuIG5ldyBRbyhuLG8pfX1mdW5jdGlvbiBKbyh0KXtyZXR1cm4hKCF0Lml0ZW0uaXMoXCJhdHRyaWJ1dGVFbGVtZW50XCIpJiYhdC5pdGVtLmlzKFwidWlFbGVtZW50XCIpKX1mdW5jdGlvbiBLbyh0KXtsZXQgZT0wO2Zvcihjb25zdCBuIG9mIHQpZSsrO3JldHVybiBlfWNsYXNzIFpve2NvbnN0cnVjdG9yKHQ9bnVsbCxlLG4pe3RoaXMuX3Jhbmdlcz1bXSx0aGlzLl9sYXN0UmFuZ2VCYWNrd2FyZD0hMSx0aGlzLl9pc0Zha2U9ITEsdGhpcy5fZmFrZVNlbGVjdGlvbkxhYmVsPVwiXCIsdGhpcy5zZXRUbyh0LGUsbil9Z2V0IGlzRmFrZSgpe3JldHVybiB0aGlzLl9pc0Zha2V9Z2V0IGZha2VTZWxlY3Rpb25MYWJlbCgpe3JldHVybiB0aGlzLl9mYWtlU2VsZWN0aW9uTGFiZWx9Z2V0IGFuY2hvcigpe2lmKCF0aGlzLl9yYW5nZXMubGVuZ3RoKXJldHVybiBudWxsO2NvbnN0IHQ9dGhpcy5fcmFuZ2VzW3RoaXMuX3Jhbmdlcy5sZW5ndGgtMV0sZT10aGlzLl9sYXN0UmFuZ2VCYWNrd2FyZD90LmVuZDp0LnN0YXJ0O3JldHVybiAkby5jcmVhdGVGcm9tUG9zaXRpb24oZSl9Z2V0IGZvY3VzKCl7aWYoIXRoaXMuX3Jhbmdlcy5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLl9yYW5nZXNbdGhpcy5fcmFuZ2VzLmxlbmd0aC0xXSxlPXRoaXMuX2xhc3RSYW5nZUJhY2t3YXJkP3Quc3RhcnQ6dC5lbmQ7cmV0dXJuICRvLmNyZWF0ZUZyb21Qb3NpdGlvbihlKX1nZXQgaXNDb2xsYXBzZWQoKXtyZXR1cm4gMT09PXRoaXMucmFuZ2VDb3VudCYmdGhpcy5fcmFuZ2VzWzBdLmlzQ29sbGFwc2VkfWdldCByYW5nZUNvdW50KCl7cmV0dXJuIHRoaXMuX3Jhbmdlcy5sZW5ndGh9Z2V0IGlzQmFja3dhcmQoKXtyZXR1cm4hdGhpcy5pc0NvbGxhcHNlZCYmdGhpcy5fbGFzdFJhbmdlQmFja3dhcmR9Z2V0IGVkaXRhYmxlRWxlbWVudCgpe3JldHVybiB0aGlzLmFuY2hvcj90aGlzLmFuY2hvci5lZGl0YWJsZUVsZW1lbnQ6bnVsbH0qZ2V0UmFuZ2VzKCl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcmFuZ2VzKXlpZWxkIFFvLmNyZWF0ZUZyb21SYW5nZSh0KX1nZXRGaXJzdFJhbmdlKCl7bGV0IHQ9bnVsbDtmb3IoY29uc3QgZSBvZiB0aGlzLl9yYW5nZXMpdCYmIWUuc3RhcnQuaXNCZWZvcmUodC5zdGFydCl8fCh0PWUpO3JldHVybiB0P1FvLmNyZWF0ZUZyb21SYW5nZSh0KTpudWxsfWdldExhc3RSYW5nZSgpe2xldCB0PW51bGw7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fcmFuZ2VzKXQmJiFlLmVuZC5pc0FmdGVyKHQuZW5kKXx8KHQ9ZSk7cmV0dXJuIHQ/UW8uY3JlYXRlRnJvbVJhbmdlKHQpOm51bGx9Z2V0Rmlyc3RQb3NpdGlvbigpe2NvbnN0IHQ9dGhpcy5nZXRGaXJzdFJhbmdlKCk7cmV0dXJuIHQ/JG8uY3JlYXRlRnJvbVBvc2l0aW9uKHQuc3RhcnQpOm51bGx9Z2V0TGFzdFBvc2l0aW9uKCl7Y29uc3QgdD10aGlzLmdldExhc3RSYW5nZSgpO3JldHVybiB0PyRvLmNyZWF0ZUZyb21Qb3NpdGlvbih0LmVuZCk6bnVsbH1pc0VxdWFsKHQpe2lmKHRoaXMuaXNGYWtlIT10LmlzRmFrZSlyZXR1cm4hMTtpZih0aGlzLmlzRmFrZSYmdGhpcy5mYWtlU2VsZWN0aW9uTGFiZWwhPXQuZmFrZVNlbGVjdGlvbkxhYmVsKXJldHVybiExO2lmKHRoaXMucmFuZ2VDb3VudCE9dC5yYW5nZUNvdW50KXJldHVybiExO2lmKDA9PT10aGlzLnJhbmdlQ291bnQpcmV0dXJuITA7aWYoIXRoaXMuYW5jaG9yLmlzRXF1YWwodC5hbmNob3IpfHwhdGhpcy5mb2N1cy5pc0VxdWFsKHQuZm9jdXMpKXJldHVybiExO2Zvcihjb25zdCBlIG9mIHRoaXMuX3Jhbmdlcyl7bGV0IG49ITE7Zm9yKGNvbnN0IG8gb2YgdC5fcmFuZ2VzKWlmKGUuaXNFcXVhbChvKSl7bj0hMDticmVha31pZighbilyZXR1cm4hMX1yZXR1cm4hMH1pc1NpbWlsYXIodCl7aWYodGhpcy5pc0JhY2t3YXJkIT10LmlzQmFja3dhcmQpcmV0dXJuITE7Y29uc3QgZT1Lbyh0aGlzLmdldFJhbmdlcygpKTtpZihlIT1Lbyh0LmdldFJhbmdlcygpKSlyZXR1cm4hMTtpZigwPT1lKXJldHVybiEwO2ZvcihsZXQgZSBvZiB0aGlzLmdldFJhbmdlcygpKXtlPWUuZ2V0VHJpbW1lZCgpO2xldCBuPSExO2ZvcihsZXQgbyBvZiB0LmdldFJhbmdlcygpKWlmKG89by5nZXRUcmltbWVkKCksZS5zdGFydC5pc0VxdWFsKG8uc3RhcnQpJiZlLmVuZC5pc0VxdWFsKG8uZW5kKSl7bj0hMDticmVha31pZighbilyZXR1cm4hMX1yZXR1cm4hMH1nZXRTZWxlY3RlZEVsZW1lbnQoKXtpZigxIT09dGhpcy5yYW5nZUNvdW50KXJldHVybiBudWxsO2NvbnN0IHQ9dGhpcy5nZXRGaXJzdFJhbmdlKCksZT10LnN0YXJ0Lm5vZGVBZnRlcixuPXQuZW5kLm5vZGVCZWZvcmU7cmV0dXJuIGUgaW5zdGFuY2VvZiBnbyYmZT09bj9lOm51bGx9c2V0VG8odCxlLG4pe2lmKG51bGw9PT10KXRoaXMuX3NldFJhbmdlcyhbXSksdGhpcy5fc2V0RmFrZU9wdGlvbnMoZSk7ZWxzZSBpZih0IGluc3RhbmNlb2YgWm98fHQgaW5zdGFuY2VvZiBYbyl0aGlzLl9zZXRSYW5nZXModC5nZXRSYW5nZXMoKSx0LmlzQmFja3dhcmQpLHRoaXMuX3NldEZha2VPcHRpb25zKHtmYWtlOnQuaXNGYWtlLGxhYmVsOnQuZmFrZVNlbGVjdGlvbkxhYmVsfSk7ZWxzZSBpZih0IGluc3RhbmNlb2YgUW8pdGhpcy5fc2V0UmFuZ2VzKFt0XSxlJiZlLmJhY2t3YXJkKSx0aGlzLl9zZXRGYWtlT3B0aW9ucyhlKTtlbHNlIGlmKHQgaW5zdGFuY2VvZiAkbyl0aGlzLl9zZXRSYW5nZXMoW25ldyBRbyh0KV0pLHRoaXMuX3NldEZha2VPcHRpb25zKGUpO2Vsc2UgaWYodCBpbnN0YW5jZW9mIGFvKXtjb25zdCBvPSEhbiYmISFuLmJhY2t3YXJkO2xldCBpO2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IE0uYihcInZpZXctc2VsZWN0aW9uLXNldFRvLXJlcXVpcmVkLXNlY29uZC1wYXJhbWV0ZXI6IHNlbGVjdGlvbi5zZXRUbyByZXF1aXJlcyB0aGUgc2Vjb25kIHBhcmFtZXRlciB3aGVuIHRoZSBmaXJzdCBwYXJhbWV0ZXIgaXMgYSBub2RlLlwiKTtpPVwiaW5cIj09ZT9Rby5jcmVhdGVJbih0KTpcIm9uXCI9PWU/UW8uY3JlYXRlT24odCk6UW8uY3JlYXRlQ29sbGFwc2VkQXQodCxlKSx0aGlzLl9zZXRSYW5nZXMoW2ldLG8pLHRoaXMuX3NldEZha2VPcHRpb25zKG4pfWVsc2V7aWYoIWhvKHQpKXRocm93IG5ldyBNLmIoXCJ2aWV3LXNlbGVjdGlvbi1zZXRUby1ub3Qtc2VsZWN0YWJsZTogQ2Fubm90IHNldCBzZWxlY3Rpb24gdG8gZ2l2ZW4gcGxhY2UuXCIpO3RoaXMuX3NldFJhbmdlcyh0LGUmJmUuYmFja3dhcmQpLHRoaXMuX3NldEZha2VPcHRpb25zKGUpfXRoaXMuZmlyZShcImNoYW5nZVwiKX1zZXRGb2N1cyh0LGUpe2lmKG51bGw9PT10aGlzLmFuY2hvcil0aHJvdyBuZXcgTS5iKFwidmlldy1zZWxlY3Rpb24tc2V0Rm9jdXMtbm8tcmFuZ2VzOiBDYW5ub3Qgc2V0IHNlbGVjdGlvbiBmb2N1cyBpZiB0aGVyZSBhcmUgbm8gcmFuZ2VzIGluIHNlbGVjdGlvbi5cIik7Y29uc3Qgbj0kby5jcmVhdGVBdCh0LGUpO2lmKFwic2FtZVwiPT1uLmNvbXBhcmVXaXRoKHRoaXMuZm9jdXMpKXJldHVybjtjb25zdCBvPXRoaXMuYW5jaG9yO3RoaXMuX3Jhbmdlcy5wb3AoKSxcImJlZm9yZVwiPT1uLmNvbXBhcmVXaXRoKG8pP3RoaXMuX2FkZFJhbmdlKG5ldyBRbyhuLG8pLCEwKTp0aGlzLl9hZGRSYW5nZShuZXcgUW8obyxuKSksdGhpcy5maXJlKFwiY2hhbmdlXCIpfV9zZXRSYW5nZXModCxlPSExKXt0PUFycmF5LmZyb20odCksdGhpcy5fcmFuZ2VzPVtdO2Zvcihjb25zdCBlIG9mIHQpdGhpcy5fYWRkUmFuZ2UoZSk7dGhpcy5fbGFzdFJhbmdlQmFja3dhcmQ9ISFlfV9zZXRGYWtlT3B0aW9ucyh0PXt9KXt0aGlzLl9pc0Zha2U9ISF0LmZha2UsdGhpcy5fZmFrZVNlbGVjdGlvbkxhYmVsPXQuZmFrZSYmdC5sYWJlbHx8XCJcIn1fYWRkUmFuZ2UodCxlPSExKXtpZighKHQgaW5zdGFuY2VvZiBRbykpdGhyb3cgbmV3IE0uYihcInZpZXctc2VsZWN0aW9uLWFkZC1yYW5nZS1ub3QtcmFuZ2U6IFNlbGVjdGlvbiByYW5nZSBzZXQgdG8gYW4gb2JqZWN0IHRoYXQgaXMgbm90IGFuIGluc3RhbmNlIG9mIHZpZXcuUmFuZ2VcIik7dGhpcy5fcHVzaFJhbmdlKHQpLHRoaXMuX2xhc3RSYW5nZUJhY2t3YXJkPSEhZX1fcHVzaFJhbmdlKHQpe2Zvcihjb25zdCBlIG9mIHRoaXMuX3JhbmdlcylpZih0LmlzSW50ZXJzZWN0aW5nKGUpKXRocm93IG5ldyBNLmIoXCJ2aWV3LXNlbGVjdGlvbi1yYW5nZS1pbnRlcnNlY3RzOiBUcnlpbmcgdG8gYWRkIGEgcmFuZ2UgdGhhdCBpbnRlcnNlY3RzIHdpdGggYW5vdGhlciByYW5nZSBmcm9tIHNlbGVjdGlvbi5cIix7YWRkZWRSYW5nZTp0LGludGVyc2VjdGluZ1JhbmdlOmV9KTt0aGlzLl9yYW5nZXMucHVzaChRby5jcmVhdGVGcm9tUmFuZ2UodCkpfX1CKFpvLFIpO2NsYXNzIFhve2NvbnN0cnVjdG9yKHQ9bnVsbCxlLG4pe3RoaXMuX3NlbGVjdGlvbj1uZXcgWm8sdGhpcy5fc2VsZWN0aW9uLmRlbGVnYXRlKFwiY2hhbmdlXCIpLnRvKHRoaXMpLHRoaXMuX3NlbGVjdGlvbi5zZXRUbyh0LGUsbil9Z2V0IGlzRmFrZSgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uaXNGYWtlfWdldCBmYWtlU2VsZWN0aW9uTGFiZWwoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmZha2VTZWxlY3Rpb25MYWJlbH1nZXQgYW5jaG9yKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5hbmNob3J9Z2V0IGZvY3VzKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5mb2N1c31nZXQgaXNDb2xsYXBzZWQoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmlzQ29sbGFwc2VkfWdldCByYW5nZUNvdW50KCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5yYW5nZUNvdW50fWdldCBpc0JhY2t3YXJkKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5pc0JhY2t3YXJkfWdldCBlZGl0YWJsZUVsZW1lbnQoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmVkaXRhYmxlRWxlbWVudH1nZXQgX3Jhbmdlcygpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uX3Jhbmdlc30qZ2V0UmFuZ2VzKCl7eWllbGQqdGhpcy5fc2VsZWN0aW9uLmdldFJhbmdlcygpfWdldEZpcnN0UmFuZ2UoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldEZpcnN0UmFuZ2UoKX1nZXRMYXN0UmFuZ2UoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldExhc3RSYW5nZSgpfWdldEZpcnN0UG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKX1nZXRMYXN0UG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldExhc3RQb3NpdGlvbigpfWdldFNlbGVjdGVkRWxlbWVudCgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCl9aXNFcXVhbCh0KXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmlzRXF1YWwodCl9aXNTaW1pbGFyKHQpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uaXNTaW1pbGFyKHQpfV9zZXRUbyh0LGUsbil7dGhpcy5fc2VsZWN0aW9uLnNldFRvKHQsZSxuKX1fc2V0Rm9jdXModCxlKXt0aGlzLl9zZWxlY3Rpb24uc2V0Rm9jdXModCxlKX19QihYbyxSKTtjbGFzcyB0aXtjb25zdHJ1Y3Rvcih0PXt9KXt0aGlzLl9pdGVtcz1bXSx0aGlzLl9pdGVtTWFwPW5ldyBNYXAsdGhpcy5faWRQcm9wZXJ0eT10LmlkUHJvcGVydHl8fFwiaWRcIix0aGlzLl9iaW5kVG9FeHRlcm5hbFRvSW50ZXJuYWxNYXA9bmV3IFdlYWtNYXAsdGhpcy5fYmluZFRvSW50ZXJuYWxUb0V4dGVybmFsTWFwPW5ldyBXZWFrTWFwLHRoaXMuX3NraXBwZWRJbmRleGVzRnJvbUV4dGVybmFsPVtdfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5faXRlbXMubGVuZ3RofWdldCBmaXJzdCgpe3JldHVybiB0aGlzLl9pdGVtc1swXXx8bnVsbH1nZXQgbGFzdCgpe3JldHVybiB0aGlzLl9pdGVtc1t0aGlzLmxlbmd0aC0xXXx8bnVsbH1hZGQodCxlKXtsZXQgbjtjb25zdCBvPXRoaXMuX2lkUHJvcGVydHk7aWYobyBpbiB0KXtpZihcInN0cmluZ1wiIT10eXBlb2Yobj10W29dKSl0aHJvdyBuZXcgTS5iKFwiY29sbGVjdGlvbi1hZGQtaW52YWxpZC1pZFwiKTtpZih0aGlzLmdldChuKSl0aHJvdyBuZXcgTS5iKFwiY29sbGVjdGlvbi1hZGQtaXRlbS1hbHJlYWR5LWV4aXN0c1wiKX1lbHNlIHRbb109bj1FKCk7aWYodm9pZCAwPT09ZSllPXRoaXMuX2l0ZW1zLmxlbmd0aDtlbHNlIGlmKGU+dGhpcy5faXRlbXMubGVuZ3RofHxlPDApdGhyb3cgbmV3IE0uYihcImNvbGxlY3Rpb24tYWRkLWl0ZW0taW52YWxpZC1pbmRleFwiKTtyZXR1cm4gdGhpcy5faXRlbXMuc3BsaWNlKGUsMCx0KSx0aGlzLl9pdGVtTWFwLnNldChuLHQpLHRoaXMuZmlyZShcImFkZFwiLHQsZSksdGhpc31nZXQodCl7bGV0IGU7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpZT10aGlzLl9pdGVtTWFwLmdldCh0KTtlbHNle2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0KXRocm93IG5ldyBNLmIoXCJjb2xsZWN0aW9uLWdldC1pbnZhbGlkLWFyZzogSW5kZXggb3IgaWQgbXVzdCBiZSBnaXZlbi5cIik7ZT10aGlzLl9pdGVtc1t0XX1yZXR1cm4gZXx8bnVsbH1nZXRJbmRleCh0KXtsZXQgZTtyZXR1cm4gZT1cInN0cmluZ1wiPT10eXBlb2YgdD90aGlzLl9pdGVtTWFwLmdldCh0KTp0LHRoaXMuX2l0ZW1zLmluZGV4T2YoZSl9cmVtb3ZlKHQpe2xldCBlLG4sbyxpPSExO2NvbnN0IHI9dGhpcy5faWRQcm9wZXJ0eTtpZihcInN0cmluZ1wiPT10eXBlb2YgdD8obj10LGk9IShvPXRoaXMuX2l0ZW1NYXAuZ2V0KG4pKSxvJiYoZT10aGlzLl9pdGVtcy5pbmRleE9mKG8pKSk6XCJudW1iZXJcIj09dHlwZW9mIHQ/KGU9dCxpPSEobz10aGlzLl9pdGVtc1tlXSksbyYmKG49b1tyXSkpOihuPShvPXQpW3JdLGk9LTE9PShlPXRoaXMuX2l0ZW1zLmluZGV4T2YobykpfHwhdGhpcy5faXRlbU1hcC5nZXQobikpLGkpdGhyb3cgbmV3IE0uYihcImNvbGxlY3Rpb24tcmVtb3ZlLTQwNDogSXRlbSBub3QgZm91bmQuXCIpO3RoaXMuX2l0ZW1zLnNwbGljZShlLDEpLHRoaXMuX2l0ZW1NYXAuZGVsZXRlKG4pO2NvbnN0IHM9dGhpcy5fYmluZFRvSW50ZXJuYWxUb0V4dGVybmFsTWFwLmdldChvKTtyZXR1cm4gdGhpcy5fYmluZFRvSW50ZXJuYWxUb0V4dGVybmFsTWFwLmRlbGV0ZShvKSx0aGlzLl9iaW5kVG9FeHRlcm5hbFRvSW50ZXJuYWxNYXAuZGVsZXRlKHMpLHRoaXMuZmlyZShcInJlbW92ZVwiLG8sZSksb31tYXAodCxlKXtyZXR1cm4gdGhpcy5faXRlbXMubWFwKHQsZSl9ZmluZCh0LGUpe3JldHVybiB0aGlzLl9pdGVtcy5maW5kKHQsZSl9ZmlsdGVyKHQsZSl7cmV0dXJuIHRoaXMuX2l0ZW1zLmZpbHRlcih0LGUpfWNsZWFyKCl7Zm9yKHRoaXMuX2JpbmRUb0NvbGxlY3Rpb24mJih0aGlzLnN0b3BMaXN0ZW5pbmcodGhpcy5fYmluZFRvQ29sbGVjdGlvbiksdGhpcy5fYmluZFRvQ29sbGVjdGlvbj1udWxsKTt0aGlzLmxlbmd0aDspdGhpcy5yZW1vdmUoMCl9YmluZFRvKHQpe2lmKHRoaXMuX2JpbmRUb0NvbGxlY3Rpb24pdGhyb3cgbmV3IE0uYihcImNvbGxlY3Rpb24tYmluZC10by1yZWJpbmQ6IFRoZSBjb2xsZWN0aW9uIGNhbm5vdCBiZSBib3VuZCBtb3JlIHRoYW4gb25jZS5cIik7cmV0dXJuIHRoaXMuX2JpbmRUb0NvbGxlY3Rpb249dCx7YXM6dD0+e3RoaXMuX3NldFVwQmluZFRvQmluZGluZyhlPT5uZXcgdChlKSl9LHVzaW5nOnQ9PntcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3RoaXMuX3NldFVwQmluZFRvQmluZGluZyhlPT50KGUpKTp0aGlzLl9zZXRVcEJpbmRUb0JpbmRpbmcoZT0+ZVt0XSl9fX1fc2V0VXBCaW5kVG9CaW5kaW5nKHQpe2NvbnN0IGU9dGhpcy5fYmluZFRvQ29sbGVjdGlvbixuPShuLG8saSk9Pntjb25zdCByPWUuX2JpbmRUb0NvbGxlY3Rpb249PXRoaXMscz1lLl9iaW5kVG9JbnRlcm5hbFRvRXh0ZXJuYWxNYXAuZ2V0KG8pO2lmKHImJnMpdGhpcy5fYmluZFRvRXh0ZXJuYWxUb0ludGVybmFsTWFwLnNldChvLHMpLHRoaXMuX2JpbmRUb0ludGVybmFsVG9FeHRlcm5hbE1hcC5zZXQocyxvKTtlbHNle2NvbnN0IG49dChvKTtpZighbilyZXR1cm4gdm9pZCB0aGlzLl9za2lwcGVkSW5kZXhlc0Zyb21FeHRlcm5hbC5wdXNoKGkpO2xldCByPWk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fc2tpcHBlZEluZGV4ZXNGcm9tRXh0ZXJuYWwpaT50JiZyLS07Zm9yKGNvbnN0IHQgb2YgZS5fc2tpcHBlZEluZGV4ZXNGcm9tRXh0ZXJuYWwpcj49dCYmcisrO3RoaXMuX2JpbmRUb0V4dGVybmFsVG9JbnRlcm5hbE1hcC5zZXQobyxuKSx0aGlzLl9iaW5kVG9JbnRlcm5hbFRvRXh0ZXJuYWxNYXAuc2V0KG4sbyksdGhpcy5hZGQobixyKTtmb3IobGV0IHQ9MDt0PGUuX3NraXBwZWRJbmRleGVzRnJvbUV4dGVybmFsLmxlbmd0aDt0Kyspcjw9ZS5fc2tpcHBlZEluZGV4ZXNGcm9tRXh0ZXJuYWxbdF0mJmUuX3NraXBwZWRJbmRleGVzRnJvbUV4dGVybmFsW3RdKyt9fTtmb3IoY29uc3QgdCBvZiBlKW4oMCx0LGUuZ2V0SW5kZXgodCkpO3RoaXMubGlzdGVuVG8oZSxcImFkZFwiLG4pLHRoaXMubGlzdGVuVG8oZSxcInJlbW92ZVwiLCh0LGUsbik9Pntjb25zdCBvPXRoaXMuX2JpbmRUb0V4dGVybmFsVG9JbnRlcm5hbE1hcC5nZXQoZSk7byYmdGhpcy5yZW1vdmUobyksdGhpcy5fc2tpcHBlZEluZGV4ZXNGcm9tRXh0ZXJuYWw9dGhpcy5fc2tpcHBlZEluZGV4ZXNGcm9tRXh0ZXJuYWwucmVkdWNlKCh0LGUpPT4objxlJiZ0LnB1c2goZS0xKSxuPmUmJnQucHVzaChlKSx0KSxbXSl9KX1bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiB0aGlzLl9pdGVtc1tTeW1ib2wuaXRlcmF0b3JdKCl9fUIodGksUik7Y2xhc3MgZWl7Y29uc3RydWN0b3IoKXt0aGlzLnNlbGVjdGlvbj1uZXcgWG8sdGhpcy5yb290cz1uZXcgdGkoe2lkUHJvcGVydHk6XCJyb290TmFtZVwifSksdGhpcy5zZXQoXCJpc1JlYWRPbmx5XCIsITEpLHRoaXMuc2V0KFwiaXNGb2N1c2VkXCIsITEpLHRoaXMuc2V0KFwiaXNDb21wb3NpbmdcIiwhMSksdGhpcy5fcG9zdEZpeGVycz1uZXcgU2V0fWdldFJvb3QodD1cIm1haW5cIil7cmV0dXJuIHRoaXMucm9vdHMuZ2V0KHQpfXJlZ2lzdGVyUG9zdEZpeGVyKHQpe3RoaXMuX3Bvc3RGaXhlcnMuYWRkKHQpfV9jYWxsUG9zdEZpeGVycyh0KXtsZXQgZT0hMTtkb3tmb3IoY29uc3QgbiBvZiB0aGlzLl9wb3N0Rml4ZXJzKWlmKGU9bih0KSlicmVha313aGlsZShlKX19QihlaSxMbyk7Y29uc3Qgbmk9MTA7Y2xhc3Mgb2kgZXh0ZW5kcyBnb3tjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIodCxlLG4pLHRoaXMuZ2V0RmlsbGVyT2Zmc2V0PWlpLHRoaXMuX3ByaW9yaXR5PW5pLHRoaXMuX2lkPW51bGwsdGhpcy5fY2xvbmVzR3JvdXA9bnVsbH1nZXQgcHJpb3JpdHkoKXtyZXR1cm4gdGhpcy5fcHJpb3JpdHl9Z2V0IGlkKCl7cmV0dXJuIHRoaXMuX2lkfWdldEVsZW1lbnRzV2l0aFNhbWVJZCgpe2lmKG51bGw9PT10aGlzLmlkKXRocm93IG5ldyBNLmIoXCJhdHRyaWJ1dGUtZWxlbWVudC1nZXQtZWxlbWVudHMtd2l0aC1zYW1lLWlkLW5vLWlkOiBDYW5ub3QgZ2V0IGVsZW1lbnRzIHdpdGggdGhlIHNhbWUgaWQgZm9yIGFuIGF0dHJpYnV0ZSBlbGVtZW50IHdpdGhvdXQgaWQuXCIpO3JldHVybiBuZXcgU2V0KHRoaXMuX2Nsb25lc0dyb3VwKX1pcyh0LGU9bnVsbCl7cmV0dXJuIGU/XCJhdHRyaWJ1dGVFbGVtZW50XCI9PXQmJmU9PXRoaXMubmFtZXx8c3VwZXIuaXModCxlKTpcImF0dHJpYnV0ZUVsZW1lbnRcIj09dHx8c3VwZXIuaXModCl9aXNTaW1pbGFyKHQpe3JldHVybiBudWxsIT09dGhpcy5pZHx8bnVsbCE9PXQuaWQ/dGhpcy5pZD09PXQuaWQ6c3VwZXIuaXNTaW1pbGFyKHQpJiZ0aGlzLnByaW9yaXR5PT10LnByaW9yaXR5fV9jbG9uZSh0KXtjb25zdCBlPXN1cGVyLl9jbG9uZSh0KTtyZXR1cm4gZS5fcHJpb3JpdHk9dGhpcy5fcHJpb3JpdHksZS5faWQ9dGhpcy5faWQsZX19ZnVuY3Rpb24gaWkoKXtpZihyaSh0aGlzKSlyZXR1cm4gbnVsbDtsZXQgdD10aGlzLnBhcmVudDtmb3IoO3QmJnQuaXMoXCJhdHRyaWJ1dGVFbGVtZW50XCIpOyl7aWYocmkodCk+MSlyZXR1cm4gbnVsbDt0PXQucGFyZW50fXJldHVybiF0fHxyaSh0KT4xP251bGw6dGhpcy5jaGlsZENvdW50fWZ1bmN0aW9uIHJpKHQpe3JldHVybiBBcnJheS5mcm9tKHQuZ2V0Q2hpbGRyZW4oKSkuZmlsdGVyKHQ9PiF0LmlzKFwidWlFbGVtZW50XCIpKS5sZW5ndGh9b2kuREVGQVVMVF9QUklPUklUWT1uaTtjbGFzcyBzaSBleHRlbmRzIGdve2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcih0LGUsbiksdGhpcy5nZXRGaWxsZXJPZmZzZXQ9YWl9aXModCxlPW51bGwpe3JldHVybiBlP1wiZW1wdHlFbGVtZW50XCI9PXQmJmU9PXRoaXMubmFtZXx8c3VwZXIuaXModCxlKTpcImVtcHR5RWxlbWVudFwiPT10fHxzdXBlci5pcyh0KX1faW5zZXJ0Q2hpbGQodCxlKXtpZihlJiYoZSBpbnN0YW5jZW9mIGFvfHxBcnJheS5mcm9tKGUpLmxlbmd0aD4wKSl0aHJvdyBuZXcgTS5iKFwidmlldy1lbXB0eWVsZW1lbnQtY2Fubm90LWFkZDogQ2Fubm90IGFkZCBjaGlsZCBub2RlcyB0byBFbXB0eUVsZW1lbnQgaW5zdGFuY2UuXCIpfX1mdW5jdGlvbiBhaSgpe3JldHVybiBudWxsfWNvbnN0IGNpPW5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTt2YXIgbGk9e2lzTWFjOmZ1bmN0aW9uKHQpe3JldHVybiB0LmluZGV4T2YoXCJtYWNpbnRvc2hcIik+LTF9KGNpKSxpc0VkZ2U6ZnVuY3Rpb24odCl7cmV0dXJuISF0Lm1hdGNoKC9lZGdlXFwvKFxcZCsuP1xcZCopLyl9KGNpKX07Y29uc3QgZGk9e1wi4oyYXCI6XCJjdHJsXCIsXCLih6dcIjpcInNoaWZ0XCIsXCLijKVcIjpcImFsdFwifSx1aT17Y3RybDpcIuKMmFwiLHNoaWZ0Olwi4oenXCIsYWx0Olwi4oylXCJ9LGhpPWZ1bmN0aW9uKCl7Y29uc3QgdD17YXJyb3dsZWZ0OjM3LGFycm93dXA6MzgsYXJyb3dyaWdodDozOSxhcnJvd2Rvd246NDAsYmFja3NwYWNlOjgsZGVsZXRlOjQ2LGVudGVyOjEzLHNwYWNlOjMyLGVzYzoyNyx0YWI6OSxjdHJsOjExMTQxMTIsY21kOjExMTQxMTIsc2hpZnQ6MjIyODIyNCxhbHQ6NDQ1NjQ0OH07Zm9yKGxldCBlPTY1O2U8PTkwO2UrKyl7Y29uc3Qgbj1TdHJpbmcuZnJvbUNoYXJDb2RlKGUpO3Rbbi50b0xvd2VyQ2FzZSgpXT1lfWZvcihsZXQgZT00ODtlPD01NztlKyspdFtlLTQ4XT1lO2ZvcihsZXQgZT0xMTI7ZTw9MTIzO2UrKyl0W1wiZlwiKyhlLTExMSldPWU7cmV0dXJuIHR9KCk7ZnVuY3Rpb24gZmkodCl7bGV0IGU7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe2lmKCEoZT1oaVt0LnRvTG93ZXJDYXNlKCldKSl0aHJvdyBuZXcgTS5iKFwia2V5Ym9hcmQtdW5rbm93bi1rZXk6IFVua25vd24ga2V5IG5hbWUuXCIse2tleTp0fSl9ZWxzZSBlPXQua2V5Q29kZSsodC5hbHRLZXk/aGkuYWx0OjApKyh0LmN0cmxLZXk/aGkuY3RybDowKSsodC5zaGlmdEtleT9oaS5zaGlmdDowKTtyZXR1cm4gZX1mdW5jdGlvbiBtaSh0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9Z2kodCkpLHQubWFwKHQ9Plwic3RyaW5nXCI9PXR5cGVvZiB0P2ZpKHQpOnQpLnJlZHVjZSgodCxlKT0+ZSt0LDApfWZ1bmN0aW9uIGdpKHQpe3JldHVybiB0LnNwbGl0KC9cXHMqXFwrXFxzKi8pfWNsYXNzIHBpIGV4dGVuZHMgZ297Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKHQsZSxuKSx0aGlzLmdldEZpbGxlck9mZnNldD13aX1pcyh0LGU9bnVsbCl7cmV0dXJuIGU/XCJ1aUVsZW1lbnRcIj09dCYmZT09dGhpcy5uYW1lfHxzdXBlci5pcyh0LGUpOlwidWlFbGVtZW50XCI9PXR8fHN1cGVyLmlzKHQpfV9pbnNlcnRDaGlsZCh0LGUpe2lmKGUmJihlIGluc3RhbmNlb2YgYW98fEFycmF5LmZyb20oZSkubGVuZ3RoPjApKXRocm93IG5ldyBNLmIoXCJ2aWV3LXVpZWxlbWVudC1jYW5ub3QtYWRkOiBDYW5ub3QgYWRkIGNoaWxkIG5vZGVzIHRvIFVJRWxlbWVudCBpbnN0YW5jZS5cIil9cmVuZGVyKHQpe3JldHVybiB0aGlzLnRvRG9tRWxlbWVudCh0KX10b0RvbUVsZW1lbnQodCl7Y29uc3QgZT10LmNyZWF0ZUVsZW1lbnQodGhpcy5uYW1lKTtmb3IoY29uc3QgdCBvZiB0aGlzLmdldEF0dHJpYnV0ZUtleXMoKSllLnNldEF0dHJpYnV0ZSh0LHRoaXMuZ2V0QXR0cmlidXRlKHQpKTtyZXR1cm4gZX19ZnVuY3Rpb24gYmkodCl7dC5kb2N1bWVudC5vbihcImtleWRvd25cIiwoZSxuKT0+KGZ1bmN0aW9uKHQsZSxuKXtpZihlLmtleUNvZGU9PWhpLmFycm93cmlnaHQpe2NvbnN0IHQ9ZS5kb21UYXJnZXQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRTZWxlY3Rpb24oKSxvPTE9PXQucmFuZ2VDb3VudCYmdC5nZXRSYW5nZUF0KDApLmNvbGxhcHNlZDtpZihvfHxlLnNoaWZ0S2V5KXtjb25zdCBlPXQuZm9jdXNOb2RlLGk9dC5mb2N1c09mZnNldCxyPW4uZG9tUG9zaXRpb25Ub1ZpZXcoZSxpKTtpZihudWxsPT09cilyZXR1cm47bGV0IHM9ITE7Y29uc3QgYT1yLmdldExhc3RNYXRjaGluZ1Bvc2l0aW9uKHQ9Pih0Lml0ZW0uaXMoXCJ1aUVsZW1lbnRcIikmJihzPSEwKSwhKCF0Lml0ZW0uaXMoXCJ1aUVsZW1lbnRcIikmJiF0Lml0ZW0uaXMoXCJhdHRyaWJ1dGVFbGVtZW50XCIpKSkpO2lmKHMpe2NvbnN0IGU9bi52aWV3UG9zaXRpb25Ub0RvbShhKTtvP3QuY29sbGFwc2UoZS5wYXJlbnQsZS5vZmZzZXQpOnQuZXh0ZW5kKGUucGFyZW50LGUub2Zmc2V0KX19fX0pKDAsbix0LmRvbUNvbnZlcnRlcikpfWZ1bmN0aW9uIHdpKCl7cmV0dXJuIG51bGx9Y2xhc3MgX2l7Y29uc3RydWN0b3IodCl7dGhpcy5fY2hpbGRyZW49W10sdCYmdGhpcy5faW5zZXJ0Q2hpbGQoMCx0KX1bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiB0aGlzLl9jaGlsZHJlbltTeW1ib2wuaXRlcmF0b3JdKCl9Z2V0IGNoaWxkQ291bnQoKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4ubGVuZ3RofWdldCBpc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmNoaWxkQ291bnR9Z2V0IHJvb3QoKXtyZXR1cm4gdGhpc31nZXQgcGFyZW50KCl7cmV0dXJuIG51bGx9aXModCl7cmV0dXJuXCJkb2N1bWVudEZyYWdtZW50XCI9PXR9X2FwcGVuZENoaWxkKHQpe3JldHVybiB0aGlzLl9pbnNlcnRDaGlsZCh0aGlzLmNoaWxkQ291bnQsdCl9Z2V0Q2hpbGQodCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuW3RdfWdldENoaWxkSW5kZXgodCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmluZGV4T2YodCl9Z2V0Q2hpbGRyZW4oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5bU3ltYm9sLml0ZXJhdG9yXSgpfV9pbnNlcnRDaGlsZCh0LGUpe3RoaXMuX2ZpcmVDaGFuZ2UoXCJjaGlsZHJlblwiLHRoaXMpO2xldCBuPTA7Y29uc3Qgbz1mdW5jdGlvbih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm5bbmV3IGNvKHQpXTtobyh0KXx8KHQ9W3RdKTtyZXR1cm4gQXJyYXkuZnJvbSh0KS5tYXAodD0+XCJzdHJpbmdcIj09dHlwZW9mIHQ/bmV3IGNvKHQpOnQgaW5zdGFuY2VvZiBsbz9uZXcgY28odC5kYXRhKTp0KX0oZSk7Zm9yKGNvbnN0IGUgb2YgbyludWxsIT09ZS5wYXJlbnQmJmUuX3JlbW92ZSgpLGUucGFyZW50PXRoaXMsdGhpcy5fY2hpbGRyZW4uc3BsaWNlKHQsMCxlKSx0KyssbisrO3JldHVybiBufV9yZW1vdmVDaGlsZHJlbih0LGU9MSl7dGhpcy5fZmlyZUNoYW5nZShcImNoaWxkcmVuXCIsdGhpcyk7Zm9yKGxldCBuPXQ7bjx0K2U7bisrKXRoaXMuX2NoaWxkcmVuW25dLnBhcmVudD1udWxsO3JldHVybiB0aGlzLl9jaGlsZHJlbi5zcGxpY2UodCxlKX1fZmlyZUNoYW5nZSh0LGUpe3RoaXMuZmlyZShcImNoYW5nZTpcIit0LGUpfX1CKF9pLFIpO2NsYXNzIHZpe2NvbnN0cnVjdG9yKHQpe3RoaXMuZG9jdW1lbnQ9dCx0aGlzLl9jbG9uZUdyb3Vwcz1uZXcgTWFwfXNldFNlbGVjdGlvbih0LGUsbil7dGhpcy5kb2N1bWVudC5zZWxlY3Rpb24uX3NldFRvKHQsZSxuKX1zZXRTZWxlY3Rpb25Gb2N1cyh0LGUpe3RoaXMuZG9jdW1lbnQuc2VsZWN0aW9uLl9zZXRGb2N1cyh0LGUpfWNyZWF0ZVRleHQodCl7cmV0dXJuIG5ldyBjbyh0KX1jcmVhdGVBdHRyaWJ1dGVFbGVtZW50KHQsZSxuPXt9KXtjb25zdCBvPW5ldyBvaSh0LGUpO3JldHVybiBuLnByaW9yaXR5JiYoby5fcHJpb3JpdHk9bi5wcmlvcml0eSksbi5pZCYmKG8uX2lkPW4uaWQpLG99Y3JlYXRlQ29udGFpbmVyRWxlbWVudCh0LGUpe3JldHVybiBuZXcgd28odCxlKX1jcmVhdGVFZGl0YWJsZUVsZW1lbnQodCxlKXtjb25zdCBuPW5ldyBxbyh0LGUpO3JldHVybiBuLl9kb2N1bWVudD10aGlzLmRvY3VtZW50LG59Y3JlYXRlRW1wdHlFbGVtZW50KHQsZSl7cmV0dXJuIG5ldyBzaSh0LGUpfWNyZWF0ZVVJRWxlbWVudCh0LGUsbil7Y29uc3Qgbz1uZXcgcGkodCxlKTtyZXR1cm4gbiYmKG8ucmVuZGVyPW4pLG99c2V0QXR0cmlidXRlKHQsZSxuKXtuLl9zZXRBdHRyaWJ1dGUodCxlKX1yZW1vdmVBdHRyaWJ1dGUodCxlKXtlLl9yZW1vdmVBdHRyaWJ1dGUodCl9YWRkQ2xhc3ModCxlKXtlLl9hZGRDbGFzcyh0KX1yZW1vdmVDbGFzcyh0LGUpe2UuX3JlbW92ZUNsYXNzKHQpfXNldFN0eWxlKHQsZSxuKXtDKHQpJiZ2b2lkIDA9PT1uJiYobj1lKSxuLl9zZXRTdHlsZSh0LGUpfXJlbW92ZVN0eWxlKHQsZSl7ZS5fcmVtb3ZlU3R5bGUodCl9c2V0Q3VzdG9tUHJvcGVydHkodCxlLG4pe24uX3NldEN1c3RvbVByb3BlcnR5KHQsZSl9cmVtb3ZlQ3VzdG9tUHJvcGVydHkodCxlKXtyZXR1cm4gZS5fcmVtb3ZlQ3VzdG9tUHJvcGVydHkodCl9YnJlYWtBdHRyaWJ1dGVzKHQpe3JldHVybiB0IGluc3RhbmNlb2YgJG8/dGhpcy5fYnJlYWtBdHRyaWJ1dGVzKHQpOnRoaXMuX2JyZWFrQXR0cmlidXRlc1JhbmdlKHQpfWJyZWFrQ29udGFpbmVyKHQpe2NvbnN0IGU9dC5wYXJlbnQ7aWYoIWUuaXMoXCJjb250YWluZXJFbGVtZW50XCIpKXRocm93IG5ldyBNLmIoXCJ2aWV3LXdyaXRlci1icmVhay1ub24tY29udGFpbmVyLWVsZW1lbnQ6IFRyeWluZyB0byBicmVhayBhbiBlbGVtZW50IHdoaWNoIGlzIG5vdCBhIGNvbnRhaW5lciBlbGVtZW50LlwiKTtpZighZS5wYXJlbnQpdGhyb3cgbmV3IE0uYihcInZpZXctd3JpdGVyLWJyZWFrLXJvb3Q6IFRyeWluZyB0byBicmVhayByb290IGVsZW1lbnQuXCIpO2lmKHQuaXNBdFN0YXJ0KXJldHVybiAkby5jcmVhdGVCZWZvcmUoZSk7aWYoIXQuaXNBdEVuZCl7Y29uc3Qgbj1lLl9jbG9uZSghMSk7dGhpcy5pbnNlcnQoJG8uY3JlYXRlQWZ0ZXIoZSksbik7Y29uc3Qgbz1uZXcgUW8odCwkby5jcmVhdGVBdChlLFwiZW5kXCIpKSxpPW5ldyAkbyhuLDApO3RoaXMubW92ZShvLGkpfXJldHVybiAkby5jcmVhdGVBZnRlcihlKX1tZXJnZUF0dHJpYnV0ZXModCl7Y29uc3QgZT10Lm9mZnNldCxuPXQucGFyZW50O2lmKG4uaXMoXCJ0ZXh0XCIpKXJldHVybiB0O2lmKG4uaXMoXCJhdHRyaWJ1dGVFbGVtZW50XCIpJiYwPT09bi5jaGlsZENvdW50KXtjb25zdCB0PW4ucGFyZW50LGU9bi5pbmRleDtyZXR1cm4gbi5fcmVtb3ZlKCksdGhpcy5fcmVtb3ZlRnJvbUNsb25lZEVsZW1lbnRzR3JvdXAobiksdGhpcy5tZXJnZUF0dHJpYnV0ZXMobmV3ICRvKHQsZSkpfWNvbnN0IG89bi5nZXRDaGlsZChlLTEpLGk9bi5nZXRDaGlsZChlKTtpZighb3x8IWkpcmV0dXJuIHQ7aWYoby5pcyhcInRleHRcIikmJmkuaXMoXCJ0ZXh0XCIpKXJldHVybiBDaShvLGkpO2lmKG8uaXMoXCJhdHRyaWJ1dGVFbGVtZW50XCIpJiZpLmlzKFwiYXR0cmlidXRlRWxlbWVudFwiKSYmby5pc1NpbWlsYXIoaSkpe2NvbnN0IHQ9by5jaGlsZENvdW50O3JldHVybiBvLl9hcHBlbmRDaGlsZChpLmdldENoaWxkcmVuKCkpLGkuX3JlbW92ZSgpLHRoaXMuX3JlbW92ZUZyb21DbG9uZWRFbGVtZW50c0dyb3VwKGkpLHRoaXMubWVyZ2VBdHRyaWJ1dGVzKG5ldyAkbyhvLHQpKX1yZXR1cm4gdH1tZXJnZUNvbnRhaW5lcnModCl7Y29uc3QgZT10Lm5vZGVCZWZvcmUsbj10Lm5vZGVBZnRlcjtpZighKGUmJm4mJmUuaXMoXCJjb250YWluZXJFbGVtZW50XCIpJiZuLmlzKFwiY29udGFpbmVyRWxlbWVudFwiKSkpdGhyb3cgbmV3IE0uYihcInZpZXctd3JpdGVyLW1lcmdlLWNvbnRhaW5lcnMtaW52YWxpZC1wb3NpdGlvbjogRWxlbWVudCBiZWZvcmUgYW5kIGFmdGVyIGdpdmVuIHBvc2l0aW9uIGNhbm5vdCBiZSBtZXJnZWQuXCIpO2NvbnN0IG89ZS5nZXRDaGlsZChlLmNoaWxkQ291bnQtMSksaT1vIGluc3RhbmNlb2YgY28/JG8uY3JlYXRlQXQobyxcImVuZFwiKTokby5jcmVhdGVBdChlLFwiZW5kXCIpO3JldHVybiB0aGlzLm1vdmUoUW8uY3JlYXRlSW4obiksJG8uY3JlYXRlQXQoZSxcImVuZFwiKSksdGhpcy5yZW1vdmUoUW8uY3JlYXRlT24obikpLGl9aW5zZXJ0KHQsZSl7KGZ1bmN0aW9uIHQoZSl7Zm9yKGNvbnN0IG4gb2YgZSl7aWYoIVRpLnNvbWUodD0+biBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBNLmIoXCJ2aWV3LXdyaXRlci1pbnNlcnQtaW52YWxpZC1ub2RlXCIpO24uaXMoXCJ0ZXh0XCIpfHx0KG4uZ2V0Q2hpbGRyZW4oKSl9fSkoZT1obyhlKT9bLi4uZV06W2VdKTtjb25zdCBuPWtpKHQpO2lmKCFuKXRocm93IG5ldyBNLmIoXCJ2aWV3LXdyaXRlci1pbnZhbGlkLXBvc2l0aW9uLWNvbnRhaW5lclwiKTtjb25zdCBvPXRoaXMuX2JyZWFrQXR0cmlidXRlcyh0LCEwKSxpPW4uX2luc2VydENoaWxkKG8ub2Zmc2V0LGUpO2Zvcihjb25zdCB0IG9mIGUpdGhpcy5fYWRkVG9DbG9uZWRFbGVtZW50c0dyb3VwKHQpO2NvbnN0IHI9by5nZXRTaGlmdGVkQnkoaSkscz10aGlzLm1lcmdlQXR0cmlidXRlcyhvKTtpZigwPT09aSlyZXR1cm4gbmV3IFFvKHMscyk7e3MuaXNFcXVhbChvKXx8ci5vZmZzZXQtLTtjb25zdCB0PXRoaXMubWVyZ2VBdHRyaWJ1dGVzKHIpO3JldHVybiBuZXcgUW8ocyx0KX19cmVtb3ZlKHQpe2NvbnN0IGU9dCBpbnN0YW5jZW9mIFFvP3Q6UW8uY3JlYXRlT24odCk7aWYoUGkoZSksZS5pc0NvbGxhcHNlZClyZXR1cm4gbmV3IF9pO2NvbnN0e3N0YXJ0Om4sZW5kOm99PXRoaXMuX2JyZWFrQXR0cmlidXRlc1JhbmdlKGUsITApLGk9bi5wYXJlbnQscj1vLm9mZnNldC1uLm9mZnNldCxzPWkuX3JlbW92ZUNoaWxkcmVuKG4ub2Zmc2V0LHIpO2Zvcihjb25zdCB0IG9mIHMpdGhpcy5fcmVtb3ZlRnJvbUNsb25lZEVsZW1lbnRzR3JvdXAodCk7Y29uc3QgYT10aGlzLm1lcmdlQXR0cmlidXRlcyhuKTtyZXR1cm4gZS5zdGFydD1hLGUuZW5kPSRvLmNyZWF0ZUZyb21Qb3NpdGlvbihhKSxuZXcgX2kocyl9Y2xlYXIodCxlKXtQaSh0KTtjb25zdCBuPXQuZ2V0V2Fsa2VyKHtkaXJlY3Rpb246XCJiYWNrd2FyZFwiLGlnbm9yZUVsZW1lbnRFbmQ6ITB9KTtmb3IoY29uc3QgbyBvZiBuKXtjb25zdCBuPW8uaXRlbTtsZXQgaTtpZihuLmlzKFwiZWxlbWVudFwiKSYmZS5pc1NpbWlsYXIobikpaT1Rby5jcmVhdGVPbihuKTtlbHNlIGlmKCFvLm5leHRQb3NpdGlvbi5pc0FmdGVyKHQuc3RhcnQpJiZuLmlzKFwidGV4dFByb3h5XCIpKXtjb25zdCB0PW4uZ2V0QW5jZXN0b3JzKCkuZmluZCh0PT50LmlzKFwiZWxlbWVudFwiKSYmZS5pc1NpbWlsYXIodCkpO3QmJihpPVFvLmNyZWF0ZUluKHQpKX1pJiYoaS5lbmQuaXNBZnRlcih0LmVuZCkmJihpLmVuZD10LmVuZCksaS5zdGFydC5pc0JlZm9yZSh0LnN0YXJ0KSYmKGkuc3RhcnQ9dC5zdGFydCksdGhpcy5yZW1vdmUoaSkpfX1tb3ZlKHQsZSl7bGV0IG47aWYoZS5pc0FmdGVyKHQuZW5kKSl7Y29uc3Qgbz0oZT10aGlzLl9icmVha0F0dHJpYnV0ZXMoZSwhMCkpLnBhcmVudCxpPW8uY2hpbGRDb3VudDt0PXRoaXMuX2JyZWFrQXR0cmlidXRlc1JhbmdlKHQsITApLG49dGhpcy5yZW1vdmUodCksZS5vZmZzZXQrPW8uY2hpbGRDb3VudC1pfWVsc2Ugbj10aGlzLnJlbW92ZSh0KTtyZXR1cm4gdGhpcy5pbnNlcnQoZSxuKX13cmFwKHQsZSl7aWYoIShlIGluc3RhbmNlb2Ygb2kpKXRocm93IG5ldyBNLmIoXCJ2aWV3LXdyaXRlci13cmFwLWludmFsaWQtYXR0cmlidXRlXCIpO2lmKFBpKHQpLHQuaXNDb2xsYXBzZWQpe2xldCBuPXQuc3RhcnQ7bi5wYXJlbnQuaXMoXCJlbGVtZW50XCIpJiYhZnVuY3Rpb24odCl7cmV0dXJuIEFycmF5LmZyb20odC5nZXRDaGlsZHJlbigpKS5zb21lKHQ9PiF0LmlzKFwidWlFbGVtZW50XCIpKX0obi5wYXJlbnQpJiYobj1uLmdldExhc3RNYXRjaGluZ1Bvc2l0aW9uKHQ9PnQuaXRlbS5pcyhcInVpRWxlbWVudFwiKSkpLG49dGhpcy5fd3JhcFBvc2l0aW9uKG4sZSk7Y29uc3Qgbz10aGlzLmRvY3VtZW50LnNlbGVjdGlvbjtyZXR1cm4gby5pc0NvbGxhcHNlZCYmby5nZXRGaXJzdFBvc2l0aW9uKCkuaXNFcXVhbCh0LnN0YXJ0KSYmdGhpcy5zZXRTZWxlY3Rpb24obiksbmV3IFFvKG4pfXJldHVybiB0aGlzLl93cmFwUmFuZ2UodCxlKX11bndyYXAodCxlKXtpZighKGUgaW5zdGFuY2VvZiBvaSkpdGhyb3cgbmV3IE0uYihcInZpZXctd3JpdGVyLXVud3JhcC1pbnZhbGlkLWF0dHJpYnV0ZVwiKTtpZihQaSh0KSx0LmlzQ29sbGFwc2VkKXJldHVybiB0O2NvbnN0e3N0YXJ0Om4sZW5kOm99PXRoaXMuX2JyZWFrQXR0cmlidXRlc1JhbmdlKHQsITApO2lmKG8uaXNFcXVhbChuLmdldFNoaWZ0ZWRCeSgxKSkpe2NvbnN0IHQ9bi5ub2RlQWZ0ZXI7aWYoIWUuaXNTaW1pbGFyKHQpJiZ0IGluc3RhbmNlb2Ygb2kmJnRoaXMuX3Vud3JhcEF0dHJpYnV0ZUVsZW1lbnQoZSx0KSl7Y29uc3QgdD10aGlzLm1lcmdlQXR0cmlidXRlcyhuKTt0LmlzRXF1YWwobil8fG8ub2Zmc2V0LS07Y29uc3QgZT10aGlzLm1lcmdlQXR0cmlidXRlcyhvKTtyZXR1cm4gbmV3IFFvKHQsZSl9fWNvbnN0IGk9bi5wYXJlbnQscj10aGlzLl91bndyYXBDaGlsZHJlbihpLG4ub2Zmc2V0LG8ub2Zmc2V0LGUpLHM9dGhpcy5tZXJnZUF0dHJpYnV0ZXMoci5zdGFydCk7cy5pc0VxdWFsKHIuc3RhcnQpfHxyLmVuZC5vZmZzZXQtLTtjb25zdCBhPXRoaXMubWVyZ2VBdHRyaWJ1dGVzKHIuZW5kKTtyZXR1cm4gbmV3IFFvKHMsYSl9cmVuYW1lKHQsZSl7Y29uc3Qgbj1uZXcgd28odCxlLmdldEF0dHJpYnV0ZXMoKSk7cmV0dXJuIHRoaXMuaW5zZXJ0KCRvLmNyZWF0ZUFmdGVyKGUpLG4pLHRoaXMubW92ZShRby5jcmVhdGVJbihlKSwkby5jcmVhdGVBdChuKSksdGhpcy5yZW1vdmUoUW8uY3JlYXRlT24oZSkpLG59Y2xlYXJDbG9uZWRFbGVtZW50c0dyb3VwKHQpe3RoaXMuX2Nsb25lR3JvdXBzLmRlbGV0ZSh0KX1fd3JhcENoaWxkcmVuKHQsZSxuLG8pe2xldCBpPWU7Y29uc3Qgcj1bXTtmb3IoO2k8bjspe2NvbnN0IGU9dC5nZXRDaGlsZChpKSxuPWUuaXMoXCJ0ZXh0XCIpLHM9ZS5pcyhcImF0dHJpYnV0ZUVsZW1lbnRcIiksYT1lLmlzKFwiZW1wdHlFbGVtZW50XCIpLGM9ZS5pcyhcInVpRWxlbWVudFwiKTtpZihufHxhfHxjfHxzJiZ5aShvLGUpKXtjb25zdCBuPW8uX2Nsb25lKCk7ZS5fcmVtb3ZlKCksbi5fYXBwZW5kQ2hpbGQoZSksdC5faW5zZXJ0Q2hpbGQoaSxuKSx0aGlzLl9hZGRUb0Nsb25lZEVsZW1lbnRzR3JvdXAobiksci5wdXNoKG5ldyAkbyh0LGkpKX1lbHNlIHMmJnRoaXMuX3dyYXBDaGlsZHJlbihlLDAsZS5jaGlsZENvdW50LG8pO2krK31sZXQgcz0wO2Zvcihjb25zdCB0IG9mIHIpe2lmKHQub2Zmc2V0LT1zLHQub2Zmc2V0PT1lKWNvbnRpbnVlO3RoaXMubWVyZ2VBdHRyaWJ1dGVzKHQpLmlzRXF1YWwodCl8fChzKyssbi0tKX1yZXR1cm4gUW8uY3JlYXRlRnJvbVBhcmVudHNBbmRPZmZzZXRzKHQsZSx0LG4pfV91bndyYXBDaGlsZHJlbih0LGUsbixvKXtsZXQgaT1lO2NvbnN0IHI9W107Zm9yKDtpPG47KXtjb25zdCBlPXQuZ2V0Q2hpbGQoaSk7aWYoZS5pc1NpbWlsYXIobykpe2NvbnN0IG89ZS5nZXRDaGlsZHJlbigpLHM9ZS5jaGlsZENvdW50O2UuX3JlbW92ZSgpLHQuX2luc2VydENoaWxkKGksbyksdGhpcy5fcmVtb3ZlRnJvbUNsb25lZEVsZW1lbnRzR3JvdXAoZSksci5wdXNoKG5ldyAkbyh0LGkpLG5ldyAkbyh0LGkrcykpLGkrPXMsbis9cy0xfWVsc2UgZS5pcyhcImF0dHJpYnV0ZUVsZW1lbnRcIikmJnRoaXMuX3Vud3JhcENoaWxkcmVuKGUsMCxlLmNoaWxkQ291bnQsbyksaSsrfWxldCBzPTA7Zm9yKGNvbnN0IHQgb2Ygcil7aWYodC5vZmZzZXQtPXMsdC5vZmZzZXQ9PWV8fHQub2Zmc2V0PT1uKWNvbnRpbnVlO3RoaXMubWVyZ2VBdHRyaWJ1dGVzKHQpLmlzRXF1YWwodCl8fChzKyssbi0tKX1yZXR1cm4gUW8uY3JlYXRlRnJvbVBhcmVudHNBbmRPZmZzZXRzKHQsZSx0LG4pfV93cmFwUmFuZ2UodCxlKXtpZihmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGFydC5wYXJlbnQ9PXQuZW5kLnBhcmVudCYmdC5zdGFydC5wYXJlbnQuaXMoXCJhdHRyaWJ1dGVFbGVtZW50XCIpJiYwPT09dC5zdGFydC5vZmZzZXQmJnQuZW5kLm9mZnNldD09PXQuc3RhcnQucGFyZW50LmNoaWxkQ291bnR9KHQpJiZ0aGlzLl93cmFwQXR0cmlidXRlRWxlbWVudChlLHQuc3RhcnQucGFyZW50KSl7Y29uc3QgZT10LnN0YXJ0LnBhcmVudCxuPXRoaXMubWVyZ2VBdHRyaWJ1dGVzKCRvLmNyZWF0ZUFmdGVyKGUpKSxvPXRoaXMubWVyZ2VBdHRyaWJ1dGVzKCRvLmNyZWF0ZUJlZm9yZShlKSk7cmV0dXJuIG5ldyBRbyhvLG4pfWNvbnN0e3N0YXJ0Om4sZW5kOm99PXRoaXMuX2JyZWFrQXR0cmlidXRlc1JhbmdlKHQsITApO2lmKG8uaXNFcXVhbChuLmdldFNoaWZ0ZWRCeSgxKSkpe2NvbnN0IHQ9bi5ub2RlQWZ0ZXI7aWYodCBpbnN0YW5jZW9mIG9pJiZ0aGlzLl93cmFwQXR0cmlidXRlRWxlbWVudChlLHQpKXtjb25zdCB0PXRoaXMubWVyZ2VBdHRyaWJ1dGVzKG4pO3QuaXNFcXVhbChuKXx8by5vZmZzZXQtLTtjb25zdCBlPXRoaXMubWVyZ2VBdHRyaWJ1dGVzKG8pO3JldHVybiBuZXcgUW8odCxlKX19Y29uc3QgaT1uLnBhcmVudCxyPXRoaXMuX3Vud3JhcENoaWxkcmVuKGksbi5vZmZzZXQsby5vZmZzZXQsZSkscz10aGlzLl93cmFwQ2hpbGRyZW4oaSxyLnN0YXJ0Lm9mZnNldCxyLmVuZC5vZmZzZXQsZSksYT10aGlzLm1lcmdlQXR0cmlidXRlcyhzLnN0YXJ0KTthLmlzRXF1YWwocy5zdGFydCl8fHMuZW5kLm9mZnNldC0tO2NvbnN0IGM9dGhpcy5tZXJnZUF0dHJpYnV0ZXMocy5lbmQpO3JldHVybiBuZXcgUW8oYSxjKX1fd3JhcFBvc2l0aW9uKHQsZSl7aWYoZS5pc1NpbWlsYXIodC5wYXJlbnQpKXJldHVybiB4aSgkby5jcmVhdGVGcm9tUG9zaXRpb24odCkpO3QucGFyZW50LmlzKFwidGV4dFwiKSYmKHQ9QWkodCkpO2NvbnN0IG49dGhpcy5jcmVhdGVBdHRyaWJ1dGVFbGVtZW50KCk7bi5fcHJpb3JpdHk9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLG4uaXNTaW1pbGFyPSgoKT0+ITEpLHQucGFyZW50Ll9pbnNlcnRDaGlsZCh0Lm9mZnNldCxuKTtjb25zdCBvPW5ldyBRbyh0LHQuZ2V0U2hpZnRlZEJ5KDEpKTt0aGlzLndyYXAobyxlKTtjb25zdCBpPW5ldyAkbyhuLnBhcmVudCxuLmluZGV4KTtuLl9yZW1vdmUoKTtjb25zdCByPWkubm9kZUJlZm9yZSxzPWkubm9kZUFmdGVyO3JldHVybiByIGluc3RhbmNlb2YgY28mJnMgaW5zdGFuY2VvZiBjbz9DaShyLHMpOnhpKGkpfV93cmFwQXR0cmlidXRlRWxlbWVudCh0LGUpe2lmKCFTaSh0LGUpKXJldHVybiExO2lmKHQubmFtZSE9PWUubmFtZXx8dC5wcmlvcml0eSE9PWUucHJpb3JpdHkpcmV0dXJuITE7Zm9yKGNvbnN0IG4gb2YgdC5nZXRBdHRyaWJ1dGVLZXlzKCkpaWYoXCJjbGFzc1wiIT09biYmXCJzdHlsZVwiIT09biYmZS5oYXNBdHRyaWJ1dGUobikmJmUuZ2V0QXR0cmlidXRlKG4pIT09dC5nZXRBdHRyaWJ1dGUobikpcmV0dXJuITE7Zm9yKGNvbnN0IG4gb2YgdC5nZXRTdHlsZU5hbWVzKCkpaWYoZS5oYXNTdHlsZShuKSYmZS5nZXRTdHlsZShuKSE9PXQuZ2V0U3R5bGUobikpcmV0dXJuITE7Zm9yKGNvbnN0IG4gb2YgdC5nZXRBdHRyaWJ1dGVLZXlzKCkpXCJjbGFzc1wiIT09biYmXCJzdHlsZVwiIT09biYmKGUuaGFzQXR0cmlidXRlKG4pfHx0aGlzLnNldEF0dHJpYnV0ZShuLHQuZ2V0QXR0cmlidXRlKG4pLGUpKTtmb3IoY29uc3QgbiBvZiB0LmdldFN0eWxlTmFtZXMoKSllLmhhc1N0eWxlKG4pfHx0aGlzLnNldFN0eWxlKG4sdC5nZXRTdHlsZShuKSxlKTtmb3IoY29uc3QgbiBvZiB0LmdldENsYXNzTmFtZXMoKSllLmhhc0NsYXNzKG4pfHx0aGlzLmFkZENsYXNzKG4sZSk7cmV0dXJuITB9X3Vud3JhcEF0dHJpYnV0ZUVsZW1lbnQodCxlKXtpZighU2kodCxlKSlyZXR1cm4hMTtpZih0Lm5hbWUhPT1lLm5hbWV8fHQucHJpb3JpdHkhPT1lLnByaW9yaXR5KXJldHVybiExO2Zvcihjb25zdCBuIG9mIHQuZ2V0QXR0cmlidXRlS2V5cygpKWlmKFwiY2xhc3NcIiE9PW4mJlwic3R5bGVcIiE9PW4mJighZS5oYXNBdHRyaWJ1dGUobil8fGUuZ2V0QXR0cmlidXRlKG4pIT09dC5nZXRBdHRyaWJ1dGUobikpKXJldHVybiExO2lmKCFlLmhhc0NsYXNzKC4uLnQuZ2V0Q2xhc3NOYW1lcygpKSlyZXR1cm4hMTtmb3IoY29uc3QgbiBvZiB0LmdldFN0eWxlTmFtZXMoKSlpZighZS5oYXNTdHlsZShuKXx8ZS5nZXRTdHlsZShuKSE9PXQuZ2V0U3R5bGUobikpcmV0dXJuITE7Zm9yKGNvbnN0IG4gb2YgdC5nZXRBdHRyaWJ1dGVLZXlzKCkpXCJjbGFzc1wiIT09biYmXCJzdHlsZVwiIT09biYmdGhpcy5yZW1vdmVBdHRyaWJ1dGUobixlKTtyZXR1cm4gdGhpcy5yZW1vdmVDbGFzcyhBcnJheS5mcm9tKHQuZ2V0Q2xhc3NOYW1lcygpKSxlKSx0aGlzLnJlbW92ZVN0eWxlKEFycmF5LmZyb20odC5nZXRTdHlsZU5hbWVzKCkpLGUpLCEwfV9icmVha0F0dHJpYnV0ZXNSYW5nZSh0LGU9ITEpe2NvbnN0IG49dC5zdGFydCxvPXQuZW5kO2lmKFBpKHQpLHQuaXNDb2xsYXBzZWQpe2NvbnN0IG49dGhpcy5fYnJlYWtBdHRyaWJ1dGVzKHQuc3RhcnQsZSk7cmV0dXJuIG5ldyBRbyhuLG4pfWNvbnN0IGk9dGhpcy5fYnJlYWtBdHRyaWJ1dGVzKG8sZSkscj1pLnBhcmVudC5jaGlsZENvdW50LHM9dGhpcy5fYnJlYWtBdHRyaWJ1dGVzKG4sZSk7cmV0dXJuIGkub2Zmc2V0Kz1pLnBhcmVudC5jaGlsZENvdW50LXIsbmV3IFFvKHMsaSl9X2JyZWFrQXR0cmlidXRlcyh0LGU9ITEpe2NvbnN0IG49dC5vZmZzZXQsbz10LnBhcmVudDtpZih0LnBhcmVudC5pcyhcImVtcHR5RWxlbWVudFwiKSl0aHJvdyBuZXcgTS5iKFwidmlldy13cml0ZXItY2Fubm90LWJyZWFrLWVtcHR5LWVsZW1lbnRcIik7aWYodC5wYXJlbnQuaXMoXCJ1aUVsZW1lbnRcIikpdGhyb3cgbmV3IE0uYihcInZpZXctd3JpdGVyLWNhbm5vdC1icmVhay11aS1lbGVtZW50XCIpO2lmKCFlJiZvLmlzKFwidGV4dFwiKSYmTWkoby5wYXJlbnQpKXJldHVybiAkby5jcmVhdGVGcm9tUG9zaXRpb24odCk7aWYoTWkobykpcmV0dXJuICRvLmNyZWF0ZUZyb21Qb3NpdGlvbih0KTtpZihvLmlzKFwidGV4dFwiKSlyZXR1cm4gdGhpcy5fYnJlYWtBdHRyaWJ1dGVzKEFpKHQpLGUpO2lmKG49PW8uY2hpbGRDb3VudCl7Y29uc3QgdD1uZXcgJG8oby5wYXJlbnQsby5pbmRleCsxKTtyZXR1cm4gdGhpcy5fYnJlYWtBdHRyaWJ1dGVzKHQsZSl9aWYoMD09PW4pe2NvbnN0IHQ9bmV3ICRvKG8ucGFyZW50LG8uaW5kZXgpO3JldHVybiB0aGlzLl9icmVha0F0dHJpYnV0ZXModCxlKX17Y29uc3QgdD1vLmluZGV4KzEsaT1vLl9jbG9uZSgpO28ucGFyZW50Ll9pbnNlcnRDaGlsZCh0LGkpLHRoaXMuX2FkZFRvQ2xvbmVkRWxlbWVudHNHcm91cChpKTtjb25zdCByPW8uY2hpbGRDb3VudC1uLHM9by5fcmVtb3ZlQ2hpbGRyZW4obixyKTtpLl9hcHBlbmRDaGlsZChzKTtjb25zdCBhPW5ldyAkbyhvLnBhcmVudCx0KTtyZXR1cm4gdGhpcy5fYnJlYWtBdHRyaWJ1dGVzKGEsZSl9fV9hZGRUb0Nsb25lZEVsZW1lbnRzR3JvdXAodCl7aWYoIXQucm9vdC5pcyhcInJvb3RFbGVtZW50XCIpKXJldHVybjtpZih0LmlzKFwiZWxlbWVudFwiKSlmb3IoY29uc3QgZSBvZiB0LmdldENoaWxkcmVuKCkpdGhpcy5fYWRkVG9DbG9uZWRFbGVtZW50c0dyb3VwKGUpO2NvbnN0IGU9dC5pZDtpZighZSlyZXR1cm47bGV0IG49dGhpcy5fY2xvbmVHcm91cHMuZ2V0KGUpO258fChuPW5ldyBTZXQsdGhpcy5fY2xvbmVHcm91cHMuc2V0KGUsbikpLG4uYWRkKHQpLHQuX2Nsb25lc0dyb3VwPW59X3JlbW92ZUZyb21DbG9uZWRFbGVtZW50c0dyb3VwKHQpe2lmKHQuaXMoXCJlbGVtZW50XCIpKWZvcihjb25zdCBlIG9mIHQuZ2V0Q2hpbGRyZW4oKSl0aGlzLl9yZW1vdmVGcm9tQ2xvbmVkRWxlbWVudHNHcm91cChlKTtjb25zdCBlPXQuaWQ7aWYoIWUpcmV0dXJuO2NvbnN0IG49dGhpcy5fY2xvbmVHcm91cHMuZ2V0KGUpO24mJm4uZGVsZXRlKHQpfX1mdW5jdGlvbiBraSh0KXtsZXQgZT10LnBhcmVudDtmb3IoOyFNaShlKTspe2lmKCFlKXJldHVybjtlPWUucGFyZW50fXJldHVybiBlfWZ1bmN0aW9uIHlpKHQsZSl7cmV0dXJuIHQucHJpb3JpdHk8ZS5wcmlvcml0eXx8ISh0LnByaW9yaXR5PmUucHJpb3JpdHkpJiZ0LmdldElkZW50aXR5KCk8ZS5nZXRJZGVudGl0eSgpfWZ1bmN0aW9uIHhpKHQpe2NvbnN0IGU9dC5ub2RlQmVmb3JlO2lmKGUmJmUuaXMoXCJ0ZXh0XCIpKXJldHVybiBuZXcgJG8oZSxlLmRhdGEubGVuZ3RoKTtjb25zdCBuPXQubm9kZUFmdGVyO3JldHVybiBuJiZuLmlzKFwidGV4dFwiKT9uZXcgJG8obiwwKTp0fWZ1bmN0aW9uIEFpKHQpe2lmKHQub2Zmc2V0PT10LnBhcmVudC5kYXRhLmxlbmd0aClyZXR1cm4gbmV3ICRvKHQucGFyZW50LnBhcmVudCx0LnBhcmVudC5pbmRleCsxKTtpZigwPT09dC5vZmZzZXQpcmV0dXJuIG5ldyAkbyh0LnBhcmVudC5wYXJlbnQsdC5wYXJlbnQuaW5kZXgpO2NvbnN0IGU9dC5wYXJlbnQuZGF0YS5zbGljZSh0Lm9mZnNldCk7cmV0dXJuIHQucGFyZW50Ll9kYXRhPXQucGFyZW50LmRhdGEuc2xpY2UoMCx0Lm9mZnNldCksdC5wYXJlbnQucGFyZW50Ll9pbnNlcnRDaGlsZCh0LnBhcmVudC5pbmRleCsxLG5ldyBjbyhlKSksbmV3ICRvKHQucGFyZW50LnBhcmVudCx0LnBhcmVudC5pbmRleCsxKX1mdW5jdGlvbiBDaSh0LGUpe2NvbnN0IG49dC5kYXRhLmxlbmd0aDtyZXR1cm4gdC5fZGF0YSs9ZS5kYXRhLGUuX3JlbW92ZSgpLG5ldyAkbyh0LG4pfWNvbnN0IFRpPVtjbyxvaSx3byxzaSxwaV07ZnVuY3Rpb24gTWkodCl7cmV0dXJuIHQmJih0LmlzKFwiY29udGFpbmVyRWxlbWVudFwiKXx8dC5pcyhcImRvY3VtZW50RnJhZ21lbnRcIikpfWZ1bmN0aW9uIFBpKHQpe2NvbnN0IGU9a2kodC5zdGFydCksbj1raSh0LmVuZCk7aWYoIWV8fCFufHxlIT09bil0aHJvdyBuZXcgTS5iKFwidmlldy13cml0ZXItaW52YWxpZC1yYW5nZS1jb250YWluZXJcIil9ZnVuY3Rpb24gU2kodCxlKXtyZXR1cm4gbnVsbD09PXQuaWQmJm51bGw9PT1lLmlkfWZ1bmN0aW9uIEVpKHQpe3JldHVyblwiW29iamVjdCBUZXh0XVwiPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9Y29uc3QgSWk9dD0+e2NvbnN0IGU9dC5jcmVhdGVFbGVtZW50KFwiYnJcIik7cmV0dXJuIGUuZGF0YXNldC5ja2VGaWxsZXI9ITAsZX0sTmk9dD0+dC5jcmVhdGVUZXh0Tm9kZShcIsKgXCIpLE9pPTc7bGV0IFJpPVwiXCI7Zm9yKGxldCB0PTA7dDxPaTt0KyspUmkrPVwi4oCLXCI7ZnVuY3Rpb24gRGkodCl7cmV0dXJuIEVpKHQpJiZ0LmRhdGEuc3Vic3RyKDAsT2kpPT09Uml9ZnVuY3Rpb24gamkodCl7cmV0dXJuIHQuZGF0YS5sZW5ndGg9PU9pJiZEaSh0KX1mdW5jdGlvbiBMaSh0KXtyZXR1cm4gRGkodCk/dC5kYXRhLnNsaWNlKE9pKTp0LmRhdGF9Y29uc3QgVmk9bmV3IFdlYWtNYXA7ZnVuY3Rpb24gRmkodCxlKXtsZXQgbj1WaS5nZXQoZSk7cmV0dXJuIG58fChuPWUod2luZG93LmRvY3VtZW50KSxWaS5zZXQoZSxuKSksdC5pc0VxdWFsTm9kZShuKX1mdW5jdGlvbiB6aSh0LGUpe2lmKGUua2V5Q29kZT09aGkuYXJyb3dsZWZ0KXtjb25zdCB0PWUuZG9tVGFyZ2V0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0U2VsZWN0aW9uKCk7aWYoMT09dC5yYW5nZUNvdW50JiZ0LmdldFJhbmdlQXQoMCkuY29sbGFwc2VkKXtjb25zdCBlPXQuZ2V0UmFuZ2VBdCgwKS5zdGFydENvbnRhaW5lcixuPXQuZ2V0UmFuZ2VBdCgwKS5zdGFydE9mZnNldDtEaShlKSYmbjw9T2kmJnQuY29sbGFwc2UoZSwwKX19fWZ1bmN0aW9uIEJpKHQsZSxuKXtsZXQgbyxpO2lmKG49bnx8ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09PWV9LGUubGVuZ3RoPHQubGVuZ3RoKXtjb25zdCBuPXQ7dD1lLGU9bixvPVwiZGVsZXRlXCIsaT1cImluc2VydFwifWVsc2Ugbz1cImluc2VydFwiLGk9XCJkZWxldGVcIjtjb25zdCByPXQubGVuZ3RoLHM9ZS5sZW5ndGgsYT1zLXIsYz17fSxsPXt9O2Z1bmN0aW9uIGQoYSl7Y29uc3QgZD0odm9pZCAwIT09bFthLTFdP2xbYS0xXTotMSkrMSx1PXZvaWQgMCE9PWxbYSsxXT9sW2ErMV06LTEsaD1kPnU/LTE6MTtjW2EraF0mJihjW2FdPWNbYStoXS5zbGljZSgwKSksY1thXXx8KGNbYV09W10pLGNbYV0ucHVzaChkPnU/bzppKTtsZXQgZj1NYXRoLm1heChkLHUpLG09Zi1hO2Zvcig7bTxyJiZmPHMmJm4odFttXSxlW2ZdKTspbSsrLGYrKyxjW2FdLnB1c2goXCJlcXVhbFwiKTtyZXR1cm4gZn1sZXQgdSxoPTA7ZG97Zm9yKHU9LWg7dTxhO3UrKylsW3VdPWQodSk7Zm9yKHU9YStoO3U+YTt1LS0pbFt1XT1kKHUpO2xbYV09ZChhKSxoKyt9d2hpbGUobFthXSE9PXMpO3JldHVybiBjW2FdLnNsaWNlKDEpfWZ1bmN0aW9uIFVpKHQsZSxuKXt0Lmluc2VydEJlZm9yZShuLHQuY2hpbGROb2Rlc1tlXXx8bnVsbCl9ZnVuY3Rpb24gSGkodCl7Y29uc3QgZT10LnBhcmVudE5vZGU7ZSYmZS5yZW1vdmVDaGlsZCh0KX1mdW5jdGlvbiBxaSh0KXtpZih0KXtpZih0LmRlZmF1bHRWaWV3KXJldHVybiB0IGluc3RhbmNlb2YgdC5kZWZhdWx0Vmlldy5Eb2N1bWVudDtpZih0Lm93bmVyRG9jdW1lbnQmJnQub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldylyZXR1cm4gdCBpbnN0YW5jZW9mIHQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5Ob2RlfXJldHVybiExfWZ1bmN0aW9uIFdpKHQsZSl7aWYodD09PWUpcmV0dXJuW107cmV0dXJuIGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1bXSx7Zmlyc3RJbmRleDpvLGxhc3RJbmRleE9sZDppLGxhc3RJbmRleE5ldzpyfT1lO3Itbz4wJiZuLnB1c2goe2luZGV4Om8sdHlwZTpcImluc2VydFwiLHZhbHVlczp0LnN1YnN0cmluZyhvLHIpLnNwbGl0KFwiXCIpfSk7aS1vPjAmJm4ucHVzaCh7aW5kZXg6bysoci1vKSx0eXBlOlwiZGVsZXRlXCIsaG93TWFueTppLW99KTtyZXR1cm4gbn0oZSxmdW5jdGlvbih0LGUpe2NvbnN0IG49WWkodCxlKSxvPUdpKHQsbiksaT1HaShlLG4pLHI9WWkobyxpKSxzPXQubGVuZ3RoLXIsYT1lLmxlbmd0aC1yO3JldHVybntmaXJzdEluZGV4Om4sbGFzdEluZGV4T2xkOnMsbGFzdEluZGV4TmV3OmF9fSh0LGUpKX1mdW5jdGlvbiBZaSh0LGUpe2ZvcihsZXQgbj0wO248TWF0aC5tYXgodC5sZW5ndGgsZS5sZW5ndGgpO24rKylpZih0W25dIT09ZVtuXSlyZXR1cm4gbn1mdW5jdGlvbiBHaSh0LGUpe3JldHVybiB0LnN1YnN0cmluZyhlKS5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKX1jbGFzcyAkaXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuZG9tRG9jdW1lbnRzPW5ldyBTZXQsdGhpcy5kb21Db252ZXJ0ZXI9dCx0aGlzLm1hcmtlZEF0dHJpYnV0ZXM9bmV3IFNldCx0aGlzLm1hcmtlZENoaWxkcmVuPW5ldyBTZXQsdGhpcy5tYXJrZWRUZXh0cz1uZXcgU2V0LHRoaXMuc2VsZWN0aW9uPWUsdGhpcy5pc0ZvY3VzZWQ9ITEsdGhpcy5faW5saW5lRmlsbGVyPW51bGwsdGhpcy5fZmFrZVNlbGVjdGlvbkNvbnRhaW5lcj1udWxsfW1hcmtUb1N5bmModCxlKXtpZihcInRleHRcIj09PXQpdGhpcy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKGUucGFyZW50KSYmdGhpcy5tYXJrZWRUZXh0cy5hZGQoZSk7ZWxzZXtpZighdGhpcy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKGUpKXJldHVybjtpZihcImF0dHJpYnV0ZXNcIj09PXQpdGhpcy5tYXJrZWRBdHRyaWJ1dGVzLmFkZChlKTtlbHNle2lmKFwiY2hpbGRyZW5cIiE9PXQpdGhyb3cgbmV3IE0uYihcInZpZXctcmVuZGVyZXItdW5rbm93bi10eXBlOiBVbmtub3duIHR5cGUgcGFzc2VkIHRvIFJlbmRlcmVyLm1hcmtUb1N5bmMuXCIpO3RoaXMubWFya2VkQ2hpbGRyZW4uYWRkKGUpfX19cmVuZGVyKCl7bGV0IHQ7Zm9yKGNvbnN0IHQgb2YgdGhpcy5tYXJrZWRDaGlsZHJlbil0aGlzLl91cGRhdGVDaGlsZHJlbk1hcHBpbmdzKHQpO3RoaXMuX2lubGluZUZpbGxlciYmIXRoaXMuX2lzU2VsZWN0aW9uSW5JbmxpbmVGaWxsZXIoKSYmdGhpcy5fcmVtb3ZlSW5saW5lRmlsbGVyKCksdGhpcy5faW5saW5lRmlsbGVyP3Q9dGhpcy5fZ2V0SW5saW5lRmlsbGVyUG9zaXRpb24oKTp0aGlzLl9uZWVkc0lubGluZUZpbGxlckF0U2VsZWN0aW9uKCkmJih0PXRoaXMuc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKSx0aGlzLm1hcmtlZENoaWxkcmVuLmFkZCh0LnBhcmVudCkpO2Zvcihjb25zdCB0IG9mIHRoaXMubWFya2VkQXR0cmlidXRlcyl0aGlzLl91cGRhdGVBdHRycyh0KTtmb3IoY29uc3QgZSBvZiB0aGlzLm1hcmtlZENoaWxkcmVuKXRoaXMuX3VwZGF0ZUNoaWxkcmVuKGUse2lubGluZUZpbGxlclBvc2l0aW9uOnR9KTtmb3IoY29uc3QgZSBvZiB0aGlzLm1hcmtlZFRleHRzKSF0aGlzLm1hcmtlZENoaWxkcmVuLmhhcyhlLnBhcmVudCkmJnRoaXMuZG9tQ29udmVydGVyLm1hcFZpZXdUb0RvbShlLnBhcmVudCkmJnRoaXMuX3VwZGF0ZVRleHQoZSx7aW5saW5lRmlsbGVyUG9zaXRpb246dH0pO2lmKHQpe2NvbnN0IGU9dGhpcy5kb21Db252ZXJ0ZXIudmlld1Bvc2l0aW9uVG9Eb20odCksbj1lLnBhcmVudC5vd25lckRvY3VtZW50O0RpKGUucGFyZW50KT90aGlzLl9pbmxpbmVGaWxsZXI9ZS5wYXJlbnQ6dGhpcy5faW5saW5lRmlsbGVyPVFpKG4sZS5wYXJlbnQsZS5vZmZzZXQpfWVsc2UgdGhpcy5faW5saW5lRmlsbGVyPW51bGw7dGhpcy5fdXBkYXRlU2VsZWN0aW9uKCksdGhpcy5fdXBkYXRlRm9jdXMoKSx0aGlzLm1hcmtlZFRleHRzLmNsZWFyKCksdGhpcy5tYXJrZWRBdHRyaWJ1dGVzLmNsZWFyKCksdGhpcy5tYXJrZWRDaGlsZHJlbi5jbGVhcigpfV91cGRhdGVDaGlsZHJlbk1hcHBpbmdzKHQpe2NvbnN0IGU9dGhpcy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKHQpO2lmKCFlKXJldHVybjtjb25zdCBuPXRoaXMuZG9tQ29udmVydGVyLm1hcFZpZXdUb0RvbSh0KS5jaGlsZE5vZGVzLG89QXJyYXkuZnJvbSh0aGlzLmRvbUNvbnZlcnRlci52aWV3Q2hpbGRyZW5Ub0RvbSh0LGUub3duZXJEb2N1bWVudCx7d2l0aENoaWxkcmVuOiExfSkpLGk9dGhpcy5fZGlmZk5vZGVMaXN0cyhuLG8pLHI9dGhpcy5fZmluZFJlcGxhY2VBY3Rpb25zKGksbixvKTtpZigtMSE9PXIuaW5kZXhPZihcInJlcGxhY2VcIikpe2NvbnN0IGU9e2VxdWFsOjAsaW5zZXJ0OjAsZGVsZXRlOjB9O2Zvcihjb25zdCBpIG9mIHIpaWYoXCJyZXBsYWNlXCI9PT1pKXtjb25zdCBpPWUuZXF1YWwrZS5pbnNlcnQscj1lLmVxdWFsK2UuZGVsZXRlLHM9dC5nZXRDaGlsZChpKTtzJiYhcy5pcyhcInVpRWxlbWVudFwiKSYmdGhpcy5fdXBkYXRlRWxlbWVudE1hcHBpbmdzKHMsbltyXSksSGkob1tpXSksZS5lcXVhbCsrfWVsc2UgZVtpXSsrfX1fdXBkYXRlRWxlbWVudE1hcHBpbmdzKHQsZSl7dGhpcy5kb21Db252ZXJ0ZXIudW5iaW5kRG9tRWxlbWVudChlKSx0aGlzLmRvbUNvbnZlcnRlci5iaW5kRWxlbWVudHMoZSx0KSx0aGlzLm1hcmtlZENoaWxkcmVuLmFkZCh0KSx0aGlzLm1hcmtlZEF0dHJpYnV0ZXMuYWRkKHQpfV9nZXRJbmxpbmVGaWxsZXJQb3NpdGlvbigpe2NvbnN0IHQ9dGhpcy5zZWxlY3Rpb24uZ2V0Rmlyc3RQb3NpdGlvbigpO3JldHVybiB0LnBhcmVudC5pcyhcInRleHRcIik/JG8uY3JlYXRlQmVmb3JlKHRoaXMuc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKS5wYXJlbnQpOnR9X2lzU2VsZWN0aW9uSW5JbmxpbmVGaWxsZXIoKXtpZigxIT10aGlzLnNlbGVjdGlvbi5yYW5nZUNvdW50fHwhdGhpcy5zZWxlY3Rpb24uaXNDb2xsYXBzZWQpcmV0dXJuITE7Y29uc3QgdD10aGlzLnNlbGVjdGlvbi5nZXRGaXJzdFBvc2l0aW9uKCksZT10aGlzLmRvbUNvbnZlcnRlci52aWV3UG9zaXRpb25Ub0RvbSh0KTtyZXR1cm4hIShlJiZFaShlLnBhcmVudCkmJkRpKGUucGFyZW50KSl9X3JlbW92ZUlubGluZUZpbGxlcigpe2NvbnN0IHQ9dGhpcy5faW5saW5lRmlsbGVyO2lmKCFEaSh0KSl0aHJvdyBuZXcgTS5iKFwidmlldy1yZW5kZXJlci1maWxsZXItd2FzLWxvc3Q6IFRoZSBpbmxpbmUgZmlsbGVyIG5vZGUgd2FzIGxvc3QuXCIpO2ppKHQpP3QucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KTp0LmRhdGE9dC5kYXRhLnN1YnN0cihPaSksdGhpcy5faW5saW5lRmlsbGVyPW51bGx9X25lZWRzSW5saW5lRmlsbGVyQXRTZWxlY3Rpb24oKXtpZigxIT10aGlzLnNlbGVjdGlvbi5yYW5nZUNvdW50fHwhdGhpcy5zZWxlY3Rpb24uaXNDb2xsYXBzZWQpcmV0dXJuITE7Y29uc3QgdD10aGlzLnNlbGVjdGlvbi5nZXRGaXJzdFBvc2l0aW9uKCksZT10LnBhcmVudCxuPXQub2Zmc2V0O2lmKCF0aGlzLmRvbUNvbnZlcnRlci5tYXBWaWV3VG9Eb20oZS5yb290KSlyZXR1cm4hMTtpZighZS5pcyhcImVsZW1lbnRcIikpcmV0dXJuITE7aWYoIWZ1bmN0aW9uKHQpe2lmKFwiZmFsc2VcIj09dC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpcmV0dXJuITE7Y29uc3QgZT10LmZpbmRBbmNlc3Rvcih0PT50Lmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSk7cmV0dXJuIWV8fFwidHJ1ZVwiPT1lLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKX0oZSkpcmV0dXJuITE7aWYobj09PWUuZ2V0RmlsbGVyT2Zmc2V0KCkpcmV0dXJuITE7Y29uc3Qgbz10Lm5vZGVCZWZvcmUsaT10Lm5vZGVBZnRlcjtyZXR1cm4hKG8gaW5zdGFuY2VvZiBjb3x8aSBpbnN0YW5jZW9mIGNvKX1fdXBkYXRlVGV4dCh0LGUpe2NvbnN0IG49dGhpcy5kb21Db252ZXJ0ZXIuZmluZENvcnJlc3BvbmRpbmdEb21UZXh0KHQpLG89dGhpcy5kb21Db252ZXJ0ZXIudmlld1RvRG9tKHQsbi5vd25lckRvY3VtZW50KSxpPW4uZGF0YTtsZXQgcj1vLmRhdGE7Y29uc3Qgcz1lLmlubGluZUZpbGxlclBvc2l0aW9uO2lmKHMmJnMucGFyZW50PT10LnBhcmVudCYmcy5vZmZzZXQ9PXQuaW5kZXgmJihyPVJpK3IpLGkhPXIpe2NvbnN0IHQ9V2koaSxyKTtmb3IoY29uc3QgZSBvZiB0KVwiaW5zZXJ0XCI9PT1lLnR5cGU/bi5pbnNlcnREYXRhKGUuaW5kZXgsZS52YWx1ZXMuam9pbihcIlwiKSk6bi5kZWxldGVEYXRhKGUuaW5kZXgsZS5ob3dNYW55KX19X3VwZGF0ZUF0dHJzKHQpe2NvbnN0IGU9dGhpcy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKHQpO2lmKCFlKXJldHVybjtjb25zdCBuPUFycmF5LmZyb20oZS5hdHRyaWJ1dGVzKS5tYXAodD0+dC5uYW1lKSxvPXQuZ2V0QXR0cmlidXRlS2V5cygpO2Zvcihjb25zdCBuIG9mIG8pZS5zZXRBdHRyaWJ1dGUobix0LmdldEF0dHJpYnV0ZShuKSk7Zm9yKGNvbnN0IG8gb2Ygbil0Lmhhc0F0dHJpYnV0ZShvKXx8ZS5yZW1vdmVBdHRyaWJ1dGUobyl9X3VwZGF0ZUNoaWxkcmVuKHQsZSl7Y29uc3Qgbj10aGlzLmRvbUNvbnZlcnRlci5tYXBWaWV3VG9Eb20odCk7aWYoIW4pcmV0dXJuO2NvbnN0IG89ZS5pbmxpbmVGaWxsZXJQb3NpdGlvbixpPXRoaXMuZG9tQ29udmVydGVyLm1hcFZpZXdUb0RvbSh0KS5jaGlsZE5vZGVzLHI9QXJyYXkuZnJvbSh0aGlzLmRvbUNvbnZlcnRlci52aWV3Q2hpbGRyZW5Ub0RvbSh0LG4ub3duZXJEb2N1bWVudCx7YmluZDohMCxpbmxpbmVGaWxsZXJQb3NpdGlvbjpvfSkpO28mJm8ucGFyZW50PT09dCYmUWkobi5vd25lckRvY3VtZW50LHIsby5vZmZzZXQpO2NvbnN0IHM9dGhpcy5fZGlmZk5vZGVMaXN0cyhpLHIpO2xldCBhPTA7Y29uc3QgYz1uZXcgU2V0O2Zvcihjb25zdCB0IG9mIHMpXCJpbnNlcnRcIj09PXQ/KFVpKG4sYSxyW2FdKSxhKyspOlwiZGVsZXRlXCI9PT10PyhjLmFkZChpW2FdKSxIaShpW2FdKSk6KHRoaXMuX21hcmtEZXNjZW5kYW50VGV4dFRvU3luYyh0aGlzLmRvbUNvbnZlcnRlci5kb21Ub1ZpZXcoclthXSkpLGErKyk7Zm9yKGNvbnN0IHQgb2YgYyl0LnBhcmVudE5vZGV8fHRoaXMuZG9tQ29udmVydGVyLnVuYmluZERvbUVsZW1lbnQodCl9X2RpZmZOb2RlTGlzdHModCxlKXtyZXR1cm4gQmkodCxlLGZ1bmN0aW9uKHQsZSxuKXtpZihlPT09bilyZXR1cm4hMDtpZihFaShlKSYmRWkobikpcmV0dXJuIGUuZGF0YT09PW4uZGF0YTtpZihGaShlLHQpJiZGaShuLHQpKXJldHVybiEwO3JldHVybiExfS5iaW5kKG51bGwsdGhpcy5kb21Db252ZXJ0ZXIuYmxvY2tGaWxsZXIpKX1fZmluZFJlcGxhY2VBY3Rpb25zKHQsZSxuKXtpZigtMT09PXQuaW5kZXhPZihcImluc2VydFwiKXx8LTE9PT10LmluZGV4T2YoXCJkZWxldGVcIikpcmV0dXJuIHQ7bGV0IG89W10saT1bXSxyPVtdO2NvbnN0IHM9e2VxdWFsOjAsaW5zZXJ0OjAsZGVsZXRlOjB9O2Zvcihjb25zdCBhIG9mIHQpXCJpbnNlcnRcIj09PWE/ci5wdXNoKG5bcy5lcXVhbCtzLmluc2VydF0pOlwiZGVsZXRlXCI9PT1hP2kucHVzaChlW3MuZXF1YWwrcy5kZWxldGVdKTooKG89by5jb25jYXQoQmkoaSxyLEppKS5tYXAodD0+XCJlcXVhbFwiPT09dD9cInJlcGxhY2VcIjp0KSkpLnB1c2goXCJlcXVhbFwiKSxpPVtdLHI9W10pLHNbYV0rKztyZXR1cm4gby5jb25jYXQoQmkoaSxyLEppKS5tYXAodD0+XCJlcXVhbFwiPT09dD9cInJlcGxhY2VcIjp0KSl9X21hcmtEZXNjZW5kYW50VGV4dFRvU3luYyh0KXtpZih0KWlmKHQuaXMoXCJ0ZXh0XCIpKXRoaXMubWFya2VkVGV4dHMuYWRkKHQpO2Vsc2UgaWYodC5pcyhcImVsZW1lbnRcIikpZm9yKGNvbnN0IGUgb2YgdC5nZXRDaGlsZHJlbigpKXRoaXMuX21hcmtEZXNjZW5kYW50VGV4dFRvU3luYyhlKX1fdXBkYXRlU2VsZWN0aW9uKCl7aWYoMD09PXRoaXMuc2VsZWN0aW9uLnJhbmdlQ291bnQpcmV0dXJuIHRoaXMuX3JlbW92ZURvbVNlbGVjdGlvbigpLHZvaWQgdGhpcy5fcmVtb3ZlRmFrZVNlbGVjdGlvbigpO2NvbnN0IHQ9dGhpcy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKHRoaXMuc2VsZWN0aW9uLmVkaXRhYmxlRWxlbWVudCk7dGhpcy5pc0ZvY3VzZWQmJnQmJih0aGlzLnNlbGVjdGlvbi5pc0Zha2U/dGhpcy5fdXBkYXRlRmFrZVNlbGVjdGlvbih0KToodGhpcy5fcmVtb3ZlRmFrZVNlbGVjdGlvbigpLHRoaXMuX3VwZGF0ZURvbVNlbGVjdGlvbih0KSkpfV91cGRhdGVGYWtlU2VsZWN0aW9uKHQpe2NvbnN0IGU9dC5vd25lckRvY3VtZW50O2xldCBuPXRoaXMuX2Zha2VTZWxlY3Rpb25Db250YWluZXI7bnx8KHRoaXMuX2Zha2VTZWxlY3Rpb25Db250YWluZXI9bj1lLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksT2JqZWN0LmFzc2lnbihuLnN0eWxlLHtwb3NpdGlvbjpcImZpeGVkXCIsdG9wOjAsbGVmdDpcIi05OTk5cHhcIix3aWR0aDpcIjQycHhcIn0pLG4uYXBwZW5kQ2hpbGQoZS5jcmVhdGVUZXh0Tm9kZShcIsKgXCIpKSksbi5wYXJlbnRFbGVtZW50fHx0LmFwcGVuZENoaWxkKG4pLG4uZmlyc3RDaGlsZC5kYXRhPXRoaXMuc2VsZWN0aW9uLmZha2VTZWxlY3Rpb25MYWJlbHx8XCLCoFwiO2NvbnN0IG89ZS5nZXRTZWxlY3Rpb24oKSxpPWUuY3JlYXRlUmFuZ2UoKTtvLnJlbW92ZUFsbFJhbmdlcygpLGkuc2VsZWN0Tm9kZUNvbnRlbnRzKG4pLG8uYWRkUmFuZ2UoaSksdGhpcy5kb21Db252ZXJ0ZXIuYmluZEZha2VTZWxlY3Rpb24obix0aGlzLnNlbGVjdGlvbil9X3VwZGF0ZURvbVNlbGVjdGlvbih0KXtjb25zdCBlPXQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRTZWxlY3Rpb24oKTtpZighdGhpcy5fZG9tU2VsZWN0aW9uTmVlZHNVcGRhdGUoZSkpcmV0dXJuO2NvbnN0IG49dGhpcy5kb21Db252ZXJ0ZXIudmlld1Bvc2l0aW9uVG9Eb20odGhpcy5zZWxlY3Rpb24uYW5jaG9yKSxvPXRoaXMuZG9tQ29udmVydGVyLnZpZXdQb3NpdGlvblRvRG9tKHRoaXMuc2VsZWN0aW9uLmZvY3VzKTt0LmZvY3VzKCksZS5jb2xsYXBzZShuLnBhcmVudCxuLm9mZnNldCksZS5leHRlbmQoby5wYXJlbnQsby5vZmZzZXQpfV9kb21TZWxlY3Rpb25OZWVkc1VwZGF0ZSh0KXtpZighdGhpcy5kb21Db252ZXJ0ZXIuaXNEb21TZWxlY3Rpb25Db3JyZWN0KHQpKXJldHVybiEwO2NvbnN0IGU9dCYmdGhpcy5kb21Db252ZXJ0ZXIuZG9tU2VsZWN0aW9uVG9WaWV3KHQpO3JldHVybighZXx8IXRoaXMuc2VsZWN0aW9uLmlzRXF1YWwoZSkpJiYhKCF0aGlzLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCYmdGhpcy5zZWxlY3Rpb24uaXNTaW1pbGFyKGUpKX1fcmVtb3ZlRG9tU2VsZWN0aW9uKCl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5kb21Eb2N1bWVudHMpe2lmKHQuZ2V0U2VsZWN0aW9uKCkucmFuZ2VDb3VudCl7Y29uc3QgZT10LmFjdGl2ZUVsZW1lbnQsbj10aGlzLmRvbUNvbnZlcnRlci5tYXBEb21Ub1ZpZXcoZSk7ZSYmbiYmdC5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKX19fV9yZW1vdmVGYWtlU2VsZWN0aW9uKCl7Y29uc3QgdD10aGlzLl9mYWtlU2VsZWN0aW9uQ29udGFpbmVyO3QmJnQucmVtb3ZlKCl9X3VwZGF0ZUZvY3VzKCl7aWYodGhpcy5pc0ZvY3VzZWQpe2NvbnN0IHQ9dGhpcy5zZWxlY3Rpb24uZWRpdGFibGVFbGVtZW50O3QmJnRoaXMuZG9tQ29udmVydGVyLmZvY3VzKHQpfX19ZnVuY3Rpb24gUWkodCxlLG4pe2NvbnN0IG89ZSBpbnN0YW5jZW9mIEFycmF5P2U6ZS5jaGlsZE5vZGVzLGk9b1tuXTtpZihFaShpKSlyZXR1cm4gaS5kYXRhPVJpK2kuZGF0YSxpO3tjb25zdCBpPXQuY3JlYXRlVGV4dE5vZGUoUmkpO3JldHVybiBBcnJheS5pc0FycmF5KGUpP28uc3BsaWNlKG4sMCxpKTpVaShlLG4saSksaX19ZnVuY3Rpb24gSmkodCxlKXtyZXR1cm4gcWkodCkmJnFpKGUpJiYhRWkodCkmJiFFaShlKSYmdC50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PT1lLnRhZ05hbWUudG9Mb3dlckNhc2UoKX1CKCRpLExvKTt2YXIgS2k9e3dpbmRvdzp3aW5kb3csZG9jdW1lbnQ6ZG9jdW1lbnR9O2Z1bmN0aW9uIFppKHQpe2xldCBlPTA7Zm9yKDt0LnByZXZpb3VzU2libGluZzspdD10LnByZXZpb3VzU2libGluZyxlKys7cmV0dXJuIGV9ZnVuY3Rpb24gWGkodCl7Y29uc3QgZT1bXTtmb3IoO3QmJnQubm9kZVR5cGUhPU5vZGUuRE9DVU1FTlRfTk9ERTspZS51bnNoaWZ0KHQpLHQ9dC5wYXJlbnROb2RlO3JldHVybiBlfXZhciB0cj1mdW5jdGlvbih0KXtyZXR1cm4gdyh0KSYmMT09PXQubm9kZVR5cGUmJiFDKHQpfTtjbGFzcyBlcntjb25zdHJ1Y3Rvcih0PXt9KXt0aGlzLmJsb2NrRmlsbGVyPXQuYmxvY2tGaWxsZXJ8fElpLHRoaXMucHJlRWxlbWVudHM9W1wicHJlXCJdLHRoaXMuYmxvY2tFbGVtZW50cz1bXCJwXCIsXCJkaXZcIixcImgxXCIsXCJoMlwiLFwiaDNcIixcImg0XCIsXCJoNVwiLFwiaDZcIl0sdGhpcy5fZG9tVG9WaWV3TWFwcGluZz1uZXcgV2Vha01hcCx0aGlzLl92aWV3VG9Eb21NYXBwaW5nPW5ldyBXZWFrTWFwLHRoaXMuX2Zha2VTZWxlY3Rpb25NYXBwaW5nPW5ldyBXZWFrTWFwfWJpbmRGYWtlU2VsZWN0aW9uKHQsZSl7dGhpcy5fZmFrZVNlbGVjdGlvbk1hcHBpbmcuc2V0KHQsbmV3IFpvKGUpKX1mYWtlU2VsZWN0aW9uVG9WaWV3KHQpe3JldHVybiB0aGlzLl9mYWtlU2VsZWN0aW9uTWFwcGluZy5nZXQodCl9YmluZEVsZW1lbnRzKHQsZSl7dGhpcy5fZG9tVG9WaWV3TWFwcGluZy5zZXQodCxlKSx0aGlzLl92aWV3VG9Eb21NYXBwaW5nLnNldChlLHQpfXVuYmluZERvbUVsZW1lbnQodCl7Y29uc3QgZT10aGlzLl9kb21Ub1ZpZXdNYXBwaW5nLmdldCh0KTtpZihlKXt0aGlzLl9kb21Ub1ZpZXdNYXBwaW5nLmRlbGV0ZSh0KSx0aGlzLl92aWV3VG9Eb21NYXBwaW5nLmRlbGV0ZShlKTtmb3IoY29uc3QgZSBvZiBBcnJheS5mcm9tKHQuY2hpbGROb2RlcykpdGhpcy51bmJpbmREb21FbGVtZW50KGUpfX1iaW5kRG9jdW1lbnRGcmFnbWVudHModCxlKXt0aGlzLl9kb21Ub1ZpZXdNYXBwaW5nLnNldCh0LGUpLHRoaXMuX3ZpZXdUb0RvbU1hcHBpbmcuc2V0KGUsdCl9dmlld1RvRG9tKHQsZSxuPXt9KXtpZih0LmlzKFwidGV4dFwiKSl7Y29uc3Qgbj10aGlzLl9wcm9jZXNzRGF0YUZyb21WaWV3VGV4dCh0KTtyZXR1cm4gZS5jcmVhdGVUZXh0Tm9kZShuKX17aWYodGhpcy5tYXBWaWV3VG9Eb20odCkpcmV0dXJuIHRoaXMubWFwVmlld1RvRG9tKHQpO2xldCBvO2lmKHQuaXMoXCJkb2N1bWVudEZyYWdtZW50XCIpKW89ZS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbi5iaW5kJiZ0aGlzLmJpbmREb2N1bWVudEZyYWdtZW50cyhvLHQpO2Vsc2V7aWYodC5pcyhcInVpRWxlbWVudFwiKSlyZXR1cm4gbz10LnJlbmRlcihlKSxuLmJpbmQmJnRoaXMuYmluZEVsZW1lbnRzKG8sdCksbztvPWUuY3JlYXRlRWxlbWVudCh0Lm5hbWUpLG4uYmluZCYmdGhpcy5iaW5kRWxlbWVudHMobyx0KTtmb3IoY29uc3QgZSBvZiB0LmdldEF0dHJpYnV0ZUtleXMoKSlvLnNldEF0dHJpYnV0ZShlLHQuZ2V0QXR0cmlidXRlKGUpKX1pZihuLndpdGhDaGlsZHJlbnx8dm9pZCAwPT09bi53aXRoQ2hpbGRyZW4pZm9yKGNvbnN0IGkgb2YgdGhpcy52aWV3Q2hpbGRyZW5Ub0RvbSh0LGUsbikpby5hcHBlbmRDaGlsZChpKTtyZXR1cm4gb319KnZpZXdDaGlsZHJlblRvRG9tKHQsZSxuPXt9KXtjb25zdCBvPXQuZ2V0RmlsbGVyT2Zmc2V0JiZ0LmdldEZpbGxlck9mZnNldCgpO2xldCBpPTA7Zm9yKGNvbnN0IHIgb2YgdC5nZXRDaGlsZHJlbigpKW89PT1pJiYoeWllbGQgdGhpcy5ibG9ja0ZpbGxlcihlKSkseWllbGQgdGhpcy52aWV3VG9Eb20ocixlLG4pLGkrKztvPT09aSYmKHlpZWxkIHRoaXMuYmxvY2tGaWxsZXIoZSkpfXZpZXdSYW5nZVRvRG9tKHQpe2NvbnN0IGU9dGhpcy52aWV3UG9zaXRpb25Ub0RvbSh0LnN0YXJ0KSxuPXRoaXMudmlld1Bvc2l0aW9uVG9Eb20odC5lbmQpLG89ZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtyZXR1cm4gby5zZXRTdGFydChlLnBhcmVudCxlLm9mZnNldCksby5zZXRFbmQobi5wYXJlbnQsbi5vZmZzZXQpLG99dmlld1Bvc2l0aW9uVG9Eb20odCl7Y29uc3QgZT10LnBhcmVudDtpZihlLmlzKFwidGV4dFwiKSl7Y29uc3Qgbj10aGlzLmZpbmRDb3JyZXNwb25kaW5nRG9tVGV4dChlKTtpZighbilyZXR1cm4gbnVsbDtsZXQgbz10Lm9mZnNldDtyZXR1cm4gRGkobikmJihvKz1PaSkse3BhcmVudDpuLG9mZnNldDpvfX17bGV0IG4sbyxpO2lmKDA9PT10Lm9mZnNldCl7aWYoIShuPXRoaXMubWFwVmlld1RvRG9tKGUpKSlyZXR1cm4gbnVsbDtpPW4uY2hpbGROb2Rlc1swXX1lbHNle2NvbnN0IGU9dC5ub2RlQmVmb3JlO2lmKCEobz1lLmlzKFwidGV4dFwiKT90aGlzLmZpbmRDb3JyZXNwb25kaW5nRG9tVGV4dChlKTp0aGlzLm1hcFZpZXdUb0RvbSh0Lm5vZGVCZWZvcmUpKSlyZXR1cm4gbnVsbDtuPW8ucGFyZW50Tm9kZSxpPW8ubmV4dFNpYmxpbmd9aWYoRWkoaSkmJkRpKGkpKXJldHVybntwYXJlbnQ6aSxvZmZzZXQ6T2l9O3JldHVybntwYXJlbnQ6bixvZmZzZXQ6bz9aaShvKSsxOjB9fX1kb21Ub1ZpZXcodCxlPXt9KXtpZihGaSh0LHRoaXMuYmxvY2tGaWxsZXIpKXJldHVybiBudWxsO2NvbnN0IG49dGhpcy5nZXRQYXJlbnRVSUVsZW1lbnQodCx0aGlzLl9kb21Ub1ZpZXdNYXBwaW5nKTtpZihuKXJldHVybiBuO2lmKEVpKHQpKXtpZihqaSh0KSlyZXR1cm4gbnVsbDt7Y29uc3QgZT10aGlzLl9wcm9jZXNzRGF0YUZyb21Eb21UZXh0KHQpO3JldHVyblwiXCI9PT1lP251bGw6bmV3IGNvKGUpfX1pZih0aGlzLmlzQ29tbWVudCh0KSlyZXR1cm4gbnVsbDt7aWYodGhpcy5tYXBEb21Ub1ZpZXcodCkpcmV0dXJuIHRoaXMubWFwRG9tVG9WaWV3KHQpO2xldCBuO2lmKHRoaXMuaXNEb2N1bWVudEZyYWdtZW50KHQpKW49bmV3IF9pLGUuYmluZCYmdGhpcy5iaW5kRG9jdW1lbnRGcmFnbWVudHModCxuKTtlbHNle2NvbnN0IG89ZS5rZWVwT3JpZ2luYWxDYXNlP3QudGFnTmFtZTp0LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtuPW5ldyBnbyhvKSxlLmJpbmQmJnRoaXMuYmluZEVsZW1lbnRzKHQsbik7Y29uc3QgaT10LmF0dHJpYnV0ZXM7Zm9yKGxldCB0PWkubGVuZ3RoLTE7dD49MDt0LS0pbi5fc2V0QXR0cmlidXRlKGlbdF0ubmFtZSxpW3RdLnZhbHVlKX1pZihlLndpdGhDaGlsZHJlbnx8dm9pZCAwPT09ZS53aXRoQ2hpbGRyZW4pZm9yKGNvbnN0IG8gb2YgdGhpcy5kb21DaGlsZHJlblRvVmlldyh0LGUpKW4uX2FwcGVuZENoaWxkKG8pO3JldHVybiBufX0qZG9tQ2hpbGRyZW5Ub1ZpZXcodCxlPXt9KXtmb3IobGV0IG49MDtuPHQuY2hpbGROb2Rlcy5sZW5ndGg7bisrKXtjb25zdCBvPXQuY2hpbGROb2Rlc1tuXSxpPXRoaXMuZG9tVG9WaWV3KG8sZSk7bnVsbCE9PWkmJih5aWVsZCBpKX19ZG9tU2VsZWN0aW9uVG9WaWV3KHQpe2lmKDE9PT10LnJhbmdlQ291bnQpe2xldCBlPXQuZ2V0UmFuZ2VBdCgwKS5zdGFydENvbnRhaW5lcjtFaShlKSYmKGU9ZS5wYXJlbnROb2RlKTtjb25zdCBuPXRoaXMuZmFrZVNlbGVjdGlvblRvVmlldyhlKTtpZihuKXJldHVybiBufWNvbnN0IGU9dGhpcy5pc0RvbVNlbGVjdGlvbkJhY2t3YXJkKHQpLG49W107Zm9yKGxldCBlPTA7ZTx0LnJhbmdlQ291bnQ7ZSsrKXtjb25zdCBvPXQuZ2V0UmFuZ2VBdChlKSxpPXRoaXMuZG9tUmFuZ2VUb1ZpZXcobyk7aSYmbi5wdXNoKGkpfXJldHVybiBuZXcgWm8obix7YmFja3dhcmQ6ZX0pfWRvbVJhbmdlVG9WaWV3KHQpe2NvbnN0IGU9dGhpcy5kb21Qb3NpdGlvblRvVmlldyh0LnN0YXJ0Q29udGFpbmVyLHQuc3RhcnRPZmZzZXQpLG49dGhpcy5kb21Qb3NpdGlvblRvVmlldyh0LmVuZENvbnRhaW5lcix0LmVuZE9mZnNldCk7cmV0dXJuIGUmJm4/bmV3IFFvKGUsbik6bnVsbH1kb21Qb3NpdGlvblRvVmlldyh0LGUpe2lmKEZpKHQsdGhpcy5ibG9ja0ZpbGxlcikpcmV0dXJuIHRoaXMuZG9tUG9zaXRpb25Ub1ZpZXcodC5wYXJlbnROb2RlLFppKHQpKTtjb25zdCBuPXRoaXMubWFwRG9tVG9WaWV3KHQpO2lmKG4mJm4uaXMoXCJ1aUVsZW1lbnRcIikpcmV0dXJuICRvLmNyZWF0ZUJlZm9yZShuKTtpZihFaSh0KSl7aWYoamkodCkpcmV0dXJuIHRoaXMuZG9tUG9zaXRpb25Ub1ZpZXcodC5wYXJlbnROb2RlLFppKHQpKTtjb25zdCBuPXRoaXMuZmluZENvcnJlc3BvbmRpbmdWaWV3VGV4dCh0KTtsZXQgbz1lO3JldHVybiBuPyhEaSh0KSYmKG89KG8tPU9pKTwwPzA6byksbmV3ICRvKG4sbykpOm51bGx9aWYoMD09PWUpe2NvbnN0IGU9dGhpcy5tYXBEb21Ub1ZpZXcodCk7aWYoZSlyZXR1cm4gbmV3ICRvKGUsMCl9ZWxzZXtjb25zdCBuPXQuY2hpbGROb2Rlc1tlLTFdLG89RWkobik/dGhpcy5maW5kQ29ycmVzcG9uZGluZ1ZpZXdUZXh0KG4pOnRoaXMubWFwRG9tVG9WaWV3KG4pO2lmKG8mJm8ucGFyZW50KXJldHVybiBuZXcgJG8oby5wYXJlbnQsby5pbmRleCsxKX1yZXR1cm4gbnVsbH1tYXBEb21Ub1ZpZXcodCl7cmV0dXJuIHRoaXMuZ2V0UGFyZW50VUlFbGVtZW50KHQpfHx0aGlzLl9kb21Ub1ZpZXdNYXBwaW5nLmdldCh0KX1maW5kQ29ycmVzcG9uZGluZ1ZpZXdUZXh0KHQpe2lmKGppKHQpKXJldHVybiBudWxsO2NvbnN0IGU9dGhpcy5nZXRQYXJlbnRVSUVsZW1lbnQodCk7aWYoZSlyZXR1cm4gZTtjb25zdCBuPXQucHJldmlvdXNTaWJsaW5nO2lmKG4pe2lmKCF0aGlzLmlzRWxlbWVudChuKSlyZXR1cm4gbnVsbDtjb25zdCB0PXRoaXMubWFwRG9tVG9WaWV3KG4pO2lmKHQpe3JldHVybiB0Lm5leHRTaWJsaW5nIGluc3RhbmNlb2YgY28/dC5uZXh0U2libGluZzpudWxsfX1lbHNle2NvbnN0IGU9dGhpcy5tYXBEb21Ub1ZpZXcodC5wYXJlbnROb2RlKTtpZihlKXtjb25zdCB0PWUuZ2V0Q2hpbGQoMCk7cmV0dXJuIHQgaW5zdGFuY2VvZiBjbz90Om51bGx9fXJldHVybiBudWxsfW1hcFZpZXdUb0RvbSh0KXtyZXR1cm4gdGhpcy5fdmlld1RvRG9tTWFwcGluZy5nZXQodCl9ZmluZENvcnJlc3BvbmRpbmdEb21UZXh0KHQpe2NvbnN0IGU9dC5wcmV2aW91c1NpYmxpbmc7cmV0dXJuIGUmJnRoaXMubWFwVmlld1RvRG9tKGUpP3RoaXMubWFwVmlld1RvRG9tKGUpLm5leHRTaWJsaW5nOiFlJiZ0LnBhcmVudCYmdGhpcy5tYXBWaWV3VG9Eb20odC5wYXJlbnQpP3RoaXMubWFwVmlld1RvRG9tKHQucGFyZW50KS5jaGlsZE5vZGVzWzBdOm51bGx9Zm9jdXModCl7Y29uc3QgZT10aGlzLm1hcFZpZXdUb0RvbSh0KTtpZihlJiZlLm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudCE9PWUpe2NvbnN0e3Njcm9sbFg6dCxzY3JvbGxZOm59PUtpLndpbmRvdyxvPVtdO29yKGUsdD0+e2NvbnN0e3Njcm9sbExlZnQ6ZSxzY3JvbGxUb3A6bn09dDtvLnB1c2goW2Usbl0pfSksZS5mb2N1cygpLG9yKGUsdD0+e2NvbnN0W2Usbl09by5zaGlmdCgpO3Quc2Nyb2xsTGVmdD1lLHQuc2Nyb2xsVG9wPW59KSxLaS53aW5kb3cuc2Nyb2xsVG8odCxuKX19aXNFbGVtZW50KHQpe3JldHVybiB0JiZ0Lm5vZGVUeXBlPT1Ob2RlLkVMRU1FTlRfTk9ERX1pc0RvY3VtZW50RnJhZ21lbnQodCl7cmV0dXJuIHQmJnQubm9kZVR5cGU9PU5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERX1pc0NvbW1lbnQodCl7cmV0dXJuIHQmJnQubm9kZVR5cGU9PU5vZGUuQ09NTUVOVF9OT0RFfWlzRG9tU2VsZWN0aW9uQmFja3dhcmQodCl7aWYodC5pc0NvbGxhcHNlZClyZXR1cm4hMTtjb25zdCBlPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7ZS5zZXRTdGFydCh0LmFuY2hvck5vZGUsdC5hbmNob3JPZmZzZXQpLGUuc2V0RW5kKHQuZm9jdXNOb2RlLHQuZm9jdXNPZmZzZXQpO2NvbnN0IG49ZS5jb2xsYXBzZWQ7cmV0dXJuIGUuZGV0YWNoKCksbn1nZXRQYXJlbnRVSUVsZW1lbnQodCl7Y29uc3QgZT1YaSh0KTtmb3IoZS5wb3AoKTtlLmxlbmd0aDspe2NvbnN0IHQ9ZS5wb3AoKSxuPXRoaXMuX2RvbVRvVmlld01hcHBpbmcuZ2V0KHQpO2lmKG4mJm4uaXMoXCJ1aUVsZW1lbnRcIikpcmV0dXJuIG59cmV0dXJuIG51bGx9aXNEb21TZWxlY3Rpb25Db3JyZWN0KHQpe3JldHVybiB0aGlzLl9pc0RvbVNlbGVjdGlvblBvc2l0aW9uQ29ycmVjdCh0LmFuY2hvck5vZGUsdC5hbmNob3JPZmZzZXQpJiZ0aGlzLl9pc0RvbVNlbGVjdGlvblBvc2l0aW9uQ29ycmVjdCh0LmZvY3VzTm9kZSx0LmZvY3VzT2Zmc2V0KX1faXNEb21TZWxlY3Rpb25Qb3NpdGlvbkNvcnJlY3QodCxlKXtpZihFaSh0KSYmRGkodCkmJmU8T2kpcmV0dXJuITE7aWYodGhpcy5pc0VsZW1lbnQodCkmJkRpKHQuY2hpbGROb2Rlc1tlXSkpcmV0dXJuITE7Y29uc3Qgbj10aGlzLm1hcERvbVRvVmlldyh0KTtyZXR1cm4hbnx8IW4uaXMoXCJ1aUVsZW1lbnRcIil9X3Byb2Nlc3NEYXRhRnJvbVZpZXdUZXh0KHQpe2xldCBlPXQuZGF0YTtpZih0LmdldEFuY2VzdG9ycygpLnNvbWUodD0+dGhpcy5wcmVFbGVtZW50cy5pbmNsdWRlcyh0Lm5hbWUpKSlyZXR1cm4gZTtpZihcIiBcIj09ZS5jaGFyQXQoMCkpe2NvbnN0IG49dGhpcy5fZ2V0VG91Y2hpbmdWaWV3VGV4dE5vZGUodCwhMSk7IShuJiZ0aGlzLl9ub2RlRW5kc1dpdGhTcGFjZShuKSkmJm58fChlPVwiwqBcIitlLnN1YnN0cigxKSl9aWYoXCIgXCI9PWUuY2hhckF0KGUubGVuZ3RoLTEpKXt0aGlzLl9nZXRUb3VjaGluZ1ZpZXdUZXh0Tm9kZSh0LCEwKXx8KGU9ZS5zdWJzdHIoMCxlLmxlbmd0aC0xKStcIsKgXCIpfXJldHVybiBlLnJlcGxhY2UoLyB7Mn0vZyxcIiDCoFwiKX1fbm9kZUVuZHNXaXRoU3BhY2UodCl7aWYodC5nZXRBbmNlc3RvcnMoKS5zb21lKHQ9PnRoaXMucHJlRWxlbWVudHMuaW5jbHVkZXModC5uYW1lKSkpcmV0dXJuITE7Y29uc3QgZT10aGlzLl9wcm9jZXNzRGF0YUZyb21WaWV3VGV4dCh0KTtyZXR1cm5cIiBcIj09ZS5jaGFyQXQoZS5sZW5ndGgtMSl9X3Byb2Nlc3NEYXRhRnJvbURvbVRleHQodCl7bGV0IGU9dC5kYXRhO2lmKG5yKHQsdGhpcy5wcmVFbGVtZW50cykpcmV0dXJuIExpKHQpO2U9ZS5yZXBsYWNlKC9bIFxcblxcdFxccl17MSx9L2csXCIgXCIpO2NvbnN0IG49dGhpcy5fZ2V0VG91Y2hpbmdJbmxpbmVEb21Ob2RlKHQsITEpLG89dGhpcy5fZ2V0VG91Y2hpbmdJbmxpbmVEb21Ob2RlKHQsITApLGk9dGhpcy5fY2hlY2tTaG91bGRMZWZ0VHJpbURvbVRleHQobikscj10aGlzLl9jaGVja1Nob3VsZFJpZ2h0VHJpbURvbVRleHQodCxvKTtyZXR1cm4gaSYmKGU9ZS5yZXBsYWNlKC9eIC8sXCJcIikpLHImJihlPWUucmVwbGFjZSgvICQvLFwiXCIpKSxlPShlPUxpKG5ldyBUZXh0KGUpKSkucmVwbGFjZSgvIFxcdTAwQTAvZyxcIiAgXCIpLGkmJihlPWUucmVwbGFjZSgvXlxcdTAwQTAvLFwiIFwiKSksRWkobykmJlwiwqBcIiE9by5kYXRhLmNoYXJBdCgwKXx8KGU9ZS5yZXBsYWNlKC9cXHUwMEEwKCAqKSQvLFwiICQxXCIpKSxlfV9jaGVja1Nob3VsZExlZnRUcmltRG9tVGV4dCh0KXtyZXR1cm4hdHx8KCEhdHIodCl8fC9bXlxcU1xcdTAwQTBdLy50ZXN0KHQuZGF0YS5jaGFyQXQodC5kYXRhLmxlbmd0aC0xKSkpfV9jaGVja1Nob3VsZFJpZ2h0VHJpbURvbVRleHQodCxlKXtyZXR1cm4hZSYmIURpKHQpfV9nZXRUb3VjaGluZ1ZpZXdUZXh0Tm9kZSh0LGUpe2NvbnN0IG49bmV3IEdvKHtzdGFydFBvc2l0aW9uOmU/JG8uY3JlYXRlQWZ0ZXIodCk6JG8uY3JlYXRlQmVmb3JlKHQpLGRpcmVjdGlvbjplP1wiZm9yd2FyZFwiOlwiYmFja3dhcmRcIn0pO2Zvcihjb25zdCB0IG9mIG4pe2lmKHQuaXRlbS5pcyhcImNvbnRhaW5lckVsZW1lbnRcIikpcmV0dXJuIG51bGw7aWYodC5pdGVtLmlzKFwiYnJcIikpcmV0dXJuIG51bGw7aWYodC5pdGVtLmlzKFwidGV4dFByb3h5XCIpKXJldHVybiB0Lml0ZW19cmV0dXJuIG51bGx9X2dldFRvdWNoaW5nSW5saW5lRG9tTm9kZSh0LGUpe2lmKCF0LnBhcmVudE5vZGUpcmV0dXJuIG51bGw7Y29uc3Qgbj1lP1wibmV4dE5vZGVcIjpcInByZXZpb3VzTm9kZVwiLG89dC5vd25lckRvY3VtZW50LGk9WGkodClbMF0scj1vLmNyZWF0ZVRyZWVXYWxrZXIoaSxOb2RlRmlsdGVyLlNIT1dfVEVYVHxOb2RlRmlsdGVyLlNIT1dfRUxFTUVOVCx7YWNjZXB0Tm9kZTp0PT5FaSh0KT9Ob2RlRmlsdGVyLkZJTFRFUl9BQ0NFUFQ6XCJCUlwiPT10LnRhZ05hbWU/Tm9kZUZpbHRlci5GSUxURVJfQUNDRVBUOk5vZGVGaWx0ZXIuRklMVEVSX1NLSVB9KTtyLmN1cnJlbnROb2RlPXQ7Y29uc3Qgcz1yW25dKCk7aWYobnVsbCE9PXMpe2NvbnN0IGU9ZnVuY3Rpb24odCxlKXtjb25zdCBuPVhpKHQpLG89WGkoZSk7bGV0IGk9MDtmb3IoO25baV09PW9baV0mJm5baV07KWkrKztyZXR1cm4gMD09PWk/bnVsbDpuW2ktMV19KHQscyk7aWYoZSYmIW5yKHQsdGhpcy5ibG9ja0VsZW1lbnRzLGUpJiYhbnIocyx0aGlzLmJsb2NrRWxlbWVudHMsZSkpcmV0dXJuIHN9cmV0dXJuIG51bGx9fWZ1bmN0aW9uIG5yKHQsZSxuKXtsZXQgbz1YaSh0KTtyZXR1cm4gbiYmKG89by5zbGljZShvLmluZGV4T2YobikrMSkpLG8uc29tZSh0PT50LnRhZ05hbWUmJmUuaW5jbHVkZXModC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpKX1mdW5jdGlvbiBvcih0LGUpe2Zvcig7dCYmdCE9S2kuZG9jdW1lbnQ7KWUodCksdD10LnBhcmVudE5vZGV9ZnVuY3Rpb24gaXIodCl7Y29uc3QgZT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KHQpO3JldHVyblwiW29iamVjdCBXaW5kb3ddXCI9PWV8fFwiW29iamVjdCBnbG9iYWxdXCI9PWV9dmFyIHJyPU5vKHt9LFIse2xpc3RlblRvKHQsLi4uZSl7aWYocWkodCl8fGlyKHQpKXtjb25zdCBuPXRoaXMuX2dldFByb3h5RW1pdHRlcih0KXx8bmV3IHNyKHQpO24uYXR0YWNoKC4uLmUpLHQ9bn1SLmxpc3RlblRvLmNhbGwodGhpcyx0LC4uLmUpfSxzdG9wTGlzdGVuaW5nKHQsZSxuKXtpZihxaSh0KXx8aXIodCkpe2NvbnN0IGU9dGhpcy5fZ2V0UHJveHlFbWl0dGVyKHQpO2lmKCFlKXJldHVybjt0PWV9Ui5zdG9wTGlzdGVuaW5nLmNhbGwodGhpcyx0LGUsbiksdCBpbnN0YW5jZW9mIHNyJiZ0LmRldGFjaChlKX0sX2dldFByb3h5RW1pdHRlcih0KXtyZXR1cm4gZnVuY3Rpb24odCxlKXtyZXR1cm4gdFtOXSYmdFtOXVtlXT90W05dW2VdLmVtaXR0ZXI6bnVsbH0odGhpcyxhcih0KSl9fSk7Y2xhc3Mgc3J7Y29uc3RydWN0b3IodCl7RCh0aGlzLGFyKHQpKSx0aGlzLl9kb21Ob2RlPXR9fWZ1bmN0aW9uIGFyKHQpe3JldHVybiB0W1wiZGF0YS1jay1leHBhbmRvXCJdfHwodFtcImRhdGEtY2stZXhwYW5kb1wiXT1FKCkpfU5vKHNyLnByb3RvdHlwZSxSLHthdHRhY2godCxlLG49e30pe2lmKHRoaXMuX2RvbUxpc3RlbmVycyYmdGhpcy5fZG9tTGlzdGVuZXJzW3RdKXJldHVybjtjb25zdCBvPXRoaXMuX2NyZWF0ZURvbUxpc3RlbmVyKHQsISFuLnVzZUNhcHR1cmUpO3RoaXMuX2RvbU5vZGUuYWRkRXZlbnRMaXN0ZW5lcih0LG8sISFuLnVzZUNhcHR1cmUpLHRoaXMuX2RvbUxpc3RlbmVyc3x8KHRoaXMuX2RvbUxpc3RlbmVycz17fSksdGhpcy5fZG9tTGlzdGVuZXJzW3RdPW99LGRldGFjaCh0KXtsZXQgZTshdGhpcy5fZG9tTGlzdGVuZXJzW3RdfHwoZT10aGlzLl9ldmVudHNbdF0pJiZlLmNhbGxiYWNrcy5sZW5ndGh8fHRoaXMuX2RvbUxpc3RlbmVyc1t0XS5yZW1vdmVMaXN0ZW5lcigpfSxfY3JlYXRlRG9tTGlzdGVuZXIodCxlKXtjb25zdCBuPWU9Pnt0aGlzLmZpcmUodCxlKX07cmV0dXJuIG4ucmVtb3ZlTGlzdGVuZXI9KCgpPT57dGhpcy5fZG9tTm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbixlKSxkZWxldGUgdGhpcy5fZG9tTGlzdGVuZXJzW3RdfSksbn19KTtjbGFzcyBjcntjb25zdHJ1Y3Rvcih0KXt0aGlzLnZpZXc9dCx0aGlzLmRvY3VtZW50PXQuZG9jdW1lbnQsdGhpcy5pc0VuYWJsZWQ9ITF9ZW5hYmxlKCl7dGhpcy5pc0VuYWJsZWQ9ITB9ZGlzYWJsZSgpe3RoaXMuaXNFbmFibGVkPSExfWRlc3Ryb3koKXt0aGlzLmRpc2FibGUoKSx0aGlzLnN0b3BMaXN0ZW5pbmcoKX19Qihjcixycik7dmFyIGxyPVwiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1wiO3ZhciBkcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5zZXQodCxsciksdGhpc307dmFyIHVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9fZGF0YV9fLmhhcyh0KX07ZnVuY3Rpb24gaHIodCl7dmFyIGU9LTEsbj1udWxsPT10PzA6dC5sZW5ndGg7Zm9yKHRoaXMuX19kYXRhX189bmV3IHF0OysrZTxuOyl0aGlzLmFkZCh0W2VdKX1oci5wcm90b3R5cGUuYWRkPWhyLnByb3RvdHlwZS5wdXNoPWRyLGhyLnByb3RvdHlwZS5oYXM9dXI7dmFyIGZyPWhyO3ZhciBtcj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0tMSxvPW51bGw9PXQ/MDp0Lmxlbmd0aDsrK248bzspaWYoZSh0W25dLG4sdCkpcmV0dXJuITA7cmV0dXJuITF9O3ZhciBncj1mdW5jdGlvbih0LGUpe3JldHVybiB0LmhhcyhlKX0scHI9MSxicj0yO3ZhciB3cj1mdW5jdGlvbih0LGUsbixvLGkscil7dmFyIHM9biZwcixhPXQubGVuZ3RoLGM9ZS5sZW5ndGg7aWYoYSE9YyYmIShzJiZjPmEpKXJldHVybiExO3ZhciBsPXIuZ2V0KHQpO2lmKGwmJnIuZ2V0KGUpKXJldHVybiBsPT1lO3ZhciBkPS0xLHU9ITAsaD1uJmJyP25ldyBmcjp2b2lkIDA7Zm9yKHIuc2V0KHQsZSksci5zZXQoZSx0KTsrK2Q8YTspe3ZhciBmPXRbZF0sbT1lW2RdO2lmKG8pdmFyIGc9cz9vKG0sZixkLGUsdCxyKTpvKGYsbSxkLHQsZSxyKTtpZih2b2lkIDAhPT1nKXtpZihnKWNvbnRpbnVlO3U9ITE7YnJlYWt9aWYoaCl7aWYoIW1yKGUsZnVuY3Rpb24odCxlKXtpZighZ3IoaCxlKSYmKGY9PT10fHxpKGYsdCxuLG8scikpKXJldHVybiBoLnB1c2goZSl9KSl7dT0hMTticmVha319ZWxzZSBpZihmIT09bSYmIWkoZixtLG4sbyxyKSl7dT0hMTticmVha319cmV0dXJuIHIuZGVsZXRlKHQpLHIuZGVsZXRlKGUpLHV9O3ZhciBfcj1mdW5jdGlvbih0KXt2YXIgZT0tMSxuPUFycmF5KHQuc2l6ZSk7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0LG8pe25bKytlXT1bbyx0XX0pLG59O3ZhciB2cj1mdW5jdGlvbih0KXt2YXIgZT0tMSxuPUFycmF5KHQuc2l6ZSk7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXtuWysrZV09dH0pLG59LGtyPTEseXI9Mix4cj1cIltvYmplY3QgQm9vbGVhbl1cIixBcj1cIltvYmplY3QgRGF0ZV1cIixDcj1cIltvYmplY3QgRXJyb3JdXCIsVHI9XCJbb2JqZWN0IE1hcF1cIixNcj1cIltvYmplY3QgTnVtYmVyXVwiLFByPVwiW29iamVjdCBSZWdFeHBdXCIsU3I9XCJbb2JqZWN0IFNldF1cIixFcj1cIltvYmplY3QgU3RyaW5nXVwiLElyPVwiW29iamVjdCBTeW1ib2xdXCIsTnI9XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiLE9yPVwiW29iamVjdCBEYXRhVmlld11cIixScj1pP2kucHJvdG90eXBlOnZvaWQgMCxEcj1Scj9Sci52YWx1ZU9mOnZvaWQgMDt2YXIganI9ZnVuY3Rpb24odCxlLG4sbyxpLHIscyl7c3dpdGNoKG4pe2Nhc2UgT3I6aWYodC5ieXRlTGVuZ3RoIT1lLmJ5dGVMZW5ndGh8fHQuYnl0ZU9mZnNldCE9ZS5ieXRlT2Zmc2V0KXJldHVybiExO3Q9dC5idWZmZXIsZT1lLmJ1ZmZlcjtjYXNlIE5yOnJldHVybiEodC5ieXRlTGVuZ3RoIT1lLmJ5dGVMZW5ndGh8fCFyKG5ldyBkbih0KSxuZXcgZG4oZSkpKTtjYXNlIHhyOmNhc2UgQXI6Y2FzZSBNcjpyZXR1cm4gcSgrdCwrZSk7Y2FzZSBDcjpyZXR1cm4gdC5uYW1lPT1lLm5hbWUmJnQubWVzc2FnZT09ZS5tZXNzYWdlO2Nhc2UgUHI6Y2FzZSBFcjpyZXR1cm4gdD09ZStcIlwiO2Nhc2UgVHI6dmFyIGE9X3I7Y2FzZSBTcjp2YXIgYz1vJmtyO2lmKGF8fChhPXZyKSx0LnNpemUhPWUuc2l6ZSYmIWMpcmV0dXJuITE7dmFyIGw9cy5nZXQodCk7aWYobClyZXR1cm4gbD09ZTtvfD15cixzLnNldCh0LGUpO3ZhciBkPXdyKGEodCksYShlKSxvLGkscixzKTtyZXR1cm4gcy5kZWxldGUodCksZDtjYXNlIElyOmlmKERyKXJldHVybiBEci5jYWxsKHQpPT1Eci5jYWxsKGUpfXJldHVybiExfSxMcj0xLFZyPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dmFyIEZyPWZ1bmN0aW9uKHQsZSxuLG8saSxyKXt2YXIgcz1uJkxyLGE9JGUodCksYz1hLmxlbmd0aDtpZihjIT0kZShlKS5sZW5ndGgmJiFzKXJldHVybiExO2Zvcih2YXIgbD1jO2wtLTspe3ZhciBkPWFbbF07aWYoIShzP2QgaW4gZTpWci5jYWxsKGUsZCkpKXJldHVybiExfXZhciB1PXIuZ2V0KHQpO2lmKHUmJnIuZ2V0KGUpKXJldHVybiB1PT1lO3ZhciBoPSEwO3Iuc2V0KHQsZSksci5zZXQoZSx0KTtmb3IodmFyIGY9czsrK2w8Yzspe3ZhciBtPXRbZD1hW2xdXSxnPWVbZF07aWYobyl2YXIgcD1zP28oZyxtLGQsZSx0LHIpOm8obSxnLGQsdCxlLHIpO2lmKCEodm9pZCAwPT09cD9tPT09Z3x8aShtLGcsbixvLHIpOnApKXtoPSExO2JyZWFrfWZ8fChmPVwiY29uc3RydWN0b3JcIj09ZCl9aWYoaCYmIWYpe3ZhciBiPXQuY29uc3RydWN0b3Isdz1lLmNvbnN0cnVjdG9yO2IhPXcmJlwiY29uc3RydWN0b3JcImluIHQmJlwiY29uc3RydWN0b3JcImluIGUmJiEoXCJmdW5jdGlvblwiPT10eXBlb2YgYiYmYiBpbnN0YW5jZW9mIGImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHcmJncgaW5zdGFuY2VvZiB3KSYmKGg9ITEpfXJldHVybiByLmRlbGV0ZSh0KSxyLmRlbGV0ZShlKSxofSx6cj0xLEJyPVwiW29iamVjdCBBcmd1bWVudHNdXCIsVXI9XCJbb2JqZWN0IEFycmF5XVwiLEhyPVwiW29iamVjdCBPYmplY3RdXCIscXI9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt2YXIgV3I9ZnVuY3Rpb24odCxlLG4sbyxpLHIpe3ZhciBzPWNlKHQpLGE9Y2UoZSksYz1zP1VyOmFuKHQpLGw9YT9VcjphbihlKSxkPShjPWM9PUJyP0hyOmMpPT1Icix1PShsPWw9PUJyP0hyOmwpPT1IcixoPWM9PWw7aWYoaCYmT2JqZWN0KGxlLmEpKHQpKXtpZighT2JqZWN0KGxlLmEpKGUpKXJldHVybiExO3M9ITAsZD0hMX1pZihoJiYhZClyZXR1cm4gcnx8KHI9bmV3ICR0KSxzfHx2ZSh0KT93cih0LGUsbixvLGkscik6anIodCxlLGMsbixvLGkscik7aWYoIShuJnpyKSl7dmFyIGY9ZCYmcXIuY2FsbCh0LFwiX193cmFwcGVkX19cIiksbT11JiZxci5jYWxsKGUsXCJfX3dyYXBwZWRfX1wiKTtpZihmfHxtKXt2YXIgZz1mP3QudmFsdWUoKTp0LHA9bT9lLnZhbHVlKCk6ZTtyZXR1cm4gcnx8KHI9bmV3ICR0KSxpKGcscCxuLG8scil9fXJldHVybiEhaCYmKHJ8fChyPW5ldyAkdCksRnIodCxlLG4sbyxpLHIpKX07dmFyIFlyPWZ1bmN0aW9uIHQoZSxuLG8saSxyKXtyZXR1cm4gZT09PW58fChudWxsPT1lfHxudWxsPT1ufHwhdyhlKSYmIXcobik/ZSE9ZSYmbiE9bjpXcihlLG4sbyxpLHQscikpfTt2YXIgR3I9ZnVuY3Rpb24odCxlLG4pe3ZhciBvPShuPVwiZnVuY3Rpb25cIj09dHlwZW9mIG4/bjp2b2lkIDApP24odCxlKTp2b2lkIDA7cmV0dXJuIHZvaWQgMD09PW8/WXIodCxlLHZvaWQgMCxuKTohIW99O2NsYXNzICRyIGV4dGVuZHMgY3J7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5fY29uZmlnPXtjaGlsZExpc3Q6ITAsY2hhcmFjdGVyRGF0YTohMCxjaGFyYWN0ZXJEYXRhT2xkVmFsdWU6ITAsc3VidHJlZTohMH0sdGhpcy5kb21Db252ZXJ0ZXI9dC5kb21Db252ZXJ0ZXIsdGhpcy5yZW5kZXJlcj10Ll9yZW5kZXJlcix0aGlzLl9kb21FbGVtZW50cz1bXSx0aGlzLl9tdXRhdGlvbk9ic2VydmVyPW5ldyB3aW5kb3cuTXV0YXRpb25PYnNlcnZlcih0aGlzLl9vbk11dGF0aW9ucy5iaW5kKHRoaXMpKX1mbHVzaCgpe3RoaXMuX29uTXV0YXRpb25zKHRoaXMuX211dGF0aW9uT2JzZXJ2ZXIudGFrZVJlY29yZHMoKSl9b2JzZXJ2ZSh0KXt0aGlzLl9kb21FbGVtZW50cy5wdXNoKHQpLHRoaXMuaXNFbmFibGVkJiZ0aGlzLl9tdXRhdGlvbk9ic2VydmVyLm9ic2VydmUodCx0aGlzLl9jb25maWcpfWVuYWJsZSgpe3N1cGVyLmVuYWJsZSgpO2Zvcihjb25zdCB0IG9mIHRoaXMuX2RvbUVsZW1lbnRzKXRoaXMuX211dGF0aW9uT2JzZXJ2ZXIub2JzZXJ2ZSh0LHRoaXMuX2NvbmZpZyl9ZGlzYWJsZSgpe3N1cGVyLmRpc2FibGUoKSx0aGlzLl9tdXRhdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKX1kZXN0cm95KCl7c3VwZXIuZGVzdHJveSgpLHRoaXMuX211dGF0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpfV9vbk11dGF0aW9ucyh0KXtpZigwPT09dC5sZW5ndGgpcmV0dXJuO2NvbnN0IGU9dGhpcy5kb21Db252ZXJ0ZXIsbj1uZXcgTWFwLG89bmV3IFNldDtmb3IoY29uc3QgbiBvZiB0KWlmKFwiY2hpbGRMaXN0XCI9PT1uLnR5cGUpe2NvbnN0IHQ9ZS5tYXBEb21Ub1ZpZXcobi50YXJnZXQpO2lmKHQmJnQuaXMoXCJ1aUVsZW1lbnRcIikpY29udGludWU7dCYmIXRoaXMuX2lzQm9ndXNCck11dGF0aW9uKG4pJiZvLmFkZCh0KX1mb3IoY29uc3QgaSBvZiB0KXtjb25zdCB0PWUubWFwRG9tVG9WaWV3KGkudGFyZ2V0KTtpZigoIXR8fCF0LmlzKFwidWlFbGVtZW50XCIpKSYmXCJjaGFyYWN0ZXJEYXRhXCI9PT1pLnR5cGUpe2NvbnN0IHQ9ZS5maW5kQ29ycmVzcG9uZGluZ1ZpZXdUZXh0KGkudGFyZ2V0KTt0JiYhby5oYXModC5wYXJlbnQpP24uc2V0KHQse3R5cGU6XCJ0ZXh0XCIsb2xkVGV4dDp0LmRhdGEsbmV3VGV4dDpMaShpLnRhcmdldCksbm9kZTp0fSk6IXQmJkRpKGkudGFyZ2V0KSYmby5hZGQoZS5tYXBEb21Ub1ZpZXcoaS50YXJnZXQucGFyZW50Tm9kZSkpfX1jb25zdCBpPVtdO2Zvcihjb25zdCB0IG9mIG4udmFsdWVzKCkpdGhpcy5yZW5kZXJlci5tYXJrVG9TeW5jKFwidGV4dFwiLHQubm9kZSksaS5wdXNoKHQpO2Zvcihjb25zdCB0IG9mIG8pe2NvbnN0IG49ZS5tYXBWaWV3VG9Eb20odCksbz1BcnJheS5mcm9tKHQuZ2V0Q2hpbGRyZW4oKSkscj1BcnJheS5mcm9tKGUuZG9tQ2hpbGRyZW5Ub1ZpZXcobix7d2l0aENoaWxkcmVuOiExfSkpO0dyKG8scixhKXx8KHRoaXMucmVuZGVyZXIubWFya1RvU3luYyhcImNoaWxkcmVuXCIsdCksaS5wdXNoKHt0eXBlOlwiY2hpbGRyZW5cIixvbGRDaGlsZHJlbjpvLG5ld0NoaWxkcmVuOnIsbm9kZTp0fSkpfWNvbnN0IHI9dFswXS50YXJnZXQub3duZXJEb2N1bWVudC5nZXRTZWxlY3Rpb24oKTtsZXQgcz1udWxsO2lmKHImJnIuYW5jaG9yTm9kZSl7Y29uc3QgdD1lLmRvbVBvc2l0aW9uVG9WaWV3KHIuYW5jaG9yTm9kZSxyLmFuY2hvck9mZnNldCksbj1lLmRvbVBvc2l0aW9uVG9WaWV3KHIuZm9jdXNOb2RlLHIuZm9jdXNPZmZzZXQpO3QmJm4mJihzPW5ldyBabyh0KSkuc2V0Rm9jdXMobil9ZnVuY3Rpb24gYSh0LGUpe2lmKCFBcnJheS5pc0FycmF5KHQpKXJldHVybiB0PT09ZXx8ISghdC5pcyhcInRleHRcIil8fCFlLmlzKFwidGV4dFwiKSkmJnQuZGF0YT09PWUuZGF0YX10aGlzLmRvY3VtZW50LmZpcmUoXCJtdXRhdGlvbnNcIixpLHMpLHRoaXMudmlldy5yZW5kZXIoKX1faXNCb2d1c0JyTXV0YXRpb24odCl7bGV0IGU9bnVsbDtyZXR1cm4gbnVsbD09PXQubmV4dFNpYmxpbmcmJjA9PT10LnJlbW92ZWROb2Rlcy5sZW5ndGgmJjE9PXQuYWRkZWROb2Rlcy5sZW5ndGgmJihlPXRoaXMuZG9tQ29udmVydGVyLmRvbVRvVmlldyh0LmFkZGVkTm9kZXNbMF0se3dpdGhDaGlsZHJlbjohMX0pKSxlJiZlLmlzKFwiZWxlbWVudFwiLFwiYnJcIil9fWNsYXNzIFFye2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLnZpZXc9dCx0aGlzLmRvY3VtZW50PXQuZG9jdW1lbnQsdGhpcy5kb21FdmVudD1lLHRoaXMuZG9tVGFyZ2V0PWUudGFyZ2V0LE5vKHRoaXMsbil9Z2V0IHRhcmdldCgpe3JldHVybiB0aGlzLnZpZXcuZG9tQ29udmVydGVyLm1hcERvbVRvVmlldyh0aGlzLmRvbVRhcmdldCl9cHJldmVudERlZmF1bHQoKXt0aGlzLmRvbUV2ZW50LnByZXZlbnREZWZhdWx0KCl9c3RvcFByb3BhZ2F0aW9uKCl7dGhpcy5kb21FdmVudC5zdG9wUHJvcGFnYXRpb24oKX19Y2xhc3MgSnIgZXh0ZW5kcyBjcntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLnVzZUNhcHR1cmU9ITF9b2JzZXJ2ZSh0KXsoXCJzdHJpbmdcIj09dHlwZW9mIHRoaXMuZG9tRXZlbnRUeXBlP1t0aGlzLmRvbUV2ZW50VHlwZV06dGhpcy5kb21FdmVudFR5cGUpLmZvckVhY2goZT0+e3RoaXMubGlzdGVuVG8odCxlLCh0LGUpPT57dGhpcy5pc0VuYWJsZWQmJnRoaXMub25Eb21FdmVudChlKX0se3VzZUNhcHR1cmU6dGhpcy51c2VDYXB0dXJlfSl9KX1maXJlKHQsZSxuKXt0aGlzLmlzRW5hYmxlZCYmdGhpcy5kb2N1bWVudC5maXJlKHQsbmV3IFFyKHRoaXMudmlldyxlLG4pKX19Y2xhc3MgS3IgZXh0ZW5kcyBKcntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLmRvbUV2ZW50VHlwZT1bXCJrZXlkb3duXCIsXCJrZXl1cFwiXX1vbkRvbUV2ZW50KHQpe3RoaXMuZmlyZSh0LnR5cGUsdCx7a2V5Q29kZTp0LmtleUNvZGUsYWx0S2V5OnQuYWx0S2V5LGN0cmxLZXk6dC5jdHJsS2V5fHx0Lm1ldGFLZXksc2hpZnRLZXk6dC5zaGlmdEtleSxnZXQga2V5c3Ryb2tlKCl7cmV0dXJuIGZpKHRoaXMpfX0pfX12YXIgWnI9ZnVuY3Rpb24oKXtyZXR1cm4gby5hLkRhdGUubm93KCl9LFhyPVwiW29iamVjdCBTeW1ib2xdXCI7dmFyIHRzPWZ1bmN0aW9uKHQpe3JldHVyblwic3ltYm9sXCI9PXR5cGVvZiB0fHx3KHQpJiZnKHQpPT1Ycn0sZXM9TmFOLG5zPS9eXFxzK3xcXHMrJC9nLG9zPS9eWy0rXTB4WzAtOWEtZl0rJC9pLGlzPS9eMGJbMDFdKyQvaSxycz0vXjBvWzAtN10rJC9pLHNzPXBhcnNlSW50O3ZhciBhcz1mdW5jdGlvbih0KXtpZihcIm51bWJlclwiPT10eXBlb2YgdClyZXR1cm4gdDtpZih0cyh0KSlyZXR1cm4gZXM7aWYob3QodCkpe3ZhciBlPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQudmFsdWVPZj90LnZhbHVlT2YoKTp0O3Q9b3QoZSk/ZStcIlwiOmV9aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpcmV0dXJuIDA9PT10P3Q6K3Q7dD10LnJlcGxhY2UobnMsXCJcIik7dmFyIG49aXMudGVzdCh0KTtyZXR1cm4gbnx8cnMudGVzdCh0KT9zcyh0LnNsaWNlKDIpLG4/Mjo4KTpvcy50ZXN0KHQpP2VzOit0fSxjcz1cIkV4cGVjdGVkIGEgZnVuY3Rpb25cIixscz1NYXRoLm1heCxkcz1NYXRoLm1pbjt2YXIgdXM9ZnVuY3Rpb24odCxlLG4pe3ZhciBvLGkscixzLGEsYyxsPTAsZD0hMSx1PSExLGg9ITA7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKGNzKTtmdW5jdGlvbiBmKGUpe3ZhciBuPW8scj1pO3JldHVybiBvPWk9dm9pZCAwLGw9ZSxzPXQuYXBwbHkocixuKX1mdW5jdGlvbiBtKHQpe3ZhciBuPXQtYztyZXR1cm4gdm9pZCAwPT09Y3x8bj49ZXx8bjwwfHx1JiZ0LWw+PXJ9ZnVuY3Rpb24gZygpe3ZhciB0PVpyKCk7aWYobSh0KSlyZXR1cm4gcCh0KTthPXNldFRpbWVvdXQoZyxmdW5jdGlvbih0KXt2YXIgbj1lLSh0LWMpO3JldHVybiB1P2RzKG4sci0odC1sKSk6bn0odCkpfWZ1bmN0aW9uIHAodCl7cmV0dXJuIGE9dm9pZCAwLGgmJm8/Zih0KToobz1pPXZvaWQgMCxzKX1mdW5jdGlvbiBiKCl7dmFyIHQ9WnIoKSxuPW0odCk7aWYobz1hcmd1bWVudHMsaT10aGlzLGM9dCxuKXtpZih2b2lkIDA9PT1hKXJldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gbD10LGE9c2V0VGltZW91dChnLGUpLGQ/Zih0KTpzfShjKTtpZih1KXJldHVybiBhPXNldFRpbWVvdXQoZyxlKSxmKGMpfXJldHVybiB2b2lkIDA9PT1hJiYoYT1zZXRUaW1lb3V0KGcsZSkpLHN9cmV0dXJuIGU9YXMoZSl8fDAsb3QobikmJihkPSEhbi5sZWFkaW5nLHI9KHU9XCJtYXhXYWl0XCJpbiBuKT9scyhhcyhuLm1heFdhaXQpfHwwLGUpOnIsaD1cInRyYWlsaW5nXCJpbiBuPyEhbi50cmFpbGluZzpoKSxiLmNhbmNlbD1mdW5jdGlvbigpe3ZvaWQgMCE9PWEmJmNsZWFyVGltZW91dChhKSxsPTAsbz1jPWk9YT12b2lkIDB9LGIuZmx1c2g9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09YT9zOnAoWnIoKSl9LGJ9O2NsYXNzIGhzIGV4dGVuZHMgY3J7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZURvbmVEZWJvdW5jZWQ9dXModD0+dGhpcy5kb2N1bWVudC5maXJlKFwic2VsZWN0aW9uQ2hhbmdlRG9uZVwiLHQpLDIwMCl9b2JzZXJ2ZSgpe2NvbnN0IHQ9dGhpcy5kb2N1bWVudDt0Lm9uKFwia2V5ZG93blwiLChlLG4pPT57dC5zZWxlY3Rpb24uaXNGYWtlJiZmdW5jdGlvbih0KXtyZXR1cm4gdD09aGkuYXJyb3dyaWdodHx8dD09aGkuYXJyb3dsZWZ0fHx0PT1oaS5hcnJvd3VwfHx0PT1oaS5hcnJvd2Rvd259KG4ua2V5Q29kZSkmJnRoaXMuaXNFbmFibGVkJiYobi5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2hhbmRsZVNlbGVjdGlvbk1vdmUobi5rZXlDb2RlKSl9LHtwcmlvcml0eTpcImxvd2VzdFwifSl9ZGVzdHJveSgpe3N1cGVyLmRlc3Ryb3koKSx0aGlzLl9maXJlU2VsZWN0aW9uQ2hhbmdlRG9uZURlYm91bmNlZC5jYW5jZWwoKX1faGFuZGxlU2VsZWN0aW9uTW92ZSh0KXtjb25zdCBlPXRoaXMuZG9jdW1lbnQuc2VsZWN0aW9uLG49bmV3IFpvKGUuZ2V0UmFuZ2VzKCkse2JhY2t3YXJkOmUuaXNCYWNrd2FyZCxmYWtlOiExfSk7dCE9aGkuYXJyb3dsZWZ0JiZ0IT1oaS5hcnJvd3VwfHxuLnNldFRvKG4uZ2V0Rmlyc3RQb3NpdGlvbigpKSx0IT1oaS5hcnJvd3JpZ2h0JiZ0IT1oaS5hcnJvd2Rvd258fG4uc2V0VG8obi5nZXRMYXN0UG9zaXRpb24oKSk7Y29uc3Qgbz17b2xkU2VsZWN0aW9uOmUsbmV3U2VsZWN0aW9uOm4sZG9tU2VsZWN0aW9uOm51bGx9O3RoaXMuZG9jdW1lbnQuZmlyZShcInNlbGVjdGlvbkNoYW5nZVwiLG8pLHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VEb25lRGVib3VuY2VkKG8pfX12YXIgZnM9bigxKTtjbGFzcyBtcyBleHRlbmRzIGNye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMubXV0YXRpb25PYnNlcnZlcj10LmdldE9ic2VydmVyKCRyKSx0aGlzLnNlbGVjdGlvbj10aGlzLmRvY3VtZW50LnNlbGVjdGlvbix0aGlzLmRvbUNvbnZlcnRlcj10LmRvbUNvbnZlcnRlcix0aGlzLl9kb2N1bWVudHM9bmV3IFdlYWtTZXQsdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZURvbmVEZWJvdW5jZWQ9dXModD0+dGhpcy5kb2N1bWVudC5maXJlKFwic2VsZWN0aW9uQ2hhbmdlRG9uZVwiLHQpLDIwMCksdGhpcy5fY2xlYXJJbmZpbml0ZUxvb3BJbnRlcnZhbD1zZXRJbnRlcnZhbCgoKT0+dGhpcy5fY2xlYXJJbmZpbml0ZUxvb3AoKSwxZTMpLHRoaXMuX2xvb3BiYWNrQ291bnRlcj0wfW9ic2VydmUodCl7Y29uc3QgZT10Lm93bmVyRG9jdW1lbnQ7dGhpcy5fZG9jdW1lbnRzLmhhcyhlKXx8KHRoaXMubGlzdGVuVG8oZSxcInNlbGVjdGlvbmNoYW5nZVwiLCgpPT57dGhpcy5faGFuZGxlU2VsZWN0aW9uQ2hhbmdlKGUpfSksdGhpcy5fZG9jdW1lbnRzLmFkZChlKSl9ZGVzdHJveSgpe3N1cGVyLmRlc3Ryb3koKSxjbGVhckludGVydmFsKHRoaXMuX2NsZWFySW5maW5pdGVMb29wSW50ZXJ2YWwpLHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VEb25lRGVib3VuY2VkLmNhbmNlbCgpfV9oYW5kbGVTZWxlY3Rpb25DaGFuZ2UodCl7aWYoIXRoaXMuaXNFbmFibGVkfHwhdGhpcy5kb2N1bWVudC5pc0ZvY3VzZWQmJiF0aGlzLmRvY3VtZW50LmlzUmVhZE9ubHkpcmV0dXJuO3RoaXMubXV0YXRpb25PYnNlcnZlci5mbHVzaCgpO2NvbnN0IGU9dC5kZWZhdWx0Vmlldy5nZXRTZWxlY3Rpb24oKSxuPXRoaXMuZG9tQ29udmVydGVyLmRvbVNlbGVjdGlvblRvVmlldyhlKTtpZighdGhpcy5zZWxlY3Rpb24uaXNFcXVhbChuKXx8IXRoaXMuZG9tQ29udmVydGVyLmlzRG9tU2VsZWN0aW9uQ29ycmVjdChlKSlpZigrK3RoaXMuX2xvb3BiYWNrQ291bnRlcj42MClmcy5hLndhcm4oXCJzZWxlY3Rpb25jaGFuZ2UtaW5maW5pdGUtbG9vcDogU2VsZWN0aW9uIGNoYW5nZSBvYnNlcnZlciBkZXRlY3RlZCBhbiBpbmZpbml0ZSByZW5kZXJpbmcgbG9vcC5cIik7ZWxzZSBpZih0aGlzLnNlbGVjdGlvbi5pc1NpbWlsYXIobikpdGhpcy52aWV3LnJlbmRlcigpO2Vsc2V7Y29uc3QgdD17b2xkU2VsZWN0aW9uOnRoaXMuc2VsZWN0aW9uLG5ld1NlbGVjdGlvbjpuLGRvbVNlbGVjdGlvbjplfTt0aGlzLmRvY3VtZW50LmZpcmUoXCJzZWxlY3Rpb25DaGFuZ2VcIix0KSx0aGlzLl9maXJlU2VsZWN0aW9uQ2hhbmdlRG9uZURlYm91bmNlZCh0KX19X2NsZWFySW5maW5pdGVMb29wKCl7dGhpcy5fbG9vcGJhY2tDb3VudGVyPTB9fWNsYXNzIGdzIGV4dGVuZHMgSnJ7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5kb21FdmVudFR5cGU9W1wiZm9jdXNcIixcImJsdXJcIl0sdGhpcy51c2VDYXB0dXJlPSEwO2NvbnN0IGU9dGhpcy5kb2N1bWVudDtlLm9uKFwiZm9jdXNcIiwoKT0+e2UuaXNGb2N1c2VkPSEwLHRoaXMuX3JlbmRlclRpbWVvdXRJZD1zZXRUaW1lb3V0KCgpPT50LnJlbmRlcigpLDUwKX0pLGUub24oXCJibHVyXCIsKG4sbyk9Pntjb25zdCBpPWUuc2VsZWN0aW9uLmVkaXRhYmxlRWxlbWVudDtudWxsIT09aSYmaSE9PW8udGFyZ2V0fHwoZS5pc0ZvY3VzZWQ9ITEsdC5yZW5kZXIoKSl9KX1vbkRvbUV2ZW50KHQpe3RoaXMuZmlyZSh0LnR5cGUsdCl9ZGVzdHJveSgpe3RoaXMuX3JlbmRlclRpbWVvdXRJZCYmY2xlYXJUaW1lb3V0KHRoaXMuX3JlbmRlclRpbWVvdXRJZCksc3VwZXIuZGVzdHJveSgpfX1jbGFzcyBwcyBleHRlbmRzIEpye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuZG9tRXZlbnRUeXBlPVtcImNvbXBvc2l0aW9uc3RhcnRcIixcImNvbXBvc2l0aW9udXBkYXRlXCIsXCJjb21wb3NpdGlvbmVuZFwiXTtjb25zdCBlPXRoaXMuZG9jdW1lbnQ7ZS5vbihcImNvbXBvc2l0aW9uc3RhcnRcIiwoKT0+e2UuaXNDb21wb3Npbmc9ITB9KSxlLm9uKFwiY29tcG9zaXRpb25lbmRcIiwoKT0+e2UuaXNDb21wb3Npbmc9ITF9KX1vbkRvbUV2ZW50KHQpe3RoaXMuZmlyZSh0LnR5cGUsdCl9fWZ1bmN0aW9uIGJzKHQpe3JldHVyblwiW29iamVjdCBSYW5nZV1cIj09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseSh0KX1mdW5jdGlvbiB3cyh0KXtjb25zdCBlPXQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKHQpO3JldHVybnt0b3A6cGFyc2VJbnQoZS5ib3JkZXJUb3BXaWR0aCwxMCkscmlnaHQ6cGFyc2VJbnQoZS5ib3JkZXJSaWdodFdpZHRoLDEwKSxib3R0b206cGFyc2VJbnQoZS5ib3JkZXJCb3R0b21XaWR0aCwxMCksbGVmdDpwYXJzZUludChlLmJvcmRlckxlZnRXaWR0aCwxMCl9fWNvbnN0IF9zPVtcInRvcFwiLFwicmlnaHRcIixcImJvdHRvbVwiLFwibGVmdFwiLFwid2lkdGhcIixcImhlaWdodFwiXTtjbGFzcyB2c3tjb25zdHJ1Y3Rvcih0KXtjb25zdCBlPWJzKHQpO2lmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiX3NvdXJjZVwiLHt2YWx1ZTp0Ll9zb3VyY2V8fHQsd3JpdGFibGU6ITAsZW51bWVyYWJsZTohMX0pLHRyKHQpfHxlKXtjb25zdCBuPWU/dC5zdGFydENvbnRhaW5lcjp0O24ub3duZXJEb2N1bWVudCYmbi5vd25lckRvY3VtZW50LmJvZHkuY29udGFpbnMobil8fGZzLmEud2FybihcInJlY3Qtc291cmNlLW5vdC1pbi1kb206IFRoZSBzb3VyY2Ugb2YgdGhpcyByZWN0IGRvZXMgbm90IGJlbG9uZyB0byBhbnkgcmVuZGVyZWQgRE9NIHRyZWUuXCIse3NvdXJjZTp0fSksa3ModGhpcyxlP3ZzLmdldERvbVJhbmdlUmVjdHModClbMF06dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSl9ZWxzZSBpZihpcih0KSl7Y29uc3R7aW5uZXJXaWR0aDplLGlubmVySGVpZ2h0Om59PXQ7a3ModGhpcyx7dG9wOjAscmlnaHQ6ZSxib3R0b206bixsZWZ0OjAsd2lkdGg6ZSxoZWlnaHQ6bn0pfWVsc2Uga3ModGhpcyx0KX1jbG9uZSgpe3JldHVybiBuZXcgdnModGhpcyl9bW92ZVRvKHQsZSl7cmV0dXJuIHRoaXMudG9wPWUsdGhpcy5yaWdodD10K3RoaXMud2lkdGgsdGhpcy5ib3R0b209ZSt0aGlzLmhlaWdodCx0aGlzLmxlZnQ9dCx0aGlzfW1vdmVCeSh0LGUpe3JldHVybiB0aGlzLnRvcCs9ZSx0aGlzLnJpZ2h0Kz10LHRoaXMubGVmdCs9dCx0aGlzLmJvdHRvbSs9ZSx0aGlzfWdldEludGVyc2VjdGlvbih0KXtjb25zdCBlPXt0b3A6TWF0aC5tYXgodGhpcy50b3AsdC50b3ApLHJpZ2h0Ok1hdGgubWluKHRoaXMucmlnaHQsdC5yaWdodCksYm90dG9tOk1hdGgubWluKHRoaXMuYm90dG9tLHQuYm90dG9tKSxsZWZ0Ok1hdGgubWF4KHRoaXMubGVmdCx0LmxlZnQpfTtyZXR1cm4gZS53aWR0aD1lLnJpZ2h0LWUubGVmdCxlLmhlaWdodD1lLmJvdHRvbS1lLnRvcCxlLndpZHRoPDB8fGUuaGVpZ2h0PDA/bnVsbDpuZXcgdnMoZSl9Z2V0SW50ZXJzZWN0aW9uQXJlYSh0KXtjb25zdCBlPXRoaXMuZ2V0SW50ZXJzZWN0aW9uKHQpO3JldHVybiBlP2UuZ2V0QXJlYSgpOjB9Z2V0QXJlYSgpe3JldHVybiB0aGlzLndpZHRoKnRoaXMuaGVpZ2h0fWdldFZpc2libGUoKXtjb25zdCB0PXRoaXMuX3NvdXJjZTtsZXQgZT10aGlzLmNsb25lKCk7aWYoIXlzKHQpKXtsZXQgbj10LnBhcmVudE5vZGV8fHQuY29tbW9uQW5jZXN0b3JDb250YWluZXI7Zm9yKDtuJiYheXMobik7KXtjb25zdCB0PW5ldyB2cyhuKSxvPWUuZ2V0SW50ZXJzZWN0aW9uKHQpO2lmKCFvKXJldHVybiBudWxsO28uZ2V0QXJlYSgpPGUuZ2V0QXJlYSgpJiYoZT1vKSxuPW4ucGFyZW50Tm9kZX19cmV0dXJuIGV9aXNFcXVhbCh0KXtmb3IoY29uc3QgZSBvZiBfcylpZih0aGlzW2VdIT09dFtlXSlyZXR1cm4hMTtyZXR1cm4hMH1jb250YWlucyh0KXtjb25zdCBlPXRoaXMuZ2V0SW50ZXJzZWN0aW9uKHQpO3JldHVybiEoIWV8fCFlLmlzRXF1YWwodCkpfWV4Y2x1ZGVTY3JvbGxiYXJzQW5kQm9yZGVycygpe2NvbnN0IHQ9dGhpcy5fc291cmNlO2xldCBlLG47aWYoaXIodCkpZT10LmlubmVyV2lkdGgtdC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsbj10LmlubmVySGVpZ2h0LXQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtlbHNle2NvbnN0IG89d3ModGhpcy5fc291cmNlKTtlPXQub2Zmc2V0V2lkdGgtdC5jbGllbnRXaWR0aCxuPXQub2Zmc2V0SGVpZ2h0LXQuY2xpZW50SGVpZ2h0LHRoaXMubW92ZUJ5KG8ubGVmdCxvLnRvcCl9cmV0dXJuIHRoaXMud2lkdGgtPWUsdGhpcy5yaWdodC09ZSx0aGlzLmhlaWdodC09bix0aGlzLmJvdHRvbS09bix0aGlzfXN0YXRpYyBnZXREb21SYW5nZVJlY3RzKHQpe2NvbnN0IGU9W10sbj1BcnJheS5mcm9tKHQuZ2V0Q2xpZW50UmVjdHMoKSk7aWYobi5sZW5ndGgpZm9yKGNvbnN0IHQgb2YgbillLnB1c2gobmV3IHZzKHQpKTtlbHNle2xldCBuPXQuc3RhcnRDb250YWluZXI7RWkobikmJihuPW4ucGFyZW50Tm9kZSk7Y29uc3Qgbz1uZXcgdnMobi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7by5yaWdodD1vLmxlZnQsby53aWR0aD0wLGUucHVzaChvKX1yZXR1cm4gZX19ZnVuY3Rpb24ga3ModCxlKXtmb3IoY29uc3QgbiBvZiBfcyl0W25dPWVbbl19ZnVuY3Rpb24geXModCl7cmV0dXJuISF0cih0KSYmdD09PXQub3duZXJEb2N1bWVudC5ib2R5fWZ1bmN0aW9uIHhzKHt0YXJnZXQ6dCx2aWV3cG9ydE9mZnNldDplPTB9KXtjb25zdCBuPUVzKHQpO2xldCBvPW4saT1udWxsO2Zvcig7bzspe2xldCByO0NzKHI9SXMobz09bj90OmkpLCgpPT5Ocyh0LG8pKTtjb25zdCBzPU5zKHQsbyk7aWYoQXMobyxzLGUpLG8ucGFyZW50IT1vKXtpZihpPW8uZnJhbWVFbGVtZW50LG89by5wYXJlbnQsIWkpcmV0dXJufWVsc2Ugbz1udWxsfX1mdW5jdGlvbiBBcyh0LGUsbil7Y29uc3Qgbz1lLmNsb25lKCkubW92ZUJ5KDAsbiksaT1lLmNsb25lKCkubW92ZUJ5KDAsLW4pLHI9bmV3IHZzKHQpLmV4Y2x1ZGVTY3JvbGxiYXJzQW5kQm9yZGVycygpO2lmKCFbaSxvXS5ldmVyeSh0PT5yLmNvbnRhaW5zKHQpKSl7bGV0e3Njcm9sbFg6cyxzY3JvbGxZOmF9PXQ7TXMoaSxyKT9hLT1yLnRvcC1lLnRvcCtuOlRzKG8scikmJihhKz1lLmJvdHRvbS1yLmJvdHRvbStuKSxQcyhlLHIpP3MtPXIubGVmdC1lLmxlZnQrbjpTcyhlLHIpJiYocys9ZS5yaWdodC1yLnJpZ2h0K24pLHQuc2Nyb2xsVG8ocyxhKX19ZnVuY3Rpb24gQ3ModCxlKXtjb25zdCBuPUVzKHQpO2xldCBvLGk7Zm9yKDt0IT1uLmRvY3VtZW50LmJvZHk7KWk9ZSgpLChvPW5ldyB2cyh0KS5leGNsdWRlU2Nyb2xsYmFyc0FuZEJvcmRlcnMoKSkuY29udGFpbnMoaSl8fChNcyhpLG8pP3Quc2Nyb2xsVG9wLT1vLnRvcC1pLnRvcDpUcyhpLG8pJiYodC5zY3JvbGxUb3ArPWkuYm90dG9tLW8uYm90dG9tKSxQcyhpLG8pP3Quc2Nyb2xsTGVmdC09by5sZWZ0LWkubGVmdDpTcyhpLG8pJiYodC5zY3JvbGxMZWZ0Kz1pLnJpZ2h0LW8ucmlnaHQpKSx0PXQucGFyZW50Tm9kZX1mdW5jdGlvbiBUcyh0LGUpe3JldHVybiB0LmJvdHRvbT5lLmJvdHRvbX1mdW5jdGlvbiBNcyh0LGUpe3JldHVybiB0LnRvcDxlLnRvcH1mdW5jdGlvbiBQcyh0LGUpe3JldHVybiB0LmxlZnQ8ZS5sZWZ0fWZ1bmN0aW9uIFNzKHQsZSl7cmV0dXJuIHQucmlnaHQ+ZS5yaWdodH1mdW5jdGlvbiBFcyh0KXtyZXR1cm4gYnModCk/dC5zdGFydENvbnRhaW5lci5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3OnQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlld31mdW5jdGlvbiBJcyh0KXtpZihicyh0KSl7bGV0IGU9dC5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtyZXR1cm4gRWkoZSkmJihlPWUucGFyZW50Tm9kZSksZX1yZXR1cm4gdC5wYXJlbnROb2RlfWZ1bmN0aW9uIE5zKHQsZSl7Y29uc3Qgbj1Fcyh0KSxvPW5ldyB2cyh0KTtpZihuPT09ZSlyZXR1cm4gbzt7bGV0IHQ9bjtmb3IoO3QhPWU7KXtjb25zdCBlPXQuZnJhbWVFbGVtZW50LG49bmV3IHZzKGUpLmV4Y2x1ZGVTY3JvbGxiYXJzQW5kQm9yZGVycygpO28ubW92ZUJ5KG4ubGVmdCxuLnRvcCksdD10LnBhcmVudH19cmV0dXJuIG99T2JqZWN0LmFzc2lnbih7fSx7c2Nyb2xsVmlld3BvcnRUb1Nob3dUYXJnZXQ6eHMsc2Nyb2xsQW5jZXN0b3JzVG9TaG93VGFyZ2V0OmZ1bmN0aW9uKHQpe0NzKElzKHQpLCgpPT5uZXcgdnModCkpfX0pO2NsYXNzIE9ze2NvbnN0cnVjdG9yKCl7dGhpcy5kb2N1bWVudD1uZXcgZWksdGhpcy5kb21Db252ZXJ0ZXI9bmV3IGVyLHRoaXMuX3JlbmRlcmVyPW5ldyAkaSh0aGlzLmRvbUNvbnZlcnRlcix0aGlzLmRvY3VtZW50LnNlbGVjdGlvbiksdGhpcy5fcmVuZGVyZXIuYmluZChcImlzRm9jdXNlZFwiKS50byh0aGlzLmRvY3VtZW50KSx0aGlzLmRvbVJvb3RzPW5ldyBNYXAsdGhpcy5fb2JzZXJ2ZXJzPW5ldyBNYXAsdGhpcy5fb25nb2luZ0NoYW5nZT0hMSx0aGlzLl9yZW5kZXJpbmdJblByb2dyZXNzPSExLHRoaXMuX3Bvc3RGaXhlcnNJblByb2dyZXNzPSExLHRoaXMuX3JlbmRlcmluZ0Rpc2FibGVkPSExLHRoaXMuX3dyaXRlcj1uZXcgdmkodGhpcy5kb2N1bWVudCksdGhpcy5hZGRPYnNlcnZlcigkciksdGhpcy5hZGRPYnNlcnZlcihtcyksdGhpcy5hZGRPYnNlcnZlcihncyksdGhpcy5hZGRPYnNlcnZlcihLciksdGhpcy5hZGRPYnNlcnZlcihocyksdGhpcy5hZGRPYnNlcnZlcihwcyksZnVuY3Rpb24odCl7dC5kb2N1bWVudC5vbihcImtleWRvd25cIix6aSl9KHRoaXMpLGJpKHRoaXMpLHRoaXMub24oXCJyZW5kZXJcIiwoKT0+e3RoaXMuX3JlbmRlcigpLHRoaXMuZG9jdW1lbnQuZmlyZShcImxheW91dENoYW5nZWRcIil9KX1hdHRhY2hEb21Sb290KHQsZT1cIm1haW5cIil7Y29uc3Qgbj10aGlzLmRvY3VtZW50LmdldFJvb3QoZSk7bi5fbmFtZT10LnRhZ05hbWUudG9Mb3dlckNhc2UoKSx0aGlzLmRvbVJvb3RzLnNldChlLHQpLHRoaXMuZG9tQ29udmVydGVyLmJpbmRFbGVtZW50cyh0LG4pLHRoaXMuX3JlbmRlcmVyLm1hcmtUb1N5bmMoXCJjaGlsZHJlblwiLG4pLHRoaXMuX3JlbmRlcmVyLmRvbURvY3VtZW50cy5hZGQodC5vd25lckRvY3VtZW50KSxuLm9uKFwiY2hhbmdlOmNoaWxkcmVuXCIsKHQsZSk9PnRoaXMuX3JlbmRlcmVyLm1hcmtUb1N5bmMoXCJjaGlsZHJlblwiLGUpKSxuLm9uKFwiY2hhbmdlOmF0dHJpYnV0ZXNcIiwodCxlKT0+dGhpcy5fcmVuZGVyZXIubWFya1RvU3luYyhcImF0dHJpYnV0ZXNcIixlKSksbi5vbihcImNoYW5nZTp0ZXh0XCIsKHQsZSk9PnRoaXMuX3JlbmRlcmVyLm1hcmtUb1N5bmMoXCJ0ZXh0XCIsZSkpO2Zvcihjb25zdCBuIG9mIHRoaXMuX29ic2VydmVycy52YWx1ZXMoKSluLm9ic2VydmUodCxlKX1nZXREb21Sb290KHQ9XCJtYWluXCIpe3JldHVybiB0aGlzLmRvbVJvb3RzLmdldCh0KX1hZGRPYnNlcnZlcih0KXtsZXQgZT10aGlzLl9vYnNlcnZlcnMuZ2V0KHQpO2lmKGUpcmV0dXJuIGU7ZT1uZXcgdCh0aGlzKSx0aGlzLl9vYnNlcnZlcnMuc2V0KHQsZSk7Zm9yKGNvbnN0W3Qsbl1vZiB0aGlzLmRvbVJvb3RzKWUub2JzZXJ2ZShuLHQpO3JldHVybiBlLmVuYWJsZSgpLGV9Z2V0T2JzZXJ2ZXIodCl7cmV0dXJuIHRoaXMuX29ic2VydmVycy5nZXQodCl9ZGlzYWJsZU9ic2VydmVycygpe2Zvcihjb25zdCB0IG9mIHRoaXMuX29ic2VydmVycy52YWx1ZXMoKSl0LmRpc2FibGUoKX1lbmFibGVPYnNlcnZlcnMoKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9vYnNlcnZlcnMudmFsdWVzKCkpdC5lbmFibGUoKX1zY3JvbGxUb1RoZVNlbGVjdGlvbigpe2NvbnN0IHQ9dGhpcy5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0Rmlyc3RSYW5nZSgpO3QmJnhzKHt0YXJnZXQ6dGhpcy5kb21Db252ZXJ0ZXIudmlld1JhbmdlVG9Eb20odCksdmlld3BvcnRPZmZzZXQ6MjB9KX1mb2N1cygpe2lmKCF0aGlzLmRvY3VtZW50LmlzRm9jdXNlZCl7Y29uc3QgdD10aGlzLmRvY3VtZW50LnNlbGVjdGlvbi5lZGl0YWJsZUVsZW1lbnQ7dD8odGhpcy5kb21Db252ZXJ0ZXIuZm9jdXModCksdGhpcy5yZW5kZXIoKSk6ZnMuYS53YXJuKFwidmlldy1mb2N1cy1uby1zZWxlY3Rpb246IFRoZXJlIGlzIG5vIHNlbGVjdGlvbiBpbiBhbnkgZWRpdGFibGUgdG8gZm9jdXMuXCIpfX1jaGFuZ2UodCl7aWYodGhpcy5fcmVuZGVyaW5nSW5Qcm9ncmVzc3x8dGhpcy5fcG9zdEZpeGVyc0luUHJvZ3Jlc3MpdGhyb3cgbmV3IE0uYihcImNhbm5vdC1jaGFuZ2Utdmlldy10cmVlOiBBdHRlbXB0aW5nIHRvIG1ha2UgY2hhbmdlcyB0byB0aGUgdmlldyB3aGVuIGl0IGlzIGluIGluY29ycmVjdCBzdGF0ZTogcmVuZGVyaW5nIG9yIHBvc3QtZml4ZXJzIGFyZSBpbiBwcm9ncmVzcy4gVGhpcyBtYXkgY2F1c2Ugc29tZSB1bmV4cGVjdGVkIGJlaGF2aW91ciBhbmQgaW5jb25zaXN0ZW5jeSBiZXR3ZWVuIHRoZSBET00gYW5kIHRoZSB2aWV3LlwiKTt0aGlzLl9vbmdvaW5nQ2hhbmdlP3QodGhpcy5fd3JpdGVyKToodGhpcy5fb25nb2luZ0NoYW5nZT0hMCx0KHRoaXMuX3dyaXRlciksdGhpcy5fb25nb2luZ0NoYW5nZT0hMSx0aGlzLl9yZW5kZXJpbmdEaXNhYmxlZHx8KHRoaXMuX3Bvc3RGaXhlcnNJblByb2dyZXNzPSEwLHRoaXMuZG9jdW1lbnQuX2NhbGxQb3N0Rml4ZXJzKHRoaXMuX3dyaXRlciksdGhpcy5fcG9zdEZpeGVyc0luUHJvZ3Jlc3M9ITEsdGhpcy5maXJlKFwicmVuZGVyXCIpKSl9cmVuZGVyKCl7dGhpcy5jaGFuZ2UoKCk9Pnt9KX1kZXN0cm95KCl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fb2JzZXJ2ZXJzLnZhbHVlcygpKXQuZGVzdHJveSgpO3RoaXMuc3RvcExpc3RlbmluZygpfV9yZW5kZXIoKXt0aGlzLl9yZW5kZXJpbmdJblByb2dyZXNzPSEwLHRoaXMuZGlzYWJsZU9ic2VydmVycygpLHRoaXMuX3JlbmRlcmVyLnJlbmRlcigpLHRoaXMuZW5hYmxlT2JzZXJ2ZXJzKCksdGhpcy5fcmVuZGVyaW5nSW5Qcm9ncmVzcz0hMX19ZnVuY3Rpb24gUnModCl7cmV0dXJuIEModCk/dW8odCk6bmV3IE1hcCh0KX1CKE9zLExvKTtjbGFzcyBEc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLnBhcmVudD1udWxsLHRoaXMuX2F0dHJzPVJzKHQpfWdldCBpbmRleCgpe2xldCB0O2lmKCF0aGlzLnBhcmVudClyZXR1cm4gbnVsbDtpZihudWxsPT09KHQ9dGhpcy5wYXJlbnQuZ2V0Q2hpbGRJbmRleCh0aGlzKSkpdGhyb3cgbmV3IE0uYihcIm1vZGVsLW5vZGUtbm90LWZvdW5kLWluLXBhcmVudDogVGhlIG5vZGUncyBwYXJlbnQgZG9lcyBub3QgY29udGFpbiB0aGlzIG5vZGUuXCIpO3JldHVybiB0fWdldCBzdGFydE9mZnNldCgpe2xldCB0O2lmKCF0aGlzLnBhcmVudClyZXR1cm4gbnVsbDtpZihudWxsPT09KHQ9dGhpcy5wYXJlbnQuZ2V0Q2hpbGRTdGFydE9mZnNldCh0aGlzKSkpdGhyb3cgbmV3IE0uYihcIm1vZGVsLW5vZGUtbm90LWZvdW5kLWluLXBhcmVudDogVGhlIG5vZGUncyBwYXJlbnQgZG9lcyBub3QgY29udGFpbiB0aGlzIG5vZGUuXCIpO3JldHVybiB0fWdldCBvZmZzZXRTaXplKCl7cmV0dXJuIDF9Z2V0IGVuZE9mZnNldCgpe3JldHVybiB0aGlzLnBhcmVudD90aGlzLnN0YXJ0T2Zmc2V0K3RoaXMub2Zmc2V0U2l6ZTpudWxsfWdldCBuZXh0U2libGluZygpe2NvbnN0IHQ9dGhpcy5pbmRleDtyZXR1cm4gbnVsbCE9PXQmJnRoaXMucGFyZW50LmdldENoaWxkKHQrMSl8fG51bGx9Z2V0IHByZXZpb3VzU2libGluZygpe2NvbnN0IHQ9dGhpcy5pbmRleDtyZXR1cm4gbnVsbCE9PXQmJnRoaXMucGFyZW50LmdldENoaWxkKHQtMSl8fG51bGx9Z2V0IHJvb3QoKXtsZXQgdD10aGlzO2Zvcig7dC5wYXJlbnQ7KXQ9dC5wYXJlbnQ7cmV0dXJuIHR9Z2V0IGRvY3VtZW50KCl7cmV0dXJuIHRoaXMucm9vdD09dGhpcz9udWxsOnRoaXMucm9vdC5kb2N1bWVudHx8bnVsbH1nZXRQYXRoKCl7Y29uc3QgdD1bXTtsZXQgZT10aGlzO2Zvcig7ZS5wYXJlbnQ7KXQudW5zaGlmdChlLnN0YXJ0T2Zmc2V0KSxlPWUucGFyZW50O3JldHVybiB0fWdldEFuY2VzdG9ycyh0PXtpbmNsdWRlU2VsZjohMSxwYXJlbnRGaXJzdDohMX0pe2NvbnN0IGU9W107bGV0IG49dC5pbmNsdWRlU2VsZj90aGlzOnRoaXMucGFyZW50O2Zvcig7bjspZVt0LnBhcmVudEZpcnN0P1wicHVzaFwiOlwidW5zaGlmdFwiXShuKSxuPW4ucGFyZW50O3JldHVybiBlfWdldENvbW1vbkFuY2VzdG9yKHQsZT17fSl7Y29uc3Qgbj10aGlzLmdldEFuY2VzdG9ycyhlKSxvPXQuZ2V0QW5jZXN0b3JzKGUpO2xldCBpPTA7Zm9yKDtuW2ldPT1vW2ldJiZuW2ldOylpKys7cmV0dXJuIDA9PT1pP251bGw6bltpLTFdfWlzQmVmb3JlKHQpe2lmKHRoaXM9PXQpcmV0dXJuITE7aWYodGhpcy5yb290IT09dC5yb290KXJldHVybiExO2NvbnN0IGU9dGhpcy5nZXRQYXRoKCksbj10LmdldFBhdGgoKSxvPVUoZSxuKTtzd2l0Y2gobyl7Y2FzZVwicHJlZml4XCI6cmV0dXJuITA7Y2FzZVwiZXh0ZW5zaW9uXCI6cmV0dXJuITE7ZGVmYXVsdDpyZXR1cm4gZVtvXTxuW29dfX1pc0FmdGVyKHQpe3JldHVybiB0aGlzIT10JiYodGhpcy5yb290PT09dC5yb290JiYhdGhpcy5pc0JlZm9yZSh0KSl9aGFzQXR0cmlidXRlKHQpe3JldHVybiB0aGlzLl9hdHRycy5oYXModCl9Z2V0QXR0cmlidXRlKHQpe3JldHVybiB0aGlzLl9hdHRycy5nZXQodCl9Z2V0QXR0cmlidXRlcygpe3JldHVybiB0aGlzLl9hdHRycy5lbnRyaWVzKCl9Z2V0QXR0cmlidXRlS2V5cygpe3JldHVybiB0aGlzLl9hdHRycy5rZXlzKCl9dG9KU09OKCl7Y29uc3QgdD17fTtyZXR1cm4gdGhpcy5fYXR0cnMuc2l6ZSYmKHQuYXR0cmlidXRlcz1BcnJheS5mcm9tKHRoaXMuX2F0dHJzKS5yZWR1Y2UoKHQsZSk9Pih0W2VbMF1dPWVbMV0sdCkse30pKSx0fV9jbG9uZSgpe3JldHVybiBuZXcgRHModGhpcy5fYXR0cnMpfV9yZW1vdmUoKXt0aGlzLnBhcmVudC5fcmVtb3ZlQ2hpbGRyZW4odGhpcy5pbmRleCl9X3NldEF0dHJpYnV0ZSh0LGUpe3RoaXMuX2F0dHJzLnNldCh0LGUpfV9zZXRBdHRyaWJ1dGVzVG8odCl7dGhpcy5fYXR0cnM9UnModCl9X3JlbW92ZUF0dHJpYnV0ZSh0KXtyZXR1cm4gdGhpcy5fYXR0cnMuZGVsZXRlKHQpfV9jbGVhckF0dHJpYnV0ZXMoKXt0aGlzLl9hdHRycy5jbGVhcigpfWlzKHQpe3JldHVyblwibm9kZVwiPT10fX1jbGFzcyBqcyBleHRlbmRzIERze2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIoZSksdGhpcy5fZGF0YT10fHxcIlwifWdldCBvZmZzZXRTaXplKCl7cmV0dXJuIHRoaXMuZGF0YS5sZW5ndGh9Z2V0IGRhdGEoKXtyZXR1cm4gdGhpcy5fZGF0YX1pcyh0KXtyZXR1cm5cInRleHRcIj09dHx8c3VwZXIuaXModCl9dG9KU09OKCl7Y29uc3QgdD1zdXBlci50b0pTT04oKTtyZXR1cm4gdC5kYXRhPXRoaXMuZGF0YSx0fV9jbG9uZSgpe3JldHVybiBuZXcganModGhpcy5kYXRhLHRoaXMuZ2V0QXR0cmlidXRlcygpKX1zdGF0aWMgZnJvbUpTT04odCl7cmV0dXJuIG5ldyBqcyh0LmRhdGEsdC5hdHRyaWJ1dGVzKX19Y2xhc3MgTHN7Y29uc3RydWN0b3IodCxlLG4pe2lmKHRoaXMudGV4dE5vZGU9dCxlPDB8fGU+dC5vZmZzZXRTaXplKXRocm93IG5ldyBNLmIoXCJtb2RlbC10ZXh0cHJveHktd3Jvbmctb2Zmc2V0aW50ZXh0OiBHaXZlbiBvZmZzZXRJblRleHQgdmFsdWUgaXMgaW5jb3JyZWN0LlwiKTtpZihuPDB8fGUrbj50Lm9mZnNldFNpemUpdGhyb3cgbmV3IE0uYihcIm1vZGVsLXRleHRwcm94eS13cm9uZy1sZW5ndGg6IEdpdmVuIGxlbmd0aCB2YWx1ZSBpcyBpbmNvcnJlY3QuXCIpO3RoaXMuZGF0YT10LmRhdGEuc3Vic3RyaW5nKGUsZStuKSx0aGlzLm9mZnNldEluVGV4dD1lfWdldCBzdGFydE9mZnNldCgpe3JldHVybiBudWxsIT09dGhpcy50ZXh0Tm9kZS5zdGFydE9mZnNldD90aGlzLnRleHROb2RlLnN0YXJ0T2Zmc2V0K3RoaXMub2Zmc2V0SW5UZXh0Om51bGx9Z2V0IG9mZnNldFNpemUoKXtyZXR1cm4gdGhpcy5kYXRhLmxlbmd0aH1nZXQgZW5kT2Zmc2V0KCl7cmV0dXJuIG51bGwhPT10aGlzLnN0YXJ0T2Zmc2V0P3RoaXMuc3RhcnRPZmZzZXQrdGhpcy5vZmZzZXRTaXplOm51bGx9Z2V0IGlzUGFydGlhbCgpe3JldHVybiB0aGlzLm9mZnNldFNpemUhPT10aGlzLnRleHROb2RlLm9mZnNldFNpemV9Z2V0IHBhcmVudCgpe3JldHVybiB0aGlzLnRleHROb2RlLnBhcmVudH1nZXQgcm9vdCgpe3JldHVybiB0aGlzLnRleHROb2RlLnJvb3R9Z2V0IGRvY3VtZW50KCl7cmV0dXJuIHRoaXMudGV4dE5vZGUuZG9jdW1lbnR9aXModCl7cmV0dXJuXCJ0ZXh0UHJveHlcIj09dH1nZXRQYXRoKCl7Y29uc3QgdD10aGlzLnRleHROb2RlLmdldFBhdGgoKTtyZXR1cm4gdC5sZW5ndGg+MCYmKHRbdC5sZW5ndGgtMV0rPXRoaXMub2Zmc2V0SW5UZXh0KSx0fWdldEFuY2VzdG9ycyh0PXtpbmNsdWRlU2VsZjohMSxwYXJlbnRGaXJzdDohMX0pe2NvbnN0IGU9W107bGV0IG49dC5pbmNsdWRlU2VsZj90aGlzOnRoaXMucGFyZW50O2Zvcig7bjspZVt0LnBhcmVudEZpcnN0P1wicHVzaFwiOlwidW5zaGlmdFwiXShuKSxuPW4ucGFyZW50O3JldHVybiBlfWhhc0F0dHJpYnV0ZSh0KXtyZXR1cm4gdGhpcy50ZXh0Tm9kZS5oYXNBdHRyaWJ1dGUodCl9Z2V0QXR0cmlidXRlKHQpe3JldHVybiB0aGlzLnRleHROb2RlLmdldEF0dHJpYnV0ZSh0KX1nZXRBdHRyaWJ1dGVzKCl7cmV0dXJuIHRoaXMudGV4dE5vZGUuZ2V0QXR0cmlidXRlcygpfWdldEF0dHJpYnV0ZUtleXMoKXtyZXR1cm4gdGhpcy50ZXh0Tm9kZS5nZXRBdHRyaWJ1dGVLZXlzKCl9fWNsYXNzIFZze2NvbnN0cnVjdG9yKHQpe3RoaXMuX25vZGVzPVtdLHQmJnRoaXMuX2luc2VydE5vZGVzKDAsdCl9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpcy5fbm9kZXNbU3ltYm9sLml0ZXJhdG9yXSgpfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5fbm9kZXMubGVuZ3RofWdldCBtYXhPZmZzZXQoKXtyZXR1cm4gdGhpcy5fbm9kZXMucmVkdWNlKCh0LGUpPT50K2Uub2Zmc2V0U2l6ZSwwKX1nZXROb2RlKHQpe3JldHVybiB0aGlzLl9ub2Rlc1t0XXx8bnVsbH1nZXROb2RlSW5kZXgodCl7Y29uc3QgZT10aGlzLl9ub2Rlcy5pbmRleE9mKHQpO3JldHVybi0xPT1lP251bGw6ZX1nZXROb2RlU3RhcnRPZmZzZXQodCl7Y29uc3QgZT10aGlzLmdldE5vZGVJbmRleCh0KTtyZXR1cm4gbnVsbD09PWU/bnVsbDp0aGlzLl9ub2Rlcy5zbGljZSgwLGUpLnJlZHVjZSgodCxlKT0+dCtlLm9mZnNldFNpemUsMCl9aW5kZXhUb09mZnNldCh0KXtpZih0PT10aGlzLl9ub2Rlcy5sZW5ndGgpcmV0dXJuIHRoaXMubWF4T2Zmc2V0O2NvbnN0IGU9dGhpcy5fbm9kZXNbdF07aWYoIWUpdGhyb3cgbmV3IE0uYihcIm1vZGVsLW5vZGVsaXN0LWluZGV4LW91dC1vZi1ib3VuZHM6IEdpdmVuIGluZGV4IGNhbm5vdCBiZSBmb3VuZCBpbiB0aGUgbm9kZSBsaXN0LlwiKTtyZXR1cm4gdGhpcy5nZXROb2RlU3RhcnRPZmZzZXQoZSl9b2Zmc2V0VG9JbmRleCh0KXtsZXQgZT0wO2Zvcihjb25zdCBuIG9mIHRoaXMuX25vZGVzKXtpZih0Pj1lJiZ0PGUrbi5vZmZzZXRTaXplKXJldHVybiB0aGlzLmdldE5vZGVJbmRleChuKTtlKz1uLm9mZnNldFNpemV9aWYoZSE9dCl0aHJvdyBuZXcgTS5iKFwibW9kZWwtbm9kZWxpc3Qtb2Zmc2V0LW91dC1vZi1ib3VuZHM6IEdpdmVuIG9mZnNldCBjYW5ub3QgYmUgZm91bmQgaW4gdGhlIG5vZGUgbGlzdC5cIix7b2Zmc2V0OnQsbm9kZUxpc3Q6dGhpc30pO3JldHVybiB0aGlzLmxlbmd0aH1faW5zZXJ0Tm9kZXModCxlKXtmb3IoY29uc3QgdCBvZiBlKWlmKCEodCBpbnN0YW5jZW9mIERzKSl0aHJvdyBuZXcgTS5iKFwibW9kZWwtbm9kZWxpc3QtaW5zZXJ0Tm9kZXMtbm90LW5vZGU6IFRyeWluZyB0byBpbnNlcnQgYW4gb2JqZWN0IHdoaWNoIGlzIG5vdCBhIE5vZGUgaW5zdGFuY2UuXCIpO3RoaXMuX25vZGVzLnNwbGljZSh0LDAsLi4uZSl9X3JlbW92ZU5vZGVzKHQsZT0xKXtyZXR1cm4gdGhpcy5fbm9kZXMuc3BsaWNlKHQsZSl9dG9KU09OKCl7cmV0dXJuIHRoaXMuX25vZGVzLm1hcCh0PT50LnRvSlNPTigpKX19Y2xhc3MgRnMgZXh0ZW5kcyBEc3tjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIoZSksdGhpcy5uYW1lPXQsdGhpcy5fY2hpbGRyZW49bmV3IFZzLG4mJnRoaXMuX2luc2VydENoaWxkKDAsbil9Z2V0IGNoaWxkQ291bnQoKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4ubGVuZ3RofWdldCBtYXhPZmZzZXQoKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4ubWF4T2Zmc2V0fWdldCBpc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmNoaWxkQ291bnR9aXModCxlPW51bGwpe3JldHVybiBlP1wiZWxlbWVudFwiPT10JiZlPT10aGlzLm5hbWU6XCJlbGVtZW50XCI9PXR8fHQ9PXRoaXMubmFtZXx8c3VwZXIuaXModCl9Z2V0Q2hpbGQodCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmdldE5vZGUodCl9Z2V0Q2hpbGRyZW4oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5bU3ltYm9sLml0ZXJhdG9yXSgpfWdldENoaWxkSW5kZXgodCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmdldE5vZGVJbmRleCh0KX1nZXRDaGlsZFN0YXJ0T2Zmc2V0KHQpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5nZXROb2RlU3RhcnRPZmZzZXQodCl9b2Zmc2V0VG9JbmRleCh0KXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4ub2Zmc2V0VG9JbmRleCh0KX1nZXROb2RlQnlQYXRoKHQpe2xldCBlPXRoaXM7Zm9yKGNvbnN0IG4gb2YgdCllPWUuZ2V0Q2hpbGQoZS5vZmZzZXRUb0luZGV4KG4pKTtyZXR1cm4gZX10b0pTT04oKXtjb25zdCB0PXN1cGVyLnRvSlNPTigpO2lmKHQubmFtZT10aGlzLm5hbWUsdGhpcy5fY2hpbGRyZW4ubGVuZ3RoPjApe3QuY2hpbGRyZW49W107Zm9yKGNvbnN0IGUgb2YgdGhpcy5fY2hpbGRyZW4pdC5jaGlsZHJlbi5wdXNoKGUudG9KU09OKCkpfXJldHVybiB0fV9jbG9uZSh0PSExKXtjb25zdCBlPXQ/QXJyYXkuZnJvbSh0aGlzLl9jaGlsZHJlbikubWFwKHQ9PnQuX2Nsb25lKCEwKSk6bnVsbDtyZXR1cm4gbmV3IEZzKHRoaXMubmFtZSx0aGlzLmdldEF0dHJpYnV0ZXMoKSxlKX1fYXBwZW5kQ2hpbGQodCl7dGhpcy5faW5zZXJ0Q2hpbGQodGhpcy5jaGlsZENvdW50LHQpfV9pbnNlcnRDaGlsZCh0LGUpe2NvbnN0IG49ZnVuY3Rpb24odCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuW25ldyBqcyh0KV07aG8odCl8fCh0PVt0XSk7cmV0dXJuIEFycmF5LmZyb20odCkubWFwKHQ9Plwic3RyaW5nXCI9PXR5cGVvZiB0P25ldyBqcyh0KTp0IGluc3RhbmNlb2YgTHM/bmV3IGpzKHQuZGF0YSx0LmdldEF0dHJpYnV0ZXMoKSk6dCl9KGUpO2Zvcihjb25zdCB0IG9mIG4pbnVsbCE9PXQucGFyZW50JiZ0Ll9yZW1vdmUoKSx0LnBhcmVudD10aGlzO3RoaXMuX2NoaWxkcmVuLl9pbnNlcnROb2Rlcyh0LG4pfV9yZW1vdmVDaGlsZHJlbih0LGU9MSl7Y29uc3Qgbj10aGlzLl9jaGlsZHJlbi5fcmVtb3ZlTm9kZXModCxlKTtmb3IoY29uc3QgdCBvZiBuKXQucGFyZW50PW51bGw7cmV0dXJuIG59c3RhdGljIGZyb21KU09OKHQpe2xldCBlPW51bGw7aWYodC5jaGlsZHJlbil7ZT1bXTtmb3IoY29uc3QgbiBvZiB0LmNoaWxkcmVuKW4ubmFtZT9lLnB1c2goRnMuZnJvbUpTT04obikpOmUucHVzaChqcy5mcm9tSlNPTihuKSl9cmV0dXJuIG5ldyBGcyh0Lm5hbWUsdC5hdHRyaWJ1dGVzLGUpfX1jbGFzcyB6c3tjb25zdHJ1Y3Rvcih0PXt9KXtpZighdC5ib3VuZGFyaWVzJiYhdC5zdGFydFBvc2l0aW9uKXRocm93IG5ldyBNLmIoXCJtb2RlbC10cmVlLXdhbGtlci1uby1zdGFydC1wb3NpdGlvbjogTmVpdGhlciBib3VuZGFyaWVzIG5vciBzdGFydGluZyBwb3NpdGlvbiBoYXZlIGJlZW4gZGVmaW5lZC5cIik7Y29uc3QgZT10LmRpcmVjdGlvbnx8XCJmb3J3YXJkXCI7aWYoXCJmb3J3YXJkXCIhPWUmJlwiYmFja3dhcmRcIiE9ZSl0aHJvdyBuZXcgTS5iKFwibW9kZWwtdHJlZS13YWxrZXItdW5rbm93bi1kaXJlY3Rpb246IE9ubHkgYGJhY2t3YXJkYCBhbmQgYGZvcndhcmRgIGRpcmVjdGlvbiBhbGxvd2VkLlwiLHtkaXJlY3Rpb246ZX0pO3RoaXMuZGlyZWN0aW9uPWUsdGhpcy5ib3VuZGFyaWVzPXQuYm91bmRhcmllc3x8bnVsbCx0LnN0YXJ0UG9zaXRpb24/dGhpcy5wb3NpdGlvbj1Icy5jcmVhdGVGcm9tUG9zaXRpb24odC5zdGFydFBvc2l0aW9uKTp0aGlzLnBvc2l0aW9uPUhzLmNyZWF0ZUZyb21Qb3NpdGlvbih0aGlzLmJvdW5kYXJpZXNbXCJiYWNrd2FyZFwiPT10aGlzLmRpcmVjdGlvbj9cImVuZFwiOlwic3RhcnRcIl0pLHRoaXMucG9zaXRpb24uc3RpY2tpbmVzcz1cInRvTm9uZVwiLHRoaXMuc2luZ2xlQ2hhcmFjdGVycz0hIXQuc2luZ2xlQ2hhcmFjdGVycyx0aGlzLnNoYWxsb3c9ISF0LnNoYWxsb3csdGhpcy5pZ25vcmVFbGVtZW50RW5kPSEhdC5pZ25vcmVFbGVtZW50RW5kLHRoaXMuX2JvdW5kYXJ5U3RhcnRQYXJlbnQ9dGhpcy5ib3VuZGFyaWVzP3RoaXMuYm91bmRhcmllcy5zdGFydC5wYXJlbnQ6bnVsbCx0aGlzLl9ib3VuZGFyeUVuZFBhcmVudD10aGlzLmJvdW5kYXJpZXM/dGhpcy5ib3VuZGFyaWVzLmVuZC5wYXJlbnQ6bnVsbCx0aGlzLl92aXNpdGVkUGFyZW50PXRoaXMucG9zaXRpb24ucGFyZW50fVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXN9c2tpcCh0KXtsZXQgZSxuLG8saTtkb3tvPXRoaXMucG9zaXRpb24saT10aGlzLl92aXNpdGVkUGFyZW50LCh7ZG9uZTplLHZhbHVlOm59PXRoaXMubmV4dCgpKX13aGlsZSghZSYmdChuKSk7ZXx8KHRoaXMucG9zaXRpb249byx0aGlzLl92aXNpdGVkUGFyZW50PWkpfW5leHQoKXtyZXR1cm5cImZvcndhcmRcIj09dGhpcy5kaXJlY3Rpb24/dGhpcy5fbmV4dCgpOnRoaXMuX3ByZXZpb3VzKCl9X25leHQoKXtjb25zdCB0PXRoaXMucG9zaXRpb24sZT1Icy5jcmVhdGVGcm9tUG9zaXRpb24odGhpcy5wb3NpdGlvbiksbj10aGlzLl92aXNpdGVkUGFyZW50O2lmKG51bGw9PT1uLnBhcmVudCYmZS5vZmZzZXQ9PT1uLm1heE9mZnNldClyZXR1cm57ZG9uZTohMH07aWYobj09PXRoaXMuX2JvdW5kYXJ5RW5kUGFyZW50JiZlLm9mZnNldD09dGhpcy5ib3VuZGFyaWVzLmVuZC5vZmZzZXQpcmV0dXJue2RvbmU6ITB9O2NvbnN0IG89ZS50ZXh0Tm9kZT9lLnRleHROb2RlOmUubm9kZUFmdGVyO2lmKG8gaW5zdGFuY2VvZiBGcylyZXR1cm4gdGhpcy5zaGFsbG93P2Uub2Zmc2V0Kys6KGUucGF0aC5wdXNoKDApLHRoaXMuX3Zpc2l0ZWRQYXJlbnQ9byksdGhpcy5wb3NpdGlvbj1lLEJzKFwiZWxlbWVudFN0YXJ0XCIsbyx0LGUsMSk7aWYobyBpbnN0YW5jZW9mIGpzKXtsZXQgaTtpZih0aGlzLnNpbmdsZUNoYXJhY3RlcnMpaT0xO2Vsc2V7bGV0IHQ9by5lbmRPZmZzZXQ7dGhpcy5fYm91bmRhcnlFbmRQYXJlbnQ9PW4mJnRoaXMuYm91bmRhcmllcy5lbmQub2Zmc2V0PHQmJih0PXRoaXMuYm91bmRhcmllcy5lbmQub2Zmc2V0KSxpPXQtZS5vZmZzZXR9Y29uc3Qgcj1lLm9mZnNldC1vLnN0YXJ0T2Zmc2V0LHM9bmV3IExzKG8scixpKTtyZXR1cm4gZS5vZmZzZXQrPWksdGhpcy5wb3NpdGlvbj1lLEJzKFwidGV4dFwiLHMsdCxlLGkpfXJldHVybiBlLnBhdGgucG9wKCksZS5vZmZzZXQrKyx0aGlzLnBvc2l0aW9uPWUsdGhpcy5fdmlzaXRlZFBhcmVudD1uLnBhcmVudCx0aGlzLmlnbm9yZUVsZW1lbnRFbmQ/dGhpcy5fbmV4dCgpOkJzKFwiZWxlbWVudEVuZFwiLG4sdCxlKX1fcHJldmlvdXMoKXtjb25zdCB0PXRoaXMucG9zaXRpb24sZT1Icy5jcmVhdGVGcm9tUG9zaXRpb24odGhpcy5wb3NpdGlvbiksbj10aGlzLl92aXNpdGVkUGFyZW50O2lmKG51bGw9PT1uLnBhcmVudCYmMD09PWUub2Zmc2V0KXJldHVybntkb25lOiEwfTtpZihuPT10aGlzLl9ib3VuZGFyeVN0YXJ0UGFyZW50JiZlLm9mZnNldD09dGhpcy5ib3VuZGFyaWVzLnN0YXJ0Lm9mZnNldClyZXR1cm57ZG9uZTohMH07Y29uc3Qgbz1lLnRleHROb2RlP2UudGV4dE5vZGU6ZS5ub2RlQmVmb3JlO2lmKG8gaW5zdGFuY2VvZiBGcylyZXR1cm4gZS5vZmZzZXQtLSx0aGlzLnNoYWxsb3c/KHRoaXMucG9zaXRpb249ZSxCcyhcImVsZW1lbnRTdGFydFwiLG8sdCxlLDEpKTooZS5wYXRoLnB1c2goby5tYXhPZmZzZXQpLHRoaXMucG9zaXRpb249ZSx0aGlzLl92aXNpdGVkUGFyZW50PW8sdGhpcy5pZ25vcmVFbGVtZW50RW5kP3RoaXMuX3ByZXZpb3VzKCk6QnMoXCJlbGVtZW50RW5kXCIsbyx0LGUpKTtpZihvIGluc3RhbmNlb2YganMpe2xldCBpO2lmKHRoaXMuc2luZ2xlQ2hhcmFjdGVycylpPTE7ZWxzZXtsZXQgdD1vLnN0YXJ0T2Zmc2V0O3RoaXMuX2JvdW5kYXJ5U3RhcnRQYXJlbnQ9PW4mJnRoaXMuYm91bmRhcmllcy5zdGFydC5vZmZzZXQ+dCYmKHQ9dGhpcy5ib3VuZGFyaWVzLnN0YXJ0Lm9mZnNldCksaT1lLm9mZnNldC10fWNvbnN0IHI9ZS5vZmZzZXQtby5zdGFydE9mZnNldCxzPW5ldyBMcyhvLHItaSxpKTtyZXR1cm4gZS5vZmZzZXQtPWksdGhpcy5wb3NpdGlvbj1lLEJzKFwidGV4dFwiLHMsdCxlLGkpfXJldHVybiBlLnBhdGgucG9wKCksdGhpcy5wb3NpdGlvbj1lLHRoaXMuX3Zpc2l0ZWRQYXJlbnQ9bi5wYXJlbnQsQnMoXCJlbGVtZW50U3RhcnRcIixuLHQsZSwxKX19ZnVuY3Rpb24gQnModCxlLG4sbyxpKXtyZXR1cm57ZG9uZTohMSx2YWx1ZTp7dHlwZTp0LGl0ZW06ZSxwcmV2aW91c1Bvc2l0aW9uOm4sbmV4dFBvc2l0aW9uOm8sbGVuZ3RoOml9fX12YXIgVXM9ZnVuY3Rpb24odCl7dmFyIGU9bnVsbD09dD8wOnQubGVuZ3RoO3JldHVybiBlP3RbZS0xXTp2b2lkIDB9O2NsYXNzIEhze2NvbnN0cnVjdG9yKHQsZSxuPVwidG9Ob25lXCIpe2lmKCF0LmlzKFwiZWxlbWVudFwiKSYmIXQuaXMoXCJkb2N1bWVudEZyYWdtZW50XCIpKXRocm93IG5ldyBNLmIoXCJtb2RlbC1wb3NpdGlvbi1yb290LWludmFsaWQ6IFBvc2l0aW9uIHJvb3QgaW52YWxpZC5cIik7aWYoIShlIGluc3RhbmNlb2YgQXJyYXkpfHwwPT09ZS5sZW5ndGgpdGhyb3cgbmV3IE0uYihcIm1vZGVsLXBvc2l0aW9uLXBhdGgtaW5jb3JyZWN0OiBQb3NpdGlvbiBwYXRoIG11c3QgYmUgYW4gYXJyYXkgd2l0aCBhdCBsZWFzdCBvbmUgaXRlbS5cIix7cGF0aDplfSk7ZT10LmdldFBhdGgoKS5jb25jYXQoZSksdD10LnJvb3QsdGhpcy5yb290PXQsdGhpcy5wYXRoPWUsdGhpcy5zdGlja2luZXNzPW59Z2V0IG9mZnNldCgpe3JldHVybiBVcyh0aGlzLnBhdGgpfXNldCBvZmZzZXQodCl7dGhpcy5wYXRoW3RoaXMucGF0aC5sZW5ndGgtMV09dH1nZXQgcGFyZW50KCl7bGV0IHQ9dGhpcy5yb290O2ZvcihsZXQgZT0wO2U8dGhpcy5wYXRoLmxlbmd0aC0xO2UrKyl0PXQuZ2V0Q2hpbGQodC5vZmZzZXRUb0luZGV4KHRoaXMucGF0aFtlXSkpO3JldHVybiB0fWdldCBpbmRleCgpe3JldHVybiB0aGlzLnBhcmVudC5vZmZzZXRUb0luZGV4KHRoaXMub2Zmc2V0KX1nZXQgdGV4dE5vZGUoKXtjb25zdCB0PXRoaXMucGFyZW50LmdldENoaWxkKHRoaXMuaW5kZXgpO3JldHVybiB0IGluc3RhbmNlb2YganMmJnQuc3RhcnRPZmZzZXQ8dGhpcy5vZmZzZXQ/dDpudWxsfWdldCBub2RlQWZ0ZXIoKXtyZXR1cm4gbnVsbD09PXRoaXMudGV4dE5vZGU/dGhpcy5wYXJlbnQuZ2V0Q2hpbGQodGhpcy5pbmRleCk6bnVsbH1nZXQgbm9kZUJlZm9yZSgpe3JldHVybiBudWxsPT09dGhpcy50ZXh0Tm9kZT90aGlzLnBhcmVudC5nZXRDaGlsZCh0aGlzLmluZGV4LTEpOm51bGx9Z2V0IGlzQXRTdGFydCgpe3JldHVybiAwPT09dGhpcy5vZmZzZXR9Z2V0IGlzQXRFbmQoKXtyZXR1cm4gdGhpcy5vZmZzZXQ9PXRoaXMucGFyZW50Lm1heE9mZnNldH1jb21wYXJlV2l0aCh0KXtpZih0aGlzLnJvb3QhPXQucm9vdClyZXR1cm5cImRpZmZlcmVudFwiO2NvbnN0IGU9VSh0aGlzLnBhdGgsdC5wYXRoKTtzd2l0Y2goZSl7Y2FzZVwic2FtZVwiOnJldHVyblwic2FtZVwiO2Nhc2VcInByZWZpeFwiOnJldHVyblwiYmVmb3JlXCI7Y2FzZVwiZXh0ZW5zaW9uXCI6cmV0dXJuXCJhZnRlclwiO2RlZmF1bHQ6cmV0dXJuIHRoaXMucGF0aFtlXTx0LnBhdGhbZV0/XCJiZWZvcmVcIjpcImFmdGVyXCJ9fWdldExhc3RNYXRjaGluZ1Bvc2l0aW9uKHQsZT17fSl7ZS5zdGFydFBvc2l0aW9uPXRoaXM7Y29uc3Qgbj1uZXcgenMoZSk7cmV0dXJuIG4uc2tpcCh0KSxuLnBvc2l0aW9ufWdldFBhcmVudFBhdGgoKXtyZXR1cm4gdGhpcy5wYXRoLnNsaWNlKDAsLTEpfWdldEFuY2VzdG9ycygpe3JldHVybiB0aGlzLnBhcmVudC5pcyhcImRvY3VtZW50RnJhZ21lbnRcIik/W3RoaXMucGFyZW50XTp0aGlzLnBhcmVudC5nZXRBbmNlc3RvcnMoe2luY2x1ZGVTZWxmOiEwfSl9Z2V0Q29tbW9uUGF0aCh0KXtpZih0aGlzLnJvb3QhPXQucm9vdClyZXR1cm5bXTtjb25zdCBlPVUodGhpcy5wYXRoLHQucGF0aCksbj1cInN0cmluZ1wiPT10eXBlb2YgZT9NYXRoLm1pbih0aGlzLnBhdGgubGVuZ3RoLHQucGF0aC5sZW5ndGgpOmU7cmV0dXJuIHRoaXMucGF0aC5zbGljZSgwLG4pfWdldENvbW1vbkFuY2VzdG9yKHQpe2NvbnN0IGU9dGhpcy5nZXRBbmNlc3RvcnMoKSxuPXQuZ2V0QW5jZXN0b3JzKCk7bGV0IG89MDtmb3IoO2Vbb109PW5bb10mJmVbb107KW8rKztyZXR1cm4gMD09PW8/bnVsbDplW28tMV19Z2V0U2hpZnRlZEJ5KHQpe2NvbnN0IGU9SHMuY3JlYXRlRnJvbVBvc2l0aW9uKHRoaXMpLG49ZS5vZmZzZXQrdDtyZXR1cm4gZS5vZmZzZXQ9bjwwPzA6bixlfWlzQWZ0ZXIodCl7cmV0dXJuXCJhZnRlclwiPT10aGlzLmNvbXBhcmVXaXRoKHQpfWlzQmVmb3JlKHQpe3JldHVyblwiYmVmb3JlXCI9PXRoaXMuY29tcGFyZVdpdGgodCl9aXNFcXVhbCh0KXtyZXR1cm5cInNhbWVcIj09dGhpcy5jb21wYXJlV2l0aCh0KX1pc1RvdWNoaW5nKHQpe2xldCBlPW51bGwsbj1udWxsO3N3aXRjaCh0aGlzLmNvbXBhcmVXaXRoKHQpKXtjYXNlXCJzYW1lXCI6cmV0dXJuITA7Y2FzZVwiYmVmb3JlXCI6ZT1Icy5jcmVhdGVGcm9tUG9zaXRpb24odGhpcyksbj1Icy5jcmVhdGVGcm9tUG9zaXRpb24odCk7YnJlYWs7Y2FzZVwiYWZ0ZXJcIjplPUhzLmNyZWF0ZUZyb21Qb3NpdGlvbih0KSxuPUhzLmNyZWF0ZUZyb21Qb3NpdGlvbih0aGlzKTticmVhaztkZWZhdWx0OnJldHVybiExfWxldCBvPWUucGFyZW50O2Zvcig7ZS5wYXRoLmxlbmd0aCtuLnBhdGgubGVuZ3RoOyl7aWYoZS5pc0VxdWFsKG4pKXJldHVybiEwO2lmKGUucGF0aC5sZW5ndGg+bi5wYXRoLmxlbmd0aCl7aWYoZS5vZmZzZXQhPT1vLm1heE9mZnNldClyZXR1cm4hMTtlLnBhdGg9ZS5wYXRoLnNsaWNlKDAsLTEpLG89by5wYXJlbnQsZS5vZmZzZXQrK31lbHNle2lmKDAhPT1uLm9mZnNldClyZXR1cm4hMTtuLnBhdGg9bi5wYXRoLnNsaWNlKDAsLTEpfX19aGFzU2FtZVBhcmVudEFzKHQpe2lmKHRoaXMucm9vdCE9PXQucm9vdClyZXR1cm4hMTtyZXR1cm5cInNhbWVcIj09VSh0aGlzLmdldFBhcmVudFBhdGgoKSx0LmdldFBhcmVudFBhdGgoKSl9Z2V0VHJhbnNmb3JtZWRCeU9wZXJhdGlvbih0KXtsZXQgZTtzd2l0Y2godC50eXBlKXtjYXNlXCJpbnNlcnRcIjplPXRoaXMuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRPcGVyYXRpb24odCk7YnJlYWs7Y2FzZVwibW92ZVwiOmNhc2VcInJlbW92ZVwiOmNhc2VcInJlaW5zZXJ0XCI6ZT10aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZU9wZXJhdGlvbih0KTticmVhaztjYXNlXCJzcGxpdFwiOmU9dGhpcy5fZ2V0VHJhbnNmb3JtZWRCeVNwbGl0T3BlcmF0aW9uKHQpO2JyZWFrO2Nhc2VcIm1lcmdlXCI6ZT10aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24odCk7YnJlYWs7ZGVmYXVsdDplPUhzLmNyZWF0ZUZyb21Qb3NpdGlvbih0aGlzKX1yZXR1cm4gZX1fZ2V0VHJhbnNmb3JtZWRCeUluc2VydE9wZXJhdGlvbih0KXtyZXR1cm4gdGhpcy5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbih0LnBvc2l0aW9uLHQuaG93TWFueSl9X2dldFRyYW5zZm9ybWVkQnlNb3ZlT3BlcmF0aW9uKHQpe3JldHVybiB0aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZSh0LnNvdXJjZVBvc2l0aW9uLHQudGFyZ2V0UG9zaXRpb24sdC5ob3dNYW55KX1fZ2V0VHJhbnNmb3JtZWRCeVNwbGl0T3BlcmF0aW9uKHQpe2NvbnN0IGU9dC5tb3ZlZFJhbmdlO3JldHVybiBlLmNvbnRhaW5zUG9zaXRpb24odGhpcyl8fGUuc3RhcnQuaXNFcXVhbCh0aGlzKSYmXCJ0b05leHRcIj09dGhpcy5zdGlja2luZXNzP3RoaXMuX2dldENvbWJpbmVkKHQuc3BsaXRQb3NpdGlvbix0Lm1vdmVUYXJnZXRQb3NpdGlvbik6dC5ncmF2ZXlhcmRQb3NpdGlvbj90aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZSh0LmdyYXZleWFyZFBvc2l0aW9uLHQuaW5zZXJ0aW9uUG9zaXRpb24sMSk6dGhpcy5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbih0Lmluc2VydGlvblBvc2l0aW9uLDEpfV9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24odCl7Y29uc3QgZT10Lm1vdmVkUmFuZ2U7bGV0IG47cmV0dXJuIGUuY29udGFpbnNQb3NpdGlvbih0aGlzKXx8ZS5zdGFydC5pc0VxdWFsKHRoaXMpPyhuPXRoaXMuX2dldENvbWJpbmVkKHQuc291cmNlUG9zaXRpb24sdC50YXJnZXRQb3NpdGlvbiksdC5zb3VyY2VQb3NpdGlvbi5pc0JlZm9yZSh0LnRhcmdldFBvc2l0aW9uKSYmKG49bi5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKHQuZGVsZXRpb25Qb3NpdGlvbiwxKSkpOm49dGhpcy5pc0VxdWFsKHQuZGVsZXRpb25Qb3NpdGlvbik/SHMuY3JlYXRlRnJvbVBvc2l0aW9uKHQuZGVsZXRpb25Qb3NpdGlvbik6dGhpcy5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUodC5kZWxldGlvblBvc2l0aW9uLHQuZ3JhdmV5YXJkUG9zaXRpb24sMSksbn1fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKHQsZSl7Y29uc3Qgbj1Icy5jcmVhdGVGcm9tUG9zaXRpb24odGhpcyk7aWYodGhpcy5yb290IT10LnJvb3QpcmV0dXJuIG47aWYoXCJzYW1lXCI9PVUodC5nZXRQYXJlbnRQYXRoKCksdGhpcy5nZXRQYXJlbnRQYXRoKCkpKXtpZih0Lm9mZnNldDx0aGlzLm9mZnNldCl7aWYodC5vZmZzZXQrZT50aGlzLm9mZnNldClyZXR1cm4gbnVsbDtuLm9mZnNldC09ZX19ZWxzZSBpZihcInByZWZpeFwiPT1VKHQuZ2V0UGFyZW50UGF0aCgpLHRoaXMuZ2V0UGFyZW50UGF0aCgpKSl7Y29uc3Qgbz10LnBhdGgubGVuZ3RoLTE7aWYodC5vZmZzZXQ8PXRoaXMucGF0aFtvXSl7aWYodC5vZmZzZXQrZT50aGlzLnBhdGhbb10pcmV0dXJuIG51bGw7bi5wYXRoW29dLT1lfX1yZXR1cm4gbn1fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbih0LGUpe2NvbnN0IG49SHMuY3JlYXRlRnJvbVBvc2l0aW9uKHRoaXMpO2lmKHRoaXMucm9vdCE9dC5yb290KXJldHVybiBuO2lmKFwic2FtZVwiPT1VKHQuZ2V0UGFyZW50UGF0aCgpLHRoaXMuZ2V0UGFyZW50UGF0aCgpKSkodC5vZmZzZXQ8dGhpcy5vZmZzZXR8fHQub2Zmc2V0PT10aGlzLm9mZnNldCYmXCJ0b1ByZXZpb3VzXCIhPXRoaXMuc3RpY2tpbmVzcykmJihuLm9mZnNldCs9ZSk7ZWxzZSBpZihcInByZWZpeFwiPT1VKHQuZ2V0UGFyZW50UGF0aCgpLHRoaXMuZ2V0UGFyZW50UGF0aCgpKSl7Y29uc3Qgbz10LnBhdGgubGVuZ3RoLTE7dC5vZmZzZXQ8PXRoaXMucGF0aFtvXSYmKG4ucGF0aFtvXSs9ZSl9cmV0dXJuIG59X2dldFRyYW5zZm9ybWVkQnlNb3ZlKHQsZSxuKXtpZihlPWUuX2dldFRyYW5zZm9ybWVkQnlEZWxldGlvbih0LG4pLHQuaXNFcXVhbChlKSlyZXR1cm4gSHMuY3JlYXRlRnJvbVBvc2l0aW9uKHRoaXMpO2NvbnN0IG89dGhpcy5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKHQsbik7cmV0dXJuIG51bGw9PT1vfHx0LmlzRXF1YWwodGhpcykmJlwidG9OZXh0XCI9PXRoaXMuc3RpY2tpbmVzc3x8dC5nZXRTaGlmdGVkQnkobikuaXNFcXVhbCh0aGlzKSYmXCJ0b1ByZXZpb3VzXCI9PXRoaXMuc3RpY2tpbmVzcz90aGlzLl9nZXRDb21iaW5lZCh0LGUpOm8uX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24oZSxuKX1fZ2V0Q29tYmluZWQodCxlKXtjb25zdCBuPXQucGF0aC5sZW5ndGgtMSxvPUhzLmNyZWF0ZUZyb21Qb3NpdGlvbihlKTtyZXR1cm4gby5zdGlja2luZXNzPXRoaXMuc3RpY2tpbmVzcyxvLm9mZnNldD1vLm9mZnNldCt0aGlzLnBhdGhbbl0tdC5vZmZzZXQsby5wYXRoPW8ucGF0aC5jb25jYXQodGhpcy5wYXRoLnNsaWNlKG4rMSkpLG99dG9KU09OKCl7cmV0dXJue3Jvb3Q6dGhpcy5yb290LnRvSlNPTigpLHBhdGg6QXJyYXkuZnJvbSh0aGlzLnBhdGgpLHN0aWNraW5lc3M6dGhpcy5zdGlja2luZXNzfX1zdGF0aWMgY3JlYXRlQXQodCxlKXtpZih0IGluc3RhbmNlb2YgSHMpcmV0dXJuIHRoaXMuY3JlYXRlRnJvbVBvc2l0aW9uKHQpO3tjb25zdCBuPXQ7aWYoXCJlbmRcIj09ZSllPW4ubWF4T2Zmc2V0O2Vsc2V7aWYoXCJiZWZvcmVcIj09ZSlyZXR1cm4gdGhpcy5jcmVhdGVCZWZvcmUobik7aWYoXCJhZnRlclwiPT1lKXJldHVybiB0aGlzLmNyZWF0ZUFmdGVyKG4pO2V8fChlPTApfXJldHVybiB0aGlzLmNyZWF0ZUZyb21QYXJlbnRBbmRPZmZzZXQobixlKX19c3RhdGljIGNyZWF0ZUFmdGVyKHQpe2lmKCF0LnBhcmVudCl0aHJvdyBuZXcgTS5iKFwibW9kZWwtcG9zaXRpb24tYWZ0ZXItcm9vdDogWW91IGNhbm5vdCBtYWtlIGEgcG9zaXRpb24gYWZ0ZXIgcm9vdC5cIix7cm9vdDp0fSk7cmV0dXJuIHRoaXMuY3JlYXRlRnJvbVBhcmVudEFuZE9mZnNldCh0LnBhcmVudCx0LmVuZE9mZnNldCl9c3RhdGljIGNyZWF0ZUJlZm9yZSh0KXtpZighdC5wYXJlbnQpdGhyb3cgbmV3IE0uYihcIm1vZGVsLXBvc2l0aW9uLWJlZm9yZS1yb290OiBZb3UgY2Fubm90IG1ha2UgYSBwb3NpdGlvbiBiZWZvcmUgcm9vdC5cIix7cm9vdDp0fSk7cmV0dXJuIHRoaXMuY3JlYXRlRnJvbVBhcmVudEFuZE9mZnNldCh0LnBhcmVudCx0LnN0YXJ0T2Zmc2V0KX1zdGF0aWMgY3JlYXRlRnJvbVBhcmVudEFuZE9mZnNldCh0LGUpe2lmKCF0LmlzKFwiZWxlbWVudFwiKSYmIXQuaXMoXCJkb2N1bWVudEZyYWdtZW50XCIpKXRocm93IG5ldyBNLmIoXCJtb2RlbC1wb3NpdGlvbi1wYXJlbnQtaW5jb3JyZWN0OiBQb3NpdGlvbiBwYXJlbnQgaGF2ZSB0byBiZSBhIGVsZW1lbnQgb3IgZG9jdW1lbnQgZnJhZ21lbnQuXCIpO2NvbnN0IG49dC5nZXRQYXRoKCk7cmV0dXJuIG4ucHVzaChlKSxuZXcgdGhpcyh0LnJvb3Qsbil9c3RhdGljIGNyZWF0ZUZyb21Qb3NpdGlvbih0KXtjb25zdCBlPW5ldyB0aGlzKHQucm9vdCx0LnBhdGguc2xpY2UoKSk7cmV0dXJuIGUuc3RpY2tpbmVzcz10LnN0aWNraW5lc3MsZX1zdGF0aWMgZnJvbUpTT04odCxlKXtpZihcIiRncmF2ZXlhcmRcIj09PXQucm9vdCl7Y29uc3Qgbj1uZXcgSHMoZS5ncmF2ZXlhcmQsdC5wYXRoKTtyZXR1cm4gbi5zdGlja2luZXNzPXQuc3RpY2tpbmVzcyxufWlmKCFlLmdldFJvb3QodC5yb290KSl0aHJvdyBuZXcgTS5iKFwibW9kZWwtcG9zaXRpb24tZnJvbWpzb24tbm8tcm9vdDogQ2Fubm90IGNyZWF0ZSBwb3NpdGlvbiBmb3IgZG9jdW1lbnQuIFJvb3Qgd2l0aCBzcGVjaWZpZWQgbmFtZSBkb2VzIG5vdCBleGlzdC5cIix7cm9vdE5hbWU6dC5yb290fSk7Y29uc3Qgbj1uZXcgSHMoZS5nZXRSb290KHQucm9vdCksdC5wYXRoKTtyZXR1cm4gbi5zdGlja2luZXNzPXQuc3RpY2tpbmVzcyxufX1jbGFzcyBxc3tjb25zdHJ1Y3Rvcih0LGU9bnVsbCl7dGhpcy5zdGFydD1Icy5jcmVhdGVGcm9tUG9zaXRpb24odCksdGhpcy5lbmQ9ZT9Icy5jcmVhdGVGcm9tUG9zaXRpb24oZSk6SHMuY3JlYXRlRnJvbVBvc2l0aW9uKHQpLHRoaXMuc3RhcnQuc3RpY2tpbmVzcz10aGlzLmlzQ29sbGFwc2VkP1widG9Ob25lXCI6XCJ0b05leHRcIix0aGlzLmVuZC5zdGlja2luZXNzPXRoaXMuaXNDb2xsYXBzZWQ/XCJ0b05vbmVcIjpcInRvUHJldmlvdXNcIn0qW1N5bWJvbC5pdGVyYXRvcl0oKXt5aWVsZCpuZXcgenMoe2JvdW5kYXJpZXM6dGhpcyxpZ25vcmVFbGVtZW50RW5kOiEwfSl9Z2V0IGlzQ29sbGFwc2VkKCl7cmV0dXJuIHRoaXMuc3RhcnQuaXNFcXVhbCh0aGlzLmVuZCl9Z2V0IGlzRmxhdCgpe3JldHVyblwic2FtZVwiPT1VKHRoaXMuc3RhcnQuZ2V0UGFyZW50UGF0aCgpLHRoaXMuZW5kLmdldFBhcmVudFBhdGgoKSl9Z2V0IHJvb3QoKXtyZXR1cm4gdGhpcy5zdGFydC5yb290fWNvbnRhaW5zUG9zaXRpb24odCl7cmV0dXJuIHQuaXNBZnRlcih0aGlzLnN0YXJ0KSYmdC5pc0JlZm9yZSh0aGlzLmVuZCl9Y29udGFpbnNSYW5nZSh0LGU9ITEpe3QuaXNDb2xsYXBzZWQmJihlPSExKTtjb25zdCBuPXRoaXMuY29udGFpbnNQb3NpdGlvbih0LnN0YXJ0KXx8ZSYmdGhpcy5zdGFydC5pc0VxdWFsKHQuc3RhcnQpLG89dGhpcy5jb250YWluc1Bvc2l0aW9uKHQuZW5kKXx8ZSYmdGhpcy5lbmQuaXNFcXVhbCh0LmVuZCk7cmV0dXJuIG4mJm99Y29udGFpbnNJdGVtKHQpe2NvbnN0IGU9SHMuY3JlYXRlQmVmb3JlKHQpO3JldHVybiB0aGlzLmNvbnRhaW5zUG9zaXRpb24oZSl8fHRoaXMuc3RhcnQuaXNFcXVhbChlKX1pc0VxdWFsKHQpe3JldHVybiB0aGlzLnN0YXJ0LmlzRXF1YWwodC5zdGFydCkmJnRoaXMuZW5kLmlzRXF1YWwodC5lbmQpfWlzSW50ZXJzZWN0aW5nKHQpe3JldHVybiB0aGlzLnN0YXJ0LmlzQmVmb3JlKHQuZW5kKSYmdGhpcy5lbmQuaXNBZnRlcih0LnN0YXJ0KX1nZXREaWZmZXJlbmNlKHQpe2NvbnN0IGU9W107cmV0dXJuIHRoaXMuaXNJbnRlcnNlY3RpbmcodCk/KHRoaXMuY29udGFpbnNQb3NpdGlvbih0LnN0YXJ0KSYmZS5wdXNoKG5ldyBxcyh0aGlzLnN0YXJ0LHQuc3RhcnQpKSx0aGlzLmNvbnRhaW5zUG9zaXRpb24odC5lbmQpJiZlLnB1c2gobmV3IHFzKHQuZW5kLHRoaXMuZW5kKSkpOmUucHVzaChxcy5jcmVhdGVGcm9tUmFuZ2UodGhpcykpLGV9Z2V0SW50ZXJzZWN0aW9uKHQpe2lmKHRoaXMuaXNJbnRlcnNlY3RpbmcodCkpe2xldCBlPXRoaXMuc3RhcnQsbj10aGlzLmVuZDtyZXR1cm4gdGhpcy5jb250YWluc1Bvc2l0aW9uKHQuc3RhcnQpJiYoZT10LnN0YXJ0KSx0aGlzLmNvbnRhaW5zUG9zaXRpb24odC5lbmQpJiYobj10LmVuZCksbmV3IHFzKGUsbil9cmV0dXJuIG51bGx9Z2V0TWluaW1hbEZsYXRSYW5nZXMoKXtjb25zdCB0PVtdLGU9dGhpcy5zdGFydC5nZXRDb21tb25QYXRoKHRoaXMuZW5kKS5sZW5ndGgsbj1Icy5jcmVhdGVGcm9tUG9zaXRpb24odGhpcy5zdGFydCk7bGV0IG89bi5wYXJlbnQ7Zm9yKDtuLnBhdGgubGVuZ3RoPmUrMTspe2NvbnN0IGU9by5tYXhPZmZzZXQtbi5vZmZzZXQ7MCE9PWUmJnQucHVzaChuZXcgcXMobixuLmdldFNoaWZ0ZWRCeShlKSkpLG4ucGF0aD1uLnBhdGguc2xpY2UoMCwtMSksbi5vZmZzZXQrKyxvPW8ucGFyZW50fWZvcig7bi5wYXRoLmxlbmd0aDw9dGhpcy5lbmQucGF0aC5sZW5ndGg7KXtjb25zdCBlPXRoaXMuZW5kLnBhdGhbbi5wYXRoLmxlbmd0aC0xXSxvPWUtbi5vZmZzZXQ7MCE9PW8mJnQucHVzaChuZXcgcXMobixuLmdldFNoaWZ0ZWRCeShvKSkpLG4ub2Zmc2V0PWUsbi5wYXRoLnB1c2goMCl9cmV0dXJuIHR9Z2V0V2Fsa2VyKHQ9e30pe3JldHVybiB0LmJvdW5kYXJpZXM9dGhpcyxuZXcgenModCl9KmdldEl0ZW1zKHQ9e30pe3QuYm91bmRhcmllcz10aGlzLHQuaWdub3JlRWxlbWVudEVuZD0hMDtjb25zdCBlPW5ldyB6cyh0KTtmb3IoY29uc3QgdCBvZiBlKXlpZWxkIHQuaXRlbX0qZ2V0UG9zaXRpb25zKHQ9e30pe3QuYm91bmRhcmllcz10aGlzO2NvbnN0IGU9bmV3IHpzKHQpO3lpZWxkIGUucG9zaXRpb247Zm9yKGNvbnN0IHQgb2YgZSl5aWVsZCB0Lm5leHRQb3NpdGlvbn1nZXRUcmFuc2Zvcm1lZEJ5T3BlcmF0aW9uKHQpe3N3aXRjaCh0LnR5cGUpe2Nhc2VcImluc2VydFwiOnJldHVybiB0aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0T3BlcmF0aW9uKHQpO2Nhc2VcIm1vdmVcIjpjYXNlXCJyZW1vdmVcIjpjYXNlXCJyZWluc2VydFwiOnJldHVybiB0aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZU9wZXJhdGlvbih0KTtjYXNlXCJzcGxpdFwiOnJldHVyblt0aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5U3BsaXRPcGVyYXRpb24odCldO2Nhc2VcIm1lcmdlXCI6cmV0dXJuW3RoaXMuX2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbih0KV19cmV0dXJuW3FzLmNyZWF0ZUZyb21SYW5nZSh0aGlzKV19Z2V0VHJhbnNmb3JtZWRCeU9wZXJhdGlvbnModCl7Y29uc3QgZT1bcXMuY3JlYXRlRnJvbVJhbmdlKHRoaXMpXTtmb3IoY29uc3QgbiBvZiB0KWZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBvPWVbdF0uZ2V0VHJhbnNmb3JtZWRCeU9wZXJhdGlvbihuKTtlLnNwbGljZSh0LDEsLi4ubyksdCs9by5sZW5ndGgtMX1mb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3Qgbj1lW3RdO2ZvcihsZXQgbz10KzE7bzxlLmxlbmd0aDtvKyspe2NvbnN0IHQ9ZVtvXTsobi5jb250YWluc1JhbmdlKHQpfHx0LmNvbnRhaW5zUmFuZ2Uobil8fG4uaXNFcXVhbCh0KSkmJmUuc3BsaWNlKG8sMSl9fXJldHVybiBlfWdldENvbW1vbkFuY2VzdG9yKCl7cmV0dXJuIHRoaXMuc3RhcnQuZ2V0Q29tbW9uQW5jZXN0b3IodGhpcy5lbmQpfXRvSlNPTigpe3JldHVybntzdGFydDp0aGlzLnN0YXJ0LnRvSlNPTigpLGVuZDp0aGlzLmVuZC50b0pTT04oKX19X2dldFRyYW5zZm9ybWVkQnlJbnNlcnRPcGVyYXRpb24odCxlPSExKXtyZXR1cm4gdGhpcy5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbih0LnBvc2l0aW9uLHQuaG93TWFueSxlKX1fZ2V0VHJhbnNmb3JtZWRCeU1vdmVPcGVyYXRpb24odCxlPSExKXtjb25zdCBuPXQuc291cmNlUG9zaXRpb24sbz10Lmhvd01hbnksaT10LnRhcmdldFBvc2l0aW9uO3JldHVybiB0aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZShuLGksbyxlKX1fZ2V0VHJhbnNmb3JtZWRCeVNwbGl0T3BlcmF0aW9uKHQpe2NvbnN0IGU9dGhpcy5zdGFydC5fZ2V0VHJhbnNmb3JtZWRCeVNwbGl0T3BlcmF0aW9uKHQpO2xldCBuO3JldHVybiBuPXRoaXMuZW5kLmlzRXF1YWwodC5pbnNlcnRpb25Qb3NpdGlvbik/dGhpcy5lbmQuZ2V0U2hpZnRlZEJ5KDEpOnRoaXMuZW5kLl9nZXRUcmFuc2Zvcm1lZEJ5U3BsaXRPcGVyYXRpb24odCksbmV3IHFzKGUsbil9X2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbih0KXtsZXQgZT10aGlzLnN0YXJ0Ll9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24odCksbj10aGlzLmVuZC5fZ2V0VHJhbnNmb3JtZWRCeU1lcmdlT3BlcmF0aW9uKHQpO3JldHVybiBlLnJvb3QhPW4ucm9vdCYmKG49dGhpcy5lbmQuZ2V0U2hpZnRlZEJ5KC0xKSksZS5pc0FmdGVyKG4pPyh0LnNvdXJjZVBvc2l0aW9uLmlzQmVmb3JlKHQudGFyZ2V0UG9zaXRpb24pPyhlPUhzLmNyZWF0ZUZyb21Qb3NpdGlvbihuKSkub2Zmc2V0PTA6KHQuZGVsZXRpb25Qb3NpdGlvbi5pc0VxdWFsKGUpfHwobj10LmRlbGV0aW9uUG9zaXRpb24pLGU9dC50YXJnZXRQb3NpdGlvbiksbmV3IHFzKGUsbikpOm5ldyBxcyhlLG4pfV9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKHQsZSxuPSExKXtpZihuJiZ0aGlzLmNvbnRhaW5zUG9zaXRpb24odCkpcmV0dXJuW25ldyBxcyh0aGlzLnN0YXJ0LHQpLG5ldyBxcyh0LmdldFNoaWZ0ZWRCeShlKSx0aGlzLmVuZC5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbih0LGUpKV07e2NvbnN0IG49cXMuY3JlYXRlRnJvbVJhbmdlKHRoaXMpO3JldHVybiBuLnN0YXJ0PW4uc3RhcnQuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24odCxlKSxuLmVuZD1uLmVuZC5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbih0LGUpLFtuXX19X2dldFRyYW5zZm9ybWVkQnlNb3ZlKHQsZSxuLG89ITEpe2lmKHRoaXMuaXNDb2xsYXBzZWQpe2NvbnN0IG89dGhpcy5zdGFydC5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUodCxlLG4pO3JldHVybltuZXcgcXMobyldfWNvbnN0IGk9cXMuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQodCxuKSxyPWUuX2dldFRyYW5zZm9ybWVkQnlEZWxldGlvbih0LG4pO2lmKHRoaXMuY29udGFpbnNQb3NpdGlvbihlKSYmIW8mJihpLmNvbnRhaW5zUG9zaXRpb24odGhpcy5zdGFydCl8fGkuY29udGFpbnNQb3NpdGlvbih0aGlzLmVuZCkpKXtjb25zdCBvPXRoaXMuc3RhcnQuX2dldFRyYW5zZm9ybWVkQnlNb3ZlKHQsZSxuKSxpPXRoaXMuZW5kLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZSh0LGUsbik7cmV0dXJuW25ldyBxcyhvLGkpXX1sZXQgcztjb25zdCBhPXRoaXMuZ2V0RGlmZmVyZW5jZShpKTtsZXQgYz1udWxsO2NvbnN0IGw9dGhpcy5nZXRJbnRlcnNlY3Rpb24oaSk7aWYoMT09YS5sZW5ndGg/Yz1uZXcgcXMoYVswXS5zdGFydC5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKHQsbiksYVswXS5lbmQuX2dldFRyYW5zZm9ybWVkQnlEZWxldGlvbih0LG4pKToyPT1hLmxlbmd0aCYmKGM9bmV3IHFzKHRoaXMuc3RhcnQsdGhpcy5lbmQuX2dldFRyYW5zZm9ybWVkQnlEZWxldGlvbih0LG4pKSkscz1jP2MuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24ocixuLG51bGwhPT1sfHxvKTpbXSxsKXtjb25zdCB0PW5ldyBxcyhsLnN0YXJ0Ll9nZXRDb21iaW5lZChpLnN0YXJ0LHIpLGwuZW5kLl9nZXRDb21iaW5lZChpLnN0YXJ0LHIpKTsyPT1zLmxlbmd0aD9zLnNwbGljZSgxLDAsdCk6cy5wdXNoKHQpfXJldHVybiBzfV9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24odCxlKXtsZXQgbj10aGlzLnN0YXJ0Ll9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24odCxlKSxvPXRoaXMuZW5kLl9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24odCxlKTtyZXR1cm4gbnVsbD09biYmbnVsbD09bz9udWxsOihudWxsPT1uJiYobj10KSxudWxsPT1vJiYobz10KSxuZXcgcXMobixvKSl9c3RhdGljIGNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KHQsZSl7Y29uc3Qgbj10LG89dC5nZXRTaGlmdGVkQnkoZSk7cmV0dXJuIGU+MD9uZXcgdGhpcyhuLG8pOm5ldyB0aGlzKG8sbil9c3RhdGljIGNyZWF0ZUZyb21QYXJlbnRzQW5kT2Zmc2V0cyh0LGUsbixvKXtyZXR1cm4gbmV3IHRoaXMoSHMuY3JlYXRlRnJvbVBhcmVudEFuZE9mZnNldCh0LGUpLEhzLmNyZWF0ZUZyb21QYXJlbnRBbmRPZmZzZXQobixvKSl9c3RhdGljIGNyZWF0ZUZyb21SYW5nZSh0KXtyZXR1cm4gbmV3IHRoaXModC5zdGFydCx0LmVuZCl9c3RhdGljIGNyZWF0ZUluKHQpe3JldHVybiB0aGlzLmNyZWF0ZUZyb21QYXJlbnRzQW5kT2Zmc2V0cyh0LDAsdCx0Lm1heE9mZnNldCl9c3RhdGljIGNyZWF0ZU9uKHQpe3JldHVybiB0aGlzLmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KEhzLmNyZWF0ZUJlZm9yZSh0KSx0Lm9mZnNldFNpemUpfXN0YXRpYyBjcmVhdGVDb2xsYXBzZWRBdCh0LGUpe2NvbnN0IG49SHMuY3JlYXRlQXQodCxlKSxvPUhzLmNyZWF0ZUZyb21Qb3NpdGlvbihuKTtyZXR1cm4gbmV3IHFzKG4sbyl9c3RhdGljIGNyZWF0ZUZyb21SYW5nZXModCl7aWYoMD09PXQubGVuZ3RoKXRocm93IG5ldyBNLmIoXCJyYW5nZS1jcmVhdGUtZnJvbS1yYW5nZXMtZW1wdHktYXJyYXk6IEF0IGxlYXN0IG9uZSByYW5nZSBoYXMgdG8gYmUgcGFzc2VkLlwiKTtpZigxPT10Lmxlbmd0aClyZXR1cm4gdGhpcy5jcmVhdGVGcm9tUmFuZ2UodFswXSk7Y29uc3QgZT10WzBdO3Quc29ydCgodCxlKT0+dC5zdGFydC5pc0FmdGVyKGUuc3RhcnQpPzE6LTEpO2NvbnN0IG49dC5pbmRleE9mKGUpLG89bmV3IHRoaXMoZS5zdGFydCxlLmVuZCk7aWYobj4wKWZvcihsZXQgZT1uLTE7dFtlXS5lbmQuaXNFcXVhbChvLnN0YXJ0KTtlKyspby5zdGFydD1Icy5jcmVhdGVGcm9tUG9zaXRpb24odFtlXS5zdGFydCk7Zm9yKGxldCBlPW4rMTtlPHQubGVuZ3RoJiZ0W2VdLnN0YXJ0LmlzRXF1YWwoby5lbmQpO2UrKylvLmVuZD1Icy5jcmVhdGVGcm9tUG9zaXRpb24odFtlXS5lbmQpO3JldHVybiBvfXN0YXRpYyBmcm9tSlNPTih0LGUpe3JldHVybiBuZXcgdGhpcyhIcy5mcm9tSlNPTih0LnN0YXJ0LGUpLEhzLmZyb21KU09OKHQuZW5kLGUpKX19Y2xhc3MgV3N7Y29uc3RydWN0b3IoKXt0aGlzLl9tb2RlbFRvVmlld01hcHBpbmc9bmV3IFdlYWtNYXAsdGhpcy5fdmlld1RvTW9kZWxNYXBwaW5nPW5ldyBXZWFrTWFwLHRoaXMuX3ZpZXdUb01vZGVsTGVuZ3RoQ2FsbGJhY2tzPW5ldyBNYXAsdGhpcy5fbWFya2VyTmFtZVRvRWxlbWVudHM9bmV3IE1hcCx0aGlzLm9uKFwibW9kZWxUb1ZpZXdQb3NpdGlvblwiLCh0LGUpPT57aWYoZS52aWV3UG9zaXRpb24pcmV0dXJuO2NvbnN0IG49dGhpcy5fbW9kZWxUb1ZpZXdNYXBwaW5nLmdldChlLm1vZGVsUG9zaXRpb24ucGFyZW50KTtlLnZpZXdQb3NpdGlvbj10aGlzLl9maW5kUG9zaXRpb25JbihuLGUubW9kZWxQb3NpdGlvbi5vZmZzZXQpfSx7cHJpb3JpdHk6XCJsb3dcIn0pLHRoaXMub24oXCJ2aWV3VG9Nb2RlbFBvc2l0aW9uXCIsKHQsZSk9PntpZihlLm1vZGVsUG9zaXRpb24pcmV0dXJuO2xldCBuPWUudmlld1Bvc2l0aW9uLnBhcmVudCxvPXRoaXMuX3ZpZXdUb01vZGVsTWFwcGluZy5nZXQobik7Zm9yKDshbzspbj1uLnBhcmVudCxvPXRoaXMuX3ZpZXdUb01vZGVsTWFwcGluZy5nZXQobik7Y29uc3QgaT10aGlzLl90b01vZGVsT2Zmc2V0KGUudmlld1Bvc2l0aW9uLnBhcmVudCxlLnZpZXdQb3NpdGlvbi5vZmZzZXQsbik7ZS5tb2RlbFBvc2l0aW9uPUhzLmNyZWF0ZUZyb21QYXJlbnRBbmRPZmZzZXQobyxpKX0se3ByaW9yaXR5OlwibG93XCJ9KX1iaW5kRWxlbWVudHModCxlKXt0aGlzLl9tb2RlbFRvVmlld01hcHBpbmcuc2V0KHQsZSksdGhpcy5fdmlld1RvTW9kZWxNYXBwaW5nLnNldChlLHQpfXVuYmluZFZpZXdFbGVtZW50KHQpe2NvbnN0IGU9dGhpcy50b01vZGVsRWxlbWVudCh0KTt0aGlzLl92aWV3VG9Nb2RlbE1hcHBpbmcuZGVsZXRlKHQpLHRoaXMuX21vZGVsVG9WaWV3TWFwcGluZy5nZXQoZSk9PXQmJnRoaXMuX21vZGVsVG9WaWV3TWFwcGluZy5kZWxldGUoZSl9dW5iaW5kTW9kZWxFbGVtZW50KHQpe2NvbnN0IGU9dGhpcy50b1ZpZXdFbGVtZW50KHQpO3RoaXMuX21vZGVsVG9WaWV3TWFwcGluZy5kZWxldGUodCksdGhpcy5fdmlld1RvTW9kZWxNYXBwaW5nLmdldChlKT09dCYmdGhpcy5fdmlld1RvTW9kZWxNYXBwaW5nLmRlbGV0ZShlKX1iaW5kRWxlbWVudFRvTWFya2VyKHQsZSl7Y29uc3Qgbj10aGlzLl9tYXJrZXJOYW1lVG9FbGVtZW50cy5nZXQoZSl8fG5ldyBTZXQ7bi5hZGQodCksdGhpcy5fbWFya2VyTmFtZVRvRWxlbWVudHMuc2V0KGUsbil9dW5iaW5kRWxlbWVudHNGcm9tTWFya2VyTmFtZSh0KXt0aGlzLl9tYXJrZXJOYW1lVG9FbGVtZW50cy5kZWxldGUodCl9Y2xlYXJCaW5kaW5ncygpe3RoaXMuX21vZGVsVG9WaWV3TWFwcGluZz1uZXcgV2Vha01hcCx0aGlzLl92aWV3VG9Nb2RlbE1hcHBpbmc9bmV3IFdlYWtNYXAsdGhpcy5fbWFya2VyTmFtZVRvRWxlbWVudHM9bmV3IE1hcH10b01vZGVsRWxlbWVudCh0KXtyZXR1cm4gdGhpcy5fdmlld1RvTW9kZWxNYXBwaW5nLmdldCh0KX10b1ZpZXdFbGVtZW50KHQpe3JldHVybiB0aGlzLl9tb2RlbFRvVmlld01hcHBpbmcuZ2V0KHQpfXRvTW9kZWxSYW5nZSh0KXtyZXR1cm4gbmV3IHFzKHRoaXMudG9Nb2RlbFBvc2l0aW9uKHQuc3RhcnQpLHRoaXMudG9Nb2RlbFBvc2l0aW9uKHQuZW5kKSl9dG9WaWV3UmFuZ2UodCl7cmV0dXJuIG5ldyBRbyh0aGlzLnRvVmlld1Bvc2l0aW9uKHQuc3RhcnQpLHRoaXMudG9WaWV3UG9zaXRpb24odC5lbmQpKX10b01vZGVsUG9zaXRpb24odCl7Y29uc3QgZT17dmlld1Bvc2l0aW9uOnQsbWFwcGVyOnRoaXN9O3JldHVybiB0aGlzLmZpcmUoXCJ2aWV3VG9Nb2RlbFBvc2l0aW9uXCIsZSksZS5tb2RlbFBvc2l0aW9ufXRvVmlld1Bvc2l0aW9uKHQsZT17aXNQaGFudG9tOiExfSl7Y29uc3Qgbj17bW9kZWxQb3NpdGlvbjp0LG1hcHBlcjp0aGlzLGlzUGhhbnRvbTplLmlzUGhhbnRvbX07cmV0dXJuIHRoaXMuZmlyZShcIm1vZGVsVG9WaWV3UG9zaXRpb25cIixuKSxuLnZpZXdQb3NpdGlvbn1tYXJrZXJOYW1lVG9FbGVtZW50cyh0KXtjb25zdCBlPXRoaXMuX21hcmtlck5hbWVUb0VsZW1lbnRzLmdldCh0KTtpZighZSlyZXR1cm4gbnVsbDtjb25zdCBuPW5ldyBTZXQ7Zm9yKGNvbnN0IHQgb2YgZSlpZih0LmlzKFwiYXR0cmlidXRlRWxlbWVudFwiKSlmb3IoY29uc3QgZSBvZiB0LmdldEVsZW1lbnRzV2l0aFNhbWVJZCgpKW4uYWRkKGUpO2Vsc2Ugbi5hZGQodCk7cmV0dXJuIG59cmVnaXN0ZXJWaWV3VG9Nb2RlbExlbmd0aCh0LGUpe3RoaXMuX3ZpZXdUb01vZGVsTGVuZ3RoQ2FsbGJhY2tzLnNldCh0LGUpfV90b01vZGVsT2Zmc2V0KHQsZSxuKXtpZihuIT10KXtyZXR1cm4gdGhpcy5fdG9Nb2RlbE9mZnNldCh0LnBhcmVudCx0LmluZGV4LG4pK3RoaXMuX3RvTW9kZWxPZmZzZXQodCxlLHQpfWlmKHQuaXMoXCJ0ZXh0XCIpKXJldHVybiBlO2xldCBvPTA7Zm9yKGxldCBuPTA7bjxlO24rKylvKz10aGlzLmdldE1vZGVsTGVuZ3RoKHQuZ2V0Q2hpbGQobikpO3JldHVybiBvfWdldE1vZGVsTGVuZ3RoKHQpe2lmKHRoaXMuX3ZpZXdUb01vZGVsTGVuZ3RoQ2FsbGJhY2tzLmdldCh0Lm5hbWUpKXtyZXR1cm4gdGhpcy5fdmlld1RvTW9kZWxMZW5ndGhDYWxsYmFja3MuZ2V0KHQubmFtZSkodCl9aWYodGhpcy5fdmlld1RvTW9kZWxNYXBwaW5nLmhhcyh0KSlyZXR1cm4gMTtpZih0LmlzKFwidGV4dFwiKSlyZXR1cm4gdC5kYXRhLmxlbmd0aDtpZih0LmlzKFwidWlFbGVtZW50XCIpKXJldHVybiAwO3tsZXQgZT0wO2Zvcihjb25zdCBuIG9mIHQuZ2V0Q2hpbGRyZW4oKSllKz10aGlzLmdldE1vZGVsTGVuZ3RoKG4pO3JldHVybiBlfX1fZmluZFBvc2l0aW9uSW4odCxlKXtsZXQgbixvPTAsaT0wLHI9MDtpZih0LmlzKFwidGV4dFwiKSlyZXR1cm4gbmV3ICRvKHQsZSk7Zm9yKDtpPGU7KW49dC5nZXRDaGlsZChyKSxpKz1vPXRoaXMuZ2V0TW9kZWxMZW5ndGgobikscisrO3JldHVybiBpPT1lP3RoaXMuX21vdmVWaWV3UG9zaXRpb25Ub1RleHROb2RlKG5ldyAkbyh0LHIpKTp0aGlzLl9maW5kUG9zaXRpb25JbihuLGUtKGktbykpfV9tb3ZlVmlld1Bvc2l0aW9uVG9UZXh0Tm9kZSh0KXtjb25zdCBlPXQubm9kZUJlZm9yZSxuPXQubm9kZUFmdGVyO3JldHVybiBlIGluc3RhbmNlb2YgY28/bmV3ICRvKGUsZS5kYXRhLmxlbmd0aCk6biBpbnN0YW5jZW9mIGNvP25ldyAkbyhuLDApOnR9fUIoV3MsUik7Y2xhc3MgWXN7Y29uc3RydWN0b3IoKXt0aGlzLl9jb25zdW1hYmxlPW5ldyBNYXAsdGhpcy5fdGV4dFByb3h5UmVnaXN0cnk9bmV3IE1hcH1hZGQodCxlKXtlPUdzKGUpLHQgaW5zdGFuY2VvZiBMcyYmKHQ9dGhpcy5fZ2V0U3ltYm9sRm9yVGV4dFByb3h5KHQpKSx0aGlzLl9jb25zdW1hYmxlLmhhcyh0KXx8dGhpcy5fY29uc3VtYWJsZS5zZXQodCxuZXcgTWFwKSx0aGlzLl9jb25zdW1hYmxlLmdldCh0KS5zZXQoZSwhMCl9Y29uc3VtZSh0LGUpe3JldHVybiBlPUdzKGUpLHQgaW5zdGFuY2VvZiBMcyYmKHQ9dGhpcy5fZ2V0U3ltYm9sRm9yVGV4dFByb3h5KHQpKSwhIXRoaXMudGVzdCh0LGUpJiYodGhpcy5fY29uc3VtYWJsZS5nZXQodCkuc2V0KGUsITEpLCEwKX10ZXN0KHQsZSl7ZT1HcyhlKSx0IGluc3RhbmNlb2YgTHMmJih0PXRoaXMuX2dldFN5bWJvbEZvclRleHRQcm94eSh0KSk7Y29uc3Qgbj10aGlzLl9jb25zdW1hYmxlLmdldCh0KTtpZih2b2lkIDA9PT1uKXJldHVybiBudWxsO2NvbnN0IG89bi5nZXQoZSk7cmV0dXJuIHZvaWQgMD09PW8/bnVsbDpvfXJldmVydCh0LGUpe2U9R3MoZSksdCBpbnN0YW5jZW9mIExzJiYodD10aGlzLl9nZXRTeW1ib2xGb3JUZXh0UHJveHkodCkpO2NvbnN0IG49dGhpcy50ZXN0KHQsZSk7cmV0dXJuITE9PT1uPyh0aGlzLl9jb25zdW1hYmxlLmdldCh0KS5zZXQoZSwhMCksITApOiEwIT09biYmbnVsbH1fZ2V0U3ltYm9sRm9yVGV4dFByb3h5KHQpe2xldCBlPW51bGw7Y29uc3Qgbj10aGlzLl90ZXh0UHJveHlSZWdpc3RyeS5nZXQodC5zdGFydE9mZnNldCk7aWYobil7Y29uc3Qgbz1uLmdldCh0LmVuZE9mZnNldCk7byYmKGU9by5nZXQodC5wYXJlbnQpKX1yZXR1cm4gZXx8KGU9dGhpcy5fYWRkU3ltYm9sRm9yVGV4dFByb3h5KHQuc3RhcnRPZmZzZXQsdC5lbmRPZmZzZXQsdC5wYXJlbnQpKSxlfV9hZGRTeW1ib2xGb3JUZXh0UHJveHkodCxlLG4pe2NvbnN0IG89U3ltYm9sKFwidGV4dFByb3h5U3ltYm9sXCIpO2xldCBpLHI7cmV0dXJuKGk9dGhpcy5fdGV4dFByb3h5UmVnaXN0cnkuZ2V0KHQpKXx8KGk9bmV3IE1hcCx0aGlzLl90ZXh0UHJveHlSZWdpc3RyeS5zZXQodCxpKSksKHI9aS5nZXQoZSkpfHwocj1uZXcgTWFwLGkuc2V0KGUscikpLHIuc2V0KG4sbyksb319ZnVuY3Rpb24gR3ModCl7Y29uc3QgZT10LnNwbGl0KFwiOlwiKTtyZXR1cm4gZS5sZW5ndGg+MT9lWzBdK1wiOlwiK2VbMV06ZVswXX1jbGFzcyAkc3tjb25zdHJ1Y3Rvcih0PXt9KXt0aGlzLmNvbnZlcnNpb25BcGk9Tm8oe2Rpc3BhdGNoZXI6dGhpc30sdCl9Y29udmVydENoYW5nZXModCxlKXtmb3IoY29uc3QgbiBvZiB0LmdldE1hcmtlcnNUb1JlbW92ZSgpKXRoaXMuY29udmVydE1hcmtlclJlbW92ZShuLm5hbWUsbi5yYW5nZSxlKTtmb3IoY29uc3QgbiBvZiB0LmdldENoYW5nZXMoKSlcImluc2VydFwiPT1uLnR5cGU/dGhpcy5jb252ZXJ0SW5zZXJ0KHFzLmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KG4ucG9zaXRpb24sbi5sZW5ndGgpLGUpOlwicmVtb3ZlXCI9PW4udHlwZT90aGlzLmNvbnZlcnRSZW1vdmUobi5wb3NpdGlvbixuLmxlbmd0aCxuLm5hbWUsZSk6dGhpcy5jb252ZXJ0QXR0cmlidXRlKG4ucmFuZ2Usbi5hdHRyaWJ1dGVLZXksbi5hdHRyaWJ1dGVPbGRWYWx1ZSxuLmF0dHJpYnV0ZU5ld1ZhbHVlLGUpO2Zvcihjb25zdCBuIG9mIHQuZ2V0TWFya2Vyc1RvQWRkKCkpdGhpcy5jb252ZXJ0TWFya2VyQWRkKG4ubmFtZSxuLnJhbmdlLGUpfWNvbnZlcnRJbnNlcnQodCxlKXt0aGlzLmNvbnZlcnNpb25BcGkud3JpdGVyPWUsdGhpcy5jb252ZXJzaW9uQXBpLmNvbnN1bWFibGU9dGhpcy5fY3JlYXRlSW5zZXJ0Q29uc3VtYWJsZSh0KTtmb3IoY29uc3QgZSBvZiB0KXtjb25zdCB0PWUuaXRlbSxuPXtpdGVtOnQscmFuZ2U6cXMuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQoZS5wcmV2aW91c1Bvc2l0aW9uLGUubGVuZ3RoKX07dGhpcy5fdGVzdEFuZEZpcmUoXCJpbnNlcnRcIixuKTtmb3IoY29uc3QgZSBvZiB0LmdldEF0dHJpYnV0ZUtleXMoKSluLmF0dHJpYnV0ZUtleT1lLG4uYXR0cmlidXRlT2xkVmFsdWU9bnVsbCxuLmF0dHJpYnV0ZU5ld1ZhbHVlPXQuZ2V0QXR0cmlidXRlKGUpLHRoaXMuX3Rlc3RBbmRGaXJlKGBhdHRyaWJ1dGU6JHtlfWAsbil9dGhpcy5fY2xlYXJDb252ZXJzaW9uQXBpKCl9Y29udmVydFJlbW92ZSh0LGUsbixvKXt0aGlzLmNvbnZlcnNpb25BcGkud3JpdGVyPW8sdGhpcy5maXJlKFwicmVtb3ZlOlwiK24se3Bvc2l0aW9uOnQsbGVuZ3RoOmV9LHRoaXMuY29udmVyc2lvbkFwaSksdGhpcy5fY2xlYXJDb252ZXJzaW9uQXBpKCl9Y29udmVydEF0dHJpYnV0ZSh0LGUsbixvLGkpe3RoaXMuY29udmVyc2lvbkFwaS53cml0ZXI9aSx0aGlzLmNvbnZlcnNpb25BcGkuY29uc3VtYWJsZT10aGlzLl9jcmVhdGVDb25zdW1hYmxlRm9yUmFuZ2UodCxgYXR0cmlidXRlOiR7ZX1gKTtmb3IoY29uc3QgaSBvZiB0KXtjb25zdCB0PXtpdGVtOmkuaXRlbSxyYW5nZTpxcy5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChpLnByZXZpb3VzUG9zaXRpb24saS5sZW5ndGgpLGF0dHJpYnV0ZUtleTplLGF0dHJpYnV0ZU9sZFZhbHVlOm4sYXR0cmlidXRlTmV3VmFsdWU6b307dGhpcy5fdGVzdEFuZEZpcmUoYGF0dHJpYnV0ZToke2V9YCx0KX10aGlzLl9jbGVhckNvbnZlcnNpb25BcGkoKX1jb252ZXJ0U2VsZWN0aW9uKHQsZSxuKXtjb25zdCBvPUFycmF5LmZyb20oZS5nZXRNYXJrZXJzQXRQb3NpdGlvbih0LmdldEZpcnN0UG9zaXRpb24oKSkpO2lmKHRoaXMuY29udmVyc2lvbkFwaS53cml0ZXI9bix0aGlzLmNvbnZlcnNpb25BcGkuY29uc3VtYWJsZT10aGlzLl9jcmVhdGVTZWxlY3Rpb25Db25zdW1hYmxlKHQsbyksdGhpcy5maXJlKFwic2VsZWN0aW9uXCIse3NlbGVjdGlvbjp0fSx0aGlzLmNvbnZlcnNpb25BcGkpLHQuaXNDb2xsYXBzZWQpe2Zvcihjb25zdCBlIG9mIG8pe2NvbnN0IG49ZS5nZXRSYW5nZSgpO2lmKCFRcyh0LmdldEZpcnN0UG9zaXRpb24oKSxlLHRoaXMuY29udmVyc2lvbkFwaS5tYXBwZXIpKWNvbnRpbnVlO2NvbnN0IG89e2l0ZW06dCxtYXJrZXJOYW1lOmUubmFtZSxtYXJrZXJSYW5nZTpufTt0aGlzLmNvbnZlcnNpb25BcGkuY29uc3VtYWJsZS50ZXN0KHQsXCJhZGRNYXJrZXI6XCIrZS5uYW1lKSYmdGhpcy5maXJlKFwiYWRkTWFya2VyOlwiK2UubmFtZSxvLHRoaXMuY29udmVyc2lvbkFwaSl9Zm9yKGNvbnN0IGUgb2YgdC5nZXRBdHRyaWJ1dGVLZXlzKCkpe2NvbnN0IG49e2l0ZW06dCxyYW5nZTp0LmdldEZpcnN0UmFuZ2UoKSxhdHRyaWJ1dGVLZXk6ZSxhdHRyaWJ1dGVPbGRWYWx1ZTpudWxsLGF0dHJpYnV0ZU5ld1ZhbHVlOnQuZ2V0QXR0cmlidXRlKGUpfTt0aGlzLmNvbnZlcnNpb25BcGkuY29uc3VtYWJsZS50ZXN0KHQsXCJhdHRyaWJ1dGU6XCIrbi5hdHRyaWJ1dGVLZXkpJiZ0aGlzLmZpcmUoXCJhdHRyaWJ1dGU6XCIrbi5hdHRyaWJ1dGVLZXksbix0aGlzLmNvbnZlcnNpb25BcGkpfXRoaXMuX2NsZWFyQ29udmVyc2lvbkFwaSgpfX1jb252ZXJ0TWFya2VyQWRkKHQsZSxuKXtpZighZS5yb290LmRvY3VtZW50fHxcIiRncmF2ZXlhcmRcIj09ZS5yb290LnJvb3ROYW1lKXJldHVybjt0aGlzLmNvbnZlcnNpb25BcGkud3JpdGVyPW47Y29uc3Qgbz1cImFkZE1hcmtlcjpcIit0O2lmKGUuaXNDb2xsYXBzZWQpe2NvbnN0IG49bmV3IFlzO3JldHVybiBuLmFkZChlLG8pLHRoaXMuY29udmVyc2lvbkFwaS5jb25zdW1hYmxlPW4sdm9pZCB0aGlzLmZpcmUobyx7bWFya2VyTmFtZTp0LG1hcmtlclJhbmdlOmV9LHRoaXMuY29udmVyc2lvbkFwaSl9dGhpcy5jb252ZXJzaW9uQXBpLmNvbnN1bWFibGU9dGhpcy5fY3JlYXRlQ29uc3VtYWJsZUZvclJhbmdlKGUsbyk7Zm9yKGNvbnN0IG4gb2YgZS5nZXRJdGVtcygpKXtpZighdGhpcy5jb252ZXJzaW9uQXBpLmNvbnN1bWFibGUudGVzdChuLG8pKWNvbnRpbnVlO2NvbnN0IGk9e2l0ZW06bixyYW5nZTpxcy5jcmVhdGVPbihuKSxtYXJrZXJOYW1lOnQsbWFya2VyUmFuZ2U6ZX07dGhpcy5maXJlKG8saSx0aGlzLmNvbnZlcnNpb25BcGkpfXRoaXMuX2NsZWFyQ29udmVyc2lvbkFwaSgpfWNvbnZlcnRNYXJrZXJSZW1vdmUodCxlLG4pe2Uucm9vdC5kb2N1bWVudCYmXCIkZ3JhdmV5YXJkXCIhPWUucm9vdC5yb290TmFtZSYmKHRoaXMuY29udmVyc2lvbkFwaS53cml0ZXI9bix0aGlzLmZpcmUoXCJyZW1vdmVNYXJrZXI6XCIrdCx7bWFya2VyTmFtZTp0LG1hcmtlclJhbmdlOmV9LHRoaXMuY29udmVyc2lvbkFwaSksdGhpcy5fY2xlYXJDb252ZXJzaW9uQXBpKCkpfV9jcmVhdGVJbnNlcnRDb25zdW1hYmxlKHQpe2NvbnN0IGU9bmV3IFlzO2Zvcihjb25zdCBuIG9mIHQpe2NvbnN0IHQ9bi5pdGVtO2UuYWRkKHQsXCJpbnNlcnRcIik7Zm9yKGNvbnN0IG4gb2YgdC5nZXRBdHRyaWJ1dGVLZXlzKCkpZS5hZGQodCxcImF0dHJpYnV0ZTpcIituKX1yZXR1cm4gZX1fY3JlYXRlQ29uc3VtYWJsZUZvclJhbmdlKHQsZSl7Y29uc3Qgbj1uZXcgWXM7Zm9yKGNvbnN0IG8gb2YgdC5nZXRJdGVtcygpKW4uYWRkKG8sZSk7cmV0dXJuIG59X2NyZWF0ZVNlbGVjdGlvbkNvbnN1bWFibGUodCxlKXtjb25zdCBuPW5ldyBZcztuLmFkZCh0LFwic2VsZWN0aW9uXCIpO2Zvcihjb25zdCBvIG9mIGUpbi5hZGQodCxcImFkZE1hcmtlcjpcIitvLm5hbWUpO2Zvcihjb25zdCBlIG9mIHQuZ2V0QXR0cmlidXRlS2V5cygpKW4uYWRkKHQsXCJhdHRyaWJ1dGU6XCIrZSk7cmV0dXJuIG59X3Rlc3RBbmRGaXJlKHQsZSl7aWYoIXRoaXMuY29udmVyc2lvbkFwaS5jb25zdW1hYmxlLnRlc3QoZS5pdGVtLHQpKXJldHVybjtjb25zdCBuPWUuaXRlbS5uYW1lfHxcIiR0ZXh0XCI7dGhpcy5maXJlKHQrXCI6XCIrbixlLHRoaXMuY29udmVyc2lvbkFwaSl9X2NsZWFyQ29udmVyc2lvbkFwaSgpe2RlbGV0ZSB0aGlzLmNvbnZlcnNpb25BcGkud3JpdGVyLGRlbGV0ZSB0aGlzLmNvbnZlcnNpb25BcGkuY29uc3VtYWJsZX19ZnVuY3Rpb24gUXModCxlLG4pe2NvbnN0IG89ZS5nZXRSYW5nZSgpLGk9QXJyYXkuZnJvbSh0LmdldEFuY2VzdG9ycygpKTtyZXR1cm4gaS5zaGlmdCgpLGkucmV2ZXJzZSgpLCFpLnNvbWUodD0+e2lmKG8uY29udGFpbnNJdGVtKHQpKXtyZXR1cm4hIW4udG9WaWV3RWxlbWVudCh0KS5nZXRDdXN0b21Qcm9wZXJ0eShcImFkZEhpZ2hsaWdodFwiKX19KX1CKCRzLFIpO2NsYXNzIEpze2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLl9sYXN0UmFuZ2VCYWNrd2FyZD0hMSx0aGlzLl9yYW5nZXM9W10sdGhpcy5fYXR0cnM9bmV3IE1hcCx0JiZ0aGlzLnNldFRvKHQsZSxuKX1nZXQgYW5jaG9yKCl7aWYodGhpcy5fcmFuZ2VzLmxlbmd0aD4wKXtjb25zdCB0PXRoaXMuX3Jhbmdlc1t0aGlzLl9yYW5nZXMubGVuZ3RoLTFdO3JldHVybiB0aGlzLl9sYXN0UmFuZ2VCYWNrd2FyZD90LmVuZDp0LnN0YXJ0fXJldHVybiBudWxsfWdldCBmb2N1cygpe2lmKHRoaXMuX3Jhbmdlcy5sZW5ndGg+MCl7Y29uc3QgdD10aGlzLl9yYW5nZXNbdGhpcy5fcmFuZ2VzLmxlbmd0aC0xXTtyZXR1cm4gdGhpcy5fbGFzdFJhbmdlQmFja3dhcmQ/dC5zdGFydDp0LmVuZH1yZXR1cm4gbnVsbH1nZXQgaXNDb2xsYXBzZWQoKXtyZXR1cm4gMT09PXRoaXMuX3Jhbmdlcy5sZW5ndGgmJnRoaXMuX3Jhbmdlc1swXS5pc0NvbGxhcHNlZH1nZXQgcmFuZ2VDb3VudCgpe3JldHVybiB0aGlzLl9yYW5nZXMubGVuZ3RofWdldCBpc0JhY2t3YXJkKCl7cmV0dXJuIXRoaXMuaXNDb2xsYXBzZWQmJnRoaXMuX2xhc3RSYW5nZUJhY2t3YXJkfWlzRXF1YWwodCl7aWYodGhpcy5yYW5nZUNvdW50IT10LnJhbmdlQ291bnQpcmV0dXJuITE7aWYoMD09PXRoaXMucmFuZ2VDb3VudClyZXR1cm4hMDtpZighdGhpcy5hbmNob3IuaXNFcXVhbCh0LmFuY2hvcil8fCF0aGlzLmZvY3VzLmlzRXF1YWwodC5mb2N1cykpcmV0dXJuITE7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fcmFuZ2VzKXtsZXQgbj0hMTtmb3IoY29uc3QgbyBvZiB0Ll9yYW5nZXMpaWYoZS5pc0VxdWFsKG8pKXtuPSEwO2JyZWFrfWlmKCFuKXJldHVybiExfXJldHVybiEwfSpnZXRSYW5nZXMoKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9yYW5nZXMpeWllbGQgcXMuY3JlYXRlRnJvbVJhbmdlKHQpfWdldEZpcnN0UmFuZ2UoKXtsZXQgdD1udWxsO2Zvcihjb25zdCBlIG9mIHRoaXMuX3Jhbmdlcyl0JiYhZS5zdGFydC5pc0JlZm9yZSh0LnN0YXJ0KXx8KHQ9ZSk7cmV0dXJuIHQ/cXMuY3JlYXRlRnJvbVJhbmdlKHQpOm51bGx9Z2V0TGFzdFJhbmdlKCl7bGV0IHQ9bnVsbDtmb3IoY29uc3QgZSBvZiB0aGlzLl9yYW5nZXMpdCYmIWUuZW5kLmlzQWZ0ZXIodC5lbmQpfHwodD1lKTtyZXR1cm4gdD9xcy5jcmVhdGVGcm9tUmFuZ2UodCk6bnVsbH1nZXRGaXJzdFBvc2l0aW9uKCl7Y29uc3QgdD10aGlzLmdldEZpcnN0UmFuZ2UoKTtyZXR1cm4gdD9Icy5jcmVhdGVGcm9tUG9zaXRpb24odC5zdGFydCk6bnVsbH1nZXRMYXN0UG9zaXRpb24oKXtjb25zdCB0PXRoaXMuZ2V0TGFzdFJhbmdlKCk7cmV0dXJuIHQ/SHMuY3JlYXRlRnJvbVBvc2l0aW9uKHQuZW5kKTpudWxsfXNldFRvKHQsZSxuKXtpZihudWxsPT09dCl0aGlzLl9zZXRSYW5nZXMoW10pO2Vsc2UgaWYodCBpbnN0YW5jZW9mIEpzKXRoaXMuX3NldFJhbmdlcyh0LmdldFJhbmdlcygpLHQuaXNCYWNrd2FyZCk7ZWxzZSBpZih0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmdldFJhbmdlcyl0aGlzLl9zZXRSYW5nZXModC5nZXRSYW5nZXMoKSx0LmlzQmFja3dhcmQpO2Vsc2UgaWYodCBpbnN0YW5jZW9mIHFzKXRoaXMuX3NldFJhbmdlcyhbdF0sISFlJiYhIWUuYmFja3dhcmQpO2Vsc2UgaWYodCBpbnN0YW5jZW9mIEhzKXRoaXMuX3NldFJhbmdlcyhbbmV3IHFzKHQpXSk7ZWxzZSBpZih0IGluc3RhbmNlb2YgRHMpe2NvbnN0IG89ISFuJiYhIW4uYmFja3dhcmQ7bGV0IGk7aWYoXCJpblwiPT1lKWk9cXMuY3JlYXRlSW4odCk7ZWxzZSBpZihcIm9uXCI9PWUpaT1xcy5jcmVhdGVPbih0KTtlbHNle2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IE0uYihcIm1vZGVsLXNlbGVjdGlvbi1zZXRUby1yZXF1aXJlZC1zZWNvbmQtcGFyYW1ldGVyOiBzZWxlY3Rpb24uc2V0VG8gcmVxdWlyZXMgdGhlIHNlY29uZCBwYXJhbWV0ZXIgd2hlbiB0aGUgZmlyc3QgcGFyYW1ldGVyIGlzIGEgbm9kZS5cIik7aT1xcy5jcmVhdGVDb2xsYXBzZWRBdCh0LGUpfXRoaXMuX3NldFJhbmdlcyhbaV0sbyl9ZWxzZXtpZighaG8odCkpdGhyb3cgbmV3IE0uYihcIm1vZGVsLXNlbGVjdGlvbi1zZXRUby1ub3Qtc2VsZWN0YWJsZTogQ2Fubm90IHNldCBzZWxlY3Rpb24gdG8gZ2l2ZW4gcGxhY2UuXCIpO3RoaXMuX3NldFJhbmdlcyh0LGUmJiEhZS5iYWNrd2FyZCl9fV9zZXRSYW5nZXModCxlPSExKXtjb25zdCBuPSh0PUFycmF5LmZyb20odCkpLnNvbWUodD0+e2lmKCEodCBpbnN0YW5jZW9mIHFzKSl0aHJvdyBuZXcgTS5iKFwibW9kZWwtc2VsZWN0aW9uLXNldC1yYW5nZXMtbm90LXJhbmdlOiBTZWxlY3Rpb24gcmFuZ2Ugc2V0IHRvIGFuIG9iamVjdCB0aGF0IGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBtb2RlbC5SYW5nZS5cIik7cmV0dXJuIHRoaXMuX3Jhbmdlcy5ldmVyeShlPT4hZS5pc0VxdWFsKHQpKX0pO2lmKHQubGVuZ3RoIT09dGhpcy5fcmFuZ2VzLmxlbmd0aHx8bil7dGhpcy5fcmVtb3ZlQWxsUmFuZ2VzKCk7Zm9yKGNvbnN0IGUgb2YgdCl0aGlzLl9wdXNoUmFuZ2UoZSk7dGhpcy5fbGFzdFJhbmdlQmFja3dhcmQ9ISFlLHRoaXMuZmlyZShcImNoYW5nZTpyYW5nZVwiLHtkaXJlY3RDaGFuZ2U6ITB9KX19c2V0Rm9jdXModCxlKXtpZihudWxsPT09dGhpcy5hbmNob3IpdGhyb3cgbmV3IE0uYihcIm1vZGVsLXNlbGVjdGlvbi1zZXRGb2N1cy1uby1yYW5nZXM6IENhbm5vdCBzZXQgc2VsZWN0aW9uIGZvY3VzIGlmIHRoZXJlIGFyZSBubyByYW5nZXMgaW4gc2VsZWN0aW9uLlwiKTtjb25zdCBuPUhzLmNyZWF0ZUF0KHQsZSk7aWYoXCJzYW1lXCI9PW4uY29tcGFyZVdpdGgodGhpcy5mb2N1cykpcmV0dXJuO2NvbnN0IG89dGhpcy5hbmNob3I7dGhpcy5fcmFuZ2VzLmxlbmd0aCYmdGhpcy5fcG9wUmFuZ2UoKSxcImJlZm9yZVwiPT1uLmNvbXBhcmVXaXRoKG8pPyh0aGlzLl9wdXNoUmFuZ2UobmV3IHFzKG4sbykpLHRoaXMuX2xhc3RSYW5nZUJhY2t3YXJkPSEwKToodGhpcy5fcHVzaFJhbmdlKG5ldyBxcyhvLG4pKSx0aGlzLl9sYXN0UmFuZ2VCYWNrd2FyZD0hMSksdGhpcy5maXJlKFwiY2hhbmdlOnJhbmdlXCIse2RpcmVjdENoYW5nZTohMH0pfWdldEF0dHJpYnV0ZSh0KXtyZXR1cm4gdGhpcy5fYXR0cnMuZ2V0KHQpfWdldEF0dHJpYnV0ZXMoKXtyZXR1cm4gdGhpcy5fYXR0cnMuZW50cmllcygpfWdldEF0dHJpYnV0ZUtleXMoKXtyZXR1cm4gdGhpcy5fYXR0cnMua2V5cygpfWhhc0F0dHJpYnV0ZSh0KXtyZXR1cm4gdGhpcy5fYXR0cnMuaGFzKHQpfXJlbW92ZUF0dHJpYnV0ZSh0KXt0aGlzLmhhc0F0dHJpYnV0ZSh0KSYmKHRoaXMuX2F0dHJzLmRlbGV0ZSh0KSx0aGlzLmZpcmUoXCJjaGFuZ2U6YXR0cmlidXRlXCIse2F0dHJpYnV0ZUtleXM6W3RdLGRpcmVjdENoYW5nZTohMH0pKX1zZXRBdHRyaWJ1dGUodCxlKXt0aGlzLmdldEF0dHJpYnV0ZSh0KSE9PWUmJih0aGlzLl9hdHRycy5zZXQodCxlKSx0aGlzLmZpcmUoXCJjaGFuZ2U6YXR0cmlidXRlXCIse2F0dHJpYnV0ZUtleXM6W3RdLGRpcmVjdENoYW5nZTohMH0pKX1nZXRTZWxlY3RlZEVsZW1lbnQoKXtpZigxIT09dGhpcy5yYW5nZUNvdW50KXJldHVybiBudWxsO2NvbnN0IHQ9dGhpcy5nZXRGaXJzdFJhbmdlKCksZT10LnN0YXJ0Lm5vZGVBZnRlcixuPXQuZW5kLm5vZGVCZWZvcmU7cmV0dXJuIGUgaW5zdGFuY2VvZiBGcyYmZT09bj9lOm51bGx9KmdldFNlbGVjdGVkQmxvY2tzKCl7Y29uc3QgdD1uZXcgV2Vha1NldDtmb3IoY29uc3QgZSBvZiB0aGlzLmdldFJhbmdlcygpKXtjb25zdCBuPVpzKGUuc3RhcnQsdCk7biYmKHlpZWxkIG4pO2Zvcihjb25zdCBuIG9mIGUuZ2V0V2Fsa2VyKCkpXCJlbGVtZW50RW5kXCI9PW4udHlwZSYmS3Mobi5pdGVtLHQpJiYoeWllbGQgbi5pdGVtKTtjb25zdCBvPVpzKGUuZW5kLHQpO28mJiFlLmVuZC5pc1RvdWNoaW5nKEhzLmNyZWF0ZUF0KG8pKSYmKHlpZWxkIG8pfX1jb250YWluc0VudGlyZUNvbnRlbnQodD10aGlzLmFuY2hvci5yb290KXtjb25zdCBlPUhzLmNyZWF0ZUF0KHQpLG49SHMuY3JlYXRlQXQodCxcImVuZFwiKTtyZXR1cm4gZS5pc1RvdWNoaW5nKHRoaXMuZ2V0Rmlyc3RQb3NpdGlvbigpKSYmbi5pc1RvdWNoaW5nKHRoaXMuZ2V0TGFzdFBvc2l0aW9uKCkpfV9wdXNoUmFuZ2UodCl7dGhpcy5fY2hlY2tSYW5nZSh0KSx0aGlzLl9yYW5nZXMucHVzaChxcy5jcmVhdGVGcm9tUmFuZ2UodCkpfV9jaGVja1JhbmdlKHQpe2ZvcihsZXQgZT0wO2U8dGhpcy5fcmFuZ2VzLmxlbmd0aDtlKyspaWYodC5pc0ludGVyc2VjdGluZyh0aGlzLl9yYW5nZXNbZV0pKXRocm93IG5ldyBNLmIoXCJtb2RlbC1zZWxlY3Rpb24tcmFuZ2UtaW50ZXJzZWN0czogVHJ5aW5nIHRvIGFkZCBhIHJhbmdlIHRoYXQgaW50ZXJzZWN0cyB3aXRoIGFub3RoZXIgcmFuZ2UgaW4gdGhlIHNlbGVjdGlvbi5cIix7YWRkZWRSYW5nZTp0LGludGVyc2VjdGluZ1JhbmdlOnRoaXMuX3Jhbmdlc1tlXX0pfV9yZW1vdmVBbGxSYW5nZXMoKXtmb3IoO3RoaXMuX3Jhbmdlcy5sZW5ndGg+MDspdGhpcy5fcG9wUmFuZ2UoKX1fcG9wUmFuZ2UoKXt0aGlzLl9yYW5nZXMucG9wKCl9fWZ1bmN0aW9uIEtzKHQsZSl7cmV0dXJuIWUuaGFzKHQpJiYoZS5hZGQodCksdC5kb2N1bWVudC5tb2RlbC5zY2hlbWEuaXNCbG9jayh0KSYmdC5wYXJlbnQpfWZ1bmN0aW9uIFpzKHQsZSl7Y29uc3Qgbj10LnBhcmVudC5nZXRBbmNlc3RvcnMoe3BhcmVudEZpcnN0OiEwLGluY2x1ZGVTZWxmOiEwfSksbz1uLmZpbmQodD0+S3ModCxlKSk7cmV0dXJuIG4uZm9yRWFjaCh0PT5lLmFkZCh0KSksb31CKEpzLFIpO2NsYXNzIFhzIGV4dGVuZHMgcXN7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0LGUpLGZ1bmN0aW9uKCl7dGhpcy5saXN0ZW5Ubyh0aGlzLnJvb3QuZG9jdW1lbnQubW9kZWwsXCJhcHBseU9wZXJhdGlvblwiLCh0LGUpPT57Y29uc3Qgbj1lWzBdO24uaXNEb2N1bWVudE9wZXJhdGlvbiYmZnVuY3Rpb24odCl7Y29uc3QgZT10aGlzLmdldFRyYW5zZm9ybWVkQnlPcGVyYXRpb24odCksbj1xcy5jcmVhdGVGcm9tUmFuZ2VzKGUpLG89IW4uaXNFcXVhbCh0aGlzKSxpPWZ1bmN0aW9uKHQsZSl7c3dpdGNoKGUudHlwZSl7Y2FzZVwiaW5zZXJ0XCI6cmV0dXJuIHQuY29udGFpbnNQb3NpdGlvbihlLnBvc2l0aW9uKTtjYXNlXCJtb3ZlXCI6Y2FzZVwicmVtb3ZlXCI6Y2FzZVwicmVpbnNlcnRcIjpjYXNlXCJtZXJnZVwiOnJldHVybiB0LmNvbnRhaW5zUG9zaXRpb24oZS5zb3VyY2VQb3NpdGlvbil8fHQuc3RhcnQuaXNFcXVhbChlLnNvdXJjZVBvc2l0aW9uKXx8dC5jb250YWluc1Bvc2l0aW9uKGUudGFyZ2V0UG9zaXRpb24pO2Nhc2VcInNwbGl0XCI6cmV0dXJuIHQuY29udGFpbnNQb3NpdGlvbihlLnNwbGl0UG9zaXRpb24pfHx0LmNvbnRhaW5zUG9zaXRpb24oZS5pbnNlcnRpb25Qb3NpdGlvbil9cmV0dXJuITF9KHRoaXMsdCk7bGV0IHI9bnVsbDtpZihvKXtcIiRncmF2ZXlhcmRcIj09bi5yb290LnJvb3ROYW1lJiYocj1cInJlbW92ZVwiPT10LnR5cGU/dC5zb3VyY2VQb3NpdGlvbjp0LmRlbGV0aW9uUG9zaXRpb24pO2NvbnN0IGU9cXMuY3JlYXRlRnJvbVJhbmdlKHRoaXMpO3RoaXMuc3RhcnQ9bi5zdGFydCx0aGlzLmVuZD1uLmVuZCx0aGlzLmZpcmUoXCJjaGFuZ2U6cmFuZ2VcIixlLHtkZWxldGlvblBvc2l0aW9uOnJ9KX1lbHNlIGkmJnRoaXMuZmlyZShcImNoYW5nZTpjb250ZW50XCIscXMuY3JlYXRlRnJvbVJhbmdlKHRoaXMpLHtkZWxldGlvblBvc2l0aW9uOnJ9KX0uY2FsbCh0aGlzLG4pfSx7cHJpb3JpdHk6XCJsb3dcIn0pfS5jYWxsKHRoaXMpfWRldGFjaCgpe3RoaXMuc3RvcExpc3RlbmluZygpfX1CKFhzLFIpO2NvbnN0IHRhPVwic2VsZWN0aW9uOlwiO2NsYXNzIGVhe2NvbnN0cnVjdG9yKHQpe3RoaXMuX3NlbGVjdGlvbj1uZXcgbmEodCksdGhpcy5fc2VsZWN0aW9uLmRlbGVnYXRlKFwiY2hhbmdlOnJhbmdlXCIpLnRvKHRoaXMpLHRoaXMuX3NlbGVjdGlvbi5kZWxlZ2F0ZShcImNoYW5nZTphdHRyaWJ1dGVcIikudG8odGhpcyl9Z2V0IGlzQ29sbGFwc2VkKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5pc0NvbGxhcHNlZH1nZXQgYW5jaG9yKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5hbmNob3J9Z2V0IGZvY3VzKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5mb2N1c31nZXQgcmFuZ2VDb3VudCgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24ucmFuZ2VDb3VudH1nZXQgaGFzT3duUmFuZ2UoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmhhc093blJhbmdlfWdldCBpc0JhY2t3YXJkKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5pc0JhY2t3YXJkfWdldCBpc0dyYXZpdHlPdmVycmlkZGVuKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5pc0dyYXZpdHlPdmVycmlkZGVufWdldCBfcmFuZ2VzKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5fcmFuZ2VzfWdldFJhbmdlcygpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0UmFuZ2VzKCl9Z2V0Rmlyc3RQb3NpdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0Rmlyc3RQb3NpdGlvbigpfWdldExhc3RQb3NpdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0TGFzdFBvc2l0aW9uKCl9Z2V0Rmlyc3RSYW5nZSgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0Rmlyc3RSYW5nZSgpfWdldExhc3RSYW5nZSgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0TGFzdFJhbmdlKCl9Z2V0U2VsZWN0ZWRCbG9ja3MoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCl9Z2V0U2VsZWN0ZWRFbGVtZW50KCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5nZXRTZWxlY3RlZEVsZW1lbnQoKX1jb250YWluc0VudGlyZUNvbnRlbnQodCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5jb250YWluc0VudGlyZUNvbnRlbnQodCl9ZGVzdHJveSgpe3RoaXMuX3NlbGVjdGlvbi5kZXN0cm95KCl9Z2V0QXR0cmlidXRlS2V5cygpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0QXR0cmlidXRlS2V5cygpfWdldEF0dHJpYnV0ZXMoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldEF0dHJpYnV0ZXMoKX1nZXRBdHRyaWJ1dGUodCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5nZXRBdHRyaWJ1dGUodCl9aGFzQXR0cmlidXRlKHQpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uaGFzQXR0cmlidXRlKHQpfV9zZXRGb2N1cyh0LGUpe3RoaXMuX3NlbGVjdGlvbi5zZXRGb2N1cyh0LGUpfV9zZXRUbyh0LGUsbil7dGhpcy5fc2VsZWN0aW9uLnNldFRvKHQsZSxuKX1fc2V0QXR0cmlidXRlKHQsZSl7dGhpcy5fc2VsZWN0aW9uLnNldEF0dHJpYnV0ZSh0LGUpfV9yZW1vdmVBdHRyaWJ1dGUodCl7dGhpcy5fc2VsZWN0aW9uLnJlbW92ZUF0dHJpYnV0ZSh0KX1fZ2V0U3RvcmVkQXR0cmlidXRlcygpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uX2dldFN0b3JlZEF0dHJpYnV0ZXMoKX1fb3ZlcnJpZGVHcmF2aXR5KCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5vdmVycmlkZUdyYXZpdHkoKX1fcmVzdG9yZUdyYXZpdHkodCl7dGhpcy5fc2VsZWN0aW9uLnJlc3RvcmVHcmF2aXR5KHQpfXN0YXRpYyBfZ2V0U3RvcmVBdHRyaWJ1dGVLZXkodCl7cmV0dXJuIHRhK3R9c3RhdGljIF9pc1N0b3JlQXR0cmlidXRlS2V5KHQpe3JldHVybiB0LnN0YXJ0c1dpdGgodGEpfX1CKGVhLFIpO2NsYXNzIG5hIGV4dGVuZHMgSnN7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLl9tb2RlbD10Lm1vZGVsLHRoaXMuX2RvY3VtZW50PXQsdGhpcy5fYXR0cmlidXRlUHJpb3JpdHk9bmV3IE1hcCx0aGlzLl9maXhHcmF2ZXlhcmRSYW5nZXNEYXRhPVtdLHRoaXMuX2hhc0NoYW5nZWRSYW5nZT0hMSx0aGlzLl9vdmVycmlkZGVuR3Jhdml0eVJlZ2lzdGVyPW5ldyBTZXQsdGhpcy5vbihcImNoYW5nZTpyYW5nZVwiLCgpPT57Zm9yKGNvbnN0IHQgb2YgdGhpcy5nZXRSYW5nZXMoKSlpZighdGhpcy5fZG9jdW1lbnQuX3ZhbGlkYXRlU2VsZWN0aW9uUmFuZ2UodCkpdGhyb3cgbmV3IE0uYihcImRvY3VtZW50LXNlbGVjdGlvbi13cm9uZy1wb3NpdGlvbjogUmFuZ2UgZnJvbSBkb2N1bWVudCBzZWxlY3Rpb24gc3RhcnRzIG9yIGVuZHMgYXQgaW5jb3JyZWN0IHBvc2l0aW9uLlwiLHtyYW5nZTp0fSl9KSx0aGlzLmxpc3RlblRvKHRoaXMuX2RvY3VtZW50LFwiY2hhbmdlXCIsKHQsZSk9Pnt0aGlzLl91cGRhdGVBdHRyaWJ1dGVzKCExKSxmdW5jdGlvbih0LGUpe2NvbnN0IG49dC5kb2N1bWVudC5kaWZmZXI7Zm9yKGNvbnN0IG8gb2Ygbi5nZXRDaGFuZ2VzKCkpe2lmKFwiaW5zZXJ0XCIhPW8udHlwZSljb250aW51ZTtjb25zdCBuPW8ucG9zaXRpb24ucGFyZW50LGk9by5sZW5ndGg9PT1uLm1heE9mZnNldDtpJiZ0LmVucXVldWVDaGFuZ2UoZSx0PT57Y29uc3QgZT1BcnJheS5mcm9tKG4uZ2V0QXR0cmlidXRlS2V5cygpKS5maWx0ZXIodD0+dC5zdGFydHNXaXRoKHRhKSk7Zm9yKGNvbnN0IG8gb2YgZSl0LnJlbW92ZUF0dHJpYnV0ZShvLG4pfSl9fSh0aGlzLl9tb2RlbCxlKX0pLHRoaXMubGlzdGVuVG8odGhpcy5fbW9kZWwsXCJhcHBseU9wZXJhdGlvblwiLCgpPT57Zm9yKDt0aGlzLl9maXhHcmF2ZXlhcmRSYW5nZXNEYXRhLmxlbmd0aDspe2NvbnN0e2xpdmVSYW5nZTp0LHNvdXJjZVBvc2l0aW9uOmV9PXRoaXMuX2ZpeEdyYXZleWFyZFJhbmdlc0RhdGEuc2hpZnQoKTt0aGlzLl9maXhHcmF2ZXlhcmRTZWxlY3Rpb24odCxlKX10aGlzLl9oYXNDaGFuZ2VkUmFuZ2UmJih0aGlzLl9oYXNDaGFuZ2VkUmFuZ2U9ITEsdGhpcy5maXJlKFwiY2hhbmdlOnJhbmdlXCIse2RpcmVjdENoYW5nZTohMX0pKX0se3ByaW9yaXR5OlwibG93ZXN0XCJ9KX1nZXQgaXNDb2xsYXBzZWQoKXtyZXR1cm4gMD09PXRoaXMuX3Jhbmdlcy5sZW5ndGg/dGhpcy5fZG9jdW1lbnQuX2dldERlZmF1bHRSYW5nZSgpLmlzQ29sbGFwc2VkOnN1cGVyLmlzQ29sbGFwc2VkfWdldCBhbmNob3IoKXtyZXR1cm4gc3VwZXIuYW5jaG9yfHx0aGlzLl9kb2N1bWVudC5fZ2V0RGVmYXVsdFJhbmdlKCkuc3RhcnR9Z2V0IGZvY3VzKCl7cmV0dXJuIHN1cGVyLmZvY3VzfHx0aGlzLl9kb2N1bWVudC5fZ2V0RGVmYXVsdFJhbmdlKCkuZW5kfWdldCByYW5nZUNvdW50KCl7cmV0dXJuIHRoaXMuX3Jhbmdlcy5sZW5ndGg/dGhpcy5fcmFuZ2VzLmxlbmd0aDoxfWdldCBoYXNPd25SYW5nZSgpe3JldHVybiB0aGlzLl9yYW5nZXMubGVuZ3RoPjB9Z2V0IGlzR3Jhdml0eU92ZXJyaWRkZW4oKXtyZXR1cm4hIXRoaXMuX292ZXJyaWRkZW5HcmF2aXR5UmVnaXN0ZXIuc2l6ZX1kZXN0cm95KCl7Zm9yKGxldCB0PTA7dDx0aGlzLl9yYW5nZXMubGVuZ3RoO3QrKyl0aGlzLl9yYW5nZXNbdF0uZGV0YWNoKCk7dGhpcy5zdG9wTGlzdGVuaW5nKCl9KmdldFJhbmdlcygpe3RoaXMuX3Jhbmdlcy5sZW5ndGg/eWllbGQqc3VwZXIuZ2V0UmFuZ2VzKCk6eWllbGQgdGhpcy5fZG9jdW1lbnQuX2dldERlZmF1bHRSYW5nZSgpfWdldEZpcnN0UmFuZ2UoKXtyZXR1cm4gc3VwZXIuZ2V0Rmlyc3RSYW5nZSgpfHx0aGlzLl9kb2N1bWVudC5fZ2V0RGVmYXVsdFJhbmdlKCl9Z2V0TGFzdFJhbmdlKCl7cmV0dXJuIHN1cGVyLmdldExhc3RSYW5nZSgpfHx0aGlzLl9kb2N1bWVudC5fZ2V0RGVmYXVsdFJhbmdlKCl9c2V0VG8odCxlLG4pe3N1cGVyLnNldFRvKHQsZSxuKSx0aGlzLl9yZWZyZXNoQXR0cmlidXRlcygpfXNldEZvY3VzKHQsZSl7c3VwZXIuc2V0Rm9jdXModCxlKSx0aGlzLl9yZWZyZXNoQXR0cmlidXRlcygpfXNldEF0dHJpYnV0ZSh0LGUpe2lmKHRoaXMuX3NldEF0dHJpYnV0ZSh0LGUpKXtjb25zdCBlPVt0XTt0aGlzLmZpcmUoXCJjaGFuZ2U6YXR0cmlidXRlXCIse2F0dHJpYnV0ZUtleXM6ZSxkaXJlY3RDaGFuZ2U6ITB9KX19cmVtb3ZlQXR0cmlidXRlKHQpe2lmKHRoaXMuX3JlbW92ZUF0dHJpYnV0ZSh0KSl7Y29uc3QgZT1bdF07dGhpcy5maXJlKFwiY2hhbmdlOmF0dHJpYnV0ZVwiLHthdHRyaWJ1dGVLZXlzOmUsZGlyZWN0Q2hhbmdlOiEwfSl9fW92ZXJyaWRlR3Jhdml0eSgpe2NvbnN0IHQ9RSgpO3JldHVybiB0aGlzLl9vdmVycmlkZGVuR3Jhdml0eVJlZ2lzdGVyLmFkZCh0KSwxPT09dGhpcy5fb3ZlcnJpZGRlbkdyYXZpdHlSZWdpc3Rlci5zaXplJiZ0aGlzLl9yZWZyZXNoQXR0cmlidXRlcygpLHR9cmVzdG9yZUdyYXZpdHkodCl7aWYoIXRoaXMuX292ZXJyaWRkZW5HcmF2aXR5UmVnaXN0ZXIuaGFzKHQpKXRocm93IG5ldyBNLmIoXCJkb2N1bWVudC1zZWxlY3Rpb24tZ3Jhdml0eS13cm9uZy1yZXN0b3JlOiBBdHRlbXB0aW5nIHRvIHJlc3RvcmUgdGhlIHNlbGVjdGlvbiBncmF2aXR5IGZvciBhbiB1bmtub3duIFVJRC5cIix7dWlkOnR9KTt0aGlzLl9vdmVycmlkZGVuR3Jhdml0eVJlZ2lzdGVyLmRlbGV0ZSh0KSx0aGlzLmlzR3Jhdml0eU92ZXJyaWRkZW58fHRoaXMuX3JlZnJlc2hBdHRyaWJ1dGVzKCl9X3JlZnJlc2hBdHRyaWJ1dGVzKCl7dGhpcy5fdXBkYXRlQXR0cmlidXRlcyghMCl9X3BvcFJhbmdlKCl7dGhpcy5fcmFuZ2VzLnBvcCgpLmRldGFjaCgpfV9wdXNoUmFuZ2UodCl7Y29uc3QgZT10aGlzLl9wcmVwYXJlUmFuZ2UodCk7ZSYmdGhpcy5fcmFuZ2VzLnB1c2goZSl9X3ByZXBhcmVSYW5nZSh0KXtpZih0aGlzLl9jaGVja1JhbmdlKHQpLHQucm9vdD09dGhpcy5fZG9jdW1lbnQuZ3JhdmV5YXJkKXJldHVybiB2b2lkIGZzLmEud2FybihcIm1vZGVsLXNlbGVjdGlvbi1yYW5nZS1pbi1ncmF2ZXlhcmQ6IFRyeWluZyB0byBhZGQgYSBSYW5nZSB0aGF0IGlzIGluIHRoZSBncmF2ZXlhcmQgcm9vdC4gUmFuZ2UgcmVqZWN0ZWQuXCIpO2NvbnN0IGU9WHMuY3JlYXRlRnJvbVJhbmdlKHQpO3JldHVybiBlLm9uKFwiY2hhbmdlOnJhbmdlXCIsKHQsbixvKT0+e3RoaXMuX2hhc0NoYW5nZWRSYW5nZT0hMCxlLnJvb3Q9PXRoaXMuX2RvY3VtZW50LmdyYXZleWFyZCYmdGhpcy5fZml4R3JhdmV5YXJkUmFuZ2VzRGF0YS5wdXNoKHtsaXZlUmFuZ2U6ZSxzb3VyY2VQb3NpdGlvbjpvLmRlbGV0aW9uUG9zaXRpb259KX0pLGV9X3VwZGF0ZUF0dHJpYnV0ZXModCl7Y29uc3QgZT1Scyh0aGlzLl9nZXRTdXJyb3VuZGluZ0F0dHJpYnV0ZXMoKSksbj1Scyh0aGlzLmdldEF0dHJpYnV0ZXMoKSk7aWYodCl0aGlzLl9hdHRyaWJ1dGVQcmlvcml0eT1uZXcgTWFwLHRoaXMuX2F0dHJzPW5ldyBNYXA7ZWxzZSBmb3IoY29uc3RbdCxlXW9mIHRoaXMuX2F0dHJpYnV0ZVByaW9yaXR5KVwibG93XCI9PWUmJih0aGlzLl9hdHRycy5kZWxldGUodCksdGhpcy5fYXR0cmlidXRlUHJpb3JpdHkuZGVsZXRlKHQpKTt0aGlzLl9zZXRBdHRyaWJ1dGVzVG8oZSk7Y29uc3Qgbz1bXTtmb3IoY29uc3RbdCxlXW9mIHRoaXMuZ2V0QXR0cmlidXRlcygpKW4uaGFzKHQpJiZuLmdldCh0KT09PWV8fG8ucHVzaCh0KTtmb3IoY29uc3RbdF1vZiBuKXRoaXMuaGFzQXR0cmlidXRlKHQpfHxvLnB1c2godCk7by5sZW5ndGg+MCYmdGhpcy5maXJlKFwiY2hhbmdlOmF0dHJpYnV0ZVwiLHthdHRyaWJ1dGVLZXlzOm8sZGlyZWN0Q2hhbmdlOiExfSl9X3NldEF0dHJpYnV0ZSh0LGUsbj0hMCl7Y29uc3Qgbz1uP1wibm9ybWFsXCI6XCJsb3dcIjtyZXR1cm4oXCJsb3dcIiE9b3x8XCJub3JtYWxcIiE9dGhpcy5fYXR0cmlidXRlUHJpb3JpdHkuZ2V0KHQpKSYmKHN1cGVyLmdldEF0dHJpYnV0ZSh0KSE9PWUmJih0aGlzLl9hdHRycy5zZXQodCxlKSx0aGlzLl9hdHRyaWJ1dGVQcmlvcml0eS5zZXQodCxvKSwhMCkpfV9yZW1vdmVBdHRyaWJ1dGUodCxlPSEwKXtjb25zdCBuPWU/XCJub3JtYWxcIjpcImxvd1wiO3JldHVybihcImxvd1wiIT1ufHxcIm5vcm1hbFwiIT10aGlzLl9hdHRyaWJ1dGVQcmlvcml0eS5nZXQodCkpJiYodGhpcy5fYXR0cmlidXRlUHJpb3JpdHkuc2V0KHQsbiksISFzdXBlci5oYXNBdHRyaWJ1dGUodCkmJih0aGlzLl9hdHRycy5kZWxldGUodCksITApKX1fc2V0QXR0cmlidXRlc1RvKHQpe2NvbnN0IGU9bmV3IFNldDtmb3IoY29uc3RbZSxuXW9mIHRoaXMuZ2V0QXR0cmlidXRlcygpKXQuZ2V0KGUpIT09biYmdGhpcy5fcmVtb3ZlQXR0cmlidXRlKGUsITEpO2Zvcihjb25zdFtuLG9db2YgdCl7dGhpcy5fc2V0QXR0cmlidXRlKG4sbywhMSkmJmUuYWRkKG4pfXJldHVybiBlfSpfZ2V0U3RvcmVkQXR0cmlidXRlcygpe2NvbnN0IHQ9dGhpcy5nZXRGaXJzdFBvc2l0aW9uKCkucGFyZW50O2lmKHRoaXMuaXNDb2xsYXBzZWQmJnQuaXNFbXB0eSlmb3IoY29uc3QgZSBvZiB0LmdldEF0dHJpYnV0ZUtleXMoKSlpZihlLnN0YXJ0c1dpdGgodGEpKXt5aWVsZFtlLnN1YnN0cih0YS5sZW5ndGgpLHQuZ2V0QXR0cmlidXRlKGUpXX19X2dldFN1cnJvdW5kaW5nQXR0cmlidXRlcygpe2NvbnN0IHQ9dGhpcy5nZXRGaXJzdFBvc2l0aW9uKCksZT10aGlzLl9tb2RlbC5zY2hlbWE7bGV0IG49bnVsbDtpZih0aGlzLmlzQ29sbGFwc2VkKXtjb25zdCBlPXQudGV4dE5vZGU/dC50ZXh0Tm9kZTp0Lm5vZGVCZWZvcmUsbz10LnRleHROb2RlP3QudGV4dE5vZGU6dC5ub2RlQWZ0ZXI7aWYodGhpcy5pc0dyYXZpdHlPdmVycmlkZGVufHwobj1vYShlKSksbnx8KG49b2EobykpLCF0aGlzLmlzR3Jhdml0eU92ZXJyaWRkZW4mJiFuKXtsZXQgdD1lO2Zvcig7dCYmIW47KW49b2EodD10LnByZXZpb3VzU2libGluZyl9aWYoIW4pe2xldCB0PW87Zm9yKDt0JiYhbjspbj1vYSh0PXQubmV4dFNpYmxpbmcpfW58fChuPXRoaXMuX2dldFN0b3JlZEF0dHJpYnV0ZXMoKSl9ZWxzZXtjb25zdCB0PXRoaXMuZ2V0Rmlyc3RSYW5nZSgpO2Zvcihjb25zdCBvIG9mIHQpe2lmKG8uaXRlbS5pcyhcImVsZW1lbnRcIikmJmUuaXNPYmplY3Qoby5pdGVtKSlicmVhaztcInRleHRcIj09by50eXBlJiZudWxsPT09biYmKG49by5pdGVtLmdldEF0dHJpYnV0ZXMoKSl9fXJldHVybiBufV9maXhHcmF2ZXlhcmRTZWxlY3Rpb24odCxlKXtjb25zdCBuPUhzLmNyZWF0ZUZyb21Qb3NpdGlvbihlKSxvPXRoaXMuX21vZGVsLnNjaGVtYS5nZXROZWFyZXN0U2VsZWN0aW9uUmFuZ2UobiksaT10aGlzLl9yYW5nZXMuaW5kZXhPZih0KTtpZih0aGlzLl9yYW5nZXMuc3BsaWNlKGksMSksdC5kZXRhY2goKSxvKXtjb25zdCB0PXRoaXMuX3ByZXBhcmVSYW5nZShvKTt0aGlzLl9yYW5nZXMuc3BsaWNlKGksMCx0KX19fWZ1bmN0aW9uIG9hKHQpe3JldHVybiB0IGluc3RhbmNlb2YgTHN8fHQgaW5zdGFuY2VvZiBqcz90LmdldEF0dHJpYnV0ZXMoKTpudWxsfXZhciBpYT0xLHJhPTQ7dmFyIHNhPWZ1bmN0aW9uKHQpe3JldHVybiBpbyh0LGlhfHJhKX07ZnVuY3Rpb24gYWEodCl7cmV0dXJuKHQ9c2EodCkpLnZpZXc9ZGEodC52aWV3LFwiY29udGFpbmVyXCIpLGU9PntlLm9uKFwiaW5zZXJ0OlwiK3QubW9kZWwsZnVuY3Rpb24odCl7cmV0dXJuKGUsbixvKT0+e2NvbnN0IGk9dChuLml0ZW0sby53cml0ZXIpO2lmKCFpKXJldHVybjtpZighby5jb25zdW1hYmxlLmNvbnN1bWUobi5pdGVtLFwiaW5zZXJ0XCIpKXJldHVybjtjb25zdCByPW8ubWFwcGVyLnRvVmlld1Bvc2l0aW9uKG4ucmFuZ2Uuc3RhcnQpO28ubWFwcGVyLmJpbmRFbGVtZW50cyhuLml0ZW0saSksby53cml0ZXIuaW5zZXJ0KHIsaSl9fSh0LnZpZXcpLHtwcmlvcml0eTp0LmNvbnZlcnRlclByaW9yaXR5fHxcIm5vcm1hbFwifSl9fWZ1bmN0aW9uIGNhKHQpe2xldCBlPVwiYXR0cmlidXRlOlwiKygodD1zYSh0KSkubW9kZWwua2V5P3QubW9kZWwua2V5OnQubW9kZWwpO2lmKHQubW9kZWwubmFtZSYmKGUrPVwiOlwiK3QubW9kZWwubmFtZSksdC5tb2RlbC52YWx1ZXMpZm9yKGNvbnN0IGUgb2YgdC5tb2RlbC52YWx1ZXMpdC52aWV3W2VdPWRhKHQudmlld1tlXSxcImF0dHJpYnV0ZVwiKTtlbHNlIHQudmlldz1kYSh0LnZpZXcsXCJhdHRyaWJ1dGVcIik7Y29uc3Qgbj11YSh0KTtyZXR1cm4gbz0+e28ub24oZSxmdW5jdGlvbih0KXtyZXR1cm4oZSxuLG8pPT57Y29uc3QgaT10KG4uYXR0cmlidXRlT2xkVmFsdWUsby53cml0ZXIpLHI9dChuLmF0dHJpYnV0ZU5ld1ZhbHVlLG8ud3JpdGVyKTtpZighaSYmIXIpcmV0dXJuO2lmKCFvLmNvbnN1bWFibGUuY29uc3VtZShuLml0ZW0sZS5uYW1lKSlyZXR1cm47Y29uc3Qgcz1vLndyaXRlcixhPXMuZG9jdW1lbnQuc2VsZWN0aW9uO2lmKG4uaXRlbSBpbnN0YW5jZW9mIEpzfHxuLml0ZW0gaW5zdGFuY2VvZiBlYSlzLndyYXAoYS5nZXRGaXJzdFJhbmdlKCkscik7ZWxzZXtsZXQgdD1vLm1hcHBlci50b1ZpZXdSYW5nZShuLnJhbmdlKTtudWxsIT09bi5hdHRyaWJ1dGVPbGRWYWx1ZSYmaSYmKHQ9cy51bndyYXAodCxpKSksbnVsbCE9PW4uYXR0cmlidXRlTmV3VmFsdWUmJnImJnMud3JhcCh0LHIpfX19KG4pLHtwcmlvcml0eTp0LmNvbnZlcnRlclByaW9yaXR5fHxcIm5vcm1hbFwifSl9fWZ1bmN0aW9uIGxhKHQpe2xldCBlPVwiYXR0cmlidXRlOlwiKygodD1zYSh0KSkubW9kZWwua2V5P3QubW9kZWwua2V5OnQubW9kZWwpO2lmKHQubW9kZWwubmFtZSYmKGUrPVwiOlwiK3QubW9kZWwubmFtZSksdC5tb2RlbC52YWx1ZXMpZm9yKGNvbnN0IGUgb2YgdC5tb2RlbC52YWx1ZXMpdC52aWV3W2VdPWhhKHQudmlld1tlXSk7ZWxzZSB0LnZpZXc9aGEodC52aWV3KTtjb25zdCBuPXVhKHQpO3JldHVybiBvPT57by5vbihlLGZ1bmN0aW9uKHQpe3JldHVybiB0PXR8fCgodCxlKT0+KHt2YWx1ZTp0LGtleTplLmF0dHJpYnV0ZUtleX0pKSwoZSxuLG8pPT57Y29uc3QgaT10KG4uYXR0cmlidXRlT2xkVmFsdWUsbikscj10KG4uYXR0cmlidXRlTmV3VmFsdWUsbik7aWYoIWkmJiFyKXJldHVybjtpZighby5jb25zdW1hYmxlLmNvbnN1bWUobi5pdGVtLGUubmFtZSkpcmV0dXJuO2NvbnN0IHM9by5tYXBwZXIudG9WaWV3RWxlbWVudChuLml0ZW0pLGE9by53cml0ZXI7aWYobnVsbCE9PW4uYXR0cmlidXRlT2xkVmFsdWUmJmkpaWYoXCJjbGFzc1wiPT1pLmtleSl7Y29uc3QgdD1BcnJheS5pc0FycmF5KGkudmFsdWUpP2kudmFsdWU6W2kudmFsdWVdO2Zvcihjb25zdCBlIG9mIHQpYS5yZW1vdmVDbGFzcyhlLHMpfWVsc2UgaWYoXCJzdHlsZVwiPT1pLmtleSl7Y29uc3QgdD1PYmplY3Qua2V5cyhpLnZhbHVlKTtmb3IoY29uc3QgZSBvZiB0KWEucmVtb3ZlU3R5bGUoZSxzKX1lbHNlIGEucmVtb3ZlQXR0cmlidXRlKGkua2V5LHMpO2lmKG51bGwhPT1uLmF0dHJpYnV0ZU5ld1ZhbHVlJiZyKWlmKFwiY2xhc3NcIj09ci5rZXkpe2NvbnN0IHQ9QXJyYXkuaXNBcnJheShyLnZhbHVlKT9yLnZhbHVlOltyLnZhbHVlXTtmb3IoY29uc3QgZSBvZiB0KWEuYWRkQ2xhc3MoZSxzKX1lbHNlIGlmKFwic3R5bGVcIj09ci5rZXkpe2NvbnN0IHQ9T2JqZWN0LmtleXMoci52YWx1ZSk7Zm9yKGNvbnN0IGUgb2YgdClhLnNldFN0eWxlKGUsci52YWx1ZVtlXSxzKX1lbHNlIGEuc2V0QXR0cmlidXRlKHIua2V5LHIudmFsdWUscyl9fShuKSx7cHJpb3JpdHk6dC5jb252ZXJ0ZXJQcmlvcml0eXx8XCJub3JtYWxcIn0pfX1mdW5jdGlvbiBkYSh0LGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dDoobixvKT0+KGZ1bmN0aW9uKHQsZSxuKXtcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9e25hbWU6dH0pO2xldCBvO2NvbnN0IGk9T2JqZWN0LmFzc2lnbih7fSx0LmF0dHJpYnV0ZXMpO2lmKFwiY29udGFpbmVyXCI9PW4pbz1lLmNyZWF0ZUNvbnRhaW5lckVsZW1lbnQodC5uYW1lLGkpO2Vsc2UgaWYoXCJhdHRyaWJ1dGVcIj09bil7Y29uc3Qgbj17cHJpb3JpdHk6dC5wcmlvcml0eXx8b2kuREVGQVVMVF9QUklPUklUWX07bz1lLmNyZWF0ZUF0dHJpYnV0ZUVsZW1lbnQodC5uYW1lLGksbil9ZWxzZSBvPWUuY3JlYXRlVUlFbGVtZW50KHQubmFtZSxpKTtpZih0LnN0eWxlcyl7Y29uc3Qgbj1PYmplY3Qua2V5cyh0LnN0eWxlcyk7Zm9yKGNvbnN0IGkgb2YgbillLnNldFN0eWxlKGksdC5zdHlsZXNbaV0sbyl9aWYodC5jbGFzc2VzKXtjb25zdCBuPXQuY2xhc3NlcztpZihcInN0cmluZ1wiPT10eXBlb2YgbillLmFkZENsYXNzKG4sbyk7ZWxzZSBmb3IoY29uc3QgdCBvZiBuKWUuYWRkQ2xhc3ModCxvKX1yZXR1cm4gb30pKHQsbyxlKX1mdW5jdGlvbiB1YSh0KXtyZXR1cm4gdC5tb2RlbC52YWx1ZXM/KGUsbik9Pntjb25zdCBvPXQudmlld1tlXTtyZXR1cm4gbz9vKGUsbik6bnVsbH06dC52aWV3fWZ1bmN0aW9uIGhhKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P2U9Pih7a2V5OnQsdmFsdWU6ZX0pOlwib2JqZWN0XCI9PXR5cGVvZiB0P3QudmFsdWU/KCk9PnQ6ZT0+KHtrZXk6dC5rZXksdmFsdWU6ZX0pOnR9Y2xhc3MgZmF7Y29uc3RydWN0b3IodCl7dGhpcy5tb2RlbD10LHRoaXMudmlldz1uZXcgT3MsdGhpcy5tYXBwZXI9bmV3IFdzLHRoaXMuZG93bmNhc3REaXNwYXRjaGVyPW5ldyAkcyh7bWFwcGVyOnRoaXMubWFwcGVyfSk7Y29uc3QgZT10aGlzLm1vZGVsLmRvY3VtZW50LG49ZS5zZWxlY3Rpb24sbz10aGlzLm1vZGVsLm1hcmtlcnM7dGhpcy5saXN0ZW5Ubyh0aGlzLm1vZGVsLFwiX2JlZm9yZUNoYW5nZXNcIiwoKT0+e3RoaXMudmlldy5fcmVuZGVyaW5nRGlzYWJsZWQ9ITB9LHtwcmlvcml0eTpcImhpZ2hlc3RcIn0pLHRoaXMubGlzdGVuVG8odGhpcy5tb2RlbCxcIl9hZnRlckNoYW5nZXNcIiwoKT0+e3RoaXMudmlldy5fcmVuZGVyaW5nRGlzYWJsZWQ9ITEsdGhpcy52aWV3LnJlbmRlcigpfSx7cHJpb3JpdHk6XCJsb3dlc3RcIn0pLHRoaXMubGlzdGVuVG8oZSxcImNoYW5nZVwiLCgpPT57dGhpcy52aWV3LmNoYW5nZSh0PT57dGhpcy5kb3duY2FzdERpc3BhdGNoZXIuY29udmVydENoYW5nZXMoZS5kaWZmZXIsdCksdGhpcy5kb3duY2FzdERpc3BhdGNoZXIuY29udmVydFNlbGVjdGlvbihuLG8sdCl9KX0se3ByaW9yaXR5OlwibG93XCJ9KSx0aGlzLmxpc3RlblRvKHRoaXMudmlldy5kb2N1bWVudCxcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKHQsZSl7cmV0dXJuKG4sbyk9Pntjb25zdCBpPW8ubmV3U2VsZWN0aW9uLHI9bmV3IEpzLHM9W107Zm9yKGNvbnN0IHQgb2YgaS5nZXRSYW5nZXMoKSlzLnB1c2goZS50b01vZGVsUmFuZ2UodCkpO3Iuc2V0VG8ocyx7YmFja3dhcmQ6aS5pc0JhY2t3YXJkfSksci5pc0VxdWFsKHQuZG9jdW1lbnQuc2VsZWN0aW9uKXx8dC5jaGFuZ2UodD0+e3Quc2V0U2VsZWN0aW9uKHIpfSl9fSh0aGlzLm1vZGVsLHRoaXMubWFwcGVyKSksdGhpcy5kb3duY2FzdERpc3BhdGNoZXIub24oXCJpbnNlcnQ6JHRleHRcIiwodCxlLG4pPT57aWYoIW4uY29uc3VtYWJsZS5jb25zdW1lKGUuaXRlbSxcImluc2VydFwiKSlyZXR1cm47Y29uc3Qgbz1uLndyaXRlcixpPW4ubWFwcGVyLnRvVmlld1Bvc2l0aW9uKGUucmFuZ2Uuc3RhcnQpLHI9by5jcmVhdGVUZXh0KGUuaXRlbS5kYXRhKTtvLmluc2VydChpLHIpfSx7cHJpb3JpdHk6XCJsb3dlc3RcIn0pLHRoaXMuZG93bmNhc3REaXNwYXRjaGVyLm9uKFwicmVtb3ZlXCIsKHQsZSxuKT0+e2NvbnN0IG89bi5tYXBwZXIudG9WaWV3UG9zaXRpb24oZS5wb3NpdGlvbiksaT1lLnBvc2l0aW9uLmdldFNoaWZ0ZWRCeShlLmxlbmd0aCkscj1uLm1hcHBlci50b1ZpZXdQb3NpdGlvbihpLHtpc1BoYW50b206ITB9KSxzPW5ldyBRbyhvLHIpLGE9bi53cml0ZXIucmVtb3ZlKHMuZ2V0VHJpbW1lZCgpKTtmb3IoY29uc3QgdCBvZiBRby5jcmVhdGVJbihhKS5nZXRJdGVtcygpKW4ubWFwcGVyLnVuYmluZFZpZXdFbGVtZW50KHQpfSx7cHJpb3JpdHk6XCJsb3dcIn0pLHRoaXMuZG93bmNhc3REaXNwYXRjaGVyLm9uKFwic2VsZWN0aW9uXCIsKHQsZSxuKT0+e2NvbnN0IG89bi53cml0ZXIsaT1vLmRvY3VtZW50LnNlbGVjdGlvbjtmb3IoY29uc3QgdCBvZiBpLmdldFJhbmdlcygpKXQuaXNDb2xsYXBzZWQmJnQuZW5kLnBhcmVudC5kb2N1bWVudCYmbi53cml0ZXIubWVyZ2VBdHRyaWJ1dGVzKHQuc3RhcnQpO28uc2V0U2VsZWN0aW9uKG51bGwpfSx7cHJpb3JpdHk6XCJsb3dcIn0pLHRoaXMuZG93bmNhc3REaXNwYXRjaGVyLm9uKFwic2VsZWN0aW9uXCIsKHQsZSxuKT0+e2NvbnN0IG89ZS5zZWxlY3Rpb247aWYoby5pc0NvbGxhcHNlZClyZXR1cm47aWYoIW4uY29uc3VtYWJsZS5jb25zdW1lKG8sXCJzZWxlY3Rpb25cIikpcmV0dXJuO2NvbnN0IGk9W107Zm9yKGNvbnN0IHQgb2Ygby5nZXRSYW5nZXMoKSl7Y29uc3QgZT1uLm1hcHBlci50b1ZpZXdSYW5nZSh0KTtpLnB1c2goZSl9bi53cml0ZXIuc2V0U2VsZWN0aW9uKGkse2JhY2t3YXJkOm8uaXNCYWNrd2FyZH0pfSx7cHJpb3JpdHk6XCJsb3dcIn0pLHRoaXMuZG93bmNhc3REaXNwYXRjaGVyLm9uKFwic2VsZWN0aW9uXCIsKHQsZSxuKT0+e2NvbnN0IG89ZS5zZWxlY3Rpb247aWYoIW8uaXNDb2xsYXBzZWQpcmV0dXJuO2lmKCFuLmNvbnN1bWFibGUuY29uc3VtZShvLFwic2VsZWN0aW9uXCIpKXJldHVybjtjb25zdCBpPW4ud3JpdGVyLHI9by5nZXRGaXJzdFBvc2l0aW9uKCkscz1uLm1hcHBlci50b1ZpZXdQb3NpdGlvbihyKSxhPWkuYnJlYWtBdHRyaWJ1dGVzKHMpO2kuc2V0U2VsZWN0aW9uKGEpfSx7cHJpb3JpdHk6XCJsb3dcIn0pLHRoaXMudmlldy5kb2N1bWVudC5yb290cy5iaW5kVG8odGhpcy5tb2RlbC5kb2N1bWVudC5yb290cykudXNpbmcodD0+e2lmKFwiJGdyYXZleWFyZFwiPT10LnJvb3ROYW1lKXJldHVybiBudWxsO2NvbnN0IGU9bmV3IFlvKHQubmFtZSk7cmV0dXJuIGUucm9vdE5hbWU9dC5yb290TmFtZSxlLl9kb2N1bWVudD10aGlzLnZpZXcuZG9jdW1lbnQsdGhpcy5tYXBwZXIuYmluZEVsZW1lbnRzKHQsZSksZX0pfWRlc3Ryb3koKXt0aGlzLnZpZXcuZGVzdHJveSgpLHRoaXMuc3RvcExpc3RlbmluZygpfX1CKGZhLExvKTtjbGFzcyBtYXtjb25zdHJ1Y3Rvcih0LGU9W10pe3RoaXMuX2VkaXRvcj10LHRoaXMuX2F2YWlsYWJsZVBsdWdpbnM9bmV3IE1hcCx0aGlzLl9wbHVnaW5zPW5ldyBNYXA7Zm9yKGNvbnN0IHQgb2YgZSl0aGlzLl9hdmFpbGFibGVQbHVnaW5zLnNldCh0LHQpLHQucGx1Z2luTmFtZSYmdGhpcy5fYXZhaWxhYmxlUGx1Z2lucy5zZXQodC5wbHVnaW5OYW1lLHQpfSpbU3ltYm9sLml0ZXJhdG9yXSgpe2Zvcihjb25zdCB0IG9mIHRoaXMuX3BsdWdpbnMpXCJmdW5jdGlvblwiPT10eXBlb2YgdFswXSYmKHlpZWxkIHQpfWdldCh0KXtyZXR1cm4gdGhpcy5fcGx1Z2lucy5nZXQodCl9bG9hZCh0LGU9W10pe2NvbnN0IG49dGhpcyxvPXRoaXMuX2VkaXRvcixpPW5ldyBTZXQscj1bXSxzPXUodCksYT11KGUpLGM9ZnVuY3Rpb24odCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgbiBvZiB0KWQobil8fGUucHVzaChuKTtyZXR1cm4gZS5sZW5ndGg/ZTpudWxsfSh0KTtpZihjKXtjb25zdCB0PVwicGx1Z2luY29sbGVjdGlvbi1wbHVnaW4tbm90LWZvdW5kOiBTb21lIHBsdWdpbnMgYXJlIG5vdCBhdmFpbGFibGUgYW5kIGNvdWxkIG5vdCBiZSBsb2FkZWQuXCI7cmV0dXJuIGZzLmEuZXJyb3IodCx7cGx1Z2luczpjfSksUHJvbWlzZS5yZWplY3QobmV3IE0uYih0LHtwbHVnaW5zOmN9KSl9cmV0dXJuIFByb21pc2UuYWxsKHMubWFwKGwpKS50aGVuKCgpPT5yKTtmdW5jdGlvbiBsKHQpe2lmKCFhLmluY2x1ZGVzKHQpJiYhbi5nZXQodCkmJiFpLmhhcyh0KSlyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBQcm9taXNlKHM9PntpLmFkZCh0KSx0LnJlcXVpcmVzJiZ0LnJlcXVpcmVzLmZvckVhY2gobj0+e2NvbnN0IG89ZChuKTtpZihlLmluY2x1ZGVzKG8pKXRocm93IG5ldyBNLmIoXCJwbHVnaW5jb2xsZWN0aW9uLXJlcXVpcmVkOiBDYW5ub3QgbG9hZCBhIHBsdWdpbiBiZWNhdXNlIG9uZSBvZiBpdHMgZGVwZW5kZW5jaWVzIGlzIGxpc3RlZCBpbnRoZSBgcmVtb3ZlUGx1Z2luc2Agb3B0aW9uLlwiLHtwbHVnaW46byxyZXF1aXJlZEJ5OnR9KTtsKG8pfSk7Y29uc3QgYT1uZXcgdChvKTtuLl9hZGQodCxhKSxyLnB1c2goYSkscygpfSl9KHQpLmNhdGNoKGU9Pnt0aHJvdyBmcy5hLmVycm9yKFwicGx1Z2luY29sbGVjdGlvbi1sb2FkOiBJdCB3YXMgbm90IHBvc3NpYmxlIHRvIGxvYWQgdGhlIHBsdWdpbi5cIix7cGx1Z2luOnR9KSxlfSl9ZnVuY3Rpb24gZCh0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q6bi5fYXZhaWxhYmxlUGx1Z2lucy5nZXQodCl9ZnVuY3Rpb24gdSh0KXtyZXR1cm4gdC5tYXAodD0+ZCh0KSkuZmlsdGVyKHQ9PiEhdCl9fWRlc3Ryb3koKXtjb25zdCB0PUFycmF5LmZyb20odGhpcykubWFwKChbLHRdKT0+dCkuZmlsdGVyKHQ9PlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZGVzdHJveSkubWFwKHQ9PnQuZGVzdHJveSgpKTtyZXR1cm4gUHJvbWlzZS5hbGwodCl9X2FkZCh0LGUpe3RoaXMuX3BsdWdpbnMuc2V0KHQsZSk7Y29uc3Qgbj10LnBsdWdpbk5hbWU7biYmKHRoaXMuX3BsdWdpbnMuaGFzKG4pP2ZzLmEud2FybihcInBsdWdpbmNvbGxlY3Rpb24tcGx1Z2luLW5hbWUtY29uZmxpY3Q6IFR3byBwbHVnaW5zIHdpdGggdGhlIHNhbWUgbmFtZSB3ZXJlIGxvYWRlZC5cIix7cGx1Z2luTmFtZTpuLHBsdWdpbjE6dGhpcy5fcGx1Z2lucy5nZXQobikuY29uc3RydWN0b3IscGx1Z2luMjp0fSk6dGhpcy5fcGx1Z2lucy5zZXQobixlKSl9fWNsYXNzIGdhe2NvbnN0cnVjdG9yKCl7dGhpcy5fY29tbWFuZHM9bmV3IE1hcH1hZGQodCxlKXt0aGlzLl9jb21tYW5kcy5zZXQodCxlKX1nZXQodCl7cmV0dXJuIHRoaXMuX2NvbW1hbmRzLmdldCh0KX1leGVjdXRlKHQsLi4uZSl7Y29uc3Qgbj10aGlzLmdldCh0KTtpZighbil0aHJvdyBuZXcgTS5iKFwiY29tbWFuZGNvbGxlY3Rpb24tY29tbWFuZC1ub3QtZm91bmQ6IENvbW1hbmQgZG9lcyBub3QgZXhpc3QuXCIse2NvbW1hbmROYW1lOnR9KTtuLmV4ZWN1dGUoLi4uZSl9Km5hbWVzKCl7eWllbGQqdGhpcy5fY29tbWFuZHMua2V5cygpfSpjb21tYW5kcygpe3lpZWxkKnRoaXMuX2NvbW1hbmRzLnZhbHVlcygpfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXMuX2NvbW1hbmRzW1N5bWJvbC5pdGVyYXRvcl0oKX1kZXN0cm95KCl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5jb21tYW5kcygpKXQuZGVzdHJveSgpfX1mdW5jdGlvbiBwYSh0LGUpe2NvbnN0IG49T2JqZWN0LmtleXMod2luZG93LkNLRURJVE9SX1RSQU5TTEFUSU9OUykubGVuZ3RoO3JldHVybiAxPT09biYmKHQ9T2JqZWN0LmtleXMod2luZG93LkNLRURJVE9SX1RSQU5TTEFUSU9OUylbMF0pLDAhPT1uJiZmdW5jdGlvbih0LGUpe3JldHVybiB0IGluIHdpbmRvdy5DS0VESVRPUl9UUkFOU0xBVElPTlMmJmUgaW4gd2luZG93LkNLRURJVE9SX1RSQU5TTEFUSU9OU1t0XX0odCxlKT93aW5kb3cuQ0tFRElUT1JfVFJBTlNMQVRJT05TW3RdW2VdLnJlcGxhY2UoLyBcXFtjb250ZXh0OiBbXlxcXV0rXFxdJC8sXCJcIik6ZS5yZXBsYWNlKC8gXFxbY29udGV4dDogW15cXF1dK1xcXSQvLFwiXCIpfXdpbmRvdy5DS0VESVRPUl9UUkFOU0xBVElPTlN8fCh3aW5kb3cuQ0tFRElUT1JfVFJBTlNMQVRJT05TPXt9KTtjbGFzcyBiYXtjb25zdHJ1Y3Rvcih0KXt0aGlzLmxhbmd1YWdlPXR8fFwiZW5cIix0aGlzLnQ9KCguLi50KT0+dGhpcy5fdCguLi50KSl9X3QodCxlKXtsZXQgbj1wYSh0aGlzLmxhbmd1YWdlLHQpO3JldHVybiBlJiYobj1uLnJlcGxhY2UoLyUoXFxkKykvZywodCxuKT0+bjxlLmxlbmd0aD9lW25dOnQpKSxufX1jbGFzcyB3YXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2NvbnN1bWFibGVzPW5ldyBNYXB9YWRkKHQsZSl7bGV0IG47dC5pcyhcInRleHRcIil8fHQuaXMoXCJkb2N1bWVudEZyYWdtZW50XCIpP3RoaXMuX2NvbnN1bWFibGVzLnNldCh0LCEwKToodGhpcy5fY29uc3VtYWJsZXMuaGFzKHQpP249dGhpcy5fY29uc3VtYWJsZXMuZ2V0KHQpOihuPW5ldyBfYSx0aGlzLl9jb25zdW1hYmxlcy5zZXQodCxuKSksbi5hZGQoZSkpfXRlc3QodCxlKXtjb25zdCBuPXRoaXMuX2NvbnN1bWFibGVzLmdldCh0KTtyZXR1cm4gdm9pZCAwPT09bj9udWxsOnQuaXMoXCJ0ZXh0XCIpfHx0LmlzKFwiZG9jdW1lbnRGcmFnbWVudFwiKT9uOm4udGVzdChlKX1jb25zdW1lKHQsZSl7cmV0dXJuISF0aGlzLnRlc3QodCxlKSYmKHQuaXMoXCJ0ZXh0XCIpfHx0LmlzKFwiZG9jdW1lbnRGcmFnbWVudFwiKT90aGlzLl9jb25zdW1hYmxlcy5zZXQodCwhMSk6dGhpcy5fY29uc3VtYWJsZXMuZ2V0KHQpLmNvbnN1bWUoZSksITApfXJldmVydCh0LGUpe2NvbnN0IG49dGhpcy5fY29uc3VtYWJsZXMuZ2V0KHQpO3ZvaWQgMCE9PW4mJih0LmlzKFwidGV4dFwiKXx8dC5pcyhcImRvY3VtZW50RnJhZ21lbnRcIik/dGhpcy5fY29uc3VtYWJsZXMuc2V0KHQsITApOm4ucmV2ZXJ0KGUpKX1zdGF0aWMgY29uc3VtYWJsZXNGcm9tRWxlbWVudCh0KXtjb25zdCBlPXtuYW1lOiEwLGF0dHJpYnV0ZXM6W10sY2xhc3NlczpbXSxzdHlsZXM6W119LG49dC5nZXRBdHRyaWJ1dGVLZXlzKCk7Zm9yKGNvbnN0IHQgb2YgbilcInN0eWxlXCIhPXQmJlwiY2xhc3NcIiE9dCYmZS5hdHRyaWJ1dGVzLnB1c2godCk7Y29uc3Qgbz10LmdldENsYXNzTmFtZXMoKTtmb3IoY29uc3QgdCBvZiBvKWUuY2xhc3Nlcy5wdXNoKHQpO2NvbnN0IGk9dC5nZXRTdHlsZU5hbWVzKCk7Zm9yKGNvbnN0IHQgb2YgaSllLnN0eWxlcy5wdXNoKHQpO3JldHVybiBlfXN0YXRpYyBjcmVhdGVGcm9tKHQsZSl7aWYoZXx8KGU9bmV3IHdhKSx0LmlzKFwidGV4dFwiKSlyZXR1cm4gZS5hZGQodCksZTt0LmlzKFwiZWxlbWVudFwiKSYmZS5hZGQodCx3YS5jb25zdW1hYmxlc0Zyb21FbGVtZW50KHQpKSx0LmlzKFwiZG9jdW1lbnRGcmFnbWVudFwiKSYmZS5hZGQodCk7Zm9yKGNvbnN0IG4gb2YgdC5nZXRDaGlsZHJlbigpKWU9d2EuY3JlYXRlRnJvbShuLGUpO3JldHVybiBlfX1jbGFzcyBfYXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2NhbkNvbnN1bWVOYW1lPW51bGwsdGhpcy5fY29uc3VtYWJsZXM9e2F0dHJpYnV0ZXM6bmV3IE1hcCxzdHlsZXM6bmV3IE1hcCxjbGFzc2VzOm5ldyBNYXB9fWFkZCh0KXt0Lm5hbWUmJih0aGlzLl9jYW5Db25zdW1lTmFtZT0hMCk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fY29uc3VtYWJsZXMpZSBpbiB0JiZ0aGlzLl9hZGQoZSx0W2VdKX10ZXN0KHQpe2lmKHQubmFtZSYmIXRoaXMuX2NhbkNvbnN1bWVOYW1lKXJldHVybiB0aGlzLl9jYW5Db25zdW1lTmFtZTtmb3IoY29uc3QgZSBpbiB0aGlzLl9jb25zdW1hYmxlcylpZihlIGluIHQpe2NvbnN0IG49dGhpcy5fdGVzdChlLHRbZV0pO2lmKCEwIT09bilyZXR1cm4gbn1yZXR1cm4hMH1jb25zdW1lKHQpe3QubmFtZSYmKHRoaXMuX2NhbkNvbnN1bWVOYW1lPSExKTtmb3IoY29uc3QgZSBpbiB0aGlzLl9jb25zdW1hYmxlcyllIGluIHQmJnRoaXMuX2NvbnN1bWUoZSx0W2VdKX1yZXZlcnQodCl7dC5uYW1lJiYodGhpcy5fY2FuQ29uc3VtZU5hbWU9ITApO2Zvcihjb25zdCBlIGluIHRoaXMuX2NvbnN1bWFibGVzKWUgaW4gdCYmdGhpcy5fcmV2ZXJ0KGUsdFtlXSl9X2FkZCh0LGUpe2NvbnN0IG49Y2UoZSk/ZTpbZV0sbz10aGlzLl9jb25zdW1hYmxlc1t0XTtmb3IoY29uc3QgZSBvZiBuKXtpZihcImF0dHJpYnV0ZXNcIj09PXQmJihcImNsYXNzXCI9PT1lfHxcInN0eWxlXCI9PT1lKSl0aHJvdyBuZXcgTS5iKFwidmlld2NvbnN1bWFibGUtaW52YWxpZC1hdHRyaWJ1dGU6IENsYXNzZXMgYW5kIHN0eWxlcyBzaG91bGQgYmUgaGFuZGxlZCBzZXBhcmF0ZWx5LlwiKTtvLnNldChlLCEwKX19X3Rlc3QodCxlKXtjb25zdCBuPWNlKGUpP2U6W2VdLG89dGhpcy5fY29uc3VtYWJsZXNbdF07Zm9yKGNvbnN0IGUgb2YgbilpZihcImF0dHJpYnV0ZXNcIiE9PXR8fFwiY2xhc3NcIiE9PWUmJlwic3R5bGVcIiE9PWUpe2NvbnN0IHQ9by5nZXQoZSk7aWYodm9pZCAwPT09dClyZXR1cm4gbnVsbDtpZighdClyZXR1cm4hMX1lbHNle2NvbnN0IHQ9XCJjbGFzc1wiPT1lP1wiY2xhc3Nlc1wiOlwic3R5bGVzXCIsbj10aGlzLl90ZXN0KHQsWy4uLnRoaXMuX2NvbnN1bWFibGVzW3RdLmtleXMoKV0pO2lmKCEwIT09bilyZXR1cm4gbn1yZXR1cm4hMH1fY29uc3VtZSh0LGUpe2NvbnN0IG49Y2UoZSk/ZTpbZV0sbz10aGlzLl9jb25zdW1hYmxlc1t0XTtmb3IoY29uc3QgZSBvZiBuKWlmKFwiYXR0cmlidXRlc1wiIT09dHx8XCJjbGFzc1wiIT09ZSYmXCJzdHlsZVwiIT09ZSlvLnNldChlLCExKTtlbHNle2NvbnN0IHQ9XCJjbGFzc1wiPT1lP1wiY2xhc3Nlc1wiOlwic3R5bGVzXCI7dGhpcy5fY29uc3VtZSh0LFsuLi50aGlzLl9jb25zdW1hYmxlc1t0XS5rZXlzKCldKX19X3JldmVydCh0LGUpe2NvbnN0IG49Y2UoZSk/ZTpbZV0sbz10aGlzLl9jb25zdW1hYmxlc1t0XTtmb3IoY29uc3QgZSBvZiBuKWlmKFwiYXR0cmlidXRlc1wiIT09dHx8XCJjbGFzc1wiIT09ZSYmXCJzdHlsZVwiIT09ZSl7ITE9PT1vLmdldChlKSYmby5zZXQoZSwhMCl9ZWxzZXtjb25zdCB0PVwiY2xhc3NcIj09ZT9cImNsYXNzZXNcIjpcInN0eWxlc1wiO3RoaXMuX3JldmVydCh0LFsuLi50aGlzLl9jb25zdW1hYmxlc1t0XS5rZXlzKCldKX19fWNsYXNzIHZhe2NvbnN0cnVjdG9yKCl7dGhpcy5fc291cmNlRGVmaW5pdGlvbnM9e30sdGhpcy5kZWNvcmF0ZShcImNoZWNrQ2hpbGRcIiksdGhpcy5kZWNvcmF0ZShcImNoZWNrQXR0cmlidXRlXCIpLHRoaXMub24oXCJjaGVja0F0dHJpYnV0ZVwiLCh0LGUpPT57ZVswXT1uZXcga2EoZVswXSl9LHtwcmlvcml0eTpcImhpZ2hlc3RcIn0pLHRoaXMub24oXCJjaGVja0NoaWxkXCIsKHQsZSk9PntlWzBdPW5ldyBrYShlWzBdKSxlWzFdPXRoaXMuZ2V0RGVmaW5pdGlvbihlWzFdKX0se3ByaW9yaXR5OlwiaGlnaGVzdFwifSl9cmVnaXN0ZXIodCxlKXtpZih0aGlzLl9zb3VyY2VEZWZpbml0aW9uc1t0XSl0aHJvdyBuZXcgTS5iKFwic2NoZW1hLWNhbm5vdC1yZWdpc3Rlci1pdGVtLXR3aWNlOiBBIHNpbmdsZSBpdGVtIGNhbm5vdCBiZSByZWdpc3RlcmVkIHR3aWNlIGluIHRoZSBzY2hlbWEuXCIse2l0ZW1OYW1lOnR9KTt0aGlzLl9zb3VyY2VEZWZpbml0aW9uc1t0XT1bT2JqZWN0LmFzc2lnbih7fSxlKV0sdGhpcy5fY2xlYXJDYWNoZSgpfWV4dGVuZCh0LGUpe2lmKCF0aGlzLl9zb3VyY2VEZWZpbml0aW9uc1t0XSl0aHJvdyBuZXcgTS5iKFwic2NoZW1hLWNhbm5vdC1leHRlbmQtbWlzc2luZy1pdGVtOiBDYW5ub3QgZXh0ZW5kIGFuIGl0ZW0gd2hpY2ggd2FzIG5vdCByZWdpc3RlcmVkIHlldC5cIix7aXRlbU5hbWU6dH0pO3RoaXMuX3NvdXJjZURlZmluaXRpb25zW3RdLnB1c2goT2JqZWN0LmFzc2lnbih7fSxlKSksdGhpcy5fY2xlYXJDYWNoZSgpfWdldERlZmluaXRpb25zKCl7cmV0dXJuIHRoaXMuX2NvbXBpbGVkRGVmaW5pdGlvbnN8fHRoaXMuX2NvbXBpbGUoKSx0aGlzLl9jb21waWxlZERlZmluaXRpb25zfWdldERlZmluaXRpb24odCl7bGV0IGU7cmV0dXJuIGU9XCJzdHJpbmdcIj09dHlwZW9mIHQ/dDp0LmlzJiYodC5pcyhcInRleHRcIil8fHQuaXMoXCJ0ZXh0UHJveHlcIikpP1wiJHRleHRcIjp0Lm5hbWUsdGhpcy5nZXREZWZpbml0aW9ucygpW2VdfWlzUmVnaXN0ZXJlZCh0KXtyZXR1cm4hIXRoaXMuZ2V0RGVmaW5pdGlvbih0KX1pc0Jsb2NrKHQpe2NvbnN0IGU9dGhpcy5nZXREZWZpbml0aW9uKHQpO3JldHVybiEoIWV8fCFlLmlzQmxvY2spfWlzTGltaXQodCl7Y29uc3QgZT10aGlzLmdldERlZmluaXRpb24odCk7cmV0dXJuISFlJiYhKCFlLmlzTGltaXQmJiFlLmlzT2JqZWN0KX1pc09iamVjdCh0KXtjb25zdCBlPXRoaXMuZ2V0RGVmaW5pdGlvbih0KTtyZXR1cm4hKCFlfHwhZS5pc09iamVjdCl9Y2hlY2tDaGlsZCh0LGUpe3JldHVybiEhZSYmdGhpcy5fY2hlY2tDb250ZXh0TWF0Y2goZSx0KX1jaGVja0F0dHJpYnV0ZSh0LGUpe2NvbnN0IG49dGhpcy5nZXREZWZpbml0aW9uKHQubGFzdCk7cmV0dXJuISFuJiZuLmFsbG93QXR0cmlidXRlcy5pbmNsdWRlcyhlKX1jaGVja01lcmdlKHQsZT1udWxsKXtpZih0IGluc3RhbmNlb2YgSHMpe2NvbnN0IGU9dC5ub2RlQmVmb3JlLG49dC5ub2RlQWZ0ZXI7aWYoIShlIGluc3RhbmNlb2YgRnMpKXRocm93IG5ldyBNLmIoXCJzY2hlbWEtY2hlY2stbWVyZ2Utbm8tZWxlbWVudC1iZWZvcmU6IFRoZSBub2RlIGJlZm9yZSB0aGUgbWVyZ2UgcG9zaXRpb24gbXVzdCBiZSBhbiBlbGVtZW50LlwiKTtpZighKG4gaW5zdGFuY2VvZiBGcykpdGhyb3cgbmV3IE0uYihcInNjaGVtYS1jaGVjay1tZXJnZS1uby1lbGVtZW50LWFmdGVyOiBUaGUgbm9kZSBhZnRlciB0aGUgbWVyZ2UgcG9zaXRpb24gbXVzdCBiZSBhbiBlbGVtZW50LlwiKTtyZXR1cm4gdGhpcy5jaGVja01lcmdlKGUsbil9Zm9yKGNvbnN0IG4gb2YgZS5nZXRDaGlsZHJlbigpKWlmKCF0aGlzLmNoZWNrQ2hpbGQodCxuKSlyZXR1cm4hMTtyZXR1cm4hMH1hZGRDaGlsZENoZWNrKHQpe3RoaXMub24oXCJjaGVja0NoaWxkXCIsKGUsW24sb10pPT57aWYoIW8pcmV0dXJuO2NvbnN0IGk9dChuLG8pO1wiYm9vbGVhblwiPT10eXBlb2YgaSYmKGUuc3RvcCgpLGUucmV0dXJuPWkpfSx7cHJpb3JpdHk6XCJoaWdoXCJ9KX1hZGRBdHRyaWJ1dGVDaGVjayh0KXt0aGlzLm9uKFwiY2hlY2tBdHRyaWJ1dGVcIiwoZSxbbixvXSk9Pntjb25zdCBpPXQobixvKTtcImJvb2xlYW5cIj09dHlwZW9mIGkmJihlLnN0b3AoKSxlLnJldHVybj1pKX0se3ByaW9yaXR5OlwiaGlnaFwifSl9Z2V0TGltaXRFbGVtZW50KHQpe2xldCBlO2lmKHQgaW5zdGFuY2VvZiBIcyllPXQucGFyZW50O2Vsc2V7ZT0odCBpbnN0YW5jZW9mIHFzP1t0XTpBcnJheS5mcm9tKHQuZ2V0UmFuZ2VzKCkpKS5yZWR1Y2UoKHQsZSk9Pntjb25zdCBuPWUuZ2V0Q29tbW9uQW5jZXN0b3IoKTtyZXR1cm4gdD90LmdldENvbW1vbkFuY2VzdG9yKG4se2luY2x1ZGVTZWxmOiEwfSk6bn0sbnVsbCl9Zm9yKDshdGhpcy5pc0xpbWl0KGUpJiZlLnBhcmVudDspZT1lLnBhcmVudDtyZXR1cm4gZX1jaGVja0F0dHJpYnV0ZUluU2VsZWN0aW9uKHQsZSl7aWYodC5pc0NvbGxhcHNlZCl7Y29uc3Qgbj1bLi4udC5nZXRGaXJzdFBvc2l0aW9uKCkuZ2V0QW5jZXN0b3JzKCksbmV3IGpzKFwiXCIsdC5nZXRBdHRyaWJ1dGVzKCkpXTtyZXR1cm4gdGhpcy5jaGVja0F0dHJpYnV0ZShuLGUpfXtjb25zdCBuPXQuZ2V0UmFuZ2VzKCk7Zm9yKGNvbnN0IHQgb2Ygbilmb3IoY29uc3QgbiBvZiB0KWlmKHRoaXMuY2hlY2tBdHRyaWJ1dGUobi5pdGVtLGUpKXJldHVybiEwfXJldHVybiExfSpnZXRWYWxpZFJhbmdlcyh0LGUpe3Q9ZnVuY3Rpb24qKHQpe2Zvcihjb25zdCBlIG9mIHQpeWllbGQqZS5nZXRNaW5pbWFsRmxhdFJhbmdlcygpfSh0KTtmb3IoY29uc3QgbiBvZiB0KXlpZWxkKnRoaXMuX2dldFZhbGlkUmFuZ2VzRm9yUmFuZ2UobixlKX0qX2dldFZhbGlkUmFuZ2VzRm9yUmFuZ2UodCxlKXtsZXQgbj10LnN0YXJ0LG89dC5zdGFydDtmb3IoY29uc3QgaSBvZiB0LmdldEl0ZW1zKHtzaGFsbG93OiEwfSkpaS5pcyhcImVsZW1lbnRcIikmJih5aWVsZCp0aGlzLl9nZXRWYWxpZFJhbmdlc0ZvclJhbmdlKHFzLmNyZWF0ZUluKGkpLGUpKSx0aGlzLmNoZWNrQXR0cmlidXRlKGksZSl8fChuLmlzRXF1YWwobyl8fCh5aWVsZCBuZXcgcXMobixvKSksbj1Icy5jcmVhdGVBZnRlcihpKSksbz1Icy5jcmVhdGVBZnRlcihpKTtuLmlzRXF1YWwobyl8fCh5aWVsZCBuZXcgcXMobixvKSl9Z2V0TmVhcmVzdFNlbGVjdGlvblJhbmdlKHQsZT1cImJvdGhcIil7aWYodGhpcy5jaGVja0NoaWxkKHQsXCIkdGV4dFwiKSlyZXR1cm4gbmV3IHFzKHQpO2xldCBuLG87XCJib3RoXCIhPWUmJlwiYmFja3dhcmRcIiE9ZXx8KG49bmV3IHpzKHtzdGFydFBvc2l0aW9uOnQsZGlyZWN0aW9uOlwiYmFja3dhcmRcIn0pKSxcImJvdGhcIiE9ZSYmXCJmb3J3YXJkXCIhPWV8fChvPW5ldyB6cyh7c3RhcnRQb3NpdGlvbjp0fSkpO2Zvcihjb25zdCB0IG9mIGZ1bmN0aW9uKih0LGUpe2xldCBuPSExO2Zvcig7IW47KXtpZihuPSEwLHQpe2NvbnN0IGU9dC5uZXh0KCk7ZS5kb25lfHwobj0hMSx5aWVsZHt3YWxrZXI6dCx2YWx1ZTplLnZhbHVlfSl9aWYoZSl7Y29uc3QgdD1lLm5leHQoKTt0LmRvbmV8fChuPSExLHlpZWxke3dhbGtlcjplLHZhbHVlOnQudmFsdWV9KX19fShuLG8pKXtjb25zdCBlPXQud2Fsa2VyPT1uP1wiZWxlbWVudEVuZFwiOlwiZWxlbWVudFN0YXJ0XCIsbz10LnZhbHVlO2lmKG8udHlwZT09ZSYmdGhpcy5pc09iamVjdChvLml0ZW0pKXJldHVybiBxcy5jcmVhdGVPbihvLml0ZW0pO2lmKHRoaXMuY2hlY2tDaGlsZChvLm5leHRQb3NpdGlvbixcIiR0ZXh0XCIpKXJldHVybiBuZXcgcXMoby5uZXh0UG9zaXRpb24pfXJldHVybiBudWxsfWZpbmRBbGxvd2VkUGFyZW50KHQsZSl7bGV0IG49ZS5wYXJlbnQ7Zm9yKDtuOyl7aWYodGhpcy5jaGVja0NoaWxkKG4sdCkpcmV0dXJuIG47aWYodGhpcy5pc0xpbWl0KG4pKXJldHVybiBudWxsO249bi5wYXJlbnR9cmV0dXJuIG51bGx9cmVtb3ZlRGlzYWxsb3dlZEF0dHJpYnV0ZXModCxlKXtmb3IoY29uc3QgbiBvZiB0KXtmb3IoY29uc3QgdCBvZiBuLmdldEF0dHJpYnV0ZUtleXMoKSl0aGlzLmNoZWNrQXR0cmlidXRlKG4sdCl8fGUucmVtb3ZlQXR0cmlidXRlKHQsbik7bi5pcyhcImVsZW1lbnRcIikmJnRoaXMucmVtb3ZlRGlzYWxsb3dlZEF0dHJpYnV0ZXMobi5nZXRDaGlsZHJlbigpLGUpfX1fY2xlYXJDYWNoZSgpe3RoaXMuX2NvbXBpbGVkRGVmaW5pdGlvbnM9bnVsbH1fY29tcGlsZSgpe2NvbnN0IHQ9e30sZT10aGlzLl9zb3VyY2VEZWZpbml0aW9ucyxuPU9iamVjdC5rZXlzKGUpO2Zvcihjb25zdCBvIG9mIG4pdFtvXT15YShlW29dLG8pO2Zvcihjb25zdCBlIG9mIG4peGEodCxlKTtmb3IoY29uc3QgZSBvZiBuKUFhKHQsZSk7Zm9yKGNvbnN0IGUgb2YgbilDYSh0LGUpLFRhKHQsZSk7Zm9yKGNvbnN0IGUgb2YgbilNYSh0LGUpLFBhKHQsZSk7dGhpcy5fY29tcGlsZWREZWZpbml0aW9ucz10fV9jaGVja0NvbnRleHRNYXRjaCh0LGUsbj1lLmxlbmd0aC0xKXtjb25zdCBvPWUuZ2V0SXRlbShuKTtpZih0LmFsbG93SW4uaW5jbHVkZXMoby5uYW1lKSl7aWYoMD09bilyZXR1cm4hMDt7Y29uc3QgdD10aGlzLmdldERlZmluaXRpb24obyk7cmV0dXJuIHRoaXMuX2NoZWNrQ29udGV4dE1hdGNoKHQsZSxuLTEpfX1yZXR1cm4hMX19Qih2YSxMbyk7Y2xhc3Mga2F7Y29uc3RydWN0b3IodCl7aWYodCBpbnN0YW5jZW9mIGthKXJldHVybiB0O1wic3RyaW5nXCI9PXR5cGVvZiB0P3Q9W3RdOkFycmF5LmlzQXJyYXkodCl8fCh0PXQuZ2V0QW5jZXN0b3JzKHtpbmNsdWRlU2VsZjohMH0pKSx0WzBdJiZcInN0cmluZ1wiIT10eXBlb2YgdFswXSYmdFswXS5pcyhcImRvY3VtZW50RnJhZ21lbnRcIikmJnQuc2hpZnQoKSx0aGlzLl9pdGVtcz10Lm1hcChJYSl9Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLl9pdGVtcy5sZW5ndGh9Z2V0IGxhc3QoKXtyZXR1cm4gdGhpcy5faXRlbXNbdGhpcy5faXRlbXMubGVuZ3RoLTFdfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXMuX2l0ZW1zW1N5bWJvbC5pdGVyYXRvcl0oKX1wdXNoKHQpe2NvbnN0IGU9bmV3IGthKFt0XSk7cmV0dXJuIGUuX2l0ZW1zPVsuLi50aGlzLl9pdGVtcywuLi5lLl9pdGVtc10sZX1nZXRJdGVtKHQpe3JldHVybiB0aGlzLl9pdGVtc1t0XX0qZ2V0TmFtZXMoKXt5aWVsZCp0aGlzLl9pdGVtcy5tYXAodD0+dC5uYW1lKX1lbmRzV2l0aCh0KXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmdldE5hbWVzKCkpLmpvaW4oXCIgXCIpLmVuZHNXaXRoKHQpfX1mdW5jdGlvbiB5YSh0LGUpe2NvbnN0IG49e25hbWU6ZSxhbGxvd0luOltdLGFsbG93Q29udGVudE9mOltdLGFsbG93V2hlcmU6W10sYWxsb3dBdHRyaWJ1dGVzOltdLGFsbG93QXR0cmlidXRlc09mOltdLGluaGVyaXRUeXBlc0Zyb206W119O3JldHVybiBmdW5jdGlvbih0LGUpe2Zvcihjb25zdCBuIG9mIHQpe2NvbnN0IHQ9T2JqZWN0LmtleXMobikuZmlsdGVyKHQ9PnQuc3RhcnRzV2l0aChcImlzXCIpKTtmb3IoY29uc3QgbyBvZiB0KWVbb109bltvXX19KHQsbiksU2EodCxuLFwiYWxsb3dJblwiKSxTYSh0LG4sXCJhbGxvd0NvbnRlbnRPZlwiKSxTYSh0LG4sXCJhbGxvd1doZXJlXCIpLFNhKHQsbixcImFsbG93QXR0cmlidXRlc1wiKSxTYSh0LG4sXCJhbGxvd0F0dHJpYnV0ZXNPZlwiKSxTYSh0LG4sXCJpbmhlcml0VHlwZXNGcm9tXCIpLGZ1bmN0aW9uKHQsZSl7Zm9yKGNvbnN0IG4gb2YgdCl7Y29uc3QgdD1uLmluaGVyaXRBbGxGcm9tO3QmJihlLmFsbG93Q29udGVudE9mLnB1c2godCksZS5hbGxvd1doZXJlLnB1c2godCksZS5hbGxvd0F0dHJpYnV0ZXNPZi5wdXNoKHQpLGUuaW5oZXJpdFR5cGVzRnJvbS5wdXNoKHQpKX19KHQsbiksbn1mdW5jdGlvbiB4YSh0LGUpe2Zvcihjb25zdCBuIG9mIHRbZV0uYWxsb3dDb250ZW50T2YpaWYodFtuXSl7RWEodCxuKS5mb3JFYWNoKHQ9Pnt0LmFsbG93SW4ucHVzaChlKX0pfWRlbGV0ZSB0W2VdLmFsbG93Q29udGVudE9mfWZ1bmN0aW9uIEFhKHQsZSl7Zm9yKGNvbnN0IG4gb2YgdFtlXS5hbGxvd1doZXJlKXtjb25zdCBvPXRbbl07aWYobyl7Y29uc3Qgbj1vLmFsbG93SW47dFtlXS5hbGxvd0luLnB1c2goLi4ubil9fWRlbGV0ZSB0W2VdLmFsbG93V2hlcmV9ZnVuY3Rpb24gQ2EodCxlKXtmb3IoY29uc3QgbiBvZiB0W2VdLmFsbG93QXR0cmlidXRlc09mKXtjb25zdCBvPXRbbl07aWYobyl7Y29uc3Qgbj1vLmFsbG93QXR0cmlidXRlczt0W2VdLmFsbG93QXR0cmlidXRlcy5wdXNoKC4uLm4pfX1kZWxldGUgdFtlXS5hbGxvd0F0dHJpYnV0ZXNPZn1mdW5jdGlvbiBUYSh0LGUpe2NvbnN0IG49dFtlXTtmb3IoY29uc3QgZSBvZiBuLmluaGVyaXRUeXBlc0Zyb20pe2NvbnN0IG89dFtlXTtpZihvKXtjb25zdCB0PU9iamVjdC5rZXlzKG8pLmZpbHRlcih0PT50LnN0YXJ0c1dpdGgoXCJpc1wiKSk7Zm9yKGNvbnN0IGUgb2YgdCllIGluIG58fChuW2VdPW9bZV0pfX1kZWxldGUgbi5pbmhlcml0VHlwZXNGcm9tfWZ1bmN0aW9uIE1hKHQsZSl7Y29uc3Qgbj10W2VdLG89bi5hbGxvd0luLmZpbHRlcihlPT50W2VdKTtuLmFsbG93SW49QXJyYXkuZnJvbShuZXcgU2V0KG8pKX1mdW5jdGlvbiBQYSh0LGUpe2NvbnN0IG49dFtlXTtuLmFsbG93QXR0cmlidXRlcz1BcnJheS5mcm9tKG5ldyBTZXQobi5hbGxvd0F0dHJpYnV0ZXMpKX1mdW5jdGlvbiBTYSh0LGUsbil7Zm9yKGNvbnN0IG8gb2YgdClcInN0cmluZ1wiPT10eXBlb2Ygb1tuXT9lW25dLnB1c2gob1tuXSk6QXJyYXkuaXNBcnJheShvW25dKSYmZVtuXS5wdXNoKC4uLm9bbl0pfWZ1bmN0aW9uIEVhKHQsZSl7Y29uc3Qgbj10W2VdO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmtleXModCkubWFwKGU9PnRbZV0pfSh0KS5maWx0ZXIodD0+dC5hbGxvd0luLmluY2x1ZGVzKG4ubmFtZSkpfWZ1bmN0aW9uIElhKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P3tuYW1lOnQsKmdldEF0dHJpYnV0ZUtleXMoKXt9LGdldEF0dHJpYnV0ZSgpe319OntuYW1lOnQuaXMoXCJlbGVtZW50XCIpP3QubmFtZTpcIiR0ZXh0XCIsKmdldEF0dHJpYnV0ZUtleXMoKXt5aWVsZCp0LmdldEF0dHJpYnV0ZUtleXMoKX0sZ2V0QXR0cmlidXRlOmU9PnQuZ2V0QXR0cmlidXRlKGUpfX1jbGFzcyBOYXtjb25zdHJ1Y3Rvcih0PXt9KXt0aGlzLl9yZW1vdmVJZkVtcHR5PW5ldyBTZXQsdGhpcy5fbW9kZWxDdXJzb3I9bnVsbCx0aGlzLmNvbnZlcnNpb25BcGk9T2JqZWN0LmFzc2lnbih7fSx0KSx0aGlzLmNvbnZlcnNpb25BcGkuY29udmVydEl0ZW09dGhpcy5fY29udmVydEl0ZW0uYmluZCh0aGlzKSx0aGlzLmNvbnZlcnNpb25BcGkuY29udmVydENoaWxkcmVuPXRoaXMuX2NvbnZlcnRDaGlsZHJlbi5iaW5kKHRoaXMpLHRoaXMuY29udmVyc2lvbkFwaS5zcGxpdFRvQWxsb3dlZFBhcmVudD10aGlzLl9zcGxpdFRvQWxsb3dlZFBhcmVudC5iaW5kKHRoaXMpfWNvbnZlcnQodCxlLG49W1wiJHJvb3RcIl0pe3RoaXMuZmlyZShcInZpZXdDbGVhbnVwXCIsdCksdGhpcy5fbW9kZWxDdXJzb3I9ZnVuY3Rpb24odCxlKXtsZXQgbjtmb3IoY29uc3QgbyBvZiBuZXcga2EodCkpe2NvbnN0IHQ9e307Zm9yKGNvbnN0IGUgb2Ygby5nZXRBdHRyaWJ1dGVLZXlzKCkpdFtlXT1vLmdldEF0dHJpYnV0ZShlKTtjb25zdCBpPWUuY3JlYXRlRWxlbWVudChvLm5hbWUsdCk7biYmZS5hcHBlbmQoaSxuKSxuPUhzLmNyZWF0ZUF0KGkpfXJldHVybiBufShuLGUpLHRoaXMuY29udmVyc2lvbkFwaS53cml0ZXI9ZSx0aGlzLmNvbnZlcnNpb25BcGkuY29uc3VtYWJsZT13YS5jcmVhdGVGcm9tKHQpLHRoaXMuY29udmVyc2lvbkFwaS5zdG9yZT17fTtjb25zdHttb2RlbFJhbmdlOm99PXRoaXMuX2NvbnZlcnRJdGVtKHQsdGhpcy5fbW9kZWxDdXJzb3IpLGk9ZS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7aWYobyl7dGhpcy5fcmVtb3ZlRW1wdHlFbGVtZW50cygpO2Zvcihjb25zdCB0IG9mIEFycmF5LmZyb20odGhpcy5fbW9kZWxDdXJzb3IucGFyZW50LmdldENoaWxkcmVuKCkpKWUuYXBwZW5kKHQsaSk7aS5tYXJrZXJzPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1uZXcgU2V0LG89bmV3IE1hcCxpPXFzLmNyZWF0ZUluKHQpLmdldEl0ZW1zKCk7Zm9yKGNvbnN0IHQgb2YgaSlcIiRtYXJrZXJcIj09dC5uYW1lJiZuLmFkZCh0KTtmb3IoY29uc3QgdCBvZiBuKXtjb25zdCBuPXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1uYW1lXCIpLGk9SHMuY3JlYXRlQmVmb3JlKHQpO28uaGFzKG4pP28uZ2V0KG4pLmVuZD1Icy5jcmVhdGVGcm9tUG9zaXRpb24oaSk6by5zZXQobixuZXcgcXMoSHMuY3JlYXRlRnJvbVBvc2l0aW9uKGkpKSksZS5yZW1vdmUodCl9cmV0dXJuIG99KGksZSl9cmV0dXJuIHRoaXMuX21vZGVsQ3Vyc29yPW51bGwsdGhpcy5fcmVtb3ZlSWZFbXB0eS5jbGVhcigpLHRoaXMuY29udmVyc2lvbkFwaS53cml0ZXI9bnVsbCx0aGlzLmNvbnZlcnNpb25BcGkuc3RvcmU9bnVsbCxpfV9jb252ZXJ0SXRlbSh0LGUpe2NvbnN0IG49T2JqZWN0LmFzc2lnbih7dmlld0l0ZW06dCxtb2RlbEN1cnNvcjplLG1vZGVsUmFuZ2U6bnVsbH0pO2lmKHQuaXMoXCJlbGVtZW50XCIpP3RoaXMuZmlyZShcImVsZW1lbnQ6XCIrdC5uYW1lLG4sdGhpcy5jb252ZXJzaW9uQXBpKTp0LmlzKFwidGV4dFwiKT90aGlzLmZpcmUoXCJ0ZXh0XCIsbix0aGlzLmNvbnZlcnNpb25BcGkpOnRoaXMuZmlyZShcImRvY3VtZW50RnJhZ21lbnRcIixuLHRoaXMuY29udmVyc2lvbkFwaSksbi5tb2RlbFJhbmdlJiYhKG4ubW9kZWxSYW5nZSBpbnN0YW5jZW9mIHFzKSl0aHJvdyBuZXcgTS5iKFwidmlldy1jb252ZXJzaW9uLWRpc3BhdGNoZXItaW5jb3JyZWN0LXJlc3VsdDogSW5jb3JyZWN0IGNvbnZlcnNpb24gcmVzdWx0IHdhcyBkcm9wcGVkLlwiKTtyZXR1cm57bW9kZWxSYW5nZTpuLm1vZGVsUmFuZ2UsbW9kZWxDdXJzb3I6bi5tb2RlbEN1cnNvcn19X2NvbnZlcnRDaGlsZHJlbih0LGUpe2NvbnN0IG49bmV3IHFzKGUpO2xldCBvPWU7Zm9yKGNvbnN0IGUgb2YgQXJyYXkuZnJvbSh0LmdldENoaWxkcmVuKCkpKXtjb25zdCB0PXRoaXMuX2NvbnZlcnRJdGVtKGUsbyk7dC5tb2RlbFJhbmdlIGluc3RhbmNlb2YgcXMmJihuLmVuZD10Lm1vZGVsUmFuZ2UuZW5kLG89dC5tb2RlbEN1cnNvcil9cmV0dXJue21vZGVsUmFuZ2U6bixtb2RlbEN1cnNvcjpvfX1fc3BsaXRUb0FsbG93ZWRQYXJlbnQodCxlKXtjb25zdCBuPXRoaXMuY29udmVyc2lvbkFwaS5zY2hlbWEuZmluZEFsbG93ZWRQYXJlbnQodCxlKTtpZighbilyZXR1cm4gbnVsbDtpZihuPT09ZS5wYXJlbnQpcmV0dXJue3Bvc2l0aW9uOmV9O2lmKHRoaXMuX21vZGVsQ3Vyc29yLnBhcmVudC5nZXRBbmNlc3RvcnMoKS5pbmNsdWRlcyhuKSlyZXR1cm4gbnVsbDtjb25zdCBvPXRoaXMuY29udmVyc2lvbkFwaS53cml0ZXIuc3BsaXQoZSxuKTtmb3IoY29uc3QgdCBvZiBvLnJhbmdlLmdldFBvc2l0aW9ucygpKXQuaXNFcXVhbChvLnBvc2l0aW9uKXx8dGhpcy5fcmVtb3ZlSWZFbXB0eS5hZGQodC5wYXJlbnQpO3JldHVybntwb3NpdGlvbjpvLnBvc2l0aW9uLGN1cnNvclBhcmVudDpvLnJhbmdlLmVuZC5wYXJlbnR9fV9yZW1vdmVFbXB0eUVsZW1lbnRzKCl7bGV0IHQ9ITE7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fcmVtb3ZlSWZFbXB0eSllLmlzRW1wdHkmJih0aGlzLmNvbnZlcnNpb25BcGkud3JpdGVyLnJlbW92ZShlKSx0aGlzLl9yZW1vdmVJZkVtcHR5LmRlbGV0ZShlKSx0PSEwKTt0JiZ0aGlzLl9yZW1vdmVFbXB0eUVsZW1lbnRzKCl9fWZ1bmN0aW9uIE9hKHQpe2NvbnN0IGU9ZnVuY3Rpb24odCl7Y29uc3QgZT1uZXcgZm8odC52aWV3KTtyZXR1cm4obixvLGkpPT57Y29uc3Qgcj1lLm1hdGNoKG8udmlld0l0ZW0pO2lmKCFyKXJldHVybjtyLm1hdGNoLm5hbWU9ITA7Y29uc3Qgcz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQgaW5zdGFuY2VvZiBGdW5jdGlvbj90KGUsbik6bi5jcmVhdGVFbGVtZW50KHQpfSh0Lm1vZGVsLG8udmlld0l0ZW0saS53cml0ZXIpO2lmKCFzKXJldHVybjtpZighaS5jb25zdW1hYmxlLnRlc3Qoby52aWV3SXRlbSxyLm1hdGNoKSlyZXR1cm47Y29uc3QgYT1pLnNwbGl0VG9BbGxvd2VkUGFyZW50KHMsby5tb2RlbEN1cnNvcik7aWYoIWEpcmV0dXJuO2kud3JpdGVyLmluc2VydChzLGEucG9zaXRpb24pO2NvbnN0IGM9aS5jb252ZXJ0Q2hpbGRyZW4oby52aWV3SXRlbSxIcy5jcmVhdGVBdChzKSk7aS5jb25zdW1hYmxlLmNvbnN1bWUoby52aWV3SXRlbSxyLm1hdGNoKSxvLm1vZGVsUmFuZ2U9bmV3IHFzKEhzLmNyZWF0ZUJlZm9yZShzKSxIcy5jcmVhdGVBZnRlcihjLm1vZGVsQ3Vyc29yLnBhcmVudCkpLGEuY3Vyc29yUGFyZW50P28ubW9kZWxDdXJzb3I9SHMuY3JlYXRlQXQoYS5jdXJzb3JQYXJlbnQpOm8ubW9kZWxDdXJzb3I9by5tb2RlbFJhbmdlLmVuZH19KHQ9c2EodCkpLG49amEodCksbz1uP1wiZWxlbWVudDpcIituOlwiZWxlbWVudFwiO3JldHVybiBuPT57bi5vbihvLGUse3ByaW9yaXR5OnQuY29udmVydGVyUHJpb3JpdHl8fFwibm9ybWFsXCJ9KX19ZnVuY3Rpb24gUmEodCl7TGEodD1zYSh0KSk7Y29uc3QgZT1WYSh0LCExKSxuPWphKHQpLG89bj9cImVsZW1lbnQ6XCIrbjpcImVsZW1lbnRcIjtyZXR1cm4gbj0+e24ub24obyxlLHtwcmlvcml0eTp0LmNvbnZlcnRlclByaW9yaXR5fHxcIm5vcm1hbFwifSl9fWZ1bmN0aW9uIERhKHQpe2xldCBlPW51bGw7KFwic3RyaW5nXCI9PXR5cGVvZih0PXNhKHQpKS52aWV3fHx0LnZpZXcua2V5KSYmKGU9ZnVuY3Rpb24odCl7XCJzdHJpbmdcIj09dHlwZW9mIHQudmlldyYmKHQudmlldz17a2V5OnQudmlld30pO2NvbnN0IGU9dC52aWV3LmtleTtsZXQgbjtpZihcImNsYXNzXCI9PWV8fFwic3R5bGVcIj09ZSl7Y29uc3Qgbz1cImNsYXNzXCI9PWU/XCJjbGFzc2VzXCI6XCJzdHlsZXNcIjtuPXtbb106dC52aWV3LnZhbHVlfX1lbHNle2NvbnN0IG89dm9pZCAwPT09dC52aWV3LnZhbHVlPy9bXFxzXFxTXSovOnQudmlldy52YWx1ZTtuPXthdHRyaWJ1dGVzOntbZV06b319fXQudmlldy5uYW1lJiYobi5uYW1lPXQudmlldy5uYW1lKTtyZXR1cm4gdC52aWV3PW4sZX0odCkpLExhKHQsZSk7Y29uc3Qgbj1WYSh0LCEwKTtyZXR1cm4gZT0+e2Uub24oXCJlbGVtZW50XCIsbix7cHJpb3JpdHk6dC5jb252ZXJ0ZXJQcmlvcml0eXx8XCJsb3dcIn0pfX1mdW5jdGlvbiBqYSh0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdC52aWV3P3QudmlldzpcIm9iamVjdFwiPT10eXBlb2YgdC52aWV3JiZcInN0cmluZ1wiPT10eXBlb2YgdC52aWV3Lm5hbWU/dC52aWV3Lm5hbWU6bnVsbH1mdW5jdGlvbiBMYSh0LGU9bnVsbCl7Y29uc3Qgbj1udWxsPT09ZXx8KHQ9PnQuZ2V0QXR0cmlidXRlKGUpKSxvPVwib2JqZWN0XCIhPXR5cGVvZiB0Lm1vZGVsP3QubW9kZWw6dC5tb2RlbC5rZXksaT1cIm9iamVjdFwiIT10eXBlb2YgdC5tb2RlbHx8dm9pZCAwPT09dC5tb2RlbC52YWx1ZT9uOnQubW9kZWwudmFsdWU7dC5tb2RlbD17a2V5Om8sdmFsdWU6aX19ZnVuY3Rpb24gVmEodCxlKXtjb25zdCBuPW5ldyBmbyh0LnZpZXcpO3JldHVybihvLGkscik9Pntjb25zdCBzPW4ubWF0Y2goaS52aWV3SXRlbSk7aWYoIXMpcmV0dXJuO2NvbnN0IGE9dC5tb2RlbC5rZXksYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0Lm1vZGVsLnZhbHVlP3QubW9kZWwudmFsdWUoaS52aWV3SXRlbSk6dC5tb2RlbC52YWx1ZTtudWxsIT09YyYmKCFmdW5jdGlvbih0KXtpZihcIm9iamVjdFwiPT10eXBlb2YgdC52aWV3JiYhamEodCkpcmV0dXJuITE7cmV0dXJuIXQudmlldy5jbGFzc2VzJiYhdC52aWV3LmF0dHJpYnV0ZXMmJiF0LnZpZXcuc3R5bGVzfSh0KT9kZWxldGUgcy5tYXRjaC5uYW1lOnMubWF0Y2gubmFtZT0hMCxyLmNvbnN1bWFibGUudGVzdChpLnZpZXdJdGVtLHMubWF0Y2gpJiYoaS5tb2RlbFJhbmdlfHwoaT1PYmplY3QuYXNzaWduKGksci5jb252ZXJ0Q2hpbGRyZW4oaS52aWV3SXRlbSxpLm1vZGVsQ3Vyc29yKSkpLGZ1bmN0aW9uKHQsZSxuLG8pe2xldCBpPSExO2Zvcihjb25zdCByIG9mIEFycmF5LmZyb20odC5nZXRJdGVtcyh7c2hhbGxvdzpufSkpKW8uc2NoZW1hLmNoZWNrQXR0cmlidXRlKHIsZS5rZXkpJiYoby53cml0ZXIuc2V0QXR0cmlidXRlKGUua2V5LGUudmFsdWUsciksaT0hMCk7cmV0dXJuIGl9KGkubW9kZWxSYW5nZSx7a2V5OmEsdmFsdWU6Y30sZSxyKSYmci5jb25zdW1hYmxlLmNvbnN1bWUoaS52aWV3SXRlbSxzLm1hdGNoKSkpfX1CKE5hLFIpO2NsYXNzIEZhe2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5tb2RlbD10LHRoaXMucHJvY2Vzc29yPWUsdGhpcy5tYXBwZXI9bmV3IFdzLHRoaXMuZG93bmNhc3REaXNwYXRjaGVyPW5ldyAkcyh7bWFwcGVyOnRoaXMubWFwcGVyfSksdGhpcy5kb3duY2FzdERpc3BhdGNoZXIub24oXCJpbnNlcnQ6JHRleHRcIiwodCxlLG4pPT57aWYoIW4uY29uc3VtYWJsZS5jb25zdW1lKGUuaXRlbSxcImluc2VydFwiKSlyZXR1cm47Y29uc3Qgbz1uLndyaXRlcixpPW4ubWFwcGVyLnRvVmlld1Bvc2l0aW9uKGUucmFuZ2Uuc3RhcnQpLHI9by5jcmVhdGVUZXh0KGUuaXRlbS5kYXRhKTtvLmluc2VydChpLHIpfSx7cHJpb3JpdHk6XCJsb3dlc3RcIn0pLHRoaXMudXBjYXN0RGlzcGF0Y2hlcj1uZXcgTmEoe3NjaGVtYTp0LnNjaGVtYX0pLHRoaXMudXBjYXN0RGlzcGF0Y2hlci5vbihcInRleHRcIiwodCxlLG4pPT57aWYobi5zY2hlbWEuY2hlY2tDaGlsZChlLm1vZGVsQ3Vyc29yLFwiJHRleHRcIikmJm4uY29uc3VtYWJsZS5jb25zdW1lKGUudmlld0l0ZW0pKXtjb25zdCB0PW4ud3JpdGVyLmNyZWF0ZVRleHQoZS52aWV3SXRlbS5kYXRhKTtuLndyaXRlci5pbnNlcnQodCxlLm1vZGVsQ3Vyc29yKSxlLm1vZGVsUmFuZ2U9cXMuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQoZS5tb2RlbEN1cnNvcix0Lm9mZnNldFNpemUpLGUubW9kZWxDdXJzb3I9ZS5tb2RlbFJhbmdlLmVuZH19LHtwcmlvcml0eTpcImxvd2VzdFwifSksdGhpcy51cGNhc3REaXNwYXRjaGVyLm9uKFwiZWxlbWVudFwiLCh0LGUsbik9PntpZighZS5tb2RlbFJhbmdlJiZuLmNvbnN1bWFibGUuY29uc3VtZShlLnZpZXdJdGVtLHtuYW1lOiEwfSkpe2NvbnN0e21vZGVsUmFuZ2U6dCxtb2RlbEN1cnNvcjpvfT1uLmNvbnZlcnRDaGlsZHJlbihlLnZpZXdJdGVtLGUubW9kZWxDdXJzb3IpO2UubW9kZWxSYW5nZT10LGUubW9kZWxDdXJzb3I9b319LHtwcmlvcml0eTpcImxvd2VzdFwifSksdGhpcy51cGNhc3REaXNwYXRjaGVyLm9uKFwiZG9jdW1lbnRGcmFnbWVudFwiLCh0LGUsbik9PntpZighZS5tb2RlbFJhbmdlJiZuLmNvbnN1bWFibGUuY29uc3VtZShlLnZpZXdJdGVtLHtuYW1lOiEwfSkpe2NvbnN0e21vZGVsUmFuZ2U6dCxtb2RlbEN1cnNvcjpvfT1uLmNvbnZlcnRDaGlsZHJlbihlLnZpZXdJdGVtLGUubW9kZWxDdXJzb3IpO2UubW9kZWxSYW5nZT10LGUubW9kZWxDdXJzb3I9b319LHtwcmlvcml0eTpcImxvd2VzdFwifSksdGhpcy5kZWNvcmF0ZShcImluaXRcIil9Z2V0KHQ9XCJtYWluXCIpe3JldHVybiB0aGlzLnN0cmluZ2lmeSh0aGlzLm1vZGVsLmRvY3VtZW50LmdldFJvb3QodCkpfXN0cmluZ2lmeSh0KXtjb25zdCBlPXRoaXMudG9WaWV3KHQpO3JldHVybiB0aGlzLnByb2Nlc3Nvci50b0RhdGEoZSl9dG9WaWV3KHQpe3RoaXMubWFwcGVyLmNsZWFyQmluZGluZ3MoKTtjb25zdCBlPXFzLmNyZWF0ZUluKHQpLG49bmV3IF9pLG89bmV3IHZpKG5ldyBlaSk7aWYodGhpcy5tYXBwZXIuYmluZEVsZW1lbnRzKHQsbiksdGhpcy5kb3duY2FzdERpc3BhdGNoZXIuY29udmVydEluc2VydChlLG8pLCF0LmlzKFwiZG9jdW1lbnRGcmFnbWVudFwiKSl7Y29uc3QgZT1mdW5jdGlvbih0KXtjb25zdCBlPVtdLG49dC5yb290LmRvY3VtZW50O2lmKCFuKXJldHVybltdO2NvbnN0IG89cXMuY3JlYXRlSW4odCk7Zm9yKGNvbnN0IHQgb2Ygbi5tb2RlbC5tYXJrZXJzKXtjb25zdCBuPW8uZ2V0SW50ZXJzZWN0aW9uKHQuZ2V0UmFuZ2UoKSk7biYmZS5wdXNoKFt0Lm5hbWUsbl0pfXJldHVybiBlfSh0KTtmb3IoY29uc3RbdCxuXW9mIGUpdGhpcy5kb3duY2FzdERpc3BhdGNoZXIuY29udmVydE1hcmtlckFkZCh0LG4sbyl9cmV0dXJuIG59aW5pdCh0LGU9XCJtYWluXCIpe2lmKHRoaXMubW9kZWwuZG9jdW1lbnQudmVyc2lvbil0aHJvdyBuZXcgTS5iKFwiZGF0YWNvbnRyb2xsZXItaW5pdC1kb2N1bWVudC1ub3QtZW1wdHk6IFRyeWluZyB0byBzZXQgaW5pdGlhbCBkYXRhIHRvIG5vdCBlbXB0eSBkb2N1bWVudC5cIik7Y29uc3Qgbj10aGlzLm1vZGVsLmRvY3VtZW50LmdldFJvb3QoZSk7cmV0dXJuIHRoaXMubW9kZWwuZW5xdWV1ZUNoYW5nZShcInRyYW5zcGFyZW50XCIsZT0+e2UuaW5zZXJ0KHRoaXMucGFyc2UodCxuKSxuKX0pLFByb21pc2UucmVzb2x2ZSgpfXNldCh0LGU9XCJtYWluXCIpe2NvbnN0IG49dGhpcy5tb2RlbC5kb2N1bWVudC5nZXRSb290KGUpO3RoaXMubW9kZWwuZW5xdWV1ZUNoYW5nZShcInRyYW5zcGFyZW50XCIsZT0+e2Uuc2V0U2VsZWN0aW9uKG51bGwpLGUucmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKHRoaXMubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldEF0dHJpYnV0ZUtleXMoKSksZS5yZW1vdmUocXMuY3JlYXRlSW4obikpLGUuaW5zZXJ0KHRoaXMucGFyc2UodCxuKSxuKX0pfXBhcnNlKHQsZT1cIiRyb290XCIpe2NvbnN0IG49dGhpcy5wcm9jZXNzb3IudG9WaWV3KHQpO3JldHVybiB0aGlzLnRvTW9kZWwobixlKX10b01vZGVsKHQsZT1cIiRyb290XCIpe3JldHVybiB0aGlzLm1vZGVsLmNoYW5nZShuPT50aGlzLnVwY2FzdERpc3BhdGNoZXIuY29udmVydCh0LG4sZSkpfWRlc3Ryb3koKXt9fUIoRmEsTG8pO2NsYXNzIHphe2NvbnN0cnVjdG9yKCl7dGhpcy5fZGlzcGF0Y2hlcnNHcm91cHM9bmV3IE1hcH1yZWdpc3Rlcih0LGUpe2lmKHRoaXMuX2Rpc3BhdGNoZXJzR3JvdXBzLmhhcyh0KSl0aHJvdyBuZXcgTS5iKFwiY29udmVyc2lvbi1yZWdpc3Rlci1ncm91cC1leGlzdHM6IFRyeWluZyB0byByZWdpc3RlciBhIGdyb3VwIG5hbWUgdGhhdCB3YXMgYWxyZWFkeSByZWdpc3RlcmVkLlwiKTt0aGlzLl9kaXNwYXRjaGVyc0dyb3Vwcy5zZXQodCxlKX1mb3IodCl7Y29uc3QgZT10aGlzLl9nZXREaXNwYXRjaGVycyh0KTtyZXR1cm57YWRkKHQpe3JldHVybiBmdW5jdGlvbih0LGUpe2Zvcihjb25zdCBuIG9mIHQpZShuKX0oZSx0KSx0aGlzfX19ZWxlbWVudFRvRWxlbWVudCh0KXt0aGlzLmZvcihcImRvd25jYXN0XCIpLmFkZChhYSh0KSk7Zm9yKGNvbnN0e21vZGVsOmUsdmlldzpufW9mIEJhKHQpKXRoaXMuZm9yKFwidXBjYXN0XCIpLmFkZChPYSh7bW9kZWw6ZSx2aWV3Om4sY29udmVydGVyUHJpb3JpdHk6dC5jb252ZXJ0ZXJQcmlvcml0eX0pKX1hdHRyaWJ1dGVUb0VsZW1lbnQodCl7dGhpcy5mb3IoXCJkb3duY2FzdFwiKS5hZGQoY2EodCkpO2Zvcihjb25zdHttb2RlbDplLHZpZXc6bn1vZiBCYSh0KSl0aGlzLmZvcihcInVwY2FzdFwiKS5hZGQoUmEoe3ZpZXc6bixtb2RlbDplLHByaW9yaXR5OnQucHJpb3JpdHl9KSl9YXR0cmlidXRlVG9BdHRyaWJ1dGUodCl7dGhpcy5mb3IoXCJkb3duY2FzdFwiKS5hZGQobGEodCkpO2Zvcihjb25zdHttb2RlbDplLHZpZXc6bn1vZiBCYSh0KSl0aGlzLmZvcihcInVwY2FzdFwiKS5hZGQoRGEoe3ZpZXc6bixtb2RlbDplfSkpfV9nZXREaXNwYXRjaGVycyh0KXtjb25zdCBlPXRoaXMuX2Rpc3BhdGNoZXJzR3JvdXBzLmdldCh0KTtpZighZSl0aHJvdyBuZXcgTS5iKFwiY29udmVyc2lvbi1mb3ItdW5rbm93bi1ncm91cDogVHJ5aW5nIHRvIGFkZCBhIGNvbnZlcnRlciB0byBhbiB1bmtub3duIGRpc3BhdGNoZXJzIGdyb3VwLlwiKTtyZXR1cm4gZX19ZnVuY3Rpb24qQmEodCl7aWYodC5tb2RlbC52YWx1ZXMpZm9yKGNvbnN0IGUgb2YgdC5tb2RlbC52YWx1ZXMpe3lpZWxkKlVhKHtrZXk6dC5tb2RlbC5rZXksdmFsdWU6ZX0sdC52aWV3W2VdLHQudXBjYXN0QWxzbz90LnVwY2FzdEFsc29bZV06dm9pZCAwKX1lbHNlIHlpZWxkKlVhKHQubW9kZWwsdC52aWV3LHQudXBjYXN0QWxzbyl9ZnVuY3Rpb24qVWEodCxlLG4pe2lmKHlpZWxke21vZGVsOnQsdmlldzplfSxuKXtuPUFycmF5LmlzQXJyYXkobik/bjpbbl07Zm9yKGNvbnN0IGUgb2Ygbil5aWVsZHttb2RlbDp0LHZpZXc6ZX19fWNsYXNzIEhhe2NvbnN0cnVjdG9yKHQ9XCJkZWZhdWx0XCIpe3RoaXMub3BlcmF0aW9ucz1bXSx0aGlzLnR5cGU9dH1nZXQgYmFzZVZlcnNpb24oKXtmb3IoY29uc3QgdCBvZiB0aGlzLm9wZXJhdGlvbnMpaWYobnVsbCE9PXQuYmFzZVZlcnNpb24pcmV0dXJuIHQuYmFzZVZlcnNpb247cmV0dXJuIG51bGx9YWRkT3BlcmF0aW9uKHQpe3JldHVybiB0LmJhdGNoPXRoaXMsdGhpcy5vcGVyYXRpb25zLnB1c2godCksdH19Y2xhc3MgcWF7Y29uc3RydWN0b3IodCl7dGhpcy5iYXNlVmVyc2lvbj10LHRoaXMuaXNEb2N1bWVudE9wZXJhdGlvbj1udWxsIT09dGhpcy5iYXNlVmVyc2lvbix0aGlzLmJhdGNoPW51bGx9X3ZhbGlkYXRlKCl7fXRvSlNPTigpe2NvbnN0IHQ9T2JqZWN0LmFzc2lnbih7fSx0aGlzKTtyZXR1cm4gdC5fX2NsYXNzTmFtZT10aGlzLmNvbnN0cnVjdG9yLmNsYXNzTmFtZSxkZWxldGUgdC5iYXRjaCxkZWxldGUgdC5pc0RvY3VtZW50T3BlcmF0aW9uLHR9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm5cIk9wZXJhdGlvblwifXN0YXRpYyBmcm9tSlNPTih0KXtyZXR1cm4gbmV3IHRoaXModC5iYXNlVmVyc2lvbil9fWNsYXNzIFdhe2NvbnN0cnVjdG9yKHQpe3RoaXMubWFya2Vycz1uZXcgTWFwLHRoaXMuX2NoaWxkcmVuPW5ldyBWcyx0JiZ0aGlzLl9pbnNlcnRDaGlsZCgwLHQpfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXMuZ2V0Q2hpbGRyZW4oKX1nZXQgY2hpbGRDb3VudCgpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5sZW5ndGh9Z2V0IG1heE9mZnNldCgpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5tYXhPZmZzZXR9Z2V0IGlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMuY2hpbGRDb3VudH1nZXQgcm9vdCgpe3JldHVybiB0aGlzfWdldCBwYXJlbnQoKXtyZXR1cm4gbnVsbH1pcyh0KXtyZXR1cm5cImRvY3VtZW50RnJhZ21lbnRcIj09dH1nZXRDaGlsZCh0KXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4uZ2V0Tm9kZSh0KX1nZXRDaGlsZHJlbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbltTeW1ib2wuaXRlcmF0b3JdKCl9Z2V0Q2hpbGRJbmRleCh0KXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4uZ2V0Tm9kZUluZGV4KHQpfWdldENoaWxkU3RhcnRPZmZzZXQodCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmdldE5vZGVTdGFydE9mZnNldCh0KX1nZXRQYXRoKCl7cmV0dXJuW119Z2V0Tm9kZUJ5UGF0aCh0KXtsZXQgZT10aGlzO2Zvcihjb25zdCBuIG9mIHQpZT1lLmdldENoaWxkKGUub2Zmc2V0VG9JbmRleChuKSk7cmV0dXJuIGV9b2Zmc2V0VG9JbmRleCh0KXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4ub2Zmc2V0VG9JbmRleCh0KX10b0pTT04oKXtjb25zdCB0PVtdO2Zvcihjb25zdCBlIG9mIHRoaXMuX2NoaWxkcmVuKXQucHVzaChlLnRvSlNPTigpKTtyZXR1cm4gdH1zdGF0aWMgZnJvbUpTT04odCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgbiBvZiB0KW4ubmFtZT9lLnB1c2goRnMuZnJvbUpTT04obikpOmUucHVzaChqcy5mcm9tSlNPTihuKSk7cmV0dXJuIG5ldyBXYShlKX1fYXBwZW5kQ2hpbGQodCl7dGhpcy5faW5zZXJ0Q2hpbGQodGhpcy5jaGlsZENvdW50LHQpfV9pbnNlcnRDaGlsZCh0LGUpe2NvbnN0IG49ZnVuY3Rpb24odCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuW25ldyBqcyh0KV07aG8odCl8fCh0PVt0XSk7cmV0dXJuIEFycmF5LmZyb20odCkubWFwKHQ9Plwic3RyaW5nXCI9PXR5cGVvZiB0P25ldyBqcyh0KTp0IGluc3RhbmNlb2YgTHM/bmV3IGpzKHQuZGF0YSx0LmdldEF0dHJpYnV0ZXMoKSk6dCl9KGUpO2Zvcihjb25zdCB0IG9mIG4pbnVsbCE9PXQucGFyZW50JiZ0Ll9yZW1vdmUoKSx0LnBhcmVudD10aGlzO3RoaXMuX2NoaWxkcmVuLl9pbnNlcnROb2Rlcyh0LG4pfV9yZW1vdmVDaGlsZHJlbih0LGU9MSl7Y29uc3Qgbj10aGlzLl9jaGlsZHJlbi5fcmVtb3ZlTm9kZXModCxlKTtmb3IoY29uc3QgdCBvZiBuKXQucGFyZW50PW51bGw7cmV0dXJuIG59fWZ1bmN0aW9uIFlhKHQsZSl7Y29uc3Qgbj0oZT1RYShlKSkucmVkdWNlKCh0LGUpPT50K2Uub2Zmc2V0U2l6ZSwwKSxvPXQucGFyZW50O0thKHQpO2NvbnN0IGk9dC5pbmRleDtyZXR1cm4gby5faW5zZXJ0Q2hpbGQoaSxlKSxKYShvLGkrZS5sZW5ndGgpLEphKG8saSksbmV3IHFzKHQsdC5nZXRTaGlmdGVkQnkobikpfWZ1bmN0aW9uIEdhKHQpe2lmKCF0LmlzRmxhdCl0aHJvdyBuZXcgTS5iKFwib3BlcmF0aW9uLXV0aWxzLXJlbW92ZS1yYW5nZS1ub3QtZmxhdDogVHJ5aW5nIHRvIHJlbW92ZSBhIHJhbmdlIHdoaWNoIHN0YXJ0cyBhbmQgZW5kcyBpbiBkaWZmZXJlbnQgZWxlbWVudC5cIik7Y29uc3QgZT10LnN0YXJ0LnBhcmVudDtLYSh0LnN0YXJ0KSxLYSh0LmVuZCk7Y29uc3Qgbj1lLl9yZW1vdmVDaGlsZHJlbih0LnN0YXJ0LmluZGV4LHQuZW5kLmluZGV4LXQuc3RhcnQuaW5kZXgpO3JldHVybiBKYShlLHQuc3RhcnQuaW5kZXgpLG59ZnVuY3Rpb24gJGEodCxlKXtpZighdC5pc0ZsYXQpdGhyb3cgbmV3IE0uYihcIm9wZXJhdGlvbi11dGlscy1tb3ZlLXJhbmdlLW5vdC1mbGF0OiBUcnlpbmcgdG8gbW92ZSBhIHJhbmdlIHdoaWNoIHN0YXJ0cyBhbmQgZW5kcyBpbiBkaWZmZXJlbnQgZWxlbWVudC5cIik7Y29uc3Qgbj1HYSh0KTtyZXR1cm4gWWEoZT1lLl9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24odC5zdGFydCx0LmVuZC5vZmZzZXQtdC5zdGFydC5vZmZzZXQpLG4pfWZ1bmN0aW9uIFFhKHQpe2NvbnN0IGU9W107dCBpbnN0YW5jZW9mIEFycmF5fHwodD1bdF0pO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKWlmKFwic3RyaW5nXCI9PXR5cGVvZiB0W25dKWUucHVzaChuZXcganModFtuXSkpO2Vsc2UgaWYodFtuXWluc3RhbmNlb2YgTHMpZS5wdXNoKG5ldyBqcyh0W25dLmRhdGEsdFtuXS5nZXRBdHRyaWJ1dGVzKCkpKTtlbHNlIGlmKHRbbl1pbnN0YW5jZW9mIFdhfHx0W25daW5zdGFuY2VvZiBWcylmb3IoY29uc3QgbyBvZiB0W25dKWUucHVzaChvKTtlbHNlIHRbbl1pbnN0YW5jZW9mIERzJiZlLnB1c2godFtuXSk7Zm9yKGxldCB0PTE7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IG49ZVt0XSxvPWVbdC0xXTtuIGluc3RhbmNlb2YganMmJm8gaW5zdGFuY2VvZiBqcyYmWmEobixvKSYmKGUuc3BsaWNlKHQtMSwyLG5ldyBqcyhvLmRhdGErbi5kYXRhLG8uZ2V0QXR0cmlidXRlcygpKSksdC0tKX1yZXR1cm4gZX1mdW5jdGlvbiBKYSh0LGUpe2NvbnN0IG49dC5nZXRDaGlsZChlLTEpLG89dC5nZXRDaGlsZChlKTtpZihuJiZvJiZuLmlzKFwidGV4dFwiKSYmby5pcyhcInRleHRcIikmJlphKG4sbykpe2NvbnN0IGk9bmV3IGpzKG4uZGF0YStvLmRhdGEsbi5nZXRBdHRyaWJ1dGVzKCkpO3QuX3JlbW92ZUNoaWxkcmVuKGUtMSwyKSx0Ll9pbnNlcnRDaGlsZChlLTEsaSl9fWZ1bmN0aW9uIEthKHQpe2NvbnN0IGU9dC50ZXh0Tm9kZSxuPXQucGFyZW50O2lmKGUpe2NvbnN0IG89dC5vZmZzZXQtZS5zdGFydE9mZnNldCxpPWUuaW5kZXg7bi5fcmVtb3ZlQ2hpbGRyZW4oaSwxKTtjb25zdCByPW5ldyBqcyhlLmRhdGEuc3Vic3RyKDAsbyksZS5nZXRBdHRyaWJ1dGVzKCkpLHM9bmV3IGpzKGUuZGF0YS5zdWJzdHIobyksZS5nZXRBdHRyaWJ1dGVzKCkpO24uX2luc2VydENoaWxkKGksW3Isc10pfX1mdW5jdGlvbiBaYSh0LGUpe2NvbnN0IG49dC5nZXRBdHRyaWJ1dGVzKCksbz1lLmdldEF0dHJpYnV0ZXMoKTtmb3IoY29uc3QgdCBvZiBuKXtpZih0WzFdIT09ZS5nZXRBdHRyaWJ1dGUodFswXSkpcmV0dXJuITE7by5uZXh0KCl9cmV0dXJuIG8ubmV4dCgpLmRvbmV9dmFyIFhhPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFlyKHQsZSl9O2NsYXNzIHRjIGV4dGVuZHMgcWF7Y29uc3RydWN0b3IodCxlLG4sbyxpKXtzdXBlcihpKSx0aGlzLnJhbmdlPXFzLmNyZWF0ZUZyb21SYW5nZSh0KSx0aGlzLmtleT1lLHRoaXMub2xkVmFsdWU9dm9pZCAwPT09bj9udWxsOm4sdGhpcy5uZXdWYWx1ZT12b2lkIDA9PT1vP251bGw6b31nZXQgdHlwZSgpe3JldHVybiBudWxsPT09dGhpcy5vbGRWYWx1ZT9cImFkZEF0dHJpYnV0ZVwiOm51bGw9PT10aGlzLm5ld1ZhbHVlP1wicmVtb3ZlQXR0cmlidXRlXCI6XCJjaGFuZ2VBdHRyaWJ1dGVcIn1jbG9uZSgpe3JldHVybiBuZXcgdGModGhpcy5yYW5nZSx0aGlzLmtleSx0aGlzLm9sZFZhbHVlLHRoaXMubmV3VmFsdWUsdGhpcy5iYXNlVmVyc2lvbil9Z2V0UmV2ZXJzZWQoKXtyZXR1cm4gbmV3IHRjKHRoaXMucmFuZ2UsdGhpcy5rZXksdGhpcy5uZXdWYWx1ZSx0aGlzLm9sZFZhbHVlLHRoaXMuYmFzZVZlcnNpb24rMSl9dG9KU09OKCl7Y29uc3QgdD1zdXBlci50b0pTT04oKTtyZXR1cm4gdC5yYW5nZT10aGlzLnJhbmdlLnRvSlNPTigpLHR9X3ZhbGlkYXRlKCl7aWYoIXRoaXMucmFuZ2UuaXNGbGF0KXRocm93IG5ldyBNLmIoXCJhdHRyaWJ1dGUtb3BlcmF0aW9uLXJhbmdlLW5vdC1mbGF0OiBUaGUgcmFuZ2UgdG8gY2hhbmdlIGlzIG5vdCBmbGF0LlwiKTtmb3IoY29uc3QgdCBvZiB0aGlzLnJhbmdlLmdldEl0ZW1zKHtzaGFsbG93OiEwfSkpe2lmKG51bGwhPT10aGlzLm9sZFZhbHVlJiYhWGEodC5nZXRBdHRyaWJ1dGUodGhpcy5rZXkpLHRoaXMub2xkVmFsdWUpKXRocm93IG5ldyBNLmIoXCJhdHRyaWJ1dGUtb3BlcmF0aW9uLXdyb25nLW9sZC12YWx1ZTogQ2hhbmdlZCBub2RlIGhhcyBkaWZmZXJlbnQgYXR0cmlidXRlIHZhbHVlIHRoYW4gb3BlcmF0aW9uJ3Mgb2xkIGF0dHJpYnV0ZSB2YWx1ZS5cIix7aXRlbTp0LGtleTp0aGlzLmtleSx2YWx1ZTp0aGlzLm9sZFZhbHVlfSk7aWYobnVsbD09PXRoaXMub2xkVmFsdWUmJm51bGwhPT10aGlzLm5ld1ZhbHVlJiZ0Lmhhc0F0dHJpYnV0ZSh0aGlzLmtleSkpdGhyb3cgbmV3IE0uYihcImF0dHJpYnV0ZS1vcGVyYXRpb24tYXR0cmlidXRlLWV4aXN0czogVGhlIGF0dHJpYnV0ZSB3aXRoIGdpdmVuIGtleSBhbHJlYWR5IGV4aXN0cy5cIix7bm9kZTp0LGtleTp0aGlzLmtleX0pfX1fZXhlY3V0ZSgpe1hhKHRoaXMub2xkVmFsdWUsdGhpcy5uZXdWYWx1ZSl8fGZ1bmN0aW9uKHQsZSxuKXtLYSh0LnN0YXJ0KSxLYSh0LmVuZCk7Zm9yKGNvbnN0IG8gb2YgdC5nZXRJdGVtcyh7c2hhbGxvdzohMH0pKXtjb25zdCB0PW8uaXMoXCJ0ZXh0UHJveHlcIik/by50ZXh0Tm9kZTpvO251bGwhPT1uP3QuX3NldEF0dHJpYnV0ZShlLG4pOnQuX3JlbW92ZUF0dHJpYnV0ZShlKSxKYSh0LnBhcmVudCx0LmluZGV4KX1KYSh0LmVuZC5wYXJlbnQsdC5lbmQuaW5kZXgpfSh0aGlzLnJhbmdlLHRoaXMua2V5LHRoaXMubmV3VmFsdWUpfXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuXCJBdHRyaWJ1dGVPcGVyYXRpb25cIn1zdGF0aWMgZnJvbUpTT04odCxlKXtyZXR1cm4gbmV3IHRjKHFzLmZyb21KU09OKHQucmFuZ2UsZSksdC5rZXksdC5vbGRWYWx1ZSx0Lm5ld1ZhbHVlLHQuYmFzZVZlcnNpb24pfX1jbGFzcyBlYyBleHRlbmRzIHFhe2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIobnVsbCksdGhpcy5zb3VyY2VQb3NpdGlvbj1Icy5jcmVhdGVGcm9tUG9zaXRpb24odCksdGhpcy5ob3dNYW55PWV9Z2V0IHR5cGUoKXtyZXR1cm5cImRldGFjaFwifXRvSlNPTigpe2NvbnN0IHQ9c3VwZXIudG9KU09OKCk7cmV0dXJuIHQuc291cmNlUG9zaXRpb249dGhpcy5zb3VyY2VQb3NpdGlvbi50b0pTT04oKSx0fV92YWxpZGF0ZSgpe2lmKHRoaXMuc291cmNlUG9zaXRpb24ucm9vdC5kb2N1bWVudCl0aHJvdyBuZXcgTS5iKFwiZGV0YWNoLW9wZXJhdGlvbi1vbi1kb2N1bWVudC1ub2RlOiBDYW5ub3QgZGV0YWNoIGRvY3VtZW50IG5vZGUuXCIpfV9leGVjdXRlKCl7R2EocXMuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQodGhpcy5zb3VyY2VQb3NpdGlvbix0aGlzLmhvd01hbnkpKX1zdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVyblwiRGV0YWNoT3BlcmF0aW9uXCJ9fWNsYXNzIG5jIGV4dGVuZHMgcWF7Y29uc3RydWN0b3IodCxlLG4sbyl7c3VwZXIobyksdGhpcy5zb3VyY2VQb3NpdGlvbj1Icy5jcmVhdGVGcm9tUG9zaXRpb24odCksdGhpcy5zb3VyY2VQb3NpdGlvbi5zdGlja2luZXNzPVwidG9OZXh0XCIsdGhpcy5ob3dNYW55PWUsdGhpcy50YXJnZXRQb3NpdGlvbj1Icy5jcmVhdGVGcm9tUG9zaXRpb24obiksdGhpcy50YXJnZXRQb3NpdGlvbi5zdGlja2luZXNzPVwidG9Ob25lXCJ9Z2V0IHR5cGUoKXtyZXR1cm5cIiRncmF2ZXlhcmRcIj09dGhpcy50YXJnZXRQb3NpdGlvbi5yb290LnJvb3ROYW1lP1wicmVtb3ZlXCI6XCIkZ3JhdmV5YXJkXCI9PXRoaXMuc291cmNlUG9zaXRpb24ucm9vdC5yb290TmFtZT9cInJlaW5zZXJ0XCI6XCJtb3ZlXCJ9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5zb3VyY2VQb3NpdGlvbix0aGlzLmhvd01hbnksdGhpcy50YXJnZXRQb3NpdGlvbix0aGlzLmJhc2VWZXJzaW9uKX1nZXRNb3ZlZFJhbmdlU3RhcnQoKXtyZXR1cm4gdGhpcy50YXJnZXRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKHRoaXMuc291cmNlUG9zaXRpb24sdGhpcy5ob3dNYW55KX1nZXRSZXZlcnNlZCgpe2NvbnN0IHQ9dGhpcy5zb3VyY2VQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbih0aGlzLnRhcmdldFBvc2l0aW9uLHRoaXMuaG93TWFueSk7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuZ2V0TW92ZWRSYW5nZVN0YXJ0KCksdGhpcy5ob3dNYW55LHQsdGhpcy5iYXNlVmVyc2lvbisxKX1fdmFsaWRhdGUoKXtjb25zdCB0PXRoaXMuc291cmNlUG9zaXRpb24ucGFyZW50LGU9dGhpcy50YXJnZXRQb3NpdGlvbi5wYXJlbnQsbj10aGlzLnNvdXJjZVBvc2l0aW9uLm9mZnNldCxvPXRoaXMudGFyZ2V0UG9zaXRpb24ub2Zmc2V0O2lmKCF0fHwhZSl0aHJvdyBuZXcgTS5iKFwibW92ZS1vcGVyYXRpb24tcG9zaXRpb24taW52YWxpZDogU291cmNlIHBvc2l0aW9uIG9yIHRhcmdldCBwb3NpdGlvbiBpcyBpbnZhbGlkLlwiKTtpZihuK3RoaXMuaG93TWFueT50Lm1heE9mZnNldCl0aHJvdyBuZXcgTS5iKFwibW92ZS1vcGVyYXRpb24tbm9kZXMtZG8tbm90LWV4aXN0OiBUaGUgbm9kZXMgd2hpY2ggc2hvdWxkIGJlIG1vdmVkIGRvIG5vdCBleGlzdC5cIik7aWYodD09PWUmJm48byYmbzxuK3RoaXMuaG93TWFueSl0aHJvdyBuZXcgTS5iKFwibW92ZS1vcGVyYXRpb24tcmFuZ2UtaW50by1pdHNlbGY6IFRyeWluZyB0byBtb3ZlIGEgcmFuZ2Ugb2Ygbm9kZXMgdG8gdGhlIGluc2lkZSBvZiB0aGF0IHJhbmdlLlwiKTtpZih0aGlzLnNvdXJjZVBvc2l0aW9uLnJvb3Q9PXRoaXMudGFyZ2V0UG9zaXRpb24ucm9vdCYmXCJwcmVmaXhcIj09VSh0aGlzLnNvdXJjZVBvc2l0aW9uLmdldFBhcmVudFBhdGgoKSx0aGlzLnRhcmdldFBvc2l0aW9uLmdldFBhcmVudFBhdGgoKSkpe2NvbnN0IHQ9dGhpcy5zb3VyY2VQb3NpdGlvbi5wYXRoLmxlbmd0aC0xO2lmKHRoaXMudGFyZ2V0UG9zaXRpb24ucGF0aFt0XT49biYmdGhpcy50YXJnZXRQb3NpdGlvbi5wYXRoW3RdPG4rdGhpcy5ob3dNYW55KXRocm93IG5ldyBNLmIoXCJtb3ZlLW9wZXJhdGlvbi1ub2RlLWludG8taXRzZWxmOiBUcnlpbmcgdG8gbW92ZSBhIHJhbmdlIG9mIG5vZGVzIGludG8gb25lIG9mIG5vZGVzIGZyb20gdGhhdCByYW5nZS5cIil9fV9leGVjdXRlKCl7JGEocXMuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQodGhpcy5zb3VyY2VQb3NpdGlvbix0aGlzLmhvd01hbnkpLHRoaXMudGFyZ2V0UG9zaXRpb24pfXRvSlNPTigpe2NvbnN0IHQ9c3VwZXIudG9KU09OKCk7cmV0dXJuIHQuc291cmNlUG9zaXRpb249dGhpcy5zb3VyY2VQb3NpdGlvbi50b0pTT04oKSx0LnRhcmdldFBvc2l0aW9uPXRoaXMudGFyZ2V0UG9zaXRpb24udG9KU09OKCksdH1zdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVyblwiTW92ZU9wZXJhdGlvblwifXN0YXRpYyBmcm9tSlNPTih0LGUpe2NvbnN0IG49SHMuZnJvbUpTT04odC5zb3VyY2VQb3NpdGlvbixlKSxvPUhzLmZyb21KU09OKHQudGFyZ2V0UG9zaXRpb24sZSk7cmV0dXJuIG5ldyB0aGlzKG4sdC5ob3dNYW55LG8sdC5iYXNlVmVyc2lvbil9fWNsYXNzIG9jIGV4dGVuZHMgcWF7Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKG4pLHRoaXMucG9zaXRpb249SHMuY3JlYXRlRnJvbVBvc2l0aW9uKHQpLHRoaXMucG9zaXRpb24uc3RpY2tpbmVzcz1cInRvTm9uZVwiLHRoaXMubm9kZXM9bmV3IFZzKFFhKGUpKSx0aGlzLnNob3VsZFJlY2VpdmVBdHRyaWJ1dGVzPSExfWdldCB0eXBlKCl7cmV0dXJuXCJpbnNlcnRcIn1nZXQgaG93TWFueSgpe3JldHVybiB0aGlzLm5vZGVzLm1heE9mZnNldH1jbG9uZSgpe2NvbnN0IHQ9bmV3IFZzKFsuLi50aGlzLm5vZGVzXS5tYXAodD0+dC5fY2xvbmUoITApKSksZT1uZXcgb2ModGhpcy5wb3NpdGlvbix0LHRoaXMuYmFzZVZlcnNpb24pO3JldHVybiBlLnNob3VsZFJlY2VpdmVBdHRyaWJ1dGVzPXRoaXMuc2hvdWxkUmVjZWl2ZUF0dHJpYnV0ZXMsZX1nZXRSZXZlcnNlZCgpe2NvbnN0IHQ9dGhpcy5wb3NpdGlvbi5yb290LmRvY3VtZW50LmdyYXZleWFyZCxlPW5ldyBIcyh0LFswXSk7cmV0dXJuIG5ldyBuYyh0aGlzLnBvc2l0aW9uLHRoaXMubm9kZXMubWF4T2Zmc2V0LGUsdGhpcy5iYXNlVmVyc2lvbisxKX1fdmFsaWRhdGUoKXtjb25zdCB0PXRoaXMucG9zaXRpb24ucGFyZW50O2lmKCF0fHx0Lm1heE9mZnNldDx0aGlzLnBvc2l0aW9uLm9mZnNldCl0aHJvdyBuZXcgTS5iKFwiaW5zZXJ0LW9wZXJhdGlvbi1wb3NpdGlvbi1pbnZhbGlkOiBJbnNlcnRpb24gcG9zaXRpb24gaXMgaW52YWxpZC5cIil9X2V4ZWN1dGUoKXtjb25zdCB0PXRoaXMubm9kZXM7dGhpcy5ub2Rlcz1uZXcgVnMoWy4uLnRdLm1hcCh0PT50Ll9jbG9uZSghMCkpKSxZYSh0aGlzLnBvc2l0aW9uLHQpfXRvSlNPTigpe2NvbnN0IHQ9c3VwZXIudG9KU09OKCk7cmV0dXJuIHQucG9zaXRpb249dGhpcy5wb3NpdGlvbi50b0pTT04oKSx0Lm5vZGVzPXRoaXMubm9kZXMudG9KU09OKCksdH1zdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVyblwiSW5zZXJ0T3BlcmF0aW9uXCJ9c3RhdGljIGZyb21KU09OKHQsZSl7Y29uc3Qgbj1bXTtmb3IoY29uc3QgZSBvZiB0Lm5vZGVzKWUubmFtZT9uLnB1c2goRnMuZnJvbUpTT04oZSkpOm4ucHVzaChqcy5mcm9tSlNPTihlKSk7Y29uc3Qgbz1uZXcgb2MoSHMuZnJvbUpTT04odC5wb3NpdGlvbixlKSxuLHQuYmFzZVZlcnNpb24pO3JldHVybiBvLnNob3VsZFJlY2VpdmVBdHRyaWJ1dGVzPXQuc2hvdWxkUmVjZWl2ZUF0dHJpYnV0ZXMsb319Y2xhc3MgaWMgZXh0ZW5kcyBxYXtjb25zdHJ1Y3Rvcih0LGUsbixvLGkscil7c3VwZXIociksdGhpcy5uYW1lPXQsdGhpcy5vbGRSYW5nZT1lP3FzLmNyZWF0ZUZyb21SYW5nZShlKTpudWxsLHRoaXMubmV3UmFuZ2U9bj9xcy5jcmVhdGVGcm9tUmFuZ2Uobik6bnVsbCx0aGlzLmFmZmVjdHNEYXRhPWksdGhpcy5fbWFya2Vycz1vfWdldCB0eXBlKCl7cmV0dXJuXCJtYXJrZXJcIn1jbG9uZSgpe3JldHVybiBuZXcgaWModGhpcy5uYW1lLHRoaXMub2xkUmFuZ2UsdGhpcy5uZXdSYW5nZSx0aGlzLl9tYXJrZXJzLHRoaXMuYWZmZWN0c0RhdGEsdGhpcy5iYXNlVmVyc2lvbil9Z2V0UmV2ZXJzZWQoKXtyZXR1cm4gbmV3IGljKHRoaXMubmFtZSx0aGlzLm5ld1JhbmdlLHRoaXMub2xkUmFuZ2UsdGhpcy5fbWFya2Vycyx0aGlzLmFmZmVjdHNEYXRhLHRoaXMuYmFzZVZlcnNpb24rMSl9X2V4ZWN1dGUoKXtjb25zdCB0PXRoaXMubmV3UmFuZ2U/XCJfc2V0XCI6XCJfcmVtb3ZlXCI7dGhpcy5fbWFya2Vyc1t0XSh0aGlzLm5hbWUsdGhpcy5uZXdSYW5nZSwhMCx0aGlzLmFmZmVjdHNEYXRhKX10b0pTT04oKXtjb25zdCB0PXN1cGVyLnRvSlNPTigpO3JldHVybiB0aGlzLm9sZFJhbmdlJiYodC5vbGRSYW5nZT10aGlzLm9sZFJhbmdlLnRvSlNPTigpKSx0aGlzLm5ld1JhbmdlJiYodC5uZXdSYW5nZT10aGlzLm5ld1JhbmdlLnRvSlNPTigpKSxkZWxldGUgdC5fbWFya2Vycyx0fXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuXCJNYXJrZXJPcGVyYXRpb25cIn1zdGF0aWMgZnJvbUpTT04odCxlKXtyZXR1cm4gbmV3IGljKHQubmFtZSx0Lm9sZFJhbmdlP3FzLmZyb21KU09OKHQub2xkUmFuZ2UsZSk6bnVsbCx0Lm5ld1JhbmdlP3FzLmZyb21KU09OKHQubmV3UmFuZ2UsZSk6bnVsbCxlLm1vZGVsLm1hcmtlcnMsdC5hZmZlY3RzRGF0YSx0LmJhc2VWZXJzaW9uKX19Y2xhc3MgcmMgZXh0ZW5kcyBxYXtjb25zdHJ1Y3Rvcih0LGUsbixvKXtzdXBlcihvKSx0aGlzLnBvc2l0aW9uPXQsdGhpcy5wb3NpdGlvbi5zdGlja2luZXNzPVwidG9OZXh0XCIsdGhpcy5vbGROYW1lPWUsdGhpcy5uZXdOYW1lPW59Z2V0IHR5cGUoKXtyZXR1cm5cInJlbmFtZVwifWNsb25lKCl7cmV0dXJuIG5ldyByYyhIcy5jcmVhdGVGcm9tUG9zaXRpb24odGhpcy5wb3NpdGlvbiksdGhpcy5vbGROYW1lLHRoaXMubmV3TmFtZSx0aGlzLmJhc2VWZXJzaW9uKX1nZXRSZXZlcnNlZCgpe3JldHVybiBuZXcgcmMoSHMuY3JlYXRlRnJvbVBvc2l0aW9uKHRoaXMucG9zaXRpb24pLHRoaXMubmV3TmFtZSx0aGlzLm9sZE5hbWUsdGhpcy5iYXNlVmVyc2lvbisxKX1fdmFsaWRhdGUoKXtjb25zdCB0PXRoaXMucG9zaXRpb24ubm9kZUFmdGVyO2lmKCEodCBpbnN0YW5jZW9mIEZzKSl0aHJvdyBuZXcgTS5iKFwicmVuYW1lLW9wZXJhdGlvbi13cm9uZy1wb3NpdGlvbjogR2l2ZW4gcG9zaXRpb24gaXMgaW52YWxpZCBvciBub2RlIGFmdGVyIGl0IGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBFbGVtZW50LlwiKTtpZih0Lm5hbWUhPT10aGlzLm9sZE5hbWUpdGhyb3cgbmV3IE0uYihcInJlbmFtZS1vcGVyYXRpb24td3JvbmctbmFtZTogRWxlbWVudCB0byBjaGFuZ2UgaGFzIGRpZmZlcmVudCBuYW1lIHRoYW4gb3BlcmF0aW9uJ3Mgb2xkIG5hbWUuXCIpfV9leGVjdXRlKCl7dGhpcy5wb3NpdGlvbi5ub2RlQWZ0ZXIubmFtZT10aGlzLm5ld05hbWV9dG9KU09OKCl7Y29uc3QgdD1zdXBlci50b0pTT04oKTtyZXR1cm4gdC5wb3NpdGlvbj10aGlzLnBvc2l0aW9uLnRvSlNPTigpLHR9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm5cIlJlbmFtZU9wZXJhdGlvblwifXN0YXRpYyBmcm9tSlNPTih0LGUpe3JldHVybiBuZXcgcmMoSHMuZnJvbUpTT04odC5wb3NpdGlvbixlKSx0Lm9sZE5hbWUsdC5uZXdOYW1lLHQuYmFzZVZlcnNpb24pfX1jbGFzcyBzYyBleHRlbmRzIHFhe2NvbnN0cnVjdG9yKHQsZSxuLG8saSl7c3VwZXIoaSksdGhpcy5yb290PXQsdGhpcy5rZXk9ZSx0aGlzLm9sZFZhbHVlPW4sdGhpcy5uZXdWYWx1ZT1vfWdldCB0eXBlKCl7cmV0dXJuIG51bGw9PT10aGlzLm9sZFZhbHVlP1wiYWRkUm9vdEF0dHJpYnV0ZVwiOm51bGw9PT10aGlzLm5ld1ZhbHVlP1wicmVtb3ZlUm9vdEF0dHJpYnV0ZVwiOlwiY2hhbmdlUm9vdEF0dHJpYnV0ZVwifWNsb25lKCl7cmV0dXJuIG5ldyBzYyh0aGlzLnJvb3QsdGhpcy5rZXksdGhpcy5vbGRWYWx1ZSx0aGlzLm5ld1ZhbHVlLHRoaXMuYmFzZVZlcnNpb24pfWdldFJldmVyc2VkKCl7cmV0dXJuIG5ldyBzYyh0aGlzLnJvb3QsdGhpcy5rZXksdGhpcy5uZXdWYWx1ZSx0aGlzLm9sZFZhbHVlLHRoaXMuYmFzZVZlcnNpb24rMSl9X3ZhbGlkYXRlKCl7aWYodGhpcy5yb290IT10aGlzLnJvb3Qucm9vdHx8dGhpcy5yb290LmlzKFwiZG9jdW1lbnRGcmFnbWVudFwiKSl0aHJvdyBuZXcgTS5iKFwicm9vdGF0dHJpYnV0ZS1vcGVyYXRpb24tbm90LWEtcm9vdDogVGhlIGVsZW1lbnQgdG8gY2hhbmdlIGlzIG5vdCBhIHJvb3QgZWxlbWVudC5cIix7cm9vdDp0aGlzLnJvb3Qsa2V5OnRoaXMua2V5fSk7aWYobnVsbCE9PXRoaXMub2xkVmFsdWUmJnRoaXMucm9vdC5nZXRBdHRyaWJ1dGUodGhpcy5rZXkpIT09dGhpcy5vbGRWYWx1ZSl0aHJvdyBuZXcgTS5iKFwicm9vdGF0dHJpYnV0ZS1vcGVyYXRpb24td3Jvbmctb2xkLXZhbHVlOiBDaGFuZ2VkIG5vZGUgaGFzIGRpZmZlcmVudCBhdHRyaWJ1dGUgdmFsdWUgdGhhbiBvcGVyYXRpb24ncyBvbGQgYXR0cmlidXRlIHZhbHVlLlwiLHtyb290OnRoaXMucm9vdCxrZXk6dGhpcy5rZXl9KTtpZihudWxsPT09dGhpcy5vbGRWYWx1ZSYmbnVsbCE9PXRoaXMubmV3VmFsdWUmJnRoaXMucm9vdC5oYXNBdHRyaWJ1dGUodGhpcy5rZXkpKXRocm93IG5ldyBNLmIoXCJyb290YXR0cmlidXRlLW9wZXJhdGlvbi1hdHRyaWJ1dGUtZXhpc3RzOiBUaGUgYXR0cmlidXRlIHdpdGggZ2l2ZW4ga2V5IGFscmVhZHkgZXhpc3RzLlwiLHtyb290OnRoaXMucm9vdCxrZXk6dGhpcy5rZXl9KX1fZXhlY3V0ZSgpe251bGwhPT10aGlzLm5ld1ZhbHVlP3RoaXMucm9vdC5fc2V0QXR0cmlidXRlKHRoaXMua2V5LHRoaXMubmV3VmFsdWUpOnRoaXMucm9vdC5fcmVtb3ZlQXR0cmlidXRlKHRoaXMua2V5KX10b0pTT04oKXtjb25zdCB0PXN1cGVyLnRvSlNPTigpO3JldHVybiB0LnJvb3Q9dGhpcy5yb290LnRvSlNPTigpLHR9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm5cIlJvb3RBdHRyaWJ1dGVPcGVyYXRpb25cIn1zdGF0aWMgZnJvbUpTT04odCxlKXtpZighZS5nZXRSb290KHQucm9vdCkpdGhyb3cgbmV3IE0uYihcInJvb3RhdHRyaWJ1dGUtb3BlcmF0aW9uLWZyb21qc29uLW5vLXJvb3Q6IENhbm5vdCBjcmVhdGUgUm9vdEF0dHJpYnV0ZU9wZXJhdGlvbi4gUm9vdCB3aXRoIHNwZWNpZmllZCBuYW1lIGRvZXMgbm90IGV4aXN0LlwiLHtyb290TmFtZTp0LnJvb3R9KTtyZXR1cm4gbmV3IHNjKGUuZ2V0Um9vdCh0LnJvb3QpLHQua2V5LHQub2xkVmFsdWUsdC5uZXdWYWx1ZSx0LmJhc2VWZXJzaW9uKX19Y2xhc3MgYWMgZXh0ZW5kcyBxYXtjb25zdHJ1Y3Rvcih0LGUsbixvLGkpe3N1cGVyKGkpLHRoaXMuc291cmNlUG9zaXRpb249SHMuY3JlYXRlRnJvbVBvc2l0aW9uKHQpLHRoaXMuc291cmNlUG9zaXRpb24uc3RpY2tpbmVzcz1cInRvUHJldmlvdXNcIix0aGlzLmhvd01hbnk9ZSx0aGlzLnRhcmdldFBvc2l0aW9uPUhzLmNyZWF0ZUZyb21Qb3NpdGlvbihuKSx0aGlzLnRhcmdldFBvc2l0aW9uLnN0aWNraW5lc3M9XCJ0b05leHRcIix0aGlzLmdyYXZleWFyZFBvc2l0aW9uPUhzLmNyZWF0ZUZyb21Qb3NpdGlvbihvKX1nZXQgdHlwZSgpe3JldHVyblwibWVyZ2VcIn1nZXQgZGVsZXRpb25Qb3NpdGlvbigpe3JldHVybiBuZXcgSHModGhpcy5zb3VyY2VQb3NpdGlvbi5yb290LHRoaXMuc291cmNlUG9zaXRpb24ucGF0aC5zbGljZSgwLC0xKSl9Z2V0IG1vdmVkUmFuZ2UoKXtjb25zdCB0PXRoaXMuc291cmNlUG9zaXRpb24uZ2V0U2hpZnRlZEJ5KE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7cmV0dXJuIG5ldyBxcyh0aGlzLnNvdXJjZVBvc2l0aW9uLHQpfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuc291cmNlUG9zaXRpb24sdGhpcy5ob3dNYW55LHRoaXMudGFyZ2V0UG9zaXRpb24sdGhpcy5ncmF2ZXlhcmRQb3NpdGlvbix0aGlzLmJhc2VWZXJzaW9uKX1nZXRSZXZlcnNlZCgpe2NvbnN0IHQ9dGhpcy50YXJnZXRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeU1lcmdlT3BlcmF0aW9uKHRoaXMpLGU9dGhpcy5zb3VyY2VQb3NpdGlvbi5wYXRoLnNsaWNlKDAsLTEpLG49bmV3IEhzKHRoaXMuc291cmNlUG9zaXRpb24ucm9vdCxlKS5fZ2V0VHJhbnNmb3JtZWRCeU1lcmdlT3BlcmF0aW9uKHRoaXMpLG89bmV3IGNjKHQsdGhpcy5ob3dNYW55LHRoaXMuZ3JhdmV5YXJkUG9zaXRpb24sdGhpcy5iYXNlVmVyc2lvbisxKTtyZXR1cm4gby5pbnNlcnRpb25Qb3NpdGlvbj1uLG99X3ZhbGlkYXRlKCl7Y29uc3QgdD10aGlzLnNvdXJjZVBvc2l0aW9uLnBhcmVudCxlPXRoaXMudGFyZ2V0UG9zaXRpb24ucGFyZW50O2lmKCEodCYmdC5pcyhcImVsZW1lbnRcIikmJnQucGFyZW50KSl0aHJvdyBuZXcgTS5iKFwibWVyZ2Utb3BlcmF0aW9uLXNvdXJjZS1wb3NpdGlvbi1pbnZhbGlkOiBNZXJnZSBzb3VyY2UgcG9zaXRpb24gaXMgaW52YWxpZC5cIik7aWYoIShlJiZlLmlzKFwiZWxlbWVudFwiKSYmZS5wYXJlbnQpKXRocm93IG5ldyBNLmIoXCJtZXJnZS1vcGVyYXRpb24tdGFyZ2V0LXBvc2l0aW9uLWludmFsaWQ6IE1lcmdlIHRhcmdldCBwb3NpdGlvbiBpcyBpbnZhbGlkLlwiKTtpZih0aGlzLmhvd01hbnkhPXQubWF4T2Zmc2V0KXRocm93IG5ldyBNLmIoXCJtZXJnZS1vcGVyYXRpb24taG93LW1hbnktaW52YWxpZDogTWVyZ2Ugb3BlcmF0aW9uIHNwZWNpZmllcyB3cm9uZyBudW1iZXIgb2Ygbm9kZXMgdG8gbW92ZS5cIil9X2V4ZWN1dGUoKXtjb25zdCB0PXRoaXMuc291cmNlUG9zaXRpb24ucGFyZW50OyRhKHFzLmNyZWF0ZUluKHQpLHRoaXMudGFyZ2V0UG9zaXRpb24pLCRhKHFzLmNyZWF0ZU9uKHQpLHRoaXMuZ3JhdmV5YXJkUG9zaXRpb24pfXRvSlNPTigpe2NvbnN0IHQ9c3VwZXIudG9KU09OKCk7cmV0dXJuIHQuc291cmNlUG9zaXRpb249dC5zb3VyY2VQb3NpdGlvbi50b0pTT04oKSx0LnRhcmdldFBvc2l0aW9uPXQudGFyZ2V0UG9zaXRpb24udG9KU09OKCksdC5ncmF2ZXlhcmRQb3NpdGlvbj10LmdyYXZleWFyZFBvc2l0aW9uLnRvSlNPTigpLHR9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm5cIk1lcmdlT3BlcmF0aW9uXCJ9c3RhdGljIGZyb21KU09OKHQsZSl7Y29uc3Qgbj1Icy5mcm9tSlNPTih0LnNvdXJjZVBvc2l0aW9uLGUpLG89SHMuZnJvbUpTT04odC50YXJnZXRQb3NpdGlvbixlKSxpPUhzLmZyb21KU09OKHQuZ3JhdmV5YXJkUG9zaXRpb24sZSk7cmV0dXJuIG5ldyB0aGlzKG4sdC5ob3dNYW55LG8saSx0LmJhc2VWZXJzaW9uKX19Y2xhc3MgY2MgZXh0ZW5kcyBxYXtjb25zdHJ1Y3Rvcih0LGUsbixvKXtzdXBlcihvKSx0aGlzLnNwbGl0UG9zaXRpb249SHMuY3JlYXRlRnJvbVBvc2l0aW9uKHQpLHRoaXMuc3BsaXRQb3NpdGlvbi5zdGlja2luZXNzPVwidG9OZXh0XCIsdGhpcy5ob3dNYW55PWUsdGhpcy5pbnNlcnRpb25Qb3NpdGlvbj1jYy5nZXRJbnNlcnRpb25Qb3NpdGlvbih0KSx0aGlzLmluc2VydGlvblBvc2l0aW9uLnN0aWNraW5lc3M9XCJ0b05vbmVcIix0aGlzLmdyYXZleWFyZFBvc2l0aW9uPW4/SHMuY3JlYXRlRnJvbVBvc2l0aW9uKG4pOm51bGwsdGhpcy5ncmF2ZXlhcmRQb3NpdGlvbiYmKHRoaXMuZ3JhdmV5YXJkUG9zaXRpb24uc3RpY2tpbmVzcz1cInRvTmV4dFwiKX1nZXQgdHlwZSgpe3JldHVyblwic3BsaXRcIn1nZXQgbW92ZVRhcmdldFBvc2l0aW9uKCl7Y29uc3QgdD10aGlzLmluc2VydGlvblBvc2l0aW9uLnBhdGguc2xpY2UoKTtyZXR1cm4gdC5wdXNoKDApLG5ldyBIcyh0aGlzLmluc2VydGlvblBvc2l0aW9uLnJvb3QsdCl9Z2V0IG1vdmVkUmFuZ2UoKXtjb25zdCB0PXRoaXMuc3BsaXRQb3NpdGlvbi5nZXRTaGlmdGVkQnkoTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTtyZXR1cm4gbmV3IHFzKHRoaXMuc3BsaXRQb3NpdGlvbix0KX1jbG9uZSgpe2NvbnN0IHQ9bmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5zcGxpdFBvc2l0aW9uLHRoaXMuaG93TWFueSx0aGlzLmdyYXZleWFyZFBvc2l0aW9uLHRoaXMuYmFzZVZlcnNpb24pO3JldHVybiB0Lmluc2VydGlvblBvc2l0aW9uPXRoaXMuaW5zZXJ0aW9uUG9zaXRpb24sdH1nZXRSZXZlcnNlZCgpe2NvbnN0IHQ9dGhpcy5zcGxpdFBvc2l0aW9uLnJvb3QuZG9jdW1lbnQuZ3JhdmV5YXJkLGU9bmV3IEhzKHQsWzBdKTtyZXR1cm4gbmV3IGFjKHRoaXMubW92ZVRhcmdldFBvc2l0aW9uLHRoaXMuaG93TWFueSx0aGlzLnNwbGl0UG9zaXRpb24sZSx0aGlzLmJhc2VWZXJzaW9uKzEpfV92YWxpZGF0ZSgpe2NvbnN0IHQ9dGhpcy5zcGxpdFBvc2l0aW9uLnBhcmVudCxlPXRoaXMuc3BsaXRQb3NpdGlvbi5vZmZzZXQ7aWYoIXR8fHQubWF4T2Zmc2V0PGUpdGhyb3cgbmV3IE0uYihcInNwbGl0LW9wZXJhdGlvbi1wb3NpdGlvbi1pbnZhbGlkOiBTcGxpdCBwb3NpdGlvbiBpcyBpbnZhbGlkLlwiKTtpZighdC5wYXJlbnQpdGhyb3cgbmV3IE0uYihcInNwbGl0LW9wZXJhdGlvbi1zcGxpdC1pbi1yb290OiBDYW5ub3Qgc3BsaXQgcm9vdCBlbGVtZW50LlwiKTtpZih0aGlzLmhvd01hbnkhPXQubWF4T2Zmc2V0LXRoaXMuc3BsaXRQb3NpdGlvbi5vZmZzZXQpdGhyb3cgbmV3IE0uYihcInNwbGl0LW9wZXJhdGlvbi1ob3ctbWFueS1pbnZhbGlkOiBTcGxpdCBvcGVyYXRpb24gc3BlY2lmaWVzIHdyb25nIG51bWJlciBvZiBub2RlcyB0byBtb3ZlLlwiKTtpZih0aGlzLmdyYXZleWFyZFBvc2l0aW9uJiYhdGhpcy5ncmF2ZXlhcmRQb3NpdGlvbi5ub2RlQWZ0ZXIpdGhyb3cgbmV3IE0uYihcInNwbGl0LW9wZXJhdGlvbi1ncmF2ZXlhcmQtcG9zaXRpb24taW52YWxpZDogR3JhdmV5YXJkIHBvc2l0aW9uIGludmFsaWQuXCIpfV9leGVjdXRlKCl7Y29uc3QgdD10aGlzLnNwbGl0UG9zaXRpb24ucGFyZW50O2lmKHRoaXMuZ3JhdmV5YXJkUG9zaXRpb24pJGEocXMuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQodGhpcy5ncmF2ZXlhcmRQb3NpdGlvbiwxKSx0aGlzLmluc2VydGlvblBvc2l0aW9uKTtlbHNle2NvbnN0IGU9dC5fY2xvbmUoKTtZYSh0aGlzLmluc2VydGlvblBvc2l0aW9uLGUpfSRhKHFzLmNyZWF0ZUZyb21QYXJlbnRzQW5kT2Zmc2V0cyh0LHRoaXMuc3BsaXRQb3NpdGlvbi5vZmZzZXQsdCx0Lm1heE9mZnNldCksdGhpcy5tb3ZlVGFyZ2V0UG9zaXRpb24pfXRvSlNPTigpe2NvbnN0IHQ9c3VwZXIudG9KU09OKCk7cmV0dXJuIHQuc3BsaXRQb3NpdGlvbj10aGlzLnNwbGl0UG9zaXRpb24udG9KU09OKCksdC5pbnNlcnRpb25Qb3NpdGlvbj10aGlzLmluc2VydGlvblBvc2l0aW9uLnRvSlNPTigpLHRoaXMuZ3JhdmV5YXJkUG9zaXRpb24mJih0LmdyYXZleWFyZFBvc2l0aW9uPXRoaXMuZ3JhdmV5YXJkUG9zaXRpb24udG9KU09OKCkpLHR9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm5cIlNwbGl0T3BlcmF0aW9uXCJ9c3RhdGljIGdldEluc2VydGlvblBvc2l0aW9uKHQpe2NvbnN0IGU9dC5wYXRoLnNsaWNlKDAsLTEpO3JldHVybiBlW2UubGVuZ3RoLTFdKyssbmV3IEhzKHQucm9vdCxlKX1zdGF0aWMgZnJvbUpTT04odCxlKXtjb25zdCBuPUhzLmZyb21KU09OKHQuc3BsaXRQb3NpdGlvbixlKSxvPUhzLmZyb21KU09OKHQuaW5zZXJ0aW9uUG9zaXRpb24sZSksaT10LmdyYXZleWFyZFBvc2l0aW9uP0hzLmZyb21KU09OKHQuZ3JhdmV5YXJkUG9zaXRpb24sZSk6bnVsbCxyPW5ldyB0aGlzKG4sdC5ob3dNYW55LGksdC5iYXNlVmVyc2lvbik7cmV0dXJuIHIuaW5zZXJ0aW9uUG9zaXRpb249byxyfX1jbGFzcyBsYyBleHRlbmRzIEZze2NvbnN0cnVjdG9yKHQsZSxuPVwibWFpblwiKXtzdXBlcihlKSx0aGlzLl9kb2M9dCx0aGlzLnJvb3ROYW1lPW59Z2V0IGRvY3VtZW50KCl7cmV0dXJuIHRoaXMuX2RvY31pcyh0LGUpe3JldHVybiBlP1wicm9vdEVsZW1lbnRcIj09dCYmZT09dGhpcy5uYW1lfHxzdXBlci5pcyh0LGUpOlwicm9vdEVsZW1lbnRcIj09dHx8c3VwZXIuaXModCl9dG9KU09OKCl7cmV0dXJuIHRoaXMucm9vdE5hbWV9fWNsYXNzIGRje2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5tb2RlbD10LHRoaXMuYmF0Y2g9ZX1jcmVhdGVUZXh0KHQsZSl7cmV0dXJuIG5ldyBqcyh0LGUpfWNyZWF0ZUVsZW1lbnQodCxlKXtyZXR1cm4gbmV3IEZzKHQsZSl9Y3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpe3JldHVybiBuZXcgV2F9aW5zZXJ0KHQsZSxuKXt0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCk7Y29uc3Qgbz1Icy5jcmVhdGVBdChlLG4pO2lmKHQucGFyZW50KXtpZihnYyh0LnJvb3Qsby5yb290KSlyZXR1cm4gdm9pZCB0aGlzLm1vdmUocXMuY3JlYXRlT24odCksbyk7aWYodC5yb290LmRvY3VtZW50KXRocm93IG5ldyBFcnJvcihcIm1vZGVsLXdyaXRlci1pbnNlcnQtZm9yYmlkZGVuLW1vdmU6IENhbm5vdCBtb3ZlIGEgbm9kZSBmcm9tIGEgZG9jdW1lbnQgdG8gYSBkaWZmZXJlbnQgdHJlZS5cIik7dGhpcy5yZW1vdmUodCl9Y29uc3QgaT1vLnJvb3QuZG9jdW1lbnQ/by5yb290LmRvY3VtZW50LnZlcnNpb246bnVsbCxyPW5ldyBvYyhvLHQsaSk7aWYodCBpbnN0YW5jZW9mIGpzJiYoci5zaG91bGRSZWNlaXZlQXR0cmlidXRlcz0hMCksdGhpcy5iYXRjaC5hZGRPcGVyYXRpb24ociksdGhpcy5tb2RlbC5hcHBseU9wZXJhdGlvbihyKSx0IGluc3RhbmNlb2YgV2EpZm9yKGNvbnN0W2Usbl1vZiB0Lm1hcmtlcnMpe2NvbnN0IHQ9SHMuY3JlYXRlQXQobi5yb290KSxpPW5ldyBxcyhuLnN0YXJ0Ll9nZXRDb21iaW5lZCh0LG8pLG4uZW5kLl9nZXRDb21iaW5lZCh0LG8pKTt0aGlzLmFkZE1hcmtlcihlLHtyYW5nZTppLHVzaW5nT3BlcmF0aW9uOiEwfSl9fWluc2VydFRleHQodCxlLG4sbyl7ZSBpbnN0YW5jZW9mIFdhfHxlIGluc3RhbmNlb2YgRnN8fGUgaW5zdGFuY2VvZiBIcz90aGlzLmluc2VydCh0aGlzLmNyZWF0ZVRleHQodCksZSxuKTp0aGlzLmluc2VydCh0aGlzLmNyZWF0ZVRleHQodCxlKSxuLG8pfWluc2VydEVsZW1lbnQodCxlLG4sbyl7ZSBpbnN0YW5jZW9mIFdhfHxlIGluc3RhbmNlb2YgRnN8fGUgaW5zdGFuY2VvZiBIcz90aGlzLmluc2VydCh0aGlzLmNyZWF0ZUVsZW1lbnQodCksZSxuKTp0aGlzLmluc2VydCh0aGlzLmNyZWF0ZUVsZW1lbnQodCxlKSxuLG8pfWFwcGVuZCh0LGUpe3RoaXMuaW5zZXJ0KHQsZSxcImVuZFwiKX1hcHBlbmRUZXh0KHQsZSxuKXtlIGluc3RhbmNlb2YgV2F8fGUgaW5zdGFuY2VvZiBGcz90aGlzLmluc2VydCh0aGlzLmNyZWF0ZVRleHQodCksZSxcImVuZFwiKTp0aGlzLmluc2VydCh0aGlzLmNyZWF0ZVRleHQodCxlKSxuLFwiZW5kXCIpfWFwcGVuZEVsZW1lbnQodCxlLG4pe2UgaW5zdGFuY2VvZiBXYXx8ZSBpbnN0YW5jZW9mIEZzP3RoaXMuaW5zZXJ0KHRoaXMuY3JlYXRlRWxlbWVudCh0KSxlLFwiZW5kXCIpOnRoaXMuaW5zZXJ0KHRoaXMuY3JlYXRlRWxlbWVudCh0LGUpLG4sXCJlbmRcIil9c2V0QXR0cmlidXRlKHQsZSxuKXtpZih0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCksbiBpbnN0YW5jZW9mIHFzKXtjb25zdCBvPW4uZ2V0TWluaW1hbEZsYXRSYW5nZXMoKTtmb3IoY29uc3QgbiBvZiBvKXVjKHRoaXMsdCxlLG4pfWVsc2UgaGModGhpcyx0LGUsbil9c2V0QXR0cmlidXRlcyh0LGUpe2Zvcihjb25zdFtuLG9db2YgUnModCkpdGhpcy5zZXRBdHRyaWJ1dGUobixvLGUpfXJlbW92ZUF0dHJpYnV0ZSh0LGUpe2lmKHRoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKSxlIGluc3RhbmNlb2YgcXMpe2NvbnN0IG49ZS5nZXRNaW5pbWFsRmxhdFJhbmdlcygpO2Zvcihjb25zdCBlIG9mIG4pdWModGhpcyx0LG51bGwsZSl9ZWxzZSBoYyh0aGlzLHQsbnVsbCxlKX1jbGVhckF0dHJpYnV0ZXModCl7dGhpcy5fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpO2NvbnN0IGU9dD0+e2Zvcihjb25zdCBlIG9mIHQuZ2V0QXR0cmlidXRlS2V5cygpKXRoaXMucmVtb3ZlQXR0cmlidXRlKGUsdCl9O2lmKHQgaW5zdGFuY2VvZiBxcylmb3IoY29uc3QgbiBvZiB0LmdldEl0ZW1zKCkpZShuKTtlbHNlIGUodCl9bW92ZSh0LGUsbil7aWYodGhpcy5fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpLCEodCBpbnN0YW5jZW9mIHFzKSl0aHJvdyBuZXcgTS5iKFwid3JpdGVyLW1vdmUtaW52YWxpZC1yYW5nZTogSW52YWxpZCByYW5nZSB0byBtb3ZlLlwiKTtpZighdC5pc0ZsYXQpdGhyb3cgbmV3IE0uYihcIndyaXRlci1tb3ZlLXJhbmdlLW5vdC1mbGF0OiBSYW5nZSB0byBtb3ZlIGlzIG5vdCBmbGF0LlwiKTtjb25zdCBvPUhzLmNyZWF0ZUF0KGUsbik7aWYoIWdjKHQucm9vdCxvLnJvb3QpKXRocm93IG5ldyBNLmIoXCJ3cml0ZXItbW92ZS1kaWZmZXJlbnQtZG9jdW1lbnQ6IFJhbmdlIGlzIGdvaW5nIHRvIGJlIG1vdmVkIGJldHdlZW4gZGlmZmVyZW50IGRvY3VtZW50cy5cIik7Y29uc3QgaT10LnJvb3QuZG9jdW1lbnQ/dC5yb290LmRvY3VtZW50LnZlcnNpb246bnVsbCxyPW5ldyBuYyh0LnN0YXJ0LHQuZW5kLm9mZnNldC10LnN0YXJ0Lm9mZnNldCxvLGkpO3RoaXMuYmF0Y2guYWRkT3BlcmF0aW9uKHIpLHRoaXMubW9kZWwuYXBwbHlPcGVyYXRpb24ocil9cmVtb3ZlKHQpe2lmKHRoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKSx0IGluc3RhbmNlb2YgcXMpe2NvbnN0IGU9dC5nZXRNaW5pbWFsRmxhdFJhbmdlcygpLnJldmVyc2UoKTtmb3IoY29uc3QgdCBvZiBlKW1jKHQuc3RhcnQsdC5lbmQub2Zmc2V0LXQuc3RhcnQub2Zmc2V0LHRoaXMuYmF0Y2gsdGhpcy5tb2RlbCl9ZWxzZXtjb25zdCBlPXQuaXMoXCJ0ZXh0XCIpP3Qub2Zmc2V0U2l6ZToxO21jKEhzLmNyZWF0ZUJlZm9yZSh0KSxlLHRoaXMuYmF0Y2gsdGhpcy5tb2RlbCl9fW1lcmdlKHQpe3RoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKTtjb25zdCBlPXQubm9kZUJlZm9yZSxuPXQubm9kZUFmdGVyO2lmKCEoZSBpbnN0YW5jZW9mIEZzKSl0aHJvdyBuZXcgTS5iKFwid3JpdGVyLW1lcmdlLW5vLWVsZW1lbnQtYmVmb3JlOiBOb2RlIGJlZm9yZSBtZXJnZSBwb3NpdGlvbiBtdXN0IGJlIGFuIGVsZW1lbnQuXCIpO2lmKCEobiBpbnN0YW5jZW9mIEZzKSl0aHJvdyBuZXcgTS5iKFwid3JpdGVyLW1lcmdlLW5vLWVsZW1lbnQtYWZ0ZXI6IE5vZGUgYWZ0ZXIgbWVyZ2UgcG9zaXRpb24gbXVzdCBiZSBhbiBlbGVtZW50LlwiKTt0LnJvb3QuZG9jdW1lbnQ/dGhpcy5fbWVyZ2UodCk6dGhpcy5fbWVyZ2VEZXRhY2hlZCh0KX1fbWVyZ2VEZXRhY2hlZCh0KXtjb25zdCBlPXQubm9kZUJlZm9yZSxuPXQubm9kZUFmdGVyO3RoaXMubW92ZShxcy5jcmVhdGVJbihuKSxIcy5jcmVhdGVBdChlLFwiZW5kXCIpKSx0aGlzLnJlbW92ZShuKX1fbWVyZ2UodCl7Y29uc3QgZT1Icy5jcmVhdGVBdCh0Lm5vZGVCZWZvcmUsXCJlbmRcIiksbj1Icy5jcmVhdGVBdCh0Lm5vZGVBZnRlciwwKSxvPXQucm9vdC5kb2N1bWVudC5ncmF2ZXlhcmQsaT1uZXcgSHMobyxbMF0pLHI9dC5yb290LmRvY3VtZW50LnZlcnNpb24scz1uZXcgYWMobix0Lm5vZGVBZnRlci5tYXhPZmZzZXQsZSxpLHIpO3RoaXMuYmF0Y2guYWRkT3BlcmF0aW9uKHMpLHRoaXMubW9kZWwuYXBwbHlPcGVyYXRpb24ocyl9cmVuYW1lKHQsZSl7aWYodGhpcy5fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpLCEodCBpbnN0YW5jZW9mIEZzKSl0aHJvdyBuZXcgTS5iKFwid3JpdGVyLXJlbmFtZS1ub3QtZWxlbWVudC1pbnN0YW5jZTogVHJ5aW5nIHRvIHJlbmFtZSBhbiBvYmplY3Qgd2hpY2ggaXMgbm90IGFuIGluc3RhbmNlIG9mIEVsZW1lbnQuXCIpO2NvbnN0IG49dC5yb290LmRvY3VtZW50P3Qucm9vdC5kb2N1bWVudC52ZXJzaW9uOm51bGwsbz1uZXcgcmMoSHMuY3JlYXRlQmVmb3JlKHQpLHQubmFtZSxlLG4pO3RoaXMuYmF0Y2guYWRkT3BlcmF0aW9uKG8pLHRoaXMubW9kZWwuYXBwbHlPcGVyYXRpb24obyl9c3BsaXQodCxlKXt0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCk7bGV0IG4sbyxpPXQucGFyZW50O2lmKCFpLnBhcmVudCl0aHJvdyBuZXcgTS5iKFwid3JpdGVyLXNwbGl0LWVsZW1lbnQtbm8tcGFyZW50OiBFbGVtZW50IHdpdGggbm8gcGFyZW50IGNhbiBub3QgYmUgc3BsaXQuXCIpO2lmKGV8fChlPWkucGFyZW50KSwhdC5wYXJlbnQuZ2V0QW5jZXN0b3JzKHtpbmNsdWRlU2VsZjohMH0pLmluY2x1ZGVzKGUpKXRocm93IG5ldyBNLmIoXCJ3cml0ZXItc3BsaXQtaW52YWxpZC1saW1pdC1lbGVtZW50OiBMaW1pdCBlbGVtZW50IGlzIG5vdCBhIHBvc2l0aW9uIGFuY2VzdG9yLlwiKTtkb3tjb25zdCBlPWkucm9vdC5kb2N1bWVudD9pLnJvb3QuZG9jdW1lbnQudmVyc2lvbjpudWxsLHI9aS5tYXhPZmZzZXQtdC5vZmZzZXQscz1uZXcgY2ModCxyLG51bGwsZSk7dGhpcy5iYXRjaC5hZGRPcGVyYXRpb24ocyksdGhpcy5tb2RlbC5hcHBseU9wZXJhdGlvbihzKSxufHxvfHwobj1pLG89dC5wYXJlbnQubmV4dFNpYmxpbmcpLGk9KHQ9SHMuY3JlYXRlQWZ0ZXIodC5wYXJlbnQpKS5wYXJlbnR9d2hpbGUoaSE9PWUpO3JldHVybntwb3NpdGlvbjp0LHJhbmdlOm5ldyBxcyhIcy5jcmVhdGVBdChuLFwiZW5kXCIpLEhzLmNyZWF0ZUF0KG8pKX19d3JhcCh0LGUpe2lmKHRoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKSwhdC5pc0ZsYXQpdGhyb3cgbmV3IE0uYihcIndyaXRlci13cmFwLXJhbmdlLW5vdC1mbGF0OiBSYW5nZSB0byB3cmFwIGlzIG5vdCBmbGF0LlwiKTtjb25zdCBuPWUgaW5zdGFuY2VvZiBGcz9lOm5ldyBGcyhlKTtpZihuLmNoaWxkQ291bnQ+MCl0aHJvdyBuZXcgTS5iKFwid3JpdGVyLXdyYXAtZWxlbWVudC1ub3QtZW1wdHk6IEVsZW1lbnQgdG8gd3JhcCB3aXRoIGlzIG5vdCBlbXB0eS5cIik7aWYobnVsbCE9PW4ucGFyZW50KXRocm93IG5ldyBNLmIoXCJ3cml0ZXItd3JhcC1lbGVtZW50LWF0dGFjaGVkOiBFbGVtZW50IHRvIHdyYXAgd2l0aCBpcyBhbHJlYWR5IGF0dGFjaGVkIHRvIHRyZWUgbW9kZWwuXCIpO2NvbnN0IG89dC5yb290LmRvY3VtZW50P3Qucm9vdC5kb2N1bWVudC52ZXJzaW9uOm51bGwsaT1uZXcgb2ModC5zdGFydCxuLG8pO3RoaXMuYmF0Y2guYWRkT3BlcmF0aW9uKGkpLHRoaXMubW9kZWwuYXBwbHlPcGVyYXRpb24oaSk7Y29uc3Qgcj1uZXcgbmModC5zdGFydC5nZXRTaGlmdGVkQnkoMSksdC5lbmQub2Zmc2V0LXQuc3RhcnQub2Zmc2V0LEhzLmNyZWF0ZUF0KG4sMCksbnVsbD09PW8/bnVsbDpvKzEpO3RoaXMuYmF0Y2guYWRkT3BlcmF0aW9uKHIpLHRoaXMubW9kZWwuYXBwbHlPcGVyYXRpb24ocil9dW53cmFwKHQpe2lmKHRoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKSxudWxsPT09dC5wYXJlbnQpdGhyb3cgbmV3IE0uYihcIndyaXRlci11bndyYXAtZWxlbWVudC1uby1wYXJlbnQ6IFRyeWluZyB0byB1bndyYXAgYW4gZWxlbWVudCB3aGljaCBoYXMgbm8gcGFyZW50LlwiKTt0aGlzLm1vdmUocXMuY3JlYXRlSW4odCksSHMuY3JlYXRlQWZ0ZXIodCkpLHRoaXMucmVtb3ZlKHQpfWFkZE1hcmtlcih0LGUpe2lmKHRoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKSwhZXx8XCJib29sZWFuXCIhPXR5cGVvZiBlLnVzaW5nT3BlcmF0aW9uKXRocm93IG5ldyBNLmIoXCJ3cml0ZXItYWRkTWFya2VyLW5vLXVzaW5nT3BlcmF0aW9uczogVGhlIG9wdGlvbnMudXNpbmdPcGVyYXRpb25zIHBhcmFtZXRlciBpcyByZXF1aXJlZCB3aGVuIGFkZGluZyBhIG5ldyBtYXJrZXIuXCIpO2NvbnN0IG49ZS51c2luZ09wZXJhdGlvbixvPWUucmFuZ2UsaT12b2lkIDAhPT1lLmFmZmVjdHNEYXRhJiZlLmFmZmVjdHNEYXRhO2lmKHRoaXMubW9kZWwubWFya2Vycy5oYXModCkpdGhyb3cgbmV3IE0uYihcIndyaXRlci1hZGRNYXJrZXItbWFya2VyLWV4aXN0czogTWFya2VyIHdpdGggcHJvdmlkZWQgbmFtZSBhbHJlYWR5IGV4aXN0cy5cIik7aWYoIW8pdGhyb3cgbmV3IE0uYihcIndyaXRlci1hZGRNYXJrZXItbm8tcmFuZ2U6IFJhbmdlIHBhcmFtZXRlciBpcyByZXF1aXJlZCB3aGVuIGFkZGluZyBhIG5ldyBtYXJrZXIuXCIpO3JldHVybiBuPyhmYyh0aGlzLHQsbnVsbCxvLGkpLHRoaXMubW9kZWwubWFya2Vycy5nZXQodCkpOnRoaXMubW9kZWwubWFya2Vycy5fc2V0KHQsbyxuLGkpfXVwZGF0ZU1hcmtlcih0LGU9e30pe3RoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKTtjb25zdCBuPVwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6dC5uYW1lLG89dGhpcy5tb2RlbC5tYXJrZXJzLmdldChuKTtpZighbyl0aHJvdyBuZXcgTS5iKFwid3JpdGVyLXVwZGF0ZU1hcmtlci1tYXJrZXItbm90LWV4aXN0czogTWFya2VyIHdpdGggcHJvdmlkZWQgbmFtZSBkb2VzIG5vdCBleGlzdHMuXCIpO2NvbnN0IGk9XCJib29sZWFuXCI9PXR5cGVvZiBlLnVzaW5nT3BlcmF0aW9uLHI9XCJib29sZWFuXCI9PXR5cGVvZiBlLmFmZmVjdHNEYXRhLHM9cj9lLmFmZmVjdHNEYXRhOm8uYWZmZWN0c0RhdGE7aWYoIWkmJiFlLnJhbmdlJiYhcil0aHJvdyBuZXcgTS5iKFwid3JpdGVyLXVwZGF0ZU1hcmtlci13cm9uZy1vcHRpb25zOiBPbmUgb2YgdGhlIG9wdGlvbnMgaXMgcmVxdWlyZWQgLSBwcm92aWRlIHJhbmdlLCB1c2luZ09wZXJhdGlvbnMgb3IgYWZmZWN0c0RhdGEuXCIpO2NvbnN0IGE9by5nZXRSYW5nZSgpLGM9ZS5yYW5nZT9lLnJhbmdlOmE7aSYmZS51c2luZ09wZXJhdGlvbiE9PW8ubWFuYWdlZFVzaW5nT3BlcmF0aW9ucz9lLnVzaW5nT3BlcmF0aW9uP2ZjKHRoaXMsbixudWxsLGMscyk6KGZjKHRoaXMsbixhLG51bGwscyksdGhpcy5tb2RlbC5tYXJrZXJzLl9zZXQobixjLHZvaWQgMCxzKSk6by5tYW5hZ2VkVXNpbmdPcGVyYXRpb25zP2ZjKHRoaXMsbixhLGMscyk6dGhpcy5tb2RlbC5tYXJrZXJzLl9zZXQobixjLHZvaWQgMCxzKX1yZW1vdmVNYXJrZXIodCl7dGhpcy5fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpO2NvbnN0IGU9XCJzdHJpbmdcIj09dHlwZW9mIHQ/dDp0Lm5hbWU7aWYoIXRoaXMubW9kZWwubWFya2Vycy5oYXMoZSkpdGhyb3cgbmV3IE0uYihcIndyaXRlci1yZW1vdmVNYXJrZXItbm8tbWFya2VyOiBUcnlpbmcgdG8gcmVtb3ZlIG1hcmtlciB3aGljaCBkb2VzIG5vdCBleGlzdC5cIik7Y29uc3Qgbj10aGlzLm1vZGVsLm1hcmtlcnMuZ2V0KGUpO24ubWFuYWdlZFVzaW5nT3BlcmF0aW9ucz9mYyh0aGlzLGUsbi5nZXRSYW5nZSgpLG51bGwsbi5hZmZlY3RzRGF0YSk6dGhpcy5tb2RlbC5tYXJrZXJzLl9yZW1vdmUoZSl9c2V0U2VsZWN0aW9uKHQsZSxuKXt0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCksdGhpcy5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uX3NldFRvKHQsZSxuKX1zZXRTZWxlY3Rpb25Gb2N1cyh0LGUpe3RoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKSx0aGlzLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5fc2V0Rm9jdXModCxlKX1zZXRTZWxlY3Rpb25BdHRyaWJ1dGUodCxlKXtpZih0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCksXCJzdHJpbmdcIj09dHlwZW9mIHQpdGhpcy5fc2V0U2VsZWN0aW9uQXR0cmlidXRlKHQsZSk7ZWxzZSBmb3IoY29uc3RbZSxuXW9mIFJzKHQpKXRoaXMuX3NldFNlbGVjdGlvbkF0dHJpYnV0ZShlLG4pfXJlbW92ZVNlbGVjdGlvbkF0dHJpYnV0ZSh0KXtpZih0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCksXCJzdHJpbmdcIj09dHlwZW9mIHQpdGhpcy5fcmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKHQpO2Vsc2UgZm9yKGNvbnN0IGUgb2YgdCl0aGlzLl9yZW1vdmVTZWxlY3Rpb25BdHRyaWJ1dGUoZSl9b3ZlcnJpZGVTZWxlY3Rpb25HcmF2aXR5KCl7cmV0dXJuIHRoaXMubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLl9vdmVycmlkZUdyYXZpdHkoKX1yZXN0b3JlU2VsZWN0aW9uR3Jhdml0eSh0KXt0aGlzLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5fcmVzdG9yZUdyYXZpdHkodCl9X3NldFNlbGVjdGlvbkF0dHJpYnV0ZSh0LGUpe2NvbnN0IG49dGhpcy5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb247aWYobi5pc0NvbGxhcHNlZCYmbi5hbmNob3IucGFyZW50LmlzRW1wdHkpe2NvbnN0IG89ZWEuX2dldFN0b3JlQXR0cmlidXRlS2V5KHQpO3RoaXMuc2V0QXR0cmlidXRlKG8sZSxuLmFuY2hvci5wYXJlbnQpfW4uX3NldEF0dHJpYnV0ZSh0LGUpfV9yZW1vdmVTZWxlY3Rpb25BdHRyaWJ1dGUodCl7Y29uc3QgZT10aGlzLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbjtpZihlLmlzQ29sbGFwc2VkJiZlLmFuY2hvci5wYXJlbnQuaXNFbXB0eSl7Y29uc3Qgbj1lYS5fZ2V0U3RvcmVBdHRyaWJ1dGVLZXkodCk7dGhpcy5yZW1vdmVBdHRyaWJ1dGUobixlLmFuY2hvci5wYXJlbnQpfWUuX3JlbW92ZUF0dHJpYnV0ZSh0KX1fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpe2lmKHRoaXMubW9kZWwuX2N1cnJlbnRXcml0ZXIhPT10aGlzKXRocm93IG5ldyBNLmIoXCJ3cml0ZXItaW5jb3JyZWN0LXVzZTogVHJ5aW5nIHRvIHVzZSBhIHdyaXRlciBvdXRzaWRlIHRoZSBjaGFuZ2UoKSBibG9jay5cIil9fWZ1bmN0aW9uIHVjKHQsZSxuLG8pe2NvbnN0IGk9dC5tb2RlbCxyPWkuZG9jdW1lbnQ7bGV0IHMsYSxjLGw9by5zdGFydDtmb3IoY29uc3QgdCBvZiBvLmdldFdhbGtlcih7c2hhbGxvdzohMH0pKWM9dC5pdGVtLmdldEF0dHJpYnV0ZShlKSxzJiZhIT1jJiYoYSE9biYmZCgpLGw9cykscz10Lm5leHRQb3NpdGlvbixhPWM7ZnVuY3Rpb24gZCgpe2NvbnN0IG89bmV3IHFzKGwscyksYz1vLnJvb3QuZG9jdW1lbnQ/ci52ZXJzaW9uOm51bGwsZD1uZXcgdGMobyxlLGEsbixjKTt0LmJhdGNoLmFkZE9wZXJhdGlvbihkKSxpLmFwcGx5T3BlcmF0aW9uKGQpfXMgaW5zdGFuY2VvZiBIcyYmcyE9bCYmYSE9biYmZCgpfWZ1bmN0aW9uIGhjKHQsZSxuLG8pe2NvbnN0IGk9dC5tb2RlbCxyPWkuZG9jdW1lbnQscz1vLmdldEF0dHJpYnV0ZShlKTtsZXQgYSxjO2lmKHMhPW4pe2lmKG8ucm9vdD09PW8pe2NvbnN0IHQ9by5kb2N1bWVudD9yLnZlcnNpb246bnVsbDtjPW5ldyBzYyhvLGUscyxuLHQpfWVsc2V7Y29uc3QgdD0oYT1uZXcgcXMoSHMuY3JlYXRlQmVmb3JlKG8pLEhzLmNyZWF0ZUFmdGVyKG8pKSkucm9vdC5kb2N1bWVudD9yLnZlcnNpb246bnVsbDtjPW5ldyB0YyhhLGUscyxuLHQpfXQuYmF0Y2guYWRkT3BlcmF0aW9uKGMpLGkuYXBwbHlPcGVyYXRpb24oYyl9fWZ1bmN0aW9uIGZjKHQsZSxuLG8saSl7Y29uc3Qgcj10Lm1vZGVsLHM9ci5kb2N1bWVudCxhPW5ldyBpYyhlLG4sbyxyLm1hcmtlcnMsaSxzLnZlcnNpb24pO3QuYmF0Y2guYWRkT3BlcmF0aW9uKGEpLHIuYXBwbHlPcGVyYXRpb24oYSl9ZnVuY3Rpb24gbWModCxlLG4sbyl7bGV0IGk7aWYodC5yb290LmRvY3VtZW50KXtjb25zdCBuPW8uZG9jdW1lbnQscj1uZXcgSHMobi5ncmF2ZXlhcmQsWzBdKTtpPW5ldyBuYyh0LGUscixuLnZlcnNpb24pfWVsc2UgaT1uZXcgZWModCxlKTtuLmFkZE9wZXJhdGlvbihpKSxvLmFwcGx5T3BlcmF0aW9uKGkpfWZ1bmN0aW9uIGdjKHQsZSl7cmV0dXJuIHQ9PT1lfHx0IGluc3RhbmNlb2YgbGMmJmUgaW5zdGFuY2VvZiBsY31jbGFzcyBwY3tjb25zdHJ1Y3Rvcih0KXt0aGlzLl9tYXJrZXJDb2xsZWN0aW9uPXQsdGhpcy5fY2hhbmdlc0luRWxlbWVudD1uZXcgTWFwLHRoaXMuX2VsZW1lbnRTbmFwc2hvdHM9bmV3IE1hcCx0aGlzLl9jaGFuZ2VkTWFya2Vycz1uZXcgTWFwLHRoaXMuX2NoYW5nZUNvdW50PTAsdGhpcy5fY2FjaGVkQ2hhbmdlcz1udWxsLHRoaXMuX2NhY2hlZENoYW5nZXNXaXRoR3JhdmV5YXJkPW51bGx9Z2V0IGlzRW1wdHkoKXtyZXR1cm4gMD09dGhpcy5fY2hhbmdlc0luRWxlbWVudC5zaXplJiYwPT10aGlzLl9jaGFuZ2VkTWFya2Vycy5zaXplfWJ1ZmZlck9wZXJhdGlvbih0KXtzd2l0Y2godC50eXBlKXtjYXNlXCJpbnNlcnRcIjppZih0aGlzLl9pc0luSW5zZXJ0ZWRFbGVtZW50KHQucG9zaXRpb24ucGFyZW50KSlyZXR1cm47dGhpcy5fbWFya0luc2VydCh0LnBvc2l0aW9uLnBhcmVudCx0LnBvc2l0aW9uLm9mZnNldCx0Lm5vZGVzLm1heE9mZnNldCk7YnJlYWs7Y2FzZVwiYWRkQXR0cmlidXRlXCI6Y2FzZVwicmVtb3ZlQXR0cmlidXRlXCI6Y2FzZVwiY2hhbmdlQXR0cmlidXRlXCI6Zm9yKGNvbnN0IGUgb2YgdC5yYW5nZS5nZXRJdGVtcygpKXRoaXMuX2lzSW5JbnNlcnRlZEVsZW1lbnQoZS5wYXJlbnQpfHx0aGlzLl9tYXJrQXR0cmlidXRlKGUpO2JyZWFrO2Nhc2VcInJlbW92ZVwiOmNhc2VcIm1vdmVcIjpjYXNlXCJyZWluc2VydFwiOntjb25zdCBlPXRoaXMuX2lzSW5JbnNlcnRlZEVsZW1lbnQodC5zb3VyY2VQb3NpdGlvbi5wYXJlbnQpLG49dGhpcy5faXNJbkluc2VydGVkRWxlbWVudCh0LnRhcmdldFBvc2l0aW9uLnBhcmVudCk7ZXx8dGhpcy5fbWFya1JlbW92ZSh0LnNvdXJjZVBvc2l0aW9uLnBhcmVudCx0LnNvdXJjZVBvc2l0aW9uLm9mZnNldCx0Lmhvd01hbnkpLG58fHRoaXMuX21hcmtJbnNlcnQodC50YXJnZXRQb3NpdGlvbi5wYXJlbnQsdC5nZXRNb3ZlZFJhbmdlU3RhcnQoKS5vZmZzZXQsdC5ob3dNYW55KTticmVha31jYXNlXCJyZW5hbWVcIjp7aWYodGhpcy5faXNJbkluc2VydGVkRWxlbWVudCh0LnBvc2l0aW9uLnBhcmVudCkpcmV0dXJuO3RoaXMuX21hcmtSZW1vdmUodC5wb3NpdGlvbi5wYXJlbnQsdC5wb3NpdGlvbi5vZmZzZXQsMSksdGhpcy5fbWFya0luc2VydCh0LnBvc2l0aW9uLnBhcmVudCx0LnBvc2l0aW9uLm9mZnNldCwxKTtjb25zdCBlPXFzLmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KHQucG9zaXRpb24sMSk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fbWFya2VyQ29sbGVjdGlvbi5nZXRNYXJrZXJzSW50ZXJzZWN0aW5nUmFuZ2UoZSkpe2NvbnN0IGU9dC5nZXRSYW5nZSgpO3RoaXMuYnVmZmVyTWFya2VyQ2hhbmdlKHQubmFtZSxlLGUsdC5hZmZlY3RzRGF0YSl9YnJlYWt9Y2FzZVwic3BsaXRcIjp7Y29uc3QgZT10LnNwbGl0UG9zaXRpb24ucGFyZW50O3RoaXMuX2lzSW5JbnNlcnRlZEVsZW1lbnQoZSl8fHRoaXMuX21hcmtSZW1vdmUoZSx0LnNwbGl0UG9zaXRpb24ub2Zmc2V0LHQuaG93TWFueSksdGhpcy5faXNJbkluc2VydGVkRWxlbWVudCh0Lmluc2VydGlvblBvc2l0aW9uLnBhcmVudCl8fHRoaXMuX21hcmtJbnNlcnQodC5pbnNlcnRpb25Qb3NpdGlvbi5wYXJlbnQsdC5pbnNlcnRpb25Qb3NpdGlvbi5vZmZzZXQsMSksdC5ncmF2ZXlhcmRQb3NpdGlvbiYmdGhpcy5fbWFya1JlbW92ZSh0LmdyYXZleWFyZFBvc2l0aW9uLnBhcmVudCx0LmdyYXZleWFyZFBvc2l0aW9uLm9mZnNldCwxKTticmVha31jYXNlXCJtZXJnZVwiOntjb25zdCBlPXQuc291cmNlUG9zaXRpb24ucGFyZW50O3RoaXMuX2lzSW5JbnNlcnRlZEVsZW1lbnQoZS5wYXJlbnQpfHx0aGlzLl9tYXJrUmVtb3ZlKGUucGFyZW50LGUuc3RhcnRPZmZzZXQsMSk7Y29uc3Qgbj10LmdyYXZleWFyZFBvc2l0aW9uLnBhcmVudDt0aGlzLl9tYXJrSW5zZXJ0KG4sdC5ncmF2ZXlhcmRQb3NpdGlvbi5vZmZzZXQsMSk7Y29uc3Qgbz10LnRhcmdldFBvc2l0aW9uLnBhcmVudDt0aGlzLl9pc0luSW5zZXJ0ZWRFbGVtZW50KG8pfHx0aGlzLl9tYXJrSW5zZXJ0KG8sdC50YXJnZXRQb3NpdGlvbi5vZmZzZXQsZS5tYXhPZmZzZXQpO2JyZWFrfX10aGlzLl9jYWNoZWRDaGFuZ2VzPW51bGx9YnVmZmVyTWFya2VyQ2hhbmdlKHQsZSxuLG8pe2NvbnN0IGk9dGhpcy5fY2hhbmdlZE1hcmtlcnMuZ2V0KHQpO2k/KGkubmV3UmFuZ2U9bixpLmFmZmVjdHNEYXRhPW8sbnVsbD09aS5vbGRSYW5nZSYmbnVsbD09aS5uZXdSYW5nZSYmdGhpcy5fY2hhbmdlZE1hcmtlcnMuZGVsZXRlKHQpKTp0aGlzLl9jaGFuZ2VkTWFya2Vycy5zZXQodCx7b2xkUmFuZ2U6ZSxuZXdSYW5nZTpuLGFmZmVjdHNEYXRhOm99KX1nZXRNYXJrZXJzVG9SZW1vdmUoKXtjb25zdCB0PVtdO2Zvcihjb25zdFtlLG5db2YgdGhpcy5fY2hhbmdlZE1hcmtlcnMpbnVsbCE9bi5vbGRSYW5nZSYmdC5wdXNoKHtuYW1lOmUscmFuZ2U6bi5vbGRSYW5nZX0pO3JldHVybiB0fWdldE1hcmtlcnNUb0FkZCgpe2NvbnN0IHQ9W107Zm9yKGNvbnN0W2Usbl1vZiB0aGlzLl9jaGFuZ2VkTWFya2VycyludWxsIT1uLm5ld1JhbmdlJiZ0LnB1c2goe25hbWU6ZSxyYW5nZTpuLm5ld1JhbmdlfSk7cmV0dXJuIHR9aGFzRGF0YUNoYW5nZXMoKXtmb3IoY29uc3RbLHRdb2YgdGhpcy5fY2hhbmdlZE1hcmtlcnMpaWYodC5hZmZlY3RzRGF0YSlyZXR1cm4hMDtyZXR1cm4gdGhpcy5fY2hhbmdlc0luRWxlbWVudC5zaXplPjB9Z2V0Q2hhbmdlcyh0PXtpbmNsdWRlQ2hhbmdlc0luR3JhdmV5YXJkOiExfSl7aWYodGhpcy5fY2FjaGVkQ2hhbmdlcylyZXR1cm4gdC5pbmNsdWRlQ2hhbmdlc0luR3JhdmV5YXJkP3RoaXMuX2NhY2hlZENoYW5nZXNXaXRoR3JhdmV5YXJkLnNsaWNlKCk6dGhpcy5fY2FjaGVkQ2hhbmdlcy5zbGljZSgpO2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgb2YgdGhpcy5fY2hhbmdlc0luRWxlbWVudC5rZXlzKCkpe2NvbnN0IG49dGhpcy5fY2hhbmdlc0luRWxlbWVudC5nZXQodCkuc29ydCgodCxlKT0+dC5vZmZzZXQ9PT1lLm9mZnNldD90LnR5cGUhPWUudHlwZT9cInJlbW92ZVwiPT10LnR5cGU/LTE6MTowOnQub2Zmc2V0PGUub2Zmc2V0Py0xOjEpLG89dGhpcy5fZWxlbWVudFNuYXBzaG90cy5nZXQodCksaT1iYyh0LmdldENoaWxkcmVuKCkpLHI9d2Moby5sZW5ndGgsbik7bGV0IHM9MCxhPTA7Zm9yKGNvbnN0IG4gb2YgcilpZihcImlcIj09PW4pZS5wdXNoKHRoaXMuX2dldEluc2VydERpZmYodCxzLGlbc10ubmFtZSkpLHMrKztlbHNlIGlmKFwiclwiPT09billLnB1c2godGhpcy5fZ2V0UmVtb3ZlRGlmZih0LHMsb1thXS5uYW1lKSksYSsrO2Vsc2UgaWYoXCJhXCI9PT1uKXtjb25zdCBuPWlbc10uYXR0cmlidXRlcyxyPW9bYV0uYXR0cmlidXRlcztsZXQgYztpZihcIiR0ZXh0XCI9PWlbc10ubmFtZSljPXFzLmNyZWF0ZUZyb21QYXJlbnRzQW5kT2Zmc2V0cyh0LHMsdCxzKzEpO2Vsc2V7Y29uc3QgZT10Lm9mZnNldFRvSW5kZXgocyk7Yz1xcy5jcmVhdGVGcm9tUGFyZW50c0FuZE9mZnNldHModCxzLHQuZ2V0Q2hpbGQoZSksMCl9ZS5wdXNoKC4uLnRoaXMuX2dldEF0dHJpYnV0ZXNEaWZmKGMscixuKSkscysrLGErK31lbHNlIHMrKyxhKyt9ZS5zb3J0KCh0LGUpPT50LnBvc2l0aW9uLnJvb3QhPWUucG9zaXRpb24ucm9vdD90LnBvc2l0aW9uLnJvb3Qucm9vdE5hbWU8ZS5wb3NpdGlvbi5yb290LnJvb3ROYW1lPy0xOjE6dC5wb3NpdGlvbi5pc0VxdWFsKGUucG9zaXRpb24pP3QuY2hhbmdlQ291bnQ8ZS5jaGFuZ2VDb3VudD8tMToxOnQucG9zaXRpb24uaXNCZWZvcmUoZS5wb3NpdGlvbik/LTE6MSk7Zm9yKGxldCB0PTE7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IG49ZVt0LTFdLG89ZVt0XSxpPVwicmVtb3ZlXCI9PW4udHlwZSYmXCJyZW1vdmVcIj09by50eXBlJiZcIiR0ZXh0XCI9PW4ubmFtZSYmXCIkdGV4dFwiPT1vLm5hbWUmJm4ucG9zaXRpb24uaXNFcXVhbChvLnBvc2l0aW9uKSxyPVwiaW5zZXJ0XCI9PW4udHlwZSYmXCJpbnNlcnRcIj09by50eXBlJiZcIiR0ZXh0XCI9PW4ubmFtZSYmXCIkdGV4dFwiPT1vLm5hbWUmJm4ucG9zaXRpb24ucGFyZW50PT1vLnBvc2l0aW9uLnBhcmVudCYmbi5wb3NpdGlvbi5vZmZzZXQrbi5sZW5ndGg9PW8ucG9zaXRpb24ub2Zmc2V0LHM9XCJhdHRyaWJ1dGVcIj09bi50eXBlJiZcImF0dHJpYnV0ZVwiPT1vLnR5cGUmJm4ucG9zaXRpb24ucGFyZW50PT1vLnBvc2l0aW9uLnBhcmVudCYmbi5yYW5nZS5pc0ZsYXQmJm8ucmFuZ2UuaXNGbGF0JiZuLnBvc2l0aW9uLm9mZnNldCtuLmxlbmd0aD09by5wb3NpdGlvbi5vZmZzZXQmJm4uYXR0cmlidXRlS2V5PT1vLmF0dHJpYnV0ZUtleSYmbi5hdHRyaWJ1dGVPbGRWYWx1ZT09by5hdHRyaWJ1dGVPbGRWYWx1ZSYmbi5hdHRyaWJ1dGVOZXdWYWx1ZT09by5hdHRyaWJ1dGVOZXdWYWx1ZTsoaXx8cnx8cykmJihlW3QtMV0ubGVuZ3RoKysscyYmKGVbdC0xXS5yYW5nZS5lbmQ9ZVt0LTFdLnJhbmdlLmVuZC5nZXRTaGlmdGVkQnkoMSkpLGUuc3BsaWNlKHQsMSksdC0tKX1mb3IoY29uc3QgdCBvZiBlKWRlbGV0ZSB0LmNoYW5nZUNvdW50LFwiYXR0cmlidXRlXCI9PXQudHlwZSYmKGRlbGV0ZSB0LnBvc2l0aW9uLGRlbGV0ZSB0Lmxlbmd0aCk7cmV0dXJuIHRoaXMuX2NoYW5nZUNvdW50PTAsdGhpcy5fY2FjaGVkQ2hhbmdlc1dpdGhHcmF2ZXlhcmQ9ZS5zbGljZSgpLHRoaXMuX2NhY2hlZENoYW5nZXM9ZS5zbGljZSgpLmZpbHRlcihfYyksdC5pbmNsdWRlQ2hhbmdlc0luR3JhdmV5YXJkP3RoaXMuX2NhY2hlZENoYW5nZXNXaXRoR3JhdmV5YXJkOnRoaXMuX2NhY2hlZENoYW5nZXN9cmVzZXQoKXt0aGlzLl9jaGFuZ2VzSW5FbGVtZW50LmNsZWFyKCksdGhpcy5fZWxlbWVudFNuYXBzaG90cy5jbGVhcigpLHRoaXMuX2NoYW5nZWRNYXJrZXJzLmNsZWFyKCksdGhpcy5fY2FjaGVkQ2hhbmdlcz1udWxsfV9tYXJrSW5zZXJ0KHQsZSxuKXtjb25zdCBvPXt0eXBlOlwiaW5zZXJ0XCIsb2Zmc2V0OmUsaG93TWFueTpuLGNvdW50OnRoaXMuX2NoYW5nZUNvdW50Kyt9O3RoaXMuX21hcmtDaGFuZ2UodCxvKX1fbWFya1JlbW92ZSh0LGUsbil7Y29uc3Qgbz17dHlwZTpcInJlbW92ZVwiLG9mZnNldDplLGhvd01hbnk6bixjb3VudDp0aGlzLl9jaGFuZ2VDb3VudCsrfTt0aGlzLl9tYXJrQ2hhbmdlKHQsbyksdGhpcy5fcmVtb3ZlQWxsTmVzdGVkQ2hhbmdlcyh0LGUsbil9X21hcmtBdHRyaWJ1dGUodCl7Y29uc3QgZT17dHlwZTpcImF0dHJpYnV0ZVwiLG9mZnNldDp0LnN0YXJ0T2Zmc2V0LGhvd01hbnk6dC5vZmZzZXRTaXplLGNvdW50OnRoaXMuX2NoYW5nZUNvdW50Kyt9O3RoaXMuX21hcmtDaGFuZ2UodC5wYXJlbnQsZSl9X21hcmtDaGFuZ2UodCxlKXt0aGlzLl9tYWtlU25hcHNob3QodCk7Y29uc3Qgbj10aGlzLl9nZXRDaGFuZ2VzRm9yRWxlbWVudCh0KTt0aGlzLl9oYW5kbGVDaGFuZ2UoZSxuKSxuLnB1c2goZSk7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kyspblt0XS5ob3dNYW55PDEmJihuLnNwbGljZSh0LDEpLHQtLSl9X2dldENoYW5nZXNGb3JFbGVtZW50KHQpe2xldCBlO3JldHVybiB0aGlzLl9jaGFuZ2VzSW5FbGVtZW50Lmhhcyh0KT9lPXRoaXMuX2NoYW5nZXNJbkVsZW1lbnQuZ2V0KHQpOihlPVtdLHRoaXMuX2NoYW5nZXNJbkVsZW1lbnQuc2V0KHQsZSkpLGV9X21ha2VTbmFwc2hvdCh0KXt0aGlzLl9lbGVtZW50U25hcHNob3RzLmhhcyh0KXx8dGhpcy5fZWxlbWVudFNuYXBzaG90cy5zZXQodCxiYyh0LmdldENoaWxkcmVuKCkpKX1faGFuZGxlQ2hhbmdlKHQsZSl7dC5ub2Rlc1RvSGFuZGxlPXQuaG93TWFueTtmb3IoY29uc3QgbiBvZiBlKXtjb25zdCBvPXQub2Zmc2V0K3QuaG93TWFueSxpPW4ub2Zmc2V0K24uaG93TWFueTtpZihcImluc2VydFwiPT10LnR5cGUmJihcImluc2VydFwiPT1uLnR5cGUmJih0Lm9mZnNldDw9bi5vZmZzZXQ/bi5vZmZzZXQrPXQuaG93TWFueTp0Lm9mZnNldDxpJiYobi5ob3dNYW55Kz10Lm5vZGVzVG9IYW5kbGUsdC5ub2Rlc1RvSGFuZGxlPTApKSxcInJlbW92ZVwiPT1uLnR5cGUmJnQub2Zmc2V0PG4ub2Zmc2V0JiYobi5vZmZzZXQrPXQuaG93TWFueSksXCJhdHRyaWJ1dGVcIj09bi50eXBlKSlpZih0Lm9mZnNldDw9bi5vZmZzZXQpbi5vZmZzZXQrPXQuaG93TWFueTtlbHNlIGlmKHQub2Zmc2V0PGkpe2NvbnN0IGk9bi5ob3dNYW55O24uaG93TWFueT10Lm9mZnNldC1uLm9mZnNldCxlLnVuc2hpZnQoe3R5cGU6XCJhdHRyaWJ1dGVcIixvZmZzZXQ6byxob3dNYW55Omktbi5ob3dNYW55LGNvdW50OnRoaXMuX2NoYW5nZUNvdW50Kyt9KX1pZihcInJlbW92ZVwiPT10LnR5cGUpe2lmKFwiaW5zZXJ0XCI9PW4udHlwZSlpZihvPD1uLm9mZnNldCluLm9mZnNldC09dC5ob3dNYW55O2Vsc2UgaWYobzw9aSlpZih0Lm9mZnNldDxuLm9mZnNldCl7Y29uc3QgZT1vLW4ub2Zmc2V0O24ub2Zmc2V0PXQub2Zmc2V0LG4uaG93TWFueS09ZSx0Lm5vZGVzVG9IYW5kbGUtPWV9ZWxzZSBuLmhvd01hbnktPXQubm9kZXNUb0hhbmRsZSx0Lm5vZGVzVG9IYW5kbGU9MDtlbHNlIGlmKHQub2Zmc2V0PD1uLm9mZnNldCl0Lm5vZGVzVG9IYW5kbGUtPW4uaG93TWFueSxuLmhvd01hbnk9MDtlbHNlIGlmKHQub2Zmc2V0PGkpe2NvbnN0IGU9aS10Lm9mZnNldDtuLmhvd01hbnktPWUsdC5ub2Rlc1RvSGFuZGxlLT1lfWlmKFwicmVtb3ZlXCI9PW4udHlwZSYmKG88PW4ub2Zmc2V0P24ub2Zmc2V0LT10Lmhvd01hbnk6dC5vZmZzZXQ8bi5vZmZzZXQmJih0Lm5vZGVzVG9IYW5kbGUrPW4uaG93TWFueSxuLmhvd01hbnk9MCkpLFwiYXR0cmlidXRlXCI9PW4udHlwZSlpZihvPD1uLm9mZnNldCluLm9mZnNldC09dC5ob3dNYW55O2Vsc2UgaWYodC5vZmZzZXQ8bi5vZmZzZXQpe2NvbnN0IGU9by1uLm9mZnNldDtuLm9mZnNldD10Lm9mZnNldCxuLmhvd01hbnktPWV9ZWxzZSBpZih0Lm9mZnNldDxpKWlmKG88PWkpe2NvbnN0IG89bi5ob3dNYW55O24uaG93TWFueT10Lm9mZnNldC1uLm9mZnNldDtjb25zdCBpPW8tbi5ob3dNYW55LXQubm9kZXNUb0hhbmRsZTtlLnVuc2hpZnQoe3R5cGU6XCJhdHRyaWJ1dGVcIixvZmZzZXQ6dC5vZmZzZXQsaG93TWFueTppLGNvdW50OnRoaXMuX2NoYW5nZUNvdW50Kyt9KX1lbHNlIG4uaG93TWFueS09aS10Lm9mZnNldH1pZihcImF0dHJpYnV0ZVwiPT10LnR5cGUpe2lmKFwiaW5zZXJ0XCI9PW4udHlwZSlpZih0Lm9mZnNldDxuLm9mZnNldCYmbz5uLm9mZnNldCl7aWYobz5pKXtjb25zdCB0PXt0eXBlOlwiYXR0cmlidXRlXCIsb2Zmc2V0OmksaG93TWFueTpvLWksY291bnQ6dGhpcy5fY2hhbmdlQ291bnQrK307dGhpcy5faGFuZGxlQ2hhbmdlKHQsZSksZS5wdXNoKHQpfXQubm9kZXNUb0hhbmRsZT1uLm9mZnNldC10Lm9mZnNldCx0Lmhvd01hbnk9dC5ub2Rlc1RvSGFuZGxlfWVsc2UgdC5vZmZzZXQ+PW4ub2Zmc2V0JiZ0Lm9mZnNldDxpJiYobz5pPyh0Lm5vZGVzVG9IYW5kbGU9by1pLHQub2Zmc2V0PWkpOnQubm9kZXNUb0hhbmRsZT0wKTtcImF0dHJpYnV0ZVwiPT1uLnR5cGUmJih0Lm9mZnNldD49bi5vZmZzZXQmJm88PWk/KHQubm9kZXNUb0hhbmRsZT0wLHQuaG93TWFueT0wLHQub2Zmc2V0PTApOnQub2Zmc2V0PD1uLm9mZnNldCYmbz49aSYmKG4uaG93TWFueT0wKSl9fXQuaG93TWFueT10Lm5vZGVzVG9IYW5kbGUsZGVsZXRlIHQubm9kZXNUb0hhbmRsZX1fZ2V0SW5zZXJ0RGlmZih0LGUsbil7cmV0dXJue3R5cGU6XCJpbnNlcnRcIixwb3NpdGlvbjpIcy5jcmVhdGVGcm9tUGFyZW50QW5kT2Zmc2V0KHQsZSksbmFtZTpuLGxlbmd0aDoxLGNoYW5nZUNvdW50OnRoaXMuX2NoYW5nZUNvdW50Kyt9fV9nZXRSZW1vdmVEaWZmKHQsZSxuKXtyZXR1cm57dHlwZTpcInJlbW92ZVwiLHBvc2l0aW9uOkhzLmNyZWF0ZUZyb21QYXJlbnRBbmRPZmZzZXQodCxlKSxuYW1lOm4sbGVuZ3RoOjEsY2hhbmdlQ291bnQ6dGhpcy5fY2hhbmdlQ291bnQrK319X2dldEF0dHJpYnV0ZXNEaWZmKHQsZSxuKXtjb25zdCBvPVtdO249bmV3IE1hcChuKTtmb3IoY29uc3RbaSxyXW9mIGUpe2NvbnN0IGU9bi5oYXMoaSk/bi5nZXQoaSk6bnVsbDtlIT09ciYmby5wdXNoKHt0eXBlOlwiYXR0cmlidXRlXCIscG9zaXRpb246dC5zdGFydCxyYW5nZTpxcy5jcmVhdGVGcm9tUmFuZ2UodCksbGVuZ3RoOjEsYXR0cmlidXRlS2V5OmksYXR0cmlidXRlT2xkVmFsdWU6cixhdHRyaWJ1dGVOZXdWYWx1ZTplLGNoYW5nZUNvdW50OnRoaXMuX2NoYW5nZUNvdW50Kyt9KSxuLmRlbGV0ZShpKX1mb3IoY29uc3RbZSxpXW9mIG4pby5wdXNoKHt0eXBlOlwiYXR0cmlidXRlXCIscG9zaXRpb246dC5zdGFydCxyYW5nZTpxcy5jcmVhdGVGcm9tUmFuZ2UodCksbGVuZ3RoOjEsYXR0cmlidXRlS2V5OmUsYXR0cmlidXRlT2xkVmFsdWU6bnVsbCxhdHRyaWJ1dGVOZXdWYWx1ZTppLGNoYW5nZUNvdW50OnRoaXMuX2NoYW5nZUNvdW50Kyt9KTtyZXR1cm4gb31faXNJbkluc2VydGVkRWxlbWVudCh0KXtjb25zdCBlPXQucGFyZW50O2lmKCFlKXJldHVybiExO2NvbnN0IG49dGhpcy5fY2hhbmdlc0luRWxlbWVudC5nZXQoZSksbz10LnN0YXJ0T2Zmc2V0O2lmKG4pZm9yKGNvbnN0IHQgb2YgbilpZihcImluc2VydFwiPT10LnR5cGUmJm8+PXQub2Zmc2V0JiZvPHQub2Zmc2V0K3QuaG93TWFueSlyZXR1cm4hMDtyZXR1cm4gdGhpcy5faXNJbkluc2VydGVkRWxlbWVudChlKX1fcmVtb3ZlQWxsTmVzdGVkQ2hhbmdlcyh0LGUsbil7Y29uc3Qgbz1xcy5jcmVhdGVGcm9tUGFyZW50c0FuZE9mZnNldHModCxlLHQsZStuKTtmb3IoY29uc3QgdCBvZiBvLmdldEl0ZW1zKHtzaGFsbG93OiEwfSkpdC5pcyhcImVsZW1lbnRcIikmJih0aGlzLl9lbGVtZW50U25hcHNob3RzLmRlbGV0ZSh0KSx0aGlzLl9jaGFuZ2VzSW5FbGVtZW50LmRlbGV0ZSh0KSx0aGlzLl9yZW1vdmVBbGxOZXN0ZWRDaGFuZ2VzKHQsMCx0Lm1heE9mZnNldCkpfX1mdW5jdGlvbiBiYyh0KXtjb25zdCBlPVtdO2Zvcihjb25zdCBuIG9mIHQpaWYobi5pcyhcInRleHRcIikpZm9yKGxldCB0PTA7dDxuLmRhdGEubGVuZ3RoO3QrKyllLnB1c2goe25hbWU6XCIkdGV4dFwiLGF0dHJpYnV0ZXM6bmV3IE1hcChuLmdldEF0dHJpYnV0ZXMoKSl9KTtlbHNlIGUucHVzaCh7bmFtZTpuLm5hbWUsYXR0cmlidXRlczpuZXcgTWFwKG4uZ2V0QXR0cmlidXRlcygpKX0pO3JldHVybiBlfWZ1bmN0aW9uIHdjKHQsZSl7Y29uc3Qgbj1bXTtsZXQgbz0wLGk9MDtmb3IoY29uc3QgdCBvZiBlKXQub2Zmc2V0Pm8mJihuLnB1c2goLi4uXCJlXCIucmVwZWF0KHQub2Zmc2V0LW8pLnNwbGl0KFwiXCIpKSxpKz10Lm9mZnNldC1vKSxcImluc2VydFwiPT10LnR5cGU/KG4ucHVzaCguLi5cImlcIi5yZXBlYXQodC5ob3dNYW55KS5zcGxpdChcIlwiKSksbz10Lm9mZnNldCt0Lmhvd01hbnkpOlwicmVtb3ZlXCI9PXQudHlwZT8obi5wdXNoKC4uLlwiclwiLnJlcGVhdCh0Lmhvd01hbnkpLnNwbGl0KFwiXCIpKSxvPXQub2Zmc2V0LGkrPXQuaG93TWFueSk6KG4ucHVzaCguLi5cImFcIi5yZXBlYXQodC5ob3dNYW55KS5zcGxpdChcIlwiKSksbz10Lm9mZnNldCt0Lmhvd01hbnksaSs9dC5ob3dNYW55KTtyZXR1cm4gaTx0JiZuLnB1c2goLi4uXCJlXCIucmVwZWF0KHQtaSkuc3BsaXQoXCJcIikpLG59ZnVuY3Rpb24gX2ModCl7Y29uc3QgZT10LnBvc2l0aW9uJiZcIiRncmF2ZXlhcmRcIj09dC5wb3NpdGlvbi5yb290LnJvb3ROYW1lLG49dC5yYW5nZSYmXCIkZ3JhdmV5YXJkXCI9PXQucmFuZ2Uucm9vdC5yb290TmFtZTtyZXR1cm4hZSYmIW59Y2xhc3MgdmN7Y29uc3RydWN0b3IoKXt0aGlzLl9vcGVyYXRpb25zPVtdLHRoaXMuX3VuZG9QYWlycz1uZXcgTWFwLHRoaXMuX3VuZG9uZU9wZXJhdGlvbnM9bmV3IFNldH1hZGRPcGVyYXRpb24odCl7dGhpcy5fb3BlcmF0aW9ucy5pbmNsdWRlcyh0KXx8dGhpcy5fb3BlcmF0aW9ucy5wdXNoKHQpfWdldE9wZXJhdGlvbnModD0wLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXtyZXR1cm4gdDwwP1tdOnRoaXMuX29wZXJhdGlvbnMuc2xpY2UodCxlKX1nZXRPcGVyYXRpb24odCl7cmV0dXJuIHRoaXMuX29wZXJhdGlvbnNbdF19c2V0T3BlcmF0aW9uQXNVbmRvbmUodCxlKXt0aGlzLl91bmRvUGFpcnMuc2V0KGUsdCksdGhpcy5fdW5kb25lT3BlcmF0aW9ucy5hZGQodCl9aXNVbmRvaW5nT3BlcmF0aW9uKHQpe3JldHVybiB0aGlzLl91bmRvUGFpcnMuaGFzKHQpfWlzVW5kb25lT3BlcmF0aW9uKHQpe3JldHVybiB0aGlzLl91bmRvbmVPcGVyYXRpb25zLmhhcyh0KX1nZXRVbmRvbmVPcGVyYXRpb24odCl7cmV0dXJuIHRoaXMuX3VuZG9QYWlycy5nZXQodCl9fWZ1bmN0aW9uIGtjKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiEhdCYmMT09dC5sZW5ndGgmJi9bXFx1ZDgwMC1cXHVkYmZmXS8udGVzdCh0KX0odC5jaGFyQXQoZS0xKSkmJmZ1bmN0aW9uKHQpe3JldHVybiEhdCYmMT09dC5sZW5ndGgmJi9bXFx1ZGMwMC1cXHVkZmZmXS8udGVzdCh0KX0odC5jaGFyQXQoZSkpfWZ1bmN0aW9uIHljKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiEhdCYmMT09dC5sZW5ndGgmJi9bXFx1MDMwMC1cXHUwMzZmXFx1MWFiMC1cXHUxYWZmXFx1MWRjMC1cXHUxZGZmXFx1MjBkMC1cXHUyMGZmXFx1ZmUyMC1cXHVmZTJmXS8udGVzdCh0KX0odC5jaGFyQXQoZSkpfWNvbnN0IHhjPVwiJGdyYXZleWFyZFwiO2NsYXNzIEFje2NvbnN0cnVjdG9yKHQpe3RoaXMubW9kZWw9dCx0aGlzLnZlcnNpb249MCx0aGlzLmhpc3Rvcnk9bmV3IHZjKHRoaXMpLHRoaXMuc2VsZWN0aW9uPW5ldyBlYSh0aGlzKSx0aGlzLnJvb3RzPW5ldyB0aSh7aWRQcm9wZXJ0eTpcInJvb3ROYW1lXCJ9KSx0aGlzLmRpZmZlcj1uZXcgcGModC5tYXJrZXJzKSx0aGlzLl9wb3N0Rml4ZXJzPW5ldyBTZXQsdGhpcy5jcmVhdGVSb290KFwiJHJvb3RcIix4YyksdGhpcy5saXN0ZW5Ubyh0LFwiYXBwbHlPcGVyYXRpb25cIiwodCxlKT0+e2NvbnN0IG49ZVswXTtpZihuLmlzRG9jdW1lbnRPcGVyYXRpb24mJm4uYmFzZVZlcnNpb24hPT10aGlzLnZlcnNpb24pdGhyb3cgbmV3IE0uYihcIm1vZGVsLWRvY3VtZW50LWFwcGx5T3BlcmF0aW9uLXdyb25nLXZlcnNpb246IE9ubHkgb3BlcmF0aW9ucyB3aXRoIG1hdGNoaW5nIHZlcnNpb25zIGNhbiBiZSBhcHBsaWVkLlwiLHtvcGVyYXRpb246bn0pfSx7cHJpb3JpdHk6XCJoaWdoZXN0XCJ9KSx0aGlzLmxpc3RlblRvKHQsXCJhcHBseU9wZXJhdGlvblwiLCh0LGUpPT57Y29uc3Qgbj1lWzBdO24uaXNEb2N1bWVudE9wZXJhdGlvbiYmdGhpcy5kaWZmZXIuYnVmZmVyT3BlcmF0aW9uKG4pfSx7cHJpb3JpdHk6XCJoaWdoXCJ9KSx0aGlzLmxpc3RlblRvKHQsXCJhcHBseU9wZXJhdGlvblwiLCh0LGUpPT57Y29uc3Qgbj1lWzBdO24uaXNEb2N1bWVudE9wZXJhdGlvbiYmKHRoaXMudmVyc2lvbisrLHRoaXMuaGlzdG9yeS5hZGRPcGVyYXRpb24obikpfSx7cHJpb3JpdHk6XCJsb3dcIn0pO2xldCBlPSExO3RoaXMubGlzdGVuVG8odGhpcy5zZWxlY3Rpb24sXCJjaGFuZ2VcIiwoKT0+e2U9ITB9KSx0aGlzLmxpc3RlblRvKHQsXCJfY2hhbmdlXCIsKHQsbik9Pnt0aGlzLmRpZmZlci5pc0VtcHR5JiYhZXx8KHRoaXMuX2NhbGxQb3N0Rml4ZXJzKG4pLHRoaXMuZGlmZmVyLmhhc0RhdGFDaGFuZ2VzKCk/dGhpcy5maXJlKFwiY2hhbmdlOmRhdGFcIixuLmJhdGNoKTp0aGlzLmZpcmUoXCJjaGFuZ2VcIixuLmJhdGNoKSx0aGlzLmRpZmZlci5yZXNldCgpLGU9ITEpfSksdGhpcy5saXN0ZW5Ubyh0Lm1hcmtlcnMsXCJ1cGRhdGVcIiwodCxlLG4sbyk9Pnt0aGlzLmRpZmZlci5idWZmZXJNYXJrZXJDaGFuZ2UoZS5uYW1lLG4sbyxlLmFmZmVjdHNEYXRhKSxudWxsPT09biYmZS5vbihcImNoYW5nZVwiLCh0LG4pPT57dGhpcy5kaWZmZXIuYnVmZmVyTWFya2VyQ2hhbmdlKGUubmFtZSxuLGUuZ2V0UmFuZ2UoKSxlLmFmZmVjdHNEYXRhKX0pfSl9Z2V0IGdyYXZleWFyZCgpe3JldHVybiB0aGlzLmdldFJvb3QoeGMpfWNyZWF0ZVJvb3QodD1cIiRyb290XCIsZT1cIm1haW5cIil7aWYodGhpcy5yb290cy5nZXQoZSkpdGhyb3cgbmV3IE0uYihcIm1vZGVsLWRvY3VtZW50LWNyZWF0ZVJvb3QtbmFtZS1leGlzdHM6IFJvb3Qgd2l0aCBzcGVjaWZpZWQgbmFtZSBhbHJlYWR5IGV4aXN0cy5cIix7bmFtZTplfSk7Y29uc3Qgbj1uZXcgbGModGhpcyx0LGUpO3JldHVybiB0aGlzLnJvb3RzLmFkZChuKSxufWRlc3Ryb3koKXt0aGlzLnNlbGVjdGlvbi5kZXN0cm95KCksdGhpcy5zdG9wTGlzdGVuaW5nKCl9Z2V0Um9vdCh0PVwibWFpblwiKXtyZXR1cm4gdGhpcy5yb290cy5nZXQodCl9Z2V0Um9vdE5hbWVzKCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5yb290cyx0PT50LnJvb3ROYW1lKS5maWx0ZXIodD0+dCE9eGMpfXJlZ2lzdGVyUG9zdEZpeGVyKHQpe3RoaXMuX3Bvc3RGaXhlcnMuYWRkKHQpfXRvSlNPTigpe2NvbnN0IHQ9c28odGhpcyk7cmV0dXJuIHQuc2VsZWN0aW9uPVwiW2VuZ2luZS5tb2RlbC5Eb2N1bWVudFNlbGVjdGlvbl1cIix0Lm1vZGVsPVwiW2VuZ2luZS5tb2RlbC5Nb2RlbF1cIix0fV9nZXREZWZhdWx0Um9vdCgpe2Zvcihjb25zdCB0IG9mIHRoaXMucm9vdHMpaWYodCE9PXRoaXMuZ3JhdmV5YXJkKXJldHVybiB0O3JldHVybiB0aGlzLmdyYXZleWFyZH1fZ2V0RGVmYXVsdFJhbmdlKCl7Y29uc3QgdD10aGlzLl9nZXREZWZhdWx0Um9vdCgpLGU9dGhpcy5tb2RlbC5zY2hlbWEsbj1uZXcgSHModCxbMF0pO3JldHVybiBlLmdldE5lYXJlc3RTZWxlY3Rpb25SYW5nZShuKXx8bmV3IHFzKG4pfV92YWxpZGF0ZVNlbGVjdGlvblJhbmdlKHQpe3JldHVybiBDYyh0LnN0YXJ0KSYmQ2ModC5lbmQpfV9jYWxsUG9zdEZpeGVycyh0KXtsZXQgZT0hMTtkb3tmb3IoY29uc3QgbiBvZiB0aGlzLl9wb3N0Rml4ZXJzKWlmKGU9bih0KSlicmVha313aGlsZShlKX19ZnVuY3Rpb24gQ2ModCl7Y29uc3QgZT10LnRleHROb2RlO2lmKGUpe2NvbnN0IG49ZS5kYXRhLG89dC5vZmZzZXQtZS5zdGFydE9mZnNldDtyZXR1cm4ha2MobixvKSYmIXljKG4sbyl9cmV0dXJuITB9QihBYyxSKTtjbGFzcyBUY3tjb25zdHJ1Y3Rvcigpe3RoaXMuX21hcmtlcnM9bmV3IE1hcH1bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiB0aGlzLl9tYXJrZXJzLnZhbHVlcygpfWhhcyh0KXtyZXR1cm4gdGhpcy5fbWFya2Vycy5oYXModCl9Z2V0KHQpe3JldHVybiB0aGlzLl9tYXJrZXJzLmdldCh0KXx8bnVsbH1fc2V0KHQsZSxuPSExLG89ITEpe2NvbnN0IGk9dCBpbnN0YW5jZW9mIE1jP3QubmFtZTp0LHI9dGhpcy5fbWFya2Vycy5nZXQoaSk7aWYocil7Y29uc3QgdD1yLmdldFJhbmdlKCk7bGV0IHM9ITE7cmV0dXJuIHQuaXNFcXVhbChlKXx8KHIuX2F0dGFjaExpdmVSYW5nZShYcy5jcmVhdGVGcm9tUmFuZ2UoZSkpLHM9ITApLG4hPXIubWFuYWdlZFVzaW5nT3BlcmF0aW9ucyYmKHIuX21hbmFnZWRVc2luZ09wZXJhdGlvbnM9bixzPSEwKSxcImJvb2xlYW5cIj09dHlwZW9mIG8mJm8hPXIuYWZmZWN0c0RhdGEmJihyLl9hZmZlY3RzRGF0YT1vLHM9ITApLHMmJnRoaXMuZmlyZShcInVwZGF0ZTpcIitpLHIsdCxlKSxyfWNvbnN0IHM9WHMuY3JlYXRlRnJvbVJhbmdlKGUpLGE9bmV3IE1jKGkscyxuLG8pO3JldHVybiB0aGlzLl9tYXJrZXJzLnNldChpLGEpLHRoaXMuZmlyZShcInVwZGF0ZTpcIitpLGEsbnVsbCxlKSxhfV9yZW1vdmUodCl7Y29uc3QgZT10IGluc3RhbmNlb2YgTWM/dC5uYW1lOnQsbj10aGlzLl9tYXJrZXJzLmdldChlKTtyZXR1cm4hIW4mJih0aGlzLl9tYXJrZXJzLmRlbGV0ZShlKSx0aGlzLmZpcmUoXCJ1cGRhdGU6XCIrZSxuLG4uZ2V0UmFuZ2UoKSxudWxsKSx0aGlzLl9kZXN0cm95TWFya2VyKG4pLCEwKX0qZ2V0TWFya2Vyc0F0UG9zaXRpb24odCl7Zm9yKGNvbnN0IGUgb2YgdGhpcyllLmdldFJhbmdlKCkuY29udGFpbnNQb3NpdGlvbih0KSYmKHlpZWxkIGUpfSpnZXRNYXJrZXJzSW50ZXJzZWN0aW5nUmFuZ2UodCl7Zm9yKGNvbnN0IGUgb2YgdGhpcyludWxsIT09ZS5nZXRSYW5nZSgpLmdldEludGVyc2VjdGlvbih0KSYmKHlpZWxkIGUpfWRlc3Ryb3koKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9tYXJrZXJzLnZhbHVlcygpKXRoaXMuX2Rlc3Ryb3lNYXJrZXIodCk7dGhpcy5fbWFya2Vycz1udWxsLHRoaXMuc3RvcExpc3RlbmluZygpfSpnZXRNYXJrZXJzR3JvdXAodCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fbWFya2Vycy52YWx1ZXMoKSllLm5hbWUuc3RhcnRzV2l0aCh0K1wiOlwiKSYmKHlpZWxkIGUpfV9kZXN0cm95TWFya2VyKHQpe3Quc3RvcExpc3RlbmluZygpLHQuX2RldGFjaExpdmVSYW5nZSgpfX1CKFRjLFIpO2NsYXNzIE1je2NvbnN0cnVjdG9yKHQsZSxuLG8pe3RoaXMubmFtZT10LHRoaXMuX2xpdmVSYW5nZT10aGlzLl9hdHRhY2hMaXZlUmFuZ2UoZSksdGhpcy5fbWFuYWdlZFVzaW5nT3BlcmF0aW9ucz1uLHRoaXMuX2FmZmVjdHNEYXRhPW99Z2V0IG1hbmFnZWRVc2luZ09wZXJhdGlvbnMoKXtpZighdGhpcy5fbGl2ZVJhbmdlKXRocm93IG5ldyBNLmIoXCJtYXJrZXItZGVzdHJveWVkOiBDYW5ub3QgdXNlIGEgZGVzdHJveWVkIG1hcmtlciBpbnN0YW5jZS5cIik7cmV0dXJuIHRoaXMuX21hbmFnZWRVc2luZ09wZXJhdGlvbnN9Z2V0IGFmZmVjdHNEYXRhKCl7aWYoIXRoaXMuX2xpdmVSYW5nZSl0aHJvdyBuZXcgTS5iKFwibWFya2VyLWRlc3Ryb3llZDogQ2Fubm90IHVzZSBhIGRlc3Ryb3llZCBtYXJrZXIgaW5zdGFuY2UuXCIpO3JldHVybiB0aGlzLl9hZmZlY3RzRGF0YX1nZXRTdGFydCgpe2lmKCF0aGlzLl9saXZlUmFuZ2UpdGhyb3cgbmV3IE0uYihcIm1hcmtlci1kZXN0cm95ZWQ6IENhbm5vdCB1c2UgYSBkZXN0cm95ZWQgbWFya2VyIGluc3RhbmNlLlwiKTtyZXR1cm4gSHMuY3JlYXRlRnJvbVBvc2l0aW9uKHRoaXMuX2xpdmVSYW5nZS5zdGFydCl9Z2V0RW5kKCl7aWYoIXRoaXMuX2xpdmVSYW5nZSl0aHJvdyBuZXcgTS5iKFwibWFya2VyLWRlc3Ryb3llZDogQ2Fubm90IHVzZSBhIGRlc3Ryb3llZCBtYXJrZXIgaW5zdGFuY2UuXCIpO3JldHVybiBIcy5jcmVhdGVGcm9tUG9zaXRpb24odGhpcy5fbGl2ZVJhbmdlLmVuZCl9Z2V0UmFuZ2UoKXtpZighdGhpcy5fbGl2ZVJhbmdlKXRocm93IG5ldyBNLmIoXCJtYXJrZXItZGVzdHJveWVkOiBDYW5ub3QgdXNlIGEgZGVzdHJveWVkIG1hcmtlciBpbnN0YW5jZS5cIik7cmV0dXJuIHFzLmNyZWF0ZUZyb21SYW5nZSh0aGlzLl9saXZlUmFuZ2UpfV9hdHRhY2hMaXZlUmFuZ2UodCl7cmV0dXJuIHRoaXMuX2xpdmVSYW5nZSYmdGhpcy5fZGV0YWNoTGl2ZVJhbmdlKCksdC5kZWxlZ2F0ZShcImNoYW5nZTpyYW5nZVwiKS50byh0aGlzKSx0LmRlbGVnYXRlKFwiY2hhbmdlOmNvbnRlbnRcIikudG8odGhpcyksdGhpcy5fbGl2ZVJhbmdlPXQsdH1fZGV0YWNoTGl2ZVJhbmdlKCl7dGhpcy5fbGl2ZVJhbmdlLnN0b3BEZWxlZ2F0aW5nKFwiY2hhbmdlOnJhbmdlXCIsdGhpcyksdGhpcy5fbGl2ZVJhbmdlLnN0b3BEZWxlZ2F0aW5nKFwiY2hhbmdlOmNvbnRlbnRcIix0aGlzKSx0aGlzLl9saXZlUmFuZ2UuZGV0YWNoKCksdGhpcy5fbGl2ZVJhbmdlPW51bGx9fUIoTWMsUik7Y2xhc3MgUGMgZXh0ZW5kcyBIc3tjb25zdHJ1Y3Rvcih0LGUsbj1cInRvTm9uZVwiKXtpZihzdXBlcih0LGUsbiksIXRoaXMucm9vdC5pcyhcInJvb3RFbGVtZW50XCIpKXRocm93IG5ldyBNLmIoXCJtb2RlbC1saXZlcG9zaXRpb24tcm9vdC1ub3Qtcm9vdGVsZW1lbnQ6IExpdmVQb3NpdGlvbidzIHJvb3QgaGFzIHRvIGJlIGFuIGluc3RhbmNlIG9mIFJvb3RFbGVtZW50LlwiKTsoZnVuY3Rpb24oKXt0aGlzLmxpc3RlblRvKHRoaXMucm9vdC5kb2N1bWVudC5tb2RlbCxcImFwcGx5T3BlcmF0aW9uXCIsKHQsZSk9Pntjb25zdCBuPWVbMF07bi5pc0RvY3VtZW50T3BlcmF0aW9uJiZmdW5jdGlvbih0KXtjb25zdCBlPXRoaXMuZ2V0VHJhbnNmb3JtZWRCeU9wZXJhdGlvbih0KTtpZighdGhpcy5pc0VxdWFsKGUpKXtjb25zdCB0PUhzLmNyZWF0ZUZyb21Qb3NpdGlvbih0aGlzKTt0aGlzLnBhdGg9ZS5wYXRoLHRoaXMucm9vdD1lLnJvb3QsdGhpcy5maXJlKFwiY2hhbmdlXCIsdCl9fS5jYWxsKHRoaXMsbil9LHtwcmlvcml0eTpcImxvd1wifSl9KS5jYWxsKHRoaXMpfWRldGFjaCgpe3RoaXMuc3RvcExpc3RlbmluZygpfX1CKFBjLFIpO2NsYXNzIFNje2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLm1vZGVsPXQsdGhpcy53cml0ZXI9ZSx0aGlzLnBvc2l0aW9uPW4sdGhpcy5jYW5NZXJnZVdpdGg9bmV3IFNldChbdGhpcy5wb3NpdGlvbi5wYXJlbnRdKSx0aGlzLnNjaGVtYT10LnNjaGVtYSx0aGlzLl9maWx0ZXJBdHRyaWJ1dGVzT2Y9W119aGFuZGxlTm9kZXModCxlKXt0PUFycmF5LmZyb20odCk7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IG89dFtuXTt0aGlzLl9oYW5kbGVOb2RlKG8se2lzRmlyc3Q6MD09PW4mJmUuaXNGaXJzdCxpc0xhc3Q6bj09PXQubGVuZ3RoLTEmJmUuaXNMYXN0fSl9dGhpcy5zY2hlbWEucmVtb3ZlRGlzYWxsb3dlZEF0dHJpYnV0ZXModGhpcy5fZmlsdGVyQXR0cmlidXRlc09mLHRoaXMud3JpdGVyKSx0aGlzLl9maWx0ZXJBdHRyaWJ1dGVzT2Y9W119Z2V0U2VsZWN0aW9uUmFuZ2UoKXtyZXR1cm4gdGhpcy5ub2RlVG9TZWxlY3Q/cXMuY3JlYXRlT24odGhpcy5ub2RlVG9TZWxlY3QpOnRoaXMubW9kZWwuc2NoZW1hLmdldE5lYXJlc3RTZWxlY3Rpb25SYW5nZSh0aGlzLnBvc2l0aW9uKX1faGFuZGxlTm9kZSh0LGUpe2lmKHRoaXMuc2NoZW1hLmlzT2JqZWN0KHQpKXJldHVybiB2b2lkIHRoaXMuX2hhbmRsZU9iamVjdCh0LGUpO3RoaXMuX2NoZWNrQW5kU3BsaXRUb0FsbG93ZWRQb3NpdGlvbih0LGUpPyh0aGlzLl9pbnNlcnQodCksdGhpcy5fbWVyZ2VTaWJsaW5nc09mKHQsZSkpOnRoaXMuX2hhbmRsZURpc2FsbG93ZWROb2RlKHQsZSl9X2hhbmRsZU9iamVjdCh0LGUpe3RoaXMuX2NoZWNrQW5kU3BsaXRUb0FsbG93ZWRQb3NpdGlvbih0KT90aGlzLl9pbnNlcnQodCk6dGhpcy5fdHJ5QXV0b3BhcmFncmFwaGluZyh0LGUpfV9oYW5kbGVEaXNhbGxvd2VkTm9kZSh0LGUpe3QuaXMoXCJlbGVtZW50XCIpP3RoaXMuaGFuZGxlTm9kZXModC5nZXRDaGlsZHJlbigpLGUpOnRoaXMuX3RyeUF1dG9wYXJhZ3JhcGhpbmcodCxlKX1faW5zZXJ0KHQpe2lmKCF0aGlzLnNjaGVtYS5jaGVja0NoaWxkKHRoaXMucG9zaXRpb24sdCkpcmV0dXJuIHZvaWQgZnMuYS5lcnJvcihcImluc2VydGNvbnRlbnQtd3JvbmctcG9zaXRpb246IFRoZSBub2RlIGNhbm5vdCBiZSBpbnNlcnRlZCBvbiB0aGUgZ2l2ZW4gcG9zaXRpb24uXCIse25vZGU6dCxwb3NpdGlvbjp0aGlzLnBvc2l0aW9ufSk7Y29uc3QgZT1QYy5jcmVhdGVGcm9tUG9zaXRpb24odGhpcy5wb3NpdGlvbik7ZS5zdGlja2luZXNzPVwidG9OZXh0XCIsdGhpcy53cml0ZXIuaW5zZXJ0KHQsdGhpcy5wb3NpdGlvbiksdGhpcy5wb3NpdGlvbj1Icy5jcmVhdGVGcm9tUG9zaXRpb24oZSksZS5kZXRhY2goKSx0aGlzLnNjaGVtYS5pc09iamVjdCh0KSYmIXRoaXMuc2NoZW1hLmNoZWNrQ2hpbGQodGhpcy5wb3NpdGlvbixcIiR0ZXh0XCIpP3RoaXMubm9kZVRvU2VsZWN0PXQ6dGhpcy5ub2RlVG9TZWxlY3Q9bnVsbCx0aGlzLl9maWx0ZXJBdHRyaWJ1dGVzT2YucHVzaCh0KX1fbWVyZ2VTaWJsaW5nc09mKHQsZSl7aWYoISh0IGluc3RhbmNlb2YgRnMpKXJldHVybjtjb25zdCBuPXRoaXMuX2Nhbk1lcmdlTGVmdCh0LGUpLG89dGhpcy5fY2FuTWVyZ2VSaWdodCh0LGUpLGk9UGMuY3JlYXRlQmVmb3JlKHQpO2kuc3RpY2tpbmVzcz1cInRvTmV4dFwiO2NvbnN0IHI9UGMuY3JlYXRlQWZ0ZXIodCk7aWYoci5zdGlja2luZXNzPVwidG9OZXh0XCIsbil7Y29uc3QgdD1QYy5jcmVhdGVGcm9tUG9zaXRpb24odGhpcy5wb3NpdGlvbik7dC5zdGlja2luZXNzPVwidG9OZXh0XCIsdGhpcy53cml0ZXIubWVyZ2UoaSksdGhpcy5wb3NpdGlvbj1Icy5jcmVhdGVGcm9tUG9zaXRpb24odCksdC5kZXRhY2goKX1pZihvKXt0aGlzLnBvc2l0aW9uLmlzRXF1YWwocil8fGZzLmEuZXJyb3IoXCJpbnNlcnRjb250ZW50LXdyb25nLXBvc2l0aW9uLW9uLW1lcmdlOiBUaGUgaW5zZXJ0aW9uIHBvc2l0aW9uIHNob3VsZCBlcXVhbCB0aGUgbWVyZ2UgcG9zaXRpb25cIiksdGhpcy5wb3NpdGlvbj1Icy5jcmVhdGVBdChyLm5vZGVCZWZvcmUsXCJlbmRcIik7Y29uc3QgdD1uZXcgUGModGhpcy5wb3NpdGlvbi5yb290LHRoaXMucG9zaXRpb24ucGF0aCxcInRvUHJldmlvdXNcIik7dGhpcy53cml0ZXIubWVyZ2UociksdGhpcy5wb3NpdGlvbj1Icy5jcmVhdGVGcm9tUG9zaXRpb24odCksdC5kZXRhY2goKX0obnx8bykmJnRoaXMuX2ZpbHRlckF0dHJpYnV0ZXNPZi5wdXNoKHRoaXMucG9zaXRpb24ucGFyZW50KSxpLmRldGFjaCgpLHIuZGV0YWNoKCl9X2Nhbk1lcmdlTGVmdCh0LGUpe2NvbnN0IG49dC5wcmV2aW91c1NpYmxpbmc7cmV0dXJuIGUuaXNGaXJzdCYmbiBpbnN0YW5jZW9mIEZzJiZ0aGlzLmNhbk1lcmdlV2l0aC5oYXMobikmJnRoaXMubW9kZWwuc2NoZW1hLmNoZWNrTWVyZ2Uobix0KX1fY2FuTWVyZ2VSaWdodCh0LGUpe2NvbnN0IG49dC5uZXh0U2libGluZztyZXR1cm4gZS5pc0xhc3QmJm4gaW5zdGFuY2VvZiBGcyYmdGhpcy5jYW5NZXJnZVdpdGguaGFzKG4pJiZ0aGlzLm1vZGVsLnNjaGVtYS5jaGVja01lcmdlKHQsbil9X3RyeUF1dG9wYXJhZ3JhcGhpbmcodCxlKXtjb25zdCBuPXRoaXMud3JpdGVyLmNyZWF0ZUVsZW1lbnQoXCJwYXJhZ3JhcGhcIik7dGhpcy5fZ2V0QWxsb3dlZEluKG4sdGhpcy5wb3NpdGlvbi5wYXJlbnQpJiZ0aGlzLnNjaGVtYS5jaGVja0NoaWxkKG4sdCkmJihuLl9hcHBlbmRDaGlsZCh0KSx0aGlzLl9oYW5kbGVOb2RlKG4sZSkpfV9jaGVja0FuZFNwbGl0VG9BbGxvd2VkUG9zaXRpb24odCl7Y29uc3QgZT10aGlzLl9nZXRBbGxvd2VkSW4odCx0aGlzLnBvc2l0aW9uLnBhcmVudCk7aWYoIWUpcmV0dXJuITE7Zm9yKDtlIT10aGlzLnBvc2l0aW9uLnBhcmVudDspe2lmKHRoaXMuc2NoZW1hLmlzTGltaXQodGhpcy5wb3NpdGlvbi5wYXJlbnQpKXJldHVybiExO2lmKHRoaXMucG9zaXRpb24uaXNBdFN0YXJ0KXtjb25zdCB0PXRoaXMucG9zaXRpb24ucGFyZW50O3RoaXMucG9zaXRpb249SHMuY3JlYXRlQmVmb3JlKHQpLHQuaXNFbXB0eSYmdGhpcy53cml0ZXIucmVtb3ZlKHQpfWVsc2UgaWYodGhpcy5wb3NpdGlvbi5pc0F0RW5kKXRoaXMucG9zaXRpb249SHMuY3JlYXRlQWZ0ZXIodGhpcy5wb3NpdGlvbi5wYXJlbnQpO2Vsc2V7Y29uc3QgdD1Icy5jcmVhdGVBZnRlcih0aGlzLnBvc2l0aW9uLnBhcmVudCk7dGhpcy53cml0ZXIuc3BsaXQodGhpcy5wb3NpdGlvbiksdGhpcy5wb3NpdGlvbj10LHRoaXMuY2FuTWVyZ2VXaXRoLmFkZCh0aGlzLnBvc2l0aW9uLm5vZGVBZnRlcil9fXJldHVybiEwfV9nZXRBbGxvd2VkSW4odCxlKXtyZXR1cm4gdGhpcy5zY2hlbWEuY2hlY2tDaGlsZChlLHQpP2U6ZS5wYXJlbnQ/dGhpcy5fZ2V0QWxsb3dlZEluKHQsZS5wYXJlbnQpOm51bGx9fWZ1bmN0aW9uIEVjKHQsZSxuPXt9KXtpZihlLmlzQ29sbGFwc2VkKXJldHVybjtjb25zdCBvPXQuc2NoZW1hO3QuY2hhbmdlKHQ9PntpZighbi5kb05vdFJlc2V0RW50aXJlQ29udGVudCYmZnVuY3Rpb24odCxlKXtjb25zdCBuPXQuZ2V0TGltaXRFbGVtZW50KGUpO2lmKCFlLmNvbnRhaW5zRW50aXJlQ29udGVudChuKSlyZXR1cm4hMTtjb25zdCBvPWUuZ2V0Rmlyc3RSYW5nZSgpO2lmKG8uc3RhcnQucGFyZW50PT1vLmVuZC5wYXJlbnQpcmV0dXJuITE7cmV0dXJuIHQuY2hlY2tDaGlsZChuLFwicGFyYWdyYXBoXCIpfShvLGUpKXJldHVybiB2b2lkIGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10Lm1vZGVsLnNjaGVtYS5nZXRMaW1pdEVsZW1lbnQoZSk7dC5yZW1vdmUocXMuY3JlYXRlSW4obikpLEljKHQsSHMuY3JlYXRlQXQobiksZSl9KHQsZSk7Y29uc3QgaT1lLmdldEZpcnN0UmFuZ2UoKSxyPWkuc3RhcnQscz1QYy5jcmVhdGVGcm9tUG9zaXRpb24oaS5lbmQpO3Muc3RpY2tpbmVzcz1cInRvTmV4dFwiLGkuc3RhcnQuaXNUb3VjaGluZyhpLmVuZCl8fHQucmVtb3ZlKGkpLG4ubGVhdmVVbm1lcmdlZHx8KCFmdW5jdGlvbiB0KGUsbixvKXtjb25zdCBpPW4ucGFyZW50O2NvbnN0IHI9by5wYXJlbnQ7aWYoaT09cilyZXR1cm47aWYoIWkucGFyZW50fHwhci5wYXJlbnQpcmV0dXJuO2lmKCFmdW5jdGlvbih0LGUsbil7Y29uc3Qgbz1uZXcgcXModCxlKTtmb3IoY29uc3QgdCBvZiBvLmdldFdhbGtlcigpKWlmKG4uaXNMaW1pdCh0Lml0ZW0pKXJldHVybiExO3JldHVybiEwfShuLG8sZS5tb2RlbC5zY2hlbWEpKXJldHVybjtuPUhzLmNyZWF0ZUFmdGVyKGkpO289SHMuY3JlYXRlQmVmb3JlKHIpO28uaXNFcXVhbChuKXx8ZS5pbnNlcnQocixuKTtlLm1lcmdlKG4pO2Zvcig7by5wYXJlbnQuaXNFbXB0eTspe2NvbnN0IHQ9by5wYXJlbnQ7bz1Icy5jcmVhdGVCZWZvcmUodCksZS5yZW1vdmUodCl9dChlLG4sbyl9KHQscixzKSxvLnJlbW92ZURpc2FsbG93ZWRBdHRyaWJ1dGVzKHIucGFyZW50LmdldENoaWxkcmVuKCksdCkpLGUgaW5zdGFuY2VvZiBlYT90LnNldFNlbGVjdGlvbihyKTplLnNldFRvKHIpLGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10LmNoZWNrQ2hpbGQoZSxcIiR0ZXh0XCIpLG89dC5jaGVja0NoaWxkKGUsXCJwYXJhZ3JhcGhcIik7cmV0dXJuIW4mJm99KG8scikmJkljKHQscixlKSxzLmRldGFjaCgpfSl9ZnVuY3Rpb24gSWModCxlLG4pe2NvbnN0IG89dC5jcmVhdGVFbGVtZW50KFwicGFyYWdyYXBoXCIpO3QuaW5zZXJ0KG8sZSksbiBpbnN0YW5jZW9mIGVhP3Quc2V0U2VsZWN0aW9uKG8sMCk6bi5zZXRUbyhvLDApfWNvbnN0IE5jPScgLC4/ITo7XCItKCknO2Z1bmN0aW9uIE9jKHQsZSxuPXt9KXtjb25zdCBvPXQuc2NoZW1hLGk9XCJiYWNrd2FyZFwiIT1uLmRpcmVjdGlvbixyPW4udW5pdD9uLnVuaXQ6XCJjaGFyYWN0ZXJcIixzPWUuZm9jdXMsYT1uZXcgenMoe2JvdW5kYXJpZXM6ZnVuY3Rpb24odCxlKXtjb25zdCBuPXQucm9vdCxvPUhzLmNyZWF0ZUF0KG4sZT9cImVuZFwiOjApO3JldHVybiBlP25ldyBxcyh0LG8pOm5ldyBxcyhvLHQpfShzLGkpLHNpbmdsZUNoYXJhY3RlcnM6ITAsZGlyZWN0aW9uOmk/XCJmb3J3YXJkXCI6XCJiYWNrd2FyZFwifSksYz17d2Fsa2VyOmEsc2NoZW1hOm8saXNGb3J3YXJkOmksdW5pdDpyfTtsZXQgbDtmb3IoO2w9YS5uZXh0KCk7KXtpZihsLmRvbmUpcmV0dXJuO2NvbnN0IG49UmMoYyxsLnZhbHVlKTtpZihuKXJldHVybiB2b2lkKGUgaW5zdGFuY2VvZiBlYT90LmNoYW5nZSh0PT57dC5zZXRTZWxlY3Rpb25Gb2N1cyhuKX0pOmUuc2V0Rm9jdXMobikpfX1mdW5jdGlvbiBSYyh0LGUpe2lmKFwidGV4dFwiPT1lLnR5cGUpcmV0dXJuXCJ3b3JkXCI9PT10LnVuaXQ/ZnVuY3Rpb24odCxlKXtsZXQgbj10LnBvc2l0aW9uLnRleHROb2RlO2lmKG4pe2xldCBvPXQucG9zaXRpb24ub2Zmc2V0LW4uc3RhcnRPZmZzZXQ7Zm9yKDshRGMobi5kYXRhLG8sZSkmJiFqYyhuLG8sZSk7KXt0Lm5leHQoKTtjb25zdCBpPWU/dC5wb3NpdGlvbi5ub2RlQWZ0ZXI6dC5wb3NpdGlvbi5ub2RlQmVmb3JlO2lmKGkmJmkuaXMoXCJ0ZXh0XCIpKXtjb25zdCBvPWkuZGF0YS5jaGFyQXQoZT8wOmkuZGF0YS5sZW5ndGgtMSk7TmMuaW5jbHVkZXMobyl8fCh0Lm5leHQoKSxuPXQucG9zaXRpb24udGV4dE5vZGUpfW89dC5wb3NpdGlvbi5vZmZzZXQtbi5zdGFydE9mZnNldH19cmV0dXJuIHQucG9zaXRpb259KHQud2Fsa2VyLHQuaXNGb3J3YXJkKTpmdW5jdGlvbih0LGUpe2NvbnN0IG49dC5wb3NpdGlvbi50ZXh0Tm9kZTtpZihuKXtjb25zdCBvPW4uZGF0YTtsZXQgaT10LnBvc2l0aW9uLm9mZnNldC1uLnN0YXJ0T2Zmc2V0O2Zvcig7a2MobyxpKXx8XCJjaGFyYWN0ZXJcIj09ZSYmeWMobyxpKTspdC5uZXh0KCksaT10LnBvc2l0aW9uLm9mZnNldC1uLnN0YXJ0T2Zmc2V0fXJldHVybiB0LnBvc2l0aW9ufSh0LndhbGtlcix0LnVuaXQsdC5pc0ZvcndhcmQpO2lmKGUudHlwZT09KHQuaXNGb3J3YXJkP1wiZWxlbWVudFN0YXJ0XCI6XCJlbGVtZW50RW5kXCIpKXtpZih0LnNjaGVtYS5pc09iamVjdChlLml0ZW0pKXJldHVybiBIcy5jcmVhdGVBdChlLml0ZW0sdC5pc0ZvcndhcmQ/XCJhZnRlclwiOlwiYmVmb3JlXCIpO2lmKHQuc2NoZW1hLmNoZWNrQ2hpbGQoZS5uZXh0UG9zaXRpb24sXCIkdGV4dFwiKSlyZXR1cm4gZS5uZXh0UG9zaXRpb259ZWxzZXtpZih0LnNjaGVtYS5pc0xpbWl0KGUuaXRlbSkpcmV0dXJuIHZvaWQgdC53YWxrZXIuc2tpcCgoKT0+ITApO2lmKHQuc2NoZW1hLmNoZWNrQ2hpbGQoZS5uZXh0UG9zaXRpb24sXCIkdGV4dFwiKSlyZXR1cm4gZS5uZXh0UG9zaXRpb259fWZ1bmN0aW9uIERjKHQsZSxuKXtjb25zdCBvPWUrKG4/MDotMSk7cmV0dXJuIE5jLmluY2x1ZGVzKHQuY2hhckF0KG8pKX1mdW5jdGlvbiBqYyh0LGUsbil7cmV0dXJuIGU9PT0obj90LmVuZE9mZnNldDowKX1mdW5jdGlvbiBMYyh0LGUpe2NvbnN0IG49W107QXJyYXkuZnJvbSh0LmdldEl0ZW1zKHtkaXJlY3Rpb246XCJiYWNrd2FyZFwifSkpLm1hcCh0PT5xcy5jcmVhdGVPbih0KSkuZmlsdGVyKGU9PntyZXR1cm4oZS5zdGFydC5pc0FmdGVyKHQuc3RhcnQpfHxlLnN0YXJ0LmlzRXF1YWwodC5zdGFydCkpJiYoZS5lbmQuaXNCZWZvcmUodC5lbmQpfHxlLmVuZC5pc0VxdWFsKHQuZW5kKSl9KS5mb3JFYWNoKHQ9PntuLnB1c2godC5zdGFydC5wYXJlbnQpLGUucmVtb3ZlKHQpfSksbi5mb3JFYWNoKHQ9PntsZXQgbj10O2Zvcig7bi5wYXJlbnQmJm4uaXNFbXB0eTspe2NvbnN0IHQ9cXMuY3JlYXRlT24obik7bj1uLnBhcmVudCxlLnJlbW92ZSh0KX19KX1mdW5jdGlvbiBWYyh0KXt0LmRvY3VtZW50LnJlZ2lzdGVyUG9zdEZpeGVyKGU9PihmdW5jdGlvbih0LGUpe2NvbnN0IG49ZS5kb2N1bWVudC5zZWxlY3Rpb24sbz1lLnNjaGVtYSxpPVtdO2xldCByPSExO2Zvcihjb25zdCB0IG9mIG4uZ2V0UmFuZ2VzKCkpe2NvbnN0IGU9RmModCxvKTtlPyhpLnB1c2goZSkscj0hMCk6aS5wdXNoKHQpfWlmKHIpe2xldCBlPWk7aWYoaS5sZW5ndGg+MSl7Y29uc3QgdD1pWzBdLnN0YXJ0LG49aVtpLmxlbmd0aC0xXS5lbmQ7ZT1bbmV3IHFzKHQsbildfXQuc2V0U2VsZWN0aW9uKGUse2JhY2t3YXJkOm4uaXNCYWNrd2FyZH0pfX0pKGUsdCkpfWZ1bmN0aW9uIEZjKHQsZSl7cmV0dXJuIHQuaXNDb2xsYXBzZWQ/ZnVuY3Rpb24odCxlKXtjb25zdCBuPXQuc3RhcnQsbz1lLmdldE5lYXJlc3RTZWxlY3Rpb25SYW5nZShuKTtpZighbylyZXR1cm4gbnVsbDtjb25zdCBpPW8uc3RhcnQ7aWYobi5pc0VxdWFsKGkpKXJldHVybiBudWxsO2lmKGkubm9kZUFmdGVyJiZlLmlzTGltaXQoaS5ub2RlQWZ0ZXIpKXJldHVybiBuZXcgcXMoaSxIcy5jcmVhdGVBZnRlcihpLm5vZGVBZnRlcikpO3JldHVybiBuZXcgcXMoaSl9KHQsZSk6ZnVuY3Rpb24odCxlKXtjb25zdCBuPXQuc3RhcnQsbz10LmVuZCxpPWUuY2hlY2tDaGlsZChuLFwiJHRleHRcIikscj1lLmNoZWNrQ2hpbGQobyxcIiR0ZXh0XCIpLHM9ZS5nZXRMaW1pdEVsZW1lbnQobiksYT1lLmdldExpbWl0RWxlbWVudChvKTtpZihzPT09YSl7aWYoaSYmcilyZXR1cm4gbnVsbDtpZihmdW5jdGlvbih0LGUsbil7Y29uc3Qgbz10Lm5vZGVBZnRlciYmIW4uaXNMaW1pdCh0Lm5vZGVBZnRlcil8fG4uY2hlY2tDaGlsZCh0LFwiJHRleHRcIiksaT1lLm5vZGVCZWZvcmUmJiFuLmlzTGltaXQoZS5ub2RlQmVmb3JlKXx8bi5jaGVja0NoaWxkKGUsXCIkdGV4dFwiKTtyZXR1cm4gbyYmaX0obixvLGUpKXtjb25zdCB0PWUuZ2V0TmVhcmVzdFNlbGVjdGlvblJhbmdlKG4sXCJmb3J3YXJkXCIpLGk9ZS5nZXROZWFyZXN0U2VsZWN0aW9uUmFuZ2UobyxcImJhY2t3YXJkXCIpO3JldHVybiBuZXcgcXModD90LnN0YXJ0Om4saT9pLnN0YXJ0Om8pfX1jb25zdCBjPXMmJiFzLmlzKFwicm9vdEVsZW1lbnRcIiksbD1hJiYhYS5pcyhcInJvb3RFbGVtZW50XCIpO2lmKGN8fGwpe2NvbnN0IHQ9Yz96YyhIcy5jcmVhdGVBdChzKSxlLFwic3RhcnRcIik6bixpPWw/emMoSHMuY3JlYXRlQXQoYSksZSxcImVuZFwiKTpvO3JldHVybiBuZXcgcXModCxpKX1yZXR1cm4gbnVsbH0odCxlKX1mdW5jdGlvbiB6Yyh0LGUsbil7bGV0IG89dC5wYXJlbnQsaT1vO2Zvcig7ZS5pc0xpbWl0KGkpJiZpLnBhcmVudDspbz1pLGk9aS5wYXJlbnQ7cmV0dXJuXCJzdGFydFwiPT09bj9Icy5jcmVhdGVCZWZvcmUobyk6SHMuY3JlYXRlQWZ0ZXIobyl9Y2xhc3MgQmN7Y29uc3RydWN0b3IoKXt0aGlzLm1hcmtlcnM9bmV3IFRjLHRoaXMuZG9jdW1lbnQ9bmV3IEFjKHRoaXMpLHRoaXMuc2NoZW1hPW5ldyB2YSx0aGlzLl9wZW5kaW5nQ2hhbmdlcz1bXSx0aGlzLl9jdXJyZW50V3JpdGVyPW51bGwsW1wiaW5zZXJ0Q29udGVudFwiLFwiZGVsZXRlQ29udGVudFwiLFwibW9kaWZ5U2VsZWN0aW9uXCIsXCJnZXRTZWxlY3RlZENvbnRlbnRcIixcImFwcGx5T3BlcmF0aW9uXCJdLmZvckVhY2godD0+dGhpcy5kZWNvcmF0ZSh0KSksdGhpcy5vbihcImFwcGx5T3BlcmF0aW9uXCIsKHQsZSk9PntlWzBdLl92YWxpZGF0ZSgpfSx7cHJpb3JpdHk6XCJoaWdoZXN0XCJ9KSx0aGlzLnNjaGVtYS5yZWdpc3RlcihcIiRyb290XCIse2lzTGltaXQ6ITB9KSx0aGlzLnNjaGVtYS5yZWdpc3RlcihcIiRibG9ja1wiLHthbGxvd0luOlwiJHJvb3RcIixpc0Jsb2NrOiEwfSksdGhpcy5zY2hlbWEucmVnaXN0ZXIoXCIkdGV4dFwiLHthbGxvd0luOlwiJGJsb2NrXCJ9KSx0aGlzLnNjaGVtYS5yZWdpc3RlcihcIiRjbGlwYm9hcmRIb2xkZXJcIix7YWxsb3dDb250ZW50T2Y6XCIkcm9vdFwiLGlzTGltaXQ6ITB9KSx0aGlzLnNjaGVtYS5leHRlbmQoXCIkdGV4dFwiLHthbGxvd0luOlwiJGNsaXBib2FyZEhvbGRlclwifSksdGhpcy5zY2hlbWEucmVnaXN0ZXIoXCIkbWFya2VyXCIse2FsbG93SW46W1wiJHJvb3RcIixcIiRibG9ja1wiXX0pLFZjKHRoaXMpfWNoYW5nZSh0KXtyZXR1cm4gMD09PXRoaXMuX3BlbmRpbmdDaGFuZ2VzLmxlbmd0aD8odGhpcy5fcGVuZGluZ0NoYW5nZXMucHVzaCh7YmF0Y2g6bmV3IEhhLGNhbGxiYWNrOnR9KSx0aGlzLl9ydW5QZW5kaW5nQ2hhbmdlcygpWzBdKTp0KHRoaXMuX2N1cnJlbnRXcml0ZXIpfWVucXVldWVDaGFuZ2UodCxlKXtcInN0cmluZ1wiPT10eXBlb2YgdD90PW5ldyBIYSh0KTpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiYoZT10LHQ9bmV3IEhhKSx0aGlzLl9wZW5kaW5nQ2hhbmdlcy5wdXNoKHtiYXRjaDp0LGNhbGxiYWNrOmV9KSwxPT10aGlzLl9wZW5kaW5nQ2hhbmdlcy5sZW5ndGgmJnRoaXMuX3J1blBlbmRpbmdDaGFuZ2VzKCl9YXBwbHlPcGVyYXRpb24odCl7dC5fZXhlY3V0ZSgpfWluc2VydENvbnRlbnQodCxlKXshZnVuY3Rpb24odCxlLG4pe3QuY2hhbmdlKG89PntsZXQgaTsoaT1uP24gaW5zdGFuY2VvZiBKc3x8biBpbnN0YW5jZW9mIGVhP246bmV3IEpzKG4pOnQuZG9jdW1lbnQuc2VsZWN0aW9uKS5pc0NvbGxhcHNlZHx8dC5kZWxldGVDb250ZW50KGkpO2NvbnN0IHI9bmV3IFNjKHQsbyxpLmFuY2hvcik7bGV0IHM7cz1lLmlzKFwiZG9jdW1lbnRGcmFnbWVudFwiKT9lLmdldENoaWxkcmVuKCk6W2VdLHIuaGFuZGxlTm9kZXMocyx7aXNGaXJzdDohMCxpc0xhc3Q6ITB9KTtjb25zdCBhPXIuZ2V0U2VsZWN0aW9uUmFuZ2UoKTthP2kgaW5zdGFuY2VvZiBlYT9vLnNldFNlbGVjdGlvbihhKTppLnNldFRvKGEpOmZzLmEud2FybihcImluc2VydGNvbnRlbnQtbm8tcmFuZ2U6IENhbm5vdCBkZXRlcm1pbmUgYSBwcm9wZXIgc2VsZWN0aW9uIHJhbmdlIGFmdGVyIGluc2VydGlvbi5cIil9KX0odGhpcyx0LGUpfWRlbGV0ZUNvbnRlbnQodCxlKXtFYyh0aGlzLHQsZSl9bW9kaWZ5U2VsZWN0aW9uKHQsZSl7T2ModGhpcyx0LGUpfWdldFNlbGVjdGVkQ29udGVudCh0KXtyZXR1cm4gZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5jaGFuZ2UodD0+e2NvbnN0IG49dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbz1lLmdldEZpcnN0UmFuZ2UoKTtpZighb3x8by5pc0NvbGxhcHNlZClyZXR1cm4gbjtjb25zdCBpPW8uc3RhcnQucm9vdCxyPW8uc3RhcnQuZ2V0Q29tbW9uUGF0aChvLmVuZCkscz1pLmdldE5vZGVCeVBhdGgocik7bGV0IGE7Y29uc3QgYz0oYT1vLnN0YXJ0LnBhcmVudD09by5lbmQucGFyZW50P286cXMuY3JlYXRlRnJvbVBhcmVudHNBbmRPZmZzZXRzKHMsby5zdGFydC5wYXRoW3IubGVuZ3RoXSxzLG8uZW5kLnBhdGhbci5sZW5ndGhdKzEpKS5lbmQub2Zmc2V0LWEuc3RhcnQub2Zmc2V0O2Zvcihjb25zdCBlIG9mIGEuZ2V0SXRlbXMoe3NoYWxsb3c6ITB9KSllLmlzKFwidGV4dFByb3h5XCIpP3QuYXBwZW5kVGV4dChlLmRhdGEsZS5nZXRBdHRyaWJ1dGVzKCksbik6dC5hcHBlbmQoZS5fY2xvbmUoITApLG4pO2lmKGEhPW8pe2NvbnN0IGU9by5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUoYS5zdGFydCxIcy5jcmVhdGVBdChuLDApLGMpWzBdLGk9bmV3IHFzKEhzLmNyZWF0ZUF0KG4pLGUuc3RhcnQpO0xjKG5ldyBxcyhlLmVuZCxIcy5jcmVhdGVBdChuLFwiZW5kXCIpKSx0KSxMYyhpLHQpfXJldHVybiBufSl9KHRoaXMsdCl9aGFzQ29udGVudCh0KXtpZih0IGluc3RhbmNlb2YgRnMmJih0PXFzLmNyZWF0ZUluKHQpKSx0LmlzQ29sbGFwc2VkKXJldHVybiExO2Zvcihjb25zdCBlIG9mIHQuZ2V0SXRlbXMoKSlpZihlLmlzKFwidGV4dFByb3h5XCIpfHx0aGlzLnNjaGVtYS5pc09iamVjdChlKSlyZXR1cm4hMDtyZXR1cm4hMX1kZXN0cm95KCl7dGhpcy5kb2N1bWVudC5kZXN0cm95KCksdGhpcy5zdG9wTGlzdGVuaW5nKCl9X3J1blBlbmRpbmdDaGFuZ2VzKCl7Y29uc3QgdD1bXTtmb3IodGhpcy5maXJlKFwiX2JlZm9yZUNoYW5nZXNcIik7dGhpcy5fcGVuZGluZ0NoYW5nZXMubGVuZ3RoOyl7Y29uc3QgZT10aGlzLl9wZW5kaW5nQ2hhbmdlc1swXS5iYXRjaDt0aGlzLl9jdXJyZW50V3JpdGVyPW5ldyBkYyh0aGlzLGUpO2NvbnN0IG49dGhpcy5fcGVuZGluZ0NoYW5nZXNbMF0uY2FsbGJhY2sodGhpcy5fY3VycmVudFdyaXRlcik7dC5wdXNoKG4pLHRoaXMuZmlyZShcIl9jaGFuZ2VcIix0aGlzLl9jdXJyZW50V3JpdGVyKSx0aGlzLl9wZW5kaW5nQ2hhbmdlcy5zaGlmdCgpLHRoaXMuX2N1cnJlbnRXcml0ZXI9bnVsbH1yZXR1cm4gdGhpcy5maXJlKFwiX2FmdGVyQ2hhbmdlc1wiKSx0fX1CKEJjLExvKTtjbGFzcyBVY3tjb25zdHJ1Y3Rvcigpe3RoaXMuX2xpc3RlbmVyPU9iamVjdC5jcmVhdGUocnIpfWxpc3RlblRvKHQpe3RoaXMuX2xpc3RlbmVyLmxpc3RlblRvKHQsXCJrZXlkb3duXCIsKHQsZSk9Pnt0aGlzLl9saXN0ZW5lci5maXJlKFwiX2tleWRvd246XCIrZmkoZSksZSl9KX1zZXQodCxlLG49e30pe2NvbnN0IG89bWkodCksaT1uLnByaW9yaXR5O3RoaXMuX2xpc3RlbmVyLmxpc3RlblRvKHRoaXMuX2xpc3RlbmVyLFwiX2tleWRvd246XCIrbywodCxuKT0+e2UobiwoKT0+e24ucHJldmVudERlZmF1bHQoKSxuLnN0b3BQcm9wYWdhdGlvbigpLHQuc3RvcCgpfSksdC5yZXR1cm49ITB9LHtwcmlvcml0eTppfSl9cHJlc3ModCl7cmV0dXJuISF0aGlzLl9saXN0ZW5lci5maXJlKFwiX2tleWRvd246XCIrZmkodCksdCl9ZGVzdHJveSgpe3RoaXMuX2xpc3RlbmVyLnN0b3BMaXN0ZW5pbmcoKX19Y2xhc3MgSGMgZXh0ZW5kcyBVY3tjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuZWRpdG9yPXR9c2V0KHQsZSxuPXt9KXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl7Y29uc3QgdD1lO2U9KChlLG4pPT57dGhpcy5lZGl0b3IuZXhlY3V0ZSh0KSxuKCl9KX1zdXBlci5zZXQodCxlLG4pfX1uKDQxKTtjbGFzcyBxY3tjb25zdHJ1Y3Rvcih0KXtjb25zdCBlPXRoaXMuY29uc3RydWN0b3IuYnVpbHRpblBsdWdpbnM7dGhpcy5jb25maWc9bmV3IFQodCx0aGlzLmNvbnN0cnVjdG9yLmRlZmF1bHRDb25maWcpLHRoaXMuY29uZmlnLmRlZmluZShcInBsdWdpbnNcIixlKSx0aGlzLnBsdWdpbnM9bmV3IG1hKHRoaXMsZSksdGhpcy5jb21tYW5kcz1uZXcgZ2EsdGhpcy5sb2NhbGU9bmV3IGJhKHRoaXMuY29uZmlnLmdldChcImxhbmd1YWdlXCIpKSx0aGlzLnQ9dGhpcy5sb2NhbGUudCx0aGlzLnNldChcInN0YXRlXCIsXCJpbml0aWFsaXppbmdcIiksdGhpcy5vbmNlKFwicmVhZHlcIiwoKT0+dGhpcy5zdGF0ZT1cInJlYWR5XCIse3ByaW9yaXR5OlwiaGlnaFwifSksdGhpcy5vbmNlKFwiZGVzdHJveVwiLCgpPT50aGlzLnN0YXRlPVwiZGVzdHJveWVkXCIse3ByaW9yaXR5OlwiaGlnaFwifSksdGhpcy5zZXQoXCJpc1JlYWRPbmx5XCIsITEpLHRoaXMubW9kZWw9bmV3IEJjLHRoaXMuZGF0YT1uZXcgRmEodGhpcy5tb2RlbCksdGhpcy5lZGl0aW5nPW5ldyBmYSh0aGlzLm1vZGVsKSx0aGlzLmVkaXRpbmcudmlldy5kb2N1bWVudC5iaW5kKFwiaXNSZWFkT25seVwiKS50byh0aGlzKSx0aGlzLmNvbnZlcnNpb249bmV3IHphLHRoaXMuY29udmVyc2lvbi5yZWdpc3RlcihcImRvd25jYXN0XCIsW3RoaXMuZWRpdGluZy5kb3duY2FzdERpc3BhdGNoZXIsdGhpcy5kYXRhLmRvd25jYXN0RGlzcGF0Y2hlcl0pLHRoaXMuY29udmVyc2lvbi5yZWdpc3RlcihcImVkaXRpbmdEb3duY2FzdFwiLFt0aGlzLmVkaXRpbmcuZG93bmNhc3REaXNwYXRjaGVyXSksdGhpcy5jb252ZXJzaW9uLnJlZ2lzdGVyKFwiZGF0YURvd25jYXN0XCIsW3RoaXMuZGF0YS5kb3duY2FzdERpc3BhdGNoZXJdKSx0aGlzLmNvbnZlcnNpb24ucmVnaXN0ZXIoXCJ1cGNhc3RcIixbdGhpcy5kYXRhLnVwY2FzdERpc3BhdGNoZXJdKSx0aGlzLmtleXN0cm9rZXM9bmV3IEhjKHRoaXMpLHRoaXMua2V5c3Ryb2tlcy5saXN0ZW5Ubyh0aGlzLmVkaXRpbmcudmlldy5kb2N1bWVudCl9aW5pdFBsdWdpbnMoKXtjb25zdCB0PXRoaXMsZT10aGlzLmNvbmZpZztyZXR1cm4gZnVuY3Rpb24oKXtjb25zdCBuPWUuZ2V0KFwicGx1Z2luc1wiKXx8W10sbz1lLmdldChcInJlbW92ZVBsdWdpbnNcIil8fFtdO3JldHVybiB0LnBsdWdpbnMubG9hZChuLG8pfSgpLnRoZW4odD0+bih0LFwiaW5pdFwiKS50aGVuKCgpPT5uKHQsXCJhZnRlckluaXRcIikpKS50aGVuKCgpPT50aGlzLmZpcmUoXCJwbHVnaW5zUmVhZHlcIikpO2Z1bmN0aW9uIG4odCxlKXtyZXR1cm4gdC5yZWR1Y2UoKHQsbik9Pm5bZV0/dC50aGVuKG5bZV0uYmluZChuKSk6dCxQcm9taXNlLnJlc29sdmUoKSl9fWRlc3Ryb3koKXtsZXQgdD1Qcm9taXNlLnJlc29sdmUoKTtyZXR1cm5cImluaXRpYWxpemluZ1wiPT10aGlzLnN0YXRlJiYodD1uZXcgUHJvbWlzZSh0PT50aGlzLm9uY2UoXCJyZWFkeVwiLHQpKSksdC50aGVuKCgpPT57dGhpcy5maXJlKFwiZGVzdHJveVwiKSx0aGlzLnN0b3BMaXN0ZW5pbmcoKSx0aGlzLmNvbW1hbmRzLmRlc3Ryb3koKX0pLnRoZW4oKCk9PnRoaXMucGx1Z2lucy5kZXN0cm95KCkpLnRoZW4oKCk9Pnt0aGlzLm1vZGVsLmRlc3Ryb3koKSx0aGlzLmRhdGEuZGVzdHJveSgpLHRoaXMuZWRpdGluZy5kZXN0cm95KCksdGhpcy5rZXlzdHJva2VzLmRlc3Ryb3koKX0pfWV4ZWN1dGUoLi4udCl7dGhpcy5jb21tYW5kcy5leGVjdXRlKC4uLnQpfXN0YXRpYyBjcmVhdGUodCl7cmV0dXJuIG5ldyBQcm9taXNlKGU9Pntjb25zdCBuPW5ldyB0aGlzKHQpO2Uobi5pbml0UGx1Z2lucygpLnRoZW4oKCk9PntuLmZpcmUoXCJkYXRhUmVhZHlcIiksbi5maXJlKFwicmVhZHlcIil9KS50aGVuKCgpPT5uKSl9KX19QihxYyxMbyk7dmFyIFdjPXtzZXREYXRhKHQpe3RoaXMuZGF0YS5zZXQodCl9LGdldERhdGEoKXtyZXR1cm4gdGhpcy5kYXRhLmdldCgpfX07ZnVuY3Rpb24gWWModCxlKXt0IGluc3RhbmNlb2YgSFRNTFRleHRBcmVhRWxlbWVudCYmKHQudmFsdWU9ZSksdC5pbm5lckhUTUw9ZX12YXIgR2M9e3VwZGF0ZVNvdXJjZUVsZW1lbnQoKXtpZighdGhpcy5zb3VyY2VFbGVtZW50KXRocm93IG5ldyBNLmIoXCJlZGl0b3ItbWlzc2luZy1zb3VyY2VlbGVtZW50OiBDYW5ub3QgdXBkYXRlIHRoZSBzb3VyY2UgZWxlbWVudCBvZiBhIGRldGFjaGVkIGVkaXRvci5cIik7WWModGhpcy5zb3VyY2VFbGVtZW50LHRoaXMuZGF0YS5nZXQoKSl9fTtjbGFzcyAkY3tnZXRIdG1sKHQpe2NvbnN0IGU9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KFwiXCIpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIGUuYXBwZW5kQ2hpbGQodCksZS5pbm5lckhUTUx9fWNsYXNzIFFje2NvbnN0cnVjdG9yKCl7dGhpcy5fZG9tUGFyc2VyPW5ldyBET01QYXJzZXIsdGhpcy5fZG9tQ29udmVydGVyPW5ldyBlcih7YmxvY2tGaWxsZXI6Tml9KSx0aGlzLl9odG1sV3JpdGVyPW5ldyAkY310b0RhdGEodCl7Y29uc3QgZT10aGlzLl9kb21Db252ZXJ0ZXIudmlld1RvRG9tKHQsZG9jdW1lbnQpO3JldHVybiB0aGlzLl9odG1sV3JpdGVyLmdldEh0bWwoZSl9dG9WaWV3KHQpe2NvbnN0IGU9dGhpcy5fdG9Eb20odCk7cmV0dXJuIHRoaXMuX2RvbUNvbnZlcnRlci5kb21Ub1ZpZXcoZSl9X3RvRG9tKHQpe2NvbnN0IGU9dGhpcy5fZG9tUGFyc2VyLnBhcnNlRnJvbVN0cmluZyh0LFwidGV4dC9odG1sXCIpLG49ZS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbz1lLmJvZHkuY2hpbGROb2Rlcztmb3IoO28ubGVuZ3RoPjA7KW4uYXBwZW5kQ2hpbGQob1swXSk7cmV0dXJuIG59fWNsYXNzIEpje2NvbnN0cnVjdG9yKHQpe3RoaXMuZWRpdG9yPXQsdGhpcy5fY29tcG9uZW50cz1uZXcgTWFwfSpuYW1lcygpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2NvbXBvbmVudHMudmFsdWVzKCkpeWllbGQgdC5vcmlnaW5hbE5hbWV9YWRkKHQsZSl7aWYodGhpcy5oYXModCkpdGhyb3cgbmV3IE0uYihcImNvbXBvbmVudGZhY3RvcnktaXRlbS1leGlzdHM6IFRoZSBpdGVtIGFscmVhZHkgZXhpc3RzIGluIHRoZSBjb21wb25lbnQgZmFjdG9yeS5cIix7bmFtZTp0fSk7dGhpcy5fY29tcG9uZW50cy5zZXQoS2ModCkse2NhbGxiYWNrOmUsb3JpZ2luYWxOYW1lOnR9KX1jcmVhdGUodCl7aWYoIXRoaXMuaGFzKHQpKXRocm93IG5ldyBNLmIoXCJjb21wb25lbnRmYWN0b3J5LWl0ZW0tbWlzc2luZzogVGhlIHJlcXVpcmVkIGNvbXBvbmVudCBpcyBub3QgcmVnaXN0ZXJlZCBpbiB0aGUgZmFjdG9yeS5cIix7bmFtZTp0fSk7cmV0dXJuIHRoaXMuX2NvbXBvbmVudHMuZ2V0KEtjKHQpKS5jYWxsYmFjayh0aGlzLmVkaXRvci5sb2NhbGUpfWhhcyh0KXtyZXR1cm4gdGhpcy5fY29tcG9uZW50cy5oYXMoS2ModCkpfX1mdW5jdGlvbiBLYyh0KXtyZXR1cm4gU3RyaW5nKHQpLnRvTG93ZXJDYXNlKCl9Y2xhc3MgWmN7Y29uc3RydWN0b3IoKXt0aGlzLnNldChcImlzRm9jdXNlZFwiLCExKSx0aGlzLmZvY3VzZWRFbGVtZW50PW51bGwsdGhpcy5fZWxlbWVudHM9bmV3IFNldCx0aGlzLl9uZXh0RXZlbnRMb29wVGltZW91dD1udWxsfWFkZCh0KXtpZih0aGlzLl9lbGVtZW50cy5oYXModCkpdGhyb3cgbmV3IE0uYihcImZvY3VzVHJhY2tlci1hZGQtZWxlbWVudC1hbHJlYWR5LWV4aXN0XCIpO3RoaXMubGlzdGVuVG8odCxcImZvY3VzXCIsKCk9PnRoaXMuX2ZvY3VzKHQpLHt1c2VDYXB0dXJlOiEwfSksdGhpcy5saXN0ZW5Ubyh0LFwiYmx1clwiLCgpPT50aGlzLl9ibHVyKCkse3VzZUNhcHR1cmU6ITB9KSx0aGlzLl9lbGVtZW50cy5hZGQodCl9cmVtb3ZlKHQpe3Q9PT10aGlzLmZvY3VzZWRFbGVtZW50JiZ0aGlzLl9ibHVyKHQpLHRoaXMuX2VsZW1lbnRzLmhhcyh0KSYmKHRoaXMuc3RvcExpc3RlbmluZyh0KSx0aGlzLl9lbGVtZW50cy5kZWxldGUodCkpfV9mb2N1cyh0KXtjbGVhclRpbWVvdXQodGhpcy5fbmV4dEV2ZW50TG9vcFRpbWVvdXQpLHRoaXMuZm9jdXNlZEVsZW1lbnQ9dCx0aGlzLmlzRm9jdXNlZD0hMH1fYmx1cigpe2NsZWFyVGltZW91dCh0aGlzLl9uZXh0RXZlbnRMb29wVGltZW91dCksdGhpcy5fbmV4dEV2ZW50TG9vcFRpbWVvdXQ9c2V0VGltZW91dCgoKT0+e3RoaXMuZm9jdXNlZEVsZW1lbnQ9bnVsbCx0aGlzLmlzRm9jdXNlZD0hMX0sMCl9fUIoWmMscnIpLEIoWmMsTG8pO2NsYXNzIFhje2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5lZGl0b3I9dCx0aGlzLnZpZXc9ZSx0aGlzLmNvbXBvbmVudEZhY3Rvcnk9bmV3IEpjKHQpLHRoaXMuZm9jdXNUcmFja2VyPW5ldyBaYyx0aGlzLmxpc3RlblRvKHQuZWRpdGluZy52aWV3LmRvY3VtZW50LFwibGF5b3V0Q2hhbmdlZFwiLCgpPT50aGlzLnVwZGF0ZSgpKX11cGRhdGUoKXt0aGlzLmZpcmUoXCJ1cGRhdGVcIil9ZGVzdHJveSgpe3RoaXMuc3RvcExpc3RlbmluZygpLHRoaXMudmlldy5kZXN0cm95KCl9fUIoWGMsUik7Y2xhc3MgdGwgZXh0ZW5kcyBYY3tjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQsZSksdGhpcy5fdG9vbGJhckNvbmZpZz1mdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT97aXRlbXM6dH06dD9PYmplY3QuYXNzaWduKHtpdGVtczpbXX0sdCk6e2l0ZW1zOltdfX0odC5jb25maWcuZ2V0KFwidG9vbGJhclwiKSl9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10aGlzLnZpZXc7ZS5yZW5kZXIoKSxlLnBhbmVsLmJpbmQoXCJpc1Zpc2libGVcIikudG8odGhpcy5mb2N1c1RyYWNrZXIsXCJpc0ZvY3VzZWRcIiksdGhpcy5fdG9vbGJhckNvbmZpZy52aWV3cG9ydFRvcE9mZnNldCYmKGUudmlld3BvcnRUb3BPZmZzZXQ9dGhpcy5fdG9vbGJhckNvbmZpZy52aWV3cG9ydFRvcE9mZnNldCksZS5saXN0ZW5Ubyh0LnVpLFwidXBkYXRlXCIsKCk9PntlLnBhbmVsLmlzVmlzaWJsZSYmZS5wYW5lbC5waW4oe3RhcmdldDplLmVkaXRhYmxlRWxlbWVudCxwb3NpdGlvbnM6ZS5wYW5lbFBvc2l0aW9uc30pfSk7Y29uc3Qgbj10LmVkaXRpbmcudmlldy5kb2N1bWVudC5nZXRSb290KCk7ZS5lZGl0YWJsZS5iaW5kKFwiaXNSZWFkT25seVwiKS50byhuKSxlLmVkaXRhYmxlLmJpbmQoXCJpc0ZvY3VzZWRcIikudG8odGhpcy5mb2N1c1RyYWNrZXIpLHQuZWRpdGluZy52aWV3LmF0dGFjaERvbVJvb3QoZS5lZGl0YWJsZUVsZW1lbnQpLGUuZWRpdGFibGUubmFtZT1uLnJvb3ROYW1lLHRoaXMuZm9jdXNUcmFja2VyLmFkZChlLmVkaXRhYmxlRWxlbWVudCksZS50b29sYmFyLmZpbGxGcm9tQ29uZmlnKHRoaXMuX3Rvb2xiYXJDb25maWcuaXRlbXMsdGhpcy5jb21wb25lbnRGYWN0b3J5KSxmdW5jdGlvbih7b3JpZ2luOnQsb3JpZ2luS2V5c3Ryb2tlSGFuZGxlcjplLG9yaWdpbkZvY3VzVHJhY2tlcjpuLHRvb2xiYXI6byxiZWZvcmVGb2N1czppLGFmdGVyQmx1cjpyfSl7bi5hZGQoby5lbGVtZW50KSxlLnNldChcIkFsdCtGMTBcIiwodCxlKT0+e24uaXNGb2N1c2VkJiYhby5mb2N1c1RyYWNrZXIuaXNGb2N1c2VkJiYoaSYmaSgpLG8uZm9jdXMoKSxlKCkpfSksby5rZXlzdHJva2VzLnNldChcIkVzY1wiLChlLG4pPT57by5mb2N1c1RyYWNrZXIuaXNGb2N1c2VkJiYodC5mb2N1cygpLHImJnIoKSxuKCkpfSl9KHtvcmlnaW46dC5lZGl0aW5nLnZpZXcsb3JpZ2luRm9jdXNUcmFja2VyOnRoaXMuZm9jdXNUcmFja2VyLG9yaWdpbktleXN0cm9rZUhhbmRsZXI6dC5rZXlzdHJva2VzLHRvb2xiYXI6ZS50b29sYmFyfSl9fWNsYXNzIGVsIGV4dGVuZHMgdGl7Y29uc3RydWN0b3IodCl7c3VwZXIoe2lkUHJvcGVydHk6XCJ2aWV3VWlkXCJ9KSx0aGlzLm9uKFwiYWRkXCIsKHQsZSxuKT0+e2UuaXNSZW5kZXJlZHx8ZS5yZW5kZXIoKSxlLmVsZW1lbnQmJnRoaXMuX3BhcmVudEVsZW1lbnQmJnRoaXMuX3BhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKGUuZWxlbWVudCx0aGlzLl9wYXJlbnRFbGVtZW50LmNoaWxkcmVuW25dKX0pLHRoaXMub24oXCJyZW1vdmVcIiwodCxlKT0+e2UuZWxlbWVudCYmdGhpcy5fcGFyZW50RWxlbWVudCYmZS5lbGVtZW50LnJlbW92ZSgpfSksdGhpcy5sb2NhbGU9dCx0aGlzLl9wYXJlbnRFbGVtZW50PW51bGx9ZGVzdHJveSgpe3RoaXMubWFwKHQ9PnQuZGVzdHJveSgpKX1zZXRQYXJlbnQodCl7dGhpcy5fcGFyZW50RWxlbWVudD10fWRlbGVnYXRlKC4uLnQpe2lmKCF0Lmxlbmd0aHx8IWZ1bmN0aW9uKHQpe3JldHVybiB0LmV2ZXJ5KHQ9Plwic3RyaW5nXCI9PXR5cGVvZiB0KX0odCkpdGhyb3cgbmV3IE0uYihcInVpLXZpZXdjb2xsZWN0aW9uLWRlbGVnYXRlLXdyb25nLWV2ZW50czogQWxsIGV2ZW50IG5hbWVzIG11c3QgYmUgc3RyaW5ncy5cIik7cmV0dXJue3RvOmU9Pntmb3IoY29uc3QgbiBvZiB0aGlzKWZvcihjb25zdCBvIG9mIHQpbi5kZWxlZ2F0ZShvKS50byhlKTt0aGlzLm9uKFwiYWRkXCIsKG4sbyk9Pntmb3IoY29uc3QgbiBvZiB0KW8uZGVsZWdhdGUobikudG8oZSl9KSx0aGlzLm9uKFwicmVtb3ZlXCIsKG4sbyk9Pntmb3IoY29uc3QgbiBvZiB0KW8uc3RvcERlbGVnYXRpbmcobixlKX0pfX19fUIodGksTG8pO3ZhciBubD0xLG9sPTQ7dmFyIGlsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGlvKHQsbmx8b2wsZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2U6dm9pZCAwKX07Y29uc3Qgcmw9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCI7Y2xhc3Mgc2x7Y29uc3RydWN0b3IodCl7T2JqZWN0LmFzc2lnbih0aGlzLGdsKG1sKHQpKSksdGhpcy5faXNSZW5kZXJlZD0hMSx0aGlzLl9yZXZlcnREYXRhPW51bGx9cmVuZGVyKCl7Y29uc3QgdD10aGlzLl9yZW5kZXJOb2RlKHtpbnRvRnJhZ21lbnQ6ITB9KTtyZXR1cm4gdGhpcy5faXNSZW5kZXJlZD0hMCx0fWFwcGx5KHQpe3JldHVybiB0aGlzLl9yZXZlcnREYXRhPXtjaGlsZHJlbjpbXSxiaW5kaW5nczpbXSxhdHRyaWJ1dGVzOnt9fSx0aGlzLl9yZW5kZXJOb2RlKHtub2RlOnQsaXNBcHBseWluZzohMCxyZXZlcnREYXRhOnRoaXMuX3JldmVydERhdGF9KSx0fXJldmVydCh0KXtpZighdGhpcy5fcmV2ZXJ0RGF0YSl0aHJvdyBuZXcgTS5iKFwidWktdGVtcGxhdGUtcmV2ZXJ0LW5vdC1hcHBsaWVkOiBBdHRlbXB0aW5nIHRvIHJldmVydCBhIHRlbXBsYXRlIHdoaWNoIGhhcyBub3QgYmVlbiBhcHBsaWVkIHlldC5cIik7dGhpcy5fcmV2ZXJ0VGVtcGxhdGVGcm9tTm9kZSh0LHRoaXMuX3JldmVydERhdGEpfSpnZXRWaWV3cygpe3lpZWxkKmZ1bmN0aW9uKnQoZSl7aWYoZS5jaGlsZHJlbilmb3IoY29uc3QgbiBvZiBlLmNoaWxkcmVuKXZsKG4pP3lpZWxkIG46a2wobikmJih5aWVsZCp0KG4pKX0odGhpcyl9c3RhdGljIGJpbmQodCxlKXtyZXR1cm57dG86KG4sbyk9Pm5ldyBjbCh7ZXZlbnROYW1lT3JGdW5jdGlvbjpuLGF0dHJpYnV0ZTpuLG9ic2VydmFibGU6dCxlbWl0dGVyOmUsY2FsbGJhY2s6b30pLGlmOihuLG8saSk9Pm5ldyBsbCh7b2JzZXJ2YWJsZTp0LGVtaXR0ZXI6ZSxhdHRyaWJ1dGU6bix2YWx1ZUlmVHJ1ZTpvLGNhbGxiYWNrOml9KX19c3RhdGljIGV4dGVuZCh0LGUpe3QuX2lzUmVuZGVyZWQmJmZzLmEud2FybihcInRlbXBsYXRlLWV4dGVuZC1yZW5kZXI6IEF0dGVtcHRpbmcgdG8gZXh0ZW5kIGEgdGVtcGxhdGUgd2hpY2ggaGFzIGFscmVhZHkgYmVlbiByZW5kZXJlZC5cIiksZnVuY3Rpb24gdChlLG4pe24uYXR0cmlidXRlcyYmKGUuYXR0cmlidXRlc3x8KGUuYXR0cmlidXRlcz17fSksd2woZS5hdHRyaWJ1dGVzLG4uYXR0cmlidXRlcykpO24uZXZlbnRMaXN0ZW5lcnMmJihlLmV2ZW50TGlzdGVuZXJzfHwoZS5ldmVudExpc3RlbmVycz17fSksd2woZS5ldmVudExpc3RlbmVycyxuLmV2ZW50TGlzdGVuZXJzKSk7bi50ZXh0JiZlLnRleHQucHVzaCguLi5uLnRleHQpO2lmKG4uY2hpbGRyZW4mJm4uY2hpbGRyZW4ubGVuZ3RoKXtpZihlLmNoaWxkcmVuLmxlbmd0aCE9bi5jaGlsZHJlbi5sZW5ndGgpdGhyb3cgbmV3IE0uYihcInVpLXRlbXBsYXRlLWV4dGVuZC1jaGlsZHJlbi1taXNtYXRjaDogVGhlIG51bWJlciBvZiBjaGlsZHJlbiBpbiBleHRlbmRlZCBkZWZpbml0aW9uIGRvZXMgbm90IG1hdGNoLlwiKTtsZXQgbz0wO2Zvcihjb25zdCBpIG9mIG4uY2hpbGRyZW4pdChlLmNoaWxkcmVuW28rK10saSl9fSh0LGdsKG1sKGUpKSl9X3JlbmRlck5vZGUodCl7bGV0IGU7aWYoZT10Lm5vZGU/dGhpcy50YWcmJnRoaXMudGV4dDp0aGlzLnRhZz90aGlzLnRleHQ6IXRoaXMudGV4dCl0aHJvdyBuZXcgTS5iKCd1aS10ZW1wbGF0ZS13cm9uZy1zeW50YXg6IE5vZGUgZGVmaW5pdGlvbiBtdXN0IGhhdmUgZWl0aGVyIFwidGFnXCIgb3IgXCJ0ZXh0XCIgd2hlbiByZW5kZXJpbmcgYSBuZXcgTm9kZS4nKTtyZXR1cm4gdGhpcy50ZXh0P3RoaXMuX3JlbmRlclRleHQodCk6dGhpcy5fcmVuZGVyRWxlbWVudCh0KX1fcmVuZGVyRWxlbWVudCh0KXtsZXQgZT10Lm5vZGU7cmV0dXJuIGV8fChlPXQubm9kZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlModGhpcy5uc3x8cmwsdGhpcy50YWcpKSx0aGlzLl9yZW5kZXJBdHRyaWJ1dGVzKHQpLHRoaXMuX3JlbmRlckVsZW1lbnRDaGlsZHJlbih0KSx0aGlzLl9zZXRVcExpc3RlbmVycyh0KSxlfV9yZW5kZXJUZXh0KHQpe2xldCBlPXQubm9kZTtyZXR1cm4gZT90LnJldmVydERhdGEudGV4dD1lLnRleHRDb250ZW50OmU9dC5ub2RlPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpLGRsKHRoaXMudGV4dCk/dGhpcy5fYmluZFRvT2JzZXJ2YWJsZSh7c2NoZW1hOnRoaXMudGV4dCx1cGRhdGVyOmZ1bmN0aW9uKHQpe3JldHVybntzZXQoZSl7dC50ZXh0Q29udGVudD1lfSxyZW1vdmUoKXt0LnRleHRDb250ZW50PVwiXCJ9fX0oZSksZGF0YTp0fSk6ZS50ZXh0Q29udGVudD10aGlzLnRleHQuam9pbihcIlwiKSxlfV9yZW5kZXJBdHRyaWJ1dGVzKHQpe2xldCBlLG4sbyxpO2lmKCF0aGlzLmF0dHJpYnV0ZXMpcmV0dXJuO2NvbnN0IHI9dC5ub2RlLHM9dC5yZXZlcnREYXRhO2ZvcihlIGluIHRoaXMuYXR0cmlidXRlcylpZihvPXIuZ2V0QXR0cmlidXRlKGUpLG49dGhpcy5hdHRyaWJ1dGVzW2VdLHMmJihzLmF0dHJpYnV0ZXNbZV09byksaT1vdChuWzBdKSYmblswXS5ucz9uWzBdLm5zOm51bGwsZGwobikpe2NvbnN0IGE9aT9uWzBdLnZhbHVlOm47cyYmeGwoZSkmJmEudW5zaGlmdChvKSx0aGlzLl9iaW5kVG9PYnNlcnZhYmxlKHtzY2hlbWE6YSx1cGRhdGVyOmhsKHIsZSxpKSxkYXRhOnR9KX1lbHNlXCJzdHlsZVwiPT1lJiZcInN0cmluZ1wiIT10eXBlb2YgblswXT90aGlzLl9yZW5kZXJTdHlsZUF0dHJpYnV0ZShuWzBdLHQpOihzJiZvJiZ4bChlKSYmbi51bnNoaWZ0KG8pLF9sKG49bi5tYXAodD0+dCYmdC52YWx1ZXx8dCkucmVkdWNlKCh0LGUpPT50LmNvbmNhdChlKSxbXSkucmVkdWNlKGJsLFwiXCIpKXx8ci5zZXRBdHRyaWJ1dGVOUyhpLGUsbikpfV9yZW5kZXJTdHlsZUF0dHJpYnV0ZSh0LGUpe2NvbnN0IG49ZS5ub2RlO2Zvcihjb25zdCBvIGluIHQpe2NvbnN0IGk9dFtvXTtkbChpKT90aGlzLl9iaW5kVG9PYnNlcnZhYmxlKHtzY2hlbWE6W2ldLHVwZGF0ZXI6ZmwobixvKSxkYXRhOmV9KTpuLnN0eWxlW29dPWl9fV9yZW5kZXJFbGVtZW50Q2hpbGRyZW4odCl7Y29uc3QgZT10Lm5vZGUsbj10LmludG9GcmFnbWVudD9kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk6ZSxvPXQuaXNBcHBseWluZztsZXQgaT0wO2Zvcihjb25zdCByIG9mIHRoaXMuY2hpbGRyZW4paWYoeWwocikpe2lmKCFvKXtyLnNldFBhcmVudChlKTtmb3IoY29uc3QgdCBvZiByKW4uYXBwZW5kQ2hpbGQodC5lbGVtZW50KX19ZWxzZSBpZih2bChyKSlvfHwoci5pc1JlbmRlcmVkfHxyLnJlbmRlcigpLG4uYXBwZW5kQ2hpbGQoci5lbGVtZW50KSk7ZWxzZSBpZihxaShyKSluLmFwcGVuZENoaWxkKHIpO2Vsc2UgaWYobyl7Y29uc3QgZT17Y2hpbGRyZW46W10sYmluZGluZ3M6W10sYXR0cmlidXRlczp7fX07dC5yZXZlcnREYXRhLmNoaWxkcmVuLnB1c2goZSksci5fcmVuZGVyTm9kZSh7bm9kZTpuLmNoaWxkTm9kZXNbaSsrXSxpc0FwcGx5aW5nOiEwLHJldmVydERhdGE6ZX0pfWVsc2Ugbi5hcHBlbmRDaGlsZChyLnJlbmRlcigpKTt0LmludG9GcmFnbWVudCYmZS5hcHBlbmRDaGlsZChuKX1fc2V0VXBMaXN0ZW5lcnModCl7aWYodGhpcy5ldmVudExpc3RlbmVycylmb3IoY29uc3QgZSBpbiB0aGlzLmV2ZW50TGlzdGVuZXJzKXtjb25zdCBuPXRoaXMuZXZlbnRMaXN0ZW5lcnNbZV0ubWFwKG49Pntjb25zdFtvLGldPWUuc3BsaXQoXCJAXCIpO3JldHVybiBuLmFjdGl2YXRlRG9tRXZlbnRMaXN0ZW5lcihvLGksdCl9KTt0LnJldmVydERhdGEmJnQucmV2ZXJ0RGF0YS5iaW5kaW5ncy5wdXNoKG4pfX1fYmluZFRvT2JzZXJ2YWJsZSh7c2NoZW1hOnQsdXBkYXRlcjplLGRhdGE6bn0pe2NvbnN0IG89bi5yZXZlcnREYXRhO3VsKHQsZSxuKTtjb25zdCBpPXQuZmlsdGVyKHQ9PiFfbCh0KSkuZmlsdGVyKHQ9PnQub2JzZXJ2YWJsZSkubWFwKG89Pm8uYWN0aXZhdGVBdHRyaWJ1dGVMaXN0ZW5lcih0LGUsbikpO28mJm8uYmluZGluZ3MucHVzaChpKX1fcmV2ZXJ0VGVtcGxhdGVGcm9tTm9kZSh0LGUpe2Zvcihjb25zdCB0IG9mIGUuYmluZGluZ3MpZm9yKGNvbnN0IGUgb2YgdCllKCk7aWYoZS50ZXh0KXQudGV4dENvbnRlbnQ9ZS50ZXh0O2Vsc2V7Zm9yKGNvbnN0IG4gaW4gZS5hdHRyaWJ1dGVzKXtjb25zdCBvPWUuYXR0cmlidXRlc1tuXTtudWxsPT09bz90LnJlbW92ZUF0dHJpYnV0ZShuKTp0LnNldEF0dHJpYnV0ZShuLG8pfWZvcihsZXQgbj0wO248ZS5jaGlsZHJlbi5sZW5ndGg7KytuKXRoaXMuX3JldmVydFRlbXBsYXRlRnJvbU5vZGUodC5jaGlsZE5vZGVzW25dLGUuY2hpbGRyZW5bbl0pfX19QihzbCxSKTtjbGFzcyBhbHtjb25zdHJ1Y3Rvcih0KXtPYmplY3QuYXNzaWduKHRoaXMsdCl9Z2V0VmFsdWUodCl7Y29uc3QgZT10aGlzLm9ic2VydmFibGVbdGhpcy5hdHRyaWJ1dGVdO3JldHVybiB0aGlzLmNhbGxiYWNrP3RoaXMuY2FsbGJhY2soZSx0KTplfWFjdGl2YXRlQXR0cmlidXRlTGlzdGVuZXIodCxlLG4pe2NvbnN0IG89KCk9PnVsKHQsZSxuKTtyZXR1cm4gdGhpcy5lbWl0dGVyLmxpc3RlblRvKHRoaXMub2JzZXJ2YWJsZSxcImNoYW5nZTpcIit0aGlzLmF0dHJpYnV0ZSxvKSwoKT0+e3RoaXMuZW1pdHRlci5zdG9wTGlzdGVuaW5nKHRoaXMub2JzZXJ2YWJsZSxcImNoYW5nZTpcIit0aGlzLmF0dHJpYnV0ZSxvKX19fWNsYXNzIGNsIGV4dGVuZHMgYWx7YWN0aXZhdGVEb21FdmVudExpc3RlbmVyKHQsZSxuKXtjb25zdCBvPSh0LG4pPT57ZSYmIW4udGFyZ2V0Lm1hdGNoZXMoZSl8fChcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLmV2ZW50TmFtZU9yRnVuY3Rpb24/dGhpcy5ldmVudE5hbWVPckZ1bmN0aW9uKG4pOnRoaXMub2JzZXJ2YWJsZS5maXJlKHRoaXMuZXZlbnROYW1lT3JGdW5jdGlvbixuKSl9O3JldHVybiB0aGlzLmVtaXR0ZXIubGlzdGVuVG8obi5ub2RlLHQsbyksKCk9Pnt0aGlzLmVtaXR0ZXIuc3RvcExpc3RlbmluZyhuLm5vZGUsdCxvKX19fWNsYXNzIGxsIGV4dGVuZHMgYWx7Z2V0VmFsdWUodCl7cmV0dXJuIV9sKHN1cGVyLmdldFZhbHVlKHQpKSYmKHRoaXMudmFsdWVJZlRydWV8fCEwKX19ZnVuY3Rpb24gZGwodCl7cmV0dXJuISF0JiYodC52YWx1ZSYmKHQ9dC52YWx1ZSksQXJyYXkuaXNBcnJheSh0KT90LnNvbWUoZGwpOnQgaW5zdGFuY2VvZiBhbCl9ZnVuY3Rpb24gdWwodCxlLHtub2RlOm59KXtsZXQgbz1mdW5jdGlvbih0LGUpe3JldHVybiB0Lm1hcCh0PT50IGluc3RhbmNlb2YgYWw/dC5nZXRWYWx1ZShlKTp0KX0odCxuKTtfbChvPTE9PXQubGVuZ3RoJiZ0WzBdaW5zdGFuY2VvZiBsbD9vWzBdOm8ucmVkdWNlKGJsLFwiXCIpKT9lLnJlbW92ZSgpOmUuc2V0KG8pfWZ1bmN0aW9uIGhsKHQsZSxuKXtyZXR1cm57c2V0KG8pe3Quc2V0QXR0cmlidXRlTlMobixlLG8pfSxyZW1vdmUoKXt0LnJlbW92ZUF0dHJpYnV0ZU5TKG4sZSl9fX1mdW5jdGlvbiBmbCh0LGUpe3JldHVybntzZXQobil7dC5zdHlsZVtlXT1ufSxyZW1vdmUoKXt0LnN0eWxlW2VdPW51bGx9fX1mdW5jdGlvbiBtbCh0KXtyZXR1cm4gaWwodCx0PT57aWYodCYmKHQgaW5zdGFuY2VvZiBhbHx8a2wodCl8fHZsKHQpfHx5bCh0KSkpcmV0dXJuIHR9KX1mdW5jdGlvbiBnbCh0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdD90PWZ1bmN0aW9uKHQpe3JldHVybnt0ZXh0Olt0XX19KHQpOnQudGV4dCYmZnVuY3Rpb24odCl7QXJyYXkuaXNBcnJheSh0LnRleHQpfHwodC50ZXh0PVt0LnRleHRdKX0odCksdC5vbiYmKHQuZXZlbnRMaXN0ZW5lcnM9ZnVuY3Rpb24odCl7Zm9yKGNvbnN0IGUgaW4gdClwbCh0LGUpO3JldHVybiB0fSh0Lm9uKSxkZWxldGUgdC5vbiksIXQudGV4dCl7dC5hdHRyaWJ1dGVzJiZmdW5jdGlvbih0KXtmb3IoY29uc3QgZSBpbiB0KXRbZV0udmFsdWUmJih0W2VdLnZhbHVlPVtdLmNvbmNhdCh0W2VdLnZhbHVlKSkscGwodCxlKX0odC5hdHRyaWJ1dGVzKTtjb25zdCBlPVtdO2lmKHQuY2hpbGRyZW4paWYoeWwodC5jaGlsZHJlbikpZS5wdXNoKHQuY2hpbGRyZW4pO2Vsc2UgZm9yKGNvbnN0IG4gb2YgdC5jaGlsZHJlbilrbChuKXx8dmwobil8fHFpKG4pP2UucHVzaChuKTplLnB1c2gobmV3IHNsKG4pKTt0LmNoaWxkcmVuPWV9cmV0dXJuIHR9ZnVuY3Rpb24gcGwodCxlKXtBcnJheS5pc0FycmF5KHRbZV0pfHwodFtlXT1bdFtlXV0pfWZ1bmN0aW9uIGJsKHQsZSl7cmV0dXJuIF9sKGUpP3Q6X2wodCk/ZTpgJHt0fSAke2V9YH1mdW5jdGlvbiB3bCh0LGUpe2Zvcihjb25zdCBuIGluIGUpdFtuXT90W25dLnB1c2goLi4uZVtuXSk6dFtuXT1lW25dfWZ1bmN0aW9uIF9sKHQpe3JldHVybiF0JiYwIT09dH1mdW5jdGlvbiB2bCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIEFsfWZ1bmN0aW9uIGtsKHQpe3JldHVybiB0IGluc3RhbmNlb2Ygc2x9ZnVuY3Rpb24geWwodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlbH1mdW5jdGlvbiB4bCh0KXtyZXR1cm5cImNsYXNzXCI9PXR8fFwic3R5bGVcIj09dH1uKDQyKTtjbGFzcyBBbHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmVsZW1lbnQ9bnVsbCx0aGlzLmlzUmVuZGVyZWQ9ITEsdGhpcy5sb2NhbGU9dCx0aGlzLnQ9dCYmdC50LHRoaXMuX3ZpZXdDb2xsZWN0aW9ucz1uZXcgdGksdGhpcy5fdW5ib3VuZENoaWxkcmVuPXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpLHRoaXMuX3ZpZXdDb2xsZWN0aW9ucy5vbihcImFkZFwiLChlLG4pPT57bi5sb2NhbGU9dH0pLHRoaXMuZGVjb3JhdGUoXCJyZW5kZXJcIil9Z2V0IGJpbmRUZW1wbGF0ZSgpe3JldHVybiB0aGlzLl9iaW5kVGVtcGxhdGU/dGhpcy5fYmluZFRlbXBsYXRlOnRoaXMuX2JpbmRUZW1wbGF0ZT1zbC5iaW5kKHRoaXMsdGhpcyl9Y3JlYXRlQ29sbGVjdGlvbigpe2NvbnN0IHQ9bmV3IGVsO3JldHVybiB0aGlzLl92aWV3Q29sbGVjdGlvbnMuYWRkKHQpLHR9cmVnaXN0ZXJDaGlsZCh0KXtobyh0KXx8KHQ9W3RdKTtmb3IoY29uc3QgZSBvZiB0KXRoaXMuX3VuYm91bmRDaGlsZHJlbi5hZGQoZSl9ZGVyZWdpc3RlckNoaWxkKHQpe2hvKHQpfHwodD1bdF0pO2Zvcihjb25zdCBlIG9mIHQpdGhpcy5fdW5ib3VuZENoaWxkcmVuLnJlbW92ZShlKX1zZXRUZW1wbGF0ZSh0KXt0aGlzLnRlbXBsYXRlPW5ldyBzbCh0KX1leHRlbmRUZW1wbGF0ZSh0KXtzbC5leHRlbmQodGhpcy50ZW1wbGF0ZSx0KX1yZW5kZXIoKXtpZih0aGlzLmlzUmVuZGVyZWQpdGhyb3cgbmV3IE0uYihcInVpLXZpZXctcmVuZGVyLWFscmVhZHktcmVuZGVyZWQ6IFRoaXMgVmlldyBoYXMgYWxyZWFkeSBiZWVuIHJlbmRlcmVkLlwiKTt0aGlzLnRlbXBsYXRlJiYodGhpcy5lbGVtZW50PXRoaXMudGVtcGxhdGUucmVuZGVyKCksdGhpcy5yZWdpc3RlckNoaWxkKHRoaXMudGVtcGxhdGUuZ2V0Vmlld3MoKSkpLHRoaXMuaXNSZW5kZXJlZD0hMH1kZXN0cm95KCl7dGhpcy5zdG9wTGlzdGVuaW5nKCksdGhpcy5fdmlld0NvbGxlY3Rpb25zLm1hcCh0PT50LmRlc3Ryb3koKSl9fUIoQWwscnIpLEIoQWwsTG8pO24oNDUpO2NsYXNzIENsIGV4dGVuZHMgQWx7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5ib2R5PXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpfXJlbmRlcigpe3N1cGVyLnJlbmRlcigpLHRoaXMuX3JlbmRlckJvZHlDb2xsZWN0aW9uKCl9ZGVzdHJveSgpe3JldHVybiB0aGlzLl9ib2R5Q29sbGVjdGlvbkNvbnRhaW5lci5yZW1vdmUoKSxzdXBlci5kZXN0cm95KCl9X3JlbmRlckJvZHlDb2xsZWN0aW9uKCl7Y29uc3QgdD10aGlzLl9ib2R5Q29sbGVjdGlvbkNvbnRhaW5lcj1uZXcgc2woe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1yZXNldF9hbGxcIixcImNrLWJvZHlcIixcImNrLXJvdW5kZWQtY29ybmVyc1wiXX0sY2hpbGRyZW46dGhpcy5ib2R5fSkucmVuZGVyKCk7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0KX19Y2xhc3MgVGwgZXh0ZW5kcyBBbHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpO2NvbnN0IG49dGhpcy5iaW5kVGVtcGxhdGU7ZSYmKHRoaXMuZWxlbWVudD10aGlzLmVkaXRhYmxlRWxlbWVudD1lKSx0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJkaXZcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stY29udGVudFwiLFwiY2stZWRpdG9yX19lZGl0YWJsZVwiLFwiY2stcm91bmRlZC1jb3JuZXJzXCIsbi50byhcImlzRm9jdXNlZFwiLHQ9PnQ/XCJjay1mb2N1c2VkXCI6XCJjay1ibHVycmVkXCIpXSxjb250ZW50ZWRpdGFibGU6bi50byhcImlzUmVhZE9ubHlcIix0PT4hdCl9fSksdGhpcy5zZXQoXCJpc1JlYWRPbmx5XCIsITEpLHRoaXMuc2V0KFwiaXNGb2N1c2VkXCIsITEpLHRoaXMuZXh0ZXJuYWxFbGVtZW50PWV9cmVuZGVyKCl7c3VwZXIucmVuZGVyKCksdGhpcy5leHRlcm5hbEVsZW1lbnQ/dGhpcy50ZW1wbGF0ZS5hcHBseSh0aGlzLmVsZW1lbnQ9dGhpcy5leHRlcm5hbEVsZW1lbnQpOnRoaXMuZWRpdGFibGVFbGVtZW50PXRoaXMuZWxlbWVudH1kZXN0cm95KCl7dGhpcy5leHRlcm5hbEVsZW1lbnQmJnRoaXMudGVtcGxhdGUucmV2ZXJ0KHRoaXMuZXh0ZXJuYWxFbGVtZW50KSxzdXBlci5kZXN0cm95KCl9fWNsYXNzIE1sIGV4dGVuZHMgVGx7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0LGUpO2NvbnN0IG49dGhpcy5iaW5kVGVtcGxhdGUsbz10aGlzLnQ7dGhpcy5zZXQoXCJuYW1lXCIsbnVsbCk7dGhpcy5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7cm9sZTpcInRleHRib3hcIixcImFyaWEtbGFiZWxcIjpuLnRvKFwibmFtZVwiLHQ9Pm8oXCJheFwiLFt0XSkpLGNsYXNzOlwiY2stZWRpdG9yX19lZGl0YWJsZV9pbmxpbmVcIn19KX19ZnVuY3Rpb24gUGwodCxlLG4pe2NvbnN0e2xlZnQ6byx0b3A6aSxuYW1lOnJ9PXQoZSxuKTtyZXR1cm5bcixuLmNsb25lKCkubW92ZVRvKG8saSldfWZ1bmN0aW9uIFNsKHtsZWZ0OnQsdG9wOmV9KXtjb25zdHtzY3JvbGxYOm4sc2Nyb2xsWTpvfT1LaS53aW5kb3c7cmV0dXJue2xlZnQ6dCtuLHRvcDplK299fW4oNDcpO2NvbnN0IEVsPWZ1bmN0aW9uKHQpe3JldHVybiBlPT5lK3R9KFwicHhcIiksSWw9S2kuZG9jdW1lbnQuYm9keTtjbGFzcyBObCBleHRlbmRzIEFse2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO2NvbnN0IGU9dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5zZXQoXCJ0b3BcIiwwKSx0aGlzLnNldChcImxlZnRcIiwwKSx0aGlzLnNldChcInBvc2l0aW9uXCIsXCJhcnJvd19ud1wiKSx0aGlzLnNldChcImlzVmlzaWJsZVwiLCExKSx0aGlzLnNldChcIndpdGhBcnJvd1wiLCEwKSx0aGlzLnNldChcImNsYXNzTmFtZVwiKSx0aGlzLmNvbnRlbnQ9dGhpcy5jcmVhdGVDb2xsZWN0aW9uKCksdGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwiZGl2XCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLWJhbGxvb24tcGFuZWxcIixlLnRvKFwicG9zaXRpb25cIix0PT5gY2stYmFsbG9vbi1wYW5lbF8ke3R9YCksZS5pZihcImlzVmlzaWJsZVwiLFwiY2stYmFsbG9vbi1wYW5lbF92aXNpYmxlXCIpLGUuaWYoXCJ3aXRoQXJyb3dcIixcImNrLWJhbGxvb24tcGFuZWxfd2l0aC1hcnJvd1wiKSxlLnRvKFwiY2xhc3NOYW1lXCIpXSxzdHlsZTp7dG9wOmUudG8oXCJ0b3BcIixFbCksbGVmdDplLnRvKFwibGVmdFwiLEVsKX19LGNoaWxkcmVuOnRoaXMuY29udGVudH0pfXNob3coKXt0aGlzLmlzVmlzaWJsZT0hMH1oaWRlKCl7dGhpcy5pc1Zpc2libGU9ITF9YXR0YWNoVG8odCl7dGhpcy5zaG93KCk7Y29uc3QgZT1ObC5kZWZhdWx0UG9zaXRpb25zLG49T2JqZWN0LmFzc2lnbih7fSx7ZWxlbWVudDp0aGlzLmVsZW1lbnQscG9zaXRpb25zOltlLnNvdXRoQXJyb3dOb3J0aCxlLnNvdXRoQXJyb3dOb3J0aFdlc3QsZS5zb3V0aEFycm93Tm9ydGhFYXN0LGUubm9ydGhBcnJvd1NvdXRoLGUubm9ydGhBcnJvd1NvdXRoV2VzdCxlLm5vcnRoQXJyb3dTb3V0aEVhc3RdLGxpbWl0ZXI6SWwsZml0SW5WaWV3cG9ydDohMH0sdCkse3RvcDpvLGxlZnQ6aSxuYW1lOnJ9PU5sLl9nZXRPcHRpbWFsUG9zaXRpb24obik7T2JqZWN0LmFzc2lnbih0aGlzLHt0b3A6byxsZWZ0OmkscG9zaXRpb246cn0pfXBpbih0KXt0aGlzLnVucGluKCksdGhpcy5fcGluV2hlbklzVmlzaWJsZUNhbGxiYWNrPSgoKT0+e3RoaXMuaXNWaXNpYmxlP3RoaXMuX3N0YXJ0UGlubmluZyh0KTp0aGlzLl9zdG9wUGlubmluZygpfSksdGhpcy5fc3RhcnRQaW5uaW5nKHQpLHRoaXMubGlzdGVuVG8odGhpcyxcImNoYW5nZTppc1Zpc2libGVcIix0aGlzLl9waW5XaGVuSXNWaXNpYmxlQ2FsbGJhY2spfXVucGluKCl7dGhpcy5fcGluV2hlbklzVmlzaWJsZUNhbGxiYWNrJiYodGhpcy5fc3RvcFBpbm5pbmcoKSx0aGlzLnN0b3BMaXN0ZW5pbmcodGhpcyxcImNoYW5nZTppc1Zpc2libGVcIix0aGlzLl9waW5XaGVuSXNWaXNpYmxlQ2FsbGJhY2spLHRoaXMuX3BpbldoZW5Jc1Zpc2libGVDYWxsYmFjaz1udWxsLHRoaXMuaGlkZSgpKX1fc3RhcnRQaW5uaW5nKHQpe3RoaXMuYXR0YWNoVG8odCk7Y29uc3QgZT1PbCh0LnRhcmdldCksbj10LmxpbWl0ZXI/T2wodC5saW1pdGVyKTpJbDt0aGlzLmxpc3RlblRvKEtpLmRvY3VtZW50LFwic2Nyb2xsXCIsKG8saSk9Pntjb25zdCByPWkudGFyZ2V0LHM9ZSYmci5jb250YWlucyhlKSxhPW4mJnIuY29udGFpbnMobik7IXMmJiFhJiZlJiZufHx0aGlzLmF0dGFjaFRvKHQpfSx7dXNlQ2FwdHVyZTohMH0pLHRoaXMubGlzdGVuVG8oS2kud2luZG93LFwicmVzaXplXCIsKCk9Pnt0aGlzLmF0dGFjaFRvKHQpfSl9X3N0b3BQaW5uaW5nKCl7dGhpcy5zdG9wTGlzdGVuaW5nKEtpLmRvY3VtZW50LFwic2Nyb2xsXCIpLHRoaXMuc3RvcExpc3RlbmluZyhLaS53aW5kb3csXCJyZXNpemVcIil9fWZ1bmN0aW9uIE9sKHQpe3JldHVybiB0cih0KT90OmJzKHQpP3QuY29tbW9uQW5jZXN0b3JDb250YWluZXI6XCJmdW5jdGlvblwiPT10eXBlb2YgdD9PbCh0KCkpOm51bGx9ZnVuY3Rpb24gUmwodCxlKXtyZXR1cm4gdC50b3AtZS5oZWlnaHQtTmwuYXJyb3dWZXJ0aWNhbE9mZnNldH1mdW5jdGlvbiBEbCh0KXtyZXR1cm4gdC5ib3R0b20rTmwuYXJyb3dWZXJ0aWNhbE9mZnNldH1ObC5hcnJvd0hvcml6b250YWxPZmZzZXQ9MjUsTmwuYXJyb3dWZXJ0aWNhbE9mZnNldD0xMCxObC5fZ2V0T3B0aW1hbFBvc2l0aW9uPWZ1bmN0aW9uKHtlbGVtZW50OnQsdGFyZ2V0OmUscG9zaXRpb25zOm4sbGltaXRlcjpvLGZpdEluVmlld3BvcnQ6aX0pe2N0KGUpJiYoZT1lKCkpLGN0KG8pJiYobz1vKCkpO2NvbnN0IHI9ZnVuY3Rpb24odCl7Zm9yKDt0JiZcImh0bWxcIiE9dC50YWdOYW1lLnRvTG93ZXJDYXNlKCk7KXtpZihcInN0YXRpY1wiIT1LaS53aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0KS5wb3NpdGlvbilyZXR1cm4gdDt0PXQucGFyZW50RWxlbWVudH1yZXR1cm4gbnVsbH0odC5wYXJlbnRFbGVtZW50KSxzPW5ldyB2cyh0KSxhPW5ldyB2cyhlKTtsZXQgYyxsO2lmKG98fGkpe2NvbnN0IHQ9byYmbmV3IHZzKG8pLmdldFZpc2libGUoKSxlPWkmJm5ldyB2cyhLaS53aW5kb3cpO1tsLGNdPWZ1bmN0aW9uKHQsZSxuLG8saSl7bGV0IHIscyxhPTAsYz0wO2NvbnN0IGw9bi5nZXRBcmVhKCk7cmV0dXJuIHQuc29tZSh0PT57Y29uc3RbZCx1XT1QbCh0LGUsbik7bGV0IGgsZjtpZihvKWlmKGkpe2NvbnN0IHQ9by5nZXRJbnRlcnNlY3Rpb24oaSk7aD10P3QuZ2V0SW50ZXJzZWN0aW9uQXJlYSh1KTowfWVsc2UgaD1vLmdldEludGVyc2VjdGlvbkFyZWEodSk7ZnVuY3Rpb24gbSgpe2M9ZixhPWgscj11LHM9ZH1yZXR1cm4gaSYmKGY9aS5nZXRJbnRlcnNlY3Rpb25BcmVhKHUpKSxpJiYhbz9mPmMmJm0oKTohaSYmbz9oPmEmJm0oKTpmPmMmJmg+PWE/bSgpOmY+PWMmJmg+YSYmbSgpLGg9PT1sfSkscj9bcyxyXTpudWxsfShuLGEscyx0LGUpfHxQbChuWzBdLGEscyl9ZWxzZVtsLGNdPVBsKG5bMF0sYSxzKTtsZXR7bGVmdDpkLHRvcDp1fT1TbChjKTtpZihyKXtjb25zdCB0PVNsKG5ldyB2cyhyKSksZT13cyhyKTtkLT10LmxlZnQsdS09dC50b3AsZCs9ci5zY3JvbGxMZWZ0LHUrPXIuc2Nyb2xsVG9wLGQtPWUubGVmdCx1LT1lLnRvcH1yZXR1cm57bGVmdDpkLHRvcDp1LG5hbWU6bH19LE5sLmRlZmF1bHRQb3NpdGlvbnM9e25vcnRoQXJyb3dTb3V0aDoodCxlKT0+KHt0b3A6UmwodCxlKSxsZWZ0OnQubGVmdCt0LndpZHRoLzItZS53aWR0aC8yLG5hbWU6XCJhcnJvd19zXCJ9KSxub3J0aEFycm93U291dGhFYXN0Oih0LGUpPT4oe3RvcDpSbCh0LGUpLGxlZnQ6dC5sZWZ0K3Qud2lkdGgvMi1lLndpZHRoK05sLmFycm93SG9yaXpvbnRhbE9mZnNldCxuYW1lOlwiYXJyb3dfc2VcIn0pLG5vcnRoQXJyb3dTb3V0aFdlc3Q6KHQsZSk9Pih7dG9wOlJsKHQsZSksbGVmdDp0LmxlZnQrdC53aWR0aC8yLU5sLmFycm93SG9yaXpvbnRhbE9mZnNldCxuYW1lOlwiYXJyb3dfc3dcIn0pLG5vcnRoV2VzdEFycm93U291dGg6KHQsZSk9Pih7dG9wOlJsKHQsZSksbGVmdDp0LmxlZnQtZS53aWR0aC8yLG5hbWU6XCJhcnJvd19zXCJ9KSxub3J0aFdlc3RBcnJvd1NvdXRoV2VzdDoodCxlKT0+KHt0b3A6UmwodCxlKSxsZWZ0OnQubGVmdC1ObC5hcnJvd0hvcml6b250YWxPZmZzZXQsbmFtZTpcImFycm93X3N3XCJ9KSxub3J0aFdlc3RBcnJvd1NvdXRoRWFzdDoodCxlKT0+KHt0b3A6UmwodCxlKSxsZWZ0OnQubGVmdC1lLndpZHRoK05sLmFycm93SG9yaXpvbnRhbE9mZnNldCxuYW1lOlwiYXJyb3dfc2VcIn0pLG5vcnRoRWFzdEFycm93U291dGg6KHQsZSk9Pih7dG9wOlJsKHQsZSksbGVmdDp0LnJpZ2h0LWUud2lkdGgvMixuYW1lOlwiYXJyb3dfc1wifSksbm9ydGhFYXN0QXJyb3dTb3V0aEVhc3Q6KHQsZSk9Pih7dG9wOlJsKHQsZSksbGVmdDp0LnJpZ2h0LWUud2lkdGgrTmwuYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6XCJhcnJvd19zZVwifSksbm9ydGhFYXN0QXJyb3dTb3V0aFdlc3Q6KHQsZSk9Pih7dG9wOlJsKHQsZSksbGVmdDp0LnJpZ2h0LU5sLmFycm93SG9yaXpvbnRhbE9mZnNldCxuYW1lOlwiYXJyb3dfc3dcIn0pLHNvdXRoQXJyb3dOb3J0aDoodCxlKT0+KHt0b3A6RGwodCksbGVmdDp0LmxlZnQrdC53aWR0aC8yLWUud2lkdGgvMixuYW1lOlwiYXJyb3dfblwifSksc291dGhBcnJvd05vcnRoRWFzdDoodCxlKT0+KHt0b3A6RGwodCksbGVmdDp0LmxlZnQrdC53aWR0aC8yLWUud2lkdGgrTmwuYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6XCJhcnJvd19uZVwifSksc291dGhBcnJvd05vcnRoV2VzdDoodCxlKT0+KHt0b3A6RGwodCksbGVmdDp0LmxlZnQrdC53aWR0aC8yLU5sLmFycm93SG9yaXpvbnRhbE9mZnNldCxuYW1lOlwiYXJyb3dfbndcIn0pLHNvdXRoV2VzdEFycm93Tm9ydGg6KHQsZSk9Pih7dG9wOkRsKHQpLGxlZnQ6dC5sZWZ0LWUud2lkdGgvMixuYW1lOlwiYXJyb3dfblwifSksc291dGhXZXN0QXJyb3dOb3J0aFdlc3Q6KHQsZSk9Pih7dG9wOkRsKHQpLGxlZnQ6dC5sZWZ0LU5sLmFycm93SG9yaXpvbnRhbE9mZnNldCxuYW1lOlwiYXJyb3dfbndcIn0pLHNvdXRoV2VzdEFycm93Tm9ydGhFYXN0Oih0LGUpPT4oe3RvcDpEbCh0KSxsZWZ0OnQubGVmdC1lLndpZHRoK05sLmFycm93SG9yaXpvbnRhbE9mZnNldCxuYW1lOlwiYXJyb3dfbmVcIn0pLHNvdXRoRWFzdEFycm93Tm9ydGg6KHQsZSk9Pih7dG9wOkRsKHQpLGxlZnQ6dC5yaWdodC1lLndpZHRoLzIsbmFtZTpcImFycm93X25cIn0pLHNvdXRoRWFzdEFycm93Tm9ydGhFYXN0Oih0LGUpPT4oe3RvcDpEbCh0KSxsZWZ0OnQucmlnaHQtZS53aWR0aCtObC5hcnJvd0hvcml6b250YWxPZmZzZXQsbmFtZTpcImFycm93X25lXCJ9KSxzb3V0aEVhc3RBcnJvd05vcnRoV2VzdDoodCxlKT0+KHt0b3A6RGwodCksbGVmdDp0LnJpZ2h0LU5sLmFycm93SG9yaXpvbnRhbE9mZnNldCxuYW1lOlwiYXJyb3dfbndcIn0pfTtjbGFzcyBqbHtjb25zdHJ1Y3Rvcih0KXtpZihPYmplY3QuYXNzaWduKHRoaXMsdCksdC5hY3Rpb25zJiZ0LmtleXN0cm9rZUhhbmRsZXIpZm9yKGNvbnN0IGUgaW4gdC5hY3Rpb25zKXtsZXQgbj10LmFjdGlvbnNbZV07XCJzdHJpbmdcIj09dHlwZW9mIG4mJihuPVtuXSk7Zm9yKGNvbnN0IG8gb2Ygbil0LmtleXN0cm9rZUhhbmRsZXIuc2V0KG8sKHQsbik9Pnt0aGlzW2VdKCksbigpfSl9fWdldCBmaXJzdCgpe3JldHVybiB0aGlzLmZvY3VzYWJsZXMuZmluZChMbCl8fG51bGx9Z2V0IGxhc3QoKXtyZXR1cm4gdGhpcy5mb2N1c2FibGVzLmZpbHRlcihMbCkuc2xpY2UoLTEpWzBdfHxudWxsfWdldCBuZXh0KCl7cmV0dXJuIHRoaXMuX2dldEZvY3VzYWJsZUl0ZW0oMSl9Z2V0IHByZXZpb3VzKCl7cmV0dXJuIHRoaXMuX2dldEZvY3VzYWJsZUl0ZW0oLTEpfWdldCBjdXJyZW50KCl7bGV0IHQ9bnVsbDtyZXR1cm4gbnVsbD09PXRoaXMuZm9jdXNUcmFja2VyLmZvY3VzZWRFbGVtZW50P251bGw6KHRoaXMuZm9jdXNhYmxlcy5maW5kKChlLG4pPT57Y29uc3Qgbz1lLmVsZW1lbnQ9PT10aGlzLmZvY3VzVHJhY2tlci5mb2N1c2VkRWxlbWVudDtyZXR1cm4gbyYmKHQ9biksb30pLHQpfWZvY3VzRmlyc3QoKXt0aGlzLl9mb2N1cyh0aGlzLmZpcnN0KX1mb2N1c0xhc3QoKXt0aGlzLl9mb2N1cyh0aGlzLmxhc3QpfWZvY3VzTmV4dCgpe3RoaXMuX2ZvY3VzKHRoaXMubmV4dCl9Zm9jdXNQcmV2aW91cygpe3RoaXMuX2ZvY3VzKHRoaXMucHJldmlvdXMpfV9mb2N1cyh0KXt0JiZ0LmZvY3VzKCl9X2dldEZvY3VzYWJsZUl0ZW0odCl7Y29uc3QgZT10aGlzLmN1cnJlbnQsbj10aGlzLmZvY3VzYWJsZXMubGVuZ3RoO2lmKCFuKXJldHVybiBudWxsO2lmKG51bGw9PT1lKXJldHVybiB0aGlzWzE9PT10P1wiZmlyc3RcIjpcImxhc3RcIl07bGV0IG89KGUrbit0KSVuO2Rve2NvbnN0IGU9dGhpcy5mb2N1c2FibGVzLmdldChvKTtpZihMbChlKSlyZXR1cm4gZTtvPShvK24rdCklbn13aGlsZShvIT09ZSk7cmV0dXJuIG51bGx9fWZ1bmN0aW9uIExsKHQpe3JldHVybiEoIXQuZm9jdXN8fFwibm9uZVwiPT1LaS53aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0LmVsZW1lbnQpLmRpc3BsYXkpfWNsYXNzIFZsIGV4dGVuZHMgQWx7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwic3BhblwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay10b29sYmFyX19zZXBhcmF0b3JcIl19fSl9fW4oNDkpO2NsYXNzIEZsIGV4dGVuZHMgQWx7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7Y29uc3QgZT10aGlzLmJpbmRUZW1wbGF0ZTt0aGlzLml0ZW1zPXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpLHRoaXMuZm9jdXNUcmFja2VyPW5ldyBaYyx0aGlzLmtleXN0cm9rZXM9bmV3IFVjLHRoaXMuc2V0KFwiaXNWZXJ0aWNhbFwiLCExKSx0aGlzLnNldChcImNsYXNzTmFtZVwiKSx0aGlzLl9mb2N1c0N5Y2xlcj1uZXcgamwoe2ZvY3VzYWJsZXM6dGhpcy5pdGVtcyxmb2N1c1RyYWNrZXI6dGhpcy5mb2N1c1RyYWNrZXIsa2V5c3Ryb2tlSGFuZGxlcjp0aGlzLmtleXN0cm9rZXMsYWN0aW9uczp7Zm9jdXNQcmV2aW91czpbXCJhcnJvd2xlZnRcIixcImFycm93dXBcIl0sZm9jdXNOZXh0OltcImFycm93cmlnaHRcIixcImFycm93ZG93blwiXX19KSx0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJkaXZcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stdG9vbGJhclwiLGUuaWYoXCJpc1ZlcnRpY2FsXCIsXCJjay10b29sYmFyX3ZlcnRpY2FsXCIpLGUudG8oXCJjbGFzc05hbWVcIildfSxjaGlsZHJlbjp0aGlzLml0ZW1zLG9uOnttb3VzZWRvd246ZnVuY3Rpb24odCl7cmV0dXJuIHQuYmluZFRlbXBsYXRlLnRvKGU9PntlLnRhcmdldD09PXQuZWxlbWVudCYmZS5wcmV2ZW50RGVmYXVsdCgpfSl9KHRoaXMpfX0pfXJlbmRlcigpe3N1cGVyLnJlbmRlcigpO2Zvcihjb25zdCB0IG9mIHRoaXMuaXRlbXMpdGhpcy5mb2N1c1RyYWNrZXIuYWRkKHQuZWxlbWVudCk7dGhpcy5pdGVtcy5vbihcImFkZFwiLCh0LGUpPT57dGhpcy5mb2N1c1RyYWNrZXIuYWRkKGUuZWxlbWVudCl9KSx0aGlzLml0ZW1zLm9uKFwicmVtb3ZlXCIsKHQsZSk9Pnt0aGlzLmZvY3VzVHJhY2tlci5yZW1vdmUoZS5lbGVtZW50KX0pLHRoaXMua2V5c3Ryb2tlcy5saXN0ZW5Ubyh0aGlzLmVsZW1lbnQpfWZvY3VzKCl7dGhpcy5fZm9jdXNDeWNsZXIuZm9jdXNGaXJzdCgpfWZvY3VzTGFzdCgpe3RoaXMuX2ZvY3VzQ3ljbGVyLmZvY3VzTGFzdCgpfWZpbGxGcm9tQ29uZmlnKHQsZSl7dC5tYXAodD0+e1wifFwiPT10P3RoaXMuaXRlbXMuYWRkKG5ldyBWbCk6ZS5oYXModCk/dGhpcy5pdGVtcy5hZGQoZS5jcmVhdGUodCkpOmZzLmEud2FybihcInRvb2xiYXJ2aWV3LWl0ZW0tdW5hdmFpbGFibGU6IFRoZSByZXF1ZXN0ZWQgdG9vbGJhciBpdGVtIGlzIHVuYXZhaWxhYmxlLlwiLHtuYW1lOnR9KX0pfX1jbGFzcyB6bCBleHRlbmRzIENse2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy50b29sYmFyPW5ldyBGbCh0KSx0aGlzLnNldChcInZpZXdwb3J0VG9wT2Zmc2V0XCIsMCksdGhpcy50b29sYmFyLmV4dGVuZFRlbXBsYXRlKHthdHRyaWJ1dGVzOntjbGFzczpbXCJjay10b29sYmFyX2Zsb2F0aW5nXCJdfX0pLHRoaXMucGFuZWw9bmV3IE5sKHQpLHRoaXMucGFuZWwud2l0aEFycm93PSExLHRoaXMucGFuZWxQb3NpdGlvbnM9dGhpcy5fZ2V0UGFuZWxQb3NpdGlvbnMoKSx0aGlzLnBhbmVsLmV4dGVuZFRlbXBsYXRlKHthdHRyaWJ1dGVzOntjbGFzczpcImNrLXRvb2xiYXItY29udGFpbmVyXCJ9fSksdGhpcy5lZGl0YWJsZT1uZXcgTWwodCxlKX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKSx0aGlzLmJvZHkuYWRkKHRoaXMucGFuZWwpLHRoaXMucmVnaXN0ZXJDaGlsZCh0aGlzLmVkaXRhYmxlKSx0aGlzLnBhbmVsLmNvbnRlbnQuYWRkKHRoaXMudG9vbGJhcil9Z2V0IGVkaXRhYmxlRWxlbWVudCgpe3JldHVybiB0aGlzLmVkaXRhYmxlLmVsZW1lbnR9X2dldFBhbmVsUG9zaXRpb25Ub3AodCxlKXtsZXQgbjtyZXR1cm4gbj10LnRvcD5lLmhlaWdodCt0aGlzLnZpZXdwb3J0VG9wT2Zmc2V0P3QudG9wLWUuaGVpZ2h0OnQuYm90dG9tPmUuaGVpZ2h0K3RoaXMudmlld3BvcnRUb3BPZmZzZXQrNTA/dGhpcy52aWV3cG9ydFRvcE9mZnNldDp0LmJvdHRvbX1fZ2V0UGFuZWxQb3NpdGlvbnMoKXtyZXR1cm5bKHQsZSk9Pih7dG9wOnRoaXMuX2dldFBhbmVsUG9zaXRpb25Ub3AodCxlKSxsZWZ0OnQubGVmdCxuYW1lOlwidG9vbGJhcl93ZXN0XCJ9KSwodCxlKT0+KHt0b3A6dGhpcy5fZ2V0UGFuZWxQb3NpdGlvblRvcCh0LGUpLGxlZnQ6dC5sZWZ0K3Qud2lkdGgtZS53aWR0aCxuYW1lOlwidG9vbGJhcl9lYXN0XCJ9KV19fWNsYXNzIEJsIGV4dGVuZHMgcWN7Y29uc3RydWN0b3IodCxlKXtzdXBlcihlKSx0aGlzLmRhdGEucHJvY2Vzc29yPW5ldyBRYyx0aGlzLm1vZGVsLmRvY3VtZW50LmNyZWF0ZVJvb3QoKSx0cih0KSYmKHRoaXMuc291cmNlRWxlbWVudD10KSx0aGlzLnVpPW5ldyB0bCh0aGlzLG5ldyB6bCh0aGlzLmxvY2FsZSx0aGlzLnNvdXJjZUVsZW1lbnQpKSxmdW5jdGlvbih0KXtpZighY3QodC51cGRhdGVTb3VyY2VFbGVtZW50KSl0aHJvdyBuZXcgTS5iKFwiYXR0YWNodG9mb3JtLW1pc3NpbmctZWxlbWVudGFwaS1pbnRlcmZhY2U6IEVkaXRvciBwYXNzZWQgdG8gYXR0YWNoVG9Gb3JtKCkgbXVzdCBpbXBsZW1lbnQgRWxlbWVudEFwaS5cIik7Y29uc3QgZT10LnNvdXJjZUVsZW1lbnQ7aWYoZSYmXCJ0ZXh0YXJlYVwiPT09ZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJmUuZm9ybSl7bGV0IG47Y29uc3Qgbz1lLmZvcm0saT0oKT0+dC51cGRhdGVTb3VyY2VFbGVtZW50KCk7Y3Qoby5zdWJtaXQpJiYobj1vLnN1Ym1pdCxvLnN1Ym1pdD0oKCk9PntpKCksbi5hcHBseShvKX0pKSxvLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIixpKSx0Lm9uKFwiZGVzdHJveVwiLCgpPT57by5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIsaSksbiYmKG8uc3VibWl0PW4pfSl9fSh0aGlzKX1nZXQgZWxlbWVudCgpe3JldHVybiB0aGlzLnVpLnZpZXcuZWRpdGFibGUuZWxlbWVudH1kZXN0cm95KCl7Y29uc3QgdD10aGlzLmdldERhdGEoKTtyZXR1cm4gdGhpcy51aS5kZXN0cm95KCksc3VwZXIuZGVzdHJveSgpLnRoZW4oKCk9Pnt0aGlzLnNvdXJjZUVsZW1lbnQmJlljKHRoaXMuc291cmNlRWxlbWVudCx0KX0pfXN0YXRpYyBjcmVhdGUodCxlKXtyZXR1cm4gbmV3IFByb21pc2Uobj0+e2NvbnN0IG89bmV3IHRoaXModCxlKTtuKG8uaW5pdFBsdWdpbnMoKS50aGVuKCgpPT57by51aS5pbml0KCksby5maXJlKFwidWlSZWFkeVwiKX0pLnRoZW4oKCk9Pntjb25zdCBlPXRyKHQpP2Z1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgSFRNTFRleHRBcmVhRWxlbWVudD90LnZhbHVlOnQuaW5uZXJIVE1MfSh0KTp0O3JldHVybiBvLmRhdGEuaW5pdChlKX0pLnRoZW4oKCk9PntvLmZpcmUoXCJkYXRhUmVhZHlcIiksby5maXJlKFwicmVhZHlcIil9KS50aGVuKCgpPT5vKSl9KX19QihCbCxXYyksQihCbCxHYyk7Y2xhc3MgVWx7Y29uc3RydWN0b3IodCl7dGhpcy5lZGl0b3I9dH1kZXN0cm95KCl7dGhpcy5zdG9wTGlzdGVuaW5nKCl9fUIoVWwsTG8pO2NsYXNzIEhse2NvbnN0cnVjdG9yKHQpe3RoaXMuZmlsZXM9ZnVuY3Rpb24odCl7Y29uc3QgZT10LmZpbGVzP0FycmF5LmZyb20odC5maWxlcyk6W10sbj10Lml0ZW1zP0FycmF5LmZyb20odC5pdGVtcyk6W107aWYoZS5sZW5ndGgpcmV0dXJuIGU7cmV0dXJuIG4uZmlsdGVyKHQ9PlwiZmlsZVwiPT09dC5raW5kKS5tYXAodD0+dC5nZXRBc0ZpbGUoKSl9KHQpLHRoaXMuX25hdGl2ZT10fWdldCB0eXBlcygpe3JldHVybiB0aGlzLl9uYXRpdmUudHlwZXN9Z2V0RGF0YSh0KXtyZXR1cm4gdGhpcy5fbmF0aXZlLmdldERhdGEodCl9c2V0RGF0YSh0LGUpe3RoaXMuX25hdGl2ZS5zZXREYXRhKHQsZSl9fWNsYXNzIHFsIGV4dGVuZHMgSnJ7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7Y29uc3QgZT10aGlzLmRvY3VtZW50O2Z1bmN0aW9uIG4odCxuKXtuLnByZXZlbnREZWZhdWx0KCk7Y29uc3Qgbz1uLmRyb3BSYW5nZT9bbi5kcm9wUmFuZ2VdOkFycmF5LmZyb20oZS5zZWxlY3Rpb24uZ2V0UmFuZ2VzKCkpO2UuZmlyZShcImNsaXBib2FyZElucHV0XCIse2RhdGFUcmFuc2ZlcjpuLmRhdGFUcmFuc2Zlcix0YXJnZXRSYW5nZXM6b30pfXRoaXMuZG9tRXZlbnRUeXBlPVtcInBhc3RlXCIsXCJjb3B5XCIsXCJjdXRcIixcImRyb3BcIixcImRyYWdvdmVyXCJdLHRoaXMubGlzdGVuVG8oZSxcInBhc3RlXCIsbix7cHJpb3JpdHk6XCJsb3dcIn0pLHRoaXMubGlzdGVuVG8oZSxcImRyb3BcIixuLHtwcmlvcml0eTpcImxvd1wifSl9b25Eb21FdmVudCh0KXtjb25zdCBlPXtkYXRhVHJhbnNmZXI6bmV3IEhsKHQuY2xpcGJvYXJkRGF0YT90LmNsaXBib2FyZERhdGE6dC5kYXRhVHJhbnNmZXIpfTtcImRyb3BcIj09dC50eXBlJiYoZS5kcm9wUmFuZ2U9ZnVuY3Rpb24odCxlKXtjb25zdCBuPWUudGFyZ2V0Lm93bmVyRG9jdW1lbnQsbz1lLmNsaWVudFgsaT1lLmNsaWVudFk7bGV0IHI7bi5jYXJldFJhbmdlRnJvbVBvaW50JiZuLmNhcmV0UmFuZ2VGcm9tUG9pbnQobyxpKT9yPW4uY2FyZXRSYW5nZUZyb21Qb2ludChvLGkpOmUucmFuZ2VQYXJlbnQmJigocj1uLmNyZWF0ZVJhbmdlKCkpLnNldFN0YXJ0KGUucmFuZ2VQYXJlbnQsZS5yYW5nZU9mZnNldCksci5jb2xsYXBzZSghMCkpO3JldHVybiByP3QuZG9tQ29udmVydGVyLmRvbVJhbmdlVG9WaWV3KHIpOnQuZG9jdW1lbnQuc2VsZWN0aW9uLmdldEZpcnN0UmFuZ2UoKX0odGhpcy52aWV3LHQpKSx0aGlzLmZpcmUodC50eXBlLHQsZSl9fWNvbnN0IFdsPVtcImZpZ2NhcHRpb25cIixcImxpXCJdO2NsYXNzIFlsIGV4dGVuZHMgVWx7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJDbGlwYm9hcmRcIn1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQubW9kZWwuZG9jdW1lbnQsbj10LmVkaXRpbmcudmlldyxvPW4uZG9jdW1lbnQ7ZnVuY3Rpb24gaShuLGkpe2NvbnN0IHI9aS5kYXRhVHJhbnNmZXI7aS5wcmV2ZW50RGVmYXVsdCgpO2NvbnN0IHM9dC5kYXRhLnRvVmlldyh0Lm1vZGVsLmdldFNlbGVjdGVkQ29udGVudChlLnNlbGVjdGlvbikpO28uZmlyZShcImNsaXBib2FyZE91dHB1dFwiLHtkYXRhVHJhbnNmZXI6cixjb250ZW50OnMsbWV0aG9kOm4ubmFtZX0pfXRoaXMuX2h0bWxEYXRhUHJvY2Vzc29yPW5ldyBRYyxuLmFkZE9ic2VydmVyKHFsKSx0aGlzLmxpc3RlblRvKG8sXCJjbGlwYm9hcmRJbnB1dFwiLGU9Pnt0LmlzUmVhZE9ubHkmJmUuc3RvcCgpfSx7cHJpb3JpdHk6XCJoaWdoZXN0XCJ9KSx0aGlzLmxpc3RlblRvKG8sXCJjbGlwYm9hcmRJbnB1dFwiLCh0LGUpPT57Y29uc3Qgbz1lLmRhdGFUcmFuc2ZlcjtsZXQgaT1cIlwiO28uZ2V0RGF0YShcInRleHQvaHRtbFwiKT9pPWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoLzxzcGFuKD86IGNsYXNzPVwiQXBwbGUtY29udmVydGVkLXNwYWNlXCJ8KT4oXFxzKyk8XFwvc3Bhbj4vZywodCxlKT0+MT09ZS5sZW5ndGg/XCIgXCI6ZSl9KG8uZ2V0RGF0YShcInRleHQvaHRtbFwiKSk6by5nZXREYXRhKFwidGV4dC9wbGFpblwiKSYmKGk9ZnVuY3Rpb24odCl7cmV0dXJuKHQ9dC5yZXBsYWNlKC88L2csXCImbHQ7XCIpLnJlcGxhY2UoLz4vZyxcIiZndDtcIikucmVwbGFjZSgvXFxuXFxuL2csXCI8L3A+PHA+XCIpLnJlcGxhY2UoL1xcbi9nLFwiPGJyPlwiKS5yZXBsYWNlKC9eXFxzLyxcIiZuYnNwO1wiKS5yZXBsYWNlKC9cXHMkLyxcIiZuYnNwO1wiKS5yZXBsYWNlKC9cXHNcXHMvZyxcIiAmbmJzcDtcIikpLmluZGV4T2YoXCI8L3A+PHA+XCIpPi0xJiYodD1gPHA+JHt0fTwvcD5gKSx0fShvLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpKSksaT10aGlzLl9odG1sRGF0YVByb2Nlc3Nvci50b1ZpZXcoaSksdGhpcy5maXJlKFwiaW5wdXRUcmFuc2Zvcm1hdGlvblwiLHtjb250ZW50OmksZGF0YVRyYW5zZmVyOm99KSxuLnNjcm9sbFRvVGhlU2VsZWN0aW9uKCl9LHtwcmlvcml0eTpcImxvd1wifSksdGhpcy5saXN0ZW5Ubyh0aGlzLFwiaW5wdXRUcmFuc2Zvcm1hdGlvblwiLCh0LGUpPT57aWYoIWUuY29udGVudC5pc0VtcHR5KXtjb25zdCB0PXRoaXMuZWRpdG9yLmRhdGEsbj10aGlzLmVkaXRvci5tb2RlbCxvPXQudG9Nb2RlbChlLmNvbnRlbnQsXCIkY2xpcGJvYXJkSG9sZGVyXCIpO2lmKDA9PW8uY2hpbGRDb3VudClyZXR1cm47bi5pbnNlcnRDb250ZW50KG8pfX0se3ByaW9yaXR5OlwibG93XCJ9KSx0aGlzLmxpc3RlblRvKG8sXCJjb3B5XCIsaSx7cHJpb3JpdHk6XCJsb3dcIn0pLHRoaXMubGlzdGVuVG8obyxcImN1dFwiLChlLG4pPT57dC5pc1JlYWRPbmx5P24ucHJldmVudERlZmF1bHQoKTppKGUsbil9LHtwcmlvcml0eTpcImxvd1wifSksdGhpcy5saXN0ZW5UbyhvLFwiY2xpcGJvYXJkT3V0cHV0XCIsKG4sbyk9PntvLmNvbnRlbnQuaXNFbXB0eXx8KG8uZGF0YVRyYW5zZmVyLnNldERhdGEoXCJ0ZXh0L2h0bWxcIix0aGlzLl9odG1sRGF0YVByb2Nlc3Nvci50b0RhdGEoby5jb250ZW50KSksby5kYXRhVHJhbnNmZXIuc2V0RGF0YShcInRleHQvcGxhaW5cIixmdW5jdGlvbiB0KGUpe2xldCBuPVwiXCI7aWYoZS5pcyhcInRleHRcIil8fGUuaXMoXCJ0ZXh0UHJveHlcIikpbj1lLmRhdGE7ZWxzZSBpZihlLmlzKFwiaW1nXCIpJiZlLmhhc0F0dHJpYnV0ZShcImFsdFwiKSluPWUuZ2V0QXR0cmlidXRlKFwiYWx0XCIpO2Vsc2V7bGV0IG89bnVsbDtmb3IoY29uc3QgaSBvZiBlLmdldENoaWxkcmVuKCkpe2NvbnN0IGU9dChpKTtvJiYoby5pcyhcImNvbnRhaW5lckVsZW1lbnRcIil8fGkuaXMoXCJjb250YWluZXJFbGVtZW50XCIpKSYmKFdsLmluY2x1ZGVzKG8ubmFtZSl8fFdsLmluY2x1ZGVzKGkubmFtZSk/bis9XCJcXG5cIjpuKz1cIlxcblxcblwiKSxuKz1lLG89aX19cmV0dXJuIG59KG8uY29udGVudCkpKSxcImN1dFwiPT1vLm1ldGhvZCYmdC5tb2RlbC5kZWxldGVDb250ZW50KGUuc2VsZWN0aW9uKX0se3ByaW9yaXR5OlwibG93XCJ9KX19Y2xhc3MgR2x7Y29uc3RydWN0b3IodCl7dGhpcy5lZGl0b3I9dCx0aGlzLnNldChcInZhbHVlXCIsdm9pZCAwKSx0aGlzLnNldChcImlzRW5hYmxlZFwiLCExKSx0aGlzLmRlY29yYXRlKFwiZXhlY3V0ZVwiKSx0aGlzLmxpc3RlblRvKHRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LFwiY2hhbmdlXCIsKCk9Pnt0aGlzLnJlZnJlc2goKX0pLHRoaXMub24oXCJleGVjdXRlXCIsdD0+e3RoaXMuaXNFbmFibGVkfHx0LnN0b3AoKX0se3ByaW9yaXR5OlwiaGlnaFwifSksdGhpcy5saXN0ZW5Ubyh0LFwiY2hhbmdlOmlzUmVhZE9ubHlcIiwodCxlLG4pPT57bj8odGhpcy5vbihcInNldDppc0VuYWJsZWRcIiwkbCx7cHJpb3JpdHk6XCJoaWdoZXN0XCJ9KSx0aGlzLmlzRW5hYmxlZD0hMSk6KHRoaXMub2ZmKFwic2V0OmlzRW5hYmxlZFwiLCRsKSx0aGlzLnJlZnJlc2goKSl9KX1yZWZyZXNoKCl7dGhpcy5pc0VuYWJsZWQ9ITB9ZXhlY3V0ZSgpe31kZXN0cm95KCl7dGhpcy5zdG9wTGlzdGVuaW5nKCl9fWZ1bmN0aW9uICRsKHQpe3QucmV0dXJuPSExLHQuc3RvcCgpfUIoR2wsTG8pO2NsYXNzIFFsIGV4dGVuZHMgR2x7ZXhlY3V0ZSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsZT10LmRvY3VtZW50O3QuY2hhbmdlKG49PnshZnVuY3Rpb24odCxlLG4sbyl7Y29uc3QgaT1uLmlzQ29sbGFwc2VkLHI9bi5nZXRGaXJzdFJhbmdlKCkscz1yLnN0YXJ0LnBhcmVudCxhPXIuZW5kLnBhcmVudDtpZihvLmlzTGltaXQocyl8fG8uaXNMaW1pdChhKSlyZXR1cm4gdm9pZChpfHxzIT1hfHx0LmRlbGV0ZUNvbnRlbnQobikpO2lmKGkpSmwoZSxuLHIuc3RhcnQpO2Vsc2V7Y29uc3Qgbz0hKHIuc3RhcnQuaXNBdFN0YXJ0JiZyLmVuZC5pc0F0RW5kKSxpPXM9PWE7dC5kZWxldGVDb250ZW50KG4se2xlYXZlVW5tZXJnZWQ6b30pLG8mJihpP0psKGUsbixuLmZvY3VzKTplLnNldFNlbGVjdGlvbihhLDApKX19KHRoaXMuZWRpdG9yLm1vZGVsLG4sZS5zZWxlY3Rpb24sdC5zY2hlbWEpLHRoaXMuZmlyZShcImFmdGVyRXhlY3V0ZVwiLHt3cml0ZXI6bn0pfSl9fWZ1bmN0aW9uIEpsKHQsZSxuKXtjb25zdCBvPW4ucGFyZW50LGk9bmV3IG8uY29uc3RydWN0b3Ioby5uYW1lLG8uZ2V0QXR0cmlidXRlcygpKTtuLmlzQXRFbmQ/dC5pbnNlcnQoaSxuLnBhcmVudCxcImFmdGVyXCIpOm4uaXNBdFN0YXJ0P3QuaW5zZXJ0KGksbi5wYXJlbnQsXCJiZWZvcmVcIik6dC5zcGxpdChuKSx0LnNldFNlbGVjdGlvbihuLnBhcmVudC5uZXh0U2libGluZywwKX1jbGFzcyBLbCBleHRlbmRzIGNye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO2NvbnN0IGU9dGhpcy5kb2N1bWVudDtlLm9uKFwia2V5ZG93blwiLCh0LG4pPT57aWYodGhpcy5pc0VuYWJsZWQmJm4ua2V5Q29kZT09aGkuZW50ZXIpe2xldCBvO2Uub25jZShcImVudGVyXCIsdD0+bz10LHtwcmlvcml0eTpcImhpZ2hlc3RcIn0pLGUuZmlyZShcImVudGVyXCIsbmV3IFFyKGUsbi5kb21FdmVudCx7aXNTb2Z0Om4uc2hpZnRLZXl9KSksbyYmby5zdG9wLmNhbGxlZCYmdC5zdG9wKCl9fSl9b2JzZXJ2ZSgpe319Y2xhc3MgWmwgZXh0ZW5kcyBVbHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkVudGVyXCJ9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10LmVkaXRpbmcudmlldyxuPWUuZG9jdW1lbnQ7ZS5hZGRPYnNlcnZlcihLbCksdC5jb21tYW5kcy5hZGQoXCJlbnRlclwiLG5ldyBRbCh0KSksdGhpcy5saXN0ZW5UbyhuLFwiZW50ZXJcIiwobixvKT0+e28ucHJldmVudERlZmF1bHQoKSxvLmlzU29mdHx8KHQuZXhlY3V0ZShcImVudGVyXCIpLGUuc2Nyb2xsVG9UaGVTZWxlY3Rpb24oKSl9LHtwcmlvcml0eTpcImxvd1wifSl9fWNsYXNzIFhsIGV4dGVuZHMgR2x7ZXhlY3V0ZSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsZT10LmRvY3VtZW50O3QuY2hhbmdlKG49PnshZnVuY3Rpb24odCxlLG4pe2NvbnN0IG89bi5pc0NvbGxhcHNlZCxpPW4uZ2V0Rmlyc3RSYW5nZSgpLHI9aS5zdGFydC5wYXJlbnQscz1pLmVuZC5wYXJlbnQsYT1yPT1zO2lmKG8pdGQoZSxpLmVuZCk7ZWxzZXtjb25zdCBvPSEoaS5zdGFydC5pc0F0U3RhcnQmJmkuZW5kLmlzQXRFbmQpO3QuZGVsZXRlQ29udGVudChuLHtsZWF2ZVVubWVyZ2VkOm99KSxhP3RkKGUsbi5mb2N1cyk6byYmZS5zZXRTZWxlY3Rpb24ocywwKX19KHQsbixlLnNlbGVjdGlvbiksdGhpcy5maXJlKFwiYWZ0ZXJFeGVjdXRlXCIse3dyaXRlcjpufSl9KX1yZWZyZXNoKCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbCxlPXQuZG9jdW1lbnQ7dGhpcy5pc0VuYWJsZWQ9ZnVuY3Rpb24odCxlKXtpZihlLnJhbmdlQ291bnQ+MSlyZXR1cm4hMTtjb25zdCBuPWUuYW5jaG9yO2lmKCFufHwhdC5jaGVja0NoaWxkKG4sXCJzb2Z0QnJlYWtcIikpcmV0dXJuITE7Y29uc3Qgbz1lLmdldEZpcnN0UmFuZ2UoKSxpPW8uc3RhcnQucGFyZW50LHI9by5lbmQucGFyZW50O2lmKChlZChpLHQpfHxlZChyLHQpKSYmaSE9PXIpcmV0dXJuITE7cmV0dXJuITB9KHQuc2NoZW1hLGUuc2VsZWN0aW9uKX19ZnVuY3Rpb24gdGQodCxlKXtjb25zdCBuPXQuY3JlYXRlRWxlbWVudChcInNvZnRCcmVha1wiKTt0Lmluc2VydChuLGUpLHQuc2V0U2VsZWN0aW9uKG4sXCJhZnRlclwiKX1mdW5jdGlvbiBlZCh0LGUpe3JldHVybiF0LmlzKFwicm9vdEVsZW1lbnRcIikmJihlLmlzTGltaXQodCl8fGVkKHQucGFyZW50LGUpKX1jbGFzcyBuZCBleHRlbmRzIFVse3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiU2hpZnRFbnRlclwifWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC5tb2RlbC5zY2hlbWEsbj10LmNvbnZlcnNpb24sbz10LmVkaXRpbmcudmlldyxpPW8uZG9jdW1lbnQ7ZS5yZWdpc3RlcihcInNvZnRCcmVha1wiLHthbGxvd1doZXJlOlwiJHRleHRcIn0pLG4uZm9yKFwidXBjYXN0XCIpLmFkZChPYSh7bW9kZWw6XCJzb2Z0QnJlYWtcIix2aWV3OlwiYnJcIn0pKSxuLmZvcihcImRvd25jYXN0XCIpLmFkZChhYSh7bW9kZWw6XCJzb2Z0QnJlYWtcIix2aWV3Oih0LGUpPT5lLmNyZWF0ZUVtcHR5RWxlbWVudChcImJyXCIpfSkpLG8uYWRkT2JzZXJ2ZXIoS2wpLHQuY29tbWFuZHMuYWRkKFwic2hpZnRFbnRlclwiLG5ldyBYbCh0KSksdGhpcy5saXN0ZW5UbyhpLFwiZW50ZXJcIiwoZSxuKT0+e24ucHJldmVudERlZmF1bHQoKSxuLmlzU29mdCYmKHQuZXhlY3V0ZShcInNoaWZ0RW50ZXJcIiksby5zY3JvbGxUb1RoZVNlbGVjdGlvbigpKX0se3ByaW9yaXR5OlwibG93XCJ9KX19Y2xhc3Mgb2R7Y29uc3RydWN0b3IodCxlPTIwKXt0aGlzLm1vZGVsPXQsdGhpcy5zaXplPTAsdGhpcy5saW1pdD1lLHRoaXMuaXNMb2NrZWQ9ITEsdGhpcy5fY2hhbmdlQ2FsbGJhY2s9KCh0LGUpPT57XCJ0cmFuc3BhcmVudFwiIT1lLnR5cGUmJmUhPT10aGlzLl9iYXRjaCYmdGhpcy5fcmVzZXQoITApfSksdGhpcy5fc2VsZWN0aW9uQ2hhbmdlQ2FsbGJhY2s9KCgpPT57dGhpcy5fcmVzZXQoKX0pLHRoaXMubW9kZWwuZG9jdW1lbnQub24oXCJjaGFuZ2VcIix0aGlzLl9jaGFuZ2VDYWxsYmFjayksdGhpcy5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24ub24oXCJjaGFuZ2U6cmFuZ2VcIix0aGlzLl9zZWxlY3Rpb25DaGFuZ2VDYWxsYmFjayksdGhpcy5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24ub24oXCJjaGFuZ2U6YXR0cmlidXRlXCIsdGhpcy5fc2VsZWN0aW9uQ2hhbmdlQ2FsbGJhY2spfWdldCBiYXRjaCgpe3JldHVybiB0aGlzLl9iYXRjaHx8KHRoaXMuX2JhdGNoPW5ldyBIYSksdGhpcy5fYmF0Y2h9aW5wdXQodCl7dGhpcy5zaXplKz10LHRoaXMuc2l6ZT49dGhpcy5saW1pdCYmdGhpcy5fcmVzZXQoITApfWxvY2soKXt0aGlzLmlzTG9ja2VkPSEwfXVubG9jaygpe3RoaXMuaXNMb2NrZWQ9ITF9ZGVzdHJveSgpe3RoaXMubW9kZWwuZG9jdW1lbnQub2ZmKFwiY2hhbmdlXCIsdGhpcy5fY2hhbmdlQ2FsbGJhY2spLHRoaXMubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLm9mZihcImNoYW5nZTpyYW5nZVwiLHRoaXMuX3NlbGVjdGlvbkNoYW5nZUNhbGxiYWNrKSx0aGlzLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5vZmYoXCJjaGFuZ2U6YXR0cmlidXRlXCIsdGhpcy5fc2VsZWN0aW9uQ2hhbmdlQ2FsbGJhY2spfV9yZXNldCh0KXt0aGlzLmlzTG9ja2VkJiYhdHx8KHRoaXMuX2JhdGNoPW51bGwsdGhpcy5zaXplPTApfX1jbGFzcyBpZCBleHRlbmRzIEdse2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy5fYnVmZmVyPW5ldyBvZCh0Lm1vZGVsLGUpfWdldCBidWZmZXIoKXtyZXR1cm4gdGhpcy5fYnVmZmVyfWRlc3Ryb3koKXtzdXBlci5kZXN0cm95KCksdGhpcy5fYnVmZmVyLmRlc3Ryb3koKX1leGVjdXRlKHQ9e30pe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwsbj1lLmRvY3VtZW50LG89dC50ZXh0fHxcIlwiLGk9by5sZW5ndGgscj10LnJhbmdlfHxuLnNlbGVjdGlvbi5nZXRGaXJzdFJhbmdlKCkscz10LnJlc3VsdFJhbmdlO2UuZW5xdWV1ZUNoYW5nZSh0aGlzLl9idWZmZXIuYmF0Y2gsdD0+e2NvbnN0IGU9ci5pc0NvbGxhcHNlZDt0aGlzLl9idWZmZXIubG9jaygpLGV8fHQucmVtb3ZlKHIpLG8mJnQuaW5zZXJ0VGV4dChvLG4uc2VsZWN0aW9uLmdldEF0dHJpYnV0ZXMoKSxyLnN0YXJ0KSxzP3Quc2V0U2VsZWN0aW9uKHMpOmUmJnQuc2V0U2VsZWN0aW9uKHIuc3RhcnQuZ2V0U2hpZnRlZEJ5KGkpKSx0aGlzLl9idWZmZXIudW5sb2NrKCksdGhpcy5fYnVmZmVyLmlucHV0KGkpfSl9fWZ1bmN0aW9uIHJkKHQpe2xldCBlPW51bGw7Y29uc3Qgbj10Lm1vZGVsLG89dC5lZGl0aW5nLnZpZXcsaT10LmNvbW1hbmRzLmdldChcImlucHV0XCIpO2Z1bmN0aW9uIHIoKXtjb25zdCB0PWkuYnVmZmVyO3QubG9jaygpLG4uZW5xdWV1ZUNoYW5nZSh0LmJhdGNoLCgpPT57bi5kZWxldGVDb250ZW50KG4uZG9jdW1lbnQuc2VsZWN0aW9uKX0pLHQudW5sb2NrKCl9by5kb2N1bWVudC5vbihcImtleWRvd25cIiwodCxzKT0+KGZ1bmN0aW9uKHQpe2NvbnN0IHM9bi5kb2N1bWVudCxhPW8uZG9jdW1lbnQuaXNDb21wb3NpbmcsYz1lJiZlLmlzRXF1YWwocy5zZWxlY3Rpb24pO2lmKGU9bnVsbCwhaS5pc0VuYWJsZWQpcmV0dXJuO2lmKGZ1bmN0aW9uKHQpe2lmKHQuY3RybEtleSlyZXR1cm4hMDtyZXR1cm4gc2QuaW5jbHVkZXModC5rZXlDb2RlKX0odCl8fHMuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKXJldHVybjtpZihhJiYyMjk9PT10LmtleUNvZGUpcmV0dXJuO2lmKCFhJiYyMjk9PT10LmtleUNvZGUmJmMpcmV0dXJuO3IoKX0pKHMpLHtwcmlvcml0eTpcImxvd2VzdFwifSksby5kb2N1bWVudC5vbihcImNvbXBvc2l0aW9uc3RhcnRcIixmdW5jdGlvbigpe2NvbnN0IHQ9bi5kb2N1bWVudCxlPTEhPT10LnNlbGVjdGlvbi5yYW5nZUNvdW50fHx0LnNlbGVjdGlvbi5nZXRGaXJzdFJhbmdlKCkuaXNGbGF0O2lmKHQuc2VsZWN0aW9uLmlzQ29sbGFwc2VkfHxlKXJldHVybjtyKCl9LHtwcmlvcml0eTpcImxvd2VzdFwifSksby5kb2N1bWVudC5vbihcImNvbXBvc2l0aW9uZW5kXCIsKCk9PntlPW5ldyBKcyhuLmRvY3VtZW50LnNlbGVjdGlvbil9LHtwcmlvcml0eTpcImxvd2VzdFwifSl9Y29uc3Qgc2Q9W2ZpKFwiYXJyb3dVcFwiKSxmaShcImFycm93UmlnaHRcIiksZmkoXCJhcnJvd0Rvd25cIiksZmkoXCJhcnJvd0xlZnRcIiksOSwxNiwxNywxOCwyMCwyNywzMywzNCwzNSwzNl07Zm9yKGxldCB0PTExMjt0PD0xMzU7dCsrKXNkLnB1c2godCk7ZnVuY3Rpb24gYWQodCl7aWYoMD09dC5sZW5ndGgpcmV0dXJuITE7Zm9yKGNvbnN0IGUgb2YgdClpZihcImNoaWxkcmVuXCI9PT1lLnR5cGUmJiFjZChlKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBjZCh0KXtpZih0Lm5ld0NoaWxkcmVuLmxlbmd0aC10Lm9sZENoaWxkcmVuLmxlbmd0aCE9MSlyZXR1cm47Y29uc3QgZT1mdW5jdGlvbih0LGUpe2NvbnN0IG49W107bGV0IG8saT0wO3JldHVybiB0LmZvckVhY2godD0+e1wiZXF1YWxcIj09dD8ocigpLGkrKyk6XCJpbnNlcnRcIj09dD8ocyhcImluc2VydFwiKT9vLnZhbHVlcy5wdXNoKGVbaV0pOihyKCksbz17dHlwZTpcImluc2VydFwiLGluZGV4OmksdmFsdWVzOltlW2ldXX0pLGkrKyk6cyhcImRlbGV0ZVwiKT9vLmhvd01hbnkrKzoocigpLG89e3R5cGU6XCJkZWxldGVcIixpbmRleDppLGhvd01hbnk6MX0pfSkscigpLG47ZnVuY3Rpb24gcigpe28mJihuLnB1c2gobyksbz1udWxsKX1mdW5jdGlvbiBzKHQpe3JldHVybiBvJiZvLnR5cGU9PXR9fShCaSh0Lm9sZENoaWxkcmVuLHQubmV3Q2hpbGRyZW4sbGQpLHQubmV3Q2hpbGRyZW4pO2lmKGUubGVuZ3RoPjEpcmV0dXJuO2NvbnN0IG49ZVswXTtyZXR1cm4gbi52YWx1ZXNbMF1pbnN0YW5jZW9mIGNvP246dm9pZCAwfWZ1bmN0aW9uIGxkKHQsZSl7cmV0dXJuIHQgaW5zdGFuY2VvZiBjbyYmZSBpbnN0YW5jZW9mIGNvP3QuZGF0YT09PWUuZGF0YTp0PT09ZX1jbGFzcyBkZHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmVkaXRvcj10LHRoaXMuZWRpdGluZz10aGlzLmVkaXRvci5lZGl0aW5nfWhhbmRsZSh0LGUpe2lmKGFkKHQpKXRoaXMuX2hhbmRsZUNvbnRhaW5lckNoaWxkcmVuTXV0YXRpb25zKHQsZSk7ZWxzZSBmb3IoY29uc3QgbiBvZiB0KXRoaXMuX2hhbmRsZVRleHRNdXRhdGlvbihuLGUpLHRoaXMuX2hhbmRsZVRleHROb2RlSW5zZXJ0aW9uKG4pfV9oYW5kbGVDb250YWluZXJDaGlsZHJlbk11dGF0aW9ucyh0LGUpe2NvbnN0IG49ZnVuY3Rpb24odCl7Y29uc3QgZT10Lm1hcCh0PT50Lm5vZGUpLnJlZHVjZSgodCxlKT0+dC5nZXRDb21tb25BbmNlc3RvcihlLHtpbmNsdWRlU2VsZjohMH0pKTtpZighZSlyZXR1cm47cmV0dXJuIGUuZ2V0QW5jZXN0b3JzKHtpbmNsdWRlU2VsZjohMCxwYXJlbnRGaXJzdDohMH0pLmZpbmQodD0+dC5pcyhcImNvbnRhaW5lckVsZW1lbnRcIil8fHQuaXMoXCJyb290RWxlbWVudFwiKSl9KHQpO2lmKCFuKXJldHVybjtjb25zdCBvPXRoaXMuZWRpdG9yLmVkaXRpbmcudmlldy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKG4pLGk9bmV3IGVyLHI9dGhpcy5lZGl0b3IuZGF0YS50b01vZGVsKGkuZG9tVG9WaWV3KG8pKS5nZXRDaGlsZCgwKSxzPXRoaXMuZWRpdG9yLmVkaXRpbmcubWFwcGVyLnRvTW9kZWxFbGVtZW50KG4pO2lmKCFzKXJldHVybjtjb25zdCBhPUFycmF5LmZyb20oci5nZXRDaGlsZHJlbigpKSxjPUFycmF5LmZyb20ocy5nZXRDaGlsZHJlbigpKSxsPWFbYS5sZW5ndGgtMV0sZD1jW2MubGVuZ3RoLTFdO2lmKGwmJmwuaXMoXCJzb2Z0QnJlYWtcIikmJmQmJiFkLmlzKFwic29mdEJyZWFrXCIpJiZhLnBvcCgpLCF1ZChhKXx8IXVkKGMpKXJldHVybjtjb25zdCB1PWEubWFwKHQ9PnQuaXMoXCJ0ZXh0XCIpP3QuZGF0YTpcIkBcIikuam9pbihcIlwiKS5yZXBsYWNlKC9cXHUwMEEwL2csXCIgXCIpLGg9Yy5tYXAodD0+dC5pcyhcInRleHRcIik/dC5kYXRhOlwiQFwiKS5qb2luKFwiXCIpLnJlcGxhY2UoL1xcdTAwQTAvZyxcIiBcIik7aWYoaD09PXUpcmV0dXJuO2NvbnN0IGY9QmkoaCx1KSx7Zmlyc3RDaGFuZ2VBdDptLGluc2VydGlvbnM6ZyxkZWxldGlvbnM6cH09aGQoZik7bGV0IGI9bnVsbDtlJiYoYj10aGlzLmVkaXRpbmcubWFwcGVyLnRvTW9kZWxSYW5nZShlLmdldEZpcnN0UmFuZ2UoKSkpO2NvbnN0IHc9dS5zdWJzdHIobSxnKSxfPXFzLmNyZWF0ZUZyb21QYXJlbnRzQW5kT2Zmc2V0cyhzLG0scyxtK3ApO3RoaXMuZWRpdG9yLmV4ZWN1dGUoXCJpbnB1dFwiLHt0ZXh0OncscmFuZ2U6XyxyZXN1bHRSYW5nZTpifSl9X2hhbmRsZVRleHRNdXRhdGlvbih0LGUpe2lmKFwidGV4dFwiIT10LnR5cGUpcmV0dXJuO2NvbnN0IG49dC5uZXdUZXh0LnJlcGxhY2UoL1xcdTAwQTAvZyxcIiBcIiksbz1CaSh0Lm9sZFRleHQucmVwbGFjZSgvXFx1MDBBMC9nLFwiIFwiKSxuKSx7Zmlyc3RDaGFuZ2VBdDppLGluc2VydGlvbnM6cixkZWxldGlvbnM6c309aGQobyk7bGV0IGE9bnVsbDtlJiYoYT10aGlzLmVkaXRpbmcubWFwcGVyLnRvTW9kZWxSYW5nZShlLmdldEZpcnN0UmFuZ2UoKSkpO2NvbnN0IGM9bmV3ICRvKHQubm9kZSxpKSxsPXRoaXMuZWRpdGluZy5tYXBwZXIudG9Nb2RlbFBvc2l0aW9uKGMpLGQ9cXMuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQobCxzKSx1PW4uc3Vic3RyKGkscik7dGhpcy5lZGl0b3IuZXhlY3V0ZShcImlucHV0XCIse3RleHQ6dSxyYW5nZTpkLHJlc3VsdFJhbmdlOmF9KX1faGFuZGxlVGV4dE5vZGVJbnNlcnRpb24odCl7aWYoXCJjaGlsZHJlblwiIT10LnR5cGUpcmV0dXJuO2NvbnN0IGU9Y2QodCksbj1uZXcgJG8odC5ub2RlLGUuaW5kZXgpLG89dGhpcy5lZGl0aW5nLm1hcHBlci50b01vZGVsUG9zaXRpb24obiksaT1lLnZhbHVlc1swXS5kYXRhO3RoaXMuZWRpdG9yLmV4ZWN1dGUoXCJpbnB1dFwiLHt0ZXh0OmkucmVwbGFjZSgvXFx1MDBBMC9nLFwiIFwiKSxyYW5nZTpuZXcgcXMobyl9KX19ZnVuY3Rpb24gdWQodCl7cmV0dXJuIHQuZXZlcnkodD0+dC5pcyhcInRleHRcIil8fHQuaXMoXCJzb2Z0QnJlYWtcIikpfWZ1bmN0aW9uIGhkKHQpe2xldCBlPW51bGwsbj1udWxsO2ZvcihsZXQgbz0wO288dC5sZW5ndGg7bysrKXtcImVxdWFsXCIhPXRbb10mJihlPW51bGw9PT1lP286ZSxuPW8pfWxldCBvPTAsaT0wO2ZvcihsZXQgcj1lO3I8PW47cisrKVwiaW5zZXJ0XCIhPXRbcl0mJm8rKyxcImRlbGV0ZVwiIT10W3JdJiZpKys7cmV0dXJue2luc2VydGlvbnM6aSxkZWxldGlvbnM6byxmaXJzdENoYW5nZUF0OmV9fWNsYXNzIGZkIGV4dGVuZHMgVWx7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJJbnB1dFwifWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9bmV3IGlkKHQsdC5jb25maWcuZ2V0KFwidHlwaW5nLnVuZG9TdGVwXCIpfHwyMCk7dC5jb21tYW5kcy5hZGQoXCJpbnB1dFwiLGUpLHJkKHQpLGZ1bmN0aW9uKHQpe3QuZWRpdGluZy52aWV3LmRvY3VtZW50Lm9uKFwibXV0YXRpb25zXCIsKGUsbixvKT0+e25ldyBkZCh0KS5oYW5kbGUobixvKX0pfSh0KX19Y2xhc3MgbWQgZXh0ZW5kcyBHbHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMuZGlyZWN0aW9uPWUsdGhpcy5fYnVmZmVyPW5ldyBvZCh0Lm1vZGVsLHQuY29uZmlnLmdldChcInR5cGluZy51bmRvU3RlcFwiKSl9ZXhlY3V0ZSh0PXt9KXtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsLG49ZS5kb2N1bWVudDtlLmVucXVldWVDaGFuZ2UodGhpcy5fYnVmZmVyLmJhdGNoLG89Pnt0aGlzLl9idWZmZXIubG9jaygpO2NvbnN0IGk9bmV3IEpzKG4uc2VsZWN0aW9uKSxyPWkuaXNDb2xsYXBzZWQ7aWYoaS5pc0NvbGxhcHNlZCYmZS5tb2RpZnlTZWxlY3Rpb24oaSx7ZGlyZWN0aW9uOnRoaXMuZGlyZWN0aW9uLHVuaXQ6dC51bml0fSksdGhpcy5fc2hvdWxkRW50aXJlQ29udGVudEJlUmVwbGFjZWRXaXRoUGFyYWdyYXBoKHQuc2VxdWVuY2V8fDEpKXJldHVybiB2b2lkIHRoaXMuX3JlcGxhY2VFbnRpcmVDb250ZW50V2l0aFBhcmFncmFwaChvKTtpZihpLmlzQ29sbGFwc2VkKXJldHVybjtsZXQgcz0wO2kuZ2V0Rmlyc3RSYW5nZSgpLmdldE1pbmltYWxGbGF0UmFuZ2VzKCkuZm9yRWFjaCh0PT57cys9S28odC5nZXRXYWxrZXIoe3NpbmdsZUNoYXJhY3RlcnM6ITAsaWdub3JlRWxlbWVudEVuZDohMCxzaGFsbG93OiEwfSkpfSksZS5kZWxldGVDb250ZW50KGkse2RvTm90UmVzZXRFbnRpcmVDb250ZW50OnJ9KSx0aGlzLl9idWZmZXIuaW5wdXQocyksby5zZXRTZWxlY3Rpb24oaSksdGhpcy5fYnVmZmVyLnVubG9jaygpfSl9X3Nob3VsZEVudGlyZUNvbnRlbnRCZVJlcGxhY2VkV2l0aFBhcmFncmFwaCh0KXtpZih0PjEpcmV0dXJuITE7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCxuPWUuZG9jdW1lbnQuc2VsZWN0aW9uLG89ZS5zY2hlbWEuZ2V0TGltaXRFbGVtZW50KG4pO2lmKCEobi5pc0NvbGxhcHNlZCYmbi5jb250YWluc0VudGlyZUNvbnRlbnQobykpKXJldHVybiExO2lmKCFlLnNjaGVtYS5jaGVja0NoaWxkKG8sXCJwYXJhZ3JhcGhcIikpcmV0dXJuITE7Y29uc3QgaT1vLmdldENoaWxkKDApO3JldHVybiFpfHxcInBhcmFncmFwaFwiIT09aS5uYW1lfV9yZXBsYWNlRW50aXJlQ29udGVudFdpdGhQYXJhZ3JhcGgodCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCxuPWUuZG9jdW1lbnQuc2VsZWN0aW9uLG89ZS5zY2hlbWEuZ2V0TGltaXRFbGVtZW50KG4pLGk9bmV3IEZzKFwicGFyYWdyYXBoXCIpO3QucmVtb3ZlKHFzLmNyZWF0ZUluKG8pKSx0Lmluc2VydChpLG8pLHQuc2V0U2VsZWN0aW9uKGksMCl9fWNsYXNzIGdkIGV4dGVuZHMgY3J7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7Y29uc3QgZT10LmRvY3VtZW50O2xldCBuPTA7ZS5vbihcImtleXVwXCIsKHQsZSk9PntlLmtleUNvZGUhPWhpLmRlbGV0ZSYmZS5rZXlDb2RlIT1oaS5iYWNrc3BhY2V8fChuPTApfSksZS5vbihcImtleWRvd25cIiwodCxvKT0+e2NvbnN0IGk9e307aWYoby5rZXlDb2RlPT1oaS5kZWxldGUpaS5kaXJlY3Rpb249XCJmb3J3YXJkXCIsaS51bml0PVwiY2hhcmFjdGVyXCI7ZWxzZXtpZihvLmtleUNvZGUhPWhpLmJhY2tzcGFjZSlyZXR1cm47aS5kaXJlY3Rpb249XCJiYWNrd2FyZFwiLGkudW5pdD1cImNvZGVQb2ludFwifWNvbnN0IHI9bGkuaXNNYWM/by5hbHRLZXk6by5jdHJsS2V5O2xldCBzO2kudW5pdD1yP1wid29yZFwiOmkudW5pdCxpLnNlcXVlbmNlPSsrbixlLm9uY2UoXCJkZWxldGVcIix0PT5zPXQse3ByaW9yaXR5OlwiaGlnaGVzdFwifSksZS5maXJlKFwiZGVsZXRlXCIsbmV3IFFyKGUsby5kb21FdmVudCxpKSkscyYmcy5zdG9wLmNhbGxlZCYmdC5zdG9wKCl9KX1vYnNlcnZlKCl7fX1mdW5jdGlvbiBwZCh0KXtjb25zdCBlPXQubW9kZWwsbj10LmVkaXRpbmcudmlldyxvPTIwMDtsZXQgaT1udWxsLHI9bmV3IEpzKGUuZG9jdW1lbnQuc2VsZWN0aW9uKSxzPURhdGUubm93KCk7ZS5kb2N1bWVudC5zZWxlY3Rpb24ub24oXCJjaGFuZ2VcIixmdW5jdGlvbih0KXtjb25zdCBlPW5ldyBKcyh0LnNvdXJjZSk7ci5pc0VxdWFsKGUpfHwoaT1yLHI9ZSxzPURhdGUubm93KCkpfSksbi5kb2N1bWVudC5vbihcIm11dGF0aW9uc1wiLGZ1bmN0aW9uKG4sYSl7YWQoYSkmJmZ1bmN0aW9uKHQpe2Zvcihjb25zdCBlIG9mIHQpe2lmKFwiY2hpbGRyZW5cIiE9PWUudHlwZSljb250aW51ZTtjb25zdCB0PWUub2xkQ2hpbGRyZW4sbj1lLm5ld0NoaWxkcmVuO2lmKCFiZCh0KSljb250aW51ZTtjb25zdCBvPUJpKHQsbiksaT1vLnNvbWUodD0+XCJkZWxldGVcIj09PXQpLHI9by5zb21lKHQ9PlwiaW5zZXJ0XCI9PT10KTtpZihpJiYhcilyZXR1cm4hMH1yZXR1cm4hMX0oYSkmJighZnVuY3Rpb24oKXtEYXRlLm5vdygpLXM8byYmaSYmIWkuaXNDb2xsYXBzZWQmJnIuaXNDb2xsYXBzZWQmJnIuZ2V0TGFzdFBvc2l0aW9uKCkuaXNFcXVhbChpLmdldExhc3RQb3NpdGlvbigpKSYmZS5lbnF1ZXVlQ2hhbmdlKHQ9Pnt0LnNldFNlbGVjdGlvbihpKX0pO3QuZXhlY3V0ZShcImRlbGV0ZVwiKX0oKSxuLnN0b3AoKSl9LHtwcmlvcml0eTpcImhpZ2hlc3RcIn0pfWZ1bmN0aW9uIGJkKHQpe3JldHVybiB0LmV2ZXJ5KHQ9PnQuaXMoXCJjb250YWluZXJFbGVtZW50XCIpKX1jbGFzcyB3ZCBleHRlbmRzIFVse3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiRGVsZXRlXCJ9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10LmVkaXRpbmcudmlldyxuPWUuZG9jdW1lbnQ7ZS5hZGRPYnNlcnZlcihnZCksdC5jb21tYW5kcy5hZGQoXCJmb3J3YXJkRGVsZXRlXCIsbmV3IG1kKHQsXCJmb3J3YXJkXCIpKSx0LmNvbW1hbmRzLmFkZChcImRlbGV0ZVwiLG5ldyBtZCh0LFwiYmFja3dhcmRcIikpLHRoaXMubGlzdGVuVG8obixcImRlbGV0ZVwiLChuLG8pPT57dC5leGVjdXRlKFwiZm9yd2FyZFwiPT1vLmRpcmVjdGlvbj9cImZvcndhcmREZWxldGVcIjpcImRlbGV0ZVwiLHt1bml0Om8udW5pdCxzZXF1ZW5jZTpvLnNlcXVlbmNlfSksby5wcmV2ZW50RGVmYXVsdCgpLGUuc2Nyb2xsVG9UaGVTZWxlY3Rpb24oKX0pLHBkKHQpfX1jbGFzcyBfZCBleHRlbmRzIFVse3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bZmQsd2RdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiVHlwaW5nXCJ9fWNsYXNzIHZkIGV4dGVuZHMgcWF7Z2V0IHR5cGUoKXtyZXR1cm5cIm5vb3BcIn1jbG9uZSgpe3JldHVybiBuZXcgdmQodGhpcy5iYXNlVmVyc2lvbil9Z2V0UmV2ZXJzZWQoKXtyZXR1cm4gbmV3IHZkKHRoaXMuYmFzZVZlcnNpb24rMSl9X2V4ZWN1dGUoKXt9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm5cIk5vT3BlcmF0aW9uXCJ9fWNvbnN0IGtkPW5ldyBNYXA7ZnVuY3Rpb24geWQodCxlLG4pe2xldCBvPWtkLmdldCh0KTtvfHwobz1uZXcgTWFwLGtkLnNldCh0LG8pKSxvLnNldChlLG4pfWZ1bmN0aW9uIHhkKHQpe3JldHVyblt0XX1mdW5jdGlvbiBBZCh0LGUsbj17fSl7Y29uc3Qgbz1mdW5jdGlvbih0LGUpe2NvbnN0IG49a2QuZ2V0KHQpO3JldHVybiBuJiZuLmhhcyhlKT9uLmdldChlKTp4ZH0odC5jb25zdHJ1Y3RvcixlLmNvbnN0cnVjdG9yKTt0cnl7cmV0dXJuIG8odD10LmNsb25lKCksZSxuKX1jYXRjaChvKXt0aHJvdyBmcy5hLmVycm9yKFwiRXJyb3IgZHVyaW5nIG9wZXJhdGlvbiB0cmFuc2Zvcm1hdGlvbiFcIixvLm1lc3NhZ2UpLGZzLmEuZXJyb3IoXCJUcmFuc2Zvcm1lZCBvcGVyYXRpb25cIix0KSxmcy5hLmVycm9yKFwiT3BlcmF0aW9uIHRyYW5zZm9ybWVkIGJ5XCIsZSksZnMuYS5lcnJvcihcImNvbnRleHQuYUlzU3Ryb25nXCIsbi5hSXNTdHJvbmcpLGZzLmEuZXJyb3IoXCJjb250ZXh0LmFXYXNVbmRvbmVcIixuLmFXYXNVbmRvbmUpLGZzLmEuZXJyb3IoXCJjb250ZXh0LmJXYXNVbmRvbmVcIixuLmJXYXNVbmRvbmUpLGZzLmEuZXJyb3IoXCJjb250ZXh0LmFiUmVsYXRpb25cIixuLmFiUmVsYXRpb24pLGZzLmEuZXJyb3IoXCJjb250ZXh0LmJhUmVsYXRpb25cIixuLmJhUmVsYXRpb24pLG99fWZ1bmN0aW9uIENkKHQsZSxuKXtpZih0PXQuc2xpY2UoKSxlPWUuc2xpY2UoKSwwPT10Lmxlbmd0aHx8MD09ZS5sZW5ndGgpcmV0dXJue29wZXJhdGlvbnNBOnQsb3BlcmF0aW9uc0I6ZX07Y29uc3Qgbz1uZXcgV2Vha01hcDtmb3IoY29uc3QgZSBvZiB0KW8uc2V0KGUsMCk7Y29uc3QgaT17bmV4dEJhc2VWZXJzaW9uQTp0W3QubGVuZ3RoLTFdLmJhc2VWZXJzaW9uKzEsbmV4dEJhc2VWZXJzaW9uQjplW2UubGVuZ3RoLTFdLmJhc2VWZXJzaW9uKzEsb3JpZ2luYWxPcGVyYXRpb25zQUNvdW50OnQubGVuZ3RoLG9yaWdpbmFsT3BlcmF0aW9uc0JDb3VudDplLmxlbmd0aH0scj1uZXcgVGQobi5kb2N1bWVudCxuLnVzZVJlbGF0aW9ucyk7ci5zZXRPcmlnaW5hbE9wZXJhdGlvbnModCksci5zZXRPcmlnaW5hbE9wZXJhdGlvbnMoZSk7bGV0IHM9MDtmb3IoO3M8dC5sZW5ndGg7KXtjb25zdCBuPXRbc10saT1vLmdldChuKTtpZihpPT1lLmxlbmd0aCl7cysrO2NvbnRpbnVlfWNvbnN0IGE9ZVtpXSxjPUFkKG4sYSxyLmdldENvbnRleHQobixhLCEwKSksbD1BZChhLG4sci5nZXRDb250ZXh0KGEsbiwhMSkpO3IudXBkYXRlUmVsYXRpb24obixhKSxyLnNldE9yaWdpbmFsT3BlcmF0aW9ucyhjLG4pLHIuc2V0T3JpZ2luYWxPcGVyYXRpb25zKGwsYSk7Zm9yKGNvbnN0IHQgb2YgYylvLnNldCh0LGkrbC5sZW5ndGgpO3Quc3BsaWNlKHMsMSwuLi5jKSxlLnNwbGljZShpLDEsLi4ubCl9aWYobi5wYWRXaXRoTm9PcHMpe2NvbnN0IG49dC5sZW5ndGgtaS5vcmlnaW5hbE9wZXJhdGlvbnNBQ291bnQsbz1lLmxlbmd0aC1pLm9yaWdpbmFsT3BlcmF0aW9uc0JDb3VudDtQZCh0LG8tbiksUGQoZSxuLW8pfXJldHVybiBNZCh0LGkubmV4dEJhc2VWZXJzaW9uQiksTWQoZSxpLm5leHRCYXNlVmVyc2lvbkEpLHtvcGVyYXRpb25zQTp0LG9wZXJhdGlvbnNCOmV9fWNsYXNzIFRke2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5faGlzdG9yeT10Lmhpc3RvcnksdGhpcy5fdXNlUmVsYXRpb25zPWUsdGhpcy5fb3JpZ2luYWxPcGVyYXRpb25zPW5ldyBNYXAsdGhpcy5fcmVsYXRpb25zPW5ldyBNYXB9c2V0T3JpZ2luYWxPcGVyYXRpb25zKHQsZT1udWxsKXtjb25zdCBuPWU/dGhpcy5fb3JpZ2luYWxPcGVyYXRpb25zLmdldChlKTpudWxsO2Zvcihjb25zdCBlIG9mIHQpdGhpcy5fb3JpZ2luYWxPcGVyYXRpb25zLnNldChlLG58fGUpfXVwZGF0ZVJlbGF0aW9uKHQsZSl7c3dpdGNoKHQuY29uc3RydWN0b3Ipe2Nhc2UgbmM6c3dpdGNoKGUuY29uc3RydWN0b3Ipe2Nhc2UgYWM6dC50YXJnZXRQb3NpdGlvbi5pc0VxdWFsKGUuc291cmNlUG9zaXRpb24pfHxlLm1vdmVkUmFuZ2UuY29udGFpbnNQb3NpdGlvbih0LnRhcmdldFBvc2l0aW9uKT90aGlzLl9zZXRSZWxhdGlvbih0LGUsXCJpbnNlcnRBdFNvdXJjZVwiKTp0LnRhcmdldFBvc2l0aW9uLmlzRXF1YWwoZS5kZWxldGlvblBvc2l0aW9uKSYmdGhpcy5fc2V0UmVsYXRpb24odCxlLFwiaW5zZXJ0QmV0d2VlblwiKTticmVhaztjYXNlIG5jOnQudGFyZ2V0UG9zaXRpb24uaXNFcXVhbChlLnNvdXJjZVBvc2l0aW9uKXx8dC50YXJnZXRQb3NpdGlvbi5pc0JlZm9yZShlLnNvdXJjZVBvc2l0aW9uKT90aGlzLl9zZXRSZWxhdGlvbih0LGUsXCJpbnNlcnRCZWZvcmVcIik6dGhpcy5fc2V0UmVsYXRpb24odCxlLFwiaW5zZXJ0QWZ0ZXJcIil9YnJlYWs7Y2FzZSBjYzpzd2l0Y2goZS5jb25zdHJ1Y3Rvcil7Y2FzZSBhYzp0LnNwbGl0UG9zaXRpb24uaXNCZWZvcmUoZS5zb3VyY2VQb3NpdGlvbikmJnRoaXMuX3NldFJlbGF0aW9uKHQsZSxcInNwbGl0QmVmb3JlXCIpO2JyZWFrO2Nhc2UgbmM6KHQuc3BsaXRQb3NpdGlvbi5pc0VxdWFsKGUuc291cmNlUG9zaXRpb24pfHx0LnNwbGl0UG9zaXRpb24uaXNCZWZvcmUoZS5zb3VyY2VQb3NpdGlvbikpJiZ0aGlzLl9zZXRSZWxhdGlvbih0LGUsXCJzcGxpdEJlZm9yZVwiKX1icmVhaztjYXNlIGFjOnN3aXRjaChlLmNvbnN0cnVjdG9yKXtjYXNlIGFjOnQudGFyZ2V0UG9zaXRpb24uaXNFcXVhbChlLnNvdXJjZVBvc2l0aW9uKXx8dGhpcy5fc2V0UmVsYXRpb24odCxlLFwibWVyZ2VUYXJnZXROb3RNb3ZlZFwiKSx0LnNvdXJjZVBvc2l0aW9uLmlzRXF1YWwoZS5zb3VyY2VQb3NpdGlvbikmJnRoaXMuX3NldFJlbGF0aW9uKHQsZSxcIm1lcmdlU2FtZUVsZW1lbnRcIil9fX1nZXRDb250ZXh0KHQsZSxuKXtyZXR1cm57YUlzU3Ryb25nOm4sYVdhc1VuZG9uZTp0aGlzLl93YXNVbmRvbmUodCksYldhc1VuZG9uZTp0aGlzLl93YXNVbmRvbmUoZSksYWJSZWxhdGlvbjp0aGlzLl91c2VSZWxhdGlvbnM/dGhpcy5fZ2V0UmVsYXRpb24odCxlKTpudWxsLGJhUmVsYXRpb246dGhpcy5fdXNlUmVsYXRpb25zP3RoaXMuX2dldFJlbGF0aW9uKGUsdCk6bnVsbH19X3dhc1VuZG9uZSh0KXtjb25zdCBlPXRoaXMuX29yaWdpbmFsT3BlcmF0aW9ucy5nZXQodCk7cmV0dXJuIGUud2FzVW5kb25lfHx0aGlzLl9oaXN0b3J5LmlzVW5kb25lT3BlcmF0aW9uKGUpfV9nZXRSZWxhdGlvbih0LGUpe2NvbnN0IG49dGhpcy5fb3JpZ2luYWxPcGVyYXRpb25zLmdldChlKSxvPXRoaXMuX2hpc3RvcnkuZ2V0VW5kb25lT3BlcmF0aW9uKG4pO2lmKCFvKXJldHVybiBudWxsO2NvbnN0IGk9dGhpcy5fb3JpZ2luYWxPcGVyYXRpb25zLmdldCh0KSxyPXRoaXMuX3JlbGF0aW9ucy5nZXQoaSk7cmV0dXJuIHImJnIuZ2V0KG8pfHxudWxsfV9zZXRSZWxhdGlvbih0LGUsbil7Y29uc3Qgbz10aGlzLl9vcmlnaW5hbE9wZXJhdGlvbnMuZ2V0KHQpLGk9dGhpcy5fb3JpZ2luYWxPcGVyYXRpb25zLmdldChlKTtsZXQgcj10aGlzLl9yZWxhdGlvbnMuZ2V0KG8pO3J8fChyPW5ldyBNYXAsdGhpcy5fcmVsYXRpb25zLnNldChvLHIpKSxyLnNldChpLG4pfX1mdW5jdGlvbiBNZCh0LGUpe2Zvcihjb25zdCBuIG9mIHQpbi5iYXNlVmVyc2lvbj1lKyt9ZnVuY3Rpb24gUGQodCxlKXtmb3IobGV0IG49MDtuPGU7bisrKXQucHVzaChuZXcgdmQoMCkpfWZ1bmN0aW9uIFNkKHQsZSxuKXtjb25zdCBvPXQubm9kZXMuZ2V0Tm9kZSgwKS5nZXRBdHRyaWJ1dGUoZSk7aWYobz09bilyZXR1cm4gbnVsbDtjb25zdCBpPW5ldyBxcyh0LnBvc2l0aW9uLHQucG9zaXRpb24uZ2V0U2hpZnRlZEJ5KHQuaG93TWFueSkpO3JldHVybiBuZXcgdGMoaSxlLG8sbiwwKX1mdW5jdGlvbiBFZCh0LGUpe3JldHVybiBudWxsPT09dC50YXJnZXRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKGUuc291cmNlUG9zaXRpb24sZS5ob3dNYW55KX1mdW5jdGlvbiBJZCh0LGUpe2NvbnN0IG49W107Zm9yKGxldCBvPTA7bzx0Lmxlbmd0aDtvKyspe2NvbnN0IGk9dFtvXSxyPW5ldyBuYyhpLnN0YXJ0LGkuZW5kLm9mZnNldC1pLnN0YXJ0Lm9mZnNldCxlLDApO24ucHVzaChyKTtmb3IobGV0IGU9bysxO2U8dC5sZW5ndGg7ZSsrKXRbZV09dFtlXS5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUoci5zb3VyY2VQb3NpdGlvbixyLnRhcmdldFBvc2l0aW9uLHIuaG93TWFueSlbMF07ZT1lLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZShyLnNvdXJjZVBvc2l0aW9uLHIudGFyZ2V0UG9zaXRpb24sci5ob3dNYW55KX1yZXR1cm4gbn15ZCh0Yyx0YywodCxlLG4pPT57aWYodC5rZXk9PT1lLmtleSl7Y29uc3Qgbz10LnJhbmdlLmdldERpZmZlcmVuY2UoZS5yYW5nZSkubWFwKGU9Pm5ldyB0YyhlLHQua2V5LHQub2xkVmFsdWUsdC5uZXdWYWx1ZSwwKSksaT10LnJhbmdlLmdldEludGVyc2VjdGlvbihlLnJhbmdlKTtyZXR1cm4gaSYmbi5hSXNTdHJvbmcmJm8ucHVzaChuZXcgdGMoaSxlLmtleSxlLm5ld1ZhbHVlLHQubmV3VmFsdWUsMCkpLDA9PW8ubGVuZ3RoP1tuZXcgdmQoMCldOm99cmV0dXJuW3RdfSkseWQodGMsb2MsKHQsZSk9PntpZih0LnJhbmdlLnN0YXJ0Lmhhc1NhbWVQYXJlbnRBcyhlLnBvc2l0aW9uKSYmdC5yYW5nZS5jb250YWluc1Bvc2l0aW9uKGUucG9zaXRpb24pKXtjb25zdCBuPXQucmFuZ2UuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24oZS5wb3NpdGlvbixlLmhvd01hbnksIWUuc2hvdWxkUmVjZWl2ZUF0dHJpYnV0ZXMpLm1hcChlPT5uZXcgdGMoZSx0LmtleSx0Lm9sZFZhbHVlLHQubmV3VmFsdWUsdC5iYXNlVmVyc2lvbikpO2lmKGUuc2hvdWxkUmVjZWl2ZUF0dHJpYnV0ZXMpe2NvbnN0IG89U2QoZSx0LmtleSx0Lm9sZFZhbHVlKTtvJiZuLnVuc2hpZnQobyl9cmV0dXJuIG59cmV0dXJuIHQucmFuZ2U9dC5yYW5nZS5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbihlLnBvc2l0aW9uLGUuaG93TWFueSwhMSlbMF0sW3RdfSkseWQodGMsYWMsKHQsZSk9Pntjb25zdCBuPVtdO3QucmFuZ2Uuc3RhcnQuaGFzU2FtZVBhcmVudEFzKGUuZGVsZXRpb25Qb3NpdGlvbikmJih0LnJhbmdlLmNvbnRhaW5zUG9zaXRpb24oZS5kZWxldGlvblBvc2l0aW9uKXx8dC5yYW5nZS5zdGFydC5pc0VxdWFsKGUuZGVsZXRpb25Qb3NpdGlvbikpJiZuLnB1c2gocXMuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQoZS5ncmF2ZXlhcmRQb3NpdGlvbiwxKSk7Y29uc3Qgbz10LnJhbmdlLl9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24oZSk7cmV0dXJuIG8uaXNDb2xsYXBzZWR8fG4ucHVzaChvKSxuLm1hcChlPT5uZXcgdGMoZSx0LmtleSx0Lm9sZFZhbHVlLHQubmV3VmFsdWUsdC5iYXNlVmVyc2lvbikpfSkseWQodGMsbmMsKHQsZSk9PntyZXR1cm4gZnVuY3Rpb24odCxlKXtjb25zdCBuPXFzLmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KGUuc291cmNlUG9zaXRpb24sZS5ob3dNYW55KTtsZXQgbz1udWxsLGk9W107bi5jb250YWluc1JhbmdlKHQsITApP289dDp0LnN0YXJ0Lmhhc1NhbWVQYXJlbnRBcyhuLnN0YXJ0KT8oaT10LmdldERpZmZlcmVuY2Uobiksbz10LmdldEludGVyc2VjdGlvbihuKSk6aT1bdF07Y29uc3Qgcj1bXTtmb3IobGV0IHQgb2YgaSl7dD10Ll9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24oZS5zb3VyY2VQb3NpdGlvbixlLmhvd01hbnkpO2NvbnN0IG49ZS5nZXRNb3ZlZFJhbmdlU3RhcnQoKSxvPXQuc3RhcnQuaGFzU2FtZVBhcmVudEFzKG4pO3Q9dC5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbihuLGUuaG93TWFueSxvKSxyLnB1c2goLi4udCl9byYmci5wdXNoKG8uX2dldFRyYW5zZm9ybWVkQnlNb3ZlKGUuc291cmNlUG9zaXRpb24sZS50YXJnZXRQb3NpdGlvbixlLmhvd01hbnksITEpWzBdKTtyZXR1cm4gcn0odC5yYW5nZSxlKS5tYXAoZT0+bmV3IHRjKGUsdC5rZXksdC5vbGRWYWx1ZSx0Lm5ld1ZhbHVlLHQuYmFzZVZlcnNpb24pKX0pLHlkKHRjLGNjLCh0LGUpPT57aWYodC5yYW5nZS5lbmQuaXNFcXVhbChlLmluc2VydGlvblBvc2l0aW9uKSlyZXR1cm4gZS5ncmF2ZXlhcmRQb3NpdGlvbnx8dC5yYW5nZS5lbmQub2Zmc2V0KyssW3RdO2lmKHQucmFuZ2Uuc3RhcnQuaGFzU2FtZVBhcmVudEFzKGUuc3BsaXRQb3NpdGlvbikmJnQucmFuZ2UuY29udGFpbnNQb3NpdGlvbihlLnNwbGl0UG9zaXRpb24pKXtjb25zdCBuPXQuY2xvbmUoKTtyZXR1cm4gbi5yYW5nZT1uZXcgcXMoSHMuY3JlYXRlRnJvbVBvc2l0aW9uKGUubW92ZVRhcmdldFBvc2l0aW9uKSx0LnJhbmdlLmVuZC5fZ2V0Q29tYmluZWQoZS5zcGxpdFBvc2l0aW9uLGUubW92ZVRhcmdldFBvc2l0aW9uKSksdC5yYW5nZS5lbmQ9SHMuY3JlYXRlRnJvbVBvc2l0aW9uKGUuc3BsaXRQb3NpdGlvbiksdC5yYW5nZS5lbmQuc3RpY2tpbmVzcz1cInRvUHJldmlvdXNcIixbdCxuXX1yZXR1cm4gdC5yYW5nZT10LnJhbmdlLl9nZXRUcmFuc2Zvcm1lZEJ5U3BsaXRPcGVyYXRpb24oZSksW3RdfSkseWQob2MsdGMsKHQsZSk9Pntjb25zdCBuPVt0XTtpZih0LnNob3VsZFJlY2VpdmVBdHRyaWJ1dGVzJiZ0LnBvc2l0aW9uLmhhc1NhbWVQYXJlbnRBcyhlLnJhbmdlLnN0YXJ0KSYmZS5yYW5nZS5jb250YWluc1Bvc2l0aW9uKHQucG9zaXRpb24pKXtjb25zdCBvPVNkKHQsZS5rZXksZS5uZXdWYWx1ZSk7byYmbi5wdXNoKG8pfXJldHVybiBufSkseWQob2Msb2MsKHQsZSxuKT0+dC5wb3NpdGlvbi5pc0VxdWFsKGUucG9zaXRpb24pJiZuLmFJc1N0cm9uZz9bdF06KHQucG9zaXRpb249dC5wb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydE9wZXJhdGlvbihlKSxbdF0pKSx5ZChvYyxuYywodCxlKT0+KHQucG9zaXRpb249dC5wb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeU1vdmVPcGVyYXRpb24oZSksW3RdKSkseWQob2MsY2MsKHQsZSk9Pih0LnBvc2l0aW9uPXQucG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlTcGxpdE9wZXJhdGlvbihlKSxbdF0pKSx5ZChvYyxhYywodCxlKT0+KHQucG9zaXRpb249dC5wb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeU1lcmdlT3BlcmF0aW9uKGUpLFt0XSkpLHlkKGljLG9jLCh0LGUpPT4odC5vbGRSYW5nZSYmKHQub2xkUmFuZ2U9dC5vbGRSYW5nZS5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydE9wZXJhdGlvbihlKVswXSksdC5uZXdSYW5nZSYmKHQubmV3UmFuZ2U9dC5uZXdSYW5nZS5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydE9wZXJhdGlvbihlKVswXSksW3RdKSkseWQoaWMsaWMsKHQsZSxuKT0+e2lmKHQubmFtZT09ZS5uYW1lKXtpZighbi5hSXNTdHJvbmcpcmV0dXJuW25ldyB2ZCgwKV07dC5vbGRSYW5nZT1lLm5ld1JhbmdlP3FzLmNyZWF0ZUZyb21SYW5nZShlLm5ld1JhbmdlKTpudWxsfXJldHVyblt0XX0pLHlkKGljLGFjLCh0LGUpPT4odC5vbGRSYW5nZSYmKHQub2xkUmFuZ2U9dC5vbGRSYW5nZS5fZ2V0VHJhbnNmb3JtZWRCeU1lcmdlT3BlcmF0aW9uKGUpKSx0Lm5ld1JhbmdlJiYodC5uZXdSYW5nZT10Lm5ld1JhbmdlLl9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24oZSkpLFt0XSkpLHlkKGljLG5jLCh0LGUpPT4odC5vbGRSYW5nZSYmKHQub2xkUmFuZ2U9cXMuY3JlYXRlRnJvbVJhbmdlcyh0Lm9sZFJhbmdlLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZU9wZXJhdGlvbihlKSkpLHQubmV3UmFuZ2UmJih0Lm5ld1JhbmdlPXFzLmNyZWF0ZUZyb21SYW5nZXModC5uZXdSYW5nZS5fZ2V0VHJhbnNmb3JtZWRCeU1vdmVPcGVyYXRpb24oZSkpKSxbdF0pKSx5ZChpYyxjYywodCxlKT0+KHQub2xkUmFuZ2UmJih0Lm9sZFJhbmdlPXQub2xkUmFuZ2UuX2dldFRyYW5zZm9ybWVkQnlTcGxpdE9wZXJhdGlvbihlKSksdC5uZXdSYW5nZSYmKHQubmV3UmFuZ2U9dC5uZXdSYW5nZS5fZ2V0VHJhbnNmb3JtZWRCeVNwbGl0T3BlcmF0aW9uKGUpKSxbdF0pKSx5ZChhYyxvYywodCxlKT0+KHQuc291cmNlUG9zaXRpb24uaGFzU2FtZVBhcmVudEFzKGUucG9zaXRpb24pJiYodC5ob3dNYW55Kz1lLmhvd01hbnkpLHQuc291cmNlUG9zaXRpb249dC5zb3VyY2VQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydE9wZXJhdGlvbihlKSx0LnRhcmdldFBvc2l0aW9uPXQudGFyZ2V0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRPcGVyYXRpb24oZSksW3RdKSkseWQoYWMsYWMsKHQsZSxuKT0+e2lmKHQuc291cmNlUG9zaXRpb24uaXNFcXVhbChlLnNvdXJjZVBvc2l0aW9uKSYmdC50YXJnZXRQb3NpdGlvbi5pc0VxdWFsKGUudGFyZ2V0UG9zaXRpb24pKXtpZihuLmJXYXNVbmRvbmUpe2NvbnN0IG49ZS5ncmF2ZXlhcmRQb3NpdGlvbi5wYXRoLnNsaWNlKCk7cmV0dXJuIG4ucHVzaCgwKSx0LnNvdXJjZVBvc2l0aW9uPW5ldyBIcyhlLmdyYXZleWFyZFBvc2l0aW9uLnJvb3QsbiksdC5ob3dNYW55PTAsW3RdfXJldHVybltuZXcgdmQoMCldfWlmKHQuc291cmNlUG9zaXRpb24uaXNFcXVhbChlLnNvdXJjZVBvc2l0aW9uKSYmIXQudGFyZ2V0UG9zaXRpb24uaXNFcXVhbChlLnRhcmdldFBvc2l0aW9uKSYmIW4uYldhc1VuZG9uZSl7Y29uc3Qgbz1cIiRncmF2ZXlhcmRcIj09dC50YXJnZXRQb3NpdGlvbi5yb290LnJvb3ROYW1lLGk9XCIkZ3JhdmV5YXJkXCI9PWUudGFyZ2V0UG9zaXRpb24ucm9vdC5yb290TmFtZTtpZihpJiYhb3x8IShvJiYhaSkmJm4uYUlzU3Ryb25nKXtjb25zdCBuPWUudGFyZ2V0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbihlKSxvPXQudGFyZ2V0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbihlKTtyZXR1cm5bbmV3IG5jKG4sdC5ob3dNYW55LG8sMCldfXJldHVybltuZXcgdmQoMCldfXJldHVybiB0LnNvdXJjZVBvc2l0aW9uLmhhc1NhbWVQYXJlbnRBcyhlLnRhcmdldFBvc2l0aW9uKSYmKHQuaG93TWFueSs9ZS5ob3dNYW55KSx0LnNvdXJjZVBvc2l0aW9uPXQuc291cmNlUG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbihlKSx0LnRhcmdldFBvc2l0aW9uPXQudGFyZ2V0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbihlKSx0LmdyYXZleWFyZFBvc2l0aW9uLmlzRXF1YWwoZS5ncmF2ZXlhcmRQb3NpdGlvbikmJm4uYUlzU3Ryb25nfHwodC5ncmF2ZXlhcmRQb3NpdGlvbj10LmdyYXZleWFyZFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24oZSkpLFt0XX0pLHlkKGFjLG5jLCh0LGUsbik9Pntjb25zdCBvPXFzLmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KGUuc291cmNlUG9zaXRpb24sZS5ob3dNYW55KTtyZXR1cm5cInJlbW92ZVwiPT1lLnR5cGUmJiFuLmJXYXNVbmRvbmUmJnQuZGVsZXRpb25Qb3NpdGlvbi5oYXNTYW1lUGFyZW50QXMoZS5zb3VyY2VQb3NpdGlvbikmJm8uY29udGFpbnNQb3NpdGlvbih0LnNvdXJjZVBvc2l0aW9uKT9bbmV3IHZkKDApXToodC5zb3VyY2VQb3NpdGlvbi5oYXNTYW1lUGFyZW50QXMoZS50YXJnZXRQb3NpdGlvbikmJih0Lmhvd01hbnkrPWUuaG93TWFueSksdC5zb3VyY2VQb3NpdGlvbi5oYXNTYW1lUGFyZW50QXMoZS5zb3VyY2VQb3NpdGlvbikmJih0Lmhvd01hbnktPWUuaG93TWFueSksdC5zb3VyY2VQb3NpdGlvbj10LnNvdXJjZVBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZU9wZXJhdGlvbihlKSx0LnRhcmdldFBvc2l0aW9uPXQudGFyZ2V0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlNb3ZlT3BlcmF0aW9uKGUpLHQuZ3JhdmV5YXJkUG9zaXRpb24uaXNFcXVhbChlLnRhcmdldFBvc2l0aW9uKXx8KHQuZ3JhdmV5YXJkUG9zaXRpb249dC5ncmF2ZXlhcmRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeU1vdmVPcGVyYXRpb24oZSkpLFt0XSl9KSx5ZChhYyxjYywodCxlLG4pPT57aWYoZS5ncmF2ZXlhcmRQb3NpdGlvbiYmKHQuZ3JhdmV5YXJkUG9zaXRpb249dC5ncmF2ZXlhcmRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKGUuZ3JhdmV5YXJkUG9zaXRpb24sMSksdC5kZWxldGlvblBvc2l0aW9uLmlzRXF1YWwoZS5ncmF2ZXlhcmRQb3NpdGlvbikmJih0Lmhvd01hbnk9ZS5ob3dNYW55KSksdC50YXJnZXRQb3NpdGlvbi5pc0VxdWFsKGUuc3BsaXRQb3NpdGlvbikpe2NvbnN0IG89MCE9ZS5ob3dNYW55LGk9ZS5ncmF2ZXlhcmRQb3NpdGlvbiYmdC5kZWxldGlvblBvc2l0aW9uLmlzRXF1YWwoZS5ncmF2ZXlhcmRQb3NpdGlvbik7aWYob3x8aXx8XCJtZXJnZVRhcmdldE5vdE1vdmVkXCI9PW4uYWJSZWxhdGlvbilyZXR1cm4gdC5zb3VyY2VQb3NpdGlvbj10LnNvdXJjZVBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5U3BsaXRPcGVyYXRpb24oZSksW3RdfXJldHVybiB0LnNvdXJjZVBvc2l0aW9uLmlzRXF1YWwoZS5zcGxpdFBvc2l0aW9uKSYmXCJtZXJnZVNhbWVFbGVtZW50XCI9PW4uYWJSZWxhdGlvbj8odC5zb3VyY2VQb3NpdGlvbj1Icy5jcmVhdGVGcm9tUG9zaXRpb24oZS5tb3ZlVGFyZ2V0UG9zaXRpb24pLHQudGFyZ2V0UG9zaXRpb249dC50YXJnZXRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeVNwbGl0T3BlcmF0aW9uKGUpLFt0XSk6KHQuc291cmNlUG9zaXRpb24uaGFzU2FtZVBhcmVudEFzKGUuc3BsaXRQb3NpdGlvbikmJih0Lmhvd01hbnk9ZS5zcGxpdFBvc2l0aW9uLm9mZnNldCksdC5zb3VyY2VQb3NpdGlvbj10LnNvdXJjZVBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5U3BsaXRPcGVyYXRpb24oZSksdC50YXJnZXRQb3NpdGlvbj10LnRhcmdldFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5U3BsaXRPcGVyYXRpb24oZSksW3RdKX0pLHlkKG5jLG9jLCh0LGUpPT57Y29uc3Qgbj1xcy5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdCh0LnNvdXJjZVBvc2l0aW9uLHQuaG93TWFueSkuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRPcGVyYXRpb24oZSwhMSlbMF07cmV0dXJuIHQuc291cmNlUG9zaXRpb249bi5zdGFydCx0Lmhvd01hbnk9bi5lbmQub2Zmc2V0LW4uc3RhcnQub2Zmc2V0LHQudGFyZ2V0UG9zaXRpb24uaXNFcXVhbChlLnBvc2l0aW9uKXx8KHQudGFyZ2V0UG9zaXRpb249dC50YXJnZXRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydE9wZXJhdGlvbihlKSksW3RdfSkseWQobmMsbmMsKHQsZSxuKT0+e2NvbnN0IG89cXMuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQodC5zb3VyY2VQb3NpdGlvbix0Lmhvd01hbnkpLGk9cXMuY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQoZS5zb3VyY2VQb3NpdGlvbixlLmhvd01hbnkpO2xldCByLHM9bi5hSXNTdHJvbmcsYT0hbi5hSXNTdHJvbmc7aWYoXCJpbnNlcnRCZWZvcmVcIj09bi5hYlJlbGF0aW9uP2E9ITA6XCJpbnNlcnRBZnRlclwiPT1uLmFiUmVsYXRpb24mJihhPSExKSxyPXQudGFyZ2V0UG9zaXRpb24uaXNFcXVhbChlLnRhcmdldFBvc2l0aW9uKSYmYT90LnRhcmdldFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24oZS5zb3VyY2VQb3NpdGlvbixlLmhvd01hbnkpOnQudGFyZ2V0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlNb3ZlKGUuc291cmNlUG9zaXRpb24sZS50YXJnZXRQb3NpdGlvbixlLmhvd01hbnkpLEVkKHQsZSkmJkVkKGUsdCkpcmV0dXJuW2UuZ2V0UmV2ZXJzZWQoKV07aWYoby5jb250YWluc1Bvc2l0aW9uKGUudGFyZ2V0UG9zaXRpb24pJiZvLmNvbnRhaW5zUmFuZ2UoaSwhMCkpcmV0dXJuIG8uc3RhcnQ9by5zdGFydC5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUoZS5zb3VyY2VQb3NpdGlvbixlLnRhcmdldFBvc2l0aW9uLGUuaG93TWFueSksby5lbmQ9by5lbmQuX2dldFRyYW5zZm9ybWVkQnlNb3ZlKGUuc291cmNlUG9zaXRpb24sZS50YXJnZXRQb3NpdGlvbixlLmhvd01hbnkpLElkKFtvXSxyKTtpZihpLmNvbnRhaW5zUG9zaXRpb24odC50YXJnZXRQb3NpdGlvbikmJmkuY29udGFpbnNSYW5nZShvLCEwKSlyZXR1cm4gby5zdGFydD1vLnN0YXJ0Ll9nZXRDb21iaW5lZChlLnNvdXJjZVBvc2l0aW9uLGUuZ2V0TW92ZWRSYW5nZVN0YXJ0KCkpLG8uZW5kPW8uZW5kLl9nZXRDb21iaW5lZChlLnNvdXJjZVBvc2l0aW9uLGUuZ2V0TW92ZWRSYW5nZVN0YXJ0KCkpLElkKFtvXSxyKTtjb25zdCBjPVUodC5zb3VyY2VQb3NpdGlvbi5nZXRQYXJlbnRQYXRoKCksZS5zb3VyY2VQb3NpdGlvbi5nZXRQYXJlbnRQYXRoKCkpO2lmKFwicHJlZml4XCI9PWN8fFwiZXh0ZW5zaW9uXCI9PWMpcmV0dXJuIG8uc3RhcnQ9by5zdGFydC5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUoZS5zb3VyY2VQb3NpdGlvbixlLnRhcmdldFBvc2l0aW9uLGUuaG93TWFueSksby5lbmQ9by5lbmQuX2dldFRyYW5zZm9ybWVkQnlNb3ZlKGUuc291cmNlUG9zaXRpb24sZS50YXJnZXRQb3NpdGlvbixlLmhvd01hbnkpLElkKFtvXSxyKTtcInJlbW92ZVwiIT10LnR5cGV8fFwicmVtb3ZlXCI9PWUudHlwZXx8bi5hV2FzVW5kb25lP1wicmVtb3ZlXCI9PXQudHlwZXx8XCJyZW1vdmVcIiE9ZS50eXBlfHxuLmJXYXNVbmRvbmV8fChzPSExKTpzPSEwO2NvbnN0IGw9W10sZD1vLmdldERpZmZlcmVuY2UoaSk7Zm9yKGNvbnN0IHQgb2YgZCl7dC5zdGFydD10LnN0YXJ0Ll9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24oZS5zb3VyY2VQb3NpdGlvbixlLmhvd01hbnkpLHQuZW5kPXQuZW5kLl9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24oZS5zb3VyY2VQb3NpdGlvbixlLmhvd01hbnkpO2NvbnN0IG49XCJzYW1lXCI9PVUodC5zdGFydC5nZXRQYXJlbnRQYXRoKCksZS5nZXRNb3ZlZFJhbmdlU3RhcnQoKS5nZXRQYXJlbnRQYXRoKCkpLG89dC5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbihlLmdldE1vdmVkUmFuZ2VTdGFydCgpLGUuaG93TWFueSxuKTtsLnB1c2goLi4ubyl9Y29uc3QgdT1vLmdldEludGVyc2VjdGlvbihpKTtyZXR1cm4gbnVsbCE9PXUmJnMmJih1LnN0YXJ0PXUuc3RhcnQuX2dldENvbWJpbmVkKGUuc291cmNlUG9zaXRpb24sZS5nZXRNb3ZlZFJhbmdlU3RhcnQoKSksdS5lbmQ9dS5lbmQuX2dldENvbWJpbmVkKGUuc291cmNlUG9zaXRpb24sZS5nZXRNb3ZlZFJhbmdlU3RhcnQoKSksMD09PWwubGVuZ3RoP2wucHVzaCh1KToxPT1sLmxlbmd0aD9pLnN0YXJ0LmlzQmVmb3JlKG8uc3RhcnQpfHxpLnN0YXJ0LmlzRXF1YWwoby5zdGFydCk/bC51bnNoaWZ0KHUpOmwucHVzaCh1KTpsLnNwbGljZSgxLDAsdSkpLDA9PT1sLmxlbmd0aD9bbmV3IHZkKHQuYmFzZVZlcnNpb24pXTpJZChsLHIpfSkseWQobmMsY2MsKHQsZSxuKT0+e2xldCBvPUhzLmNyZWF0ZUZyb21Qb3NpdGlvbih0LnRhcmdldFBvc2l0aW9uKTt0LnRhcmdldFBvc2l0aW9uLmlzRXF1YWwoZS5pbnNlcnRpb25Qb3NpdGlvbikmJmUuZ3JhdmV5YXJkUG9zaXRpb258fChvPXQudGFyZ2V0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlTcGxpdE9wZXJhdGlvbihlKSk7Y29uc3QgaT1xcy5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdCh0LnNvdXJjZVBvc2l0aW9uLHQuaG93TWFueSk7aWYoaS5lbmQuaXNFcXVhbChlLmluc2VydGlvblBvc2l0aW9uKSlyZXR1cm4gZS5ncmF2ZXlhcmRQb3NpdGlvbnx8dC5ob3dNYW55KyssdC50YXJnZXRQb3NpdGlvbj1vLFt0XTtpZihpLnN0YXJ0Lmhhc1NhbWVQYXJlbnRBcyhlLnNwbGl0UG9zaXRpb24pJiZpLmNvbnRhaW5zUG9zaXRpb24oZS5zcGxpdFBvc2l0aW9uKSl7bGV0IHQ9bmV3IHFzKGUuc3BsaXRQb3NpdGlvbixpLmVuZCk7cmV0dXJuIHQ9dC5fZ2V0VHJhbnNmb3JtZWRCeVNwbGl0T3BlcmF0aW9uKGUpLElkKFtuZXcgcXMoaS5zdGFydCxlLnNwbGl0UG9zaXRpb24pLHRdLG8pfXQudGFyZ2V0UG9zaXRpb24uaXNFcXVhbChlLnNwbGl0UG9zaXRpb24pJiZcImluc2VydEF0U291cmNlXCI9PW4uYWJSZWxhdGlvbiYmKG89ZS5tb3ZlVGFyZ2V0UG9zaXRpb24pLHQudGFyZ2V0UG9zaXRpb24uaXNFcXVhbChlLmluc2VydGlvblBvc2l0aW9uKSYmXCJpbnNlcnRCZXR3ZWVuXCI9PW4uYWJSZWxhdGlvbiYmKG89dC50YXJnZXRQb3NpdGlvbik7Y29uc3Qgcj1pLl9nZXRUcmFuc2Zvcm1lZEJ5U3BsaXRPcGVyYXRpb24oZSk7cmV0dXJuIHQuc291cmNlUG9zaXRpb249ci5zdGFydCx0Lmhvd01hbnk9ci5lbmQub2Zmc2V0LXIuc3RhcnQub2Zmc2V0LHQudGFyZ2V0UG9zaXRpb249byxbdF19KSx5ZChuYyxhYywodCxlLG4pPT57Y29uc3Qgbz1xcy5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdCh0LnNvdXJjZVBvc2l0aW9uLHQuaG93TWFueSk7aWYoZS5kZWxldGlvblBvc2l0aW9uLmhhc1NhbWVQYXJlbnRBcyh0LnNvdXJjZVBvc2l0aW9uKSYmby5jb250YWluc1Bvc2l0aW9uKGUuc291cmNlUG9zaXRpb24pKWlmKFwicmVtb3ZlXCI9PXQudHlwZSl7aWYoIW4uYVdhc1VuZG9uZSlyZXR1cm5bZS5nZXRSZXZlcnNlZCgpLHRdfWVsc2UgaWYoMT09dC5ob3dNYW55KXJldHVybiBuLmJXYXNVbmRvbmU/KHQuc291cmNlUG9zaXRpb249SHMuY3JlYXRlRnJvbVBvc2l0aW9uKGUuZ3JhdmV5YXJkUG9zaXRpb24pLHQudGFyZ2V0UG9zaXRpb249dC50YXJnZXRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeU1lcmdlT3BlcmF0aW9uKGUpLFt0XSk6W25ldyB2ZCgwKV07Y29uc3QgaT1xcy5jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdCh0LnNvdXJjZVBvc2l0aW9uLHQuaG93TWFueSkuX2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbihlKTtyZXR1cm4gdC5zb3VyY2VQb3NpdGlvbj1pLnN0YXJ0LHQuaG93TWFueT1pLmVuZC5vZmZzZXQtaS5zdGFydC5vZmZzZXQsdC50YXJnZXRQb3NpdGlvbj10LnRhcmdldFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24oZSksW3RdfSkseWQocmMsb2MsKHQsZSk9Pih0LnBvc2l0aW9uPXQucG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRPcGVyYXRpb24oZSksW3RdKSkseWQocmMsYWMsKHQsZSk9PnQucG9zaXRpb24uaXNFcXVhbChlLmRlbGV0aW9uUG9zaXRpb24pPyh0LnBvc2l0aW9uPUhzLmNyZWF0ZUZyb21Qb3NpdGlvbihlLmdyYXZleWFyZFBvc2l0aW9uKSx0LnBvc2l0aW9uLnN0aWNraW5lc3M9XCJ0b05leHRcIixbdF0pOih0LnBvc2l0aW9uPXQucG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbihlKSxbdF0pKSx5ZChyYyxuYywodCxlKT0+KHQucG9zaXRpb249dC5wb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeU1vdmVPcGVyYXRpb24oZSksW3RdKSkseWQocmMscmMsKHQsZSxuKT0+e2lmKHQucG9zaXRpb24uaXNFcXVhbChlLnBvc2l0aW9uKSl7aWYoIW4uYUlzU3Ryb25nKXJldHVybltuZXcgdmQoMCldO3Qub2xkTmFtZT1lLm5ld05hbWV9cmV0dXJuW3RdfSkseWQocmMsY2MsKHQsZSk9PntpZihcInNhbWVcIj09VSh0LnBvc2l0aW9uLnBhdGgsZS5zcGxpdFBvc2l0aW9uLmdldFBhcmVudFBhdGgoKSkmJiFlLmdyYXZleWFyZFBvc2l0aW9uKXtyZXR1cm5bdCxuZXcgcmModC5wb3NpdGlvbi5nZXRTaGlmdGVkQnkoMSksdC5vbGROYW1lLHQubmV3TmFtZSwwKV19cmV0dXJuIHQucG9zaXRpb249dC5wb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeVNwbGl0T3BlcmF0aW9uKGUpLFt0XX0pLHlkKHNjLHNjLCh0LGUsbik9PntpZih0LnJvb3Q9PT1lLnJvb3QmJnQua2V5PT09ZS5rZXkpe2lmKCFuLmFJc1N0cm9uZ3x8dC5uZXdWYWx1ZT09PWUubmV3VmFsdWUpcmV0dXJuW25ldyB2ZCgwKV07dC5vbGRWYWx1ZT1lLm5ld1ZhbHVlfXJldHVyblt0XX0pLHlkKGNjLG9jLCh0LGUpPT4odC5zcGxpdFBvc2l0aW9uLmhhc1NhbWVQYXJlbnRBcyhlLnBvc2l0aW9uKSYmdC5zcGxpdFBvc2l0aW9uLm9mZnNldDxlLnBvc2l0aW9uLm9mZnNldCYmKHQuaG93TWFueSs9ZS5ob3dNYW55KSx0LnNwbGl0UG9zaXRpb249dC5zcGxpdFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0T3BlcmF0aW9uKGUpLHQuaW5zZXJ0aW9uUG9zaXRpb249Y2MuZ2V0SW5zZXJ0aW9uUG9zaXRpb24odC5zcGxpdFBvc2l0aW9uKSxbdF0pKSx5ZChjYyxhYywodCxlLG4pPT57aWYoIXQuZ3JhdmV5YXJkUG9zaXRpb24mJiFuLmJXYXNVbmRvbmUmJnQuc3BsaXRQb3NpdGlvbi5oYXNTYW1lUGFyZW50QXMoZS5zb3VyY2VQb3NpdGlvbikpe2NvbnN0IG49ZS5ncmF2ZXlhcmRQb3NpdGlvbi5wYXRoLnNsaWNlKCk7bi5wdXNoKDApO2NvbnN0IG89bmV3IEhzKGUuZ3JhdmV5YXJkUG9zaXRpb24ucm9vdCxuKSxpPWNjLmdldEluc2VydGlvblBvc2l0aW9uKG5ldyBIcyhlLmdyYXZleWFyZFBvc2l0aW9uLnJvb3QsbikpLHI9bmV3IGNjKG8sMCxudWxsLDApO3JldHVybiByLmluc2VydGlvblBvc2l0aW9uPWksdC5zcGxpdFBvc2l0aW9uPXQuc3BsaXRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeU1lcmdlT3BlcmF0aW9uKGUpLHQuaW5zZXJ0aW9uUG9zaXRpb249Y2MuZ2V0SW5zZXJ0aW9uUG9zaXRpb24odC5zcGxpdFBvc2l0aW9uKSx0LmdyYXZleWFyZFBvc2l0aW9uPUhzLmNyZWF0ZUZyb21Qb3NpdGlvbihyLmluc2VydGlvblBvc2l0aW9uKSx0LmdyYXZleWFyZFBvc2l0aW9uLnN0aWNraW5lc3M9XCJ0b05leHRcIixbcix0XX1yZXR1cm4gdC5zcGxpdFBvc2l0aW9uLmhhc1NhbWVQYXJlbnRBcyhlLmRlbGV0aW9uUG9zaXRpb24pJiYhdC5zcGxpdFBvc2l0aW9uLmlzQWZ0ZXIoZS5kZWxldGlvblBvc2l0aW9uKSYmdC5ob3dNYW55LS0sdC5zcGxpdFBvc2l0aW9uLmhhc1NhbWVQYXJlbnRBcyhlLnRhcmdldFBvc2l0aW9uKSYmKHQuaG93TWFueSs9ZS5ob3dNYW55KSx0LnNwbGl0UG9zaXRpb249dC5zcGxpdFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24oZSksdC5pbnNlcnRpb25Qb3NpdGlvbj1jYy5nZXRJbnNlcnRpb25Qb3NpdGlvbih0LnNwbGl0UG9zaXRpb24pLHQuZ3JhdmV5YXJkUG9zaXRpb24mJih0LmdyYXZleWFyZFBvc2l0aW9uPXQuZ3JhdmV5YXJkUG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbihlKSksW3RdfSkseWQoY2MsbmMsKHQsZSxuKT0+e3QuZ3JhdmV5YXJkUG9zaXRpb24mJih0LmdyYXZleWFyZFBvc2l0aW9uPXQuZ3JhdmV5YXJkUG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlNb3ZlT3BlcmF0aW9uKGUpKTtjb25zdCBvPXFzLmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KGUuc291cmNlUG9zaXRpb24sZS5ob3dNYW55KTtpZih0LnNwbGl0UG9zaXRpb24uaGFzU2FtZVBhcmVudEFzKGUuc291cmNlUG9zaXRpb24pJiZvLmNvbnRhaW5zUG9zaXRpb24odC5zcGxpdFBvc2l0aW9uKSl7Y29uc3Qgbj1lLmhvd01hbnktKHQuc3BsaXRQb3NpdGlvbi5vZmZzZXQtZS5zb3VyY2VQb3NpdGlvbi5vZmZzZXQpO3JldHVybiB0Lmhvd01hbnktPW4sdC5zcGxpdFBvc2l0aW9uLmhhc1NhbWVQYXJlbnRBcyhlLnRhcmdldFBvc2l0aW9uKSYmdC5zcGxpdFBvc2l0aW9uLm9mZnNldDxlLnRhcmdldFBvc2l0aW9uLm9mZnNldCYmKHQuaG93TWFueSs9ZS5ob3dNYW55KSx0LnNwbGl0UG9zaXRpb249SHMuY3JlYXRlRnJvbVBvc2l0aW9uKGUuc291cmNlUG9zaXRpb24pLHQuaW5zZXJ0aW9uUG9zaXRpb249Y2MuZ2V0SW5zZXJ0aW9uUG9zaXRpb24odC5zcGxpdFBvc2l0aW9uKSxbdF19cmV0dXJuIXQuc3BsaXRQb3NpdGlvbi5pc0VxdWFsKGUudGFyZ2V0UG9zaXRpb24pfHxcImluc2VydEF0U291cmNlXCIhPW4uYmFSZWxhdGlvbiYmXCJzcGxpdEJlZm9yZVwiIT1uLmFiUmVsYXRpb24/KHQuc3BsaXRQb3NpdGlvbi5oYXNTYW1lUGFyZW50QXMoZS5zb3VyY2VQb3NpdGlvbikmJnQuc3BsaXRQb3NpdGlvbi5vZmZzZXQ8PWUuc291cmNlUG9zaXRpb24ub2Zmc2V0JiYodC5ob3dNYW55LT1lLmhvd01hbnkpLHQuc3BsaXRQb3NpdGlvbi5oYXNTYW1lUGFyZW50QXMoZS50YXJnZXRQb3NpdGlvbikmJnQuc3BsaXRQb3NpdGlvbi5vZmZzZXQ8ZS50YXJnZXRQb3NpdGlvbi5vZmZzZXQmJih0Lmhvd01hbnkrPWUuaG93TWFueSksdC5zcGxpdFBvc2l0aW9uLnN0aWNraW5lc3M9XCJ0b05vbmVcIix0LnNwbGl0UG9zaXRpb249dC5zcGxpdFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZU9wZXJhdGlvbihlKSx0LnNwbGl0UG9zaXRpb24uc3RpY2tpbmVzcz1cInRvTmV4dFwiLHQuZ3JhdmV5YXJkUG9zaXRpb24/dC5pbnNlcnRpb25Qb3NpdGlvbj10Lmluc2VydGlvblBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZU9wZXJhdGlvbihlKTp0Lmluc2VydGlvblBvc2l0aW9uPWNjLmdldEluc2VydGlvblBvc2l0aW9uKHQuc3BsaXRQb3NpdGlvbiksW3RdKToodC5ob3dNYW55Kz1lLmhvd01hbnksdC5zcGxpdFBvc2l0aW9uPXQuc3BsaXRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKGUuc291cmNlUG9zaXRpb24sZS5ob3dNYW55KSx0Lmluc2VydGlvblBvc2l0aW9uPWNjLmdldEluc2VydGlvblBvc2l0aW9uKHQuc3BsaXRQb3NpdGlvbiksW3RdKX0pLHlkKGNjLGNjLCh0LGUsbik9PntpZih0LnNwbGl0UG9zaXRpb24uaXNFcXVhbChlLnNwbGl0UG9zaXRpb24pKXtpZighdC5ncmF2ZXlhcmRQb3NpdGlvbiYmIWUuZ3JhdmV5YXJkUG9zaXRpb24pcmV0dXJuW25ldyB2ZCgwKV07aWYodC5ncmF2ZXlhcmRQb3NpdGlvbiYmZS5ncmF2ZXlhcmRQb3NpdGlvbiYmdC5ncmF2ZXlhcmRQb3NpdGlvbi5pc0VxdWFsKGUuZ3JhdmV5YXJkUG9zaXRpb24pKXJldHVybltuZXcgdmQoMCldfWlmKHQuZ3JhdmV5YXJkUG9zaXRpb24mJmUuZ3JhdmV5YXJkUG9zaXRpb24mJnQuZ3JhdmV5YXJkUG9zaXRpb24uaXNFcXVhbChlLmdyYXZleWFyZFBvc2l0aW9uKSl7Y29uc3Qgbz1cIiRncmF2ZXlhcmRcIj09dC5zcGxpdFBvc2l0aW9uLnJvb3Qucm9vdE5hbWUsaT1cIiRncmF2ZXlhcmRcIj09ZS5zcGxpdFBvc2l0aW9uLnJvb3Qucm9vdE5hbWU7aWYoaSYmIW98fCEobyYmIWkpJiZuLmFJc1N0cm9uZyl7Y29uc3Qgbj1bXTtyZXR1cm4gZS5ob3dNYW55JiZuLnB1c2gobmV3IG5jKGUubW92ZVRhcmdldFBvc2l0aW9uLGUuaG93TWFueSxlLnNwbGl0UG9zaXRpb24sMCkpLHQuaG93TWFueSYmbi5wdXNoKG5ldyBuYyh0LnNwbGl0UG9zaXRpb24sdC5ob3dNYW55LHQubW92ZVRhcmdldFBvc2l0aW9uLDApKSxufXJldHVybltuZXcgdmQoMCldfWlmKHQuZ3JhdmV5YXJkUG9zaXRpb24mJih0LmdyYXZleWFyZFBvc2l0aW9uPXQuZ3JhdmV5YXJkUG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlTcGxpdE9wZXJhdGlvbihlKSksdC5zcGxpdFBvc2l0aW9uLmlzRXF1YWwoZS5pbnNlcnRpb25Qb3NpdGlvbikmJlwic3BsaXRCZWZvcmVcIj09bi5hYlJlbGF0aW9uKXJldHVybiB0Lmhvd01hbnkrKyxbdF07aWYoZS5zcGxpdFBvc2l0aW9uLmlzRXF1YWwodC5pbnNlcnRpb25Qb3NpdGlvbikmJlwic3BsaXRCZWZvcmVcIj09bi5iYVJlbGF0aW9uKXtjb25zdCBuPWUuaW5zZXJ0aW9uUG9zaXRpb24ucGF0aC5zbGljZSgpO24ucHVzaCgwKTtjb25zdCBvPW5ldyBIcyhlLmluc2VydGlvblBvc2l0aW9uLnJvb3Qsbik7cmV0dXJuW3QsbmV3IG5jKHQuaW5zZXJ0aW9uUG9zaXRpb24sMSxvLDApXX1yZXR1cm4gdC5zcGxpdFBvc2l0aW9uLmhhc1NhbWVQYXJlbnRBcyhlLnNwbGl0UG9zaXRpb24pJiZ0LnNwbGl0UG9zaXRpb24ub2Zmc2V0PGUuc3BsaXRQb3NpdGlvbi5vZmZzZXQmJih0Lmhvd01hbnktPWUuaG93TWFueSksdC5zcGxpdFBvc2l0aW9uPXQuc3BsaXRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeVNwbGl0T3BlcmF0aW9uKGUpLHQuaW5zZXJ0aW9uUG9zaXRpb249Y2MuZ2V0SW5zZXJ0aW9uUG9zaXRpb24odC5zcGxpdFBvc2l0aW9uKSxbdF19KTtjbGFzcyBOZCBleHRlbmRzIEdse2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuX3N0YWNrPVtdLHRoaXMuX2NyZWF0ZWRCYXRjaGVzPW5ldyBXZWFrU2V0LHRoaXMucmVmcmVzaCgpfXJlZnJlc2goKXt0aGlzLmlzRW5hYmxlZD10aGlzLl9zdGFjay5sZW5ndGg+MH1hZGRCYXRjaCh0KXtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbixuPXtyYW5nZXM6ZS5oYXNPd25SYW5nZT9BcnJheS5mcm9tKGUuZ2V0UmFuZ2VzKCkpOltdLGlzQmFja3dhcmQ6ZS5pc0JhY2t3YXJkfTt0aGlzLl9zdGFjay5wdXNoKHtiYXRjaDp0LHNlbGVjdGlvbjpufSksdGhpcy5yZWZyZXNoKCl9Y2xlYXJTdGFjaygpe3RoaXMuX3N0YWNrPVtdLHRoaXMucmVmcmVzaCgpfV9yZXN0b3JlU2VsZWN0aW9uKHQsZSxuKXtjb25zdCBvPXRoaXMuZWRpdG9yLm1vZGVsLGk9by5kb2N1bWVudCxyPVtdO2Zvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9T2QoZSxuKS5maW5kKHQ9PnQuc3RhcnQucm9vdCE9aS5ncmF2ZXlhcmQpO3QmJnIucHVzaCh0KX1yLmxlbmd0aCYmby5jaGFuZ2UodD0+e3Quc2V0U2VsZWN0aW9uKHIse2JhY2t3YXJkOmV9KX0pfV91bmRvKHQsZSl7Y29uc3Qgbj10aGlzLmVkaXRvci5tb2RlbCxvPW4uZG9jdW1lbnQ7dGhpcy5fY3JlYXRlZEJhdGNoZXMuYWRkKGUpO2NvbnN0IGk9dC5vcGVyYXRpb25zLnNsaWNlKCkuZmlsdGVyKHQ9PnQuaXNEb2N1bWVudE9wZXJhdGlvbik7aS5yZXZlcnNlKCk7Zm9yKGNvbnN0IHQgb2YgaSl7Y29uc3QgaT10LmJhc2VWZXJzaW9uKzEscj1BcnJheS5mcm9tKG8uaGlzdG9yeS5nZXRPcGVyYXRpb25zKGkpKSxzPUNkKFt0LmdldFJldmVyc2VkKCldLHIse3VzZVJlbGF0aW9uczohMCxkb2N1bWVudDp0aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudCxwYWRXaXRoTm9PcHM6ITF9KS5vcGVyYXRpb25zQTtmb3IoY29uc3QgaSBvZiBzKWUuYWRkT3BlcmF0aW9uKGkpLG4uYXBwbHlPcGVyYXRpb24oaSksby5oaXN0b3J5LnNldE9wZXJhdGlvbkFzVW5kb25lKHQsaSl9fX1mdW5jdGlvbiBPZCh0LGUpe2NvbnN0IG49dC5nZXRUcmFuc2Zvcm1lZEJ5T3BlcmF0aW9ucyhlKTtuLnNvcnQoKHQsZSk9PnQuc3RhcnQuaXNCZWZvcmUoZS5zdGFydCk/LTE6MSk7Zm9yKGxldCB0PTE7dDxuLmxlbmd0aDt0Kyspe2NvbnN0IGU9blt0LTFdLG89blt0XTtlLmVuZC5pc1RvdWNoaW5nKG8uc3RhcnQpJiYoZS5lbmQ9by5lbmQsbi5zcGxpY2UodCwxKSx0LS0pfXJldHVybiBufWNsYXNzIFJkIGV4dGVuZHMgTmR7ZXhlY3V0ZSh0PW51bGwpe2NvbnN0IGU9dD90aGlzLl9zdGFjay5maW5kSW5kZXgoZT0+ZS5iYXRjaD09dCk6dGhpcy5fc3RhY2subGVuZ3RoLTEsbj10aGlzLl9zdGFjay5zcGxpY2UoZSwxKVswXSxvPW5ldyBIYTt0aGlzLmVkaXRvci5tb2RlbC5lbnF1ZXVlQ2hhbmdlKG8sKCk9Pnt0aGlzLl91bmRvKG4uYmF0Y2gsbyk7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5oaXN0b3J5LmdldE9wZXJhdGlvbnMobi5iYXRjaC5iYXNlVmVyc2lvbik7dGhpcy5fcmVzdG9yZVNlbGVjdGlvbihuLnNlbGVjdGlvbi5yYW5nZXMsbi5zZWxlY3Rpb24uaXNCYWNrd2FyZCx0KSx0aGlzLmZpcmUoXCJyZXZlcnRcIixuLmJhdGNoLG8pfSksdGhpcy5yZWZyZXNoKCl9fWNsYXNzIERkIGV4dGVuZHMgTmR7ZXhlY3V0ZSgpe2NvbnN0IHQ9dGhpcy5fc3RhY2sucG9wKCksZT1uZXcgSGE7dGhpcy5lZGl0b3IubW9kZWwuZW5xdWV1ZUNoYW5nZShlLCgpPT57Y29uc3Qgbj10LmJhdGNoLm9wZXJhdGlvbnNbdC5iYXRjaC5vcGVyYXRpb25zLmxlbmd0aC0xXS5iYXNlVmVyc2lvbisxLG89dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuaGlzdG9yeS5nZXRPcGVyYXRpb25zKG4pO3RoaXMuX3Jlc3RvcmVTZWxlY3Rpb24odC5zZWxlY3Rpb24ucmFuZ2VzLHQuc2VsZWN0aW9uLmlzQmFja3dhcmQsbyksdGhpcy5fdW5kbyh0LmJhdGNoLGUpfSksdGhpcy5yZWZyZXNoKCl9fWNsYXNzIGpkIGV4dGVuZHMgVWx7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5fYmF0Y2hSZWdpc3RyeT1uZXcgV2Vha1NldH1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcjt0aGlzLl91bmRvQ29tbWFuZD1uZXcgUmQodCksdGhpcy5fcmVkb0NvbW1hbmQ9bmV3IERkKHQpLHQuY29tbWFuZHMuYWRkKFwidW5kb1wiLHRoaXMuX3VuZG9Db21tYW5kKSx0LmNvbW1hbmRzLmFkZChcInJlZG9cIix0aGlzLl9yZWRvQ29tbWFuZCksdGhpcy5saXN0ZW5Ubyh0Lm1vZGVsLFwiYXBwbHlPcGVyYXRpb25cIiwodCxlKT0+e2NvbnN0IG49ZVswXTtpZighbi5pc0RvY3VtZW50T3BlcmF0aW9uKXJldHVybjtjb25zdCBvPW4uYmF0Y2g7dGhpcy5fYmF0Y2hSZWdpc3RyeS5oYXMobyl8fFwidHJhbnNwYXJlbnRcIj09by50eXBlfHwodGhpcy5fcmVkb0NvbW1hbmQuX2NyZWF0ZWRCYXRjaGVzLmhhcyhvKT90aGlzLl91bmRvQ29tbWFuZC5hZGRCYXRjaChvKTp0aGlzLl91bmRvQ29tbWFuZC5fY3JlYXRlZEJhdGNoZXMuaGFzKG8pfHwodGhpcy5fdW5kb0NvbW1hbmQuYWRkQmF0Y2gobyksdGhpcy5fcmVkb0NvbW1hbmQuY2xlYXJTdGFjaygpKSx0aGlzLl9iYXRjaFJlZ2lzdHJ5LmFkZChvKSl9LHtwcmlvcml0eTpcImhpZ2hlc3RcIn0pLHRoaXMubGlzdGVuVG8odGhpcy5fdW5kb0NvbW1hbmQsXCJyZXZlcnRcIiwodCxlLG4pPT57dGhpcy5fcmVkb0NvbW1hbmQuYWRkQmF0Y2gobil9KSx0LmtleXN0cm9rZXMuc2V0KFwiQ1RSTCtaXCIsXCJ1bmRvXCIpLHQua2V5c3Ryb2tlcy5zZXQoXCJDVFJMK1lcIixcInJlZG9cIiksdC5rZXlzdHJva2VzLnNldChcIkNUUkwrU0hJRlQrWlwiLFwicmVkb1wiKX19big1MSk7Y2xhc3MgTGQgZXh0ZW5kcyBBbHtjb25zdHJ1Y3Rvcigpe3N1cGVyKCk7Y29uc3QgdD10aGlzLmJpbmRUZW1wbGF0ZTt0aGlzLnNldChcImNvbnRlbnRcIixcIlwiKSx0aGlzLnNldChcInZpZXdCb3hcIixcIjAgMCAyMCAyMFwiKSx0aGlzLnNldChcImZpbGxDb2xvclwiLFwiXCIpLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzpcInN2Z1wiLG5zOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2staWNvblwiXSx2aWV3Qm94OnQudG8oXCJ2aWV3Qm94XCIpfX0pfXJlbmRlcigpe3N1cGVyLnJlbmRlcigpLHRoaXMuX3VwZGF0ZVhNTENvbnRlbnQoKSx0aGlzLl9jb2xvckZpbGxQYXRocygpLHRoaXMub24oXCJjaGFuZ2U6Y29udGVudFwiLCgpPT57dGhpcy5fdXBkYXRlWE1MQ29udGVudCgpLHRoaXMuX2NvbG9yRmlsbFBhdGhzKCl9KSx0aGlzLm9uKFwiY2hhbmdlOmZpbGxDb2xvclwiLCgpPT57dGhpcy5fY29sb3JGaWxsUGF0aHMoKX0pfV91cGRhdGVYTUxDb250ZW50KCl7aWYodGhpcy5jb250ZW50KXtjb25zdCB0PShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcodGhpcy5jb250ZW50LnRyaW0oKSxcImltYWdlL3N2Zyt4bWxcIikucXVlcnlTZWxlY3RvcihcInN2Z1wiKSxlPXQuZ2V0QXR0cmlidXRlKFwidmlld0JveFwiKTtmb3IoZSYmKHRoaXMudmlld0JveD1lKSx0aGlzLmVsZW1lbnQuaW5uZXJIVE1MPVwiXCI7dC5jaGlsZE5vZGVzLmxlbmd0aD4wOyl0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodC5jaGlsZE5vZGVzWzBdKX19X2NvbG9yRmlsbFBhdGhzKCl7dGhpcy5maWxsQ29sb3ImJnRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNrLWljb25fX2ZpbGxcIikuZm9yRWFjaCh0PT57dC5zdHlsZS5maWxsPXRoaXMuZmlsbENvbG9yfSl9fW4oNTMpO2NsYXNzIFZkIGV4dGVuZHMgQWx7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5zZXQoXCJ0ZXh0XCIsXCJcIiksdGhpcy5zZXQoXCJwb3NpdGlvblwiLFwic1wiKTtjb25zdCBlPXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuc2V0VGVtcGxhdGUoe3RhZzpcInNwYW5cIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stdG9vbHRpcFwiLGUudG8oXCJwb3NpdGlvblwiLHQ9PlwiY2stdG9vbHRpcF9cIit0KSxlLmlmKFwidGV4dFwiLFwiY2staGlkZGVuXCIsdD0+IXQudHJpbSgpKV19LGNoaWxkcmVuOlt7dGFnOlwic3BhblwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay10b29sdGlwX190ZXh0XCJdfSxjaGlsZHJlbjpbe3RleHQ6ZS50byhcInRleHRcIil9XX1dfSl9fW4oNTUpO2NsYXNzIEZkIGV4dGVuZHMgQWx7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7Y29uc3QgZT10aGlzLmJpbmRUZW1wbGF0ZSxuPUUoKTt0aGlzLnNldChcImNsYXNzXCIpLHRoaXMuc2V0KFwibGFiZWxTdHlsZVwiKSx0aGlzLnNldChcImljb25cIiksdGhpcy5zZXQoXCJpc0VuYWJsZWRcIiwhMCksdGhpcy5zZXQoXCJpc09uXCIsITEpLHRoaXMuc2V0KFwiaXNWaXNpYmxlXCIsITApLHRoaXMuc2V0KFwia2V5c3Ryb2tlXCIpLHRoaXMuc2V0KFwibGFiZWxcIiksdGhpcy5zZXQoXCJ0YWJpbmRleFwiLC0xKSx0aGlzLnNldChcInRvb2x0aXBcIiksdGhpcy5zZXQoXCJ0b29sdGlwUG9zaXRpb25cIixcInNcIiksdGhpcy5zZXQoXCJ0eXBlXCIsXCJidXR0b25cIiksdGhpcy5zZXQoXCJ3aXRoVGV4dFwiLCExKSx0aGlzLmNoaWxkcmVuPXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpLHRoaXMudG9vbHRpcFZpZXc9dGhpcy5fY3JlYXRlVG9vbHRpcFZpZXcoKSx0aGlzLmxhYmVsVmlldz10aGlzLl9jcmVhdGVMYWJlbFZpZXcobiksdGhpcy5pY29uVmlldz1uZXcgTGQsdGhpcy5pY29uVmlldy5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7Y2xhc3M6XCJjay1idXR0b25fX2ljb25cIn19KSx0aGlzLmJpbmQoXCJfdG9vbHRpcFN0cmluZ1wiKS50byh0aGlzLFwidG9vbHRpcFwiLHRoaXMsXCJsYWJlbFwiLHRoaXMsXCJrZXlzdHJva2VcIix0aGlzLl9nZXRUb29sdGlwU3RyaW5nLmJpbmQodGhpcykpLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzpcImJ1dHRvblwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1idXR0b25cIixlLnRvKFwiY2xhc3NcIiksZS5pZihcImlzRW5hYmxlZFwiLFwiY2stZGlzYWJsZWRcIix0PT4hdCksZS5pZihcImlzVmlzaWJsZVwiLFwiY2staGlkZGVuXCIsdD0+IXQpLGUudG8oXCJpc09uXCIsdD0+dD9cImNrLW9uXCI6XCJjay1vZmZcIiksZS5pZihcIndpdGhUZXh0XCIsXCJjay1idXR0b25fd2l0aC10ZXh0XCIpXSx0eXBlOmUudG8oXCJ0eXBlXCIsdD0+dHx8XCJidXR0b25cIiksdGFiaW5kZXg6ZS50byhcInRhYmluZGV4XCIpLFwiYXJpYS1sYWJlbGxlZGJ5XCI6YGNrLWVkaXRvcl9fYXJpYS1sYWJlbF8ke259YCxcImFyaWEtZGlzYWJsZWRcIjplLmlmKFwiaXNFbmFibGVkXCIsITAsdD0+IXQpLFwiYXJpYS1wcmVzc2VkXCI6ZS5pZihcImlzT25cIiwhMCl9LGNoaWxkcmVuOnRoaXMuY2hpbGRyZW4sb246e21vdXNlZG93bjplLnRvKHQ9Pnt0LnByZXZlbnREZWZhdWx0KCl9KSxjbGljazplLnRvKHQ9Pnt0aGlzLmlzRW5hYmxlZD90aGlzLmZpcmUoXCJleGVjdXRlXCIpOnQucHJldmVudERlZmF1bHQoKX0pfX0pfXJlbmRlcigpe3N1cGVyLnJlbmRlcigpLHRoaXMuaWNvbiYmKHRoaXMuaWNvblZpZXcuYmluZChcImNvbnRlbnRcIikudG8odGhpcyxcImljb25cIiksdGhpcy5jaGlsZHJlbi5hZGQodGhpcy5pY29uVmlldykpLHRoaXMuY2hpbGRyZW4uYWRkKHRoaXMudG9vbHRpcFZpZXcpLHRoaXMuY2hpbGRyZW4uYWRkKHRoaXMubGFiZWxWaWV3KX1mb2N1cygpe3RoaXMuZWxlbWVudC5mb2N1cygpfV9jcmVhdGVUb29sdGlwVmlldygpe2NvbnN0IHQ9bmV3IFZkO3JldHVybiB0LmJpbmQoXCJ0ZXh0XCIpLnRvKHRoaXMsXCJfdG9vbHRpcFN0cmluZ1wiKSx0LmJpbmQoXCJwb3NpdGlvblwiKS50byh0aGlzLFwidG9vbHRpcFBvc2l0aW9uXCIpLHR9X2NyZWF0ZUxhYmVsVmlldyh0KXtjb25zdCBlPW5ldyBBbCxuPXRoaXMuYmluZFRlbXBsYXRlO3JldHVybiBlLnNldFRlbXBsYXRlKHt0YWc6XCJzcGFuXCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLWJ1dHRvbl9fbGFiZWxcIl0sc3R5bGU6bi50byhcImxhYmVsU3R5bGVcIiksaWQ6YGNrLWVkaXRvcl9fYXJpYS1sYWJlbF8ke3R9YH0sY2hpbGRyZW46W3t0ZXh0OnRoaXMuYmluZFRlbXBsYXRlLnRvKFwibGFiZWxcIil9XX0pLGV9X2dldFRvb2x0aXBTdHJpbmcodCxlLG4pe3JldHVybiB0P1wic3RyaW5nXCI9PXR5cGVvZiB0P3Q6KG4mJihuPWZ1bmN0aW9uKHQpe3JldHVybiBsaS5pc01hYz9naSh0KS5tYXAodD0+dWlbdC50b0xvd2VyQ2FzZSgpXXx8dCkucmVkdWNlKCh0LGUpPT50LnNsaWNlKC0xKWluIGRpP3QrZTp0K1wiK1wiK2UpOnR9KG4pKSx0IGluc3RhbmNlb2YgRnVuY3Rpb24/dChlLG4pOmAke2V9JHtuP2AgKCR7bn0pYDpcIlwifWApOlwiXCJ9fXZhciB6ZD1uKDIwKSxCZD1uLm4oemQpLFVkPW4oMjEpLEhkPW4ubihVZCk7Y2xhc3MgcWQgZXh0ZW5kcyBVbHtpbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvci50O3RoaXMuX2FkZEJ1dHRvbihcInVuZG9cIix0KFwiYXpcIiksXCJDVFJMK1pcIixCZC5hKSx0aGlzLl9hZGRCdXR0b24oXCJyZWRvXCIsdChcImJhXCIpLFwiQ1RSTCtZXCIsSGQuYSl9X2FkZEJ1dHRvbih0LGUsbixvKXtjb25zdCBpPXRoaXMuZWRpdG9yO2kudWkuY29tcG9uZW50RmFjdG9yeS5hZGQodCxyPT57Y29uc3Qgcz1pLmNvbW1hbmRzLmdldCh0KSxhPW5ldyBGZChyKTtyZXR1cm4gYS5zZXQoe2xhYmVsOmUsaWNvbjpvLGtleXN0cm9rZTpuLHRvb2x0aXA6ITB9KSxhLmJpbmQoXCJpc0VuYWJsZWRcIikudG8ocyxcImlzRW5hYmxlZFwiKSx0aGlzLmxpc3RlblRvKGEsXCJleGVjdXRlXCIsKCk9PmkuZXhlY3V0ZSh0KSksYX0pfX1jbGFzcyBXZCBleHRlbmRzIFVse3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bamQscWRdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiVW5kb1wifX1jbGFzcyBZZCBleHRlbmRzIFVse3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiUGVuZGluZ0FjdGlvbnNcIn1pbml0KCl7dGhpcy5zZXQoXCJoYXNBbnlcIiwhMSksdGhpcy5fYWN0aW9ucz1uZXcgdGkoe2lkUHJvcGVydHk6XCJfaWRcIn0pLHRoaXMuX2FjdGlvbnMuZGVsZWdhdGUoXCJhZGRcIixcInJlbW92ZVwiKS50byh0aGlzKX1hZGQodCl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IE0uYihcInBlbmRpbmdhY3Rpb25zLWFkZC1pbnZhbGlkLW1lc3NhZ2U6IFRoZSBtZXNzYWdlIG11c3QgYmUgYSBzdHJpbmcuXCIpO2NvbnN0IGU9T2JqZWN0LmNyZWF0ZShMbyk7cmV0dXJuIGUuc2V0KFwibWVzc2FnZVwiLHQpLHRoaXMuX2FjdGlvbnMuYWRkKGUpLHRoaXMuaGFzQW55PSEwLGV9cmVtb3ZlKHQpe3RoaXMuX2FjdGlvbnMucmVtb3ZlKHQpLHRoaXMuaGFzQW55PSEhdGhpcy5fYWN0aW9ucy5sZW5ndGh9Z2V0IGZpcnN0KCl7cmV0dXJuIHRoaXMuX2FjdGlvbnMuZ2V0KDApfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXMuX2FjdGlvbnNbU3ltYm9sLml0ZXJhdG9yXSgpfX1jbGFzcyBHZHtjb25zdHJ1Y3Rvcigpe2NvbnN0IHQ9bmV3IHdpbmRvdy5GaWxlUmVhZGVyO3RoaXMuX3JlYWRlcj10LHRoaXMuc2V0KFwibG9hZGVkXCIsMCksdC5vbnByb2dyZXNzPSh0PT57dGhpcy5sb2FkZWQ9dC5sb2FkZWR9KX1nZXQgZXJyb3IoKXtyZXR1cm4gdGhpcy5fcmVhZGVyLmVycm9yfXJlYWQodCl7Y29uc3QgZT10aGlzLl9yZWFkZXI7cmV0dXJuIHRoaXMudG90YWw9dC5zaXplLG5ldyBQcm9taXNlKChuLG8pPT57ZS5vbmxvYWQ9KCgpPT57bihlLnJlc3VsdCl9KSxlLm9uZXJyb3I9KCgpPT57byhcImVycm9yXCIpfSksZS5vbmFib3J0PSgoKT0+e28oXCJhYm9ydGVkXCIpfSksdGhpcy5fcmVhZGVyLnJlYWRBc0RhdGFVUkwodCl9KX1hYm9ydCgpe3RoaXMuX3JlYWRlci5hYm9ydCgpfX1CKEdkLExvKTtjbGFzcyAkZCBleHRlbmRzIFVse3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiRmlsZVJlcG9zaXRvcnlcIn1zdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW1lkXX1pbml0KCl7dGhpcy5sb2FkZXJzPW5ldyB0aSx0aGlzLmxvYWRlcnMub24oXCJhZGRcIiwoKT0+dGhpcy5fdXBkYXRlUGVuZGluZ0FjdGlvbigpKSx0aGlzLmxvYWRlcnMub24oXCJyZW1vdmVcIiwoKT0+dGhpcy5fdXBkYXRlUGVuZGluZ0FjdGlvbigpKSx0aGlzLl9wZW5kaW5nQWN0aW9uPW51bGwsdGhpcy5zZXQoXCJ1cGxvYWRlZFwiLDApLHRoaXMuc2V0KFwidXBsb2FkVG90YWxcIixudWxsKSx0aGlzLmJpbmQoXCJ1cGxvYWRlZFBlcmNlbnRcIikudG8odGhpcyxcInVwbG9hZGVkXCIsdGhpcyxcInVwbG9hZFRvdGFsXCIsKHQsZSk9PmU/dC9lKjEwMDowKX1nZXRMb2FkZXIodCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5sb2FkZXJzKWlmKGUuZmlsZT09dClyZXR1cm4gZTtyZXR1cm4gbnVsbH1jcmVhdGVMb2FkZXIodCl7aWYoIXRoaXMuY3JlYXRlVXBsb2FkQWRhcHRlcilyZXR1cm4gZnMuYS5lcnJvcihcImZpbGVyZXBvc2l0b3J5LW5vLXVwbG9hZC1hZGFwdGVyOiBVcGxvYWQgYWRhcHRlciBpcyBub3QgZGVmaW5lZC5cIiksbnVsbDtjb25zdCBlPW5ldyBRZCh0KTtyZXR1cm4gZS5fYWRhcHRlcj10aGlzLmNyZWF0ZVVwbG9hZEFkYXB0ZXIoZSksdGhpcy5sb2FkZXJzLmFkZChlKSxlLm9uKFwiY2hhbmdlOnVwbG9hZGVkXCIsKCk9PntsZXQgdD0wO2Zvcihjb25zdCBlIG9mIHRoaXMubG9hZGVycyl0Kz1lLnVwbG9hZGVkO3RoaXMudXBsb2FkZWQ9dH0pLGUub24oXCJjaGFuZ2U6dXBsb2FkVG90YWxcIiwoKT0+e2xldCB0PTA7Zm9yKGNvbnN0IGUgb2YgdGhpcy5sb2FkZXJzKWUudXBsb2FkVG90YWwmJih0Kz1lLnVwbG9hZFRvdGFsKTt0aGlzLnVwbG9hZFRvdGFsPXR9KSxlfWRlc3Ryb3lMb2FkZXIodCl7Y29uc3QgZT10IGluc3RhbmNlb2YgUWQ/dDp0aGlzLmdldExvYWRlcih0KTtlLl9kZXN0cm95KCksdGhpcy5sb2FkZXJzLnJlbW92ZShlKX1fdXBkYXRlUGVuZGluZ0FjdGlvbigpe2NvbnN0IHQ9dGhpcy5lZGl0b3IucGx1Z2lucy5nZXQoWWQpO2lmKHRoaXMubG9hZGVycy5sZW5ndGgpe2lmKCF0aGlzLl9wZW5kaW5nQWN0aW9uKXtjb25zdCBlPXRoaXMuZWRpdG9yLnQsbj10PT5gJHtlKFwiYW9cIil9ICR7cGFyc2VJbnQodCl9JS5gO3RoaXMuX3BlbmRpbmdBY3Rpb249dC5hZGQobih0aGlzLnVwbG9hZGVkUGVyY2VudCkpLHRoaXMuX3BlbmRpbmdBY3Rpb24uYmluZChcIm1lc3NhZ2VcIikudG8odGhpcyxcInVwbG9hZGVkUGVyY2VudFwiLG4pfX1lbHNlIHQucmVtb3ZlKHRoaXMuX3BlbmRpbmdBY3Rpb24pLHRoaXMuX3BlbmRpbmdBY3Rpb249bnVsbH19QigkZCxMbyk7Y2xhc3MgUWR7Y29uc3RydWN0b3IodCxlKXt0aGlzLmlkPUUoKSx0aGlzLmZpbGU9dCx0aGlzLl9hZGFwdGVyPWUsdGhpcy5fcmVhZGVyPW5ldyBHZCx0aGlzLnNldChcInN0YXR1c1wiLFwiaWRsZVwiKSx0aGlzLnNldChcInVwbG9hZGVkXCIsMCksdGhpcy5zZXQoXCJ1cGxvYWRUb3RhbFwiLG51bGwpLHRoaXMuYmluZChcInVwbG9hZGVkUGVyY2VudFwiKS50byh0aGlzLFwidXBsb2FkZWRcIix0aGlzLFwidXBsb2FkVG90YWxcIiwodCxlKT0+ZT90L2UqMTAwOjApLHRoaXMuc2V0KFwidXBsb2FkUmVzcG9uc2VcIixudWxsKX1yZWFkKCl7aWYoXCJpZGxlXCIhPXRoaXMuc3RhdHVzKXRocm93IG5ldyBNLmIoXCJmaWxlcmVwb3NpdG9yeS1yZWFkLXdyb25nLXN0YXR1czogWW91IGNhbm5vdCBjYWxsIHJlYWQgaWYgdGhlIHN0YXR1cyBpcyBkaWZmZXJlbnQgdGhhbiBpZGxlLlwiKTtyZXR1cm4gdGhpcy5zdGF0dXM9XCJyZWFkaW5nXCIsdGhpcy5fcmVhZGVyLnJlYWQodGhpcy5maWxlKS50aGVuKHQ9Pih0aGlzLnN0YXR1cz1cImlkbGVcIix0KSkuY2F0Y2godD0+e2lmKFwiYWJvcnRlZFwiPT09dCl0aHJvdyB0aGlzLnN0YXR1cz1cImFib3J0ZWRcIixcImFib3J0ZWRcIjt0aHJvdyB0aGlzLnN0YXR1cz1cImVycm9yXCIsdGhpcy5fcmVhZGVyLmVycm9yfSl9dXBsb2FkKCl7aWYoXCJpZGxlXCIhPXRoaXMuc3RhdHVzKXRocm93IG5ldyBNLmIoXCJmaWxlcmVwb3NpdG9yeS11cGxvYWQtd3Jvbmctc3RhdHVzOiBZb3UgY2Fubm90IGNhbGwgdXBsb2FkIGlmIHRoZSBzdGF0dXMgaXMgZGlmZmVyZW50IHRoYW4gaWRsZS5cIik7cmV0dXJuIHRoaXMuc3RhdHVzPVwidXBsb2FkaW5nXCIsdGhpcy5fYWRhcHRlci51cGxvYWQoKS50aGVuKHQ9Pih0aGlzLnVwbG9hZFJlc3BvbnNlPXQsdGhpcy5zdGF0dXM9XCJpZGxlXCIsdCkpLmNhdGNoKHQ9PntpZihcImFib3J0ZWRcIj09PXRoaXMuc3RhdHVzKXRocm93XCJhYm9ydGVkXCI7dGhyb3cgdGhpcy5zdGF0dXM9XCJlcnJvclwiLHR9KX1hYm9ydCgpe2NvbnN0IHQ9dGhpcy5zdGF0dXM7dGhpcy5zdGF0dXM9XCJhYm9ydGVkXCIsXCJyZWFkaW5nXCI9PXQmJnRoaXMuX3JlYWRlci5hYm9ydCgpLFwidXBsb2FkaW5nXCI9PXQmJnRoaXMuX2FkYXB0ZXIuYWJvcnQmJnRoaXMuX2FkYXB0ZXIuYWJvcnQoKSx0aGlzLl9kZXN0cm95KCl9X2Rlc3Ryb3koKXt0aGlzLl9yZWFkZXI9dm9pZCAwLHRoaXMuX2FkYXB0ZXI9dm9pZCAwLHRoaXMuZGF0YT12b2lkIDAsdGhpcy51cGxvYWRSZXNwb25zZT12b2lkIDAsdGhpcy5maWxlPXZvaWQgMH19QihRZCxMbyk7Y29uc3QgSmQ9XCJja0NzcmZUb2tlblwiLEtkPTQwLFpkPVwiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5XCI7ZnVuY3Rpb24gWGQoKXtsZXQgdD1mdW5jdGlvbih0KXt0PXQudG9Mb3dlckNhc2UoKTtjb25zdCBlPWRvY3VtZW50LmNvb2tpZS5zcGxpdChcIjtcIik7Zm9yKGNvbnN0IG4gb2YgZSl7Y29uc3QgZT1uLnNwbGl0KFwiPVwiKSxvPWRlY29kZVVSSUNvbXBvbmVudChlWzBdLnRyaW0oKS50b0xvd2VyQ2FzZSgpKTtpZihvPT09dClyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVbMV0pfXJldHVybiBudWxsfShKZCk7cmV0dXJuIHQmJnQubGVuZ3RoPT1LZHx8KHQ9ZnVuY3Rpb24odCl7bGV0IGU9XCJcIjtjb25zdCBuPW5ldyBVaW50OEFycmF5KHQpO3dpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG4pO2ZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7dCsrKXtjb25zdCBvPVpkLmNoYXJBdChuW3RdJVpkLmxlbmd0aCk7ZSs9TWF0aC5yYW5kb20oKT4uNT9vLnRvVXBwZXJDYXNlKCk6b31yZXR1cm4gZX0oS2QpLGZ1bmN0aW9uKHQsZSl7ZG9jdW1lbnQuY29va2llPWVuY29kZVVSSUNvbXBvbmVudCh0KStcIj1cIitlbmNvZGVVUklDb21wb25lbnQoZSkrXCI7cGF0aD0vXCJ9KEpkLHQpKSx0fWNsYXNzIHR1e2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLmxvYWRlcj10LHRoaXMudXJsPWUsdGhpcy50PW59dXBsb2FkKCl7cmV0dXJuIG5ldyBQcm9taXNlKCh0LGUpPT57dGhpcy5faW5pdFJlcXVlc3QoKSx0aGlzLl9pbml0TGlzdGVuZXJzKHQsZSksdGhpcy5fc2VuZFJlcXVlc3QoKX0pfWFib3J0KCl7dGhpcy54aHImJnRoaXMueGhyLmFib3J0KCl9X2luaXRSZXF1ZXN0KCl7Y29uc3QgdD10aGlzLnhocj1uZXcgWE1MSHR0cFJlcXVlc3Q7dC5vcGVuKFwiUE9TVFwiLHRoaXMudXJsLCEwKSx0LnJlc3BvbnNlVHlwZT1cImpzb25cIn1faW5pdExpc3RlbmVycyh0LGUpe2NvbnN0IG49dGhpcy54aHIsbz10aGlzLmxvYWRlcixpPSgwLHRoaXMudCkoXCJhXCIpK2AgJHtvLmZpbGUubmFtZX0uYDtuLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCgpPT5lKGkpKSxuLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCgpPT5lKCkpLG4uYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwoKT0+e2NvbnN0IG89bi5yZXNwb25zZTtpZighb3x8IW8udXBsb2FkZWQpcmV0dXJuIGUobyYmby5lcnJvciYmby5lcnJvci5tZXNzYWdlP28uZXJyb3IubWVzc2FnZTppKTt0KHtkZWZhdWx0Om8udXJsfSl9KSxuLnVwbG9hZCYmbi51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsdD0+e3QubGVuZ3RoQ29tcHV0YWJsZSYmKG8udXBsb2FkVG90YWw9dC50b3RhbCxvLnVwbG9hZGVkPXQubG9hZGVkKX0pfV9zZW5kUmVxdWVzdCgpe2NvbnN0IHQ9bmV3IEZvcm1EYXRhO3QuYXBwZW5kKFwidXBsb2FkXCIsdGhpcy5sb2FkZXIuZmlsZSksdC5hcHBlbmQoXCJja0NzcmZUb2tlblwiLFhkKCkpLHRoaXMueGhyLnNlbmQodCl9fWNsYXNzIGV1e2NvbnN0cnVjdG9yKHQsZSxuKXtsZXQgbztpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuKW89bjtlbHNle2NvbnN0IGU9bjtvPSgoKT0+e3QuZXhlY3V0ZShlKX0pfXQubW9kZWwuZG9jdW1lbnQub24oXCJjaGFuZ2VcIiwobixpKT0+e2lmKFwidHJhbnNwYXJlbnRcIj09aS50eXBlKXJldHVybjtjb25zdCByPUFycmF5LmZyb20odC5tb2RlbC5kb2N1bWVudC5kaWZmZXIuZ2V0Q2hhbmdlcygpKSxzPXJbMF07aWYoMSE9ci5sZW5ndGh8fFwiaW5zZXJ0XCIhPT1zLnR5cGV8fFwiJHRleHRcIiE9cy5uYW1lfHwxIT1zLmxlbmd0aClyZXR1cm47Y29uc3QgYT1zLnBvc2l0aW9uLnRleHROb2RlfHxzLnBvc2l0aW9uLm5vZGVBZnRlcjtpZighYS5wYXJlbnQuaXMoXCJwYXJhZ3JhcGhcIikpcmV0dXJuO2NvbnN0IGM9ZS5leGVjKGEuZGF0YSk7YyYmdC5tb2RlbC5lbnF1ZXVlQ2hhbmdlKHQ9Pntjb25zdCBlPXFzLmNyZWF0ZUZyb21QYXJlbnRzQW5kT2Zmc2V0cyhhLnBhcmVudCwwLGEucGFyZW50LGNbMF0ubGVuZ3RoKTt0LnJlbW92ZShlKSxvKHttYXRjaDpjfSl9KX0pfX1jbGFzcyBudXtjb25zdHJ1Y3Rvcih0LGUsbil7bGV0IG8saSxyLHM7ZSBpbnN0YW5jZW9mIFJlZ0V4cD9vPWU6cj1lLFwic3RyaW5nXCI9PXR5cGVvZiBuP2k9bjpzPW4scj1yfHwodD0+e2xldCBlO2NvbnN0IG49W10saT1bXTtmb3IoO251bGwhPT0oZT1vLmV4ZWModCkpJiYhKGUmJmUubGVuZ3RoPDQpOyl7bGV0e2luZGV4OnQsMTpvLDI6ciwzOnN9PWU7Y29uc3QgYT1vK3IrcyxjPVt0Kz1lWzBdLmxlbmd0aC1hLmxlbmd0aCx0K28ubGVuZ3RoXSxsPVt0K28ubGVuZ3RoK3IubGVuZ3RoLHQrby5sZW5ndGgrci5sZW5ndGgrcy5sZW5ndGhdO24ucHVzaChjKSxuLnB1c2gobCksaS5wdXNoKFt0K28ubGVuZ3RoLHQrby5sZW5ndGgrci5sZW5ndGhdKX1yZXR1cm57cmVtb3ZlOm4sZm9ybWF0Oml9fSkscz1zfHwoKHQsZSk9Pntmb3IoY29uc3QgbiBvZiBlKXQuc2V0QXR0cmlidXRlKGksITAsbik7dC5yZW1vdmVTZWxlY3Rpb25BdHRyaWJ1dGUoaSl9KSx0Lm1vZGVsLmRvY3VtZW50Lm9uKFwiY2hhbmdlXCIsKGUsbik9PntpZihcInRyYW5zcGFyZW50XCI9PW4udHlwZSlyZXR1cm47Y29uc3Qgbz10Lm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbjtpZighby5pc0NvbGxhcHNlZClyZXR1cm47Y29uc3QgYT1BcnJheS5mcm9tKHQubW9kZWwuZG9jdW1lbnQuZGlmZmVyLmdldENoYW5nZXMoKSksYz1hWzBdO2lmKDEhPWEubGVuZ3RofHxcImluc2VydFwiIT09Yy50eXBlfHxcIiR0ZXh0XCIhPWMubmFtZXx8MSE9Yy5sZW5ndGgpcmV0dXJuO2NvbnN0IGw9by5mb2N1cy5wYXJlbnQsZD1mdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuZnJvbSh0LmdldENoaWxkcmVuKCkpLnJlZHVjZSgodCxlKT0+dCtlLmRhdGEsXCJcIil9KGwpLnNsaWNlKDAsby5mb2N1cy5vZmZzZXQpLHU9cihkKSxoPW91KGwsdS5mb3JtYXQpLGY9b3UobCx1LnJlbW92ZSk7aC5sZW5ndGgmJmYubGVuZ3RoJiZ0Lm1vZGVsLmVucXVldWVDaGFuZ2UoZT0+e2NvbnN0IG49dC5tb2RlbC5zY2hlbWEuZ2V0VmFsaWRSYW5nZXMoaCxpKTtzKGUsbik7Zm9yKGNvbnN0IHQgb2YgZi5yZXZlcnNlKCkpZS5yZW1vdmUodCl9KX0pfX1mdW5jdGlvbiBvdSh0LGUpe3JldHVybiBlLmZpbHRlcih0PT52b2lkIDAhPT10WzBdJiZ2b2lkIDAhPT10WzFdKS5tYXAoZT0+cXMuY3JlYXRlRnJvbVBhcmVudHNBbmRPZmZzZXRzKHQsZVswXSx0LGVbMV0pKX1jbGFzcyBpdSBleHRlbmRzIEdse2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy5hdHRyaWJ1dGVLZXk9ZX1yZWZyZXNoKCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbCxlPXQuZG9jdW1lbnQ7dGhpcy52YWx1ZT10aGlzLl9nZXRWYWx1ZUZyb21GaXJzdEFsbG93ZWROb2RlKCksdGhpcy5pc0VuYWJsZWQ9dC5zY2hlbWEuY2hlY2tBdHRyaWJ1dGVJblNlbGVjdGlvbihlLnNlbGVjdGlvbix0aGlzLmF0dHJpYnV0ZUtleSl9ZXhlY3V0ZSh0PXt9KXtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsLG49ZS5kb2N1bWVudC5zZWxlY3Rpb24sbz12b2lkIDA9PT10LmZvcmNlVmFsdWU/IXRoaXMudmFsdWU6dC5mb3JjZVZhbHVlO2UuY2hhbmdlKHQ9PntpZihuLmlzQ29sbGFwc2VkKW8/dC5zZXRTZWxlY3Rpb25BdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGVLZXksITApOnQucmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKHRoaXMuYXR0cmlidXRlS2V5KTtlbHNle2NvbnN0IGk9ZS5zY2hlbWEuZ2V0VmFsaWRSYW5nZXMobi5nZXRSYW5nZXMoKSx0aGlzLmF0dHJpYnV0ZUtleSk7Zm9yKGNvbnN0IGUgb2YgaSlvP3Quc2V0QXR0cmlidXRlKHRoaXMuYXR0cmlidXRlS2V5LG8sZSk6dC5yZW1vdmVBdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGVLZXksZSl9fSl9X2dldFZhbHVlRnJvbUZpcnN0QWxsb3dlZE5vZGUoKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLGU9dC5zY2hlbWEsbj10LmRvY3VtZW50LnNlbGVjdGlvbjtpZihuLmlzQ29sbGFwc2VkKXJldHVybiBuLmhhc0F0dHJpYnV0ZSh0aGlzLmF0dHJpYnV0ZUtleSk7Zm9yKGNvbnN0IHQgb2Ygbi5nZXRSYW5nZXMoKSlmb3IoY29uc3QgbiBvZiB0LmdldEl0ZW1zKCkpaWYoZS5jaGVja0F0dHJpYnV0ZShuLHRoaXMuYXR0cmlidXRlS2V5KSlyZXR1cm4gbi5oYXNBdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGVLZXkpO3JldHVybiExfX1jb25zdCBydT1cImJvbGRcIjtjbGFzcyBzdSBleHRlbmRzIFVse2luaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO3QubW9kZWwuc2NoZW1hLmV4dGVuZChcIiR0ZXh0XCIse2FsbG93QXR0cmlidXRlczpydX0pLHQuY29udmVyc2lvbi5hdHRyaWJ1dGVUb0VsZW1lbnQoe21vZGVsOnJ1LHZpZXc6XCJzdHJvbmdcIix1cGNhc3RBbHNvOltcImJcIix7c3R5bGVzOntcImZvbnQtd2VpZ2h0XCI6XCJib2xkXCJ9fV19KSx0LmNvbW1hbmRzLmFkZChydSxuZXcgaXUodCxydSkpLHQua2V5c3Ryb2tlcy5zZXQoXCJDVFJMK0JcIixydSl9fXZhciBhdT1uKDIyKSxjdT1uLm4oYXUpO2NvbnN0IGx1PVwiYm9sZFwiO2NsYXNzIGR1IGV4dGVuZHMgVWx7aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10LnQ7dC51aS5jb21wb25lbnRGYWN0b3J5LmFkZChsdSxuPT57Y29uc3Qgbz10LmNvbW1hbmRzLmdldChsdSksaT1uZXcgRmQobik7cmV0dXJuIGkuc2V0KHtsYWJlbDplKFwiY1wiKSxpY29uOmN1LmEsa2V5c3Ryb2tlOlwiQ1RSTCtCXCIsdG9vbHRpcDohMH0pLGkuYmluZChcImlzT25cIixcImlzRW5hYmxlZFwiKS50byhvLFwidmFsdWVcIixcImlzRW5hYmxlZFwiKSx0aGlzLmxpc3RlblRvKGksXCJleGVjdXRlXCIsKCk9PnQuZXhlY3V0ZShsdSkpLGl9KX19Y29uc3QgdXU9XCJpdGFsaWNcIjtjbGFzcyBodSBleHRlbmRzIFVse2luaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO3QubW9kZWwuc2NoZW1hLmV4dGVuZChcIiR0ZXh0XCIse2FsbG93QXR0cmlidXRlczp1dX0pLHQuY29udmVyc2lvbi5hdHRyaWJ1dGVUb0VsZW1lbnQoe21vZGVsOnV1LHZpZXc6XCJpXCIsdXBjYXN0QWxzbzpbXCJlbVwiLHtzdHlsZXM6e1wiZm9udC1zdHlsZVwiOlwiaXRhbGljXCJ9fV19KSx0LmNvbW1hbmRzLmFkZCh1dSxuZXcgaXUodCx1dSkpLHQua2V5c3Ryb2tlcy5zZXQoXCJDVFJMK0lcIix1dSl9fXZhciBmdT1uKDIzKSxtdT1uLm4oZnUpO2NvbnN0IGd1PVwiaXRhbGljXCI7Y2xhc3MgcHUgZXh0ZW5kcyBVbHtpbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQudDt0LnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKGd1LG49Pntjb25zdCBvPXQuY29tbWFuZHMuZ2V0KGd1KSxpPW5ldyBGZChuKTtyZXR1cm4gaS5zZXQoe2xhYmVsOmUoXCJiXCIpLGljb246bXUuYSxrZXlzdHJva2U6XCJDVFJMK0lcIix0b29sdGlwOiEwfSksaS5iaW5kKFwiaXNPblwiLFwiaXNFbmFibGVkXCIpLnRvKG8sXCJ2YWx1ZVwiLFwiaXNFbmFibGVkXCIpLHRoaXMubGlzdGVuVG8oaSxcImV4ZWN1dGVcIiwoKT0+dC5leGVjdXRlKGd1KSksaX0pfX1mdW5jdGlvbiBidSh0KXtjb25zdCBlPXQubmV4dCgpO3JldHVybiBlLmRvbmU/bnVsbDplLnZhbHVlfWNsYXNzIHd1IGV4dGVuZHMgR2x7cmVmcmVzaCgpe3RoaXMudmFsdWU9dGhpcy5fZ2V0VmFsdWUoKSx0aGlzLmlzRW5hYmxlZD10aGlzLl9jaGVja0VuYWJsZWQoKX1leGVjdXRlKCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbCxlPXQuZG9jdW1lbnQsbj10LnNjaGVtYSxvPUFycmF5LmZyb20oZS5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRCbG9ja3MoKSk7dC5jaGFuZ2UodD0+e2lmKHRoaXMudmFsdWUpdGhpcy5fcmVtb3ZlUXVvdGUodCxvLmZpbHRlcihfdSkpO2Vsc2V7Y29uc3QgZT1vLmZpbHRlcih0PT5fdSh0KXx8a3Uobix0KSk7dGhpcy5fYXBwbHlRdW90ZSh0LGUpfX0pfV9nZXRWYWx1ZSgpe2NvbnN0IHQ9YnUodGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCkpO3JldHVybiEoIXR8fCFfdSh0KSl9X2NoZWNrRW5hYmxlZCgpe2lmKHRoaXMudmFsdWUpcmV0dXJuITA7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24sZT10aGlzLmVkaXRvci5tb2RlbC5zY2hlbWEsbj1idSh0LmdldFNlbGVjdGVkQmxvY2tzKCkpO3JldHVybiEhbiYma3UoZSxuKX1fcmVtb3ZlUXVvdGUodCxlKXt2dShlKS5yZXZlcnNlKCkuZm9yRWFjaChlPT57aWYoZS5zdGFydC5pc0F0U3RhcnQmJmUuZW5kLmlzQXRFbmQpcmV0dXJuIHZvaWQgdC51bndyYXAoZS5zdGFydC5wYXJlbnQpO2lmKGUuc3RhcnQuaXNBdFN0YXJ0KXtjb25zdCBuPUhzLmNyZWF0ZUJlZm9yZShlLnN0YXJ0LnBhcmVudCk7cmV0dXJuIHZvaWQgdC5tb3ZlKGUsbil9ZS5lbmQuaXNBdEVuZHx8dC5zcGxpdChlLmVuZCk7Y29uc3Qgbj1Icy5jcmVhdGVBZnRlcihlLmVuZC5wYXJlbnQpO3QubW92ZShlLG4pfSl9X2FwcGx5UXVvdGUodCxlKXtjb25zdCBuPVtdO3Z1KGUpLnJldmVyc2UoKS5mb3JFYWNoKGU9PntsZXQgbz1fdShlLnN0YXJ0KTtvfHwobz1uZXcgRnMoXCJibG9ja1F1b3RlXCIpLHQud3JhcChlLG8pKSxuLnB1c2gobyl9KSxuLnJldmVyc2UoKS5yZWR1Y2UoKGUsbik9PmUubmV4dFNpYmxpbmc9PW4/KHQubWVyZ2UoSHMuY3JlYXRlQWZ0ZXIoZSkpLGUpOm4pfX1mdW5jdGlvbiBfdSh0KXtyZXR1cm5cImJsb2NrUXVvdGVcIj09dC5wYXJlbnQubmFtZT90LnBhcmVudDpudWxsfWZ1bmN0aW9uIHZ1KHQpe2xldCBlLG49MDtjb25zdCBvPVtdO2Zvcig7bjx0Lmxlbmd0aDspe2NvbnN0IGk9dFtuXSxyPXRbbisxXTtlfHwoZT1Icy5jcmVhdGVCZWZvcmUoaSkpLHImJmkubmV4dFNpYmxpbmc9PXJ8fChvLnB1c2gobmV3IHFzKGUsSHMuY3JlYXRlQWZ0ZXIoaSkpKSxlPW51bGwpLG4rK31yZXR1cm4gb31mdW5jdGlvbiBrdSh0LGUpe2NvbnN0IG49dC5jaGVja0NoaWxkKGUucGFyZW50LFwiYmxvY2tRdW90ZVwiKSxvPXQuY2hlY2tDaGlsZChbXCIkcm9vdFwiLFwiYmxvY2tRdW90ZVwiXSxlKTtyZXR1cm4gbiYmb31jbGFzcyB5dSBleHRlbmRzIFVse2luaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC5tb2RlbC5zY2hlbWE7dC5jb21tYW5kcy5hZGQoXCJibG9ja1F1b3RlXCIsbmV3IHd1KHQpKSxlLnJlZ2lzdGVyKFwiYmxvY2tRdW90ZVwiLHthbGxvd1doZXJlOlwiJGJsb2NrXCIsYWxsb3dDb250ZW50T2Y6XCIkcm9vdFwifSksZS5hZGRDaGlsZENoZWNrKCh0LGUpPT57aWYodC5lbmRzV2l0aChcImJsb2NrUXVvdGVcIikmJlwiYmxvY2tRdW90ZVwiPT1lLm5hbWUpcmV0dXJuITF9KSx0LmNvbnZlcnNpb24uZWxlbWVudFRvRWxlbWVudCh7bW9kZWw6XCJibG9ja1F1b3RlXCIsdmlldzpcImJsb2NrcXVvdGVcIn0pLHQubW9kZWwuZG9jdW1lbnQucmVnaXN0ZXJQb3N0Rml4ZXIobj0+e2NvbnN0IG89dC5tb2RlbC5kb2N1bWVudC5kaWZmZXIuZ2V0Q2hhbmdlcygpO2Zvcihjb25zdCB0IG9mIG8paWYoXCJpbnNlcnRcIj09dC50eXBlKXtjb25zdCBvPXQucG9zaXRpb24ubm9kZUFmdGVyO2lmKCFvKWNvbnRpbnVlO2lmKG8uaXMoXCJibG9ja1F1b3RlXCIpJiZvLmlzRW1wdHkpcmV0dXJuIG4ucmVtb3ZlKG8pLCEwO2lmKG8uaXMoXCJibG9ja1F1b3RlXCIpJiYhZS5jaGVja0NoaWxkKHQucG9zaXRpb24sbykpcmV0dXJuIG4udW53cmFwKG8pLCEwO2lmKG8uaXMoXCJlbGVtZW50XCIpKXtjb25zdCB0PXFzLmNyZWF0ZUluKG8pO2Zvcihjb25zdCBvIG9mIHQuZ2V0SXRlbXMoKSlpZihvLmlzKFwiYmxvY2tRdW90ZVwiKSYmIWUuY2hlY2tDaGlsZChIcy5jcmVhdGVCZWZvcmUobyksbykpcmV0dXJuIG4udW53cmFwKG8pLCEwfX1lbHNlIGlmKFwicmVtb3ZlXCI9PXQudHlwZSl7Y29uc3QgZT10LnBvc2l0aW9uLnBhcmVudDtpZihlLmlzKFwiYmxvY2tRdW90ZVwiKSYmZS5pc0VtcHR5KXJldHVybiBuLnJlbW92ZShlKSwhMH1yZXR1cm4hMX0pfWFmdGVySW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IuY29tbWFuZHMuZ2V0KFwiYmxvY2tRdW90ZVwiKTt0aGlzLmxpc3RlblRvKHRoaXMuZWRpdG9yLmVkaXRpbmcudmlldy5kb2N1bWVudCxcImVudGVyXCIsKGUsbik9Pntjb25zdCBvPXRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LGk9by5zZWxlY3Rpb24uZ2V0TGFzdFBvc2l0aW9uKCkucGFyZW50O28uc2VsZWN0aW9uLmlzQ29sbGFwc2VkJiZpLmlzRW1wdHkmJnQudmFsdWUmJih0aGlzLmVkaXRvci5leGVjdXRlKFwiYmxvY2tRdW90ZVwiKSx0aGlzLmVkaXRvci5lZGl0aW5nLnZpZXcuc2Nyb2xsVG9UaGVTZWxlY3Rpb24oKSxuLnByZXZlbnREZWZhdWx0KCksZS5zdG9wKCkpfSl9fXZhciB4dT1uKDI0KSxBdT1uLm4oeHUpO24oNTcpO2NsYXNzIEN1IGV4dGVuZHMgVWx7aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10LnQ7dC51aS5jb21wb25lbnRGYWN0b3J5LmFkZChcImJsb2NrUXVvdGVcIixuPT57Y29uc3Qgbz10LmNvbW1hbmRzLmdldChcImJsb2NrUXVvdGVcIiksaT1uZXcgRmQobik7cmV0dXJuIGkuc2V0KHtsYWJlbDplKFwiZFwiKSxpY29uOkF1LmEsdG9vbHRpcDohMH0pLGkuYmluZChcImlzT25cIixcImlzRW5hYmxlZFwiKS50byhvLFwidmFsdWVcIixcImlzRW5hYmxlZFwiKSx0aGlzLmxpc3RlblRvKGksXCJleGVjdXRlXCIsKCk9PnQuZXhlY3V0ZShcImJsb2NrUXVvdGVcIikpLGl9KX19Y29uc3QgVHU9L15kYXRhOihcXFMqPyk7YmFzZTY0LC87Y2xhc3MgTXV7Y29uc3RydWN0b3IodCxlLG4pe2lmKCF0KXRocm93IG5ldyBFcnJvcihcIkZpbGUgbXVzdCBiZSBwcm92aWRlZFwiKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJUb2tlbiBtdXN0IGJlIHByb3ZpZGVkXCIpO2lmKCFuKXRocm93IG5ldyBFcnJvcihcIkFwaSBhZGRyZXNzIG11c3QgYmUgcHJvdmlkZWRcIik7dGhpcy5maWxlPWZ1bmN0aW9uKHQpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0KXJldHVybiExO2NvbnN0IGU9dC5tYXRjaChUdSk7cmV0dXJuISghZXx8IWUubGVuZ3RoKX0odCk/ZnVuY3Rpb24odCxlPTUxMil7dHJ5e2NvbnN0IG49dC5tYXRjaChUdSlbMV0sbz1hdG9iKHQucmVwbGFjZShUdSxcIlwiKSksaT1bXTtmb3IobGV0IHQ9MDt0PG8ubGVuZ3RoO3QrPWUpe2NvbnN0IG49by5zbGljZSh0LHQrZSkscj1uZXcgQXJyYXkobi5sZW5ndGgpO2ZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7dCsrKXJbdF09bi5jaGFyQ29kZUF0KHQpO2kucHVzaChuZXcgVWludDhBcnJheShyKSl9cmV0dXJuIG5ldyBCbG9iKGkse3R5cGU6bn0pfWNhdGNoKHQpe3Rocm93IG5ldyBFcnJvcihcIlByb2JsZW0gd2l0aCBkZWNvZGluZyBCYXNlNjQgaW1hZ2UgZGF0YS5cIil9fSh0KTp0LHRoaXMuX3Rva2VuPWUsdGhpcy5fYXBpQWRkcmVzcz1ufW9uUHJvZ3Jlc3ModCl7cmV0dXJuIHRoaXMub24oXCJwcm9ncmVzc1wiLChlLG4pPT50KG4pKSx0aGlzfW9uRXJyb3IodCl7cmV0dXJuIHRoaXMub25jZShcImVycm9yXCIsKGUsbik9PnQobikpLHRoaXN9YWJvcnQoKXt0aGlzLnhoci5hYm9ydCgpfXNlbmQoKXtyZXR1cm4gdGhpcy5fcHJlcGFyZVJlcXVlc3QoKSx0aGlzLl9hdHRhY2hYSFJMaXN0ZW5lcnMoKSx0aGlzLl9zZW5kUmVxdWVzdCgpfV9wcmVwYXJlUmVxdWVzdCgpe2NvbnN0IHQ9bmV3IFhNTEh0dHBSZXF1ZXN0O3Qub3BlbihcIlBPU1RcIix0aGlzLl9hcGlBZGRyZXNzKSx0LnNldFJlcXVlc3RIZWFkZXIoXCJBdXRob3JpemF0aW9uXCIsdGhpcy5fdG9rZW4udmFsdWUpLHQucmVzcG9uc2VUeXBlPVwianNvblwiLHRoaXMueGhyPXR9X2F0dGFjaFhIUkxpc3RlbmVycygpe2NvbnN0IHQ9dGhpcyxlPXRoaXMueGhyO2Z1bmN0aW9uIG4oZSl7cmV0dXJuKCk9PnQuZmlyZShcImVycm9yXCIsZSl9ZS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIixuKFwiTmV0d29yayBFcnJvclwiKSksZS5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIixuKFwiQWJvcnRcIikpLGUudXBsb2FkJiZlLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIix0PT57dC5sZW5ndGhDb21wdXRhYmxlJiZ0aGlzLmZpcmUoXCJwcm9ncmVzc1wiLHt0b3RhbDp0LnRvdGFsLHVwbG9hZGVkOnQubG9hZGVkfSl9KSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsKCk9Pntjb25zdCB0PWUuc3RhdHVzLG49ZS5yZXNwb25zZTtpZih0PDIwMHx8dD4yOTkpcmV0dXJuIHRoaXMuZmlyZShcImVycm9yXCIsbi5tZXNzYWdlfHxuLmVycm9yKX0pfV9zZW5kUmVxdWVzdCgpe2NvbnN0IHQ9bmV3IEZvcm1EYXRhLGU9dGhpcy54aHI7cmV0dXJuIHQuYXBwZW5kKFwiZmlsZVwiLHRoaXMuZmlsZSksbmV3IFByb21pc2UoKG4sbyk9PntlLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsKCk9Pntjb25zdCB0PWUuc3RhdHVzLGk9ZS5yZXNwb25zZTtyZXR1cm4gdDwyMDB8fHQ+Mjk5P28oaS5tZXNzYWdlfHxpLmVycm9yKTpuKGkpfSksZS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwoKT0+byhcIk5ldHdvcmsgRXJyb3JcIikpLGUuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsKCk9Pm8oXCJBYm9ydFwiKSksZS5zZW5kKHQpfSl9fUIoTXUsUik7dmFyIFB1PU11O2NvbnN0IFN1PXtyZWZyZXNoSW50ZXJ2YWw6MzZlNSxhdXRvUmVmcmVzaDohMH07Y2xhc3MgRXV7Y29uc3RydWN0b3IodCxlPVN1KXtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJgdG9rZW5VcmxgIG11c3QgYmUgcHJvdmlkZWRcIik7dGhpcy5zZXQoXCJ2YWx1ZVwiLGUuaW5pdFZhbHVlKSx0aGlzLl90b2tlblVybD10LHRoaXMuX29wdGlvbnM9T2JqZWN0LmFzc2lnbih7fSxTdSxlKX1pbml0KCl7cmV0dXJuIG5ldyBQcm9taXNlKCh0LGUpPT57dGhpcy5fb3B0aW9ucy5hdXRvUmVmcmVzaCYmdGhpcy5fc3RhcnRSZWZyZXNoaW5nKCksdGhpcy52YWx1ZT90KHRoaXMpOnRoaXMuX3JlZnJlc2hUb2tlbigpLnRoZW4odCkuY2F0Y2goZSl9KX1fcmVmcmVzaFRva2VuKCl7cmV0dXJuIG5ldyBQcm9taXNlKCh0LGUpPT57Y29uc3Qgbj1uZXcgWE1MSHR0cFJlcXVlc3Q7bi5vcGVuKFwiR0VUXCIsdGhpcy5fdG9rZW5VcmwpLG4uYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwoKT0+e2NvbnN0IG89bi5zdGF0dXMsaT1uLnJlc3BvbnNlO3JldHVybiBvPDIwMHx8bz4yOTk/ZShcIkNhbm5vdCBkb3dubG9hZCBuZXcgdG9rZW4hXCIpOih0aGlzLnNldChcInZhbHVlXCIsaSksdCh0aGlzKSl9KSxuLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCgpPT5lKFwiTmV0d29yayBFcnJvclwiKSksbi5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwoKT0+ZShcIkFib3J0XCIpKSxuLnNlbmQoKX0pfV9zdGFydFJlZnJlc2hpbmcoKXt0aGlzLl9yZWZyZXNoSW50ZXJ2YWw9c2V0SW50ZXJ2YWwodGhpcy5fcmVmcmVzaFRva2VuLmJpbmQodGhpcyksdGhpcy5fb3B0aW9ucy5yZWZyZXNoSW50ZXJ2YWwpfV9zdG9wUmVmcmVzaGluZygpe2NsZWFySW50ZXJ2YWwodGhpcy5fcmVmcmVzaEludGVydmFsKX1zdGF0aWMgY3JlYXRlKHQsZT1TdSl7cmV0dXJuIG5ldyBFdSh0LGUpLmluaXQoKX19QihFdSxMbyk7dmFyIEl1PUV1O2NsYXNzIE51IGV4dGVuZHMgVWx7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJDbG91ZFNlcnZpY2VzXCJ9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IuY29uZmlnLmdldChcImNsb3VkU2VydmljZXNcIil8fHt9O2Zvcihjb25zdCBlIGluIHQpdGhpc1tlXT10W2VdO2lmKHRoaXMudG9rZW5VcmwpcmV0dXJuIHRoaXMudG9rZW49bmV3IE51LlRva2VuKHRoaXMudG9rZW5VcmwpLHRoaXMudG9rZW4uaW5pdCgpO3RoaXMudG9rZW49bnVsbH19TnUuVG9rZW49SXU7Y2xhc3MgT3UgZXh0ZW5kcyBVbHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuWyRkLE51XX1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQucGx1Z2lucy5nZXQoTnUpLG49ZS50b2tlbixvPWUudXBsb2FkVXJsO24mJih0aGlzLl91cGxvYWRHYXRld2F5PW5ldyBPdS5fVXBsb2FkR2F0ZXdheShuLG8pLHQucGx1Z2lucy5nZXQoJGQpLmNyZWF0ZVVwbG9hZEFkYXB0ZXI9KHQ9Pm5ldyBSdSh0aGlzLl91cGxvYWRHYXRld2F5LHQpKSl9fWNsYXNzIFJ1e2NvbnN0cnVjdG9yKHQsZSl7dGhpcy51cGxvYWRHYXRld2F5PXQsdGhpcy5sb2FkZXI9ZX11cGxvYWQoKXtyZXR1cm4gdGhpcy5maWxlVXBsb2FkZXI9dGhpcy51cGxvYWRHYXRld2F5LnVwbG9hZCh0aGlzLmxvYWRlci5maWxlKSx0aGlzLmZpbGVVcGxvYWRlci5vbihcInByb2dyZXNzXCIsKHQsZSk9Pnt0aGlzLmxvYWRlci51cGxvYWRUb3RhbD1lLnRvdGFsLHRoaXMubG9hZGVyLnVwbG9hZGVkPWUudXBsb2FkZWR9KSx0aGlzLmZpbGVVcGxvYWRlci5zZW5kKCl9YWJvcnQoKXt0aGlzLmZpbGVVcGxvYWRlci5hYm9ydCgpfX1PdS5fVXBsb2FkR2F0ZXdheT1jbGFzc3tjb25zdHJ1Y3Rvcih0LGUpe2lmKCF0KXRocm93IG5ldyBFcnJvcihcIlRva2VuIG11c3QgYmUgcHJvdmlkZWRcIik7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiQXBpIGFkZHJlc3MgbXVzdCBiZSBwcm92aWRlZFwiKTt0aGlzLl90b2tlbj10LHRoaXMuX2FwaUFkZHJlc3M9ZX11cGxvYWQodCl7cmV0dXJuIG5ldyBQdSh0LHRoaXMuX3Rva2VuLHRoaXMuX2FwaUFkZHJlc3MpfX07Y2xhc3MgRHUgZXh0ZW5kcyBjcntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLl9vYnNlcnZlZEVsZW1lbnRzPW5ldyBTZXR9b2JzZXJ2ZSh0LGUpe3RoaXMuZG9jdW1lbnQuZ2V0Um9vdChlKS5vbihcImNoYW5nZTpjaGlsZHJlblwiLChlLG4pPT57dGhpcy52aWV3Lm9uY2UoXCJyZW5kZXJcIiwoKT0+dGhpcy5fdXBkYXRlT2JzZXJ2ZWRFbGVtZW50cyh0LG4pKX0pfV91cGRhdGVPYnNlcnZlZEVsZW1lbnRzKHQsZSl7aWYoIWUuaXMoXCJlbGVtZW50XCIpfHxlLmlzKFwiYXR0cmlidXRlRWxlbWVudFwiKSlyZXR1cm47Y29uc3Qgbj10aGlzLnZpZXcuZG9tQ29udmVydGVyLm1hcFZpZXdUb0RvbShlKTtpZihuKXtmb3IoY29uc3QgdCBvZiBuLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbWdcIikpdGhpcy5fb2JzZXJ2ZWRFbGVtZW50cy5oYXModCl8fCh0aGlzLmxpc3RlblRvKHQsXCJsb2FkXCIsKHQsZSk9PnRoaXMuX2ZpcmVFdmVudHMoZSkpLHRoaXMuX29ic2VydmVkRWxlbWVudHMuYWRkKHQpKTtmb3IoY29uc3QgZSBvZiB0aGlzLl9vYnNlcnZlZEVsZW1lbnRzKXQuY29udGFpbnMoZSl8fCh0aGlzLnN0b3BMaXN0ZW5pbmcoZSksdGhpcy5fb2JzZXJ2ZWRFbGVtZW50cy5kZWxldGUoZSkpfX1fZmlyZUV2ZW50cyh0KXt0aGlzLmlzRW5hYmxlZCYmKHRoaXMuZG9jdW1lbnQuZmlyZShcImxheW91dENoYW5nZWRcIiksdGhpcy5kb2N1bWVudC5maXJlKFwiaW1hZ2VMb2FkZWRcIix0KSl9ZGVzdHJveSgpe3RoaXMuX29ic2VydmVkRWxlbWVudHMuY2xlYXIoKSxzdXBlci5kZXN0cm95KCl9fWZ1bmN0aW9uIGp1KHQpe3JldHVybiBuPT57bi5vbihgYXR0cmlidXRlOiR7dH06aW1hZ2VgLGUpfTtmdW5jdGlvbiBlKHQsZSxuKXtpZighbi5jb25zdW1hYmxlLmNvbnN1bWUoZS5pdGVtLHQubmFtZSkpcmV0dXJuO2NvbnN0IG89bi53cml0ZXIsaT1uLm1hcHBlci50b1ZpZXdFbGVtZW50KGUuaXRlbSkuZ2V0Q2hpbGQoMCk7bnVsbCE9PWUuYXR0cmlidXRlTmV3VmFsdWU/by5zZXRBdHRyaWJ1dGUoZS5hdHRyaWJ1dGVLZXksZS5hdHRyaWJ1dGVOZXdWYWx1ZSxpKTpvLnJlbW92ZUF0dHJpYnV0ZShlLmF0dHJpYnV0ZUtleSxpKX19Y2xhc3MgTHV7Y29uc3RydWN0b3IoKXt0aGlzLl9zdGFjaz1bXX1hZGQodCxlKXtjb25zdCBuPXRoaXMuX3N0YWNrLG89blswXTt0aGlzLl9pbnNlcnREZXNjcmlwdG9yKHQpO2NvbnN0IGk9blswXTtvPT09aXx8VnUobyxpKXx8dGhpcy5maXJlKFwiY2hhbmdlOnRvcFwiLHtvbGREZXNjcmlwdG9yOm8sbmV3RGVzY3JpcHRvcjppLHdyaXRlcjplfSl9cmVtb3ZlKHQsZSl7Y29uc3Qgbj10aGlzLl9zdGFjayxvPW5bMF07dGhpcy5fcmVtb3ZlRGVzY3JpcHRvcih0KTtjb25zdCBpPW5bMF07bz09PWl8fFZ1KG8saSl8fHRoaXMuZmlyZShcImNoYW5nZTp0b3BcIix7b2xkRGVzY3JpcHRvcjpvLG5ld0Rlc2NyaXB0b3I6aSx3cml0ZXI6ZX0pfV9pbnNlcnREZXNjcmlwdG9yKHQpe2NvbnN0IGU9dGhpcy5fc3RhY2ssbj1lLmZpbmRJbmRleChlPT5lLmlkPT09dC5pZCk7aWYoVnUodCxlW25dKSlyZXR1cm47bj4tMSYmZS5zcGxpY2UobiwxKTtsZXQgbz0wO2Zvcig7ZVtvXSYmRnUoZVtvXSx0KTspbysrO2Uuc3BsaWNlKG8sMCx0KX1fcmVtb3ZlRGVzY3JpcHRvcih0KXtjb25zdCBlPXRoaXMuX3N0YWNrLG49ZS5maW5kSW5kZXgoZT0+ZS5pZD09PXQpO24+LTEmJmUuc3BsaWNlKG4sMSl9fWZ1bmN0aW9uIFZ1KHQsZSl7cmV0dXJuIHQmJmUmJnQucHJpb3JpdHk9PWUucHJpb3JpdHkmJnp1KHQuY2xhc3Nlcyk9PXp1KGUuY2xhc3Nlcyl9ZnVuY3Rpb24gRnUodCxlKXtyZXR1cm4gdC5wcmlvcml0eT5lLnByaW9yaXR5fHwhKHQucHJpb3JpdHk8ZS5wcmlvcml0eSkmJnp1KHQuY2xhc3Nlcyk+enUoZS5jbGFzc2VzKX1mdW5jdGlvbiB6dSh0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT90LnNvcnQoKS5qb2luKFwiLFwiKTp0fUIoTHUsUik7dmFyIEJ1PW4oMjUpLFV1PW4ubihCdSk7Y29uc3QgSHU9U3ltYm9sKFwiaXNXaWRnZXRcIikscXU9U3ltYm9sKFwibGFiZWxcIiksV3U9XCJjay13aWRnZXRcIixZdT1cImNrLXdpZGdldF9zZWxlY3RlZFwiO2Z1bmN0aW9uIEd1KHQpe3JldHVybiEhdC5nZXRDdXN0b21Qcm9wZXJ0eShIdSl9ZnVuY3Rpb24gJHUodCxlLG49e30pe3JldHVybiBsaS5pc0VkZ2V8fGUuc2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIsXCJmYWxzZVwiLHQpLGUuYWRkQ2xhc3MoV3UsdCksZS5zZXRDdXN0b21Qcm9wZXJ0eShIdSwhMCx0KSx0LmdldEZpbGxlck9mZnNldD1adSxuLmxhYmVsJiZmdW5jdGlvbih0LGUsbil7bi5zZXRDdXN0b21Qcm9wZXJ0eShxdSxlLHQpfSh0LG4ubGFiZWwsZSksbi5oYXNTZWxlY3Rpb25IYW5kbGVyJiZmdW5jdGlvbih0LGUpe2NvbnN0IG49ZS5jcmVhdGVVSUVsZW1lbnQoXCJkaXZcIix7Y2xhc3M6XCJjayBjay13aWRnZXRfX3NlbGVjdGlvbi1oYW5kbGVyXCJ9LGZ1bmN0aW9uKHQpe2NvbnN0IGU9dGhpcy50b0RvbUVsZW1lbnQodCksbj1uZXcgTGQ7cmV0dXJuIG4uc2V0KFwiY29udGVudFwiLFV1LmEpLG4ucmVuZGVyKCksZS5hcHBlbmRDaGlsZChuLmVsZW1lbnQpLGV9KTtlLmluc2VydCgkby5jcmVhdGVBdCh0KSxuKSxlLmFkZENsYXNzKFtcImNrLXdpZGdldF9zZWxlY3RhYmxlXCJdLHQpfSh0LGUpLGZ1bmN0aW9uKHQsZSxuLG8pe2NvbnN0IGk9bmV3IEx1O2kub24oXCJjaGFuZ2U6dG9wXCIsKGUsaSk9PntpLm9sZERlc2NyaXB0b3ImJm8odCxpLm9sZERlc2NyaXB0b3IsaS53cml0ZXIpLGkubmV3RGVzY3JpcHRvciYmbih0LGkubmV3RGVzY3JpcHRvcixpLndyaXRlcil9KSxlLnNldEN1c3RvbVByb3BlcnR5KFwiYWRkSGlnaGxpZ2h0XCIsKHQsZSxuKT0+aS5hZGQoZSxuKSx0KSxlLnNldEN1c3RvbVByb3BlcnR5KFwicmVtb3ZlSGlnaGxpZ2h0XCIsKHQsZSxuKT0+aS5yZW1vdmUoZSxuKSx0KX0odCxlLCh0LGUsbik9Pm4uYWRkQ2xhc3MobyhlLmNsYXNzZXMpLHQpLCh0LGUsbik9Pm4ucmVtb3ZlQ2xhc3MobyhlLmNsYXNzZXMpLHQpKSx0O2Z1bmN0aW9uIG8odCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dDpbdF19fWZ1bmN0aW9uIFF1KHQpe2NvbnN0IGU9dC5nZXRDdXN0b21Qcm9wZXJ0eShxdSk7cmV0dXJuIGU/XCJmdW5jdGlvblwiPT10eXBlb2YgZT9lKCk6ZTpcIlwifWZ1bmN0aW9uIEp1KHQsZSl7cmV0dXJuIGUuYWRkQ2xhc3MoW1wiY2stZWRpdG9yX19lZGl0YWJsZVwiLFwiY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGVcIl0sdCksbGkuaXNFZGdlfHwoZS5zZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIix0LmlzUmVhZE9ubHk/XCJmYWxzZVwiOlwidHJ1ZVwiLHQpLHQub24oXCJjaGFuZ2U6aXNSZWFkT25seVwiLChuLG8saSk9PntlLnNldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiLGk/XCJmYWxzZVwiOlwidHJ1ZVwiLHQpfSkpLHQub24oXCJjaGFuZ2U6aXNGb2N1c2VkXCIsKG4sbyxpKT0+e2k/ZS5hZGRDbGFzcyhcImNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlX2ZvY3VzZWRcIix0KTplLnJlbW92ZUNsYXNzKFwiY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGVfZm9jdXNlZFwiLHQpfSksdH1mdW5jdGlvbiBLdSh0KXtjb25zdCBlPXQuZ2V0U2VsZWN0ZWRFbGVtZW50KCk7aWYoZSlyZXR1cm4gSHMuY3JlYXRlQWZ0ZXIoZSk7Y29uc3Qgbj10LmdldFNlbGVjdGVkQmxvY2tzKCkubmV4dCgpLnZhbHVlO2lmKG4pe2lmKG4uaXNFbXB0eSlyZXR1cm4gSHMuY3JlYXRlQXQobik7Y29uc3QgZT1Icy5jcmVhdGVBZnRlcihuKTtyZXR1cm4gdC5mb2N1cy5pc1RvdWNoaW5nKGUpP2U6SHMuY3JlYXRlQmVmb3JlKG4pfXJldHVybiB0LmZvY3VzfWZ1bmN0aW9uIFp1KCl7cmV0dXJuIG51bGx9Y29uc3QgWHU9U3ltYm9sKFwiaXNJbWFnZVwiKTtmdW5jdGlvbiB0aCh0KXtjb25zdCBlPXQuZ2V0U2VsZWN0ZWRFbGVtZW50KCk7cmV0dXJuISghZXx8IWZ1bmN0aW9uKHQpe3JldHVybiEhdC5nZXRDdXN0b21Qcm9wZXJ0eShYdSkmJkd1KHQpfShlKSl9ZnVuY3Rpb24gZWgodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBGcyYmXCJpbWFnZVwiPT10Lm5hbWV9Y2xhc3MgbmggZXh0ZW5kcyBVbHtpbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQubW9kZWwuc2NoZW1hLG49dC50LG89dC5jb252ZXJzaW9uO3QuZWRpdGluZy52aWV3LmFkZE9ic2VydmVyKER1KSxlLnJlZ2lzdGVyKFwiaW1hZ2VcIix7aXNPYmplY3Q6ITAsaXNCbG9jazohMCxhbGxvd1doZXJlOlwiJGJsb2NrXCIsYWxsb3dBdHRyaWJ1dGVzOltcImFsdFwiLFwic3JjXCIsXCJzcmNzZXRcIl19KSxvLmZvcihcImRhdGFEb3duY2FzdFwiKS5hZGQoYWEoe21vZGVsOlwiaW1hZ2VcIix2aWV3Oih0LGUpPT5vaChlKX0pKSxvLmZvcihcImVkaXRpbmdEb3duY2FzdFwiKS5hZGQoYWEoe21vZGVsOlwiaW1hZ2VcIix2aWV3Oih0LGUpPT4oZnVuY3Rpb24odCxlLG4pe3JldHVybiBlLnNldEN1c3RvbVByb3BlcnR5KFh1LCEwLHQpLCR1KHQsZSx7bGFiZWw6ZnVuY3Rpb24oKXtjb25zdCBlPXQuZ2V0Q2hpbGQoMCkuZ2V0QXR0cmlidXRlKFwiYWx0XCIpO3JldHVybiBlP2Ake2V9ICR7bn1gOm59fSl9KShvaChlKSxlLG4oXCJlXCIpKX0pKSxvLmZvcihcImRvd25jYXN0XCIpLmFkZChqdShcInNyY1wiKSkuYWRkKGp1KFwiYWx0XCIpKS5hZGQoZnVuY3Rpb24oKXtyZXR1cm4gZT0+e2Uub24oXCJhdHRyaWJ1dGU6c3Jjc2V0OmltYWdlXCIsdCl9O2Z1bmN0aW9uIHQodCxlLG4pe2lmKCFuLmNvbnN1bWFibGUuY29uc3VtZShlLml0ZW0sdC5uYW1lKSlyZXR1cm47Y29uc3Qgbz1uLndyaXRlcixpPW4ubWFwcGVyLnRvVmlld0VsZW1lbnQoZS5pdGVtKS5nZXRDaGlsZCgwKTtpZihudWxsPT09ZS5hdHRyaWJ1dGVOZXdWYWx1ZSl7Y29uc3QgdD1lLmF0dHJpYnV0ZU9sZFZhbHVlO3QuZGF0YSYmKG8ucmVtb3ZlQXR0cmlidXRlKFwic3Jjc2V0XCIsaSksby5yZW1vdmVBdHRyaWJ1dGUoXCJzaXplc1wiLGkpLHQud2lkdGgmJm8ucmVtb3ZlQXR0cmlidXRlKFwid2lkdGhcIixpKSl9ZWxzZXtjb25zdCB0PWUuYXR0cmlidXRlTmV3VmFsdWU7dC5kYXRhJiYoby5zZXRBdHRyaWJ1dGUoXCJzcmNzZXRcIix0LmRhdGEsaSksby5zZXRBdHRyaWJ1dGUoXCJzaXplc1wiLFwiMTAwdndcIixpKSx0LndpZHRoJiZvLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsdC53aWR0aCxpKSl9fX0oKSksby5mb3IoXCJ1cGNhc3RcIikuYWRkKE9hKHt2aWV3OntuYW1lOlwiaW1nXCIsYXR0cmlidXRlczp7c3JjOiEwfX0sbW9kZWw6KHQsZSk9PmUuY3JlYXRlRWxlbWVudChcImltYWdlXCIse3NyYzp0LmdldEF0dHJpYnV0ZShcInNyY1wiKX0pfSkpLmFkZChEYSh7dmlldzp7bmFtZTpcImltZ1wiLGtleTpcImFsdFwifSxtb2RlbDpcImFsdFwifSkpLmFkZChEYSh7dmlldzp7bmFtZTpcImltZ1wiLGtleTpcInNyY3NldFwifSxtb2RlbDp7a2V5Olwic3Jjc2V0XCIsdmFsdWU6dD0+e2NvbnN0IGU9e2RhdGE6dC5nZXRBdHRyaWJ1dGUoXCJzcmNzZXRcIil9O3JldHVybiB0Lmhhc0F0dHJpYnV0ZShcIndpZHRoXCIpJiYoZS53aWR0aD10LmdldEF0dHJpYnV0ZShcIndpZHRoXCIpKSxlfX19KSkuYWRkKGZ1bmN0aW9uKCl7cmV0dXJuIGU9PntlLm9uKFwiZWxlbWVudDpmaWd1cmVcIix0KX07ZnVuY3Rpb24gdCh0LGUsbil7aWYoIW4uY29uc3VtYWJsZS50ZXN0KGUudmlld0l0ZW0se25hbWU6ITAsY2xhc3NlczpcImltYWdlXCJ9KSlyZXR1cm47Y29uc3Qgbz1BcnJheS5mcm9tKGUudmlld0l0ZW0uZ2V0Q2hpbGRyZW4oKSkuZmluZCh0PT50LmlzKFwiaW1nXCIpKTtpZighb3x8IW8uaGFzQXR0cmlidXRlKFwic3JjXCIpfHwhbi5jb25zdW1hYmxlLnRlc3Qobyx7bmFtZTohMH0pKXJldHVybjtjb25zdCBpPW4uY29udmVydEl0ZW0obyxlLm1vZGVsQ3Vyc29yKSxyPWJ1KGkubW9kZWxSYW5nZS5nZXRJdGVtcygpKTtyJiYobi5jb252ZXJ0Q2hpbGRyZW4oZS52aWV3SXRlbSxIcy5jcmVhdGVBdChyKSksZS5tb2RlbFJhbmdlPWkubW9kZWxSYW5nZSxlLm1vZGVsQ3Vyc29yPWkubW9kZWxDdXJzb3IpfX0oKSl9fWZ1bmN0aW9uIG9oKHQpe2NvbnN0IGU9dC5jcmVhdGVFbXB0eUVsZW1lbnQoXCJpbWdcIiksbj10LmNyZWF0ZUNvbnRhaW5lckVsZW1lbnQoXCJmaWd1cmVcIix7Y2xhc3M6XCJpbWFnZVwifSk7cmV0dXJuIHQuaW5zZXJ0KCRvLmNyZWF0ZUF0KG4pLGUpLG59Y2xhc3MgaWggZXh0ZW5kcyBKcntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLmRvbUV2ZW50VHlwZT1cIm1vdXNlZG93blwifW9uRG9tRXZlbnQodCl7dGhpcy5maXJlKHQudHlwZSx0KX19big1OSk7Y29uc3Qgcmg9bWkoXCJDdHJsK0FcIik7Y2xhc3Mgc2ggZXh0ZW5kcyBVbHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIldpZGdldFwifWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLmVkaXRpbmcudmlldyxlPXQuZG9jdW1lbnQ7dGhpcy5fcHJldmlvdXNseVNlbGVjdGVkPW5ldyBTZXQsdGhpcy5lZGl0b3IuZWRpdGluZy5kb3duY2FzdERpc3BhdGNoZXIub24oXCJzZWxlY3Rpb25cIiwodCxlLG4pPT57dGhpcy5fY2xlYXJQcmV2aW91c2x5U2VsZWN0ZWRXaWRnZXRzKG4ud3JpdGVyKTtjb25zdCBvPW4ud3JpdGVyLGk9by5kb2N1bWVudC5zZWxlY3Rpb24scj1pLmdldFNlbGVjdGVkRWxlbWVudCgpO2Zvcihjb25zdCB0IG9mIGkuZ2V0UmFuZ2VzKCkpZm9yKGNvbnN0IGUgb2YgdCl7Y29uc3QgdD1lLml0ZW07dC5pcyhcImVsZW1lbnRcIikmJkd1KHQpJiYoby5hZGRDbGFzcyhZdSx0KSx0aGlzLl9wcmV2aW91c2x5U2VsZWN0ZWQuYWRkKHQpLHQ9PXImJm8uc2V0U2VsZWN0aW9uKGkuZ2V0UmFuZ2VzKCkse2Zha2U6ITAsbGFiZWw6UXUocil9KSl9fSx7cHJpb3JpdHk6XCJsb3dcIn0pLHQuYWRkT2JzZXJ2ZXIoaWgpLHRoaXMubGlzdGVuVG8oZSxcIm1vdXNlZG93blwiLCguLi50KT0+dGhpcy5fb25Nb3VzZWRvd24oLi4udCkpLHRoaXMubGlzdGVuVG8oZSxcImtleWRvd25cIiwoLi4udCk9PnRoaXMuX29uS2V5ZG93biguLi50KSx7cHJpb3JpdHk6XCJoaWdoXCJ9KSx0aGlzLmxpc3RlblRvKGUsXCJkZWxldGVcIiwodCxlKT0+e3RoaXMuX2hhbmRsZURlbGV0ZShcImZvcndhcmRcIj09ZS5kaXJlY3Rpb24pJiYoZS5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcCgpKX0se3ByaW9yaXR5OlwiaGlnaFwifSl9X29uTW91c2Vkb3duKHQsZSl7Y29uc3Qgbj10aGlzLmVkaXRvcixvPW4uZWRpdGluZy52aWV3LGk9by5kb2N1bWVudDtsZXQgcj1lLnRhcmdldDtpZihmdW5jdGlvbih0KXtmb3IoO3Q7KXtpZih0IGluc3RhbmNlb2YgcW8mJiEodCBpbnN0YW5jZW9mIFlvKSlyZXR1cm4hMDt0PXQucGFyZW50fXJldHVybiExfShyKSlyZXR1cm47aWYoIUd1KHIpJiYhKHI9ci5maW5kQW5jZXN0b3IoR3UpKSlyZXR1cm47ZS5wcmV2ZW50RGVmYXVsdCgpLGkuaXNGb2N1c2VkfHxvLmZvY3VzKCk7Y29uc3Qgcz1uLmVkaXRpbmcubWFwcGVyLnRvTW9kZWxFbGVtZW50KHIpO3RoaXMuX3NldFNlbGVjdGlvbk92ZXJFbGVtZW50KHMpfV9vbktleWRvd24odCxlKXtjb25zdCBuPWUua2V5Q29kZSxvPW49PWhpLmRlbGV0ZXx8bj09aGkuYXJyb3dkb3dufHxuPT1oaS5hcnJvd3JpZ2h0O2xldCBpPSExOyFmdW5jdGlvbih0KXtyZXR1cm4gdD09aGkuYXJyb3dyaWdodHx8dD09aGkuYXJyb3dsZWZ0fHx0PT1oaS5hcnJvd3VwfHx0PT1oaS5hcnJvd2Rvd259KG4pPyFmdW5jdGlvbih0KXtyZXR1cm4gZmkodCk9PXJofShlKT9uPT09aGkuZW50ZXImJihpPXRoaXMuX2hhbmRsZUVudGVyS2V5KGUuc2hpZnRLZXkpKTppPXRoaXMuX3NlbGVjdEFsbE5lc3RlZEVkaXRhYmxlQ29udGVudCgpfHx0aGlzLl9zZWxlY3RBbGxDb250ZW50KCk6aT10aGlzLl9oYW5kbGVBcnJvd0tleXMobyksaSYmKGUucHJldmVudERlZmF1bHQoKSx0LnN0b3AoKSl9X2hhbmRsZURlbGV0ZSh0KXtpZih0aGlzLmVkaXRvci5pc1JlYWRPbmx5KXJldHVybjtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbjtpZighZS5pc0NvbGxhcHNlZClyZXR1cm47Y29uc3Qgbj10aGlzLl9nZXRPYmplY3RFbGVtZW50TmV4dFRvU2VsZWN0aW9uKHQpO3JldHVybiBuPyh0aGlzLmVkaXRvci5tb2RlbC5jaGFuZ2UodD0+e2xldCBvPWUuYW5jaG9yLnBhcmVudDtmb3IoO28uaXNFbXB0eTspe2NvbnN0IGU9bztvPWUucGFyZW50LHQucmVtb3ZlKGUpfXRoaXMuX3NldFNlbGVjdGlvbk92ZXJFbGVtZW50KG4pfSksITApOnZvaWQgMH1faGFuZGxlQXJyb3dLZXlzKHQpe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwsbj1lLnNjaGVtYSxvPWUuZG9jdW1lbnQuc2VsZWN0aW9uLGk9by5nZXRTZWxlY3RlZEVsZW1lbnQoKTtpZihpJiZuLmlzT2JqZWN0KGkpKXtjb25zdCBpPXQ/by5nZXRMYXN0UG9zaXRpb24oKTpvLmdldEZpcnN0UG9zaXRpb24oKSxyPW4uZ2V0TmVhcmVzdFNlbGVjdGlvblJhbmdlKGksdD9cImZvcndhcmRcIjpcImJhY2t3YXJkXCIpO3JldHVybiByJiZlLmNoYW5nZSh0PT57dC5zZXRTZWxlY3Rpb24ocil9KSwhMH1pZighby5pc0NvbGxhcHNlZClyZXR1cm47Y29uc3Qgcj10aGlzLl9nZXRPYmplY3RFbGVtZW50TmV4dFRvU2VsZWN0aW9uKHQpO3JldHVybiByIGluc3RhbmNlb2YgRnMmJm4uaXNPYmplY3Qocik/KHRoaXMuX3NldFNlbGVjdGlvbk92ZXJFbGVtZW50KHIpLCEwKTp2b2lkIDB9X2hhbmRsZUVudGVyS2V5KHQpe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwsbj1lLmRvY3VtZW50LnNlbGVjdGlvbi5nZXRTZWxlY3RlZEVsZW1lbnQoKTtpZihuJiZlLnNjaGVtYS5pc09iamVjdChuKSlyZXR1cm4gZS5jaGFuZ2UoZT0+e2NvbnN0IG89ZS5jcmVhdGVFbGVtZW50KFwicGFyYWdyYXBoXCIpO2UuaW5zZXJ0KG8sbix0P1wiYmVmb3JlXCI6XCJhZnRlclwiKSxlLnNldFNlbGVjdGlvbihvLFwiaW5cIil9KSwhMH1fc2VsZWN0QWxsTmVzdGVkRWRpdGFibGVDb250ZW50KCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbCxlPXQuZG9jdW1lbnQuc2VsZWN0aW9uLG49dC5zY2hlbWEuZ2V0TGltaXRFbGVtZW50KGUpO3JldHVybiBlLmdldEZpcnN0UmFuZ2UoKS5yb290IT1uJiYodC5jaGFuZ2UodD0+e3Quc2V0U2VsZWN0aW9uKHFzLmNyZWF0ZUluKG4pKX0pLCEwKX1fc2VsZWN0QWxsQ29udGVudCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsZT10aGlzLmVkaXRvci5lZGl0aW5nLG49ZS52aWV3LmRvY3VtZW50LnNlbGVjdGlvbi5nZXRTZWxlY3RlZEVsZW1lbnQoKTtpZihuJiZHdShuKSl7Y29uc3Qgbz1lLm1hcHBlci50b01vZGVsRWxlbWVudChuLnBhcmVudCk7cmV0dXJuIHQuY2hhbmdlKHQ9Pnt0LnNldFNlbGVjdGlvbihxcy5jcmVhdGVJbihvKSl9KSwhMH1yZXR1cm4hMX1fc2V0U2VsZWN0aW9uT3ZlckVsZW1lbnQodCl7dGhpcy5lZGl0b3IubW9kZWwuY2hhbmdlKGU9PntlLnNldFNlbGVjdGlvbihxcy5jcmVhdGVPbih0KSl9KX1fZ2V0T2JqZWN0RWxlbWVudE5leHRUb1NlbGVjdGlvbih0KXtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsLG49ZS5zY2hlbWEsbz1lLmRvY3VtZW50LnNlbGVjdGlvbixpPW5ldyBKcyhvKTtlLm1vZGlmeVNlbGVjdGlvbihpLHtkaXJlY3Rpb246dD9cImZvcndhcmRcIjpcImJhY2t3YXJkXCJ9KTtjb25zdCByPXQ/aS5mb2N1cy5ub2RlQmVmb3JlOmkuZm9jdXMubm9kZUFmdGVyO3JldHVybiByIGluc3RhbmNlb2YgRnMmJm4uaXNPYmplY3Qocik/cjpudWxsfV9jbGVhclByZXZpb3VzbHlTZWxlY3RlZFdpZGdldHModCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fcHJldmlvdXNseVNlbGVjdGVkKXQucmVtb3ZlQ2xhc3MoWXUsZSk7dGhpcy5fcHJldmlvdXNseVNlbGVjdGVkLmNsZWFyKCl9fWNsYXNzIGFoIGV4dGVuZHMgR2x7cmVmcmVzaCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpO3RoaXMuaXNFbmFibGVkPWVoKHQpLGVoKHQpJiZ0Lmhhc0F0dHJpYnV0ZShcImFsdFwiKT90aGlzLnZhbHVlPXQuZ2V0QXR0cmlidXRlKFwiYWx0XCIpOnRoaXMudmFsdWU9ITF9ZXhlY3V0ZSh0KXtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsLG49ZS5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCk7ZS5jaGFuZ2UoZT0+e2Uuc2V0QXR0cmlidXRlKFwiYWx0XCIsdC5uZXdWYWx1ZSxuKX0pfX1jbGFzcyBjaCBleHRlbmRzIFVse2luaXQoKXt0aGlzLmVkaXRvci5jb21tYW5kcy5hZGQoXCJpbWFnZVRleHRBbHRlcm5hdGl2ZVwiLG5ldyBhaCh0aGlzLmVkaXRvcikpfX1mdW5jdGlvbiBsaCh7ZW1pdHRlcjp0LGFjdGl2YXRvcjplLGNhbGxiYWNrOm4sY29udGV4dEVsZW1lbnRzOm99KXt0Lmxpc3RlblRvKGRvY3VtZW50LFwibW91c2Vkb3duXCIsKHQse3RhcmdldDppfSk9PntpZihlKCkpe2Zvcihjb25zdCB0IG9mIG8paWYodC5jb250YWlucyhpKSlyZXR1cm47bigpfX0pfW4oNjEpO2NsYXNzIGRoIGV4dGVuZHMgQWx7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5zZXQoXCJ0ZXh0XCIpLHRoaXMuc2V0KFwiZm9yXCIpO2NvbnN0IGU9dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwibGFiZWxcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stbGFiZWxcIl0sZm9yOmUudG8oXCJmb3JcIil9LGNoaWxkcmVuOlt7dGV4dDplLnRvKFwidGV4dFwiKX1dfSl9fW4oNjMpO2NsYXNzIHVoIGV4dGVuZHMgQWx7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KTtjb25zdCBuPWBjay1pbnB1dC0ke0UoKX1gLG89YGNrLWVycm9yLSR7RSgpfWA7dGhpcy5zZXQoXCJsYWJlbFwiKSx0aGlzLnNldChcInZhbHVlXCIpLHRoaXMuc2V0KFwiaXNSZWFkT25seVwiLCExKSx0aGlzLnNldChcImVycm9yVGV4dFwiLG51bGwpLHRoaXMubGFiZWxWaWV3PXRoaXMuX2NyZWF0ZUxhYmVsVmlldyhuKSx0aGlzLmlucHV0Vmlldz10aGlzLl9jcmVhdGVJbnB1dFZpZXcoZSxuLG8pLHRoaXMuZXJyb3JWaWV3PXRoaXMuX2NyZWF0ZUVycm9yVmlldyhvKTtjb25zdCBpPXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuc2V0VGVtcGxhdGUoe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1sYWJlbGVkLWlucHV0XCIsaS5pZihcImlzUmVhZE9ubHlcIixcImNrLWRpc2FibGVkXCIpXX0sY2hpbGRyZW46W3RoaXMubGFiZWxWaWV3LHRoaXMuaW5wdXRWaWV3LHRoaXMuZXJyb3JWaWV3XX0pfV9jcmVhdGVMYWJlbFZpZXcodCl7Y29uc3QgZT1uZXcgZGgodGhpcy5sb2NhbGUpO3JldHVybiBlLmZvcj10LGUuYmluZChcInRleHRcIikudG8odGhpcyxcImxhYmVsXCIpLGV9X2NyZWF0ZUlucHV0Vmlldyh0LGUsbil7Y29uc3Qgbz1uZXcgdCh0aGlzLmxvY2FsZSxuKTtyZXR1cm4gby5pZD1lLG8uYXJpYURlc3JpYmVkQnlJZD1uLG8uYmluZChcInZhbHVlXCIpLnRvKHRoaXMpLG8uYmluZChcImlzUmVhZE9ubHlcIikudG8odGhpcyksby5iaW5kKFwiaGFzRXJyb3JcIikudG8odGhpcyxcImVycm9yVGV4dFwiLHQ9PiEhdCksby5vbihcImlucHV0XCIsKCk9Pnt0aGlzLmVycm9yVGV4dD1udWxsfSksb31fY3JlYXRlRXJyb3JWaWV3KHQpe2NvbnN0IGU9bmV3IEFsKHRoaXMubG9jYWxlKSxuPXRoaXMuYmluZFRlbXBsYXRlO3JldHVybiBlLnNldFRlbXBsYXRlKHt0YWc6XCJkaXZcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stbGFiZWxlZC1pbnB1dF9fZXJyb3JcIixuLmlmKFwiZXJyb3JUZXh0XCIsXCJjay1oaWRkZW5cIix0PT4hdCldLGlkOnR9LGNoaWxkcmVuOlt7dGV4dDpuLnRvKFwiZXJyb3JUZXh0XCIpfV19KSxlfXNlbGVjdCgpe3RoaXMuaW5wdXRWaWV3LnNlbGVjdCgpfWZvY3VzKCl7dGhpcy5pbnB1dFZpZXcuZm9jdXMoKX19big2NSk7Y2xhc3MgaGggZXh0ZW5kcyBBbHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLnNldChcInZhbHVlXCIpLHRoaXMuc2V0KFwiaWRcIiksdGhpcy5zZXQoXCJwbGFjZWhvbGRlclwiKSx0aGlzLnNldChcImlzUmVhZE9ubHlcIiwhMSksdGhpcy5zZXQoXCJoYXNFcnJvclwiLCExKSx0aGlzLnNldChcImFyaWFEZXNyaWJlZEJ5SWRcIik7Y29uc3QgZT10aGlzLmJpbmRUZW1wbGF0ZTt0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJpbnB1dFwiLGF0dHJpYnV0ZXM6e3R5cGU6XCJ0ZXh0XCIsY2xhc3M6W1wiY2tcIixcImNrLWlucHV0XCIsXCJjay1pbnB1dC10ZXh0XCIsZS5pZihcImhhc0Vycm9yXCIsXCJjay1lcnJvclwiKV0saWQ6ZS50byhcImlkXCIpLHBsYWNlaG9sZGVyOmUudG8oXCJwbGFjZWhvbGRlclwiKSxyZWFkb25seTplLnRvKFwiaXNSZWFkT25seVwiKSxcImFyaWEtaW52YWxpZFwiOmUuaWYoXCJoYXNFcnJvclwiLCEwKSxcImFyaWEtZGVzY3JpYmVkYnlcIjplLnRvKFwiYXJpYURlc3JpYmVkQnlJZFwiKX0sb246e2lucHV0OmUudG8oXCJpbnB1dFwiKX19KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKTtjb25zdCB0PXQ9Pnt0aGlzLmVsZW1lbnQudmFsdWU9dHx8MD09PXQ/dDpcIlwifTt0KHRoaXMudmFsdWUpLHRoaXMub24oXCJjaGFuZ2U6dmFsdWVcIiwoZSxuLG8pPT57dChvKX0pfXNlbGVjdCgpe3RoaXMuZWxlbWVudC5zZWxlY3QoKX1mb2N1cygpe3RoaXMuZWxlbWVudC5mb2N1cygpfX1mdW5jdGlvbiBmaCh7dmlldzp0fSl7dC5saXN0ZW5Ubyh0LmVsZW1lbnQsXCJzdWJtaXRcIiwoZSxuKT0+e24ucHJldmVudERlZmF1bHQoKSx0LmZpcmUoXCJzdWJtaXRcIil9LHt1c2VDYXB0dXJlOiEwfSl9dmFyIG1oPW4oNyksZ2g9bi5uKG1oKSxwaD1uKDgpLGJoPW4ubihwaCk7big2Nyk7Y2xhc3Mgd2ggZXh0ZW5kcyBBbHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTtjb25zdCBlPXRoaXMubG9jYWxlLnQ7dGhpcy5mb2N1c1RyYWNrZXI9bmV3IFpjLHRoaXMua2V5c3Ryb2tlcz1uZXcgVWMsdGhpcy5sYWJlbGVkSW5wdXQ9dGhpcy5fY3JlYXRlTGFiZWxlZElucHV0VmlldygpLHRoaXMuc2F2ZUJ1dHRvblZpZXc9dGhpcy5fY3JlYXRlQnV0dG9uKGUoXCJhdVwiKSxnaC5hLFwiY2stYnV0dG9uLXNhdmVcIiksdGhpcy5zYXZlQnV0dG9uVmlldy50eXBlPVwic3VibWl0XCIsdGhpcy5jYW5jZWxCdXR0b25WaWV3PXRoaXMuX2NyZWF0ZUJ1dHRvbihlKFwiYXZcIiksYmguYSxcImNrLWJ1dHRvbi1jYW5jZWxcIixcImNhbmNlbFwiKSx0aGlzLl9mb2N1c2FibGVzPW5ldyBlbCx0aGlzLl9mb2N1c0N5Y2xlcj1uZXcgamwoe2ZvY3VzYWJsZXM6dGhpcy5fZm9jdXNhYmxlcyxmb2N1c1RyYWNrZXI6dGhpcy5mb2N1c1RyYWNrZXIsa2V5c3Ryb2tlSGFuZGxlcjp0aGlzLmtleXN0cm9rZXMsYWN0aW9uczp7Zm9jdXNQcmV2aW91czpcInNoaWZ0ICsgdGFiXCIsZm9jdXNOZXh0OlwidGFiXCJ9fSksdGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwiZm9ybVwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay10ZXh0LWFsdGVybmF0aXZlLWZvcm1cIl0sdGFiaW5kZXg6XCItMVwifSxjaGlsZHJlbjpbdGhpcy5sYWJlbGVkSW5wdXQsdGhpcy5zYXZlQnV0dG9uVmlldyx0aGlzLmNhbmNlbEJ1dHRvblZpZXddfSl9cmVuZGVyKCl7c3VwZXIucmVuZGVyKCksdGhpcy5rZXlzdHJva2VzLmxpc3RlblRvKHRoaXMuZWxlbWVudCksZmgoe3ZpZXc6dGhpc30pLFt0aGlzLmxhYmVsZWRJbnB1dCx0aGlzLnNhdmVCdXR0b25WaWV3LHRoaXMuY2FuY2VsQnV0dG9uVmlld10uZm9yRWFjaCh0PT57dGhpcy5fZm9jdXNhYmxlcy5hZGQodCksdGhpcy5mb2N1c1RyYWNrZXIuYWRkKHQuZWxlbWVudCl9KX1fY3JlYXRlQnV0dG9uKHQsZSxuLG8pe2NvbnN0IGk9bmV3IEZkKHRoaXMubG9jYWxlKTtyZXR1cm4gaS5zZXQoe2xhYmVsOnQsaWNvbjplLHRvb2x0aXA6ITB9KSxpLmV4dGVuZFRlbXBsYXRlKHthdHRyaWJ1dGVzOntjbGFzczpufX0pLG8mJmkuZGVsZWdhdGUoXCJleGVjdXRlXCIpLnRvKHRoaXMsbyksaX1fY3JlYXRlTGFiZWxlZElucHV0Vmlldygpe2NvbnN0IHQ9dGhpcy5sb2NhbGUudCxlPW5ldyB1aCh0aGlzLmxvY2FsZSxoaCk7cmV0dXJuIGUubGFiZWw9dChcImF5XCIpLGUuaW5wdXRWaWV3LnBsYWNlaG9sZGVyPXQoXCJheVwiKSxlfX1jbGFzcyBfaCBleHRlbmRzIFVse3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiQ29udGV4dHVhbEJhbGxvb25cIn1pbml0KCl7dGhpcy52aWV3PW5ldyBObCx0aGlzLnBvc2l0aW9uTGltaXRlcj0oKCk9Pntjb25zdCB0PXRoaXMuZWRpdG9yLmVkaXRpbmcudmlldyxlPXQuZG9jdW1lbnQuc2VsZWN0aW9uLmVkaXRhYmxlRWxlbWVudDtyZXR1cm4gZT90LmRvbUNvbnZlcnRlci5tYXBWaWV3VG9Eb20oZS5yb290KTpudWxsfSksdGhpcy5fc3RhY2s9bmV3IE1hcCx0aGlzLmVkaXRvci51aS52aWV3LmJvZHkuYWRkKHRoaXMudmlldyksdGhpcy5lZGl0b3IudWkuZm9jdXNUcmFja2VyLmFkZCh0aGlzLnZpZXcuZWxlbWVudCl9Z2V0IHZpc2libGVWaWV3KCl7Y29uc3QgdD10aGlzLl9zdGFjay5nZXQodGhpcy52aWV3LmNvbnRlbnQuZ2V0KDApKTtyZXR1cm4gdD90LnZpZXc6bnVsbH1oYXNWaWV3KHQpe3JldHVybiB0aGlzLl9zdGFjay5oYXModCl9YWRkKHQpe2lmKHRoaXMuaGFzVmlldyh0LnZpZXcpKXRocm93IG5ldyBNLmIoXCJjb250ZXh0dWFsYmFsbG9vbi1hZGQtdmlldy1leGlzdDogQ2Fubm90IGFkZCBjb25maWd1cmF0aW9uIG9mIHRoZSBzYW1lIHZpZXcgdHdpY2UuXCIpO3RoaXMudmlzaWJsZVZpZXcmJnRoaXMudmlldy5jb250ZW50LnJlbW92ZSh0aGlzLnZpc2libGVWaWV3KSx0aGlzLl9zdGFjay5zZXQodC52aWV3LHQpLHRoaXMuX3Nob3codCl9cmVtb3ZlKHQpe2lmKCF0aGlzLmhhc1ZpZXcodCkpdGhyb3cgbmV3IE0uYihcImNvbnRleHR1YWxiYWxsb29uLXJlbW92ZS12aWV3LW5vdC1leGlzdDogQ2Fubm90IHJlbW92ZSBjb25maWd1cmF0aW9uIG9mIG5vdCBleGlzdGluZyB2aWV3LlwiKTtpZih0aGlzLnZpc2libGVWaWV3PT09dCl7dGhpcy52aWV3LmNvbnRlbnQucmVtb3ZlKHQpLHRoaXMuX3N0YWNrLmRlbGV0ZSh0KTtjb25zdCBlPUFycmF5LmZyb20odGhpcy5fc3RhY2sudmFsdWVzKCkpLnBvcCgpO2U/dGhpcy5fc2hvdyhlKTp0aGlzLnZpZXcuaGlkZSgpfWVsc2UgdGhpcy5fc3RhY2suZGVsZXRlKHQpfXVwZGF0ZVBvc2l0aW9uKHQpe3QmJih0aGlzLl9zdGFjay5nZXQodGhpcy52aXNpYmxlVmlldykucG9zaXRpb249dCksdGhpcy52aWV3LnBpbih0aGlzLl9nZXRCYWxsb29uUG9zaXRpb24oKSl9X3Nob3coe3ZpZXc6dCxiYWxsb29uQ2xhc3NOYW1lOmU9XCJcIn0pe3RoaXMudmlldy5jbGFzc05hbWU9ZSx0aGlzLnZpZXcuY29udGVudC5hZGQodCksdGhpcy52aWV3LnBpbih0aGlzLl9nZXRCYWxsb29uUG9zaXRpb24oKSl9X2dldEJhbGxvb25Qb3NpdGlvbigpe2xldCB0PUFycmF5LmZyb20odGhpcy5fc3RhY2sudmFsdWVzKCkpLnBvcCgpLnBvc2l0aW9uO3JldHVybiB0JiYhdC5saW1pdGVyJiYodD1PYmplY3QuYXNzaWduKHt9LHQse2xpbWl0ZXI6dGhpcy5wb3NpdGlvbkxpbWl0ZXJ9KSksdH19dmFyIHZoPW4oMjYpLGtoPW4ubih2aCk7ZnVuY3Rpb24geWgodCl7Y29uc3QgZT10LmVkaXRpbmcudmlldyxuPU5sLmRlZmF1bHRQb3NpdGlvbnM7cmV0dXJue3RhcmdldDplLmRvbUNvbnZlcnRlci52aWV3VG9Eb20oZS5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCkpLHBvc2l0aW9uczpbbi5ub3J0aEFycm93U291dGgsbi5ub3J0aEFycm93U291dGhXZXN0LG4ubm9ydGhBcnJvd1NvdXRoRWFzdCxuLnNvdXRoQXJyb3dOb3J0aCxuLnNvdXRoQXJyb3dOb3J0aFdlc3Qsbi5zb3V0aEFycm93Tm9ydGhFYXN0XX19Y2xhc3MgeGggZXh0ZW5kcyBVbHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW19oXX1pbml0KCl7dGhpcy5fY3JlYXRlQnV0dG9uKCksdGhpcy5fY3JlYXRlRm9ybSgpfV9jcmVhdGVCdXR0b24oKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC50O3QudWkuY29tcG9uZW50RmFjdG9yeS5hZGQoXCJpbWFnZVRleHRBbHRlcm5hdGl2ZVwiLG49Pntjb25zdCBvPXQuY29tbWFuZHMuZ2V0KFwiaW1hZ2VUZXh0QWx0ZXJuYXRpdmVcIiksaT1uZXcgRmQobik7cmV0dXJuIGkuc2V0KHtsYWJlbDplKFwiYXBcIiksaWNvbjpraC5hLHRvb2x0aXA6ITB9KSxpLmJpbmQoXCJpc0VuYWJsZWRcIikudG8obyxcImlzRW5hYmxlZFwiKSx0aGlzLmxpc3RlblRvKGksXCJleGVjdXRlXCIsKCk9PnRoaXMuX3Nob3dGb3JtKCkpLGl9KX1fY3JlYXRlRm9ybSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10LmVkaXRpbmcudmlldy5kb2N1bWVudDt0aGlzLl9iYWxsb29uPXRoaXMuZWRpdG9yLnBsdWdpbnMuZ2V0KFwiQ29udGV4dHVhbEJhbGxvb25cIiksdGhpcy5fZm9ybT1uZXcgd2godC5sb2NhbGUpLHRoaXMuX2Zvcm0ucmVuZGVyKCksdGhpcy5saXN0ZW5Ubyh0aGlzLl9mb3JtLFwic3VibWl0XCIsKCk9Pnt0LmV4ZWN1dGUoXCJpbWFnZVRleHRBbHRlcm5hdGl2ZVwiLHtuZXdWYWx1ZTp0aGlzLl9mb3JtLmxhYmVsZWRJbnB1dC5pbnB1dFZpZXcuZWxlbWVudC52YWx1ZX0pLHRoaXMuX2hpZGVGb3JtKCEwKX0pLHRoaXMubGlzdGVuVG8odGhpcy5fZm9ybSxcImNhbmNlbFwiLCgpPT57dGhpcy5faGlkZUZvcm0oITApfSksdGhpcy5fZm9ybS5rZXlzdHJva2VzLnNldChcIkVzY1wiLCh0LGUpPT57dGhpcy5faGlkZUZvcm0oITApLGUoKX0pLHRoaXMubGlzdGVuVG8odC51aSxcInVwZGF0ZVwiLCgpPT57dGgoZS5zZWxlY3Rpb24pP3RoaXMuX2lzVmlzaWJsZSYmZnVuY3Rpb24odCl7Y29uc3QgZT10LnBsdWdpbnMuZ2V0KFwiQ29udGV4dHVhbEJhbGxvb25cIik7aWYodGgodC5lZGl0aW5nLnZpZXcuZG9jdW1lbnQuc2VsZWN0aW9uKSl7Y29uc3Qgbj15aCh0KTtlLnVwZGF0ZVBvc2l0aW9uKG4pfX0odCk6dGhpcy5faGlkZUZvcm0oITApfSksbGgoe2VtaXR0ZXI6dGhpcy5fZm9ybSxhY3RpdmF0b3I6KCk9PnRoaXMuX2lzVmlzaWJsZSxjb250ZXh0RWxlbWVudHM6W3RoaXMuX2Zvcm0uZWxlbWVudF0sY2FsbGJhY2s6KCk9PnRoaXMuX2hpZGVGb3JtKCl9KX1fc2hvd0Zvcm0oKXtpZih0aGlzLl9pc1Zpc2libGUpcmV0dXJuO2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10LmNvbW1hbmRzLmdldChcImltYWdlVGV4dEFsdGVybmF0aXZlXCIpLG49dGhpcy5fZm9ybS5sYWJlbGVkSW5wdXQ7dGhpcy5fYmFsbG9vbi5oYXNWaWV3KHRoaXMuX2Zvcm0pfHx0aGlzLl9iYWxsb29uLmFkZCh7dmlldzp0aGlzLl9mb3JtLHBvc2l0aW9uOnloKHQpfSksbi52YWx1ZT1uLmlucHV0Vmlldy5lbGVtZW50LnZhbHVlPWUudmFsdWV8fFwiXCIsdGhpcy5fZm9ybS5sYWJlbGVkSW5wdXQuc2VsZWN0KCl9X2hpZGVGb3JtKHQpe3RoaXMuX2lzVmlzaWJsZSYmKHRoaXMuX2JhbGxvb24ucmVtb3ZlKHRoaXMuX2Zvcm0pLHQmJnRoaXMuZWRpdG9yLmVkaXRpbmcudmlldy5mb2N1cygpKX1nZXQgX2lzVmlzaWJsZSgpe3JldHVybiB0aGlzLl9iYWxsb29uLnZpc2libGVWaWV3PT10aGlzLl9mb3JtfX1jbGFzcyBBaCBleHRlbmRzIFVse3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bY2gseGhdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiSW1hZ2VUZXh0QWx0ZXJuYXRpdmVcIn19big2OSk7Y2xhc3MgQ2ggZXh0ZW5kcyBVbHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW25oLHNoLEFoXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkltYWdlXCJ9fWNsYXNzIFRoIGV4dGVuZHMgQWx7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5idXR0b25WaWV3PW5ldyBGZCh0KSx0aGlzLl9maWxlSW5wdXRWaWV3PW5ldyBNaCh0KSx0aGlzLl9maWxlSW5wdXRWaWV3LmJpbmQoXCJhY2NlcHRlZFR5cGVcIikudG8odGhpcyksdGhpcy5fZmlsZUlucHV0Vmlldy5iaW5kKFwiYWxsb3dNdWx0aXBsZUZpbGVzXCIpLnRvKHRoaXMpLHRoaXMuX2ZpbGVJbnB1dFZpZXcuZGVsZWdhdGUoXCJkb25lXCIpLnRvKHRoaXMpLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzpcInNwYW5cIixhdHRyaWJ1dGVzOntjbGFzczpcImNrLWZpbGUtZGlhbG9nLWJ1dHRvblwifSxjaGlsZHJlbjpbdGhpcy5idXR0b25WaWV3LHRoaXMuX2ZpbGVJbnB1dFZpZXddfSksdGhpcy5idXR0b25WaWV3Lm9uKFwiZXhlY3V0ZVwiLCgpPT57dGhpcy5fZmlsZUlucHV0Vmlldy5vcGVuKCl9KX1mb2N1cygpe3RoaXMuYnV0dG9uVmlldy5mb2N1cygpfX1jbGFzcyBNaCBleHRlbmRzIEFse2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuc2V0KFwiYWNjZXB0ZWRUeXBlXCIpLHRoaXMuc2V0KFwiYWxsb3dNdWx0aXBsZUZpbGVzXCIsITEpO2NvbnN0IGU9dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwiaW5wdXRcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJjay1oaWRkZW5cIl0sdHlwZTpcImZpbGVcIix0YWJpbmRleDpcIi0xXCIsYWNjZXB0OmUudG8oXCJhY2NlcHRlZFR5cGVcIiksbXVsdGlwbGU6ZS50byhcImFsbG93TXVsdGlwbGVGaWxlc1wiKX0sb246e2NoYW5nZTplLnRvKCgpPT57dGhpcy5lbGVtZW50JiZ0aGlzLmVsZW1lbnQuZmlsZXMmJnRoaXMuZWxlbWVudC5maWxlcy5sZW5ndGgmJnRoaXMuZmlyZShcImRvbmVcIix0aGlzLmVsZW1lbnQuZmlsZXMpLHRoaXMuZWxlbWVudC52YWx1ZT1cIlwifSl9fSl9b3Blbigpe3RoaXMuZWxlbWVudC5jbGljaygpfX12YXIgUGg9bigyNyksU2g9bi5uKFBoKTtmdW5jdGlvbiBFaCh0KXtyZXR1cm4vXmltYWdlXFwvKGpwZWd8cG5nfGdpZnxibXApJC8udGVzdCh0LnR5cGUpfWNsYXNzIEloIGV4dGVuZHMgVWx7aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10LnQ7dC51aS5jb21wb25lbnRGYWN0b3J5LmFkZChcImltYWdlVXBsb2FkXCIsbj0+e2NvbnN0IG89bmV3IFRoKG4pLGk9dC5jb21tYW5kcy5nZXQoXCJpbWFnZVVwbG9hZFwiKTtyZXR1cm4gby5zZXQoe2FjY2VwdGVkVHlwZTpcImltYWdlLypcIixhbGxvd011bHRpcGxlRmlsZXM6ITB9KSxvLmJ1dHRvblZpZXcuc2V0KHtsYWJlbDplKFwicVwiKSxpY29uOlNoLmEsdG9vbHRpcDohMH0pLG8uYnV0dG9uVmlldy5iaW5kKFwiaXNFbmFibGVkXCIpLnRvKGkpLG8ub24oXCJkb25lXCIsKGUsbik9Pntjb25zdCBvPUFycmF5LmZyb20obikuZmlsdGVyKEVoKTtvLmxlbmd0aCYmdC5leGVjdXRlKFwiaW1hZ2VVcGxvYWRcIix7ZmlsZXM6b30pfSksb30pfX12YXIgTmg9bigyOCksT2g9bi5uKE5oKTtuKDcxKSxuKDczKSxuKDc1KTtjbGFzcyBSaCBleHRlbmRzIFVse2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMucGxhY2Vob2xkZXI9XCJkYXRhOmltYWdlL3N2Zyt4bWw7dXRmOCxcIitlbmNvZGVVUklDb21wb25lbnQoT2guYSl9aW5pdCgpe3RoaXMuZWRpdG9yLmVkaXRpbmcuZG93bmNhc3REaXNwYXRjaGVyLm9uKFwiYXR0cmlidXRlOnVwbG9hZFN0YXR1czppbWFnZVwiLCguLi50KT0+dGhpcy51cGxvYWRTdGF0dXNDaGFuZ2UoLi4udCkpfXVwbG9hZFN0YXR1c0NoYW5nZSh0LGUsbil7Y29uc3Qgbz10aGlzLmVkaXRvcixpPWUuaXRlbSxyPWkuZ2V0QXR0cmlidXRlKFwidXBsb2FkSWRcIik7aWYoIW4uY29uc3VtYWJsZS5jb25zdW1lKGUuaXRlbSx0Lm5hbWUpKXJldHVybjtjb25zdCBzPW8ucGx1Z2lucy5nZXQoJGQpLGE9cj9lLmF0dHJpYnV0ZU5ld1ZhbHVlOm51bGwsYz10aGlzLnBsYWNlaG9sZGVyLGw9by5lZGl0aW5nLm1hcHBlci50b1ZpZXdFbGVtZW50KGkpLGQ9bi53cml0ZXI7aWYoXCJyZWFkaW5nXCI9PWEpcmV0dXJuIExoKGwsZCksdm9pZCBWaChjLGwsZCk7aWYoXCJ1cGxvYWRpbmdcIj09YSl7Y29uc3QgdD1zLmxvYWRlcnMuZ2V0KHIpO3JldHVybiBMaChsLGQpLHZvaWQodD8oRmgobCxkKSxmdW5jdGlvbih0LGUsbixvKXtjb25zdCBpPWZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5jcmVhdGVVSUVsZW1lbnQoXCJkaXZcIix7Y2xhc3M6XCJjay1wcm9ncmVzcy1iYXJcIn0pO3JldHVybiB0LnNldEN1c3RvbVByb3BlcnR5KERoLCEwLGUpLGV9KGUpO2UuaW5zZXJ0KCRvLmNyZWF0ZUF0KHQsXCJlbmRcIiksaSksbi5vbihcImNoYW5nZTp1cGxvYWRlZFBlcmNlbnRcIiwodCxlLG4pPT57by5jaGFuZ2UodD0+e3Quc2V0U3R5bGUoXCJ3aWR0aFwiLG4rXCIlXCIsaSl9KX0pfShsLGQsdCxvLmVkaXRpbmcudmlldykpOlZoKGMsbCxkKSl9XCJjb21wbGV0ZVwiPT1hJiZzLmxvYWRlcnMuZ2V0KHIpJiYhbGkuaXNFZGdlJiZmdW5jdGlvbih0LGUsbil7Y29uc3Qgbz1uZXcgcGkoXCJkaXZcIix7Y2xhc3M6XCJjay1pbWFnZS11cGxvYWQtY29tcGxldGUtaWNvblwifSk7ZS5pbnNlcnQoJG8uY3JlYXRlQXQodCxcImVuZFwiKSxvKSxzZXRUaW1lb3V0KCgpPT57bi5jaGFuZ2UodD0+dC5yZW1vdmUoUW8uY3JlYXRlT24obykpKX0sM2UzKX0obCxkLG8uZWRpdGluZy52aWV3KSxmdW5jdGlvbih0LGUpe0JoKHQsZSxEaCl9KGwsZCksRmgobCxkKSxmdW5jdGlvbih0LGUpe2UucmVtb3ZlQ2xhc3MoXCJjay1hcHBlYXJcIix0KX0obCxkKX19Y29uc3QgRGg9U3ltYm9sKFwicHJvZ3Jlc3MtYmFyXCIpLGpoPVN5bWJvbChcInBsYWNlaG9sZGVyXCIpO2Z1bmN0aW9uIExoKHQsZSl7dC5oYXNDbGFzcyhcImNrLWFwcGVhclwiKXx8ZS5hZGRDbGFzcyhcImNrLWFwcGVhclwiLHQpfWZ1bmN0aW9uIFZoKHQsZSxuKXtlLmhhc0NsYXNzKFwiY2staW1hZ2UtdXBsb2FkLXBsYWNlaG9sZGVyXCIpfHxuLmFkZENsYXNzKFwiY2staW1hZ2UtdXBsb2FkLXBsYWNlaG9sZGVyXCIsZSk7Y29uc3Qgbz1lLmdldENoaWxkKDApO28uZ2V0QXR0cmlidXRlKFwic3JjXCIpIT09dCYmbi5zZXRBdHRyaWJ1dGUoXCJzcmNcIix0LG8pLHpoKGUsamgpfHxuLmluc2VydCgkby5jcmVhdGVBZnRlcihvKSxmdW5jdGlvbih0KXtjb25zdCBlPXQuY3JlYXRlVUlFbGVtZW50KFwiZGl2XCIse2NsYXNzOlwiY2stdXBsb2FkLXBsYWNlaG9sZGVyLWxvYWRlclwifSk7cmV0dXJuIHQuc2V0Q3VzdG9tUHJvcGVydHkoamgsITAsZSksZX0obikpfWZ1bmN0aW9uIEZoKHQsZSl7dC5oYXNDbGFzcyhcImNrLWltYWdlLXVwbG9hZC1wbGFjZWhvbGRlclwiKSYmZS5yZW1vdmVDbGFzcyhcImNrLWltYWdlLXVwbG9hZC1wbGFjZWhvbGRlclwiLHQpLEJoKHQsZSxqaCl9ZnVuY3Rpb24gemgodCxlKXtmb3IoY29uc3QgbiBvZiB0LmdldENoaWxkcmVuKCkpaWYobi5nZXRDdXN0b21Qcm9wZXJ0eShlKSlyZXR1cm4gbn1mdW5jdGlvbiBCaCh0LGUsbil7Y29uc3Qgbz16aCh0LG4pO28mJmUucmVtb3ZlKFFvLmNyZWF0ZU9uKG8pKX1jbGFzcyBVaCBleHRlbmRzIEdse3JlZnJlc2goKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLGU9dC5kb2N1bWVudC5zZWxlY3Rpb24sbj10LnNjaGVtYTt0aGlzLmlzRW5hYmxlZD1mdW5jdGlvbih0LGUpe2NvbnN0IG49ZnVuY3Rpb24odCl7bGV0IGU9S3UodCkucGFyZW50O2UuaXMoXCIkcm9vdFwiKXx8KGU9ZS5wYXJlbnQpO3JldHVybiBlfSh0KTtyZXR1cm4gZS5jaGVja0NoaWxkKG4sXCJpbWFnZVwiKX0oZSxuKSYmZnVuY3Rpb24odCxlKXtjb25zdCBuPXQuZ2V0U2VsZWN0ZWRFbGVtZW50KCksbz0hIW4mJmUuaXNPYmplY3QobiksaT0hIVsuLi50LmZvY3VzLmdldEFuY2VzdG9ycygpXS5maW5kKHQ9PmUuaXNPYmplY3QodCkpO3JldHVybiFvJiYhaX0oZSxuKX1leGVjdXRlKHQpe2NvbnN0IGU9dGhpcy5lZGl0b3I7ZS5tb2RlbC5jaGFuZ2Uobj0+e2NvbnN0IG89QXJyYXkuaXNBcnJheSh0LmZpbGVzKT90LmZpbGVzOlt0LmZpbGVzXTtmb3IoY29uc3QgdCBvZiBvKUhoKG4sZSx0KX0pfX1mdW5jdGlvbiBIaCh0LGUsbil7Y29uc3Qgbz1lLm1vZGVsLmRvY3VtZW50LGk9ZS5wbHVnaW5zLmdldCgkZCkuY3JlYXRlTG9hZGVyKG4pO2lmKCFpKXJldHVybjtjb25zdCByPXQuY3JlYXRlRWxlbWVudChcImltYWdlXCIse3VwbG9hZElkOmkuaWR9KSxzPUt1KG8uc2VsZWN0aW9uKTtlLm1vZGVsLmluc2VydENvbnRlbnQocixzKSxyLnBhcmVudCYmdC5zZXRTZWxlY3Rpb24ocixcIm9uXCIpfWNsYXNzIHFoIGV4dGVuZHMgVWx7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJOb3RpZmljYXRpb25cIn1pbml0KCl7dGhpcy5vbihcInNob3c6d2FybmluZ1wiLCh0LGUpPT57d2luZG93LmFsZXJ0KGUubWVzc2FnZSl9LHtwcmlvcml0eTpcImxvd2VzdFwifSl9c2hvd1N1Y2Nlc3ModCxlPXt9KXt0aGlzLl9zaG93Tm90aWZpY2F0aW9uKHttZXNzYWdlOnQsdHlwZTpcInN1Y2Nlc3NcIixuYW1lc3BhY2U6ZS5uYW1lc3BhY2UsdGl0bGU6ZS50aXRsZX0pfXNob3dJbmZvKHQsZT17fSl7dGhpcy5fc2hvd05vdGlmaWNhdGlvbih7bWVzc2FnZTp0LHR5cGU6XCJpbmZvXCIsbmFtZXNwYWNlOmUubmFtZXNwYWNlLHRpdGxlOmUudGl0bGV9KX1zaG93V2FybmluZyh0LGU9e30pe3RoaXMuX3Nob3dOb3RpZmljYXRpb24oe21lc3NhZ2U6dCx0eXBlOlwid2FybmluZ1wiLG5hbWVzcGFjZTplLm5hbWVzcGFjZSx0aXRsZTplLnRpdGxlfSl9X3Nob3dOb3RpZmljYXRpb24odCl7Y29uc3QgZT1gc2hvdzoke3QudHlwZX1gKyh0Lm5hbWVzcGFjZT9gOiR7dC5uYW1lc3BhY2V9YDpcIlwiKTt0aGlzLmZpcmUoZSx7bWVzc2FnZTp0Lm1lc3NhZ2UsdHlwZTp0LnR5cGUsdGl0bGU6dC50aXRsZXx8XCJcIn0pfX1jbGFzcyBXaCBleHRlbmRzIFVse3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bJGQscWhdfWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC5tb2RlbC5kb2N1bWVudCxuPXQubW9kZWwuc2NoZW1hLG89dC5wbHVnaW5zLmdldCgkZCk7bi5leHRlbmQoXCJpbWFnZVwiLHthbGxvd0F0dHJpYnV0ZXM6W1widXBsb2FkSWRcIixcInVwbG9hZFN0YXR1c1wiXX0pLHQuY29tbWFuZHMuYWRkKFwiaW1hZ2VVcGxvYWRcIixuZXcgVWgodCkpLHRoaXMubGlzdGVuVG8odC5lZGl0aW5nLnZpZXcuZG9jdW1lbnQsXCJjbGlwYm9hcmRJbnB1dFwiLChlLG4pPT57aWYoZnVuY3Rpb24odCl7cmV0dXJuIEFycmF5LmZyb20odC50eXBlcykuaW5jbHVkZXMoXCJ0ZXh0L2h0bWxcIikmJlwiXCIhPT10LmdldERhdGEoXCJ0ZXh0L2h0bWxcIil9KG4uZGF0YVRyYW5zZmVyKSlyZXR1cm47Y29uc3Qgbz1BcnJheS5mcm9tKG4uZGF0YVRyYW5zZmVyLmZpbGVzKS5maWx0ZXIoRWgpLGk9bmV3IEpzKG4udGFyZ2V0UmFuZ2VzLm1hcChlPT50LmVkaXRpbmcubWFwcGVyLnRvTW9kZWxSYW5nZShlKSkpO3QubW9kZWwuY2hhbmdlKG49PntuLnNldFNlbGVjdGlvbihpKSxvLmxlbmd0aCYmKGUuc3RvcCgpLHQubW9kZWwuZW5xdWV1ZUNoYW5nZShcImRlZmF1bHRcIiwoKT0+e3QuZXhlY3V0ZShcImltYWdlVXBsb2FkXCIse2ZpbGVzOm99KX0pKX0pfSksdC5lZGl0aW5nLnZpZXcuZG9jdW1lbnQub24oXCJkcmFnb3ZlclwiLCh0LGUpPT57ZS5wcmV2ZW50RGVmYXVsdCgpfSksZS5vbihcImNoYW5nZVwiLCgpPT57Y29uc3QgdD1lLmRpZmZlci5nZXRDaGFuZ2VzKHtpbmNsdWRlQ2hhbmdlc0luR3JhdmV5YXJkOiEwfSk7Zm9yKGNvbnN0IGUgb2YgdClpZihcImluc2VydFwiPT1lLnR5cGUmJlwiaW1hZ2VcIj09ZS5uYW1lKXtjb25zdCB0PWUucG9zaXRpb24ubm9kZUFmdGVyLG49XCIkZ3JhdmV5YXJkXCI9PWUucG9zaXRpb24ucm9vdC5yb290TmFtZSxpPXQuZ2V0QXR0cmlidXRlKFwidXBsb2FkSWRcIik7aWYoIWkpY29udGludWU7Y29uc3Qgcj1vLmxvYWRlcnMuZ2V0KGkpO2lmKCFyKWNvbnRpbnVlO24/ci5hYm9ydCgpOlwiaWRsZVwiPT1yLnN0YXR1cyYmdGhpcy5fcmVhZEFuZFVwbG9hZChyLHQpfX0pfV9yZWFkQW5kVXBsb2FkKHQsZSl7Y29uc3Qgbj10aGlzLmVkaXRvcixvPW4ubW9kZWwsaT1uLmxvY2FsZS50LHI9bi5wbHVnaW5zLmdldCgkZCkscz1uLnBsdWdpbnMuZ2V0KHFoKTtyZXR1cm4gby5lbnF1ZXVlQ2hhbmdlKFwidHJhbnNwYXJlbnRcIix0PT57dC5zZXRBdHRyaWJ1dGUoXCJ1cGxvYWRTdGF0dXNcIixcInJlYWRpbmdcIixlKX0pLHQucmVhZCgpLnRoZW4oaT0+e2NvbnN0IHI9bi5lZGl0aW5nLm1hcHBlci50b1ZpZXdFbGVtZW50KGUpLmdldENoaWxkKDApLHM9dC51cGxvYWQoKTtyZXR1cm4gbi5lZGl0aW5nLnZpZXcuY2hhbmdlKHQ9Pnt0LnNldEF0dHJpYnV0ZShcInNyY1wiLGkscil9KSxvLmVucXVldWVDaGFuZ2UoXCJ0cmFuc3BhcmVudFwiLHQ9Pnt0LnNldEF0dHJpYnV0ZShcInVwbG9hZFN0YXR1c1wiLFwidXBsb2FkaW5nXCIsZSl9KSxzfSkudGhlbih0PT57by5lbnF1ZXVlQ2hhbmdlKFwidHJhbnNwYXJlbnRcIixuPT57bi5zZXRBdHRyaWJ1dGVzKHt1cGxvYWRTdGF0dXM6XCJjb21wbGV0ZVwiLHNyYzp0LmRlZmF1bHR9LGUpO2xldCBvPTA7Y29uc3QgaT1PYmplY3Qua2V5cyh0KS5maWx0ZXIodD0+e2NvbnN0IGU9cGFyc2VJbnQodCwxMCk7aWYoIWlzTmFOKGUpKXJldHVybiBvPU1hdGgubWF4KG8sZSksITB9KS5tYXAoZT0+YCR7dFtlXX0gJHtlfXdgKS5qb2luKFwiLCBcIik7XCJcIiE9aSYmbi5zZXRBdHRyaWJ1dGUoXCJzcmNzZXRcIix7ZGF0YTppLHdpZHRoOm99LGUpfSksYSgpfSkuY2F0Y2gobj0+e2lmKFwiZXJyb3JcIiE9PXQuc3RhdHVzJiZcImFib3J0ZWRcIiE9PXQuc3RhdHVzKXRocm93IG47XCJlcnJvclwiPT10LnN0YXR1cyYmcy5zaG93V2FybmluZyhuLHt0aXRsZTppKFwiclwiKSxuYW1lc3BhY2U6XCJ1cGxvYWRcIn0pLGEoKSxvLmVucXVldWVDaGFuZ2UoXCJ0cmFuc3BhcmVudFwiLHQ9Pnt0LnJlbW92ZShlKX0pfSk7ZnVuY3Rpb24gYSgpe28uZW5xdWV1ZUNoYW5nZShcInRyYW5zcGFyZW50XCIsdD0+e3QucmVtb3ZlQXR0cmlidXRlKFwidXBsb2FkSWRcIixlKSx0LnJlbW92ZUF0dHJpYnV0ZShcInVwbG9hZFN0YXR1c1wiLGUpfSksci5kZXN0cm95TG9hZGVyKHQpfX19Y2xhc3MgWWggZXh0ZW5kcyBVbHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkltYWdlVXBsb2FkXCJ9c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltXaCxJaCxSaF19fWNsYXNzIEdoIGV4dGVuZHMgR2x7cmVmcmVzaCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsZT1idSh0LmRvY3VtZW50LnNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpKTt0aGlzLnZhbHVlPSEhZSYmZS5pcyhcInBhcmFncmFwaFwiKSx0aGlzLmlzRW5hYmxlZD0hIWUmJiRoKGUsdC5zY2hlbWEpfWV4ZWN1dGUodD17fSl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCxuPWUuZG9jdW1lbnQ7ZS5jaGFuZ2Uobz0+e2NvbnN0IGk9KHQuc2VsZWN0aW9ufHxuLnNlbGVjdGlvbikuZ2V0U2VsZWN0ZWRCbG9ja3MoKTtmb3IoY29uc3QgdCBvZiBpKSF0LmlzKFwicGFyYWdyYXBoXCIpJiYkaCh0LGUuc2NoZW1hKSYmby5yZW5hbWUodCxcInBhcmFncmFwaFwiKX0pfX1mdW5jdGlvbiAkaCh0LGUpe3JldHVybiBlLmNoZWNrQ2hpbGQodC5wYXJlbnQsXCJwYXJhZ3JhcGhcIikmJiFlLmlzT2JqZWN0KHQpfWNsYXNzIFFoIGV4dGVuZHMgVWx7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJQYXJhZ3JhcGhcIn1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQubW9kZWwsbj10LmRhdGE7dC5jb21tYW5kcy5hZGQoXCJwYXJhZ3JhcGhcIixuZXcgR2godCkpLGUuc2NoZW1hLnJlZ2lzdGVyKFwicGFyYWdyYXBoXCIse2luaGVyaXRBbGxGcm9tOlwiJGJsb2NrXCJ9KSx0LmNvbnZlcnNpb24uZWxlbWVudFRvRWxlbWVudCh7bW9kZWw6XCJwYXJhZ3JhcGhcIix2aWV3OlwicFwifSksbi51cGNhc3REaXNwYXRjaGVyLm9uKFwiZWxlbWVudFwiLCh0LGUsbik9PntpZihuLmNvbnN1bWFibGUudGVzdChlLnZpZXdJdGVtLHtuYW1lOmUudmlld0l0ZW0ubmFtZX0pKWlmKFFoLnBhcmFncmFwaExpa2VFbGVtZW50cy5oYXMoZS52aWV3SXRlbS5uYW1lKSl7aWYoZS52aWV3SXRlbS5pc0VtcHR5KXJldHVybjtjb25zdCB0PW4ud3JpdGVyLmNyZWF0ZUVsZW1lbnQoXCJwYXJhZ3JhcGhcIiksbz1uLnNwbGl0VG9BbGxvd2VkUGFyZW50KHQsZS5tb2RlbEN1cnNvcik7aWYoIW8pcmV0dXJuO24ud3JpdGVyLmluc2VydCh0LG8ucG9zaXRpb24pO2NvbnN0e21vZGVsUmFuZ2U6aX09bi5jb252ZXJ0Q2hpbGRyZW4oZS52aWV3SXRlbSxIcy5jcmVhdGVBdCh0KSk7ZS5tb2RlbFJhbmdlPW5ldyBxcyhIcy5jcmVhdGVCZWZvcmUodCksaS5lbmQpLGUubW9kZWxDdXJzb3I9ZS5tb2RlbFJhbmdlLmVuZH1lbHNlIEtoKGUudmlld0l0ZW0sZS5tb2RlbEN1cnNvcixuLnNjaGVtYSkmJihlPU9iamVjdC5hc3NpZ24oZSxKaChlLnZpZXdJdGVtLGUubW9kZWxDdXJzb3IsbikpKX0se3ByaW9yaXR5OlwibG93XCJ9KSxuLnVwY2FzdERpc3BhdGNoZXIub24oXCJ0ZXh0XCIsKHQsZSxuKT0+e2UubW9kZWxSYW5nZXx8S2goZS52aWV3SXRlbSxlLm1vZGVsQ3Vyc29yLG4uc2NoZW1hKSYmKGU9T2JqZWN0LmFzc2lnbihlLEpoKGUudmlld0l0ZW0sZS5tb2RlbEN1cnNvcixuKSkpfSx7cHJpb3JpdHk6XCJsb3dlc3RcIn0pLGUuZG9jdW1lbnQucmVnaXN0ZXJQb3N0Rml4ZXIodD0+dGhpcy5fYXV0b3BhcmFncmFwaEVtcHR5Um9vdHModCkpLHQub24oXCJkYXRhUmVhZHlcIiwoKT0+e2UuZW5xdWV1ZUNoYW5nZShcInRyYW5zcGFyZW50XCIsdD0+dGhpcy5fYXV0b3BhcmFncmFwaEVtcHR5Um9vdHModCkpfSx7cHJpb3JpdHk6XCJsb3dlc3RcIn0pfV9hdXRvcGFyYWdyYXBoRW1wdHlSb290cyh0KXtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsO2Zvcihjb25zdCBuIG9mIGUuZG9jdW1lbnQuZ2V0Um9vdE5hbWVzKCkpe2NvbnN0IG89ZS5kb2N1bWVudC5nZXRSb290KG4pO2lmKG8uaXNFbXB0eSYmXCIkZ3JhdmV5YXJkXCIhPW8ucm9vdE5hbWUmJmUuc2NoZW1hLmNoZWNrQ2hpbGQobyxcInBhcmFncmFwaFwiKSlyZXR1cm4gdC5pbnNlcnRFbGVtZW50KFwicGFyYWdyYXBoXCIsbyksITB9fX1mdW5jdGlvbiBKaCh0LGUsbil7Y29uc3Qgbz1uLndyaXRlci5jcmVhdGVFbGVtZW50KFwicGFyYWdyYXBoXCIpO3JldHVybiBuLndyaXRlci5pbnNlcnQobyxlKSxuLmNvbnZlcnRJdGVtKHQsSHMuY3JlYXRlQXQobykpfWZ1bmN0aW9uIEtoKHQsZSxuKXtjb25zdCBvPW5ldyBrYShlKTtyZXR1cm4hIW4uY2hlY2tDaGlsZChvLFwicGFyYWdyYXBoXCIpJiYhIW4uY2hlY2tDaGlsZChvLnB1c2goXCJwYXJhZ3JhcGhcIiksdCl9UWgucGFyYWdyYXBoTGlrZUVsZW1lbnRzPW5ldyBTZXQoW1wiYmxvY2txdW90ZVwiLFwiZGRcIixcImRpdlwiLFwiZHRcIixcImgxXCIsXCJoMlwiLFwiaDNcIixcImg0XCIsXCJoNVwiLFwiaDZcIixcImxpXCIsXCJwXCIsXCJ0ZFwiXSk7Y2xhc3MgWmggZXh0ZW5kcyBHbHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMubW9kZWxFbGVtZW50cz1lfXJlZnJlc2goKXtjb25zdCB0PWJ1KHRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpKTt0aGlzLnZhbHVlPSEhdCYmdGhpcy5tb2RlbEVsZW1lbnRzLmluY2x1ZGVzKHQubmFtZSkmJnQubmFtZSx0aGlzLmlzRW5hYmxlZD0hIXQmJnRoaXMubW9kZWxFbGVtZW50cy5zb21lKGU9PlhoKHQsZSx0aGlzLmVkaXRvci5tb2RlbC5zY2hlbWEpKX1leGVjdXRlKHQpe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwsbj1lLmRvY3VtZW50LG89dC52YWx1ZTtlLmNoYW5nZSh0PT57Y29uc3QgaT1BcnJheS5mcm9tKG4uc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCkpLmZpbHRlcih0PT5YaCh0LG8sZS5zY2hlbWEpKTtmb3IoY29uc3QgZSBvZiBpKWUuaXMobyl8fHQucmVuYW1lKGUsbyl9KX19ZnVuY3Rpb24gWGgodCxlLG4pe3JldHVybiBuLmNoZWNrQ2hpbGQodC5wYXJlbnQsZSkmJiFuLmlzT2JqZWN0KHQpfWNvbnN0IHRmPVwicGFyYWdyYXBoXCI7Y2xhc3MgZWYgZXh0ZW5kcyBVbHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0LmNvbmZpZy5kZWZpbmUoXCJoZWFkaW5nXCIse29wdGlvbnM6W3ttb2RlbDpcInBhcmFncmFwaFwiLHRpdGxlOlwiUGFyYWdyYXBoXCIsY2xhc3M6XCJjay1oZWFkaW5nX3BhcmFncmFwaFwifSx7bW9kZWw6XCJoZWFkaW5nMVwiLHZpZXc6XCJoMlwiLHRpdGxlOlwiSGVhZGluZyAxXCIsY2xhc3M6XCJjay1oZWFkaW5nX2hlYWRpbmcxXCJ9LHttb2RlbDpcImhlYWRpbmcyXCIsdmlldzpcImgzXCIsdGl0bGU6XCJIZWFkaW5nIDJcIixjbGFzczpcImNrLWhlYWRpbmdfaGVhZGluZzJcIn0se21vZGVsOlwiaGVhZGluZzNcIix2aWV3OlwiaDRcIix0aXRsZTpcIkhlYWRpbmcgM1wiLGNsYXNzOlwiY2staGVhZGluZ19oZWFkaW5nM1wifV19KX1zdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW1FoXX1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQuY29uZmlnLmdldChcImhlYWRpbmcub3B0aW9uc1wiKSxuPVtdO2Zvcihjb25zdCBvIG9mIGUpby5tb2RlbCE9PXRmJiYodC5tb2RlbC5zY2hlbWEucmVnaXN0ZXIoby5tb2RlbCx7aW5oZXJpdEFsbEZyb206XCIkYmxvY2tcIn0pLHQuY29udmVyc2lvbi5lbGVtZW50VG9FbGVtZW50KG8pLG4ucHVzaChvLm1vZGVsKSk7dC5jb21tYW5kcy5hZGQoXCJoZWFkaW5nXCIsbmV3IFpoKHQsbikpfWFmdGVySW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10LmNvbW1hbmRzLmdldChcImVudGVyXCIpLG49dC5jb25maWcuZ2V0KFwiaGVhZGluZy5vcHRpb25zXCIpO2UmJnRoaXMubGlzdGVuVG8oZSxcImFmdGVyRXhlY3V0ZVwiLChlLG8pPT57Y29uc3QgaT10Lm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5nZXRGaXJzdFBvc2l0aW9uKCkucGFyZW50O24uc29tZSh0PT5pLmlzKHQubW9kZWwpKSYmIWkuaXModGYpJiYwPT09aS5jaGlsZENvdW50JiZvLndyaXRlci5yZW5hbWUoaSx0Zil9KX19Y2xhc3MgbmZ7Y29uc3RydWN0b3IodCxlKXtlJiZObyh0aGlzLGUpLHQmJnRoaXMuc2V0KHQpfX1CKG5mLExvKTtjbGFzcyBvZiBleHRlbmRzIEFse2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO2NvbnN0IGU9dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5zZXQoXCJpc1Zpc2libGVcIiwhMSksdGhpcy5jaGlsZHJlbj10aGlzLmNyZWF0ZUNvbGxlY3Rpb24oKSx0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJkaXZcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stcmVzZXRcIixcImNrLWRyb3Bkb3duX19wYW5lbFwiLGUuaWYoXCJpc1Zpc2libGVcIixcImNrLWRyb3Bkb3duX19wYW5lbC12aXNpYmxlXCIpXX0sY2hpbGRyZW46dGhpcy5jaGlsZHJlbixvbjp7c2VsZWN0c3RhcnQ6ZS50byh0PT50LnByZXZlbnREZWZhdWx0KCkpfX0pfWZvY3VzKCl7dGhpcy5jaGlsZHJlbi5sZW5ndGgmJnRoaXMuY2hpbGRyZW4uZmlyc3QuZm9jdXMoKX1mb2N1c0xhc3QoKXtpZih0aGlzLmNoaWxkcmVuLmxlbmd0aCl7Y29uc3QgdD10aGlzLmNoaWxkcmVuLmxhc3Q7XCJmdW5jdGlvblwiPT10eXBlb2YgdC5mb2N1c0xhc3Q/dC5mb2N1c0xhc3QoKTp0LmZvY3VzKCl9fX1uKDc3KTtjbGFzcyByZiBleHRlbmRzIEFse2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcih0KTtjb25zdCBvPXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuYnV0dG9uVmlldz1lLHRoaXMucGFuZWxWaWV3PW4sdGhpcy5zZXQoXCJpc09wZW5cIiwhMSksdGhpcy5zZXQoXCJpc0VuYWJsZWRcIiwhMCksdGhpcy5mb2N1c1RyYWNrZXI9bmV3IFpjLHRoaXMua2V5c3Ryb2tlcz1uZXcgVWMsdGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwiZGl2XCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLWRyb3Bkb3duXCIsby5pZihcImlzRW5hYmxlZFwiLFwiY2stZGlzYWJsZWRcIix0PT4hdCldfSxjaGlsZHJlbjpbZSxuXX0pLGUuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2NsYXNzOltcImNrLWRyb3Bkb3duX19idXR0b25cIl19fSl9cmVuZGVyKCl7c3VwZXIucmVuZGVyKCksdGhpcy5saXN0ZW5Ubyh0aGlzLmJ1dHRvblZpZXcsXCJvcGVuXCIsKCk9Pnt0aGlzLmlzT3Blbj0hdGhpcy5pc09wZW59KSx0aGlzLnBhbmVsVmlldy5iaW5kKFwiaXNWaXNpYmxlXCIpLnRvKHRoaXMsXCJpc09wZW5cIiksdGhpcy5rZXlzdHJva2VzLmxpc3RlblRvKHRoaXMuZWxlbWVudCksdGhpcy5mb2N1c1RyYWNrZXIuYWRkKHRoaXMuZWxlbWVudCk7Y29uc3QgdD0odCxlKT0+e3RoaXMuaXNPcGVuJiYodGhpcy5idXR0b25WaWV3LmZvY3VzKCksdGhpcy5pc09wZW49ITEsZSgpKX07dGhpcy5rZXlzdHJva2VzLnNldChcImFycm93ZG93blwiLCh0LGUpPT57dGhpcy5idXR0b25WaWV3LmlzRW5hYmxlZCYmIXRoaXMuaXNPcGVuJiYodGhpcy5pc09wZW49ITAsZSgpKX0pLHRoaXMua2V5c3Ryb2tlcy5zZXQoXCJhcnJvd3JpZ2h0XCIsKHQsZSk9Pnt0aGlzLmlzT3BlbiYmZSgpfSksdGhpcy5rZXlzdHJva2VzLnNldChcImFycm93bGVmdFwiLHQpLHRoaXMua2V5c3Ryb2tlcy5zZXQoXCJlc2NcIix0KX1mb2N1cygpe3RoaXMuYnV0dG9uVmlldy5mb2N1cygpfX12YXIgc2Y9bigyOSksYWY9bi5uKHNmKTtjbGFzcyBjZiBleHRlbmRzIEZke2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuYXJyb3dWaWV3PXRoaXMuX2NyZWF0ZUFycm93VmlldygpLHRoaXMuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e1wiYXJpYS1oYXNwb3B1cFwiOiEwfX0pLHRoaXMuZGVsZWdhdGUoXCJleGVjdXRlXCIpLnRvKHRoaXMsXCJvcGVuXCIpfXJlbmRlcigpe3N1cGVyLnJlbmRlcigpLHRoaXMuY2hpbGRyZW4uYWRkKHRoaXMuYXJyb3dWaWV3KX1fY3JlYXRlQXJyb3dWaWV3KCl7Y29uc3QgdD1uZXcgTGQ7cmV0dXJuIHQuY29udGVudD1hZi5hLHQuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2NsYXNzOlwiY2stZHJvcGRvd25fX2Fycm93XCJ9fSksdH19big3OSk7Y2xhc3MgbGYgZXh0ZW5kcyBBbHtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5pdGVtcz10aGlzLmNyZWF0ZUNvbGxlY3Rpb24oKSx0aGlzLmZvY3VzVHJhY2tlcj1uZXcgWmMsdGhpcy5rZXlzdHJva2VzPW5ldyBVYyx0aGlzLl9mb2N1c0N5Y2xlcj1uZXcgamwoe2ZvY3VzYWJsZXM6dGhpcy5pdGVtcyxmb2N1c1RyYWNrZXI6dGhpcy5mb2N1c1RyYWNrZXIsa2V5c3Ryb2tlSGFuZGxlcjp0aGlzLmtleXN0cm9rZXMsYWN0aW9uczp7Zm9jdXNQcmV2aW91czpcImFycm93dXBcIixmb2N1c05leHQ6XCJhcnJvd2Rvd25cIn19KSx0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJ1bFwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1yZXNldFwiLFwiY2stbGlzdFwiXX0sY2hpbGRyZW46dGhpcy5pdGVtc30pfXJlbmRlcigpe3N1cGVyLnJlbmRlcigpO2Zvcihjb25zdCB0IG9mIHRoaXMuaXRlbXMpdGhpcy5mb2N1c1RyYWNrZXIuYWRkKHQuZWxlbWVudCk7dGhpcy5pdGVtcy5vbihcImFkZFwiLCh0LGUpPT57dGhpcy5mb2N1c1RyYWNrZXIuYWRkKGUuZWxlbWVudCl9KSx0aGlzLml0ZW1zLm9uKFwicmVtb3ZlXCIsKHQsZSk9Pnt0aGlzLmZvY3VzVHJhY2tlci5yZW1vdmUoZS5lbGVtZW50KX0pLHRoaXMua2V5c3Ryb2tlcy5saXN0ZW5Ubyh0aGlzLmVsZW1lbnQpfWZvY3VzKCl7dGhpcy5fZm9jdXNDeWNsZXIuZm9jdXNGaXJzdCgpfWZvY3VzTGFzdCgpe3RoaXMuX2ZvY3VzQ3ljbGVyLmZvY3VzTGFzdCgpfX1jbGFzcyBkZiBleHRlbmRzIEFse2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuY2hpbGRyZW49dGhpcy5jcmVhdGVDb2xsZWN0aW9uKCksdGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwibGlcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stbGlzdF9faXRlbVwiXX0sY2hpbGRyZW46dGhpcy5jaGlsZHJlbn0pfWZvY3VzKCl7dGhpcy5jaGlsZHJlbi5maXJzdC5mb2N1cygpfX1jbGFzcyB1ZiBleHRlbmRzIEFse2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzpcImxpXCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLWxpc3RfX3NlcGFyYXRvclwiXX19KX19big4MSk7Y2xhc3MgaGYgZXh0ZW5kcyBGZHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLnRvZ2dsZVN3aXRjaFZpZXc9dGhpcy5fY3JlYXRlVG9nZ2xlVmlldygpLHRoaXMuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2NsYXNzOlwiY2stc3dpdGNoYnV0dG9uXCJ9fSl9cmVuZGVyKCl7c3VwZXIucmVuZGVyKCksdGhpcy5jaGlsZHJlbi5hZGQodGhpcy50b2dnbGVTd2l0Y2hWaWV3KX1fY3JlYXRlVG9nZ2xlVmlldygpe2NvbnN0IHQ9bmV3IEFsO3JldHVybiB0LnNldFRlbXBsYXRlKHt0YWc6XCJzcGFuXCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLWJ1dHRvbl9fdG9nZ2xlXCJdfSxjaGlsZHJlbjpbe3RhZzpcInNwYW5cIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stYnV0dG9uX190b2dnbGVfX2lubmVyXCJdfX1dfSksdH19big4Myksbig4NSk7ZnVuY3Rpb24gZmYodCxlPWNmKXtjb25zdCBuPW5ldyBlKHQpLG89bmV3IG9mKHQpLGk9bmV3IHJmKHQsbixvKTtyZXR1cm4gbi5iaW5kKFwiaXNFbmFibGVkXCIpLnRvKGkpLG4gaW5zdGFuY2VvZiBjZj9uLmJpbmQoXCJpc09uXCIpLnRvKGksXCJpc09wZW5cIik6bi5hcnJvd1ZpZXcuYmluZChcImlzT25cIikudG8oaSxcImlzT3BlblwiKSxmdW5jdGlvbih0KXsoZnVuY3Rpb24odCl7dC5vbihcInJlbmRlclwiLCgpPT57bGgoe2VtaXR0ZXI6dCxhY3RpdmF0b3I6KCk9PnQuaXNPcGVuLGNhbGxiYWNrOigpPT57dC5pc09wZW49ITF9LGNvbnRleHRFbGVtZW50czpbdC5lbGVtZW50XX0pfSl9KSh0KSxmdW5jdGlvbih0KXt0Lm9uKFwiZXhlY3V0ZVwiLGU9PntlLnNvdXJjZSBpbnN0YW5jZW9mIGhmfHwodC5pc09wZW49ITEpfSl9KHQpLGZ1bmN0aW9uKHQpe3Qua2V5c3Ryb2tlcy5zZXQoXCJhcnJvd2Rvd25cIiwoZSxuKT0+e3QuaXNPcGVuJiYodC5wYW5lbFZpZXcuZm9jdXMoKSxuKCkpfSksdC5rZXlzdHJva2VzLnNldChcImFycm93dXBcIiwoZSxuKT0+e3QuaXNPcGVuJiYodC5wYW5lbFZpZXcuZm9jdXNMYXN0KCksbigpKX0pfSh0KX0oaSksaX1mdW5jdGlvbiBtZih0LGUpe2NvbnN0IG49dC5sb2NhbGUsbz10Lmxpc3RWaWV3PW5ldyBsZihuKTtvLml0ZW1zLmJpbmRUbyhlKS51c2luZygoe3R5cGU6dCxtb2RlbDplfSk9PntpZihcInNlcGFyYXRvclwiPT09dClyZXR1cm4gbmV3IHVmKG4pO2lmKFwiYnV0dG9uXCI9PT10fHxcInN3aXRjaGJ1dHRvblwiPT09dCl7Y29uc3Qgbz1uZXcgZGYobik7bGV0IGk7cmV0dXJuKGk9XCJidXR0b25cIj09PXQ/bmV3IEZkKG4pOm5ldyBoZihuKSkuYmluZCguLi5PYmplY3Qua2V5cyhlKSkudG8oZSksaS5kZWxlZ2F0ZShcImV4ZWN1dGVcIikudG8obyksby5jaGlsZHJlbi5hZGQoaSksb319KSx0LnBhbmVsVmlldy5jaGlsZHJlbi5hZGQobyksby5pdGVtcy5kZWxlZ2F0ZShcImV4ZWN1dGVcIikudG8odCl9bigxNyk7Y2xhc3MgZ2YgZXh0ZW5kcyBVbHtpbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQudCxuPWZ1bmN0aW9uKHQpe2NvbnN0IGU9dC50LG49e1BhcmFncmFwaDplKFwiYXFcIiksXCJIZWFkaW5nIDFcIjplKFwiYXJcIiksXCJIZWFkaW5nIDJcIjplKFwiYXNcIiksXCJIZWFkaW5nIDNcIjplKFwiYXRcIil9O3JldHVybiB0LmNvbmZpZy5nZXQoXCJoZWFkaW5nLm9wdGlvbnNcIikubWFwKHQ9Pntjb25zdCBlPW5bdC50aXRsZV07cmV0dXJuIGUmJmUhPXQudGl0bGUmJih0PU9iamVjdC5hc3NpZ24oe30sdCx7dGl0bGU6ZX0pKSx0fSl9KHQpLG89ZShcImZcIiksaT1lKFwiZ1wiKTt0LnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKFwiaGVhZGluZ1wiLGU9Pntjb25zdCByPXt9LHM9bmV3IHRpLGE9dC5jb21tYW5kcy5nZXQoXCJoZWFkaW5nXCIpLGM9dC5jb21tYW5kcy5nZXQoXCJwYXJhZ3JhcGhcIiksbD1bYV07Zm9yKGNvbnN0IHQgb2Ygbil7Y29uc3QgZT17dHlwZTpcImJ1dHRvblwiLG1vZGVsOm5ldyBuZih7bGFiZWw6dC50aXRsZSxjbGFzczp0LmNsYXNzLHdpdGhUZXh0OiEwfSl9O1wicGFyYWdyYXBoXCI9PT10Lm1vZGVsPyhlLm1vZGVsLmJpbmQoXCJpc09uXCIpLnRvKGMsXCJ2YWx1ZVwiKSxlLm1vZGVsLnNldChcImNvbW1hbmROYW1lXCIsXCJwYXJhZ3JhcGhcIiksbC5wdXNoKGMpKTooZS5tb2RlbC5iaW5kKFwiaXNPblwiKS50byhhLFwidmFsdWVcIixlPT5lPT09dC5tb2RlbCksZS5tb2RlbC5zZXQoe2NvbW1hbmROYW1lOlwiaGVhZGluZ1wiLGNvbW1hbmRWYWx1ZTp0Lm1vZGVsfSkpLHMuYWRkKGUpLHJbdC5tb2RlbF09dC50aXRsZX1jb25zdCBkPWZmKGUpO3JldHVybiBtZihkLHMpLGQuYnV0dG9uVmlldy5zZXQoe2lzT246ITEsd2l0aFRleHQ6ITAsdG9vbHRpcDppfSksZC5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7Y2xhc3M6W1wiY2staGVhZGluZy1kcm9wZG93blwiXX19KSxkLmJpbmQoXCJpc0VuYWJsZWRcIikudG9NYW55KGwsXCJpc0VuYWJsZWRcIiwoLi4udCk9PnQuc29tZSh0PT50KSksZC5idXR0b25WaWV3LmJpbmQoXCJsYWJlbFwiKS50byhhLFwidmFsdWVcIixjLFwidmFsdWVcIiwodCxlKT0+e2NvbnN0IG49dHx8ZSYmXCJwYXJhZ3JhcGhcIjtyZXR1cm4gcltuXT9yW25dOm99KSx0aGlzLmxpc3RlblRvKGQsXCJleGVjdXRlXCIsZT0+e3QuZXhlY3V0ZShlLnNvdXJjZS5jb21tYW5kTmFtZSxlLnNvdXJjZS5jb21tYW5kVmFsdWU/e3ZhbHVlOmUuc291cmNlLmNvbW1hbmRWYWx1ZX06dm9pZCAwKSx0LmVkaXRpbmcudmlldy5mb2N1cygpfSksZH0pfX1uKDg4KTtjb25zdCBwZj1uZXcgV2Vha01hcDtmdW5jdGlvbiBiZih0LGUsbixvKXtjb25zdCBpPXQuZG9jdW1lbnQ7cGYuaGFzKGkpfHwocGYuc2V0KGksbmV3IE1hcCksaS5yZWdpc3RlclBvc3RGaXhlcih0PT4oZnVuY3Rpb24odCxlKXtjb25zdCBuPXBmLmdldCh0KTtsZXQgbz0hMTtmb3IoY29uc3RbdCxpXW9mIG4pd2YoZSx0LGkpJiYobz0hMCk7cmV0dXJuIG99KShpLHQpKSkscGYuZ2V0KGkpLnNldChlLHtwbGFjZWhvbGRlclRleHQ6bixjaGVja0Z1bmN0aW9uOm99KSx0LnJlbmRlcigpfWZ1bmN0aW9uIHdmKHQsZSxuKXtjb25zdCBvPWUuZG9jdW1lbnQsaT1uLnBsYWNlaG9sZGVyVGV4dDtsZXQgcj0hMTtpZighbylyZXR1cm4hMTtlLmdldEF0dHJpYnV0ZShcImRhdGEtcGxhY2Vob2xkZXJcIikhPT1pJiYodC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXBsYWNlaG9sZGVyXCIsaSxlKSxyPSEwKTtjb25zdCBzPW8uc2VsZWN0aW9uLmFuY2hvcixhPW4uY2hlY2tGdW5jdGlvbjtpZihhJiYhYSgpKXJldHVybiBlLmhhc0NsYXNzKFwiY2stcGxhY2Vob2xkZXJcIikmJih0LnJlbW92ZUNsYXNzKFwiY2stcGxhY2Vob2xkZXJcIixlKSxyPSEwKSxyO2NvbnN0IGM9IUFycmF5LmZyb20oZS5nZXRDaGlsZHJlbigpKS5zb21lKHQ9PiF0LmlzKFwidWlFbGVtZW50XCIpKTtyZXR1cm4hby5pc0ZvY3VzZWQmJmM/KGUuaGFzQ2xhc3MoXCJjay1wbGFjZWhvbGRlclwiKXx8KHQuYWRkQ2xhc3MoXCJjay1wbGFjZWhvbGRlclwiLGUpLHI9ITApLHIpOihjJiZzJiZzLnBhcmVudCE9PWU/ZS5oYXNDbGFzcyhcImNrLXBsYWNlaG9sZGVyXCIpfHwodC5hZGRDbGFzcyhcImNrLXBsYWNlaG9sZGVyXCIsZSkscj0hMCk6ZS5oYXNDbGFzcyhcImNrLXBsYWNlaG9sZGVyXCIpJiYodC5yZW1vdmVDbGFzcyhcImNrLXBsYWNlaG9sZGVyXCIsZSkscj0hMCkscil9Y29uc3QgX2Y9U3ltYm9sKFwiaW1hZ2VDYXB0aW9uXCIpO2Z1bmN0aW9uIHZmKHQpe2Zvcihjb25zdCBlIG9mIHQuZ2V0Q2hpbGRyZW4oKSlpZihlIGluc3RhbmNlb2YgRnMmJlwiY2FwdGlvblwiPT1lLm5hbWUpcmV0dXJuIGU7cmV0dXJuIG51bGx9ZnVuY3Rpb24ga2YodCl7Y29uc3QgZT10LnBhcmVudDtyZXR1cm5cImZpZ2NhcHRpb25cIj09dC5uYW1lJiZlJiZcImZpZ3VyZVwiPT1lLm5hbWUmJmUuaGFzQ2xhc3MoXCJpbWFnZVwiKT97bmFtZTohMH06bnVsbH1jbGFzcyB5ZiBleHRlbmRzIFVse2luaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC5lZGl0aW5nLnZpZXcsbj10Lm1vZGVsLnNjaGVtYSxvPXQuZGF0YSxpPXQuZWRpdGluZyxyPXQudDtuLnJlZ2lzdGVyKFwiY2FwdGlvblwiLHthbGxvd0luOlwiaW1hZ2VcIixhbGxvd0NvbnRlbnRPZjpcIiRibG9ja1wiLGlzTGltaXQ6ITB9KSx0Lm1vZGVsLmRvY3VtZW50LnJlZ2lzdGVyUG9zdEZpeGVyKHQ9PnRoaXMuX2luc2VydE1pc3NpbmdNb2RlbENhcHRpb25FbGVtZW50KHQpKSx0LmNvbnZlcnNpb24uZm9yKFwidXBjYXN0XCIpLmFkZChPYSh7dmlldzprZixtb2RlbDpcImNhcHRpb25cIn0pKTtvLmRvd25jYXN0RGlzcGF0Y2hlci5vbihcImluc2VydDpjYXB0aW9uXCIseGYodD0+dC5jcmVhdGVDb250YWluZXJFbGVtZW50KFwiZmlnY2FwdGlvblwiKSwhMSkpO2NvbnN0IHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbj0+e2NvbnN0IG89bi5jcmVhdGVFZGl0YWJsZUVsZW1lbnQoXCJmaWdjYXB0aW9uXCIpO3JldHVybiBuLnNldEN1c3RvbVByb3BlcnR5KF9mLCEwLG8pLGJmKHQsbyxlKSxKdShvLG4pfX0oZSxyKFwiaFwiKSk7aS5kb3duY2FzdERpc3BhdGNoZXIub24oXCJpbnNlcnQ6Y2FwdGlvblwiLHhmKHMpKSxpLmRvd25jYXN0RGlzcGF0Y2hlci5vbihcImluc2VydFwiLHRoaXMuX2ZpeENhcHRpb25WaXNpYmlsaXR5KHQ9PnQuaXRlbSkse3ByaW9yaXR5OlwiaGlnaFwifSksaS5kb3duY2FzdERpc3BhdGNoZXIub24oXCJyZW1vdmVcIix0aGlzLl9maXhDYXB0aW9uVmlzaWJpbGl0eSh0PT50LnBvc2l0aW9uLnBhcmVudCkse3ByaW9yaXR5OlwiaGlnaFwifSksZS5kb2N1bWVudC5yZWdpc3RlclBvc3RGaXhlcih0PT50aGlzLl91cGRhdGVDYXB0aW9uVmlzaWJpbGl0eSh0KSl9X3VwZGF0ZUNhcHRpb25WaXNpYmlsaXR5KHQpe2NvbnN0IGU9dGhpcy5lZGl0b3IuZWRpdGluZy5tYXBwZXIsbj10aGlzLl9sYXN0U2VsZWN0ZWRDYXB0aW9uO2xldCBvO2NvbnN0IGk9dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLHI9aS5nZXRTZWxlY3RlZEVsZW1lbnQoKTtpZihyJiZyLmlzKFwiaW1hZ2VcIikpe2NvbnN0IHQ9dmYocik7bz1lLnRvVmlld0VsZW1lbnQodCl9Y29uc3Qgcz1BZihpLmdldEZpcnN0UG9zaXRpb24oKS5wYXJlbnQpO2lmKHMmJihvPWUudG9WaWV3RWxlbWVudChzKSksbylyZXR1cm4gbj9uPT09bz9UZihvLHQpOihDZihuLHQpLHRoaXMuX2xhc3RTZWxlY3RlZENhcHRpb249byxUZihvLHQpKToodGhpcy5fbGFzdFNlbGVjdGVkQ2FwdGlvbj1vLFRmKG8sdCkpO2lmKG4pe2NvbnN0IGU9Q2Yobix0KTtyZXR1cm4gdGhpcy5fbGFzdFNlbGVjdGVkQ2FwdGlvbj1udWxsLGV9cmV0dXJuITF9X2ZpeENhcHRpb25WaXNpYmlsaXR5KHQpe3JldHVybihlLG4sbyk9Pntjb25zdCBpPUFmKHQobikpLHI9dGhpcy5lZGl0b3IuZWRpdGluZy5tYXBwZXIscz1vLndyaXRlcjtpZihpKXtjb25zdCB0PXIudG9WaWV3RWxlbWVudChpKTt0JiYoaS5jaGlsZENvdW50P3MucmVtb3ZlQ2xhc3MoXCJjay1oaWRkZW5cIix0KTpzLmFkZENsYXNzKFwiY2staGlkZGVuXCIsdCkpfX19X2luc2VydE1pc3NpbmdNb2RlbENhcHRpb25FbGVtZW50KHQpe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuZGlmZmVyLmdldENoYW5nZXMoKTtmb3IoY29uc3QgbiBvZiBlKWlmKFwiaW5zZXJ0XCI9PW4udHlwZSYmXCJpbWFnZVwiPT1uLm5hbWUpe2NvbnN0IGU9bi5wb3NpdGlvbi5ub2RlQWZ0ZXI7aWYoIXZmKGUpKXJldHVybiB0LmFwcGVuZEVsZW1lbnQoXCJjYXB0aW9uXCIsZSksITB9fX1mdW5jdGlvbiB4Zih0LGU9ITApe3JldHVybihuLG8saSk9Pntjb25zdCByPW8uaXRlbTtpZigoci5jaGlsZENvdW50fHxlKSYmZWgoci5wYXJlbnQpKXtpZighaS5jb25zdW1hYmxlLmNvbnN1bWUoby5pdGVtLFwiaW5zZXJ0XCIpKXJldHVybjtjb25zdCBlPWkubWFwcGVyLnRvVmlld0VsZW1lbnQoby5yYW5nZS5zdGFydC5wYXJlbnQpLG49dChpLndyaXRlcikscz1pLndyaXRlcjtyLmNoaWxkQ291bnR8fHMuYWRkQ2xhc3MoXCJjay1oaWRkZW5cIixuKSxmdW5jdGlvbih0LGUsbixvKXtjb25zdCBpPSRvLmNyZWF0ZUF0KG4sXCJlbmRcIik7by53cml0ZXIuaW5zZXJ0KGksdCksby5tYXBwZXIuYmluZEVsZW1lbnRzKGUsdCl9KG4sby5pdGVtLGUsaSl9fX1mdW5jdGlvbiBBZih0KXtjb25zdCBlPXQuZ2V0QW5jZXN0b3JzKHtpbmNsdWRlU2VsZjohMH0pLmZpbmQodD0+XCJjYXB0aW9uXCI9PXQubmFtZSk7cmV0dXJuIGUmJmUucGFyZW50JiZcImltYWdlXCI9PWUucGFyZW50Lm5hbWU/ZTpudWxsfWZ1bmN0aW9uIENmKHQsZSl7cmV0dXJuIXQuY2hpbGRDb3VudCYmIXQuaGFzQ2xhc3MoXCJjay1oaWRkZW5cIikmJihlLmFkZENsYXNzKFwiY2staGlkZGVuXCIsdCksITApfWZ1bmN0aW9uIFRmKHQsZSl7cmV0dXJuISF0Lmhhc0NsYXNzKFwiY2staGlkZGVuXCIpJiYoZS5yZW1vdmVDbGFzcyhcImNrLWhpZGRlblwiLHQpLCEwKX1uKDkwKTtjbGFzcyBNZiBleHRlbmRzIEdse2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy5fZGVmYXVsdFN0eWxlPSExLHRoaXMuc3R5bGVzPWUucmVkdWNlKCh0LGUpPT4odFtlLm5hbWVdPWUsZS5pc0RlZmF1bHQmJih0aGlzLl9kZWZhdWx0U3R5bGU9ZS5uYW1lKSx0KSx7fSl9cmVmcmVzaCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpO2lmKHRoaXMuaXNFbmFibGVkPWVoKHQpLHQpaWYodC5oYXNBdHRyaWJ1dGUoXCJpbWFnZVN0eWxlXCIpKXtjb25zdCBlPXQuZ2V0QXR0cmlidXRlKFwiaW1hZ2VTdHlsZVwiKTt0aGlzLnZhbHVlPSEhdGhpcy5zdHlsZXNbZV0mJmV9ZWxzZSB0aGlzLnZhbHVlPXRoaXMuX2RlZmF1bHRTdHlsZTtlbHNlIHRoaXMudmFsdWU9ITF9ZXhlY3V0ZSh0KXtjb25zdCBlPXQudmFsdWUsbj10aGlzLmVkaXRvci5tb2RlbCxvPW4uZG9jdW1lbnQuc2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpO24uY2hhbmdlKHQ9Pnt0aGlzLnN0eWxlc1tlXS5pc0RlZmF1bHQ/dC5yZW1vdmVBdHRyaWJ1dGUoXCJpbWFnZVN0eWxlXCIsbyk6dC5zZXRBdHRyaWJ1dGUoXCJpbWFnZVN0eWxlXCIsZSxvKX0pfX1mdW5jdGlvbiBQZih0LGUpe2Zvcihjb25zdCBuIG9mIGUpaWYobi5uYW1lPT09dClyZXR1cm4gbn12YXIgU2Y9bigxMyksRWY9bi5uKFNmKSxJZj1uKDE0KSxOZj1uLm4oSWYpLE9mPW4oMTUpLFJmPW4ubihPZiksRGY9bigxMCksamY9bi5uKERmKTtjb25zdCBMZj17ZnVsbDp7bmFtZTpcImZ1bGxcIix0aXRsZTpcIkZ1bGwgc2l6ZSBpbWFnZVwiLGljb246RWYuYSxpc0RlZmF1bHQ6ITB9LHNpZGU6e25hbWU6XCJzaWRlXCIsdGl0bGU6XCJTaWRlIGltYWdlXCIsaWNvbjpqZi5hLGNsYXNzTmFtZTpcImltYWdlLXN0eWxlLXNpZGVcIn0sYWxpZ25MZWZ0OntuYW1lOlwiYWxpZ25MZWZ0XCIsdGl0bGU6XCJMZWZ0IGFsaWduZWQgaW1hZ2VcIixpY29uOk5mLmEsY2xhc3NOYW1lOlwiaW1hZ2Utc3R5bGUtYWxpZ24tbGVmdFwifSxhbGlnbkNlbnRlcjp7bmFtZTpcImFsaWduQ2VudGVyXCIsdGl0bGU6XCJDZW50ZXJlZCBpbWFnZVwiLGljb246UmYuYSxjbGFzc05hbWU6XCJpbWFnZS1zdHlsZS1hbGlnbi1jZW50ZXJcIn0sYWxpZ25SaWdodDp7bmFtZTpcImFsaWduUmlnaHRcIix0aXRsZTpcIlJpZ2h0IGFsaWduZWQgaW1hZ2VcIixpY29uOmpmLmEsY2xhc3NOYW1lOlwiaW1hZ2Utc3R5bGUtYWxpZ24tcmlnaHRcIn19LFZmPXtmdWxsOkVmLmEsbGVmdDpOZi5hLHJpZ2h0OmpmLmEsY2VudGVyOlJmLmF9O2Z1bmN0aW9uIEZmKHQ9W10pe3JldHVybiB0Lm1hcCh6ZikubWFwKHQ9Pk9iamVjdC5hc3NpZ24oe30sdCkpfWZ1bmN0aW9uIHpmKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXtjb25zdCBlPXQ7TGZbZV0/dD1PYmplY3QuYXNzaWduKHt9LExmW2VdKTooZnMuYS53YXJuKFwiaW1hZ2Utc3R5bGUtbm90LWZvdW5kOiBUaGVyZSBpcyBubyBzdWNoIGltYWdlIHN0eWxlIG9mIGdpdmVuIG5hbWUuXCIse25hbWU6ZX0pLHQ9e25hbWU6ZX0pfWVsc2UgaWYoTGZbdC5uYW1lXSl7Y29uc3QgZT1MZlt0Lm5hbWVdLG49T2JqZWN0LmFzc2lnbih7fSx0KTtmb3IoY29uc3QgbyBpbiBlKXQuaGFzT3duUHJvcGVydHkobyl8fChuW29dPWVbb10pO3Q9bn1yZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdC5pY29uJiZWZlt0Lmljb25dJiYodC5pY29uPVZmW3QuaWNvbl0pLHR9Y2xhc3MgQmYgZXh0ZW5kcyBVbHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW25oXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkltYWdlU3R5bGVFZGl0aW5nXCJ9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10Lm1vZGVsLnNjaGVtYSxuPXQuZGF0YSxvPXQuZWRpdGluZzt0LmNvbmZpZy5kZWZpbmUoXCJpbWFnZS5zdHlsZXNcIixbXCJmdWxsXCIsXCJzaWRlXCJdKTtjb25zdCBpPUZmKHQuY29uZmlnLmdldChcImltYWdlLnN0eWxlc1wiKSk7ZS5leHRlbmQoXCJpbWFnZVwiLHthbGxvd0F0dHJpYnV0ZXM6XCJpbWFnZVN0eWxlXCJ9KTtjb25zdCByPWZ1bmN0aW9uKHQpe3JldHVybihlLG4sbyk9PntpZighby5jb25zdW1hYmxlLmNvbnN1bWUobi5pdGVtLGUubmFtZSkpcmV0dXJuO2NvbnN0IGk9UGYobi5hdHRyaWJ1dGVOZXdWYWx1ZSx0KSxyPVBmKG4uYXR0cmlidXRlT2xkVmFsdWUsdCkscz1vLm1hcHBlci50b1ZpZXdFbGVtZW50KG4uaXRlbSksYT1vLndyaXRlcjtyJiZhLnJlbW92ZUNsYXNzKHIuY2xhc3NOYW1lLHMpLGkmJmEuYWRkQ2xhc3MoaS5jbGFzc05hbWUscyl9fShpKTtvLmRvd25jYXN0RGlzcGF0Y2hlci5vbihcImF0dHJpYnV0ZTppbWFnZVN0eWxlOmltYWdlXCIsciksbi5kb3duY2FzdERpc3BhdGNoZXIub24oXCJhdHRyaWJ1dGU6aW1hZ2VTdHlsZTppbWFnZVwiLHIpLG4udXBjYXN0RGlzcGF0Y2hlci5vbihcImVsZW1lbnQ6ZmlndXJlXCIsZnVuY3Rpb24odCl7Y29uc3QgZT10LmZpbHRlcih0PT4hdC5pc0RlZmF1bHQpO3JldHVybih0LG4sbyk9PntpZighbi5tb2RlbFJhbmdlKXJldHVybjtjb25zdCBpPW4udmlld0l0ZW0scj1idShuLm1vZGVsUmFuZ2UuZ2V0SXRlbXMoKSk7aWYoby5zY2hlbWEuY2hlY2tBdHRyaWJ1dGUocixcImltYWdlU3R5bGVcIikpZm9yKGNvbnN0IHQgb2YgZSlvLmNvbnN1bWFibGUuY29uc3VtZShpLHtjbGFzc2VzOnQuY2xhc3NOYW1lfSkmJm8ud3JpdGVyLnNldEF0dHJpYnV0ZShcImltYWdlU3R5bGVcIix0Lm5hbWUscil9fShpKSx7cHJpb3JpdHk6XCJsb3dcIn0pLHQuY29tbWFuZHMuYWRkKFwiaW1hZ2VTdHlsZVwiLG5ldyBNZih0LGkpKX19big5Mik7Y2xhc3MgVWYgZXh0ZW5kcyBVbHtnZXQgbG9jYWxpemVkRGVmYXVsdFN0eWxlc1RpdGxlcygpe2NvbnN0IHQ9dGhpcy5lZGl0b3IudDtyZXR1cm57XCJGdWxsIHNpemUgaW1hZ2VcIjp0KFwiaVwiKSxcIlNpZGUgaW1hZ2VcIjp0KFwialwiKSxcIkxlZnQgYWxpZ25lZCBpbWFnZVwiOnQoXCJrXCIpLFwiQ2VudGVyZWQgaW1hZ2VcIjp0KFwibFwiKSxcIlJpZ2h0IGFsaWduZWQgaW1hZ2VcIjp0KFwibVwiKX19aW5pdCgpe2NvbnN0IHQ9ZnVuY3Rpb24odCxlKXtmb3IoY29uc3QgbiBvZiB0KWVbbi50aXRsZV0mJihuLnRpdGxlPWVbbi50aXRsZV0pO3JldHVybiB0fShGZih0aGlzLmVkaXRvci5jb25maWcuZ2V0KFwiaW1hZ2Uuc3R5bGVzXCIpKSx0aGlzLmxvY2FsaXplZERlZmF1bHRTdHlsZXNUaXRsZXMpO2Zvcihjb25zdCBlIG9mIHQpdGhpcy5fY3JlYXRlQnV0dG9uKGUpfV9jcmVhdGVCdXR0b24odCl7Y29uc3QgZT10aGlzLmVkaXRvcixuPWBpbWFnZVN0eWxlOiR7dC5uYW1lfWA7ZS51aS5jb21wb25lbnRGYWN0b3J5LmFkZChuLG49Pntjb25zdCBvPWUuY29tbWFuZHMuZ2V0KFwiaW1hZ2VTdHlsZVwiKSxpPW5ldyBGZChuKTtyZXR1cm4gaS5zZXQoe2xhYmVsOnQudGl0bGUsaWNvbjp0Lmljb24sdG9vbHRpcDohMH0pLGkuYmluZChcImlzRW5hYmxlZFwiKS50byhvLFwiaXNFbmFibGVkXCIpLGkuYmluZChcImlzT25cIikudG8obyxcInZhbHVlXCIsZT0+ZT09PXQubmFtZSksdGhpcy5saXN0ZW5UbyhpLFwiZXhlY3V0ZVwiLCgpPT5lLmV4ZWN1dGUoXCJpbWFnZVN0eWxlXCIse3ZhbHVlOnQubmFtZX0pKSxpfSl9fWNsYXNzIEhmIGV4dGVuZHMgVWx7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltfaF19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJXaWRnZXRUb29sYmFyUmVwb3NpdG9yeVwifWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC5wbHVnaW5zLmdldChcIkJhbGxvb25Ub29sYmFyXCIpO2UmJnRoaXMubGlzdGVuVG8oZSxcInNob3dcIixlPT57KGZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5nZXRTZWxlY3RlZEVsZW1lbnQoKTtyZXR1cm4hKCFlfHwhR3UoZSkpfSkodC5lZGl0aW5nLnZpZXcuZG9jdW1lbnQuc2VsZWN0aW9uKSYmZS5zdG9wKCl9LHtwcmlvcml0eTpcImhpZ2hcIn0pLHRoaXMuX3Rvb2xiYXJzPW5ldyBNYXAsdGhpcy5fYmFsbG9vbj10aGlzLmVkaXRvci5wbHVnaW5zLmdldChcIkNvbnRleHR1YWxCYWxsb29uXCIpLHRoaXMubGlzdGVuVG8odC51aSxcInVwZGF0ZVwiLCgpPT57dGhpcy5fdXBkYXRlVG9vbGJhcnNWaXNpYmlsaXR5KCl9KSx0aGlzLmxpc3RlblRvKHQudWkuZm9jdXNUcmFja2VyLFwiY2hhbmdlOmlzRm9jdXNlZFwiLCgpPT57dGhpcy5fdXBkYXRlVG9vbGJhcnNWaXNpYmlsaXR5KCl9LHtwcmlvcml0eTpcImxvd1wifSl9cmVnaXN0ZXIodCx7aXRlbXM6ZSx2aXNpYmxlV2hlbjpuLGJhbGxvb25DbGFzc05hbWU6bz1cImNrLXRvb2xiYXItY29udGFpbmVyXCJ9KXtjb25zdCBpPXRoaXMuZWRpdG9yLHI9bmV3IEZsO2lmKHRoaXMuX3Rvb2xiYXJzLmhhcyh0KSl0aHJvdyBuZXcgTS5iKFwid2lkZ2V0LXRvb2xiYXItZHVwbGljYXRlZDogVG9vbGJhciB3aXRoIHRoZSBnaXZlbiBpZCB3YXMgYWxyZWFkeSBhZGRlZC5cIix7dG9vbGJhcklkOnR9KTtyLmZpbGxGcm9tQ29uZmlnKGUsaS51aS5jb21wb25lbnRGYWN0b3J5KSx0aGlzLl90b29sYmFycy5zZXQodCx7dmlldzpyLHZpc2libGVXaGVuOm4sYmFsbG9vbkNsYXNzTmFtZTpvfSl9X3VwZGF0ZVRvb2xiYXJzVmlzaWJpbGl0eSgpe2Zvcihjb25zdCB0IG9mIHRoaXMuX3Rvb2xiYXJzLnZhbHVlcygpKXRoaXMuZWRpdG9yLnVpLmZvY3VzVHJhY2tlci5pc0ZvY3VzZWQmJnQudmlzaWJsZVdoZW4odGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LmRvY3VtZW50LnNlbGVjdGlvbik/dGhpcy5fc2hvd1Rvb2xiYXIodCk6dGhpcy5faGlkZVRvb2xiYXIodCl9X2hpZGVUb29sYmFyKHQpe3RoaXMuX2lzVG9vbGJhclZpc2libGUodCkmJnRoaXMuX2JhbGxvb24ucmVtb3ZlKHQudmlldyl9X3Nob3dUb29sYmFyKHQpe3RoaXMuX2lzVG9vbGJhclZpc2libGUodCk/ZnVuY3Rpb24odCl7Y29uc3QgZT10LnBsdWdpbnMuZ2V0KFwiQ29udGV4dHVhbEJhbGxvb25cIiksbj1xZih0KTtlLnVwZGF0ZVBvc2l0aW9uKG4pfSh0aGlzLmVkaXRvcik6dGhpcy5fYmFsbG9vbi5oYXNWaWV3KHQudmlldyl8fHRoaXMuX2JhbGxvb24uYWRkKHt2aWV3OnQudmlldyxwb3NpdGlvbjpxZih0aGlzLmVkaXRvciksYmFsbG9vbkNsYXNzTmFtZTp0LmJhbGxvb25DbGFzc05hbWV9KX1faXNUb29sYmFyVmlzaWJsZSh0KXtyZXR1cm4gdGhpcy5fYmFsbG9vbi52aXNpYmxlVmlldz09dC52aWV3fX1mdW5jdGlvbiBxZih0KXtjb25zdCBlPXQuZWRpdGluZy52aWV3LG49TmwuZGVmYXVsdFBvc2l0aW9ucyxvPWZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5nZXRTZWxlY3RlZEVsZW1lbnQoKTtpZihlJiZHdShlKSlyZXR1cm4gZTtsZXQgbj10LmdldEZpcnN0UG9zaXRpb24oKS5wYXJlbnQ7Zm9yKDtuOyl7aWYobi5pcyhcImVsZW1lbnRcIikmJkd1KG4pKXJldHVybiBuO249bi5wYXJlbnR9fShlLmRvY3VtZW50LnNlbGVjdGlvbik7cmV0dXJue3RhcmdldDplLmRvbUNvbnZlcnRlci52aWV3VG9Eb20obykscG9zaXRpb25zOltuLm5vcnRoQXJyb3dTb3V0aCxuLm5vcnRoQXJyb3dTb3V0aFdlc3Qsbi5ub3J0aEFycm93U291dGhFYXN0LG4uc291dGhBcnJvd05vcnRoLG4uc291dGhBcnJvd05vcnRoV2VzdCxuLnNvdXRoQXJyb3dOb3J0aEVhc3RdfX1mdW5jdGlvbiBXZih0LGUpe3JldHVybiBuZXcgcXMoWWYodCxlLCEwKSxZZih0LGUsITEpKX1mdW5jdGlvbiBZZih0LGUsbil7bGV0IG89dC50ZXh0Tm9kZXx8KG4/dC5ub2RlQmVmb3JlOnQubm9kZUFmdGVyKSxpPW51bGw7Zm9yKDtvJiZvLmdldEF0dHJpYnV0ZShcImxpbmtIcmVmXCIpPT1lOylpPW8sbz1uP28ucHJldmlvdXNTaWJsaW5nOm8ubmV4dFNpYmxpbmc7cmV0dXJuIGk/SHMuY3JlYXRlQXQoaSxuP1wiYmVmb3JlXCI6XCJhZnRlclwiKTp0fWNsYXNzIEdmIGV4dGVuZHMgR2x7cmVmcmVzaCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsZT10LmRvY3VtZW50O3RoaXMudmFsdWU9ZS5zZWxlY3Rpb24uZ2V0QXR0cmlidXRlKFwibGlua0hyZWZcIiksdGhpcy5pc0VuYWJsZWQ9dC5zY2hlbWEuY2hlY2tBdHRyaWJ1dGVJblNlbGVjdGlvbihlLnNlbGVjdGlvbixcImxpbmtIcmVmXCIpfWV4ZWN1dGUodCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCxuPWUuZG9jdW1lbnQuc2VsZWN0aW9uO2UuY2hhbmdlKG89PntpZihuLmlzQ29sbGFwc2VkKXtjb25zdCBlPW4uZ2V0Rmlyc3RQb3NpdGlvbigpO2lmKG4uaGFzQXR0cmlidXRlKFwibGlua0hyZWZcIikpe2NvbnN0IGU9V2Yobi5nZXRGaXJzdFBvc2l0aW9uKCksbi5nZXRBdHRyaWJ1dGUoXCJsaW5rSHJlZlwiKSk7by5zZXRBdHRyaWJ1dGUoXCJsaW5rSHJlZlwiLHQsZSksby5zZXRTZWxlY3Rpb24oZSl9ZWxzZSBpZihcIlwiIT09dCl7Y29uc3QgaT1ScyhuLmdldEF0dHJpYnV0ZXMoKSk7aS5zZXQoXCJsaW5rSHJlZlwiLHQpO2NvbnN0IHI9by5jcmVhdGVUZXh0KHQsaSk7by5pbnNlcnQocixlKSxvLnNldFNlbGVjdGlvbihxcy5jcmVhdGVPbihyKSl9fWVsc2V7Y29uc3QgaT1lLnNjaGVtYS5nZXRWYWxpZFJhbmdlcyhuLmdldFJhbmdlcygpLFwibGlua0hyZWZcIik7Zm9yKGNvbnN0IGUgb2YgaSlvLnNldEF0dHJpYnV0ZShcImxpbmtIcmVmXCIsdCxlKX19KX19Y2xhc3MgJGYgZXh0ZW5kcyBHbHtyZWZyZXNoKCl7dGhpcy5pc0VuYWJsZWQ9dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmhhc0F0dHJpYnV0ZShcImxpbmtIcmVmXCIpfWV4ZWN1dGUoKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLGU9dC5kb2N1bWVudC5zZWxlY3Rpb247dC5jaGFuZ2UodD0+e2NvbnN0IG49ZS5pc0NvbGxhcHNlZD9bV2YoZS5nZXRGaXJzdFBvc2l0aW9uKCksZS5nZXRBdHRyaWJ1dGUoXCJsaW5rSHJlZlwiKSldOmUuZ2V0UmFuZ2VzKCk7Zm9yKGNvbnN0IGUgb2Ygbil0LnJlbW92ZUF0dHJpYnV0ZShcImxpbmtIcmVmXCIsZSl9KX19Y29uc3QgUWY9U3ltYm9sKFwibGlua0VsZW1lbnRcIiksSmY9L1tcXHUwMDAwLVxcdTAwMjBcXHUwMEEwXFx1MTY4MFxcdTE4MEVcXHUyMDAwLVxcdTIwMjlcXHUyMDVmXFx1MzAwMF0vZyxLZj0vXig/Oig/Omh0dHBzP3xmdHBzP3xtYWlsdG8pOnxbXmEtel18W2EteisuLV0rKD86W15hLXorLjotXXwkKSkvaTtmdW5jdGlvbiBaZih0LGUpe2NvbnN0IG49ZS5jcmVhdGVBdHRyaWJ1dGVFbGVtZW50KFwiYVwiLHtocmVmOnR9LHtwcmlvcml0eTo1fSk7cmV0dXJuIGUuc2V0Q3VzdG9tUHJvcGVydHkoUWYsITAsbiksbn1mdW5jdGlvbiBYZih0KXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZShKZixcIlwiKS5tYXRjaChLZil9KHQ9U3RyaW5nKHQpKT90OlwiI1wifWNsYXNzIHRte2NvbnN0cnVjdG9yKHQsZSxuKXt0aGlzLm1vZGVsPXQsdGhpcy5hdHRyaWJ1dGU9bix0aGlzLl9tb2RlbFNlbGVjdGlvbj10LmRvY3VtZW50LnNlbGVjdGlvbix0aGlzLl9vdmVycmlkZVVpZD1udWxsLHRoaXMuX2lzTmV4dEdyYXZpdHlSZXN0b3JhdGlvblNraXBwZWQ9ITEsZS5saXN0ZW5Ubyh0aGlzLl9tb2RlbFNlbGVjdGlvbixcImNoYW5nZTpyYW5nZVwiLCh0LGUpPT57dGhpcy5faXNOZXh0R3Jhdml0eVJlc3RvcmF0aW9uU2tpcHBlZD90aGlzLl9pc05leHRHcmF2aXR5UmVzdG9yYXRpb25Ta2lwcGVkPSExOnRoaXMuX2lzR3Jhdml0eU92ZXJyaWRkZW4mJighZS5kaXJlY3RDaGFuZ2UmJmVtKHRoaXMuX21vZGVsU2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKSxuKXx8dGhpcy5fcmVzdG9yZUdyYXZpdHkoKSl9KX1oYW5kbGVGb3J3YXJkTW92ZW1lbnQodCxlKXtjb25zdCBuPXRoaXMuYXR0cmlidXRlO2lmKCEodGhpcy5faXNHcmF2aXR5T3ZlcnJpZGRlbnx8dC5pc0F0U3RhcnQmJnRoaXMuX2hhc1NlbGVjdGlvbkF0dHJpYnV0ZSkpcmV0dXJuIGltKHQsbikmJnRoaXMuX2hhc1NlbGVjdGlvbkF0dHJpYnV0ZT8odGhpcy5fcHJldmVudENhcmV0TW92ZW1lbnQoZSksdGhpcy5fcmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKCksITApOm5tKHQsbik/KHRoaXMuX3ByZXZlbnRDYXJldE1vdmVtZW50KGUpLHRoaXMuX292ZXJyaWRlR3Jhdml0eSgpLCEwKTpvbSh0LG4pJiZ0aGlzLl9oYXNTZWxlY3Rpb25BdHRyaWJ1dGU/KHRoaXMuX3ByZXZlbnRDYXJldE1vdmVtZW50KGUpLHRoaXMuX292ZXJyaWRlR3Jhdml0eSgpLCEwKTp2b2lkIDB9aGFuZGxlQmFja3dhcmRNb3ZlbWVudCh0LGUpe2NvbnN0IG49dGhpcy5hdHRyaWJ1dGU7cmV0dXJuIHRoaXMuX2lzR3Jhdml0eU92ZXJyaWRkZW4/aW0odCxuKSYmdGhpcy5faGFzU2VsZWN0aW9uQXR0cmlidXRlPyh0aGlzLl9wcmV2ZW50Q2FyZXRNb3ZlbWVudChlKSx0aGlzLl9yZXN0b3JlR3Jhdml0eSgpLHRoaXMuX3JlbW92ZVNlbGVjdGlvbkF0dHJpYnV0ZSgpLCEwKToodGhpcy5fcHJldmVudENhcmV0TW92ZW1lbnQoZSksdGhpcy5fcmVzdG9yZUdyYXZpdHkoKSx0LmlzQXRTdGFydCYmdGhpcy5fcmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKCksITApOmltKHQsbikmJiF0aGlzLl9oYXNTZWxlY3Rpb25BdHRyaWJ1dGU/KHRoaXMuX3ByZXZlbnRDYXJldE1vdmVtZW50KGUpLHRoaXMuX3NldFNlbGVjdGlvbkF0dHJpYnV0ZUZyb21UaGVOb2RlQmVmb3JlKHQpLCEwKTp0LmlzQXRFbmQmJm9tKHQsbik/dGhpcy5faGFzU2VsZWN0aW9uQXR0cmlidXRlP3ZvaWQocm0odCxuKSYmKHRoaXMuX3NraXBOZXh0QXV0b21hdGljR3Jhdml0eVJlc3RvcmF0aW9uKCksdGhpcy5fb3ZlcnJpZGVHcmF2aXR5KCkpKToodGhpcy5fcHJldmVudENhcmV0TW92ZW1lbnQoZSksdGhpcy5fc2V0U2VsZWN0aW9uQXR0cmlidXRlRnJvbVRoZU5vZGVCZWZvcmUodCksITApOnQuaXNBdFN0YXJ0P3RoaXMuX2hhc1NlbGVjdGlvbkF0dHJpYnV0ZT8odGhpcy5fcmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKCksdGhpcy5fcHJldmVudENhcmV0TW92ZW1lbnQoZSksITApOnZvaWQgMDp2b2lkKHJtKHQsbikmJih0aGlzLl9za2lwTmV4dEF1dG9tYXRpY0dyYXZpdHlSZXN0b3JhdGlvbigpLHRoaXMuX292ZXJyaWRlR3Jhdml0eSgpKSl9Z2V0IF9pc0dyYXZpdHlPdmVycmlkZGVuKCl7cmV0dXJuISF0aGlzLl9vdmVycmlkZVVpZH1nZXQgX2hhc1NlbGVjdGlvbkF0dHJpYnV0ZSgpe3JldHVybiB0aGlzLl9tb2RlbFNlbGVjdGlvbi5oYXNBdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGUpfV9vdmVycmlkZUdyYXZpdHkoKXt0aGlzLl9vdmVycmlkZVVpZD10aGlzLm1vZGVsLmNoYW5nZSh0PT50Lm92ZXJyaWRlU2VsZWN0aW9uR3Jhdml0eSgpKX1fcmVzdG9yZUdyYXZpdHkoKXt0aGlzLm1vZGVsLmNoYW5nZSh0PT57dC5yZXN0b3JlU2VsZWN0aW9uR3Jhdml0eSh0aGlzLl9vdmVycmlkZVVpZCksdGhpcy5fb3ZlcnJpZGVVaWQ9bnVsbH0pfV9wcmV2ZW50Q2FyZXRNb3ZlbWVudCh0KXt0LnByZXZlbnREZWZhdWx0KCl9X3JlbW92ZVNlbGVjdGlvbkF0dHJpYnV0ZSgpe3RoaXMubW9kZWwuY2hhbmdlKHQ9Pnt0LnJlbW92ZVNlbGVjdGlvbkF0dHJpYnV0ZSh0aGlzLmF0dHJpYnV0ZSl9KX1fc2V0U2VsZWN0aW9uQXR0cmlidXRlRnJvbVRoZU5vZGVCZWZvcmUodCl7Y29uc3QgZT10aGlzLmF0dHJpYnV0ZTt0aGlzLm1vZGVsLmNoYW5nZShuPT57bi5zZXRTZWxlY3Rpb25BdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGUsdC5ub2RlQmVmb3JlLmdldEF0dHJpYnV0ZShlKSl9KX1fc2tpcE5leHRBdXRvbWF0aWNHcmF2aXR5UmVzdG9yYXRpb24oKXt0aGlzLl9pc05leHRHcmF2aXR5UmVzdG9yYXRpb25Ta2lwcGVkPSEwfX1mdW5jdGlvbiBlbSh0LGUpe3JldHVybiBubSh0LGUpfHxvbSh0LGUpfWZ1bmN0aW9uIG5tKHQsZSl7Y29uc3R7bm9kZUJlZm9yZTpuLG5vZGVBZnRlcjpvfT10LGk9ISFuJiZuLmhhc0F0dHJpYnV0ZShlKTtyZXR1cm4hIW8mJm8uaGFzQXR0cmlidXRlKGUpJiYoIWl8fG4uZ2V0QXR0cmlidXRlKGUpIT09by5nZXRBdHRyaWJ1dGUoZSkpfWZ1bmN0aW9uIG9tKHQsZSl7Y29uc3R7bm9kZUJlZm9yZTpuLG5vZGVBZnRlcjpvfT10LGk9ISFuJiZuLmhhc0F0dHJpYnV0ZShlKSxyPSEhbyYmby5oYXNBdHRyaWJ1dGUoZSk7cmV0dXJuIGkmJighcnx8bi5nZXRBdHRyaWJ1dGUoZSkhPT1vLmdldEF0dHJpYnV0ZShlKSl9ZnVuY3Rpb24gaW0odCxlKXtjb25zdHtub2RlQmVmb3JlOm4sbm9kZUFmdGVyOm99PXQsaT0hIW4mJm4uaGFzQXR0cmlidXRlKGUpO2lmKCEhbyYmby5oYXNBdHRyaWJ1dGUoZSkmJmkpcmV0dXJuIG8uZ2V0QXR0cmlidXRlKGUpIT09bi5nZXRBdHRyaWJ1dGUoZSl9ZnVuY3Rpb24gcm0odCxlKXtyZXR1cm4gZW0odC5nZXRTaGlmdGVkQnkoLTEpLGUpfW4oOTQpO2NvbnN0IHNtPVwiY2stbGlua19zZWxlY3RlZFwiO2NsYXNzIGFtIGV4dGVuZHMgVWx7aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7dC5tb2RlbC5zY2hlbWEuZXh0ZW5kKFwiJHRleHRcIix7YWxsb3dBdHRyaWJ1dGVzOlwibGlua0hyZWZcIn0pLHQuY29udmVyc2lvbi5mb3IoXCJkYXRhRG93bmNhc3RcIikuYWRkKGNhKHttb2RlbDpcImxpbmtIcmVmXCIsdmlldzpaZn0pKSx0LmNvbnZlcnNpb24uZm9yKFwiZWRpdGluZ0Rvd25jYXN0XCIpLmFkZChjYSh7bW9kZWw6XCJsaW5rSHJlZlwiLHZpZXc6KHQsZSk9PlpmKFhmKHQpLGUpfSkpLHQuY29udmVyc2lvbi5mb3IoXCJ1cGNhc3RcIikuYWRkKFJhKHt2aWV3OntuYW1lOlwiYVwiLGF0dHJpYnV0ZXM6e2hyZWY6ITB9fSxtb2RlbDp7a2V5OlwibGlua0hyZWZcIix2YWx1ZTp0PT50LmdldEF0dHJpYnV0ZShcImhyZWZcIil9fSkpLHQuY29tbWFuZHMuYWRkKFwibGlua1wiLG5ldyBHZih0KSksdC5jb21tYW5kcy5hZGQoXCJ1bmxpbmtcIixuZXcgJGYodCkpLGZ1bmN0aW9uKHQsZSxuLG8pe2NvbnN0IGk9bmV3IHRtKGUsbixvKSxyPWUuZG9jdW1lbnQuc2VsZWN0aW9uO24ubGlzdGVuVG8odC5kb2N1bWVudCxcImtleWRvd25cIiwodCxlKT0+e2lmKCFyLmlzQ29sbGFwc2VkKXJldHVybjtpZihlLnNoaWZ0S2V5fHxlLmFsdEtleXx8ZS5jdHJsS2V5KXJldHVybjtjb25zdCBuPWUua2V5Q29kZT09aGkuYXJyb3dyaWdodCxvPWUua2V5Q29kZT09aGkuYXJyb3dsZWZ0O2lmKCFuJiYhbylyZXR1cm47Y29uc3Qgcz1yLmdldEZpcnN0UG9zaXRpb24oKTtsZXQgYTsoYT1uP2kuaGFuZGxlRm9yd2FyZE1vdmVtZW50KHMsZSk6aS5oYW5kbGVCYWNrd2FyZE1vdmVtZW50KHMsZSkpJiZ0LnN0b3AoKX0se3ByaW9yaXR5OkkuZ2V0KFwiaGlnaFwiKSsxfSl9KHQuZWRpdGluZy52aWV3LHQubW9kZWwsdGhpcyxcImxpbmtIcmVmXCIpLHRoaXMuX3NldHVwTGlua0hpZ2hsaWdodCgpfV9zZXR1cExpbmtIaWdobGlnaHQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC5lZGl0aW5nLnZpZXcsbj1uZXcgU2V0O2UuZG9jdW1lbnQucmVnaXN0ZXJQb3N0Rml4ZXIoZT0+e2NvbnN0IG89dC5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb247aWYoby5oYXNBdHRyaWJ1dGUoXCJsaW5rSHJlZlwiKSl7Y29uc3QgaT1XZihvLmdldEZpcnN0UG9zaXRpb24oKSxvLmdldEF0dHJpYnV0ZShcImxpbmtIcmVmXCIpKSxyPXQuZWRpdGluZy5tYXBwZXIudG9WaWV3UmFuZ2UoaSk7Zm9yKGNvbnN0IHQgb2Ygci5nZXRJdGVtcygpKXQuaXMoXCJhXCIpJiYoZS5hZGRDbGFzcyhzbSx0KSxuLmFkZCh0KSl9fSksdC5jb252ZXJzaW9uLmZvcihcImVkaXRpbmdEb3duY2FzdFwiKS5hZGQodD0+e2Z1bmN0aW9uIG8oKXtlLmNoYW5nZSh0PT57Zm9yKGNvbnN0IGUgb2Ygbi52YWx1ZXMoKSl0LnJlbW92ZUNsYXNzKHNtLGUpLG4uZGVsZXRlKGUpfSl9dC5vbihcImluc2VydFwiLG8se3ByaW9yaXR5OlwiaGlnaGVzdFwifSksdC5vbihcInJlbW92ZVwiLG8se3ByaW9yaXR5OlwiaGlnaGVzdFwifSksdC5vbihcImF0dHJpYnV0ZVwiLG8se3ByaW9yaXR5OlwiaGlnaGVzdFwifSksdC5vbihcInNlbGVjdGlvblwiLG8se3ByaW9yaXR5OlwiaGlnaGVzdFwifSl9KX19Y2xhc3MgY20gZXh0ZW5kcyBKcntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLmRvbUV2ZW50VHlwZT1cImNsaWNrXCJ9b25Eb21FdmVudCh0KXt0aGlzLmZpcmUodC50eXBlLHQpfX1uKDk2KTtjbGFzcyBsbSBleHRlbmRzIEFse2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO2NvbnN0IGU9dC50O3RoaXMuZm9jdXNUcmFja2VyPW5ldyBaYyx0aGlzLmtleXN0cm9rZXM9bmV3IFVjLHRoaXMudXJsSW5wdXRWaWV3PXRoaXMuX2NyZWF0ZVVybElucHV0KCksdGhpcy5zYXZlQnV0dG9uVmlldz10aGlzLl9jcmVhdGVCdXR0b24oZShcImF1XCIpLGdoLmEsXCJjay1idXR0b24tc2F2ZVwiKSx0aGlzLnNhdmVCdXR0b25WaWV3LnR5cGU9XCJzdWJtaXRcIix0aGlzLmNhbmNlbEJ1dHRvblZpZXc9dGhpcy5fY3JlYXRlQnV0dG9uKGUoXCJhdlwiKSxiaC5hLFwiY2stYnV0dG9uLWNhbmNlbFwiLFwiY2FuY2VsXCIpLHRoaXMuX2ZvY3VzYWJsZXM9bmV3IGVsLHRoaXMuX2ZvY3VzQ3ljbGVyPW5ldyBqbCh7Zm9jdXNhYmxlczp0aGlzLl9mb2N1c2FibGVzLGZvY3VzVHJhY2tlcjp0aGlzLmZvY3VzVHJhY2tlcixrZXlzdHJva2VIYW5kbGVyOnRoaXMua2V5c3Ryb2tlcyxhY3Rpb25zOntmb2N1c1ByZXZpb3VzOlwic2hpZnQgKyB0YWJcIixmb2N1c05leHQ6XCJ0YWJcIn19KSx0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJmb3JtXCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLWxpbmstZm9ybVwiXSx0YWJpbmRleDpcIi0xXCJ9LGNoaWxkcmVuOlt0aGlzLnVybElucHV0Vmlldyx0aGlzLnNhdmVCdXR0b25WaWV3LHRoaXMuY2FuY2VsQnV0dG9uVmlld119KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKSxmaCh7dmlldzp0aGlzfSksW3RoaXMudXJsSW5wdXRWaWV3LHRoaXMuc2F2ZUJ1dHRvblZpZXcsdGhpcy5jYW5jZWxCdXR0b25WaWV3XS5mb3JFYWNoKHQ9Pnt0aGlzLl9mb2N1c2FibGVzLmFkZCh0KSx0aGlzLmZvY3VzVHJhY2tlci5hZGQodC5lbGVtZW50KX0pLHRoaXMua2V5c3Ryb2tlcy5saXN0ZW5Ubyh0aGlzLmVsZW1lbnQpfWZvY3VzKCl7dGhpcy5fZm9jdXNDeWNsZXIuZm9jdXNGaXJzdCgpfV9jcmVhdGVVcmxJbnB1dCgpe2NvbnN0IHQ9dGhpcy5sb2NhbGUudCxlPW5ldyB1aCh0aGlzLmxvY2FsZSxoaCk7cmV0dXJuIGUubGFiZWw9dChcImJmXCIpLGUuaW5wdXRWaWV3LnBsYWNlaG9sZGVyPVwiaHR0cHM6Ly9leGFtcGxlLmNvbVwiLGV9X2NyZWF0ZUJ1dHRvbih0LGUsbixvKXtjb25zdCBpPW5ldyBGZCh0aGlzLmxvY2FsZSk7cmV0dXJuIGkuc2V0KHtsYWJlbDp0LGljb246ZSx0b29sdGlwOiEwfSksaS5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7Y2xhc3M6bn19KSxvJiZpLmRlbGVnYXRlKFwiZXhlY3V0ZVwiKS50byh0aGlzLG8pLGl9fXZhciBkbT1uKDMwKSx1bT1uLm4oZG0pLGhtPW4oMzEpLGZtPW4ubihobSk7big5OCk7Y2xhc3MgbW0gZXh0ZW5kcyBBbHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTtjb25zdCBlPXQudDt0aGlzLmZvY3VzVHJhY2tlcj1uZXcgWmMsdGhpcy5rZXlzdHJva2VzPW5ldyBVYyx0aGlzLnByZXZpZXdCdXR0b25WaWV3PXRoaXMuX2NyZWF0ZVByZXZpZXdCdXR0b24oKSx0aGlzLnVubGlua0J1dHRvblZpZXc9dGhpcy5fY3JlYXRlQnV0dG9uKGUoXCJiYlwiKSx1bS5hLFwidW5saW5rXCIpLHRoaXMuZWRpdEJ1dHRvblZpZXc9dGhpcy5fY3JlYXRlQnV0dG9uKGUoXCJiY1wiKSxmbS5hLFwiZWRpdFwiKSx0aGlzLnNldChcImhyZWZcIiksdGhpcy5fZm9jdXNhYmxlcz1uZXcgZWwsdGhpcy5fZm9jdXNDeWNsZXI9bmV3IGpsKHtmb2N1c2FibGVzOnRoaXMuX2ZvY3VzYWJsZXMsZm9jdXNUcmFja2VyOnRoaXMuZm9jdXNUcmFja2VyLGtleXN0cm9rZUhhbmRsZXI6dGhpcy5rZXlzdHJva2VzLGFjdGlvbnM6e2ZvY3VzUHJldmlvdXM6XCJzaGlmdCArIHRhYlwiLGZvY3VzTmV4dDpcInRhYlwifX0pLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1saW5rLWFjdGlvbnNcIl0sdGFiaW5kZXg6XCItMVwifSxjaGlsZHJlbjpbdGhpcy5wcmV2aWV3QnV0dG9uVmlldyx0aGlzLmVkaXRCdXR0b25WaWV3LHRoaXMudW5saW5rQnV0dG9uVmlld119KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKSxbdGhpcy5wcmV2aWV3QnV0dG9uVmlldyx0aGlzLmVkaXRCdXR0b25WaWV3LHRoaXMudW5saW5rQnV0dG9uVmlld10uZm9yRWFjaCh0PT57dGhpcy5fZm9jdXNhYmxlcy5hZGQodCksdGhpcy5mb2N1c1RyYWNrZXIuYWRkKHQuZWxlbWVudCl9KSx0aGlzLmtleXN0cm9rZXMubGlzdGVuVG8odGhpcy5lbGVtZW50KX1mb2N1cygpe3RoaXMuX2ZvY3VzQ3ljbGVyLmZvY3VzRmlyc3QoKX1fY3JlYXRlQnV0dG9uKHQsZSxuKXtjb25zdCBvPW5ldyBGZCh0aGlzLmxvY2FsZSk7cmV0dXJuIG8uc2V0KHtsYWJlbDp0LGljb246ZSx0b29sdGlwOiEwfSksby5kZWxlZ2F0ZShcImV4ZWN1dGVcIikudG8odGhpcyxuKSxvfV9jcmVhdGVQcmV2aWV3QnV0dG9uKCl7Y29uc3QgdD1uZXcgRmQodGhpcy5sb2NhbGUpLGU9dGhpcy5iaW5kVGVtcGxhdGUsbj10aGlzLnQ7cmV0dXJuIHQuc2V0KHt3aXRoVGV4dDohMCx0b29sdGlwOm4oXCJiZFwiKX0pLHQuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1saW5rLWFjdGlvbnNfX3ByZXZpZXdcIl0saHJlZjplLnRvKFwiaHJlZlwiLHQ9PnQmJlhmKHQpKSx0YXJnZXQ6XCJfYmxhbmtcIn19KSx0LmJpbmQoXCJsYWJlbFwiKS50byh0aGlzLFwiaHJlZlwiLHQ9PnR8fG4oXCJiZVwiKSksdC5iaW5kKFwiaXNFbmFibGVkXCIpLnRvKHRoaXMsXCJocmVmXCIsdD0+ISF0KSx0LnRlbXBsYXRlLnRhZz1cImFcIix0LnRlbXBsYXRlLmV2ZW50TGlzdGVuZXJzPXt9LHR9fXZhciBnbT1uKDMyKSxwbT1uLm4oZ20pO2NvbnN0IGJtPVwiQ3RybCtLXCI7Y2xhc3Mgd20gZXh0ZW5kcyBVbHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW19oXX1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcjt0LmVkaXRpbmcudmlldy5hZGRPYnNlcnZlcihjbSksdGhpcy5hY3Rpb25zVmlldz10aGlzLl9jcmVhdGVBY3Rpb25zVmlldygpLHRoaXMuZm9ybVZpZXc9dGhpcy5fY3JlYXRlRm9ybVZpZXcoKSx0aGlzLl9iYWxsb29uPXQucGx1Z2lucy5nZXQoX2gpLHRoaXMuX2NyZWF0ZVRvb2xiYXJMaW5rQnV0dG9uKCksdGhpcy5fZW5hYmxlVXNlckJhbGxvb25JbnRlcmFjdGlvbnMoKX1fY3JlYXRlQWN0aW9uc1ZpZXcoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9bmV3IG1tKHQubG9jYWxlKSxuPXQuY29tbWFuZHMuZ2V0KFwibGlua1wiKSxvPXQuY29tbWFuZHMuZ2V0KFwidW5saW5rXCIpO3JldHVybiBlLmJpbmQoXCJocmVmXCIpLnRvKG4sXCJ2YWx1ZVwiKSxlLmVkaXRCdXR0b25WaWV3LmJpbmQoXCJpc0VuYWJsZWRcIikudG8obiksZS51bmxpbmtCdXR0b25WaWV3LmJpbmQoXCJpc0VuYWJsZWRcIikudG8obyksdGhpcy5saXN0ZW5UbyhlLFwiZWRpdFwiLCgpPT57dGhpcy5fYWRkRm9ybVZpZXcoKX0pLHRoaXMubGlzdGVuVG8oZSxcInVubGlua1wiLCgpPT57dC5leGVjdXRlKFwidW5saW5rXCIpLHRoaXMuX2hpZGVVSSgpfSksZS5rZXlzdHJva2VzLnNldChcIkVzY1wiLCh0LGUpPT57dGhpcy5faGlkZVVJKCksZSgpfSksZS5rZXlzdHJva2VzLnNldChibSwodCxlKT0+e3RoaXMuX2FkZEZvcm1WaWV3KCksZSgpfSksZX1fY3JlYXRlRm9ybVZpZXcoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9bmV3IGxtKHQubG9jYWxlKSxuPXQuY29tbWFuZHMuZ2V0KFwibGlua1wiKTtyZXR1cm4gZS51cmxJbnB1dFZpZXcuYmluZChcInZhbHVlXCIpLnRvKG4sXCJ2YWx1ZVwiKSxlLnVybElucHV0Vmlldy5iaW5kKFwiaXNSZWFkT25seVwiKS50byhuLFwiaXNFbmFibGVkXCIsdD0+IXQpLGUuc2F2ZUJ1dHRvblZpZXcuYmluZChcImlzRW5hYmxlZFwiKS50byhuKSx0aGlzLmxpc3RlblRvKGUsXCJzdWJtaXRcIiwoKT0+e3QuZXhlY3V0ZShcImxpbmtcIixlLnVybElucHV0Vmlldy5pbnB1dFZpZXcuZWxlbWVudC52YWx1ZSksdGhpcy5fcmVtb3ZlRm9ybVZpZXcoKX0pLHRoaXMubGlzdGVuVG8oZSxcImNhbmNlbFwiLCgpPT57dGhpcy5fcmVtb3ZlRm9ybVZpZXcoKX0pLGUua2V5c3Ryb2tlcy5zZXQoXCJFc2NcIiwodCxlKT0+e3RoaXMuX3JlbW92ZUZvcm1WaWV3KCksZSgpfSksZX1fY3JlYXRlVG9vbGJhckxpbmtCdXR0b24oKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC5jb21tYW5kcy5nZXQoXCJsaW5rXCIpLG49dC50O3Qua2V5c3Ryb2tlcy5zZXQoYm0sKHQsbik9PntuKCksZS5pc0VuYWJsZWQmJnRoaXMuX3Nob3dVSSgpfSksdC51aS5jb21wb25lbnRGYWN0b3J5LmFkZChcImxpbmtcIix0PT57Y29uc3Qgbz1uZXcgRmQodCk7cmV0dXJuIG8uaXNFbmFibGVkPSEwLG8ubGFiZWw9bihcIm5cIiksby5pY29uPXBtLmEsby5rZXlzdHJva2U9Ym0sby50b29sdGlwPSEwLG8uYmluZChcImlzT25cIixcImlzRW5hYmxlZFwiKS50byhlLFwidmFsdWVcIixcImlzRW5hYmxlZFwiKSx0aGlzLmxpc3RlblRvKG8sXCJleGVjdXRlXCIsKCk9PnRoaXMuX3Nob3dVSSgpKSxvfSl9X2VuYWJsZVVzZXJCYWxsb29uSW50ZXJhY3Rpb25zKCl7Y29uc3QgdD10aGlzLmVkaXRvci5lZGl0aW5nLnZpZXcuZG9jdW1lbnQ7dGhpcy5saXN0ZW5Ubyh0LFwiY2xpY2tcIiwoKT0+e3RoaXMuX2dldFNlbGVjdGVkTGlua0VsZW1lbnQoKSYmdGhpcy5fc2hvd1VJKCl9KSx0aGlzLmVkaXRvci5rZXlzdHJva2VzLnNldChcIlRhYlwiLCh0LGUpPT57dGhpcy5fYXJlQWN0aW9uc1Zpc2libGUmJiF0aGlzLmFjdGlvbnNWaWV3LmZvY3VzVHJhY2tlci5pc0ZvY3VzZWQmJih0aGlzLmFjdGlvbnNWaWV3LmZvY3VzKCksZSgpKX0se3ByaW9yaXR5OlwiaGlnaFwifSksdGhpcy5lZGl0b3Iua2V5c3Ryb2tlcy5zZXQoXCJFc2NcIiwodCxlKT0+e3RoaXMuX2lzVUlWaXNpYmxlJiYodGhpcy5faGlkZVVJKCksZSgpKX0pLGxoKHtlbWl0dGVyOnRoaXMuZm9ybVZpZXcsYWN0aXZhdG9yOigpPT50aGlzLl9pc1VJVmlzaWJsZSxjb250ZXh0RWxlbWVudHM6W3RoaXMuX2JhbGxvb24udmlldy5lbGVtZW50XSxjYWxsYmFjazooKT0+dGhpcy5faGlkZVVJKCl9KX1fYWRkQWN0aW9uc1ZpZXcoKXt0aGlzLl9hcmVBY3Rpb25zSW5QYW5lbHx8dGhpcy5fYmFsbG9vbi5hZGQoe3ZpZXc6dGhpcy5hY3Rpb25zVmlldyxwb3NpdGlvbjp0aGlzLl9nZXRCYWxsb29uUG9zaXRpb25EYXRhKCl9KX1fYWRkRm9ybVZpZXcoKXtpZih0aGlzLl9pc0Zvcm1JblBhbmVsKXJldHVybjtjb25zdCB0PXRoaXMuZWRpdG9yLmNvbW1hbmRzLmdldChcImxpbmtcIik7dGhpcy5fYmFsbG9vbi5hZGQoe3ZpZXc6dGhpcy5mb3JtVmlldyxwb3NpdGlvbjp0aGlzLl9nZXRCYWxsb29uUG9zaXRpb25EYXRhKCl9KSx0aGlzLmZvcm1WaWV3LnVybElucHV0Vmlldy5zZWxlY3QoKSx0aGlzLmZvcm1WaWV3LnVybElucHV0Vmlldy5pbnB1dFZpZXcuZWxlbWVudC52YWx1ZT10LnZhbHVlfHxcIlwifV9yZW1vdmVGb3JtVmlldygpe3RoaXMuX2lzRm9ybUluUGFuZWwmJih0aGlzLl9iYWxsb29uLnJlbW92ZSh0aGlzLmZvcm1WaWV3KSx0aGlzLmVkaXRvci5lZGl0aW5nLnZpZXcuZm9jdXMoKSl9X3Nob3dVSSgpe3RoaXMuZWRpdG9yLmNvbW1hbmRzLmdldChcImxpbmtcIikuaXNFbmFibGVkJiYodGhpcy5fZ2V0U2VsZWN0ZWRMaW5rRWxlbWVudCgpP3RoaXMuX2FyZUFjdGlvbnNWaXNpYmxlP3RoaXMuX2FkZEZvcm1WaWV3KCk6dGhpcy5fYWRkQWN0aW9uc1ZpZXcoKToodGhpcy5fYWRkQWN0aW9uc1ZpZXcoKSx0aGlzLl9hZGRGb3JtVmlldygpKSx0aGlzLl9zdGFydFVwZGF0aW5nVUkoKSl9X2hpZGVVSSgpe2lmKCF0aGlzLl9pc1VJSW5QYW5lbClyZXR1cm47Y29uc3QgdD10aGlzLmVkaXRvcjt0aGlzLnN0b3BMaXN0ZW5pbmcodC51aSxcInVwZGF0ZVwiKSx0aGlzLl9yZW1vdmVGb3JtVmlldygpLHRoaXMuX2JhbGxvb24ucmVtb3ZlKHRoaXMuYWN0aW9uc1ZpZXcpLHQuZWRpdGluZy52aWV3LmZvY3VzKCl9X3N0YXJ0VXBkYXRpbmdVSSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10LmVkaXRpbmcudmlldy5kb2N1bWVudDtsZXQgbj10aGlzLl9nZXRTZWxlY3RlZExpbmtFbGVtZW50KCksbz1pKCk7ZnVuY3Rpb24gaSgpe3JldHVybiBlLnNlbGVjdGlvbi5mb2N1cy5nZXRBbmNlc3RvcnMoKS5yZXZlcnNlKCkuZmluZCh0PT50LmlzKFwiZWxlbWVudFwiKSl9dGhpcy5saXN0ZW5Ubyh0LnVpLFwidXBkYXRlXCIsKCk9Pntjb25zdCB0PXRoaXMuX2dldFNlbGVjdGVkTGlua0VsZW1lbnQoKSxlPWkoKTtuJiYhdHx8IW4mJmUhPT1vP3RoaXMuX2hpZGVVSSgpOnRoaXMuX2JhbGxvb24udXBkYXRlUG9zaXRpb24odGhpcy5fZ2V0QmFsbG9vblBvc2l0aW9uRGF0YSgpKSxuPXQsbz1lfSl9Z2V0IF9pc0Zvcm1JblBhbmVsKCl7cmV0dXJuIHRoaXMuX2JhbGxvb24uaGFzVmlldyh0aGlzLmZvcm1WaWV3KX1nZXQgX2FyZUFjdGlvbnNJblBhbmVsKCl7cmV0dXJuIHRoaXMuX2JhbGxvb24uaGFzVmlldyh0aGlzLmFjdGlvbnNWaWV3KX1nZXQgX2FyZUFjdGlvbnNWaXNpYmxlKCl7cmV0dXJuIHRoaXMuX2JhbGxvb24udmlzaWJsZVZpZXc9PT10aGlzLmFjdGlvbnNWaWV3fWdldCBfaXNVSUluUGFuZWwoKXtyZXR1cm4gdGhpcy5faXNGb3JtSW5QYW5lbHx8dGhpcy5fYXJlQWN0aW9uc0luUGFuZWx9Z2V0IF9pc1VJVmlzaWJsZSgpe3JldHVybiB0aGlzLl9iYWxsb29uLnZpc2libGVWaWV3PT10aGlzLmZvcm1WaWV3fHx0aGlzLl9hcmVBY3Rpb25zVmlzaWJsZX1fZ2V0QmFsbG9vblBvc2l0aW9uRGF0YSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LGU9dC5kb2N1bWVudCxuPXRoaXMuX2dldFNlbGVjdGVkTGlua0VsZW1lbnQoKTtyZXR1cm57dGFyZ2V0Om4/dC5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKG4pOnQuZG9tQ29udmVydGVyLnZpZXdSYW5nZVRvRG9tKGUuc2VsZWN0aW9uLmdldEZpcnN0UmFuZ2UoKSl9fV9nZXRTZWxlY3RlZExpbmtFbGVtZW50KCl7Y29uc3QgdD10aGlzLmVkaXRvci5lZGl0aW5nLnZpZXcuZG9jdW1lbnQuc2VsZWN0aW9uO2lmKHQuaXNDb2xsYXBzZWQpcmV0dXJuIF9tKHQuZ2V0Rmlyc3RQb3NpdGlvbigpKTt7Y29uc3QgZT10LmdldEZpcnN0UmFuZ2UoKS5nZXRUcmltbWVkKCksbj1fbShlLnN0YXJ0KSxvPV9tKGUuZW5kKTtyZXR1cm4gbiYmbj09byYmUW8uY3JlYXRlSW4obikuZ2V0VHJpbW1lZCgpLmlzRXF1YWwoZSk/bjpudWxsfX19ZnVuY3Rpb24gX20odCl7cmV0dXJuIHQuZ2V0QW5jZXN0b3JzKCkuZmluZCh0PT4oZnVuY3Rpb24odCl7cmV0dXJuIHQuaXMoXCJhdHRyaWJ1dGVFbGVtZW50XCIpJiYhIXQuZ2V0Q3VzdG9tUHJvcGVydHkoUWYpfSkodCkpfWNsYXNzIHZtIGV4dGVuZHMgR2x7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KSx0aGlzLnR5cGU9XCJidWxsZXRlZFwiPT1lP1wiYnVsbGV0ZWRcIjpcIm51bWJlcmVkXCJ9cmVmcmVzaCgpe3RoaXMudmFsdWU9dGhpcy5fZ2V0VmFsdWUoKSx0aGlzLmlzRW5hYmxlZD10aGlzLl9jaGVja0VuYWJsZWQoKX1leGVjdXRlKCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbCxlPXQuZG9jdW1lbnQsbj1BcnJheS5mcm9tKGUuc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCkpLmZpbHRlcihlPT55bShlLHQuc2NoZW1hKSksbz0hMD09PXRoaXMudmFsdWU7dC5jaGFuZ2UodD0+e2lmKG8pe2xldCBlPW5bbi5sZW5ndGgtMV0ubmV4dFNpYmxpbmcsbz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksaT1bXTtmb3IoO2UmJlwibGlzdEl0ZW1cIj09ZS5uYW1lJiYwIT09ZS5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpOyl7Y29uc3QgdD1lLmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIik7dDxvJiYobz10KTtjb25zdCBuPXQtbztpLnB1c2goe2VsZW1lbnQ6ZSxsaXN0SW5kZW50Om59KSxlPWUubmV4dFNpYmxpbmd9aT1pLnJldmVyc2UoKTtmb3IoY29uc3QgZSBvZiBpKXQuc2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiLGUubGlzdEluZGVudCxlLmVsZW1lbnQpfWlmKCFvKXtsZXQgdD1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Zm9yKGNvbnN0IGUgb2YgbillLmlzKFwibGlzdEl0ZW1cIikmJmUuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKTx0JiYodD1lLmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIikpO2ttKG4sITAsdD0wPT09dD8xOnQpLGttKG4sITEsdCl9Zm9yKGNvbnN0IGUgb2Ygbi5yZXZlcnNlKCkpbyYmXCJsaXN0SXRlbVwiPT1lLm5hbWU/dC5yZW5hbWUoZSxcInBhcmFncmFwaFwiKTpvfHxcImxpc3RJdGVtXCI9PWUubmFtZT9vfHxcImxpc3RJdGVtXCIhPWUubmFtZXx8ZS5nZXRBdHRyaWJ1dGUoXCJsaXN0VHlwZVwiKT09dGhpcy50eXBlfHx0LnNldEF0dHJpYnV0ZShcImxpc3RUeXBlXCIsdGhpcy50eXBlLGUpOih0LnNldEF0dHJpYnV0ZXMoe2xpc3RUeXBlOnRoaXMudHlwZSxsaXN0SW5kZW50OjB9LGUpLHQucmVuYW1lKGUsXCJsaXN0SXRlbVwiKSl9KX1fZ2V0VmFsdWUoKXtjb25zdCB0PWJ1KHRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpKTtyZXR1cm4hIXQmJnQuaXMoXCJsaXN0SXRlbVwiKSYmdC5nZXRBdHRyaWJ1dGUoXCJsaXN0VHlwZVwiKT09dGhpcy50eXBlfV9jaGVja0VuYWJsZWQoKXtpZih0aGlzLnZhbHVlKXJldHVybiEwO2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLGU9dGhpcy5lZGl0b3IubW9kZWwuc2NoZW1hLG49YnUodC5nZXRTZWxlY3RlZEJsb2NrcygpKTtyZXR1cm4hIW4mJnltKG4sZSl9fWZ1bmN0aW9uIGttKHQsZSxuKXtjb25zdCBvPWU/dFswXTp0W3QubGVuZ3RoLTFdO2lmKG8uaXMoXCJsaXN0SXRlbVwiKSl7bGV0IGk9b1tlP1wicHJldmlvdXNTaWJsaW5nXCI6XCJuZXh0U2libGluZ1wiXSxyPW8uZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKTtmb3IoO2kmJmkuaXMoXCJsaXN0SXRlbVwiKSYmaS5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpPj1uOylyPmkuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKSYmKHI9aS5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpKSxpLmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIik9PXImJnRbZT9cInVuc2hpZnRcIjpcInB1c2hcIl0oaSksaT1pW2U/XCJwcmV2aW91c1NpYmxpbmdcIjpcIm5leHRTaWJsaW5nXCJdfX1mdW5jdGlvbiB5bSh0LGUpe3JldHVybiBlLmNoZWNrQ2hpbGQodC5wYXJlbnQsXCJsaXN0SXRlbVwiKSYmIWUuaXNPYmplY3QodCl9Y2xhc3MgeG0gZXh0ZW5kcyBHbHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMuX2luZGVudEJ5PVwiZm9yd2FyZFwiPT1lPzE6LTF9cmVmcmVzaCgpe3RoaXMuaXNFbmFibGVkPXRoaXMuX2NoZWNrRW5hYmxlZCgpfWV4ZWN1dGUoKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLGU9dC5kb2N1bWVudDtsZXQgbj1BcnJheS5mcm9tKGUuc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCkpO3QuY2hhbmdlKHQ9Pntjb25zdCBlPW5bbi5sZW5ndGgtMV07bGV0IG89ZS5uZXh0U2libGluZztmb3IoO28mJlwibGlzdEl0ZW1cIj09by5uYW1lJiZvLmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIik+ZS5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpOyluLnB1c2gobyksbz1vLm5leHRTaWJsaW5nO3RoaXMuX2luZGVudEJ5PDAmJihuPW4ucmV2ZXJzZSgpKTtmb3IoY29uc3QgZSBvZiBuKXtjb25zdCBuPWUuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKSt0aGlzLl9pbmRlbnRCeTtuPDA/dC5yZW5hbWUoZSxcInBhcmFncmFwaFwiKTp0LnNldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIixuLGUpfX0pfV9jaGVja0VuYWJsZWQoKXtjb25zdCB0PWJ1KHRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5nZXRTZWxlY3RlZEJsb2NrcygpKTtpZighdHx8IXQuaXMoXCJsaXN0SXRlbVwiKSlyZXR1cm4hMTtpZih0aGlzLl9pbmRlbnRCeT4wKXtjb25zdCBlPXQuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKSxuPXQuZ2V0QXR0cmlidXRlKFwibGlzdFR5cGVcIik7bGV0IG89dC5wcmV2aW91c1NpYmxpbmc7Zm9yKDtvJiZvLmlzKFwibGlzdEl0ZW1cIikmJm8uZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKT49ZTspe2lmKG8uZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKT09ZSlyZXR1cm4gby5nZXRBdHRyaWJ1dGUoXCJsaXN0VHlwZVwiKT09bjtvPW8ucHJldmlvdXNTaWJsaW5nfXJldHVybiExfXJldHVybiEwfX1mdW5jdGlvbiBBbSgpe2NvbnN0IHQ9IXRoaXMuaXNFbXB0eSYmKFwidWxcIj09dGhpcy5nZXRDaGlsZCgwKS5uYW1lfHxcIm9sXCI9PXRoaXMuZ2V0Q2hpbGQoMCkubmFtZSk7cmV0dXJuIHRoaXMuaXNFbXB0eXx8dD8wOm51bGx9ZnVuY3Rpb24gQ20odCxlLG4pe2NvbnN0IG89bi5jb25zdW1hYmxlO2lmKCFvLnRlc3QoZS5pdGVtLFwiaW5zZXJ0XCIpfHwhby50ZXN0KGUuaXRlbSxcImF0dHJpYnV0ZTpsaXN0VHlwZVwiKXx8IW8udGVzdChlLml0ZW0sXCJhdHRyaWJ1dGU6bGlzdEluZGVudFwiKSlyZXR1cm47by5jb25zdW1lKGUuaXRlbSxcImluc2VydFwiKSxvLmNvbnN1bWUoZS5pdGVtLFwiYXR0cmlidXRlOmxpc3RUeXBlXCIpLG8uY29uc3VtZShlLml0ZW0sXCJhdHRyaWJ1dGU6bGlzdEluZGVudFwiKTtjb25zdCBpPWUuaXRlbTtGbShpLGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1lLm1hcHBlcixvPWUud3JpdGVyLGk9XCJudW1iZXJlZFwiPT10LmdldEF0dHJpYnV0ZShcImxpc3RUeXBlXCIpP1wib2xcIjpcInVsXCIscj1mdW5jdGlvbih0KXtjb25zdCBlPXQuY3JlYXRlQ29udGFpbmVyRWxlbWVudChcImxpXCIpO3JldHVybiBlLmdldEZpbGxlck9mZnNldD1BbSxlfShvKSxzPW8uY3JlYXRlQ29udGFpbmVyRWxlbWVudChpLG51bGwpO3JldHVybiBvLmluc2VydCgkby5jcmVhdGVBdChzKSxyKSxuLmJpbmRFbGVtZW50cyh0LHIpLHJ9KGksbiksbil9ZnVuY3Rpb24gVG0odCxlLG4pe2NvbnN0IG89bi5tYXBwZXIudG9WaWV3UG9zaXRpb24oZS5wb3NpdGlvbikuZ2V0TGFzdE1hdGNoaW5nUG9zaXRpb24odD0+IXQuaXRlbS5pcyhcImxpXCIpKS5ub2RlQWZ0ZXIsaT1uLndyaXRlcjtpLmJyZWFrQ29udGFpbmVyKCRvLmNyZWF0ZUJlZm9yZShvKSksaS5icmVha0NvbnRhaW5lcigkby5jcmVhdGVBZnRlcihvKSk7Y29uc3Qgcj1vLnBhcmVudCxzPXIucHJldmlvdXNTaWJsaW5nLGE9UW8uY3JlYXRlT24ociksYz1pLnJlbW92ZShhKTtzJiZzLm5leHRTaWJsaW5nJiZWbShpLHMscy5uZXh0U2libGluZyksem0obi5tYXBwZXIudG9Nb2RlbEVsZW1lbnQobykuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKSsxLGUucG9zaXRpb24sYS5zdGFydCxvLG4pO2Zvcihjb25zdCB0IG9mIFFvLmNyZWF0ZUluKGMpLmdldEl0ZW1zKCkpbi5tYXBwZXIudW5iaW5kVmlld0VsZW1lbnQodCk7dC5zdG9wKCl9ZnVuY3Rpb24gTW0odCxlLG4pe2lmKCFuLmNvbnN1bWFibGUuY29uc3VtZShlLml0ZW0sXCJhdHRyaWJ1dGU6bGlzdFR5cGVcIikpcmV0dXJuO2NvbnN0IG89bi5tYXBwZXIudG9WaWV3RWxlbWVudChlLml0ZW0pLGk9bi53cml0ZXI7aS5icmVha0NvbnRhaW5lcigkby5jcmVhdGVCZWZvcmUobykpLGkuYnJlYWtDb250YWluZXIoJG8uY3JlYXRlQWZ0ZXIobykpO2xldCByPW8ucGFyZW50O2NvbnN0IHM9XCJudW1iZXJlZFwiPT1lLmF0dHJpYnV0ZU5ld1ZhbHVlP1wib2xcIjpcInVsXCI7Vm0oaSxyPWkucmVuYW1lKHMsciksci5uZXh0U2libGluZyksVm0oaSxyLnByZXZpb3VzU2libGluZyxyKTtmb3IoY29uc3QgdCBvZiBlLml0ZW0uZ2V0Q2hpbGRyZW4oKSluLmNvbnN1bWFibGUuY29uc3VtZSh0LFwiaW5zZXJ0XCIpfWZ1bmN0aW9uIFBtKHQsZSxuKXtpZighbi5jb25zdW1hYmxlLmNvbnN1bWUoZS5pdGVtLFwiYXR0cmlidXRlOmxpc3RJbmRlbnRcIikpcmV0dXJuO2NvbnN0IG89bi5tYXBwZXIudG9WaWV3RWxlbWVudChlLml0ZW0pLGk9bi53cml0ZXI7aS5icmVha0NvbnRhaW5lcigkby5jcmVhdGVCZWZvcmUobykpLGkuYnJlYWtDb250YWluZXIoJG8uY3JlYXRlQWZ0ZXIobykpO2NvbnN0IHI9by5wYXJlbnQscz1yLnByZXZpb3VzU2libGluZyxhPVFvLmNyZWF0ZU9uKHIpO2kucmVtb3ZlKGEpLHMmJnMubmV4dFNpYmxpbmcmJlZtKGkscyxzLm5leHRTaWJsaW5nKSx6bShlLmF0dHJpYnV0ZU9sZFZhbHVlKzEsZS5yYW5nZS5zdGFydCxhLnN0YXJ0LG8sbiksRm0oZS5pdGVtLG8sbik7Zm9yKGNvbnN0IHQgb2YgZS5pdGVtLmdldENoaWxkcmVuKCkpbi5jb25zdW1hYmxlLmNvbnN1bWUodCxcImluc2VydFwiKX1mdW5jdGlvbiBTbSh0LGUsbil7aWYoXCJsaXN0SXRlbVwiIT1lLml0ZW0ubmFtZSl7bGV0IHQ9bi5tYXBwZXIudG9WaWV3UG9zaXRpb24oZS5yYW5nZS5zdGFydCk7Y29uc3Qgbz1uLndyaXRlcixpPVtdO2Zvcig7KFwidWxcIj09dC5wYXJlbnQubmFtZXx8XCJvbFwiPT10LnBhcmVudC5uYW1lKSYmXCJsaVwiPT0odD1vLmJyZWFrQ29udGFpbmVyKHQpKS5wYXJlbnQubmFtZTspe2NvbnN0IGU9dCxuPSRvLmNyZWF0ZUF0KHQucGFyZW50LFwiZW5kXCIpO2lmKCFlLmlzRXF1YWwobikpe2NvbnN0IHQ9by5yZW1vdmUobmV3IFFvKGUsbikpO2kucHVzaCh0KX10PSRvLmNyZWF0ZUFmdGVyKHQucGFyZW50KX1pZihpLmxlbmd0aD4wKXtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKyl7Y29uc3Qgbj10Lm5vZGVCZWZvcmU7aWYodD1vLmluc2VydCh0LGlbZV0pLmVuZCxlPjApe2NvbnN0IGU9Vm0obyxuLG4ubmV4dFNpYmxpbmcpO2UmJmUucGFyZW50PT1uJiZ0Lm9mZnNldC0tfX1WbShvLHQubm9kZUJlZm9yZSx0Lm5vZGVBZnRlcil9fX1mdW5jdGlvbiBFbSh0LGUsbil7Y29uc3Qgbz1uLm1hcHBlci50b1ZpZXdQb3NpdGlvbihlLnBvc2l0aW9uKSxpPW8ubm9kZUJlZm9yZSxyPW8ubm9kZUFmdGVyO1ZtKG4ud3JpdGVyLGkscil9ZnVuY3Rpb24gSW0odCxlLG4pe2lmKG4uY29uc3VtYWJsZS5jb25zdW1lKGUudmlld0l0ZW0se25hbWU6ITB9KSl7Y29uc3QgdD1uLndyaXRlcixvPXRoaXMuY29udmVyc2lvbkFwaS5zdG9yZSxpPXQuY3JlYXRlRWxlbWVudChcImxpc3RJdGVtXCIpO28uaW5kZW50PW8uaW5kZW50fHwwLHQuc2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiLG8uaW5kZW50LGkpO2NvbnN0IHI9ZS52aWV3SXRlbS5wYXJlbnQmJlwib2xcIj09ZS52aWV3SXRlbS5wYXJlbnQubmFtZT9cIm51bWJlcmVkXCI6XCJidWxsZXRlZFwiO3Quc2V0QXR0cmlidXRlKFwibGlzdFR5cGVcIixyLGkpLG8uaW5kZW50Kys7Y29uc3Qgcz1uLnNwbGl0VG9BbGxvd2VkUGFyZW50KGksZS5tb2RlbEN1cnNvcik7aWYoIXMpcmV0dXJuO3QuaW5zZXJ0KGkscy5wb3NpdGlvbik7bGV0IGE9SHMuY3JlYXRlQWZ0ZXIoaSk7Zm9yKGNvbnN0IHQgb2YgZS52aWV3SXRlbS5nZXRDaGlsZHJlbigpKVwidWxcIj09dC5uYW1lfHxcIm9sXCI9PXQubmFtZT9hPW4uY29udmVydEl0ZW0odCxhKS5tb2RlbEN1cnNvcjpuLmNvbnZlcnRJdGVtKHQsSHMuY3JlYXRlQXQoaSxcImVuZFwiKSk7by5pbmRlbnQtLSxlLm1vZGVsUmFuZ2U9bmV3IHFzKGUubW9kZWxDdXJzb3IsYSkscy5jdXJzb3JQYXJlbnQ/ZS5tb2RlbEN1cnNvcj1Icy5jcmVhdGVBdChzLmN1cnNvclBhcmVudCk6ZS5tb2RlbEN1cnNvcj1lLm1vZGVsUmFuZ2UuZW5kfX1mdW5jdGlvbiBObSh0LGUsbil7aWYobi5jb25zdW1hYmxlLnRlc3QoZS52aWV3SXRlbSx7bmFtZTohMH0pKXtjb25zdCB0PUFycmF5LmZyb20oZS52aWV3SXRlbS5nZXRDaGlsZHJlbigpKTtmb3IoY29uc3QgZSBvZiB0KWUuaXMoXCJsaVwiKXx8ZS5fcmVtb3ZlKCl9fWZ1bmN0aW9uIE9tKHQsZSxuKXtpZihuLmNvbnN1bWFibGUudGVzdChlLnZpZXdJdGVtLHtuYW1lOiEwfSkpe2lmKDA9PT1lLnZpZXdJdGVtLmNoaWxkQ291bnQpcmV0dXJuO2NvbnN0IHQ9Wy4uLmUudmlld0l0ZW0uZ2V0Q2hpbGRyZW4oKV07bGV0IG49ITEsbz0hMDtmb3IoY29uc3QgZSBvZiB0KSFufHxlLmlzKFwidWxcIil8fGUuaXMoXCJvbFwiKXx8ZS5fcmVtb3ZlKCksZS5pcyhcInRleHRcIik/KG8mJihlLl9kYXRhPWUuZGF0YS5yZXBsYWNlKC9eXFxzKy8sXCJcIikpLCghZS5uZXh0U2libGluZ3x8ZS5uZXh0U2libGluZy5pcyhcInVsXCIpfHxlLm5leHRTaWJsaW5nLmlzKFwib2xcIikpJiYoZS5fZGF0YT1lLmRhdGEucmVwbGFjZSgvXFxzKyQvLFwiXCIpKSk6KGUuaXMoXCJ1bFwiKXx8ZS5pcyhcIm9sXCIpKSYmKG49ITApLG89ITF9fWZ1bmN0aW9uIFJtKHQsZSl7aWYoZS5pc1BoYW50b20pcmV0dXJuO2NvbnN0IG49ZS5tb2RlbFBvc2l0aW9uLm5vZGVCZWZvcmU7aWYobiYmbi5pcyhcImxpc3RJdGVtXCIpKXtjb25zdCB0PWUubWFwcGVyLnRvVmlld0VsZW1lbnQobiksbz10LmdldEFuY2VzdG9ycygpLmZpbmQodD0+dC5pcyhcInVsXCIpfHx0LmlzKFwib2xcIikpLGk9bmV3IEdvKHtzdGFydFBvc2l0aW9uOiRvLmNyZWF0ZUF0KHQsMCl9KTtmb3IoY29uc3QgdCBvZiBpKXtpZihcImVsZW1lbnRTdGFydFwiPT10LnR5cGUmJnQuaXRlbS5pcyhcImxpXCIpKXtlLnZpZXdQb3NpdGlvbj10LnByZXZpb3VzUG9zaXRpb247YnJlYWt9aWYoXCJlbGVtZW50RW5kXCI9PXQudHlwZSYmdC5pdGVtPT1vKXtlLnZpZXdQb3NpdGlvbj10Lm5leHRQb3NpdGlvbjticmVha319fX1mdW5jdGlvbiBEbSh0LGUpe2NvbnN0IG49ZS52aWV3UG9zaXRpb24sbz1uLnBhcmVudCxpPWUubWFwcGVyO2lmKFwidWxcIj09by5uYW1lfHxcIm9sXCI9PW8ubmFtZSl7aWYobi5pc0F0RW5kKXtjb25zdCB0PWkudG9Nb2RlbEVsZW1lbnQobi5ub2RlQmVmb3JlKSxvPWkuZ2V0TW9kZWxMZW5ndGgobi5ub2RlQmVmb3JlKTtlLm1vZGVsUG9zaXRpb249SHMuY3JlYXRlQmVmb3JlKHQpLmdldFNoaWZ0ZWRCeShvKX1lbHNle2NvbnN0IHQ9aS50b01vZGVsRWxlbWVudChuLm5vZGVBZnRlcik7ZS5tb2RlbFBvc2l0aW9uPUhzLmNyZWF0ZUJlZm9yZSh0KX10LnN0b3AoKX1lbHNlIGlmKFwibGlcIj09by5uYW1lJiZuLm5vZGVCZWZvcmUmJihcInVsXCI9PW4ubm9kZUJlZm9yZS5uYW1lfHxcIm9sXCI9PW4ubm9kZUJlZm9yZS5uYW1lKSl7Y29uc3Qgcj1pLnRvTW9kZWxFbGVtZW50KG8pO2xldCBzPTEsYT1uLm5vZGVCZWZvcmU7Zm9yKDthJiYoYS5pcyhcInVsXCIpfHxhLmlzKFwib2xcIikpOylzKz1pLmdldE1vZGVsTGVuZ3RoKGEpLGE9YS5wcmV2aW91c1NpYmxpbmc7ZS5tb2RlbFBvc2l0aW9uPUhzLmNyZWF0ZUJlZm9yZShyKS5nZXRTaGlmdGVkQnkocyksdC5zdG9wKCl9fWZ1bmN0aW9uIGptKHQsW2Usbl0pe2xldCBvLGk9ZS5pcyhcImRvY3VtZW50RnJhZ21lbnRcIik/ZS5nZXRDaGlsZCgwKTplO2lmKG89bj9uZXcgSnMobik6dGhpcy5kb2N1bWVudC5zZWxlY3Rpb24saSYmaS5pcyhcImxpc3RJdGVtXCIpKXtjb25zdCB0PW8uZ2V0Rmlyc3RQb3NpdGlvbigpO2xldCBlPW51bGw7aWYodC5wYXJlbnQuaXMoXCJsaXN0SXRlbVwiKT9lPXQucGFyZW50OnQubm9kZUJlZm9yZSYmdC5ub2RlQmVmb3JlLmlzKFwibGlzdEl0ZW1cIikmJihlPXQubm9kZUJlZm9yZSksZSl7Y29uc3QgdD1lLmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIik7aWYodD4wKWZvcig7aSYmaS5pcyhcImxpc3RJdGVtXCIpOylpLl9zZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIsaS5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpK3QpLGk9aS5uZXh0U2libGluZ319fWZ1bmN0aW9uIExtKHQsZSl7Y29uc3Qgbj0hIWUuc2FtZUluZGVudCxvPSEhZS5zbWFsbGVySW5kZW50LGk9dCBpbnN0YW5jZW9mIEZzP3QuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKTplLmxpc3RJbmRlbnQ7bGV0IHI9dCBpbnN0YW5jZW9mIEZzP3QucHJldmlvdXNTaWJsaW5nOnQubm9kZUJlZm9yZTtmb3IoO3ImJlwibGlzdEl0ZW1cIj09ci5uYW1lOyl7Y29uc3QgdD1yLmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIik7aWYobiYmaT09dHx8byYmaT50KXJldHVybiByO3I9ci5wcmV2aW91c1NpYmxpbmd9cmV0dXJuIG51bGx9ZnVuY3Rpb24gVm0odCxlLG4pe3JldHVybiBlJiZuJiYoXCJ1bFwiPT1lLm5hbWV8fFwib2xcIj09ZS5uYW1lKSYmZS5uYW1lPT1uLm5hbWU/dC5tZXJnZUNvbnRhaW5lcnMoJG8uY3JlYXRlQWZ0ZXIoZSkpOm51bGx9ZnVuY3Rpb24gRm0odCxlLG4pe2NvbnN0IG89ZS5wYXJlbnQsaT1uLm1hcHBlcixyPW4ud3JpdGVyO2xldCBzPWkudG9WaWV3UG9zaXRpb24oSHMuY3JlYXRlQmVmb3JlKHQpKTtjb25zdCBhPUxtKHQse3NhbWVJbmRlbnQ6ITAsc21hbGxlckluZGVudDohMH0pLGM9dC5wcmV2aW91c1NpYmxpbmc7aWYoYSYmYS5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpPT10LmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIikpe2NvbnN0IHQ9aS50b1ZpZXdFbGVtZW50KGEpO3M9ci5icmVha0NvbnRhaW5lcigkby5jcmVhdGVBZnRlcih0KSl9ZWxzZSBzPWMmJlwibGlzdEl0ZW1cIj09Yy5uYW1lP2kudG9WaWV3UG9zaXRpb24oSHMuY3JlYXRlQXQoYyxcImVuZFwiKSk6aS50b1ZpZXdQb3NpdGlvbihIcy5jcmVhdGVCZWZvcmUodCkpO2lmKHM9Qm0ocyksci5pbnNlcnQocyxvKSxjJiZcImxpc3RJdGVtXCI9PWMubmFtZSl7Y29uc3QgdD1pLnRvVmlld0VsZW1lbnQoYyksbj1uZXcgR28oe2JvdW5kYXJpZXM6bmV3IFFvKCRvLmNyZWF0ZUF0KHQsMCkscyksaWdub3JlRWxlbWVudEVuZDohMH0pO2Zvcihjb25zdCB0IG9mIG4paWYodC5pdGVtLmlzKFwibGlcIikpe2NvbnN0IG89ci5icmVha0NvbnRhaW5lcigkby5jcmVhdGVCZWZvcmUodC5pdGVtKSksaT10Lml0ZW0ucGFyZW50LHM9JG8uY3JlYXRlQXQoZSxcImVuZFwiKTtWbShyLHMubm9kZUJlZm9yZSxzLm5vZGVBZnRlciksci5tb3ZlKFFvLmNyZWF0ZU9uKGkpLHMpLG4ucG9zaXRpb249b319ZWxzZXtjb25zdCBuPW8ubmV4dFNpYmxpbmc7aWYobiYmKG4uaXMoXCJ1bFwiKXx8bi5pcyhcIm9sXCIpKSl7bGV0IG89bnVsbDtmb3IoY29uc3QgZSBvZiBuLmdldENoaWxkcmVuKCkpe2NvbnN0IG49aS50b01vZGVsRWxlbWVudChlKTtpZighKG4mJm4uZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKT50LmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIikpKWJyZWFrO289ZX1vJiYoci5icmVha0NvbnRhaW5lcigkby5jcmVhdGVBZnRlcihvKSksci5tb3ZlKFFvLmNyZWF0ZU9uKG8ucGFyZW50KSwkby5jcmVhdGVBdChlLFwiZW5kXCIpKSl9fVZtKHIsbyxvLm5leHRTaWJsaW5nKSxWbShyLG8ucHJldmlvdXNTaWJsaW5nLG8pfWZ1bmN0aW9uIHptKHQsZSxuLG8saSl7Y29uc3Qgcj1MbShlLHtzYW1lSW5kZW50OiEwLHNtYWxsZXJJbmRlbnQ6ITAsbGlzdEluZGVudDp0fSkscz1pLm1hcHBlcixhPWkud3JpdGVyLGM9cj9yLmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIik6bnVsbDtsZXQgbDtpZihyKWlmKGM9PXQpe2NvbnN0IHQ9cy50b1ZpZXdFbGVtZW50KHIpLnBhcmVudDtsPSRvLmNyZWF0ZUFmdGVyKHQpfWVsc2V7Y29uc3QgdD1Icy5jcmVhdGVBdChyLFwiZW5kXCIpO2w9cy50b1ZpZXdQb3NpdGlvbih0KX1lbHNlIGw9bjtsPUJtKGwpO2Zvcihjb25zdCB0IG9mWy4uLm8uZ2V0Q2hpbGRyZW4oKV0pKHQuaXMoXCJ1bFwiKXx8dC5pcyhcIm9sXCIpKSYmKGw9YS5tb3ZlKFFvLmNyZWF0ZU9uKHQpLGwpLmVuZCxWbShhLHQsdC5uZXh0U2libGluZyksVm0oYSx0LnByZXZpb3VzU2libGluZyx0KSl9ZnVuY3Rpb24gQm0odCl7cmV0dXJuIHQuZ2V0TGFzdE1hdGNoaW5nUG9zaXRpb24odD0+dC5pdGVtLmlzKFwidWlFbGVtZW50XCIpKX1jbGFzcyBVbSBleHRlbmRzIFVse3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bUWhdfWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO3QubW9kZWwuc2NoZW1hLnJlZ2lzdGVyKFwibGlzdEl0ZW1cIix7aW5oZXJpdEFsbEZyb206XCIkYmxvY2tcIixhbGxvd0F0dHJpYnV0ZXM6W1wibGlzdFR5cGVcIixcImxpc3RJbmRlbnRcIl19KTtjb25zdCBlPXQuZGF0YSxuPXQuZWRpdGluZzt0Lm1vZGVsLmRvY3VtZW50LnJlZ2lzdGVyUG9zdEZpeGVyKGU9PihmdW5jdGlvbih0LGUpe2NvbnN0IG49dC5kb2N1bWVudC5kaWZmZXIuZ2V0Q2hhbmdlcygpLG89bmV3IE1hcDtsZXQgaT0hMTtmb3IoY29uc3QgdCBvZiBuKWlmKFwiaW5zZXJ0XCI9PXQudHlwZSYmXCJsaXN0SXRlbVwiPT10Lm5hbWUpcih0LnBvc2l0aW9uKTtlbHNlIGlmKFwiaW5zZXJ0XCI9PXQudHlwZSYmXCJsaXN0SXRlbVwiIT10Lm5hbWUpe2lmKFwiJHRleHRcIiE9dC5uYW1lKXtjb25zdCBuPXQucG9zaXRpb24ubm9kZUFmdGVyO24uaGFzQXR0cmlidXRlKFwibGlzdEluZGVudFwiKSYmKGUucmVtb3ZlQXR0cmlidXRlKFwibGlzdEluZGVudFwiLG4pLGk9ITApLG4uaGFzQXR0cmlidXRlKFwibGlzdFR5cGVcIikmJihlLnJlbW92ZUF0dHJpYnV0ZShcImxpc3RUeXBlXCIsbiksaT0hMCl9cih0LnBvc2l0aW9uLmdldFNoaWZ0ZWRCeSh0Lmxlbmd0aCkpfWVsc2VcInJlbW92ZVwiPT10LnR5cGUmJlwibGlzdEl0ZW1cIj09dC5uYW1lP3IodC5wb3NpdGlvbik6XCJhdHRyaWJ1dGVcIj09dC50eXBlJiZcImxpc3RJbmRlbnRcIj09dC5hdHRyaWJ1dGVLZXk/cih0LnJhbmdlLnN0YXJ0KTpcImF0dHJpYnV0ZVwiPT10LnR5cGUmJlwibGlzdFR5cGVcIj09dC5hdHRyaWJ1dGVLZXkmJnIodC5yYW5nZS5zdGFydCk7Zm9yKGNvbnN0IHQgb2Ygby52YWx1ZXMoKSlzKHQpLGEodCk7cmV0dXJuIGk7ZnVuY3Rpb24gcih0KXtjb25zdCBlPXQubm9kZUJlZm9yZTtpZihlJiZlLmlzKFwibGlzdEl0ZW1cIikpe2xldCBuPWU7aWYoby5oYXMobikpcmV0dXJuO2Zvcig7bi5wcmV2aW91c1NpYmxpbmcmJm4ucHJldmlvdXNTaWJsaW5nLmlzKFwibGlzdEl0ZW1cIik7KWlmKG49bi5wcmV2aW91c1NpYmxpbmcsby5oYXMobikpcmV0dXJuO28uc2V0KHQubm9kZUJlZm9yZSxuKX1lbHNle2NvbnN0IGU9dC5ub2RlQWZ0ZXI7ZSYmZS5pcyhcImxpc3RJdGVtXCIpJiZvLnNldChlLGUpfX1mdW5jdGlvbiBzKHQpe2xldCBuPTAsbz1udWxsO2Zvcig7dCYmdC5pcyhcImxpc3RJdGVtXCIpOyl7Y29uc3Qgcj10LmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIik7aWYocj5uKXtsZXQgcztudWxsPT09bz8obz1yLW4scz1uKToobz5yJiYobz1yKSxzPXItbyksZS5zZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIscyx0KSxpPSEwfWVsc2Ugbz1udWxsLG49dC5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpKzE7dD10Lm5leHRTaWJsaW5nfX1mdW5jdGlvbiBhKHQpe2xldCBuPVtdLG89bnVsbDtmb3IoO3QmJnQuaXMoXCJsaXN0SXRlbVwiKTspe2NvbnN0IHI9dC5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpO2lmKG8mJm8uZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKT5yJiYobj1uLnNsaWNlKDAscisxKSksMCE9cilpZihuW3JdKXtjb25zdCBvPW5bcl07dC5nZXRBdHRyaWJ1dGUoXCJsaXN0VHlwZVwiKSE9byYmKGUuc2V0QXR0cmlidXRlKFwibGlzdFR5cGVcIixvLHQpLGk9ITApfWVsc2UgbltyXT10LmdldEF0dHJpYnV0ZShcImxpc3RUeXBlXCIpO289dCx0PXQubmV4dFNpYmxpbmd9fX0pKHQubW9kZWwsZSkpLG4ubWFwcGVyLnJlZ2lzdGVyVmlld1RvTW9kZWxMZW5ndGgoXCJsaVwiLEhtKSxlLm1hcHBlci5yZWdpc3RlclZpZXdUb01vZGVsTGVuZ3RoKFwibGlcIixIbSksbi5tYXBwZXIub24oXCJtb2RlbFRvVmlld1Bvc2l0aW9uXCIsUm0pLG4ubWFwcGVyLm9uKFwidmlld1RvTW9kZWxQb3NpdGlvblwiLERtKSxlLm1hcHBlci5vbihcIm1vZGVsVG9WaWV3UG9zaXRpb25cIixSbSksbi5kb3duY2FzdERpc3BhdGNoZXIub24oXCJpbnNlcnRcIixTbSx7cHJpb3JpdHk6XCJoaWdoXCJ9KSxuLmRvd25jYXN0RGlzcGF0Y2hlci5vbihcImluc2VydDpsaXN0SXRlbVwiLENtKSxlLmRvd25jYXN0RGlzcGF0Y2hlci5vbihcImluc2VydFwiLFNtLHtwcmlvcml0eTpcImhpZ2hcIn0pLGUuZG93bmNhc3REaXNwYXRjaGVyLm9uKFwiaW5zZXJ0Omxpc3RJdGVtXCIsQ20pLG4uZG93bmNhc3REaXNwYXRjaGVyLm9uKFwiYXR0cmlidXRlOmxpc3RUeXBlOmxpc3RJdGVtXCIsTW0pLGUuZG93bmNhc3REaXNwYXRjaGVyLm9uKFwiYXR0cmlidXRlOmxpc3RUeXBlOmxpc3RJdGVtXCIsTW0pLG4uZG93bmNhc3REaXNwYXRjaGVyLm9uKFwiYXR0cmlidXRlOmxpc3RJbmRlbnQ6bGlzdEl0ZW1cIixQbSksZS5kb3duY2FzdERpc3BhdGNoZXIub24oXCJhdHRyaWJ1dGU6bGlzdEluZGVudDpsaXN0SXRlbVwiLFBtKSxuLmRvd25jYXN0RGlzcGF0Y2hlci5vbihcInJlbW92ZTpsaXN0SXRlbVwiLFRtKSxuLmRvd25jYXN0RGlzcGF0Y2hlci5vbihcInJlbW92ZVwiLEVtLHtwcmlvcml0eTpcImxvd1wifSksZS5kb3duY2FzdERpc3BhdGNoZXIub24oXCJyZW1vdmU6bGlzdEl0ZW1cIixUbSksZS5kb3duY2FzdERpc3BhdGNoZXIub24oXCJyZW1vdmVcIixFbSx7cHJpb3JpdHk6XCJsb3dcIn0pLGUudXBjYXN0RGlzcGF0Y2hlci5vbihcImVsZW1lbnQ6dWxcIixObSx7cHJpb3JpdHk6XCJoaWdoXCJ9KSxlLnVwY2FzdERpc3BhdGNoZXIub24oXCJlbGVtZW50Om9sXCIsTm0se3ByaW9yaXR5OlwiaGlnaFwifSksZS51cGNhc3REaXNwYXRjaGVyLm9uKFwiZWxlbWVudDpsaVwiLE9tLHtwcmlvcml0eTpcImhpZ2hcIn0pLGUudXBjYXN0RGlzcGF0Y2hlci5vbihcImVsZW1lbnQ6bGlcIixJbSksdC5tb2RlbC5vbihcImluc2VydENvbnRlbnRcIixqbSx7cHJpb3JpdHk6XCJoaWdoXCJ9KSx0LmNvbW1hbmRzLmFkZChcIm51bWJlcmVkTGlzdFwiLG5ldyB2bSh0LFwibnVtYmVyZWRcIikpLHQuY29tbWFuZHMuYWRkKFwiYnVsbGV0ZWRMaXN0XCIsbmV3IHZtKHQsXCJidWxsZXRlZFwiKSksdC5jb21tYW5kcy5hZGQoXCJpbmRlbnRMaXN0XCIsbmV3IHhtKHQsXCJmb3J3YXJkXCIpKSx0LmNvbW1hbmRzLmFkZChcIm91dGRlbnRMaXN0XCIsbmV3IHhtKHQsXCJiYWNrd2FyZFwiKSk7Y29uc3Qgbz10aGlzLmVkaXRvci5lZGl0aW5nLnZpZXcuZG9jdW1lbnQ7dGhpcy5saXN0ZW5UbyhvLFwiZW50ZXJcIiwodCxlKT0+e2NvbnN0IG49dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQsbz1uLnNlbGVjdGlvbi5nZXRMYXN0UG9zaXRpb24oKS5wYXJlbnQ7bi5zZWxlY3Rpb24uaXNDb2xsYXBzZWQmJlwibGlzdEl0ZW1cIj09by5uYW1lJiZvLmlzRW1wdHkmJih0aGlzLmVkaXRvci5leGVjdXRlKFwib3V0ZGVudExpc3RcIiksZS5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcCgpKX0pLHRoaXMubGlzdGVuVG8obyxcImRlbGV0ZVwiLCh0LGUpPT57aWYoXCJiYWNrd2FyZFwiIT09ZS5kaXJlY3Rpb24pcmV0dXJuO2NvbnN0IG49dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uO2lmKCFuLmlzQ29sbGFwc2VkKXJldHVybjtjb25zdCBvPW4uZ2V0Rmlyc3RQb3NpdGlvbigpO2lmKCFvLmlzQXRTdGFydClyZXR1cm47Y29uc3QgaT1vLnBhcmVudDtcImxpc3RJdGVtXCI9PT1pLm5hbWUmJihpLnByZXZpb3VzU2libGluZyYmXCJsaXN0SXRlbVwiPT09aS5wcmV2aW91c1NpYmxpbmcubmFtZXx8KHRoaXMuZWRpdG9yLmV4ZWN1dGUoXCJvdXRkZW50TGlzdFwiKSxlLnByZXZlbnREZWZhdWx0KCksdC5zdG9wKCkpKX0se3ByaW9yaXR5OlwiaGlnaFwifSk7Y29uc3QgaT10PT4oZSxuKT0+e3RoaXMuZWRpdG9yLmNvbW1hbmRzLmdldCh0KS5pc0VuYWJsZWQmJih0aGlzLmVkaXRvci5leGVjdXRlKHQpLG4oKSl9O3RoaXMuZWRpdG9yLmtleXN0cm9rZXMuc2V0KFwiVGFiXCIsaShcImluZGVudExpc3RcIikpLHRoaXMuZWRpdG9yLmtleXN0cm9rZXMuc2V0KFwiU2hpZnQrVGFiXCIsaShcIm91dGRlbnRMaXN0XCIpKX19ZnVuY3Rpb24gSG0odCl7bGV0IGU9MTtmb3IoY29uc3QgbiBvZiB0LmdldENoaWxkcmVuKCkpaWYoXCJ1bFwiPT1uLm5hbWV8fFwib2xcIj09bi5uYW1lKWZvcihjb25zdCB0IG9mIG4uZ2V0Q2hpbGRyZW4oKSllKz1IbSh0KTtyZXR1cm4gZX12YXIgcW09bigzMyksV209bi5uKHFtKSxZbT1uKDM0KSxHbT1uLm4oWW0pO2NsYXNzICRtIGV4dGVuZHMgVWx7aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IudDt0aGlzLl9hZGRCdXR0b24oXCJudW1iZXJlZExpc3RcIix0KFwib1wiKSxXbS5hKSx0aGlzLl9hZGRCdXR0b24oXCJidWxsZXRlZExpc3RcIix0KFwicFwiKSxHbS5hKX1fYWRkQnV0dG9uKHQsZSxuKXtjb25zdCBvPXRoaXMuZWRpdG9yO28udWkuY29tcG9uZW50RmFjdG9yeS5hZGQodCxpPT57Y29uc3Qgcj1vLmNvbW1hbmRzLmdldCh0KSxzPW5ldyBGZChpKTtyZXR1cm4gcy5zZXQoe2xhYmVsOmUsaWNvbjpuLHRvb2x0aXA6ITB9KSxzLmJpbmQoXCJpc09uXCIsXCJpc0VuYWJsZWRcIikudG8ocixcInZhbHVlXCIsXCJpc0VuYWJsZWRcIiksdGhpcy5saXN0ZW5UbyhzLFwiZXhlY3V0ZVwiLCgpPT5vLmV4ZWN1dGUodCkpLHN9KX19ZnVuY3Rpb24gUW0odCxlKXtyZXR1cm4gdD0+e3Qub24oXCJhdHRyaWJ1dGU6dXJsOm1lZGlhXCIsbil9O2Z1bmN0aW9uIG4obixvLGkpe2lmKCFpLmNvbnN1bWFibGUuY29uc3VtZShvLml0ZW0sbi5uYW1lKSlyZXR1cm47Y29uc3Qgcj1vLmF0dHJpYnV0ZU5ld1ZhbHVlLHM9aS53cml0ZXIsYT1pLm1hcHBlci50b1ZpZXdFbGVtZW50KG8uaXRlbSk7cy5yZW1vdmUoUW8uY3JlYXRlSW4oYSkpO2NvbnN0IGM9dC5nZXRNZWRpYVZpZXdFbGVtZW50KHMscixlKTtzLmluc2VydCgkby5jcmVhdGVBdChhKSxjKX19Y29uc3QgSm09U3ltYm9sKFwiaXNNZWRpYVwiKTtmdW5jdGlvbiBLbSh0LGUsbixvKXtjb25zdCBpPXQuY3JlYXRlQ29udGFpbmVyRWxlbWVudChcImZpZ3VyZVwiLHtjbGFzczpcIm1lZGlhXCJ9KTtyZXR1cm4gaS5nZXRGaWxsZXJPZmZzZXQ9WG0sdC5pbnNlcnQoJG8uY3JlYXRlQXQoaSksZS5nZXRNZWRpYVZpZXdFbGVtZW50KHQsbixvKSksaX1mdW5jdGlvbiBabSh0KXtjb25zdCBlPXQuZ2V0U2VsZWN0ZWRFbGVtZW50KCk7cmV0dXJuIGUmJmUuaXMoXCJtZWRpYVwiKT9lOm51bGx9ZnVuY3Rpb24gWG0oKXtyZXR1cm4gbnVsbH1jbGFzcyB0ZyBleHRlbmRzIEdse3JlZnJlc2goKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLGU9dC5kb2N1bWVudC5zZWxlY3Rpb24sbj10LnNjaGVtYSxvPWUuZ2V0Rmlyc3RQb3NpdGlvbigpLGk9Wm0oZSk7bGV0IHI9by5wYXJlbnQ7ciE9ci5yb290JiYocj1yLnBhcmVudCksdGhpcy52YWx1ZT1pP2kuZ2V0QXR0cmlidXRlKFwidXJsXCIpOm51bGwsdGhpcy5pc0VuYWJsZWQ9bi5jaGVja0NoaWxkKHIsXCJtZWRpYVwiKX1leGVjdXRlKHQpe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwsbj1lLmRvY3VtZW50LnNlbGVjdGlvbixvPVptKG4pO2lmKG8pZS5jaGFuZ2UoZT0+e2Uuc2V0QXR0cmlidXRlKFwidXJsXCIsdCxvKX0pO2Vsc2V7Y29uc3Qgbz1LdShuKTtlLmNoYW5nZShuPT57Y29uc3QgaT1uLmNyZWF0ZUVsZW1lbnQoXCJtZWRpYVwiLHt1cmw6dH0pO2UuaW5zZXJ0Q29udGVudChpLG8pLG4uc2V0U2VsZWN0aW9uKGksXCJvblwiKX0pfX19dmFyIGVnPW4oMzUpLG5nPW4ubihlZyk7Y29uc3Qgb2c9XCIwIDAgNjQgNDJcIjtjbGFzcyBpZ3tjb25zdHJ1Y3Rvcih0LGUpe2NvbnN0IG49ZS5wcm92aWRlcnMsbz1lLmV4dHJhUHJvdmlkZXJzfHxbXSxpPW5ldyBTZXQoZS5yZW1vdmVQcm92aWRlcnMpLHI9bi5jb25jYXQobykuZmlsdGVyKHQ9Pntjb25zdCBlPXQubmFtZTtyZXR1cm4gZT8haS5oYXMoZSk6KGZzLmEud2FybihcIm1lZGlhLWVtYmVkLW5vLXByb3ZpZGVyLW5hbWU6IFRoZSBjb25maWd1cmVkIG1lZGlhIHByb3ZpZGVyIGhhcyBubyBuYW1lIGFuZCBjYW5ub3QgYmUgdXNlZC5cIix7cHJvdmlkZXI6dH0pLCExKX0pO3RoaXMubG9jYWxlPXQsdGhpcy5wcm92aWRlckRlZmluaXRpb25zPXJ9aGFzTWVkaWEodCl7cmV0dXJuISF0aGlzLl9nZXRNZWRpYSh0KX1nZXRNZWRpYVZpZXdFbGVtZW50KHQsZSxuKXtyZXR1cm4gdGhpcy5fZ2V0TWVkaWEoZSkuZ2V0Vmlld0VsZW1lbnQodCxuKX1fZ2V0TWVkaWEodCl7aWYoIXQpcmV0dXJuIG5ldyByZyh0aGlzLmxvY2FsZSk7dD10LnRyaW0oKTtmb3IoY29uc3QgZSBvZiB0aGlzLnByb3ZpZGVyRGVmaW5pdGlvbnMpe2NvbnN0IG49ZS5odG1sO2xldCBvPWUudXJsO0FycmF5LmlzQXJyYXkobyl8fChvPVtvXSk7Zm9yKGNvbnN0IGUgb2Ygbyl7Y29uc3Qgbz10aGlzLl9nZXRVcmxNYXRjaGVzKHQsZSk7aWYobylyZXR1cm4gbmV3IHJnKHRoaXMubG9jYWxlLHQsbyxuKX19cmV0dXJuIG51bGx9X2dldFVybE1hdGNoZXModCxlKXtsZXQgbj10Lm1hdGNoKGUpO2lmKG4pcmV0dXJuIG47bGV0IG89dC5yZXBsYWNlKC9eaHR0cHM/OlxcL1xcLy8sXCJcIik7cmV0dXJuKG49by5tYXRjaChlKSk/bjoobj0obz1vLnJlcGxhY2UoL153d3dcXC4vLFwiXCIpKS5tYXRjaChlKSl8fG51bGx9fWNsYXNzIHJne2NvbnN0cnVjdG9yKHQsZSxuLG8pe3RoaXMudXJsPXRoaXMuX2dldFZhbGlkVXJsKGUpLHRoaXMuX3Q9dC50LHRoaXMuX21hdGNoPW4sdGhpcy5fcHJldmlld1JlbmRlcmVyPW99Z2V0Vmlld0VsZW1lbnQodCxlKXtjb25zdCBuPXt9O2lmKGUucmVuZGVyRm9yRWRpdGluZ1ZpZXd8fGUucmVuZGVyTWVkaWFQcmV2aWV3JiZ0aGlzLnVybCYmdGhpcy5fcHJldmlld1JlbmRlcmVyKXt0aGlzLnVybCYmKG5bXCJkYXRhLW9lbWJlZC11cmxcIl09dGhpcy51cmwpLGUucmVuZGVyRm9yRWRpdGluZ1ZpZXcmJihuLmNsYXNzPVwiY2stbWVkaWFfX3dyYXBwZXJcIik7Y29uc3Qgbz10aGlzLl9nZXRQcmV2aWV3SHRtbChlKTtyZXR1cm4gdC5jcmVhdGVVSUVsZW1lbnQoXCJkaXZcIixuLGZ1bmN0aW9uKHQpe2NvbnN0IGU9dGhpcy50b0RvbUVsZW1lbnQodCk7cmV0dXJuIGUuaW5uZXJIVE1MPW8sZX0pfXJldHVybiB0aGlzLnVybCYmKG4udXJsPXRoaXMudXJsKSx0LmNyZWF0ZUVtcHR5RWxlbWVudChcIm9lbWJlZFwiLG4pfV9nZXRQcmV2aWV3SHRtbCh0KXtyZXR1cm4gdGhpcy5fcHJldmlld1JlbmRlcmVyP3RoaXMuX3ByZXZpZXdSZW5kZXJlcih0aGlzLl9tYXRjaCk6dGhpcy51cmwmJnQucmVuZGVyRm9yRWRpdGluZ1ZpZXc/dGhpcy5fZ2V0UGxhY2Vob2xkZXJIdG1sKCk6XCJcIn1fZ2V0UGxhY2Vob2xkZXJIdG1sKCl7Y29uc3QgdD1uZXcgVmQsZT1uZXcgTGQ7cmV0dXJuIHQudGV4dD10aGlzLl90KFwiT3BlbiBtZWRpYSBpbiBuZXcgdGFiXCIpLGUuY29udGVudD1uZy5hLGUudmlld0JveD1vZyxuZXcgc2woe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOlwiY2sgY2stcmVzZXRfYWxsIGNrLW1lZGlhX19wbGFjZWhvbGRlclwifSxjaGlsZHJlbjpbe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOlwiY2stbWVkaWFfX3BsYWNlaG9sZGVyX19pY29uXCJ9LGNoaWxkcmVuOltlXX0se3RhZzpcImFcIixhdHRyaWJ1dGVzOntjbGFzczpcImNrLW1lZGlhX19wbGFjZWhvbGRlcl9fdXJsXCIsdGFyZ2V0OlwibmV3XCIsaHJlZjp0aGlzLnVybH0sY2hpbGRyZW46W3t0YWc6XCJzcGFuXCIsYXR0cmlidXRlczp7Y2xhc3M6XCJjay1tZWRpYV9fcGxhY2Vob2xkZXJfX3VybF9fdGV4dFwifSxjaGlsZHJlbjpbdGhpcy51cmxdfSx0XX1dfSkucmVuZGVyKCkub3V0ZXJIVE1MfV9nZXRWYWxpZFVybCh0KXtyZXR1cm4gdD90Lm1hdGNoKC9eaHR0cHM/Lyk/dDpcImh0dHBzOi8vXCIrdDpudWxsfX1uKDEwMCk7Y2xhc3Mgc2cgZXh0ZW5kcyBVbHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0LmNvbmZpZy5kZWZpbmUoXCJtZWRpYUVtYmVkXCIse3Byb3ZpZGVyczpbe25hbWU6XCJkYWlseW1vdGlvblwiLHVybDovXmRhaWx5bW90aW9uXFwuY29tXFwvdmlkZW9cXC8oXFx3KykvLGh0bWw6dD0+e3JldHVybic8ZGl2IHN0eWxlPVwicG9zaXRpb246IHJlbGF0aXZlOyBwYWRkaW5nLWJvdHRvbTogMTAwJTsgaGVpZ2h0OiAwOyBcIj4nK2A8aWZyYW1lIHNyYz1cImh0dHBzOi8vd3d3LmRhaWx5bW90aW9uLmNvbS9lbWJlZC92aWRlby8ke3RbMV19XCIgYCsnc3R5bGU9XCJwb3NpdGlvbjogYWJzb2x1dGU7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IHRvcDogMDsgbGVmdDogMDtcIiBmcmFtZWJvcmRlcj1cIjBcIiB3aWR0aD1cIjQ4MFwiIGhlaWdodD1cIjI3MFwiIGFsbG93ZnVsbHNjcmVlbiBhbGxvdz1cImF1dG9wbGF5XCI+PC9pZnJhbWU+PC9kaXY+J319LHtuYW1lOlwic3BvdGlmeVwiLHVybDpbL15vcGVuXFwuc3BvdGlmeVxcLmNvbVxcLyhhcnRpc3RcXC9cXHcrKS8sL15vcGVuXFwuc3BvdGlmeVxcLmNvbVxcLyhhbGJ1bVxcL1xcdyspLywvXm9wZW5cXC5zcG90aWZ5XFwuY29tXFwvKHRyYWNrXFwvXFx3KykvXSxodG1sOnQ9PntyZXR1cm4nPGRpdiBzdHlsZT1cInBvc2l0aW9uOiByZWxhdGl2ZTsgcGFkZGluZy1ib3R0b206IDEwMCU7IGhlaWdodDogMDsgcGFkZGluZy1ib3R0b206IDEyNiU7XCI+JytgPGlmcmFtZSBzcmM9XCJodHRwczovL29wZW4uc3BvdGlmeS5jb20vZW1iZWQvJHt0WzFdfVwiIGArJ3N0eWxlPVwicG9zaXRpb246IGFic29sdXRlOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyB0b3A6IDA7IGxlZnQ6IDA7XCIgZnJhbWVib3JkZXI9XCIwXCIgYWxsb3d0cmFuc3BhcmVuY3k9XCJ0cnVlXCIgYWxsb3c9XCJlbmNyeXB0ZWQtbWVkaWFcIj48L2lmcmFtZT48L2Rpdj4nfX0se25hbWU6XCJ5b3V0dWJlXCIsdXJsOlsvXnlvdXR1YmVcXC5jb21cXC93YXRjaFxcP3Y9KFtcXHctXSspLywvXnlvdXR1YmVcXC5jb21cXC92XFwvKFtcXHctXSspLywvXnlvdXR1YmVcXC5jb21cXC9lbWJlZFxcLyhbXFx3LV0rKS8sL155b3V0dVxcLmJlXFwvKFtcXHctXSspL10saHRtbDp0PT57cmV0dXJuJzxkaXYgc3R5bGU9XCJwb3NpdGlvbjogcmVsYXRpdmU7IHBhZGRpbmctYm90dG9tOiAxMDAlOyBoZWlnaHQ6IDA7IHBhZGRpbmctYm90dG9tOiA1Ni4yNDkzJTtcIj4nK2A8aWZyYW1lIHNyYz1cImh0dHBzOi8vd3d3LnlvdXR1YmUuY29tL2VtYmVkLyR7dFsxXX1cIiBgKydzdHlsZT1cInBvc2l0aW9uOiBhYnNvbHV0ZTsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgdG9wOiAwOyBsZWZ0OiAwO1wiIGZyYW1lYm9yZGVyPVwiMFwiIGFsbG93PVwiYXV0b3BsYXk7IGVuY3J5cHRlZC1tZWRpYVwiIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT48L2Rpdj4nfX0se25hbWU6XCJ2aW1lb1wiLHVybDpbL152aW1lb1xcLmNvbVxcLyhcXGQrKS8sL152aW1lb1xcLmNvbVxcL1teL10rXFwvW14vXStcXC92aWRlb1xcLyhcXGQrKS8sL152aW1lb1xcLmNvbVxcL2FsYnVtXFwvW14vXStcXC92aWRlb1xcLyhcXGQrKS8sL152aW1lb1xcLmNvbVxcL2NoYW5uZWxzXFwvW14vXStcXC8oXFxkKykvLC9edmltZW9cXC5jb21cXC9ncm91cHNcXC9bXi9dK1xcL3ZpZGVvc1xcLyhcXGQrKS8sL152aW1lb1xcLmNvbVxcL29uZGVtYW5kXFwvW14vXStcXC8oXFxkKykvLC9ecGxheWVyXFwudmltZW9cXC5jb21cXC92aWRlb1xcLyhcXGQrKS9dLGh0bWw6dD0+e3JldHVybic8ZGl2IHN0eWxlPVwicG9zaXRpb246IHJlbGF0aXZlOyBwYWRkaW5nLWJvdHRvbTogMTAwJTsgaGVpZ2h0OiAwOyBwYWRkaW5nLWJvdHRvbTogNTYuMjQ5MyU7XCI+JytgPGlmcmFtZSBzcmM9XCJodHRwczovL3BsYXllci52aW1lby5jb20vdmlkZW8vJHt0WzFdfVwiIGArJ3N0eWxlPVwicG9zaXRpb246IGFic29sdXRlOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyB0b3A6IDA7IGxlZnQ6IDA7XCIgZnJhbWVib3JkZXI9XCIwXCIgd2Via2l0YWxsb3dmdWxsc2NyZWVuIG1vemFsbG93ZnVsbHNjcmVlbiBhbGxvd2Z1bGxzY3JlZW4+PC9pZnJhbWU+PC9kaXY+J319LHtuYW1lOlwiaW5zdGFncmFtXCIsdXJsOi9eaW5zdGFncmFtXFwuY29tXFwvcFxcLyhcXHcrKS99LHtuYW1lOlwidHdpdHRlclwiLHVybDovXnR3aXR0ZXJcXC5jb20vfSx7bmFtZTpcImdvb2dsZU1hcHNcIix1cmw6L15nb29nbGVcXC5jb21cXC9tYXBzL30se25hbWU6XCJmbGlja3JcIix1cmw6L15mbGlja3JcXC5jb20vfSx7bmFtZTpcImZhY2Vib29rXCIsdXJsOi9eZmFjZWJvb2tcXC5jb20vfV19KSx0aGlzLnJlZ2lzdHJ5PW5ldyBpZyh0LmxvY2FsZSx0LmNvbmZpZy5nZXQoXCJtZWRpYUVtYmVkXCIpKX1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQubW9kZWwuc2NoZW1hLG49dC50LG89dC5jb252ZXJzaW9uLGk9dC5jb25maWcuZ2V0KFwibWVkaWFFbWJlZC5wcmV2aWV3c0luRGF0YVwiKSxyPXRoaXMucmVnaXN0cnk7dC5jb21tYW5kcy5hZGQoXCJtZWRpYUVtYmVkXCIsbmV3IHRnKHQpKSxlLnJlZ2lzdGVyKFwibWVkaWFcIix7aXNPYmplY3Q6ITAsaXNCbG9jazohMCxhbGxvd1doZXJlOlwiJGJsb2NrXCIsYWxsb3dBdHRyaWJ1dGVzOltcInVybFwiXX0pLG8uZm9yKFwiZGF0YURvd25jYXN0XCIpLmFkZChhYSh7bW9kZWw6XCJtZWRpYVwiLHZpZXc6KHQsZSk9Pntjb25zdCBuPXQuZ2V0QXR0cmlidXRlKFwidXJsXCIpO3JldHVybiBLbShlLHIsbix7cmVuZGVyTWVkaWFQcmV2aWV3Om4mJml9KX19KSksby5mb3IoXCJkYXRhRG93bmNhc3RcIikuYWRkKFFtKHIse3JlbmRlck1lZGlhUHJldmlldzppfSkpLG8uZm9yKFwiZWRpdGluZ0Rvd25jYXN0XCIpLmFkZChhYSh7bW9kZWw6XCJtZWRpYVwiLHZpZXc6KHQsZSk9Pntjb25zdCBvPXQuZ2V0QXR0cmlidXRlKFwidXJsXCIpO3JldHVybiBmdW5jdGlvbih0LGUsbil7cmV0dXJuIGUuc2V0Q3VzdG9tUHJvcGVydHkoSm0sITAsdCksJHUodCxlLHtsYWJlbDpufSl9KEttKGUscixvLHtyZW5kZXJGb3JFZGl0aW5nVmlldzohMH0pLGUsbihcImFrXCIpKX19KSksby5mb3IoXCJlZGl0aW5nRG93bmNhc3RcIikuYWRkKFFtKHIse3JlbmRlckZvckVkaXRpbmdWaWV3OiEwfSkpLG8uZm9yKFwidXBjYXN0XCIpLmFkZChPYSh7dmlldzp7bmFtZTpcIm9lbWJlZFwiLGF0dHJpYnV0ZXM6e3VybDohMH19LG1vZGVsOih0LGUpPT57Y29uc3Qgbj10LmdldEF0dHJpYnV0ZShcInVybFwiKTtpZihyLmhhc01lZGlhKG4pKXJldHVybiBlLmNyZWF0ZUVsZW1lbnQoXCJtZWRpYVwiLHt1cmw6bn0pfX0pKS5hZGQoT2Eoe3ZpZXc6e25hbWU6XCJkaXZcIixhdHRyaWJ1dGVzOntcImRhdGEtb2VtYmVkLXVybFwiOiEwfX0sbW9kZWw6KHQsZSk9Pntjb25zdCBuPXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1vZW1iZWQtdXJsXCIpO2lmKHIuaGFzTWVkaWEobikpcmV0dXJuIGUuY3JlYXRlRWxlbWVudChcIm1lZGlhXCIse3VybDpufSl9fSkpfX1jb25zdCBhZz0vXig/Omh0dHAocyk/OlxcL1xcLyk/W1xcdy4tXSsoPzpcXC5bXFx3Li1dKykrW1xcd1xcLS5ffjovPyNbXFxdQCEkJicoKSorLDs9XSskLztjbGFzcyBjZyBleHRlbmRzIFVse3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bWWwsV2RdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiQXV0b01lZGlhRW1iZWRcIn1jb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLl90aW1lb3V0SWQ9bnVsbCx0aGlzLl9wb3NpdGlvblRvSW5zZXJ0PW51bGx9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10Lm1vZGVsLmRvY3VtZW50O3RoaXMubGlzdGVuVG8odC5wbHVnaW5zLmdldChZbCksXCJpbnB1dFRyYW5zZm9ybWF0aW9uXCIsKCk9Pntjb25zdCB0PWUuc2VsZWN0aW9uLmdldEZpcnN0UmFuZ2UoKSxuPVBjLmNyZWF0ZUZyb21Qb3NpdGlvbih0LnN0YXJ0KTtuLnN0aWNraW5lc3M9XCJ0b1ByZXZpb3VzXCI7Y29uc3Qgbz1QYy5jcmVhdGVGcm9tUG9zaXRpb24odC5lbmQpO28uc3RpY2tpbmVzcz1cInRvTmV4dFwiLGUub25jZShcImNoYW5nZTpkYXRhXCIsKCk9Pnt0aGlzLl9lbWJlZE1lZGlhQmV0d2VlblBvc2l0aW9ucyhuLG8pLG4uZGV0YWNoKCksby5kZXRhY2goKX0se3ByaW9yaXR5OlwiaGlnaFwifSl9KSx0LmNvbW1hbmRzLmdldChcInVuZG9cIikub24oXCJleGVjdXRlXCIsKCk9Pnt0aGlzLl90aW1lb3V0SWQmJihLaS53aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXRJZCksdGhpcy5fcG9zaXRpb25Ub0luc2VydC5kZXRhY2goKSx0aGlzLl90aW1lb3V0SWQ9bnVsbCx0aGlzLl9wb3NpdGlvblRvSW5zZXJ0PW51bGwpfSx7cHJpb3JpdHk6XCJoaWdoXCJ9KX1fZW1iZWRNZWRpYUJldHdlZW5Qb3NpdGlvbnModCxlKXtjb25zdCBuPXRoaXMuZWRpdG9yLG89bi5wbHVnaW5zLmdldChzZykucmVnaXN0cnksaT1uZXcgWHModCxlKSxyPW5ldyB6cyh7Ym91bmRhcmllczppLGlnbm9yZUVsZW1lbnRFbmQ6ITB9KTtsZXQgcz1cIlwiO2Zvcihjb25zdCB0IG9mIHIpdC5pdGVtLmlzKFwidGV4dFByb3h5XCIpJiYocys9dC5pdGVtLmRhdGEpOyhzPXMudHJpbSgpKS5tYXRjaChhZykmJm8uaGFzTWVkaWEocykmJih0aGlzLl9wb3NpdGlvblRvSW5zZXJ0PVBjLmNyZWF0ZUZyb21Qb3NpdGlvbih0KSx0aGlzLl90aW1lb3V0SWQ9S2kud2luZG93LnNldFRpbWVvdXQoKCk9PntuLm1vZGVsLmNoYW5nZSh0PT57dGhpcy5fdGltZW91dElkPW51bGwsdC5yZW1vdmUoaSksXCIkZ3JhdmV5YXJkXCIhPT10aGlzLl9wb3NpdGlvblRvSW5zZXJ0LnJvb3Qucm9vdE5hbWUmJnQuc2V0U2VsZWN0aW9uKHRoaXMuX3Bvc2l0aW9uVG9JbnNlcnQpLG4uY29tbWFuZHMuZXhlY3V0ZShcIm1lZGlhRW1iZWRcIixzKSx0aGlzLl9wb3NpdGlvblRvSW5zZXJ0LmRldGFjaCgpLHRoaXMuX3Bvc2l0aW9uVG9JbnNlcnQ9bnVsbH0pfSwxMDApKX19bigxMDIpO2NsYXNzIGxnIGV4dGVuZHMgQWx7Y29uc3RydWN0b3IodCxlKXtzdXBlcihlKTtjb25zdCBuPWUudDt0aGlzLmZvY3VzVHJhY2tlcj1uZXcgWmMsdGhpcy5rZXlzdHJva2VzPW5ldyBVYyx0aGlzLnVybElucHV0Vmlldz10aGlzLl9jcmVhdGVVcmxJbnB1dCgpLHRoaXMuc2F2ZUJ1dHRvblZpZXc9dGhpcy5fY3JlYXRlQnV0dG9uKG4oXCJhdVwiKSxnaC5hLFwiY2stYnV0dG9uLXNhdmVcIiksdGhpcy5zYXZlQnV0dG9uVmlldy50eXBlPVwic3VibWl0XCIsdGhpcy5jYW5jZWxCdXR0b25WaWV3PXRoaXMuX2NyZWF0ZUJ1dHRvbihuKFwiYXZcIiksYmguYSxcImNrLWJ1dHRvbi1jYW5jZWxcIixcImNhbmNlbFwiKSx0aGlzLl9mb2N1c2FibGVzPW5ldyBlbCx0aGlzLl9mb2N1c0N5Y2xlcj1uZXcgamwoe2ZvY3VzYWJsZXM6dGhpcy5fZm9jdXNhYmxlcyxmb2N1c1RyYWNrZXI6dGhpcy5mb2N1c1RyYWNrZXIsa2V5c3Ryb2tlSGFuZGxlcjp0aGlzLmtleXN0cm9rZXMsYWN0aW9uczp7Zm9jdXNQcmV2aW91czpcInNoaWZ0ICsgdGFiXCIsZm9jdXNOZXh0OlwidGFiXCJ9fSksdGhpcy5fdmFsaWRhdG9ycz10LHRoaXMuc2V0VGVtcGxhdGUoe3RhZzpcImZvcm1cIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stbWVkaWEtZm9ybVwiXSx0YWJpbmRleDpcIi0xXCJ9LGNoaWxkcmVuOlt0aGlzLnVybElucHV0Vmlldyx0aGlzLnNhdmVCdXR0b25WaWV3LHRoaXMuY2FuY2VsQnV0dG9uVmlld119KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKSxmaCh7dmlldzp0aGlzfSksW3RoaXMudXJsSW5wdXRWaWV3LHRoaXMuc2F2ZUJ1dHRvblZpZXcsdGhpcy5jYW5jZWxCdXR0b25WaWV3XS5mb3JFYWNoKHQ9Pnt0aGlzLl9mb2N1c2FibGVzLmFkZCh0KSx0aGlzLmZvY3VzVHJhY2tlci5hZGQodC5lbGVtZW50KX0pLHRoaXMua2V5c3Ryb2tlcy5saXN0ZW5Ubyh0aGlzLmVsZW1lbnQpO2NvbnN0IHQ9dD0+dC5zdG9wUHJvcGFnYXRpb24oKTt0aGlzLmtleXN0cm9rZXMuc2V0KFwiYXJyb3dyaWdodFwiLHQpLHRoaXMua2V5c3Ryb2tlcy5zZXQoXCJhcnJvd2xlZnRcIix0KSx0aGlzLmtleXN0cm9rZXMuc2V0KFwiYXJyb3d1cFwiLHQpLHRoaXMua2V5c3Ryb2tlcy5zZXQoXCJhcnJvd2Rvd25cIix0KSx0aGlzLmxpc3RlblRvKHRoaXMudXJsSW5wdXRWaWV3LmVsZW1lbnQsXCJzZWxlY3RzdGFydFwiLCh0LGUpPT57ZS5zdG9wUHJvcGFnYXRpb24oKX0se3ByaW9yaXR5OlwiaGlnaFwifSl9Zm9jdXMoKXt0aGlzLl9mb2N1c0N5Y2xlci5mb2N1c0ZpcnN0KCl9Z2V0IHVybCgpe3JldHVybiB0aGlzLnVybElucHV0Vmlldy5pbnB1dFZpZXcuZWxlbWVudC52YWx1ZS50cmltKCl9c2V0IHVybCh0KXt0aGlzLnVybElucHV0Vmlldy5pbnB1dFZpZXcuZWxlbWVudC52YWx1ZT10LnRyaW0oKX1pc1ZhbGlkKCl7dGhpcy5yZXNldEVycm9ycygpO2Zvcihjb25zdCB0IG9mIHRoaXMuX3ZhbGlkYXRvcnMpe2NvbnN0IGU9dCh0aGlzKTtpZihlKXJldHVybiB0aGlzLnVybElucHV0Vmlldy5lcnJvclRleHQ9ZSwhMX1yZXR1cm4hMH1yZXNldEVycm9ycygpe3RoaXMudXJsSW5wdXRWaWV3LmVycm9yVGV4dD0hMX1fY3JlYXRlVXJsSW5wdXQoKXtjb25zdCB0PXRoaXMubG9jYWxlLnQsZT1uZXcgdWgodGhpcy5sb2NhbGUsaGgpO3JldHVybiBlLmxhYmVsPXQoXCJhd1wiKSxlLmlucHV0Vmlldy5wbGFjZWhvbGRlcj1cImh0dHBzOi8vZXhhbXBsZS5jb21cIixlfV9jcmVhdGVCdXR0b24odCxlLG4sbyl7Y29uc3QgaT1uZXcgRmQodGhpcy5sb2NhbGUpO3JldHVybiBpLnNldCh7bGFiZWw6dCxpY29uOmUsdG9vbHRpcDohMH0pLGkuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2NsYXNzOm59fSksbyYmaS5kZWxlZ2F0ZShcImV4ZWN1dGVcIikudG8odGhpcyxvKSxpfX12YXIgZGc9bigzNiksdWc9bi5uKGRnKTtjbGFzcyBoZyBleHRlbmRzIFVse3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bc2ddfWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC5jb21tYW5kcy5nZXQoXCJtZWRpYUVtYmVkXCIpLG49dC5wbHVnaW5zLmdldChzZykucmVnaXN0cnk7dC51aS5jb21wb25lbnRGYWN0b3J5LmFkZChcIm1lZGlhRW1iZWRcIixvPT57Y29uc3QgaT1uZXcgbGcoZnVuY3Rpb24odCxlKXtyZXR1cm5bZT0+e2lmKCFlLnVybC5sZW5ndGgpcmV0dXJuIHQoXCJhbVwiKX0sbj0+e2lmKCFlLmhhc01lZGlhKG4udXJsKSlyZXR1cm4gdChcImFuXCIpfV19KHQudCxuKSxvKSxyPWZmKG8pO3JldHVybiB0aGlzLl9zZXRVcERyb3Bkb3duKHIsaSxlLHQpLHRoaXMuX3NldFVwRm9ybShpLHIsZSkscn0pfV9zZXRVcERyb3Bkb3duKHQsZSxuKXtjb25zdCBvPXRoaXMuZWRpdG9yLGk9by50LHI9dC5idXR0b25WaWV3O2Z1bmN0aW9uIHMoKXtvLmVkaXRpbmcudmlldy5mb2N1cygpLHQuaXNPcGVuPSExfXQuYmluZChcImlzRW5hYmxlZFwiKS50byhuKSx0LnBhbmVsVmlldy5jaGlsZHJlbi5hZGQoZSksci5zZXQoe2xhYmVsOmkoXCJhbFwiKSxpY29uOnVnLmEsdG9vbHRpcDohMH0pLHIub24oXCJvcGVuXCIsKCk9PntlLnVybD1uLnZhbHVlfHxcIlwiLGUudXJsSW5wdXRWaWV3LnNlbGVjdCgpLGUuZm9jdXMoKX0se3ByaW9yaXR5OlwibG93XCJ9KSx0Lm9uKFwic3VibWl0XCIsKCk9PntlLmlzVmFsaWQoKSYmKG8uZXhlY3V0ZShcIm1lZGlhRW1iZWRcIixlLnVybCkscygpKX0pLHQub24oXCJjaGFuZ2U6aXNPcGVuXCIsKCk9PmUucmVzZXRFcnJvcnMoKSksdC5vbihcImNhbmNlbFwiLCgpPT5zKCkpfV9zZXRVcEZvcm0odCxlLG4pe3QuZGVsZWdhdGUoXCJzdWJtaXRcIixcImNhbmNlbFwiKS50byhlKSx0LnVybElucHV0Vmlldy5iaW5kKFwidmFsdWVcIikudG8obixcInZhbHVlXCIpLHQudXJsSW5wdXRWaWV3LmJpbmQoXCJpc1JlYWRPbmx5XCIpLnRvKG4sXCJpc0VuYWJsZWRcIix0PT4hdCksdC5zYXZlQnV0dG9uVmlldy5iaW5kKFwiaXNFbmFibGVkXCIpLnRvKG4pfX1mdW5jdGlvbiBmZyh0LGUpe2xldCBuPWUucGFyZW50O2Zvcig7bjspe2lmKG4ubmFtZT09PXQpcmV0dXJuIG47bj1uLnBhcmVudH19ZnVuY3Rpb24gbWcodCxlLG4sbyxpPTEpe2U+aT9vLnNldEF0dHJpYnV0ZSh0LGUsbik6by5yZW1vdmVBdHRyaWJ1dGUodCxuKX1mdW5jdGlvbiBnZyh0LGUsbj17fSl7Y29uc3Qgbz10LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZUNlbGxcIixuKTt0Lmluc2VydEVsZW1lbnQoXCJwYXJhZ3JhcGhcIixvKSx0Lmluc2VydChvLGUpfWZ1bmN0aW9uIHBnKCl7cmV0dXJuIHQ9Pnt0Lm9uKFwiZWxlbWVudDp0YWJsZVwiLCh0LGUsbik9Pntjb25zdCBvPWUudmlld0l0ZW07aWYoIW4uY29uc3VtYWJsZS50ZXN0KG8se25hbWU6ITB9KSlyZXR1cm47Y29uc3R7cm93czppLGhlYWRpbmdSb3dzOnIsaGVhZGluZ0NvbHVtbnM6c309ZnVuY3Rpb24odCl7Y29uc3QgZT17aGVhZGluZ1Jvd3M6MCxoZWFkaW5nQ29sdW1uczowfSxuPVtdLG89W107bGV0IGk7Zm9yKGNvbnN0IHIgb2YgQXJyYXkuZnJvbSh0LmdldENoaWxkcmVuKCkpKWlmKFwidGJvZHlcIj09PXIubmFtZXx8XCJ0aGVhZFwiPT09ci5uYW1lfHxcInRmb290XCI9PT1yLm5hbWUpe1widGhlYWRcIiE9PXIubmFtZXx8aXx8KGk9cik7Zm9yKGNvbnN0IHQgb2YgQXJyYXkuZnJvbShyLmdldENoaWxkcmVuKCkpKWlmKFwidGhlYWRcIj09PXQucGFyZW50Lm5hbWUmJnQucGFyZW50PT09aSllLmhlYWRpbmdSb3dzKyssbi5wdXNoKHQpO2Vsc2V7by5wdXNoKHQpO2NvbnN0IG49d2codCk7bj5lLmhlYWRpbmdDb2x1bW5zJiYoZS5oZWFkaW5nQ29sdW1ucz1uKX19cmV0dXJuIGUucm93cz1bLi4ubiwuLi5vXSxlfShvKSxhPXt9O3MmJihhLmhlYWRpbmdDb2x1bW5zPXMpLHImJihhLmhlYWRpbmdSb3dzPXIpO2NvbnN0IGM9bi53cml0ZXIuY3JlYXRlRWxlbWVudChcInRhYmxlXCIsYSksbD1uLnNwbGl0VG9BbGxvd2VkUGFyZW50KGMsZS5tb2RlbEN1cnNvcik7aWYobCl7aWYobi53cml0ZXIuaW5zZXJ0KGMsbC5wb3NpdGlvbiksbi5jb25zdW1hYmxlLmNvbnN1bWUobyx7bmFtZTohMH0pLGkubGVuZ3RoKWkuZm9yRWFjaCh0PT5uLmNvbnZlcnRJdGVtKHQsSHMuY3JlYXRlQXQoYyxcImVuZFwiKSkpO2Vsc2V7Y29uc3QgdD1uLndyaXRlci5jcmVhdGVFbGVtZW50KFwidGFibGVSb3dcIik7bi53cml0ZXIuaW5zZXJ0KHQsSHMuY3JlYXRlQXQoYyxcImVuZFwiKSksZ2cobi53cml0ZXIsSHMuY3JlYXRlQXQodCxcImVuZFwiKSl9ZS5tb2RlbFJhbmdlPW5ldyBxcyhIcy5jcmVhdGVCZWZvcmUoYyksSHMuY3JlYXRlQWZ0ZXIoYykpLGwuY3Vyc29yUGFyZW50P2UubW9kZWxDdXJzb3I9SHMuY3JlYXRlQXQobC5jdXJzb3JQYXJlbnQpOmUubW9kZWxDdXJzb3I9ZS5tb2RlbFJhbmdlLmVuZH19KX19ZnVuY3Rpb24gYmcodCl7cmV0dXJuIGU9PntlLm9uKGBlbGVtZW50OiR7dH1gLCh0LGUsbik9Pntjb25zdCBvPWUudmlld0l0ZW07aWYoIW4uY29uc3VtYWJsZS50ZXN0KG8se25hbWU6ITB9KSlyZXR1cm47Y29uc3QgaT1uLndyaXRlci5jcmVhdGVFbGVtZW50KFwidGFibGVDZWxsXCIpLHI9bi5zcGxpdFRvQWxsb3dlZFBhcmVudChpLGUubW9kZWxDdXJzb3IpO2lmKCFyKXJldHVybjtuLndyaXRlci5pbnNlcnQoaSxyLnBvc2l0aW9uKSxuLmNvbnN1bWFibGUuY29uc3VtZShvLHtuYW1lOiEwfSk7Y29uc3Qgcz1Icy5jcmVhdGVBdChpKTtuLmNvbnZlcnRDaGlsZHJlbihvLHMpLGkuY2hpbGRDb3VudHx8bi53cml0ZXIuaW5zZXJ0RWxlbWVudChcInBhcmFncmFwaFwiLHMpLGUubW9kZWxSYW5nZT1uZXcgcXMoSHMuY3JlYXRlQmVmb3JlKGkpLEhzLmNyZWF0ZUFmdGVyKGkpKSxlLm1vZGVsQ3Vyc29yPWUubW9kZWxSYW5nZS5lbmR9KX19ZnVuY3Rpb24gd2codCl7bGV0IGU9MCxuPTA7Y29uc3Qgbz1BcnJheS5mcm9tKHQuZ2V0Q2hpbGRyZW4oKSkuZmlsdGVyKHQ9PlwidGhcIj09PXQubmFtZXx8XCJ0ZFwiPT09dC5uYW1lKTtmb3IoO248by5sZW5ndGgmJlwidGhcIj09PW9bbl0ubmFtZTspe2NvbnN0IHQ9b1tuXTtlKz1wYXJzZUludCh0LmdldEF0dHJpYnV0ZShcImNvbHNwYW5cIil8fDEpLG4rK31yZXR1cm4gZX1jbGFzcyBfZ3tjb25zdHJ1Y3Rvcih0LGU9e30pe3RoaXMudGFibGU9dCx0aGlzLnN0YXJ0Um93PWUuc3RhcnRSb3d8fDAsdGhpcy5lbmRSb3c9XCJudW1iZXJcIj09dHlwZW9mIGUuZW5kUm93P2UuZW5kUm93OnZvaWQgMCx0aGlzLmluY2x1ZGVTcGFubmVkPSEhZS5pbmNsdWRlU3Bhbm5lZCx0aGlzLmNvbHVtbj1cIm51bWJlclwiPT10eXBlb2YgZS5jb2x1bW4/ZS5jb2x1bW46dm9pZCAwLHRoaXMuX3NraXBSb3dzPW5ldyBTZXQsdGhpcy5fcm93PTAsdGhpcy5fY29sdW1uPTAsdGhpcy5fY2VsbD0wLHRoaXMuX3NwYW5uZWRDZWxscz1uZXcgTWFwfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXN9bmV4dCgpe2NvbnN0IHQ9dGhpcy50YWJsZS5nZXRDaGlsZCh0aGlzLl9yb3cpO2lmKCF0fHx0aGlzLl9pc092ZXJFbmRSb3coKSlyZXR1cm57ZG9uZTohMH07aWYodGhpcy5faXNTcGFubmVkKHRoaXMuX3Jvdyx0aGlzLl9jb2x1bW4pKXtjb25zdCB0PXRoaXMuX2NvbHVtbixlPXRoaXMuX2Zvcm1hdE91dFZhbHVlKHZvaWQgMCx0KTtyZXR1cm4gdGhpcy5fY29sdW1uKyssIXRoaXMuaW5jbHVkZVNwYW5uZWR8fHRoaXMuX3Nob3VsZFNraXBSb3coKXx8dGhpcy5fc2hvdWxkU2tpcENvbHVtbih0LDEpP3RoaXMubmV4dCgpOmV9Y29uc3QgZT10LmdldENoaWxkKHRoaXMuX2NlbGwpO2lmKCFlKXJldHVybiB0aGlzLl9yb3crKyx0aGlzLl9jb2x1bW49MCx0aGlzLl9jZWxsPTAsdGhpcy5uZXh0KCk7Y29uc3Qgbj1wYXJzZUludChlLmdldEF0dHJpYnV0ZShcImNvbHNwYW5cIil8fDEpLG89cGFyc2VJbnQoZS5nZXRBdHRyaWJ1dGUoXCJyb3dzcGFuXCIpfHwxKTsobj4xfHxvPjEpJiZ0aGlzLl9yZWNvcmRTcGFucyh0aGlzLl9yb3csdGhpcy5fY29sdW1uLG8sbik7Y29uc3QgaT10aGlzLl9jb2x1bW4scj10aGlzLl9mb3JtYXRPdXRWYWx1ZShlLGksbyxuKTtyZXR1cm4gdGhpcy5fY29sdW1uKyssdGhpcy5fY2VsbCsrLHRoaXMuX3Nob3VsZFNraXBSb3coKXx8dGhpcy5fc2hvdWxkU2tpcENvbHVtbihpLG4pP3RoaXMubmV4dCgpOnJ9c2tpcFJvdyh0KXt0aGlzLl9za2lwUm93cy5hZGQodCl9X2lzT3ZlckVuZFJvdygpe3JldHVybiB2b2lkIDAhPT10aGlzLmVuZFJvdyYmdGhpcy5fcm93PnRoaXMuZW5kUm93fV9mb3JtYXRPdXRWYWx1ZSh0LGUsbj0xLG89MSl7cmV0dXJue2RvbmU6ITEsdmFsdWU6e2NlbGw6dCxyb3c6dGhpcy5fcm93LGNvbHVtbjplLHJvd3NwYW46bixjb2xzcGFuOm8sY2VsbEluZGV4OnRoaXMuX2NlbGx9fX1fc2hvdWxkU2tpcFJvdygpe2NvbnN0IHQ9dGhpcy5fcm93PHRoaXMuc3RhcnRSb3csZT10aGlzLl9za2lwUm93cy5oYXModGhpcy5fcm93KTtyZXR1cm4gdHx8ZX1fc2hvdWxkU2tpcENvbHVtbih0LGUpe2lmKHZvaWQgMD09PXRoaXMuY29sdW1uKXJldHVybiExO2NvbnN0IG49dD09PXRoaXMuY29sdW1uLG89dDx0aGlzLmNvbHVtbiYmdCtlPnRoaXMuY29sdW1uO3JldHVybiFuJiYhb31faXNTcGFubmVkKHQsZSl7aWYoIXRoaXMuX3NwYW5uZWRDZWxscy5oYXModCkpcmV0dXJuITE7cmV0dXJuIHRoaXMuX3NwYW5uZWRDZWxscy5nZXQodCkuaGFzKGUpfV9yZWNvcmRTcGFucyh0LGUsbixvKXtmb3IobGV0IG49ZSsxO248PWUrby0xO24rKyl0aGlzLl9tYXJrU3Bhbm5lZENlbGwodCxuKTtmb3IobGV0IGk9dCsxO2k8dCtuO2krKylmb3IobGV0IHQ9ZTt0PD1lK28tMTt0KyspdGhpcy5fbWFya1NwYW5uZWRDZWxsKGksdCl9X21hcmtTcGFubmVkQ2VsbCh0LGUpe3RoaXMuX3NwYW5uZWRDZWxscy5oYXModCl8fHRoaXMuX3NwYW5uZWRDZWxscy5zZXQodCxuZXcgTWFwKSx0aGlzLl9zcGFubmVkQ2VsbHMuZ2V0KHQpLnNldChlLCEwKX19Y29uc3Qgdmc9U3ltYm9sKFwiaXNUYWJsZVwiKTtmdW5jdGlvbiBrZyh0KXtyZXR1cm4hIXQuZ2V0Q3VzdG9tUHJvcGVydHkodmcpJiZHdSh0KX1mdW5jdGlvbiB5Zyh0KXtjb25zdCBlPXQuZ2V0U2VsZWN0ZWRFbGVtZW50KCk7cmV0dXJuISghZXx8IWtnKGUpKX1mdW5jdGlvbiB4Zyh0KXtjb25zdCBlPWZnKFwidGFibGVcIix0LmdldEZpcnN0UG9zaXRpb24oKSk7cmV0dXJuISghZXx8IWtnKGUucGFyZW50KSl9ZnVuY3Rpb24gQWcodD17fSl7cmV0dXJuIGU9PmUub24oXCJpbnNlcnQ6dGFibGVcIiwoZSxuLG8pPT57Y29uc3QgaT1uLml0ZW07aWYoIW8uY29uc3VtYWJsZS5jb25zdW1lKGksXCJpbnNlcnRcIikpcmV0dXJuO28uY29uc3VtYWJsZS5jb25zdW1lKGksXCJhdHRyaWJ1dGU6aGVhZGluZ1Jvd3M6dGFibGVcIiksby5jb25zdW1hYmxlLmNvbnN1bWUoaSxcImF0dHJpYnV0ZTpoZWFkaW5nQ29sdW1uczp0YWJsZVwiKTtjb25zdCByPXQmJnQuYXNXaWRnZXQscz1vLndyaXRlci5jcmVhdGVDb250YWluZXJFbGVtZW50KFwiZmlndXJlXCIse2NsYXNzOlwidGFibGVcIn0pLGE9by53cml0ZXIuY3JlYXRlQ29udGFpbmVyRWxlbWVudChcInRhYmxlXCIpO2xldCBjO28ud3JpdGVyLmluc2VydCgkby5jcmVhdGVBdChzKSxhKSxyJiYoYz1mdW5jdGlvbih0LGUpe3JldHVybiBlLnNldEN1c3RvbVByb3BlcnR5KHZnLCEwLHQpLCR1KHQsZSx7aGFzU2VsZWN0aW9uSGFuZGxlcjohMH0pfShzLG8ud3JpdGVyKSk7Y29uc3QgbD1uZXcgX2coaSksZD17aGVhZGluZ1Jvd3M6aS5nZXRBdHRyaWJ1dGUoXCJoZWFkaW5nUm93c1wiKXx8MCxoZWFkaW5nQ29sdW1uczppLmdldEF0dHJpYnV0ZShcImhlYWRpbmdDb2x1bW5zXCIpfHwwfTtmb3IoY29uc3QgZSBvZiBsKXtjb25zdHtyb3c6bixjZWxsOnJ9PWUscz1EZyhSZyhuLGQpLGEsbyksYz1OZyhpLmdldENoaWxkKG4pLG4scyxvKTtvLmNvbnN1bWFibGUuY29uc3VtZShyLFwiaW5zZXJ0XCIpLElnKGUsZCwkby5jcmVhdGVBdChjLFwiZW5kXCIpLG8sdCl9Y29uc3QgdT1vLm1hcHBlci50b1ZpZXdQb3NpdGlvbihuLnJhbmdlLnN0YXJ0KTtvLm1hcHBlci5iaW5kRWxlbWVudHMoaSxyP2M6cyksby53cml0ZXIuaW5zZXJ0KHUscj9jOnMpfSl9ZnVuY3Rpb24gQ2codD17fSl7cmV0dXJuIGU9PmUub24oXCJpbnNlcnQ6dGFibGVSb3dcIiwoZSxuLG8pPT57Y29uc3QgaT1uLml0ZW07aWYoIW8uY29uc3VtYWJsZS5jb25zdW1lKGksXCJpbnNlcnRcIikpcmV0dXJuO2NvbnN0IHI9aS5wYXJlbnQscz1GZyhvLm1hcHBlci50b1ZpZXdFbGVtZW50KHIpKSxhPXIuZ2V0Q2hpbGRJbmRleChpKSxjPW5ldyBfZyhyLHtzdGFydFJvdzphLGVuZFJvdzphfSksbD17aGVhZGluZ1Jvd3M6ci5nZXRBdHRyaWJ1dGUoXCJoZWFkaW5nUm93c1wiKXx8MCxoZWFkaW5nQ29sdW1uczpyLmdldEF0dHJpYnV0ZShcImhlYWRpbmdDb2x1bW5zXCIpfHwwfTtmb3IoY29uc3QgZSBvZiBjKXtjb25zdCBuPU5nKGksYSxEZyhSZyhhLGwpLHMsbyksbyk7by5jb25zdW1hYmxlLmNvbnN1bWUoZS5jZWxsLFwiaW5zZXJ0XCIpLElnKGUsbCwkby5jcmVhdGVBdChuLFwiZW5kXCIpLG8sdCl9fSl9ZnVuY3Rpb24gVGcodD17fSl7cmV0dXJuIGU9PmUub24oXCJpbnNlcnQ6dGFibGVDZWxsXCIsKGUsbixvKT0+e2NvbnN0IGk9bi5pdGVtO2lmKCFvLmNvbnN1bWFibGUuY29uc3VtZShpLFwiaW5zZXJ0XCIpKXJldHVybjtjb25zdCByPWkucGFyZW50LHM9ci5wYXJlbnQsYT1zLmdldENoaWxkSW5kZXgociksYz1uZXcgX2cocyx7c3RhcnRSb3c6YSxlbmRSb3c6YX0pLGw9e2hlYWRpbmdSb3dzOnMuZ2V0QXR0cmlidXRlKFwiaGVhZGluZ1Jvd3NcIil8fDAsaGVhZGluZ0NvbHVtbnM6cy5nZXRBdHRyaWJ1dGUoXCJoZWFkaW5nQ29sdW1uc1wiKXx8MH07Zm9yKGNvbnN0IGUgb2YgYylpZihlLmNlbGw9PT1pKXtjb25zdCBuPW8ubWFwcGVyLnRvVmlld0VsZW1lbnQocik7cmV0dXJuIHZvaWQgSWcoZSxsLCRvLmNyZWF0ZUF0KG4sci5nZXRDaGlsZEluZGV4KGkpKSxvLHQpfX0pfWZ1bmN0aW9uIE1nKHQ9e30pe2NvbnN0IGU9ISF0LmFzV2lkZ2V0O3JldHVybiB0PT50Lm9uKFwiYXR0cmlidXRlOmhlYWRpbmdSb3dzOnRhYmxlXCIsKHQsbixvKT0+e2NvbnN0IGk9bi5pdGVtO2lmKCFvLmNvbnN1bWFibGUuY29uc3VtZShuLml0ZW0sdC5uYW1lKSlyZXR1cm47Y29uc3Qgcj1GZyhvLm1hcHBlci50b1ZpZXdFbGVtZW50KGkpKSxzPW4uYXR0cmlidXRlT2xkVmFsdWUsYT1uLmF0dHJpYnV0ZU5ld1ZhbHVlO2lmKGE+cyl7Y29uc3QgdD1BcnJheS5mcm9tKGkuZ2V0Q2hpbGRyZW4oKSkuZmlsdGVyKCh7aW5kZXg6dH0pPT5jKHQscy0xLGEpKTtWZyh0LERnKFwidGhlYWRcIixyLG8pLG8sXCJlbmRcIik7Zm9yKGNvbnN0IG4gb2YgdClmb3IoY29uc3QgdCBvZiBuLmdldENoaWxkcmVuKCkpU2codCxcInRoXCIsbyxlKTtMZyhcInRib2R5XCIscixvKX1lbHNle1ZnKEFycmF5LmZyb20oaS5nZXRDaGlsZHJlbigpKS5maWx0ZXIoKHtpbmRleDp0fSk9PmModCxhLTEscykpLnJldmVyc2UoKSxEZyhcInRib2R5XCIscixvKSxvKTtjb25zdCB0PW5ldyBfZyhpLHtzdGFydFJvdzphP2EtMTphLGVuZFJvdzpzLTF9KSxuPXtoZWFkaW5nUm93czppLmdldEF0dHJpYnV0ZShcImhlYWRpbmdSb3dzXCIpfHwwLGhlYWRpbmdDb2x1bW5zOmkuZ2V0QXR0cmlidXRlKFwiaGVhZGluZ0NvbHVtbnNcIil8fDB9O2Zvcihjb25zdCBpIG9mIHQpRWcoaSxuLG8sZSk7TGcoXCJ0aGVhZFwiLHIsbyl9ZnVuY3Rpb24gYyh0LGUsbil7cmV0dXJuIHQ+ZSYmdDxufX0pfWZ1bmN0aW9uIFBnKHQ9e30pe2NvbnN0IGU9ISF0LmFzV2lkZ2V0O3JldHVybiB0PT50Lm9uKFwiYXR0cmlidXRlOmhlYWRpbmdDb2x1bW5zOnRhYmxlXCIsKHQsbixvKT0+e2NvbnN0IGk9bi5pdGVtO2lmKCFvLmNvbnN1bWFibGUuY29uc3VtZShuLml0ZW0sdC5uYW1lKSlyZXR1cm47Y29uc3Qgcj17aGVhZGluZ1Jvd3M6aS5nZXRBdHRyaWJ1dGUoXCJoZWFkaW5nUm93c1wiKXx8MCxoZWFkaW5nQ29sdW1uczppLmdldEF0dHJpYnV0ZShcImhlYWRpbmdDb2x1bW5zXCIpfHwwfSxzPW4uYXR0cmlidXRlT2xkVmFsdWUsYT1uLmF0dHJpYnV0ZU5ld1ZhbHVlLGM9KHM+YT9zOmEpLTE7Zm9yKGNvbnN0IHQgb2YgbmV3IF9nKGkpKXQuY29sdW1uPmN8fEVnKHQscixvLGUpfSl9ZnVuY3Rpb24gU2codCxlLG4sbyl7Y29uc3QgaT1uLm1hcHBlci50b1ZpZXdFbGVtZW50KHQpO2lmKCFpKXJldHVybjtsZXQgcjtpZihvKXtyPUp1KG4ud3JpdGVyLmNyZWF0ZUVkaXRhYmxlRWxlbWVudChlLGkuZ2V0QXR0cmlidXRlcygpKSxuLndyaXRlciksbi53cml0ZXIuaW5zZXJ0KCRvLmNyZWF0ZUFmdGVyKGkpLHIpLG4ud3JpdGVyLm1vdmUoUW8uY3JlYXRlSW4oaSksJG8uY3JlYXRlQXQocikpLG4ud3JpdGVyLnJlbW92ZShRby5jcmVhdGVPbihpKSl9ZWxzZSByPW4ud3JpdGVyLnJlbmFtZShlLGkpO24ubWFwcGVyLmJpbmRFbGVtZW50cyh0LHIpfWZ1bmN0aW9uIEVnKHQsZSxuLG8pe2NvbnN0e2NlbGw6aX09dCxyPU9nKHQsZSkscz1uLm1hcHBlci50b1ZpZXdFbGVtZW50KGkpO3MmJnMubmFtZSE9PXImJlNnKGkscixuLG8pfWZ1bmN0aW9uIElnKHQsZSxuLG8saSl7Y29uc3Qgcj1pJiZpLmFzV2lkZ2V0LHM9T2codCxlKSxhPXI/SnUoby53cml0ZXIuY3JlYXRlRWRpdGFibGVFbGVtZW50KHMpLG8ud3JpdGVyKTpvLndyaXRlci5jcmVhdGVDb250YWluZXJFbGVtZW50KHMpLGM9dC5jZWxsLGw9MT09PWMuY2hpbGRDb3VudCYmXCJwYXJhZ3JhcGhcIj09PWMuZ2V0Q2hpbGQoMCkubmFtZTtpZihvLndyaXRlci5pbnNlcnQobixhKSxsKXtjb25zdCB0PWMuZ2V0Q2hpbGQoMCksZT0kby5jcmVhdGVBdChhLFwiZW5kXCIpO2lmKG8uY29uc3VtYWJsZS5jb25zdW1lKHQsXCJpbnNlcnRcIiksaS5hc1dpZGdldCl7Y29uc3Qgbj1bLi4udC5nZXRBdHRyaWJ1dGVLZXlzKCldLmxlbmd0aD9cInBcIjpcInNwYW5cIixpPW8ud3JpdGVyLmNyZWF0ZUNvbnRhaW5lckVsZW1lbnQobik7by5tYXBwZXIuYmluZEVsZW1lbnRzKHQsaSksby53cml0ZXIuaW5zZXJ0KGUsaSksby5tYXBwZXIuYmluZEVsZW1lbnRzKGMsYSl9ZWxzZSBvLm1hcHBlci5iaW5kRWxlbWVudHMoYyxhKSxvLm1hcHBlci5iaW5kRWxlbWVudHModCxhKX1lbHNlIG8ubWFwcGVyLmJpbmRFbGVtZW50cyhjLGEpfWZ1bmN0aW9uIE5nKHQsZSxuLG8pe2xldCBpPW8ubWFwcGVyLnRvVmlld0VsZW1lbnQodCk7aWYoIWkpe28uY29uc3VtYWJsZS5jb25zdW1lKHQsXCJpbnNlcnRcIiksaT1vLndyaXRlci5jcmVhdGVDb250YWluZXJFbGVtZW50KFwidHJcIiksby5tYXBwZXIuYmluZEVsZW1lbnRzKHQsaSk7Y29uc3Qgcj10LnBhcmVudC5nZXRBdHRyaWJ1dGUoXCJoZWFkaW5nUm93c1wiKXx8MCxzPXI+MCYmZT49cj9lLXI6ZSxhPSRvLmNyZWF0ZUF0KG4scyk7by53cml0ZXIuaW5zZXJ0KGEsaSl9cmV0dXJuIGl9ZnVuY3Rpb24gT2codCxlKXtjb25zdHtyb3c6bixjb2x1bW46b309dCx7aGVhZGluZ0NvbHVtbnM6aSxoZWFkaW5nUm93czpyfT1lO3JldHVybiByJiZyPm4/XCJ0aFwiOmkmJmk+bz9cInRoXCI6XCJ0ZFwifWZ1bmN0aW9uIFJnKHQsZSl7cmV0dXJuIHQ8ZS5oZWFkaW5nUm93cz9cInRoZWFkXCI6XCJ0Ym9keVwifWZ1bmN0aW9uIERnKHQsZSxuKXtjb25zdCBvPWpnKHQsZSk7cmV0dXJuIG98fGZ1bmN0aW9uKHQsZSxuKXtjb25zdCBvPW4ud3JpdGVyLmNyZWF0ZUNvbnRhaW5lckVsZW1lbnQodCk7cmV0dXJuIG4ud3JpdGVyLmluc2VydCgkby5jcmVhdGVBdChlLFwidGJvZHlcIj09dD9cImVuZFwiOlwic3RhcnRcIiksbyksb30odCxlLG4pfWZ1bmN0aW9uIGpnKHQsZSl7Zm9yKGNvbnN0IG4gb2YgZS5nZXRDaGlsZHJlbigpKWlmKG4ubmFtZT09dClyZXR1cm4gbn1mdW5jdGlvbiBMZyh0LGUsbil7Y29uc3Qgbz1qZyh0LGUpO28mJjA9PT1vLmNoaWxkQ291bnQmJm4ud3JpdGVyLnJlbW92ZShRby5jcmVhdGVPbihvKSl9ZnVuY3Rpb24gVmcodCxlLG4sbyl7Zm9yKGNvbnN0IGkgb2YgdCl7Y29uc3QgdD1uLm1hcHBlci50b1ZpZXdFbGVtZW50KGkpO3QmJm4ud3JpdGVyLm1vdmUoUW8uY3JlYXRlT24odCksJG8uY3JlYXRlQXQoZSxvKSl9fWZ1bmN0aW9uIEZnKHQpe2Zvcihjb25zdCBlIG9mIHQuZ2V0Q2hpbGRyZW4oKSlpZihcInRhYmxlXCI9PT1lLm5hbWUpcmV0dXJuIGV9Y2xhc3MgemcgZXh0ZW5kcyBVbHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIlRhYmxlVXRpbHNcIn1nZXRDZWxsTG9jYXRpb24odCl7Y29uc3QgZT10LnBhcmVudCxuPWUucGFyZW50LG89bi5nZXRDaGlsZEluZGV4KGUpLGk9bmV3IF9nKG4se3N0YXJ0Um93Om8sZW5kUm93Om99KTtmb3IoY29uc3R7Y2VsbDplLHJvdzpuLGNvbHVtbjpvfW9mIGkpaWYoZT09PXQpcmV0dXJue3JvdzpuLGNvbHVtbjpvfX1jcmVhdGVUYWJsZSh0LGUsbil7Y29uc3Qgbz10LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTtyZXR1cm4gQmcodCxvLDAsZSxuKSxvfWluc2VydFJvd3ModCxlPXt9KXtjb25zdCBuPXRoaXMuZWRpdG9yLm1vZGVsLG89ZS5hdHx8MCxpPWUucm93c3x8MTtuLmNoYW5nZShlPT57Y29uc3Qgbj10LmdldEF0dHJpYnV0ZShcImhlYWRpbmdSb3dzXCIpfHwwO2lmKG4+byYmZS5zZXRBdHRyaWJ1dGUoXCJoZWFkaW5nUm93c1wiLG4raSx0KSwwPT09b3x8bz09PXQuY2hpbGRDb3VudClyZXR1cm4gdm9pZCBCZyhlLHQsbyxpLHRoaXMuZ2V0Q29sdW1ucyh0KSk7Y29uc3Qgcj1uZXcgX2codCx7ZW5kUm93Om99KTtsZXQgcz0wO2Zvcihjb25zdHtyb3c6dCxyb3dzcGFuOm4sY29sc3BhbjphLGNlbGw6Y31vZiByKXt0PG8mJnQrbj5vJiZlLnNldEF0dHJpYnV0ZShcInJvd3NwYW5cIixuK2ksYyksdD09PW8mJihzKz1hKX1CZyhlLHQsbyxpLHMpfSl9aW5zZXJ0Q29sdW1ucyh0LGU9e30pe2NvbnN0IG49dGhpcy5lZGl0b3IubW9kZWwsbz1lLmF0fHwwLGk9ZS5jb2x1bW5zfHwxO24uY2hhbmdlKGU9Pntjb25zdCBuPXQuZ2V0QXR0cmlidXRlKFwiaGVhZGluZ0NvbHVtbnNcIik7bzxuJiZlLnNldEF0dHJpYnV0ZShcImhlYWRpbmdDb2x1bW5zXCIsbitpLHQpO2NvbnN0IHI9dGhpcy5nZXRDb2x1bW5zKHQpO2lmKDA9PT1vfHxyPT09byl7Zm9yKGNvbnN0IG4gb2YgdC5nZXRDaGlsZHJlbigpKVVnKGksZSxIcy5jcmVhdGVBdChuLG8/XCJlbmRcIjowKSk7cmV0dXJufWNvbnN0IHM9bmV3IF9nKHQse2NvbHVtbjpvLGluY2x1ZGVTcGFubmVkOiEwfSk7Zm9yKGNvbnN0e3JvdzpuLGNvbHVtbjpyLGNlbGw6YSxjb2xzcGFuOmMscm93c3BhbjpsLGNlbGxJbmRleDpkfW9mIHMpaWYociE9PW8pe2lmKGUuc2V0QXR0cmlidXRlKFwiY29sc3BhblwiLGMraSxhKSxzLnNraXBSb3cobiksbD4xKWZvcihsZXQgdD1uKzE7dDxuK2w7dCsrKXMuc2tpcFJvdyh0KX1lbHNle2NvbnN0IG89SHMuY3JlYXRlRnJvbVBhcmVudEFuZE9mZnNldCh0LmdldENoaWxkKG4pLGQpO1VnKGksZSxvKX19KX1zcGxpdENlbGxWZXJ0aWNhbGx5KHQsZT0yKXtjb25zdCBuPXRoaXMuZWRpdG9yLm1vZGVsLG89dC5wYXJlbnQucGFyZW50LGk9cGFyc2VJbnQodC5nZXRBdHRyaWJ1dGUoXCJyb3dzcGFuXCIpfHwxKSxyPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKFwiY29sc3BhblwiKXx8MSk7bi5jaGFuZ2Uobj0+e2lmKHI+MSl7Y29uc3R7bmV3Q2VsbHNTcGFuOm8sdXBkYXRlZFNwYW46c309SGcocixlKTttZyhcImNvbHNwYW5cIixzLHQsbik7Y29uc3QgYT17fTtvPjEmJihhLmNvbHNwYW49byksaT4xJiYoYS5yb3dzcGFuPWkpLFVnKHI+ZT9lLTE6ci0xLG4sSHMuY3JlYXRlQWZ0ZXIodCksYSl9aWYocjxlKXtjb25zdCBzPWUtcixhPVsuLi5uZXcgX2cobyldLHtjb2x1bW46Y309YS5maW5kKCh7Y2VsbDplfSk9PmU9PT10KSxsPWEuZmlsdGVyKCh7Y2VsbDplLGNvbHNwYW46bixjb2x1bW46b30pPT57cmV0dXJuIGUhPT10JiZvPT09Y3x8bzxjJiZvK24+Y30pO2Zvcihjb25zdHtjZWxsOnQsY29sc3BhbjplfW9mIGwpbi5zZXRBdHRyaWJ1dGUoXCJjb2xzcGFuXCIsZStzLHQpO2NvbnN0IGQ9e307aT4xJiYoZC5yb3dzcGFuPWkpLFVnKHMsbixIcy5jcmVhdGVBZnRlcih0KSxkKTtjb25zdCB1PW8uZ2V0QXR0cmlidXRlKFwiaGVhZGluZ0NvbHVtbnNcIil8fDA7dT5jJiZtZyhcImhlYWRpbmdDb2x1bW5zXCIsdStzLG8sbil9fSl9c3BsaXRDZWxsSG9yaXpvbnRhbGx5KHQsZT0yKXtjb25zdCBuPXRoaXMuZWRpdG9yLm1vZGVsLG89dC5wYXJlbnQsaT1vLnBhcmVudCxyPWkuZ2V0Q2hpbGRJbmRleChvKSxzPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKFwicm93c3BhblwiKXx8MSksYT1wYXJzZUludCh0LmdldEF0dHJpYnV0ZShcImNvbHNwYW5cIil8fDEpO24uY2hhbmdlKG49PntpZihzPjEpe2NvbnN0IG89Wy4uLm5ldyBfZyhpLHtzdGFydFJvdzpyLGVuZFJvdzpyK3MtMSxpbmNsdWRlU3Bhbm5lZDohMH0pXSx7bmV3Q2VsbHNTcGFuOmMsdXBkYXRlZFNwYW46bH09SGcocyxlKTttZyhcInJvd3NwYW5cIixsLHQsbik7Y29uc3R7Y29sdW1uOmR9PW8uZmluZCgoe2NlbGw6ZX0pPT5lPT09dCksdT17fTtjPjEmJih1LnJvd3NwYW49YyksYT4xJiYodS5jb2xzcGFuPWEpO2Zvcihjb25zdHtjb2x1bW46dCxyb3c6ZSxjZWxsSW5kZXg6c31vZiBvKXtpZihlPj1yK2wmJnQ9PT1kJiYoZStyK2wpJWM9PTApe1VnKDEsbixIcy5jcmVhdGVGcm9tUGFyZW50QW5kT2Zmc2V0KGkuZ2V0Q2hpbGQoZSkscyksdSl9fX1pZihzPGUpe2NvbnN0IG89ZS1zLGM9Wy4uLm5ldyBfZyhpLHtzdGFydFJvdzowLGVuZFJvdzpyfSldO2Zvcihjb25zdHtjZWxsOmUscm93c3BhbjppLHJvdzpzfW9mIGMpaWYoZSE9PXQmJnMraT5yKXtjb25zdCB0PWkrbztuLnNldEF0dHJpYnV0ZShcInJvd3NwYW5cIix0LGUpfWNvbnN0IGw9e307YT4xJiYobC5jb2xzcGFuPWEpLEJnKG4saSxyKzEsbywxLGwpO2NvbnN0IGQ9aS5nZXRBdHRyaWJ1dGUoXCJoZWFkaW5nUm93c1wiKXx8MDtkPnImJm1nKFwiaGVhZGluZ1Jvd3NcIixkK28saSxuKX19KX1nZXRDb2x1bW5zKHQpe3JldHVyblsuLi50LmdldENoaWxkKDApLmdldENoaWxkcmVuKCldLnJlZHVjZSgodCxlKT0+e3JldHVybiB0K3BhcnNlSW50KGUuZ2V0QXR0cmlidXRlKFwiY29sc3BhblwiKXx8MSl9LDApfX1mdW5jdGlvbiBCZyh0LGUsbixvLGkscj17fSl7Zm9yKGxldCBzPTA7czxvO3MrKyl7Y29uc3Qgbz10LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVJvd1wiKTt0Lmluc2VydChvLGUsbiksVWcoaSx0LEhzLmNyZWF0ZUF0KG8sXCJlbmRcIikscil9fWZ1bmN0aW9uIFVnKHQsZSxuLG89e30pe2ZvcihsZXQgaT0wO2k8dDtpKyspZ2coZSxuLG8pfWZ1bmN0aW9uIEhnKHQsZSl7aWYodDxlKXJldHVybntuZXdDZWxsc1NwYW46MSx1cGRhdGVkU3BhbjoxfTtjb25zdCBuPU1hdGguZmxvb3IodC9lKTtyZXR1cm57bmV3Q2VsbHNTcGFuOm4sdXBkYXRlZFNwYW46dC1uKmUrbn19Y2xhc3MgcWcgZXh0ZW5kcyBHbHtyZWZyZXNoKCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbCxlPXQuZG9jdW1lbnQuc2VsZWN0aW9uLG49dC5zY2hlbWEsbz1mdW5jdGlvbih0KXtjb25zdCBlPXQucGFyZW50O3JldHVybiBlPT09ZS5yb290P2U6ZS5wYXJlbnR9KGUuZ2V0Rmlyc3RQb3NpdGlvbigpKTt0aGlzLmlzRW5hYmxlZD1uLmNoZWNrQ2hpbGQobyxcInRhYmxlXCIpfWV4ZWN1dGUodD17fSl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCxuPWUuZG9jdW1lbnQuc2VsZWN0aW9uLG89dGhpcy5lZGl0b3IucGx1Z2lucy5nZXQoemcpLGk9cGFyc2VJbnQodC5yb3dzKXx8MixyPXBhcnNlSW50KHQuY29sdW1ucyl8fDIscz1LdShuKTtlLmNoYW5nZSh0PT57Y29uc3Qgbj1vLmNyZWF0ZVRhYmxlKHQsaSxyKTtlLmluc2VydENvbnRlbnQobixzKSx0LnNldFNlbGVjdGlvbihIcy5jcmVhdGVBdChuLmdldENoaWxkKDApLmdldENoaWxkKDApLmdldENoaWxkKDApKSl9KX19Y2xhc3MgV2cgZXh0ZW5kcyBHbHtjb25zdHJ1Y3Rvcih0LGU9e30pe3N1cGVyKHQpLHRoaXMub3JkZXI9ZS5vcmRlcnx8XCJiZWxvd1wifXJlZnJlc2goKXtjb25zdCB0PWZnKFwidGFibGVcIix0aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0Rmlyc3RQb3NpdGlvbigpKTt0aGlzLmlzRW5hYmxlZD0hIXR9ZXhlY3V0ZSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10Lm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbixuPXQucGx1Z2lucy5nZXQoemcpLG89ZmcoXCJ0YWJsZUNlbGxcIixlLmdldEZpcnN0UG9zaXRpb24oKSkucGFyZW50LGk9by5wYXJlbnQscj1pLmdldENoaWxkSW5kZXgobykscz1cImJlbG93XCI9PT10aGlzLm9yZGVyP3IrMTpyO24uaW5zZXJ0Um93cyhpLHtyb3dzOjEsYXQ6c30pfX1jbGFzcyBZZyBleHRlbmRzIEdse2NvbnN0cnVjdG9yKHQsZT17fSl7c3VwZXIodCksdGhpcy5vcmRlcj1lLm9yZGVyfHxcImFmdGVyXCJ9cmVmcmVzaCgpe2NvbnN0IHQ9ZmcoXCJ0YWJsZVwiLHRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5nZXRGaXJzdFBvc2l0aW9uKCkpO3RoaXMuaXNFbmFibGVkPSEhdH1leGVjdXRlKCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLG49dC5wbHVnaW5zLmdldCh6Zyksbz1mZyhcInRhYmxlQ2VsbFwiLGUuZ2V0Rmlyc3RQb3NpdGlvbigpKSxpPW8ucGFyZW50LnBhcmVudCx7Y29sdW1uOnJ9PW4uZ2V0Q2VsbExvY2F0aW9uKG8pLHM9XCJhZnRlclwiPT09dGhpcy5vcmRlcj9yKzE6cjtuLmluc2VydENvbHVtbnMoaSx7Y29sdW1uczoxLGF0OnN9KX19Y2xhc3MgR2cgZXh0ZW5kcyBHbHtjb25zdHJ1Y3Rvcih0LGU9e30pe3N1cGVyKHQpLHRoaXMuZGlyZWN0aW9uPWUuZGlyZWN0aW9ufHxcImhvcml6b250YWxseVwifXJlZnJlc2goKXtjb25zdCB0PWZnKFwidGFibGVDZWxsXCIsdGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKSk7dGhpcy5pc0VuYWJsZWQ9ISF0fWV4ZWN1dGUoKXtjb25zdCB0PWZnKFwidGFibGVDZWxsXCIsdGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKSksZT1cImhvcml6b250YWxseVwiPT09dGhpcy5kaXJlY3Rpb24sbj10aGlzLmVkaXRvci5wbHVnaW5zLmdldCh6Zyk7ZT9uLnNwbGl0Q2VsbEhvcml6b250YWxseSh0LDIpOm4uc3BsaXRDZWxsVmVydGljYWxseSh0LDIpfX1jbGFzcyAkZyBleHRlbmRzIEdse2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy5kaXJlY3Rpb249ZS5kaXJlY3Rpb24sdGhpcy5pc0hvcml6b250YWw9XCJyaWdodFwiPT10aGlzLmRpcmVjdGlvbnx8XCJsZWZ0XCI9PXRoaXMuZGlyZWN0aW9ufXJlZnJlc2goKXtjb25zdCB0PXRoaXMuX2dldE1lcmdlYWJsZUNlbGwoKTt0aGlzLmlzRW5hYmxlZD0hIXQsdGhpcy52YWx1ZT10fWV4ZWN1dGUoKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLGU9ZmcoXCJ0YWJsZUNlbGxcIix0LmRvY3VtZW50LnNlbGVjdGlvbi5nZXRGaXJzdFBvc2l0aW9uKCkpLG49dGhpcy52YWx1ZSxvPXRoaXMuZGlyZWN0aW9uO3QuY2hhbmdlKHQ9Pntjb25zdCBpPVwicmlnaHRcIj09b3x8XCJkb3duXCI9PW8scj1pP2U6bixzPWk/bjplLGE9cy5wYXJlbnQ7IWZ1bmN0aW9uKHQsZSxuKXtRZyh0KXx8KFFnKGUpJiZuLnJlbW92ZShxcy5jcmVhdGVJbihlKSksbi5tb3ZlKHFzLmNyZWF0ZUluKHQpLEhzLmNyZWF0ZUF0KGUsXCJlbmRcIikpKTtuLnJlbW92ZSh0KX0ocyxyLHQpO2NvbnN0IGM9dGhpcy5pc0hvcml6b250YWw/XCJjb2xzcGFuXCI6XCJyb3dzcGFuXCIsbD1wYXJzZUludChlLmdldEF0dHJpYnV0ZShjKXx8MSksZD1wYXJzZUludChuLmdldEF0dHJpYnV0ZShjKXx8MSk7dC5zZXRBdHRyaWJ1dGUoYyxsK2QsciksdC5zZXRTZWxlY3Rpb24ocXMuY3JlYXRlSW4ocikpLGEuY2hpbGRDb3VudHx8ZnVuY3Rpb24odCxlKXtjb25zdCBuPXQucGFyZW50LG89bi5nZXRDaGlsZEluZGV4KHQpO2Zvcihjb25zdHtjZWxsOnQscm93Omkscm93c3BhbjpyfW9mIG5ldyBfZyhuLHtlbmRSb3c6b30pKXtjb25zdCBuPWkrci0xPj1vO24mJm1nKFwicm93c3BhblwiLHItMSx0LGUpfWUucmVtb3ZlKHQpfShhLHQpfSl9X2dldE1lcmdlYWJsZUNlbGwoKXtjb25zdCB0PWZnKFwidGFibGVDZWxsXCIsdGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKSk7aWYoIXQpcmV0dXJuO2NvbnN0IGU9dGhpcy5lZGl0b3IucGx1Z2lucy5nZXQoemcpLG49dGhpcy5pc0hvcml6b250YWw/ZnVuY3Rpb24odCxlLG4pe2NvbnN0IG89XCJyaWdodFwiPT1lP3QubmV4dFNpYmxpbmc6dC5wcmV2aW91c1NpYmxpbmc7aWYoIW8pcmV0dXJuO2NvbnN0IGk9XCJyaWdodFwiPT1lP3Q6byxyPVwicmlnaHRcIj09ZT9vOnQse2NvbHVtbjpzfT1uLmdldENlbGxMb2NhdGlvbihpKSx7Y29sdW1uOmF9PW4uZ2V0Q2VsbExvY2F0aW9uKHIpLGM9cGFyc2VJbnQoaS5nZXRBdHRyaWJ1dGUoXCJjb2xzcGFuXCIpfHwxKTtyZXR1cm4gcytjPT09YT9vOnZvaWQgMH0odCx0aGlzLmRpcmVjdGlvbixlKTpmdW5jdGlvbih0LGUpe2NvbnN0IG49dC5wYXJlbnQsbz1uLnBhcmVudCxpPW8uZ2V0Q2hpbGRJbmRleChuKTtpZihcImRvd25cIj09ZSYmaT09PW8uY2hpbGRDb3VudC0xfHxcInVwXCI9PWUmJjA9PT1pKXJldHVybjtjb25zdCByPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKFwicm93c3BhblwiKXx8MSkscz1vLmdldEF0dHJpYnV0ZShcImhlYWRpbmdSb3dzXCIpfHwwO2lmKHMmJihcImRvd25cIj09ZSYmaStyPT09c3x8XCJ1cFwiPT1lJiZpPT09cykpcmV0dXJuO2NvbnN0IGE9cGFyc2VJbnQodC5nZXRBdHRyaWJ1dGUoXCJyb3dzcGFuXCIpfHwxKSxjPVwiZG93blwiPT1lP2krYTppLGw9Wy4uLm5ldyBfZyhvLHtlbmRSb3c6Y30pXSxkPWwuZmluZChlPT5lLmNlbGw9PT10KS5jb2x1bW4sdT1sLmZpbmQoKHtyb3c6dCxyb3dzcGFuOm4sY29sdW1uOm99KT0+bz09PWQmJihcImRvd25cIj09ZT90PT09YzpjPT09dCtuKSk7cmV0dXJuIHUmJnUuY2VsbH0odCx0aGlzLmRpcmVjdGlvbik7aWYoIW4pcmV0dXJuO2NvbnN0IG89dGhpcy5pc0hvcml6b250YWw/XCJyb3dzcGFuXCI6XCJjb2xzcGFuXCIsaT1wYXJzZUludCh0LmdldEF0dHJpYnV0ZShvKXx8MSk7cmV0dXJuIHBhcnNlSW50KG4uZ2V0QXR0cmlidXRlKG8pfHwxKT09PWk/bjp2b2lkIDB9fWZ1bmN0aW9uIFFnKHQpe3JldHVybiAxPT10LmNoaWxkQ291bnQmJnQuZ2V0Q2hpbGQoMCkuaXMoXCJwYXJhZ3JhcGhcIikmJnQuZ2V0Q2hpbGQoMCkuaXNFbXB0eX1jbGFzcyBKZyBleHRlbmRzIEdse3JlZnJlc2goKXtjb25zdCB0PWZnKFwidGFibGVDZWxsXCIsdGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKSk7dGhpcy5pc0VuYWJsZWQ9ISF0JiZ0LnBhcmVudC5wYXJlbnQuY2hpbGRDb3VudD4xfWV4ZWN1dGUoKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLGU9ZmcoXCJ0YWJsZUNlbGxcIix0LmRvY3VtZW50LnNlbGVjdGlvbi5nZXRGaXJzdFBvc2l0aW9uKCkpLnBhcmVudCxuPWUucGFyZW50LG89bi5nZXRDaGlsZEluZGV4KGUpLGk9bi5nZXRBdHRyaWJ1dGUoXCJoZWFkaW5nUm93c1wiKXx8MDt0LmNoYW5nZSh0PT57aSYmbzw9aSYmbWcoXCJoZWFkaW5nUm93c1wiLGktMSxuLHQsMCk7Y29uc3Qgcj1bLi4ubmV3IF9nKG4se2VuZFJvdzpvfSldLHM9bmV3IE1hcDtyLmZpbHRlcigoe3Jvdzp0LHJvd3NwYW46ZX0pPT50PT09byYmZT4xKS5mb3JFYWNoKCh7Y29sdW1uOnQsY2VsbDplLHJvd3NwYW46bn0pPT5zLnNldCh0LHtjZWxsOmUscm93c3BhblRvU2V0Om4tMX0pKSxyLmZpbHRlcigoe3Jvdzp0LHJvd3NwYW46ZX0pPT50PD1vLTEmJnQrZT5vKS5mb3JFYWNoKCh7Y2VsbDplLHJvd3NwYW46bn0pPT5tZyhcInJvd3NwYW5cIixuLTEsZSx0KSk7Y29uc3QgYT1vKzEsYz1uZXcgX2cobix7aW5jbHVkZVNwYW5uZWQ6ITAsc3RhcnRSb3c6YSxlbmRSb3c6YX0pO2xldCBsO2Zvcihjb25zdHtyb3c6ZSxjb2x1bW46byxjZWxsOml9b2ZbLi4uY10paWYocy5oYXMobykpe2NvbnN0e2NlbGw6aSxyb3dzcGFuVG9TZXQ6cn09cy5nZXQobyksYT1sP0hzLmNyZWF0ZUFmdGVyKGwpOkhzLmNyZWF0ZUF0KG4uZ2V0Q2hpbGQoZSkpO3QubW92ZShxcy5jcmVhdGVPbihpKSxhKSxtZyhcInJvd3NwYW5cIixyLGksdCksbD1pfWVsc2UgbD1pO3QucmVtb3ZlKGUpfSl9fWNsYXNzIEtnIGV4dGVuZHMgR2x7cmVmcmVzaCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10Lm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbixuPXQucGx1Z2lucy5nZXQoemcpLG89ZmcoXCJ0YWJsZUNlbGxcIixlLmdldEZpcnN0UG9zaXRpb24oKSk7dGhpcy5pc0VuYWJsZWQ9ISFvJiZuLmdldENvbHVtbnMoby5wYXJlbnQucGFyZW50KT4xfWV4ZWN1dGUoKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLGU9ZmcoXCJ0YWJsZUNlbGxcIix0LmRvY3VtZW50LnNlbGVjdGlvbi5nZXRGaXJzdFBvc2l0aW9uKCkpLG49ZS5wYXJlbnQsbz1uLnBhcmVudCxpPW8uZ2V0QXR0cmlidXRlKFwiaGVhZGluZ0NvbHVtbnNcIil8fDAscj1vLmdldENoaWxkSW5kZXgobikscz1bLi4ubmV3IF9nKG8pXSxhPXMuZmluZCh0PT50LmNlbGw9PT1lKS5jb2x1bW47dC5jaGFuZ2UodD0+e2kmJnI8PWkmJnQuc2V0QXR0cmlidXRlKFwiaGVhZGluZ0NvbHVtbnNcIixpLTEsbyk7Zm9yKGNvbnN0e2NlbGw6ZSxjb2x1bW46bixjb2xzcGFuOm99b2YgcyluPD1hJiZvPjEmJm4rbz5hP21nKFwiY29sc3BhblwiLG8tMSxlLHQpOm49PT1hJiZ0LnJlbW92ZShlKX0pfX1jbGFzcyBaZyBleHRlbmRzIEdse3JlZnJlc2goKXtjb25zdCB0PWZnKFwidGFibGVDZWxsXCIsdGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKSksZT0hIXQ7dGhpcy5pc0VuYWJsZWQ9ZSx0aGlzLnZhbHVlPWUmJnRoaXMuX2lzSW5IZWFkaW5nKHQsdC5wYXJlbnQucGFyZW50KX1leGVjdXRlKCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbCxlPWZnKFwidGFibGVDZWxsXCIsdC5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0Rmlyc3RQb3NpdGlvbigpKS5wYXJlbnQsbj1lLnBhcmVudCxvPW4uZ2V0QXR0cmlidXRlKFwiaGVhZGluZ1Jvd3NcIil8fDAsaT1lLmluZGV4LHI9bz5pP2k6aSsxO3QuY2hhbmdlKHQ9PntpZihyKXtjb25zdCBlPWZ1bmN0aW9uKHQsZSxuKXtjb25zdCBvPVtdLGk9bmV3IF9nKHQse3N0YXJ0Um93OmU+bj9uOjAsZW5kUm93OmUtMX0pO2Zvcihjb25zdHtyb3c6dCxyb3dzcGFuOm4sY2VsbDpyfW9mIGkpbj4xJiZ0K24+ZSYmby5wdXNoKHIpO3JldHVybiBvfShuLHIsbyk7Zm9yKGNvbnN0IG4gb2YgZSlYZyhuLHIsdCl9bWcoXCJoZWFkaW5nUm93c1wiLHIsbix0LDApfSl9X2lzSW5IZWFkaW5nKHQsZSl7Y29uc3Qgbj1wYXJzZUludChlLmdldEF0dHJpYnV0ZShcImhlYWRpbmdSb3dzXCIpfHwwKTtyZXR1cm4hIW4mJnQucGFyZW50LmluZGV4PG59fWZ1bmN0aW9uIFhnKHQsZSxuKXtjb25zdCBvPXQucGFyZW50LGk9by5wYXJlbnQscj1lLW8uaW5kZXgscz17fSxhPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKFwicm93c3BhblwiKSktcjthPjEmJihzLnJvd3NwYW49YSk7Y29uc3QgYz1pLmdldENoaWxkSW5kZXgobyksbD1jK3IsZD1bLi4ubmV3IF9nKGkse3N0YXJ0Um93OmMsZW5kUm93OmwsaW5jbHVkZVNwYW5uZWQ6ITB9KV07bGV0IHU7Zm9yKGNvbnN0e3JvdzplLGNvbHVtbjpvLGNlbGw6cixjb2xzcGFuOmEsY2VsbEluZGV4OmN9b2YgZClpZihyPT09dCYmKHU9byxhPjEmJihzLmNvbHNwYW49YSkpLHZvaWQgMCE9PXUmJnU9PT1vJiZlPT09bCl7Y29uc3QgdD1pLmdldENoaWxkKGUpO2dnKG4sSHMuY3JlYXRlRnJvbVBhcmVudEFuZE9mZnNldCh0LGMpLHMpfW1nKFwicm93c3BhblwiLHIsdCxuKX1jbGFzcyB0cCBleHRlbmRzIEdse3JlZnJlc2goKXtjb25zdCB0PWZnKFwidGFibGVDZWxsXCIsdGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKSksZT0hIXQ7dGhpcy5pc0VuYWJsZWQ9ZSx0aGlzLnZhbHVlPWUmJnRoaXMuX2lzSW5IZWFkaW5nKHQsdC5wYXJlbnQucGFyZW50KX1leGVjdXRlKCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbCxlPXQuZG9jdW1lbnQuc2VsZWN0aW9uLG49dGhpcy5lZGl0b3IucGx1Z2lucy5nZXQoXCJUYWJsZVV0aWxzXCIpLG89ZmcoXCJ0YWJsZUNlbGxcIixlLmdldEZpcnN0UG9zaXRpb24oKS5wYXJlbnQpLGk9by5wYXJlbnQucGFyZW50LHI9cGFyc2VJbnQoaS5nZXRBdHRyaWJ1dGUoXCJoZWFkaW5nQ29sdW1uc1wiKXx8MCkse2NvbHVtbjpzfT1uLmdldENlbGxMb2NhdGlvbihvKSxhPXI+cz9zOnMrMTt0LmNoYW5nZSh0PT57bWcoXCJoZWFkaW5nQ29sdW1uc1wiLGEsaSx0LDApfSl9X2lzSW5IZWFkaW5nKHQsZSl7Y29uc3Qgbj1wYXJzZUludChlLmdldEF0dHJpYnV0ZShcImhlYWRpbmdDb2x1bW5zXCIpfHwwKSxvPXRoaXMuZWRpdG9yLnBsdWdpbnMuZ2V0KFwiVGFibGVVdGlsc1wiKSx7Y29sdW1uOml9PW8uZ2V0Q2VsbExvY2F0aW9uKHQpO3JldHVybiEhbiYmaTxufX1mdW5jdGlvbiBlcCh0KXt0LmRvY3VtZW50LnJlZ2lzdGVyUG9zdEZpeGVyKGU9PihmdW5jdGlvbih0LGUpe2NvbnN0IG49ZS5kb2N1bWVudC5kaWZmZXIuZ2V0Q2hhbmdlcygpO2xldCBvPSExO2NvbnN0IGk9bmV3IFNldDtmb3IoY29uc3QgZSBvZiBuKXtsZXQgbjtcInRhYmxlXCI9PWUubmFtZSYmXCJpbnNlcnRcIj09ZS50eXBlJiYobj1lLnBvc2l0aW9uLm5vZGVBZnRlciksXCJ0YWJsZVJvd1wiIT1lLm5hbWUmJlwidGFibGVDZWxsXCIhPWUubmFtZXx8KG49ZmcoXCJ0YWJsZVwiLGUucG9zaXRpb24pKSxpcChlKSYmKG49ZmcoXCJ0YWJsZVwiLGUucmFuZ2Uuc3RhcnQpKSxuJiYhaS5oYXMobikmJihvPW5wKG4sdCl8fG8sbz1vcChuLHQpfHxvLGkuYWRkKG4pKX1yZXR1cm4gb30pKGUsdCkpfWZ1bmN0aW9uIG5wKHQsZSl7bGV0IG49ITE7Y29uc3Qgbz1mdW5jdGlvbih0KXtjb25zdCBlPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKFwiaGVhZGluZ1Jvd3NcIil8fDApLG49dC5jaGlsZENvdW50LG89W107Zm9yKGNvbnN0e3JvdzppLHJvd3NwYW46cixjZWxsOnN9b2YgbmV3IF9nKHQpKXtpZihyPDIpY29udGludWU7Y29uc3QgdD1pPGUsYT10P2U6bjtpZihpK3I+YSl7Y29uc3QgdD1hLWk7by5wdXNoKHtjZWxsOnMscm93c3Bhbjp0fSl9fXJldHVybiBvfSh0KTtpZihvLmxlbmd0aCl7bj0hMDtmb3IoY29uc3QgdCBvZiBvKW1nKFwicm93c3BhblwiLHQucm93c3Bhbix0LmNlbGwsZSwxKX1yZXR1cm4gbn1mdW5jdGlvbiBvcCh0LGUpe2xldCBuPSExO2NvbnN0IG89ZnVuY3Rpb24odCl7Y29uc3QgZT17fTtmb3IoY29uc3R7cm93Om59b2YgbmV3IF9nKHQse2luY2x1ZGVTcGFubmVkOiEwfSkpZVtuXXx8KGVbbl09MCksZVtuXSs9MTtyZXR1cm4gZX0odCksaT1vWzBdO2lmKCFPYmplY3QudmFsdWVzKG8pLmV2ZXJ5KHQ9PnQ9PT1pKSl7Y29uc3QgaT1PYmplY3QudmFsdWVzKG8pLnJlZHVjZSgodCxlKT0+ZT50P2U6dCwwKTtmb3IoY29uc3RbcixzXW9mIE9iamVjdC5lbnRyaWVzKG8pKXtjb25zdCBvPWktcztpZihvKXtmb3IobGV0IG49MDtuPG87bisrKWdnKGUsSHMuY3JlYXRlQXQodC5nZXRDaGlsZChyKSxcImVuZFwiKSk7bj0hMH19fXJldHVybiBufWZ1bmN0aW9uIGlwKHQpe2NvbnN0IGU9XCJhdHRyaWJ1dGVcIj09PXQudHlwZSxuPXQuYXR0cmlidXRlS2V5O3JldHVybiBlJiYoXCJoZWFkaW5nUm93c1wiPT09bnx8XCJjb2xzcGFuXCI9PT1ufHxcInJvd3NwYW5cIj09PW4pfWZ1bmN0aW9uIHJwKHQpe3QuZG9jdW1lbnQucmVnaXN0ZXJQb3N0Rml4ZXIoZT0+KGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1lLmRvY3VtZW50LmRpZmZlci5nZXRDaGFuZ2VzKCk7bGV0IG89ITE7Zm9yKGNvbnN0IGUgb2YgbilcInJlbW92ZVwiPT1lLnR5cGUmJmUucG9zaXRpb24ucGFyZW50LmlzKFwidGFibGVDZWxsXCIpJiYobz1jcChlLnBvc2l0aW9uLnBhcmVudCx0KXx8byksXCJpbnNlcnRcIj09ZS50eXBlJiYoXCJ0YWJsZVwiPT1lLm5hbWUmJihvPXNwKGUucG9zaXRpb24ubm9kZUFmdGVyLHQpfHxvKSxcInRhYmxlUm93XCI9PWUubmFtZSYmKG89YXAoZS5wb3NpdGlvbi5ub2RlQWZ0ZXIsdCl8fG8pLFwidGFibGVDZWxsXCI9PWUubmFtZSYmKG89Y3AoZS5wb3NpdGlvbi5ub2RlQWZ0ZXIsdCl8fG8pKTtyZXR1cm4gb30pKGUsdCkpfWZ1bmN0aW9uIHNwKHQsZSl7bGV0IG49ITE7Zm9yKGNvbnN0IG8gb2YgdC5nZXRDaGlsZHJlbigpKW49YXAobyxlKXx8bjtyZXR1cm4gbn1mdW5jdGlvbiBhcCh0LGUpe2xldCBuPSExO2Zvcihjb25zdCBvIG9mIHQuZ2V0Q2hpbGRyZW4oKSluPWNwKG8sZSl8fG47cmV0dXJuIG59ZnVuY3Rpb24gY3AodCxlKXtyZXR1cm4gMD09dC5jaGlsZENvdW50JiYoZS5pbnNlcnRFbGVtZW50KFwicGFyYWdyYXBoXCIsdCksITApfWZ1bmN0aW9uIGxwKHQsZSl7ZS52aWV3LmRvY3VtZW50LnJlZ2lzdGVyUG9zdEZpeGVyKG49PihmdW5jdGlvbih0LGUsbixvKXtsZXQgaT0hMTtjb25zdCByPWZ1bmN0aW9uKHQpe2NvbnN0IGU9QXJyYXkuZnJvbSh0Ll9yZW5kZXJlci5tYXJrZWRBdHRyaWJ1dGVzKS5maWx0ZXIodD0+ISF0LnBhcmVudCkuZmlsdGVyKHVwKS5maWx0ZXIodD0+aHAodC5wYXJlbnQpKSxuPUFycmF5LmZyb20odC5fcmVuZGVyZXIubWFya2VkQ2hpbGRyZW4pLmZpbHRlcih0PT4hIXQucGFyZW50KS5maWx0ZXIoaHApLnJlZHVjZSgodCxlKT0+e2NvbnN0IG49QXJyYXkuZnJvbShlLmdldENoaWxkcmVuKCkpLmZpbHRlcih1cCk7cmV0dXJuWy4uLnQsLi4ubl19LFtdKTtyZXR1cm5bLi4uZSwuLi5uXX0obyk7Zm9yKGNvbnN0IGUgb2YgcilpPWRwKGUsbix0KXx8aTtpJiZmdW5jdGlvbih0LGUsbil7Y29uc3Qgbz1BcnJheS5mcm9tKHQuZ2V0UmFuZ2VzKCkpLm1hcCh0PT5lLnRvVmlld1JhbmdlKHQpKTtuLnNldFNlbGVjdGlvbihvLHtiYWNrd2FyZDp0LmlzQmFja3dhcmR9KX0oZS5kb2N1bWVudC5zZWxlY3Rpb24sbix0KTtyZXR1cm4gaX0pKG4sdCxlLm1hcHBlcixlLnZpZXcpKX1mdW5jdGlvbiBkcCh0LGUsbil7Y29uc3Qgbz1lLnRvTW9kZWxFbGVtZW50KHQpLGk9ZnVuY3Rpb24odCxlKXtjb25zdCBuPXQuY2hpbGRDb3VudD4xLG89ISFbLi4uZS5nZXRBdHRyaWJ1dGVzKCldLmxlbmd0aDtyZXR1cm4gbnx8bz9cInBcIjpcInNwYW5cIn0oby5wYXJlbnQsbyk7aWYodC5uYW1lIT09aSl7ZS51bmJpbmRWaWV3RWxlbWVudCh0KTtjb25zdCByPW4ucmVuYW1lKGksdCk7cmV0dXJuIGUuYmluZEVsZW1lbnRzKG8sciksITB9cmV0dXJuITF9ZnVuY3Rpb24gdXAodCl7cmV0dXJuIHQuaXMoXCJwXCIpfHx0LmlzKFwic3BhblwiKX1mdW5jdGlvbiBocCh0KXtyZXR1cm4gdC5pcyhcInRkXCIpfHx0LmlzKFwidGhcIil9bigxMDQpO2NsYXNzIGZwIGV4dGVuZHMgVWx7aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10Lm1vZGVsLG49ZS5zY2hlbWEsbz10LmNvbnZlcnNpb247bi5yZWdpc3RlcihcInRhYmxlXCIse2FsbG93V2hlcmU6XCIkYmxvY2tcIixhbGxvd0F0dHJpYnV0ZXM6W1wiaGVhZGluZ1Jvd3NcIixcImhlYWRpbmdDb2x1bW5zXCJdLGlzTGltaXQ6ITAsaXNPYmplY3Q6ITB9KSxuLnJlZ2lzdGVyKFwidGFibGVSb3dcIix7YWxsb3dJbjpcInRhYmxlXCIsaXNMaW1pdDohMH0pLG4ucmVnaXN0ZXIoXCJ0YWJsZUNlbGxcIix7YWxsb3dJbjpcInRhYmxlUm93XCIsYWxsb3dBdHRyaWJ1dGVzOltcImNvbHNwYW5cIixcInJvd3NwYW5cIl0saXNMaW1pdDohMH0pLG4uZXh0ZW5kKFwiJGJsb2NrXCIse2FsbG93SW46XCJ0YWJsZUNlbGxcIn0pLG4uYWRkQ2hpbGRDaGVjaygodCxlKT0+e2lmKFwidGFibGVcIj09ZS5uYW1lJiZBcnJheS5mcm9tKHQuZ2V0TmFtZXMoKSkuaW5jbHVkZXMoXCJ0YWJsZVwiKSlyZXR1cm4hMX0pLG4uYWRkQ2hpbGRDaGVjaygodCxlKT0+e2lmKEFycmF5LmZyb20odC5nZXROYW1lcygpKS5pbmNsdWRlcyhcInRhYmxlXCIpKXJldHVyblwiaW1hZ2VcIiE9ZS5uYW1lJiZcIm1lZGlhXCIhPWUubmFtZSYmdm9pZCAwfSksby5mb3IoXCJ1cGNhc3RcIikuYWRkKHBnKCkpLG8uZm9yKFwiZWRpdGluZ0Rvd25jYXN0XCIpLmFkZChBZyh7YXNXaWRnZXQ6ITB9KSksby5mb3IoXCJkYXRhRG93bmNhc3RcIikuYWRkKEFnKCkpLG8uZm9yKFwidXBjYXN0XCIpLmFkZChPYSh7bW9kZWw6XCJ0YWJsZVJvd1wiLHZpZXc6XCJ0clwifSkpLG8uZm9yKFwiZWRpdGluZ0Rvd25jYXN0XCIpLmFkZChDZyh7YXNXaWRnZXQ6ITB9KSksby5mb3IoXCJkYXRhRG93bmNhc3RcIikuYWRkKENnKCkpLG8uZm9yKFwiZG93bmNhc3RcIikuYWRkKHQ9PnQub24oXCJyZW1vdmU6dGFibGVSb3dcIiwodCxlLG4pPT57dC5zdG9wKCk7Y29uc3Qgbz1uLm1hcHBlci50b1ZpZXdQb3NpdGlvbihlLnBvc2l0aW9uKS5nZXRMYXN0TWF0Y2hpbmdQb3NpdGlvbih0PT4hdC5pdGVtLmlzKFwidHJcIikpLm5vZGVBZnRlcixpPW8ucGFyZW50LHI9UW8uY3JlYXRlT24obykscz1uLndyaXRlci5yZW1vdmUocik7Zm9yKGNvbnN0IHQgb2YgUW8uY3JlYXRlSW4ocykuZ2V0SXRlbXMoKSluLm1hcHBlci51bmJpbmRWaWV3RWxlbWVudCh0KTtpLmNoaWxkQ291bnR8fG4ud3JpdGVyLnJlbW92ZShRby5jcmVhdGVPbihpKSl9LHtwcmlvcml0eTpcImhpZ2hlclwifSkpLG8uZm9yKFwidXBjYXN0XCIpLmFkZChiZyhcInRkXCIpKSxvLmZvcihcInVwY2FzdFwiKS5hZGQoYmcoXCJ0aFwiKSksby5mb3IoXCJlZGl0aW5nRG93bmNhc3RcIikuYWRkKFRnKHthc1dpZGdldDohMH0pKSxvLmZvcihcImRhdGFEb3duY2FzdFwiKS5hZGQoVGcoKSksby5hdHRyaWJ1dGVUb0F0dHJpYnV0ZSh7bW9kZWw6XCJjb2xzcGFuXCIsdmlldzpcImNvbHNwYW5cIn0pLG8uYXR0cmlidXRlVG9BdHRyaWJ1dGUoe21vZGVsOlwicm93c3BhblwiLHZpZXc6XCJyb3dzcGFuXCJ9KSxvLmZvcihcImVkaXRpbmdEb3duY2FzdFwiKS5hZGQoUGcoe2FzV2lkZ2V0OiEwfSkpLG8uZm9yKFwiZGF0YURvd25jYXN0XCIpLmFkZChQZygpKSxvLmZvcihcImVkaXRpbmdEb3duY2FzdFwiKS5hZGQoTWcoe2FzV2lkZ2V0OiEwfSkpLG8uZm9yKFwiZGF0YURvd25jYXN0XCIpLmFkZChNZygpKSxscCh0Lm1vZGVsLHQuZWRpdGluZyksdC5jb21tYW5kcy5hZGQoXCJpbnNlcnRUYWJsZVwiLG5ldyBxZyh0KSksdC5jb21tYW5kcy5hZGQoXCJpbnNlcnRUYWJsZVJvd0Fib3ZlXCIsbmV3IFdnKHQse29yZGVyOlwiYWJvdmVcIn0pKSx0LmNvbW1hbmRzLmFkZChcImluc2VydFRhYmxlUm93QmVsb3dcIixuZXcgV2codCx7b3JkZXI6XCJiZWxvd1wifSkpLHQuY29tbWFuZHMuYWRkKFwiaW5zZXJ0VGFibGVDb2x1bW5CZWZvcmVcIixuZXcgWWcodCx7b3JkZXI6XCJiZWZvcmVcIn0pKSx0LmNvbW1hbmRzLmFkZChcImluc2VydFRhYmxlQ29sdW1uQWZ0ZXJcIixuZXcgWWcodCx7b3JkZXI6XCJhZnRlclwifSkpLHQuY29tbWFuZHMuYWRkKFwicmVtb3ZlVGFibGVSb3dcIixuZXcgSmcodCkpLHQuY29tbWFuZHMuYWRkKFwicmVtb3ZlVGFibGVDb2x1bW5cIixuZXcgS2codCkpLHQuY29tbWFuZHMuYWRkKFwic3BsaXRUYWJsZUNlbGxWZXJ0aWNhbGx5XCIsbmV3IEdnKHQse2RpcmVjdGlvbjpcInZlcnRpY2FsbHlcIn0pKSx0LmNvbW1hbmRzLmFkZChcInNwbGl0VGFibGVDZWxsSG9yaXpvbnRhbGx5XCIsbmV3IEdnKHQse2RpcmVjdGlvbjpcImhvcml6b250YWxseVwifSkpLHQuY29tbWFuZHMuYWRkKFwibWVyZ2VUYWJsZUNlbGxSaWdodFwiLG5ldyAkZyh0LHtkaXJlY3Rpb246XCJyaWdodFwifSkpLHQuY29tbWFuZHMuYWRkKFwibWVyZ2VUYWJsZUNlbGxMZWZ0XCIsbmV3ICRnKHQse2RpcmVjdGlvbjpcImxlZnRcIn0pKSx0LmNvbW1hbmRzLmFkZChcIm1lcmdlVGFibGVDZWxsRG93blwiLG5ldyAkZyh0LHtkaXJlY3Rpb246XCJkb3duXCJ9KSksdC5jb21tYW5kcy5hZGQoXCJtZXJnZVRhYmxlQ2VsbFVwXCIsbmV3ICRnKHQse2RpcmVjdGlvbjpcInVwXCJ9KSksdC5jb21tYW5kcy5hZGQoXCJzZXRUYWJsZUNvbHVtbkhlYWRlclwiLG5ldyB0cCh0KSksdC5jb21tYW5kcy5hZGQoXCJzZXRUYWJsZVJvd0hlYWRlclwiLG5ldyBaZyh0KSksZXAoZSkscnAoZSksdGhpcy5lZGl0b3Iua2V5c3Ryb2tlcy5zZXQoXCJUYWJcIiwoLi4udCk9PnRoaXMuX2hhbmRsZVRhYk9uU2VsZWN0ZWRUYWJsZSguLi50KSx7cHJpb3JpdHk6XCJsb3dcIn0pLHRoaXMuZWRpdG9yLmtleXN0cm9rZXMuc2V0KFwiVGFiXCIsdGhpcy5fZ2V0VGFiSGFuZGxlcighMCkse3ByaW9yaXR5OlwibG93XCJ9KSx0aGlzLmVkaXRvci5rZXlzdHJva2VzLnNldChcIlNoaWZ0K1RhYlwiLHRoaXMuX2dldFRhYkhhbmRsZXIoITEpLHtwcmlvcml0eTpcImxvd1wifSl9c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVyblt6Z119X2hhbmRsZVRhYk9uU2VsZWN0ZWRUYWJsZSh0LGUpe2NvbnN0IG49dGhpcy5lZGl0b3Isbz1uLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbjtpZighby5pc0NvbGxhcHNlZCYmMT09PW8ucmFuZ2VDb3VudCYmby5nZXRGaXJzdFJhbmdlKCkuaXNGbGF0KXtjb25zdCB0PW8uZ2V0U2VsZWN0ZWRFbGVtZW50KCk7aWYoIXR8fCF0LmlzKFwidGFibGVcIikpcmV0dXJuO2UoKSxuLm1vZGVsLmNoYW5nZShlPT57ZS5zZXRTZWxlY3Rpb24ocXMuY3JlYXRlSW4odC5nZXRDaGlsZCgwKS5nZXRDaGlsZCgwKSkpfSl9fV9nZXRUYWJIYW5kbGVyKHQpe2NvbnN0IGU9dGhpcy5lZGl0b3I7cmV0dXJuKG4sbyk9Pntjb25zdCBpPWZnKFwidGFibGVDZWxsXCIsZS5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0Rmlyc3RQb3NpdGlvbigpKTtpZighaSlyZXR1cm47bygpO2NvbnN0IHI9aS5wYXJlbnQscz1yLnBhcmVudCxhPXMuZ2V0Q2hpbGRJbmRleChyKSxjPXIuZ2V0Q2hpbGRJbmRleChpKSxsPTA9PT1jO2lmKCF0JiZsJiYwPT09YSlyZXR1cm47Y29uc3QgZD1jPT09ci5jaGlsZENvdW50LTEsdT1hPT09cy5jaGlsZENvdW50LTE7bGV0IGg7aWYodCYmdSYmZCYmZS5wbHVnaW5zLmdldCh6ZykuaW5zZXJ0Um93cyhzLHthdDpzLmNoaWxkQ291bnR9KSx0JiZkKXtjb25zdCB0PXMuZ2V0Q2hpbGQoYSsxKTtoPXQuZ2V0Q2hpbGQoMCl9ZWxzZSBpZighdCYmbCl7Y29uc3QgdD1zLmdldENoaWxkKGEtMSk7aD10LmdldENoaWxkKHQuY2hpbGRDb3VudC0xKX1lbHNlIGg9ci5nZXRDaGlsZChjKyh0PzE6LTEpKTtlLm1vZGVsLmNoYW5nZSh0PT57dC5zZXRTZWxlY3Rpb24ocXMuY3JlYXRlSW4oaCkpfSl9fX1uKDEwNik7Y2xhc3MgbXAgZXh0ZW5kcyBBbHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTtjb25zdCBlPXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuaXRlbXM9dGhpcy5jcmVhdGVDb2xsZWN0aW9uKCksdGhpcy5zZXQoXCJyb3dzXCIsMCksdGhpcy5zZXQoXCJjb2x1bW5zXCIsMCksdGhpcy5iaW5kKFwibGFiZWxcIikudG8odGhpcyxcImNvbHVtbnNcIix0aGlzLFwicm93c1wiLCh0LGUpPT5gJHtlfSB4ICR7dH1gKSx0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJkaXZcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiXX0sY2hpbGRyZW46W3t0YWc6XCJkaXZcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJjay1pbnNlcnQtdGFibGUtZHJvcGRvd25fX2dyaWRcIl19LGNoaWxkcmVuOnRoaXMuaXRlbXN9LHt0YWc6XCJkaXZcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJjay1pbnNlcnQtdGFibGUtZHJvcGRvd25fX2xhYmVsXCJdfSxjaGlsZHJlbjpbe3RleHQ6ZS50byhcImxhYmVsXCIpfV19XSxvbjp7bW91c2Vkb3duOmUudG8odD0+e3QucHJldmVudERlZmF1bHQoKX0pLGNsaWNrOmUudG8oKCk9Pnt0aGlzLmZpcmUoXCJleGVjdXRlXCIpfSl9fSk7Zm9yKGxldCB0PTA7dDwxMDA7dCsrKXtjb25zdCBlPW5ldyBncDtlLm9uKFwib3ZlclwiLCgpPT57Y29uc3QgZT1NYXRoLmZsb29yKHQvMTApLG49dCUxMDt0aGlzLnNldChcInJvd3NcIixlKzEpLHRoaXMuc2V0KFwiY29sdW1uc1wiLG4rMSl9KSx0aGlzLml0ZW1zLmFkZChlKX10aGlzLm9uKFwiY2hhbmdlOmNvbHVtbnNcIiwoKT0+e3RoaXMuX2hpZ2hsaWdodEdyaWRCb3hlcygpfSksdGhpcy5vbihcImNoYW5nZTpyb3dzXCIsKCk9Pnt0aGlzLl9oaWdobGlnaHRHcmlkQm94ZXMoKX0pfWZvY3VzKCl7fWZvY3VzTGFzdCgpe31faGlnaGxpZ2h0R3JpZEJveGVzKCl7Y29uc3QgdD10aGlzLnJvd3MsZT10aGlzLmNvbHVtbnM7dGhpcy5pdGVtcy5tYXAoKG4sbyk9Pntjb25zdCBpPU1hdGguZmxvb3Ioby8xMCk8dCYmbyUxMDxlO24uc2V0KFwiaXNPblwiLGkpfSl9fWNsYXNzIGdwIGV4dGVuZHMgQWx7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7Y29uc3QgZT10aGlzLmJpbmRUZW1wbGF0ZTt0aGlzLnNldChcImlzT25cIiwhMSksdGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwiZGl2XCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2staW5zZXJ0LXRhYmxlLWRyb3Bkb3duLWdyaWQtYm94XCIsZS5pZihcImlzT25cIixcImNrLW9uXCIpXX0sb246e21vdXNlb3ZlcjplLnRvKFwib3ZlclwiKX19KX19dmFyIHBwPW4oMzcpLGJwPW4ubihwcCksd3A9bigzOCksX3A9bi5uKHdwKSx2cD1uKDM5KSxrcD1uLm4odnApLHlwPW4oNDApLHhwPW4ubih5cCk7Y2xhc3MgQXAgZXh0ZW5kcyBVbHtpbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXRoaXMuZWRpdG9yLnQ7dC51aS5jb21wb25lbnRGYWN0b3J5LmFkZChcImluc2VydFRhYmxlXCIsbj0+e2NvbnN0IG89dC5jb21tYW5kcy5nZXQoXCJpbnNlcnRUYWJsZVwiKSxpPWZmKG4pO2kuYmluZChcImlzRW5hYmxlZFwiKS50byhvKSxpLmJ1dHRvblZpZXcuc2V0KHtpY29uOmJwLmEsbGFiZWw6ZShcInNcIiksdG9vbHRpcDohMH0pO2NvbnN0IHI9bmV3IG1wKG4pO3JldHVybiBpLnBhbmVsVmlldy5jaGlsZHJlbi5hZGQociksci5kZWxlZ2F0ZShcImV4ZWN1dGVcIikudG8oaSksaS5idXR0b25WaWV3Lm9uKFwib3BlblwiLCgpPT57ci5yb3dzPTAsci5jb2x1bW5zPTB9KSxpLm9uKFwiZXhlY3V0ZVwiLCgpPT57dC5leGVjdXRlKFwiaW5zZXJ0VGFibGVcIix7cm93czpyLnJvd3MsY29sdW1uczpyLmNvbHVtbnN9KSx0LmVkaXRpbmcudmlldy5mb2N1cygpfSksaX0pLHQudWkuY29tcG9uZW50RmFjdG9yeS5hZGQoXCJ0YWJsZUNvbHVtblwiLHQ9Pntjb25zdCBuPVt7dHlwZTpcInN3aXRjaGJ1dHRvblwiLG1vZGVsOntjb21tYW5kTmFtZTpcInNldFRhYmxlQ29sdW1uSGVhZGVyXCIsbGFiZWw6ZShcInRcIiksYmluZElzT246ITB9fSx7dHlwZTpcInNlcGFyYXRvclwifSx7dHlwZTpcImJ1dHRvblwiLG1vZGVsOntjb21tYW5kTmFtZTpcImluc2VydFRhYmxlQ29sdW1uQmVmb3JlXCIsbGFiZWw6ZShcInVcIil9fSx7dHlwZTpcImJ1dHRvblwiLG1vZGVsOntjb21tYW5kTmFtZTpcImluc2VydFRhYmxlQ29sdW1uQWZ0ZXJcIixsYWJlbDplKFwidlwiKX19LHt0eXBlOlwiYnV0dG9uXCIsbW9kZWw6e2NvbW1hbmROYW1lOlwicmVtb3ZlVGFibGVDb2x1bW5cIixsYWJlbDplKFwid1wiKX19XTtyZXR1cm4gdGhpcy5fcHJlcGFyZURyb3Bkb3duKGUoXCJ4XCIpLF9wLmEsbix0KX0pLHQudWkuY29tcG9uZW50RmFjdG9yeS5hZGQoXCJ0YWJsZVJvd1wiLHQ9Pntjb25zdCBuPVt7dHlwZTpcInN3aXRjaGJ1dHRvblwiLG1vZGVsOntjb21tYW5kTmFtZTpcInNldFRhYmxlUm93SGVhZGVyXCIsbGFiZWw6ZShcInlcIiksYmluZElzT246ITB9fSx7dHlwZTpcInNlcGFyYXRvclwifSx7dHlwZTpcImJ1dHRvblwiLG1vZGVsOntjb21tYW5kTmFtZTpcImluc2VydFRhYmxlUm93QmVsb3dcIixsYWJlbDplKFwielwiKX19LHt0eXBlOlwiYnV0dG9uXCIsbW9kZWw6e2NvbW1hbmROYW1lOlwiaW5zZXJ0VGFibGVSb3dBYm92ZVwiLGxhYmVsOmUoXCJhYVwiKX19LHt0eXBlOlwiYnV0dG9uXCIsbW9kZWw6e2NvbW1hbmROYW1lOlwicmVtb3ZlVGFibGVSb3dcIixsYWJlbDplKFwiYWJcIil9fV07cmV0dXJuIHRoaXMuX3ByZXBhcmVEcm9wZG93bihlKFwiYWNcIiksa3AuYSxuLHQpfSksdC51aS5jb21wb25lbnRGYWN0b3J5LmFkZChcIm1lcmdlVGFibGVDZWxsc1wiLHQ9Pntjb25zdCBuPVt7dHlwZTpcImJ1dHRvblwiLG1vZGVsOntjb21tYW5kTmFtZTpcIm1lcmdlVGFibGVDZWxsVXBcIixsYWJlbDplKFwiYWRcIil9fSx7dHlwZTpcImJ1dHRvblwiLG1vZGVsOntjb21tYW5kTmFtZTpcIm1lcmdlVGFibGVDZWxsUmlnaHRcIixsYWJlbDplKFwiYWVcIil9fSx7dHlwZTpcImJ1dHRvblwiLG1vZGVsOntjb21tYW5kTmFtZTpcIm1lcmdlVGFibGVDZWxsRG93blwiLGxhYmVsOmUoXCJhZlwiKX19LHt0eXBlOlwiYnV0dG9uXCIsbW9kZWw6e2NvbW1hbmROYW1lOlwibWVyZ2VUYWJsZUNlbGxMZWZ0XCIsbGFiZWw6ZShcImFnXCIpfX0se3R5cGU6XCJzZXBhcmF0b3JcIn0se3R5cGU6XCJidXR0b25cIixtb2RlbDp7Y29tbWFuZE5hbWU6XCJzcGxpdFRhYmxlQ2VsbFZlcnRpY2FsbHlcIixsYWJlbDplKFwiYWhcIil9fSx7dHlwZTpcImJ1dHRvblwiLG1vZGVsOntjb21tYW5kTmFtZTpcInNwbGl0VGFibGVDZWxsSG9yaXpvbnRhbGx5XCIsbGFiZWw6ZShcImFpXCIpfX1dO3JldHVybiB0aGlzLl9wcmVwYXJlRHJvcGRvd24oZShcImFqXCIpLHhwLmEsbix0KX0pfV9wcmVwYXJlRHJvcGRvd24odCxlLG4sbyl7Y29uc3QgaT10aGlzLmVkaXRvcixyPWZmKG8pLHM9W10sYT1uZXcgdGk7Zm9yKGNvbnN0IHQgb2YgbilDcCh0LGkscyxhKTtyZXR1cm4gbWYocixhKSxyLmJ1dHRvblZpZXcuc2V0KHtsYWJlbDp0LGljb246ZSx0b29sdGlwOiEwfSksci5iaW5kKFwiaXNFbmFibGVkXCIpLnRvTWFueShzLFwiaXNFbmFibGVkXCIsKC4uLnQpPT50LnNvbWUodD0+dCkpLHRoaXMubGlzdGVuVG8ocixcImV4ZWN1dGVcIix0PT57aS5leGVjdXRlKHQuc291cmNlLmNvbW1hbmROYW1lKSxpLmVkaXRpbmcudmlldy5mb2N1cygpfSkscn19ZnVuY3Rpb24gQ3AodCxlLG4sbyl7Y29uc3QgaT10Lm1vZGVsPW5ldyBuZih0Lm1vZGVsKSx7Y29tbWFuZE5hbWU6cixiaW5kSXNPbjpzfT10Lm1vZGVsO2lmKFwic2VwYXJhdG9yXCIhPT10LnR5cGUpe2NvbnN0IHQ9ZS5jb21tYW5kcy5nZXQocik7bi5wdXNoKHQpLGkuc2V0KHtjb21tYW5kTmFtZTpyfSksaS5iaW5kKFwiaXNFbmFibGVkXCIpLnRvKHQpLHMmJmkuYmluZChcImlzT25cIikudG8odCxcInZhbHVlXCIpfWkuc2V0KHt3aXRoVGV4dDohMH0pLG8uYWRkKHQpfW4oMTA4KTtuLmQoZSxcImRlZmF1bHRcIixmdW5jdGlvbigpe3JldHVybiBUcH0pO2NsYXNzIFRwIGV4dGVuZHMgQmx7fVRwLmJ1aWx0aW5QbHVnaW5zPVtjbGFzcyBleHRlbmRzIFVse3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bWWwsWmwsbmQsX2QsV2RdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiRXNzZW50aWFsc1wifX0sY2xhc3MgZXh0ZW5kcyBVbHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuWyRkXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkNLRmluZGVyVXBsb2FkQWRhcHRlclwifWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLmNvbmZpZy5nZXQoXCJja2ZpbmRlci51cGxvYWRVcmxcIik7dCYmKHRoaXMuZWRpdG9yLnBsdWdpbnMuZ2V0KCRkKS5jcmVhdGVVcGxvYWRBZGFwdGVyPShlPT5uZXcgdHUoZSx0LHRoaXMuZWRpdG9yLnQpKSl9fSxjbGFzcyBleHRlbmRzIFVse3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiQXV0b2Zvcm1hdFwifWFmdGVySW5pdCgpe3RoaXMuX2FkZExpc3RBdXRvZm9ybWF0cygpLHRoaXMuX2FkZEJhc2ljU3R5bGVzQXV0b2Zvcm1hdHMoKSx0aGlzLl9hZGRIZWFkaW5nQXV0b2Zvcm1hdHMoKSx0aGlzLl9hZGRCbG9ja1F1b3RlQXV0b2Zvcm1hdHMoKX1fYWRkTGlzdEF1dG9mb3JtYXRzKCl7Y29uc3QgdD10aGlzLmVkaXRvci5jb21tYW5kczt0LmdldChcImJ1bGxldGVkTGlzdFwiKSYmbmV3IGV1KHRoaXMuZWRpdG9yLC9eWyotXVxccyQvLFwiYnVsbGV0ZWRMaXN0XCIpLHQuZ2V0KFwibnVtYmVyZWRMaXN0XCIpJiZuZXcgZXUodGhpcy5lZGl0b3IsL15cXGQrWy58KV1cXHMkLyxcIm51bWJlcmVkTGlzdFwiKX1fYWRkQmFzaWNTdHlsZXNBdXRvZm9ybWF0cygpe2NvbnN0IHQ9dGhpcy5lZGl0b3IuY29tbWFuZHM7dC5nZXQoXCJib2xkXCIpJiYobmV3IG51KHRoaXMuZWRpdG9yLC8oXFwqXFwqKShbXipdKykoXFwqXFwqKSQvZyxcImJvbGRcIiksbmV3IG51KHRoaXMuZWRpdG9yLC8oX18pKFteX10rKShfXykkL2csXCJib2xkXCIpKSx0LmdldChcIml0YWxpY1wiKSYmKG5ldyBudSh0aGlzLmVkaXRvciwvKD86XnxbXipdKShcXCopKFteKl9dKykoXFwqKSQvZyxcIml0YWxpY1wiKSxuZXcgbnUodGhpcy5lZGl0b3IsLyg/Ol58W15fXSkoXykoW15fXSspKF8pJC9nLFwiaXRhbGljXCIpKSx0LmdldChcImNvZGVcIikmJm5ldyBudSh0aGlzLmVkaXRvciwvKGApKFteYF0rKShgKSQvZyxcImNvZGVcIil9X2FkZEhlYWRpbmdBdXRvZm9ybWF0cygpe2NvbnN0IHQ9dGhpcy5lZGl0b3IuY29tbWFuZHMuZ2V0KFwiaGVhZGluZ1wiKTt0JiZ0Lm1vZGVsRWxlbWVudHMuZmlsdGVyKHQ9PnQubWF0Y2goL15oZWFkaW5nWzEtNl0kLykpLmZvckVhY2godD0+e2NvbnN0IGU9dFs3XSxuPW5ldyBSZWdFeHAoYF4oI3ske2V9fSlcXFxccyRgKTtuZXcgZXUodGhpcy5lZGl0b3IsbiwoKT0+e3RoaXMuZWRpdG9yLmV4ZWN1dGUoXCJoZWFkaW5nXCIse3ZhbHVlOnR9KX0pfSl9X2FkZEJsb2NrUXVvdGVBdXRvZm9ybWF0cygpe3RoaXMuZWRpdG9yLmNvbW1hbmRzLmdldChcImJsb2NrUXVvdGVcIikmJm5ldyBldSh0aGlzLmVkaXRvciwvXj5cXHMkLyxcImJsb2NrUXVvdGVcIil9fSxjbGFzcyBleHRlbmRzIFVse3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bc3UsZHVdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiQm9sZFwifX0sY2xhc3MgZXh0ZW5kcyBVbHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW2h1LHB1XX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkl0YWxpY1wifX0sY2xhc3MgZXh0ZW5kcyBVbHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW3l1LEN1XX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkJsb2NrUXVvdGVcIn19LGNsYXNzIGV4dGVuZHMgVWx7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltPdSxDaCxZaF19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJFYXN5SW1hZ2VcIn19LGNsYXNzIGV4dGVuZHMgVWx7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltlZixnZl19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJIZWFkaW5nXCJ9fSxDaCxjbGFzcyBleHRlbmRzIFVse3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5beWZdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiSW1hZ2VDYXB0aW9uXCJ9fSxjbGFzcyBleHRlbmRzIFVse3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bQmYsVWZdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiSW1hZ2VTdHlsZVwifX0sY2xhc3MgZXh0ZW5kcyBVbHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW0hmXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkltYWdlVG9vbGJhclwifWFmdGVySW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7dC5wbHVnaW5zLmdldChIZikucmVnaXN0ZXIoXCJpbWFnZVwiLHtpdGVtczp0LmNvbmZpZy5nZXQoXCJpbWFnZS50b29sYmFyXCIpfHxbXSx2aXNpYmxlV2hlbjp0aH0pfX0sWWgsY2xhc3MgZXh0ZW5kcyBVbHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW2FtLHdtXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkxpbmtcIn19LGNsYXNzIGV4dGVuZHMgVWx7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltVbSwkbV19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJMaXN0XCJ9fSxjbGFzcyBleHRlbmRzIFVse3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bc2csaGcsY2csc2hdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiTWVkaWFFbWJlZFwifX0sUWgsY2xhc3MgZXh0ZW5kcyBVbHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW2ZwLEFwLHNoXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIlRhYmxlXCJ9fSxjbGFzcyBleHRlbmRzIFVse3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bSGZdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiVGFibGVUb29sYmFyXCJ9YWZ0ZXJJbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQucGx1Z2lucy5nZXQoSGYpLG49dC5jb25maWcuZ2V0KFwidGFibGUuY29udGVudFRvb2xiYXJcIiksbz10LmNvbmZpZy5nZXQoXCJ0YWJsZS50b29sYmFyXCIpLGk9dC5jb25maWcuZ2V0KFwidGFibGUudGFibGVUb29sYmFyXCIpO28mJmNvbnNvbGUud2FybihcImBjb25maWcudGFibGUudG9vbGJhcmAgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuIFVzZSBgY29uZmlnLnRhYmxlLmNvbnRlbnRUb29sYmFyYCBpbnN0ZWFkLlwiKSwobnx8bykmJmUucmVnaXN0ZXIoXCJ0YWJsZUNvbnRlbnRcIix7aXRlbXM6bnx8byx2aXNpYmxlV2hlbjp4Z30pLGkmJmUucmVnaXN0ZXIoXCJ0YWJsZVwiLHtpdGVtczppLHZpc2libGVXaGVuOnlnfSl9fV0sVHAuZGVmYXVsdENvbmZpZz17dG9vbGJhcjp7aXRlbXM6W1wiaGVhZGluZ1wiLFwifFwiLFwiYm9sZFwiLFwiaXRhbGljXCIsXCJsaW5rXCIsXCJidWxsZXRlZExpc3RcIixcIm51bWJlcmVkTGlzdFwiLFwiaW1hZ2VVcGxvYWRcIixcImJsb2NrUXVvdGVcIixcImluc2VydFRhYmxlXCIsXCJtZWRpYUVtYmVkXCIsXCJ1bmRvXCIsXCJyZWRvXCJdfSxpbWFnZTp7dG9vbGJhcjpbXCJpbWFnZVN0eWxlOmZ1bGxcIixcImltYWdlU3R5bGU6c2lkZVwiLFwifFwiLFwiaW1hZ2VUZXh0QWx0ZXJuYXRpdmVcIl19LHRhYmxlOntjb250ZW50VG9vbGJhcjpbXCJ0YWJsZUNvbHVtblwiLFwidGFibGVSb3dcIixcIm1lcmdlVGFibGVDZWxsc1wiXX0sbGFuZ3VhZ2U6XCJlblwifX1dKS5kZWZhdWx0fSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ja2VkaXRvci5qcy5tYXAiLCIvKiFcbiAqIGpRdWVyeSBKYXZhU2NyaXB0IExpYnJhcnkgdjMuMy4xXG4gKiBodHRwczovL2pxdWVyeS5jb20vXG4gKlxuICogSW5jbHVkZXMgU2l6emxlLmpzXG4gKiBodHRwczovL3NpenpsZWpzLmNvbS9cbiAqXG4gKiBDb3B5cmlnaHQgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIGh0dHBzOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXG4gKlxuICogRGF0ZTogMjAxOC0wMS0yMFQxNzoyNFpcbiAqL1xuKCBmdW5jdGlvbiggZ2xvYmFsLCBmYWN0b3J5ICkge1xuXG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGlmICggdHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHQvLyBGb3IgQ29tbW9uSlMgYW5kIENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHdoZXJlIGEgcHJvcGVyIGB3aW5kb3dgXG5cdFx0Ly8gaXMgcHJlc2VudCwgZXhlY3V0ZSB0aGUgZmFjdG9yeSBhbmQgZ2V0IGpRdWVyeS5cblx0XHQvLyBGb3IgZW52aXJvbm1lbnRzIHRoYXQgZG8gbm90IGhhdmUgYSBgd2luZG93YCB3aXRoIGEgYGRvY3VtZW50YFxuXHRcdC8vIChzdWNoIGFzIE5vZGUuanMpLCBleHBvc2UgYSBmYWN0b3J5IGFzIG1vZHVsZS5leHBvcnRzLlxuXHRcdC8vIFRoaXMgYWNjZW50dWF0ZXMgdGhlIG5lZWQgZm9yIHRoZSBjcmVhdGlvbiBvZiBhIHJlYWwgYHdpbmRvd2AuXG5cdFx0Ly8gZS5nLiB2YXIgalF1ZXJ5ID0gcmVxdWlyZShcImpxdWVyeVwiKSh3aW5kb3cpO1xuXHRcdC8vIFNlZSB0aWNrZXQgIzE0NTQ5IGZvciBtb3JlIGluZm8uXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBnbG9iYWwuZG9jdW1lbnQgP1xuXHRcdFx0ZmFjdG9yeSggZ2xvYmFsLCB0cnVlICkgOlxuXHRcdFx0ZnVuY3Rpb24oIHcgKSB7XG5cdFx0XHRcdGlmICggIXcuZG9jdW1lbnQgKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCBcImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnRcIiApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiBmYWN0b3J5KCB3ICk7XG5cdFx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdGZhY3RvcnkoIGdsb2JhbCApO1xuXHR9XG5cbi8vIFBhc3MgdGhpcyBpZiB3aW5kb3cgaXMgbm90IGRlZmluZWQgeWV0XG59ICkoIHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB0aGlzLCBmdW5jdGlvbiggd2luZG93LCBub0dsb2JhbCApIHtcblxuLy8gRWRnZSA8PSAxMiAtIDEzKywgRmlyZWZveCA8PTE4IC0gNDUrLCBJRSAxMCAtIDExLCBTYWZhcmkgNS4xIC0gOSssIGlPUyA2IC0gOS4xXG4vLyB0aHJvdyBleGNlcHRpb25zIHdoZW4gbm9uLXN0cmljdCBjb2RlIChlLmcuLCBBU1AuTkVUIDQuNSkgYWNjZXNzZXMgc3RyaWN0IG1vZGVcbi8vIGFyZ3VtZW50cy5jYWxsZWUuY2FsbGVyICh0cmFjLTEzMzM1KS4gQnV0IGFzIG9mIGpRdWVyeSAzLjAgKDIwMTYpLCBzdHJpY3QgbW9kZSBzaG91bGQgYmUgY29tbW9uXG4vLyBlbm91Z2ggdGhhdCBhbGwgc3VjaCBhdHRlbXB0cyBhcmUgZ3VhcmRlZCBpbiBhIHRyeSBibG9jay5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgYXJyID0gW107XG5cbnZhciBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDtcblxudmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xuXG52YXIgc2xpY2UgPSBhcnIuc2xpY2U7XG5cbnZhciBjb25jYXQgPSBhcnIuY29uY2F0O1xuXG52YXIgcHVzaCA9IGFyci5wdXNoO1xuXG52YXIgaW5kZXhPZiA9IGFyci5pbmRleE9mO1xuXG52YXIgY2xhc3MydHlwZSA9IHt9O1xuXG52YXIgdG9TdHJpbmcgPSBjbGFzczJ0eXBlLnRvU3RyaW5nO1xuXG52YXIgaGFzT3duID0gY2xhc3MydHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxudmFyIGZuVG9TdHJpbmcgPSBoYXNPd24udG9TdHJpbmc7XG5cbnZhciBPYmplY3RGdW5jdGlvblN0cmluZyA9IGZuVG9TdHJpbmcuY2FsbCggT2JqZWN0ICk7XG5cbnZhciBzdXBwb3J0ID0ge307XG5cbnZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gaXNGdW5jdGlvbiggb2JqICkge1xuXG4gICAgICAvLyBTdXBwb3J0OiBDaHJvbWUgPD01NywgRmlyZWZveCA8PTUyXG4gICAgICAvLyBJbiBzb21lIGJyb3dzZXJzLCB0eXBlb2YgcmV0dXJucyBcImZ1bmN0aW9uXCIgZm9yIEhUTUwgPG9iamVjdD4gZWxlbWVudHNcbiAgICAgIC8vIChpLmUuLCBgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwib2JqZWN0XCIgKSA9PT0gXCJmdW5jdGlvblwiYCkuXG4gICAgICAvLyBXZSBkb24ndCB3YW50IHRvIGNsYXNzaWZ5ICphbnkqIERPTSBub2RlIGFzIGEgZnVuY3Rpb24uXG4gICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBvYmoubm9kZVR5cGUgIT09IFwibnVtYmVyXCI7XG4gIH07XG5cblxudmFyIGlzV2luZG93ID0gZnVuY3Rpb24gaXNXaW5kb3coIG9iaiApIHtcblx0XHRyZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqID09PSBvYmoud2luZG93O1xuXHR9O1xuXG5cblxuXG5cdHZhciBwcmVzZXJ2ZWRTY3JpcHRBdHRyaWJ1dGVzID0ge1xuXHRcdHR5cGU6IHRydWUsXG5cdFx0c3JjOiB0cnVlLFxuXHRcdG5vTW9kdWxlOiB0cnVlXG5cdH07XG5cblx0ZnVuY3Rpb24gRE9NRXZhbCggY29kZSwgZG9jLCBub2RlICkge1xuXHRcdGRvYyA9IGRvYyB8fCBkb2N1bWVudDtcblxuXHRcdHZhciBpLFxuXHRcdFx0c2NyaXB0ID0gZG9jLmNyZWF0ZUVsZW1lbnQoIFwic2NyaXB0XCIgKTtcblxuXHRcdHNjcmlwdC50ZXh0ID0gY29kZTtcblx0XHRpZiAoIG5vZGUgKSB7XG5cdFx0XHRmb3IgKCBpIGluIHByZXNlcnZlZFNjcmlwdEF0dHJpYnV0ZXMgKSB7XG5cdFx0XHRcdGlmICggbm9kZVsgaSBdICkge1xuXHRcdFx0XHRcdHNjcmlwdFsgaSBdID0gbm9kZVsgaSBdO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGRvYy5oZWFkLmFwcGVuZENoaWxkKCBzY3JpcHQgKS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBzY3JpcHQgKTtcblx0fVxuXG5cbmZ1bmN0aW9uIHRvVHlwZSggb2JqICkge1xuXHRpZiAoIG9iaiA9PSBudWxsICkge1xuXHRcdHJldHVybiBvYmogKyBcIlwiO1xuXHR9XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTIuMyBvbmx5IChmdW5jdGlvbmlzaCBSZWdFeHApXG5cdHJldHVybiB0eXBlb2Ygb2JqID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBvYmogPT09IFwiZnVuY3Rpb25cIiA/XG5cdFx0Y2xhc3MydHlwZVsgdG9TdHJpbmcuY2FsbCggb2JqICkgXSB8fCBcIm9iamVjdFwiIDpcblx0XHR0eXBlb2Ygb2JqO1xufVxuLyogZ2xvYmFsIFN5bWJvbCAqL1xuLy8gRGVmaW5pbmcgdGhpcyBnbG9iYWwgaW4gLmVzbGludHJjLmpzb24gd291bGQgY3JlYXRlIGEgZGFuZ2VyIG9mIHVzaW5nIHRoZSBnbG9iYWxcbi8vIHVuZ3VhcmRlZCBpbiBhbm90aGVyIHBsYWNlLCBpdCBzZWVtcyBzYWZlciB0byBkZWZpbmUgZ2xvYmFsIG9ubHkgZm9yIHRoaXMgbW9kdWxlXG5cblxuXG52YXJcblx0dmVyc2lvbiA9IFwiMy4zLjFcIixcblxuXHQvLyBEZWZpbmUgYSBsb2NhbCBjb3B5IG9mIGpRdWVyeVxuXHRqUXVlcnkgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQgKSB7XG5cblx0XHQvLyBUaGUgalF1ZXJ5IG9iamVjdCBpcyBhY3R1YWxseSBqdXN0IHRoZSBpbml0IGNvbnN0cnVjdG9yICdlbmhhbmNlZCdcblx0XHQvLyBOZWVkIGluaXQgaWYgalF1ZXJ5IGlzIGNhbGxlZCAoanVzdCBhbGxvdyBlcnJvciB0byBiZSB0aHJvd24gaWYgbm90IGluY2x1ZGVkKVxuXHRcdHJldHVybiBuZXcgalF1ZXJ5LmZuLmluaXQoIHNlbGVjdG9yLCBjb250ZXh0ICk7XG5cdH0sXG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5XG5cdC8vIE1ha2Ugc3VyZSB3ZSB0cmltIEJPTSBhbmQgTkJTUFxuXHRydHJpbSA9IC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZztcblxualF1ZXJ5LmZuID0galF1ZXJ5LnByb3RvdHlwZSA9IHtcblxuXHQvLyBUaGUgY3VycmVudCB2ZXJzaW9uIG9mIGpRdWVyeSBiZWluZyB1c2VkXG5cdGpxdWVyeTogdmVyc2lvbixcblxuXHRjb25zdHJ1Y3RvcjogalF1ZXJ5LFxuXG5cdC8vIFRoZSBkZWZhdWx0IGxlbmd0aCBvZiBhIGpRdWVyeSBvYmplY3QgaXMgMFxuXHRsZW5ndGg6IDAsXG5cblx0dG9BcnJheTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNsaWNlLmNhbGwoIHRoaXMgKTtcblx0fSxcblxuXHQvLyBHZXQgdGhlIE50aCBlbGVtZW50IGluIHRoZSBtYXRjaGVkIGVsZW1lbnQgc2V0IE9SXG5cdC8vIEdldCB0aGUgd2hvbGUgbWF0Y2hlZCBlbGVtZW50IHNldCBhcyBhIGNsZWFuIGFycmF5XG5cdGdldDogZnVuY3Rpb24oIG51bSApIHtcblxuXHRcdC8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIGluIGEgY2xlYW4gYXJyYXlcblx0XHRpZiAoIG51bSA9PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIHNsaWNlLmNhbGwoIHRoaXMgKTtcblx0XHR9XG5cblx0XHQvLyBSZXR1cm4ganVzdCB0aGUgb25lIGVsZW1lbnQgZnJvbSB0aGUgc2V0XG5cdFx0cmV0dXJuIG51bSA8IDAgPyB0aGlzWyBudW0gKyB0aGlzLmxlbmd0aCBdIDogdGhpc1sgbnVtIF07XG5cdH0sXG5cblx0Ly8gVGFrZSBhbiBhcnJheSBvZiBlbGVtZW50cyBhbmQgcHVzaCBpdCBvbnRvIHRoZSBzdGFja1xuXHQvLyAocmV0dXJuaW5nIHRoZSBuZXcgbWF0Y2hlZCBlbGVtZW50IHNldClcblx0cHVzaFN0YWNrOiBmdW5jdGlvbiggZWxlbXMgKSB7XG5cblx0XHQvLyBCdWlsZCBhIG5ldyBqUXVlcnkgbWF0Y2hlZCBlbGVtZW50IHNldFxuXHRcdHZhciByZXQgPSBqUXVlcnkubWVyZ2UoIHRoaXMuY29uc3RydWN0b3IoKSwgZWxlbXMgKTtcblxuXHRcdC8vIEFkZCB0aGUgb2xkIG9iamVjdCBvbnRvIHRoZSBzdGFjayAoYXMgYSByZWZlcmVuY2UpXG5cdFx0cmV0LnByZXZPYmplY3QgPSB0aGlzO1xuXG5cdFx0Ly8gUmV0dXJuIHRoZSBuZXdseS1mb3JtZWQgZWxlbWVudCBzZXRcblx0XHRyZXR1cm4gcmV0O1xuXHR9LFxuXG5cdC8vIEV4ZWN1dGUgYSBjYWxsYmFjayBmb3IgZXZlcnkgZWxlbWVudCBpbiB0aGUgbWF0Y2hlZCBzZXQuXG5cdGVhY2g6IGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmVhY2goIHRoaXMsIGNhbGxiYWNrICk7XG5cdH0sXG5cblx0bWFwOiBmdW5jdGlvbiggY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqUXVlcnkubWFwKCB0aGlzLCBmdW5jdGlvbiggZWxlbSwgaSApIHtcblx0XHRcdHJldHVybiBjYWxsYmFjay5jYWxsKCBlbGVtLCBpLCBlbGVtICk7XG5cdFx0fSApICk7XG5cdH0sXG5cblx0c2xpY2U6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggc2xpY2UuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApICk7XG5cdH0sXG5cblx0Zmlyc3Q6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmVxKCAwICk7XG5cdH0sXG5cblx0bGFzdDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuZXEoIC0xICk7XG5cdH0sXG5cblx0ZXE6IGZ1bmN0aW9uKCBpICkge1xuXHRcdHZhciBsZW4gPSB0aGlzLmxlbmd0aCxcblx0XHRcdGogPSAraSArICggaSA8IDAgPyBsZW4gOiAwICk7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqID49IDAgJiYgaiA8IGxlbiA/IFsgdGhpc1sgaiBdIF0gOiBbXSApO1xuXHR9LFxuXG5cdGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMucHJldk9iamVjdCB8fCB0aGlzLmNvbnN0cnVjdG9yKCk7XG5cdH0sXG5cblx0Ly8gRm9yIGludGVybmFsIHVzZSBvbmx5LlxuXHQvLyBCZWhhdmVzIGxpa2UgYW4gQXJyYXkncyBtZXRob2QsIG5vdCBsaWtlIGEgalF1ZXJ5IG1ldGhvZC5cblx0cHVzaDogcHVzaCxcblx0c29ydDogYXJyLnNvcnQsXG5cdHNwbGljZTogYXJyLnNwbGljZVxufTtcblxualF1ZXJ5LmV4dGVuZCA9IGpRdWVyeS5mbi5leHRlbmQgPSBmdW5jdGlvbigpIHtcblx0dmFyIG9wdGlvbnMsIG5hbWUsIHNyYywgY29weSwgY29weUlzQXJyYXksIGNsb25lLFxuXHRcdHRhcmdldCA9IGFyZ3VtZW50c1sgMCBdIHx8IHt9LFxuXHRcdGkgPSAxLFxuXHRcdGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG5cdFx0ZGVlcCA9IGZhbHNlO1xuXG5cdC8vIEhhbmRsZSBhIGRlZXAgY29weSBzaXR1YXRpb25cblx0aWYgKCB0eXBlb2YgdGFyZ2V0ID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRkZWVwID0gdGFyZ2V0O1xuXG5cdFx0Ly8gU2tpcCB0aGUgYm9vbGVhbiBhbmQgdGhlIHRhcmdldFxuXHRcdHRhcmdldCA9IGFyZ3VtZW50c1sgaSBdIHx8IHt9O1xuXHRcdGkrKztcblx0fVxuXG5cdC8vIEhhbmRsZSBjYXNlIHdoZW4gdGFyZ2V0IGlzIGEgc3RyaW5nIG9yIHNvbWV0aGluZyAocG9zc2libGUgaW4gZGVlcCBjb3B5KVxuXHRpZiAoIHR5cGVvZiB0YXJnZXQgIT09IFwib2JqZWN0XCIgJiYgIWlzRnVuY3Rpb24oIHRhcmdldCApICkge1xuXHRcdHRhcmdldCA9IHt9O1xuXHR9XG5cblx0Ly8gRXh0ZW5kIGpRdWVyeSBpdHNlbGYgaWYgb25seSBvbmUgYXJndW1lbnQgaXMgcGFzc2VkXG5cdGlmICggaSA9PT0gbGVuZ3RoICkge1xuXHRcdHRhcmdldCA9IHRoaXM7XG5cdFx0aS0tO1xuXHR9XG5cblx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cblx0XHQvLyBPbmx5IGRlYWwgd2l0aCBub24tbnVsbC91bmRlZmluZWQgdmFsdWVzXG5cdFx0aWYgKCAoIG9wdGlvbnMgPSBhcmd1bWVudHNbIGkgXSApICE9IG51bGwgKSB7XG5cblx0XHRcdC8vIEV4dGVuZCB0aGUgYmFzZSBvYmplY3Rcblx0XHRcdGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcblx0XHRcdFx0c3JjID0gdGFyZ2V0WyBuYW1lIF07XG5cdFx0XHRcdGNvcHkgPSBvcHRpb25zWyBuYW1lIF07XG5cblx0XHRcdFx0Ly8gUHJldmVudCBuZXZlci1lbmRpbmcgbG9vcFxuXHRcdFx0XHRpZiAoIHRhcmdldCA9PT0gY29weSApIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFJlY3Vyc2UgaWYgd2UncmUgbWVyZ2luZyBwbGFpbiBvYmplY3RzIG9yIGFycmF5c1xuXHRcdFx0XHRpZiAoIGRlZXAgJiYgY29weSAmJiAoIGpRdWVyeS5pc1BsYWluT2JqZWN0KCBjb3B5ICkgfHxcblx0XHRcdFx0XHQoIGNvcHlJc0FycmF5ID0gQXJyYXkuaXNBcnJheSggY29weSApICkgKSApIHtcblxuXHRcdFx0XHRcdGlmICggY29weUlzQXJyYXkgKSB7XG5cdFx0XHRcdFx0XHRjb3B5SXNBcnJheSA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmMgJiYgQXJyYXkuaXNBcnJheSggc3JjICkgPyBzcmMgOiBbXTtcblxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjbG9uZSA9IHNyYyAmJiBqUXVlcnkuaXNQbGFpbk9iamVjdCggc3JjICkgPyBzcmMgOiB7fTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBOZXZlciBtb3ZlIG9yaWdpbmFsIG9iamVjdHMsIGNsb25lIHRoZW1cblx0XHRcdFx0XHR0YXJnZXRbIG5hbWUgXSA9IGpRdWVyeS5leHRlbmQoIGRlZXAsIGNsb25lLCBjb3B5ICk7XG5cblx0XHRcdFx0Ly8gRG9uJ3QgYnJpbmcgaW4gdW5kZWZpbmVkIHZhbHVlc1xuXHRcdFx0XHR9IGVsc2UgaWYgKCBjb3B5ICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdFx0dGFyZ2V0WyBuYW1lIF0gPSBjb3B5O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmV0dXJuIHRoZSBtb2RpZmllZCBvYmplY3Rcblx0cmV0dXJuIHRhcmdldDtcbn07XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHQvLyBVbmlxdWUgZm9yIGVhY2ggY29weSBvZiBqUXVlcnkgb24gdGhlIHBhZ2Vcblx0ZXhwYW5kbzogXCJqUXVlcnlcIiArICggdmVyc2lvbiArIE1hdGgucmFuZG9tKCkgKS5yZXBsYWNlKCAvXFxEL2csIFwiXCIgKSxcblxuXHQvLyBBc3N1bWUgalF1ZXJ5IGlzIHJlYWR5IHdpdGhvdXQgdGhlIHJlYWR5IG1vZHVsZVxuXHRpc1JlYWR5OiB0cnVlLFxuXG5cdGVycm9yOiBmdW5jdGlvbiggbXNnICkge1xuXHRcdHRocm93IG5ldyBFcnJvciggbXNnICk7XG5cdH0sXG5cblx0bm9vcDogZnVuY3Rpb24oKSB7fSxcblxuXHRpc1BsYWluT2JqZWN0OiBmdW5jdGlvbiggb2JqICkge1xuXHRcdHZhciBwcm90bywgQ3RvcjtcblxuXHRcdC8vIERldGVjdCBvYnZpb3VzIG5lZ2F0aXZlc1xuXHRcdC8vIFVzZSB0b1N0cmluZyBpbnN0ZWFkIG9mIGpRdWVyeS50eXBlIHRvIGNhdGNoIGhvc3Qgb2JqZWN0c1xuXHRcdGlmICggIW9iaiB8fCB0b1N0cmluZy5jYWxsKCBvYmogKSAhPT0gXCJbb2JqZWN0IE9iamVjdF1cIiApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRwcm90byA9IGdldFByb3RvKCBvYmogKTtcblxuXHRcdC8vIE9iamVjdHMgd2l0aCBubyBwcm90b3R5cGUgKGUuZy4sIGBPYmplY3QuY3JlYXRlKCBudWxsIClgKSBhcmUgcGxhaW5cblx0XHRpZiAoICFwcm90byApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdC8vIE9iamVjdHMgd2l0aCBwcm90b3R5cGUgYXJlIHBsYWluIGlmZiB0aGV5IHdlcmUgY29uc3RydWN0ZWQgYnkgYSBnbG9iYWwgT2JqZWN0IGZ1bmN0aW9uXG5cdFx0Q3RvciA9IGhhc093bi5jYWxsKCBwcm90bywgXCJjb25zdHJ1Y3RvclwiICkgJiYgcHJvdG8uY29uc3RydWN0b3I7XG5cdFx0cmV0dXJuIHR5cGVvZiBDdG9yID09PSBcImZ1bmN0aW9uXCIgJiYgZm5Ub1N0cmluZy5jYWxsKCBDdG9yICkgPT09IE9iamVjdEZ1bmN0aW9uU3RyaW5nO1xuXHR9LFxuXG5cdGlzRW1wdHlPYmplY3Q6IGZ1bmN0aW9uKCBvYmogKSB7XG5cblx0XHQvKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuXHRcdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZXNsaW50L2VzbGludC9pc3N1ZXMvNjEyNVxuXHRcdHZhciBuYW1lO1xuXG5cdFx0Zm9yICggbmFtZSBpbiBvYmogKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdC8vIEV2YWx1YXRlcyBhIHNjcmlwdCBpbiBhIGdsb2JhbCBjb250ZXh0XG5cdGdsb2JhbEV2YWw6IGZ1bmN0aW9uKCBjb2RlICkge1xuXHRcdERPTUV2YWwoIGNvZGUgKTtcblx0fSxcblxuXHRlYWNoOiBmdW5jdGlvbiggb2JqLCBjYWxsYmFjayApIHtcblx0XHR2YXIgbGVuZ3RoLCBpID0gMDtcblxuXHRcdGlmICggaXNBcnJheUxpa2UoIG9iaiApICkge1xuXHRcdFx0bGVuZ3RoID0gb2JqLmxlbmd0aDtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrLmNhbGwoIG9ialsgaSBdLCBpLCBvYmpbIGkgXSApID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKCBpIGluIG9iaiApIHtcblx0XHRcdFx0aWYgKCBjYWxsYmFjay5jYWxsKCBvYmpbIGkgXSwgaSwgb2JqWyBpIF0gKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gb2JqO1xuXHR9LFxuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seVxuXHR0cmltOiBmdW5jdGlvbiggdGV4dCApIHtcblx0XHRyZXR1cm4gdGV4dCA9PSBudWxsID9cblx0XHRcdFwiXCIgOlxuXHRcdFx0KCB0ZXh0ICsgXCJcIiApLnJlcGxhY2UoIHJ0cmltLCBcIlwiICk7XG5cdH0sXG5cblx0Ly8gcmVzdWx0cyBpcyBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seVxuXHRtYWtlQXJyYXk6IGZ1bmN0aW9uKCBhcnIsIHJlc3VsdHMgKSB7XG5cdFx0dmFyIHJldCA9IHJlc3VsdHMgfHwgW107XG5cblx0XHRpZiAoIGFyciAhPSBudWxsICkge1xuXHRcdFx0aWYgKCBpc0FycmF5TGlrZSggT2JqZWN0KCBhcnIgKSApICkge1xuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIHJldCxcblx0XHRcdFx0XHR0eXBlb2YgYXJyID09PSBcInN0cmluZ1wiID9cblx0XHRcdFx0XHRbIGFyciBdIDogYXJyXG5cdFx0XHRcdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwdXNoLmNhbGwoIHJldCwgYXJyICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJldDtcblx0fSxcblxuXHRpbkFycmF5OiBmdW5jdGlvbiggZWxlbSwgYXJyLCBpICkge1xuXHRcdHJldHVybiBhcnIgPT0gbnVsbCA/IC0xIDogaW5kZXhPZi5jYWxsKCBhcnIsIGVsZW0sIGkgKTtcblx0fSxcblxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcblx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRtZXJnZTogZnVuY3Rpb24oIGZpcnN0LCBzZWNvbmQgKSB7XG5cdFx0dmFyIGxlbiA9ICtzZWNvbmQubGVuZ3RoLFxuXHRcdFx0aiA9IDAsXG5cdFx0XHRpID0gZmlyc3QubGVuZ3RoO1xuXG5cdFx0Zm9yICggOyBqIDwgbGVuOyBqKysgKSB7XG5cdFx0XHRmaXJzdFsgaSsrIF0gPSBzZWNvbmRbIGogXTtcblx0XHR9XG5cblx0XHRmaXJzdC5sZW5ndGggPSBpO1xuXG5cdFx0cmV0dXJuIGZpcnN0O1xuXHR9LFxuXG5cdGdyZXA6IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ssIGludmVydCApIHtcblx0XHR2YXIgY2FsbGJhY2tJbnZlcnNlLFxuXHRcdFx0bWF0Y2hlcyA9IFtdLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRsZW5ndGggPSBlbGVtcy5sZW5ndGgsXG5cdFx0XHRjYWxsYmFja0V4cGVjdCA9ICFpbnZlcnQ7XG5cblx0XHQvLyBHbyB0aHJvdWdoIHRoZSBhcnJheSwgb25seSBzYXZpbmcgdGhlIGl0ZW1zXG5cdFx0Ly8gdGhhdCBwYXNzIHRoZSB2YWxpZGF0b3IgZnVuY3Rpb25cblx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcblx0XHRcdGNhbGxiYWNrSW52ZXJzZSA9ICFjYWxsYmFjayggZWxlbXNbIGkgXSwgaSApO1xuXHRcdFx0aWYgKCBjYWxsYmFja0ludmVyc2UgIT09IGNhbGxiYWNrRXhwZWN0ICkge1xuXHRcdFx0XHRtYXRjaGVzLnB1c2goIGVsZW1zWyBpIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gbWF0Y2hlcztcblx0fSxcblxuXHQvLyBhcmcgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHlcblx0bWFwOiBmdW5jdGlvbiggZWxlbXMsIGNhbGxiYWNrLCBhcmcgKSB7XG5cdFx0dmFyIGxlbmd0aCwgdmFsdWUsXG5cdFx0XHRpID0gMCxcblx0XHRcdHJldCA9IFtdO1xuXG5cdFx0Ly8gR28gdGhyb3VnaCB0aGUgYXJyYXksIHRyYW5zbGF0aW5nIGVhY2ggb2YgdGhlIGl0ZW1zIHRvIHRoZWlyIG5ldyB2YWx1ZXNcblx0XHRpZiAoIGlzQXJyYXlMaWtlKCBlbGVtcyApICkge1xuXHRcdFx0bGVuZ3RoID0gZWxlbXMubGVuZ3RoO1xuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XG5cdFx0XHRcdHZhbHVlID0gY2FsbGJhY2soIGVsZW1zWyBpIF0sIGksIGFyZyApO1xuXG5cdFx0XHRcdGlmICggdmFsdWUgIT0gbnVsbCApIHtcblx0XHRcdFx0XHRyZXQucHVzaCggdmFsdWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0Ly8gR28gdGhyb3VnaCBldmVyeSBrZXkgb24gdGhlIG9iamVjdCxcblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yICggaSBpbiBlbGVtcyApIHtcblx0XHRcdFx0dmFsdWUgPSBjYWxsYmFjayggZWxlbXNbIGkgXSwgaSwgYXJnICk7XG5cblx0XHRcdFx0aWYgKCB2YWx1ZSAhPSBudWxsICkge1xuXHRcdFx0XHRcdHJldC5wdXNoKCB2YWx1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gRmxhdHRlbiBhbnkgbmVzdGVkIGFycmF5c1xuXHRcdHJldHVybiBjb25jYXQuYXBwbHkoIFtdLCByZXQgKTtcblx0fSxcblxuXHQvLyBBIGdsb2JhbCBHVUlEIGNvdW50ZXIgZm9yIG9iamVjdHNcblx0Z3VpZDogMSxcblxuXHQvLyBqUXVlcnkuc3VwcG9ydCBpcyBub3QgdXNlZCBpbiBDb3JlIGJ1dCBvdGhlciBwcm9qZWN0cyBhdHRhY2ggdGhlaXJcblx0Ly8gcHJvcGVydGllcyB0byBpdCBzbyBpdCBuZWVkcyB0byBleGlzdC5cblx0c3VwcG9ydDogc3VwcG9ydFxufSApO1xuXG5pZiAoIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiApIHtcblx0alF1ZXJ5LmZuWyBTeW1ib2wuaXRlcmF0b3IgXSA9IGFyclsgU3ltYm9sLml0ZXJhdG9yIF07XG59XG5cbi8vIFBvcHVsYXRlIHRoZSBjbGFzczJ0eXBlIG1hcFxualF1ZXJ5LmVhY2goIFwiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCBFcnJvciBTeW1ib2xcIi5zcGxpdCggXCIgXCIgKSxcbmZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHRjbGFzczJ0eXBlWyBcIltvYmplY3QgXCIgKyBuYW1lICsgXCJdXCIgXSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbn0gKTtcblxuZnVuY3Rpb24gaXNBcnJheUxpa2UoIG9iaiApIHtcblxuXHQvLyBTdXBwb3J0OiByZWFsIGlPUyA4LjIgb25seSAobm90IHJlcHJvZHVjaWJsZSBpbiBzaW11bGF0b3IpXG5cdC8vIGBpbmAgY2hlY2sgdXNlZCB0byBwcmV2ZW50IEpJVCBlcnJvciAoZ2gtMjE0NSlcblx0Ly8gaGFzT3duIGlzbid0IHVzZWQgaGVyZSBkdWUgdG8gZmFsc2UgbmVnYXRpdmVzXG5cdC8vIHJlZ2FyZGluZyBOb2RlbGlzdCBsZW5ndGggaW4gSUVcblx0dmFyIGxlbmd0aCA9ICEhb2JqICYmIFwibGVuZ3RoXCIgaW4gb2JqICYmIG9iai5sZW5ndGgsXG5cdFx0dHlwZSA9IHRvVHlwZSggb2JqICk7XG5cblx0aWYgKCBpc0Z1bmN0aW9uKCBvYmogKSB8fCBpc1dpbmRvdyggb2JqICkgKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cmV0dXJuIHR5cGUgPT09IFwiYXJyYXlcIiB8fCBsZW5ndGggPT09IDAgfHxcblx0XHR0eXBlb2YgbGVuZ3RoID09PSBcIm51bWJlclwiICYmIGxlbmd0aCA+IDAgJiYgKCBsZW5ndGggLSAxICkgaW4gb2JqO1xufVxudmFyIFNpenpsZSA9XG4vKiFcbiAqIFNpenpsZSBDU1MgU2VsZWN0b3IgRW5naW5lIHYyLjMuM1xuICogaHR0cHM6Ly9zaXp6bGVqcy5jb20vXG4gKlxuICogQ29weXJpZ2h0IGpRdWVyeSBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZVxuICpcbiAqIERhdGU6IDIwMTYtMDgtMDhcbiAqL1xuKGZ1bmN0aW9uKCB3aW5kb3cgKSB7XG5cbnZhciBpLFxuXHRzdXBwb3J0LFxuXHRFeHByLFxuXHRnZXRUZXh0LFxuXHRpc1hNTCxcblx0dG9rZW5pemUsXG5cdGNvbXBpbGUsXG5cdHNlbGVjdCxcblx0b3V0ZXJtb3N0Q29udGV4dCxcblx0c29ydElucHV0LFxuXHRoYXNEdXBsaWNhdGUsXG5cblx0Ly8gTG9jYWwgZG9jdW1lbnQgdmFyc1xuXHRzZXREb2N1bWVudCxcblx0ZG9jdW1lbnQsXG5cdGRvY0VsZW0sXG5cdGRvY3VtZW50SXNIVE1MLFxuXHRyYnVnZ3lRU0EsXG5cdHJidWdneU1hdGNoZXMsXG5cdG1hdGNoZXMsXG5cdGNvbnRhaW5zLFxuXG5cdC8vIEluc3RhbmNlLXNwZWNpZmljIGRhdGFcblx0ZXhwYW5kbyA9IFwic2l6emxlXCIgKyAxICogbmV3IERhdGUoKSxcblx0cHJlZmVycmVkRG9jID0gd2luZG93LmRvY3VtZW50LFxuXHRkaXJydW5zID0gMCxcblx0ZG9uZSA9IDAsXG5cdGNsYXNzQ2FjaGUgPSBjcmVhdGVDYWNoZSgpLFxuXHR0b2tlbkNhY2hlID0gY3JlYXRlQ2FjaGUoKSxcblx0Y29tcGlsZXJDYWNoZSA9IGNyZWF0ZUNhY2hlKCksXG5cdHNvcnRPcmRlciA9IGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdGlmICggYSA9PT0gYiApIHtcblx0XHRcdGhhc0R1cGxpY2F0ZSA9IHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiAwO1xuXHR9LFxuXG5cdC8vIEluc3RhbmNlIG1ldGhvZHNcblx0aGFzT3duID0gKHt9KS5oYXNPd25Qcm9wZXJ0eSxcblx0YXJyID0gW10sXG5cdHBvcCA9IGFyci5wb3AsXG5cdHB1c2hfbmF0aXZlID0gYXJyLnB1c2gsXG5cdHB1c2ggPSBhcnIucHVzaCxcblx0c2xpY2UgPSBhcnIuc2xpY2UsXG5cdC8vIFVzZSBhIHN0cmlwcGVkLWRvd24gaW5kZXhPZiBhcyBpdCdzIGZhc3RlciB0aGFuIG5hdGl2ZVxuXHQvLyBodHRwczovL2pzcGVyZi5jb20vdGhvci1pbmRleG9mLXZzLWZvci81XG5cdGluZGV4T2YgPSBmdW5jdGlvbiggbGlzdCwgZWxlbSApIHtcblx0XHR2YXIgaSA9IDAsXG5cdFx0XHRsZW4gPSBsaXN0Lmxlbmd0aDtcblx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdGlmICggbGlzdFtpXSA9PT0gZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIGk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiAtMTtcblx0fSxcblxuXHRib29sZWFucyA9IFwiY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWRcIixcblxuXHQvLyBSZWd1bGFyIGV4cHJlc3Npb25zXG5cblx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1zZWxlY3RvcnMvI3doaXRlc3BhY2Vcblx0d2hpdGVzcGFjZSA9IFwiW1xcXFx4MjBcXFxcdFxcXFxyXFxcXG5cXFxcZl1cIixcblxuXHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9DU1MyMS9zeW5kYXRhLmh0bWwjdmFsdWUtZGVmLWlkZW50aWZpZXJcblx0aWRlbnRpZmllciA9IFwiKD86XFxcXFxcXFwufFtcXFxcdy1dfFteXFwwLVxcXFx4YTBdKStcIixcblxuXHQvLyBBdHRyaWJ1dGUgc2VsZWN0b3JzOiBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2F0dHJpYnV0ZS1zZWxlY3RvcnNcblx0YXR0cmlidXRlcyA9IFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIiooXCIgKyBpZGVudGlmaWVyICsgXCIpKD86XCIgKyB3aGl0ZXNwYWNlICtcblx0XHQvLyBPcGVyYXRvciAoY2FwdHVyZSAyKVxuXHRcdFwiKihbKl4kfCF+XT89KVwiICsgd2hpdGVzcGFjZSArXG5cdFx0Ly8gXCJBdHRyaWJ1dGUgdmFsdWVzIG11c3QgYmUgQ1NTIGlkZW50aWZpZXJzIFtjYXB0dXJlIDVdIG9yIHN0cmluZ3MgW2NhcHR1cmUgMyBvciBjYXB0dXJlIDRdXCJcblx0XHRcIiooPzonKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcJ10pKiknfFxcXCIoKD86XFxcXFxcXFwufFteXFxcXFxcXFxcXFwiXSkqKVxcXCJ8KFwiICsgaWRlbnRpZmllciArIFwiKSl8KVwiICsgd2hpdGVzcGFjZSArXG5cdFx0XCIqXFxcXF1cIixcblxuXHRwc2V1ZG9zID0gXCI6KFwiICsgaWRlbnRpZmllciArIFwiKSg/OlxcXFwoKFwiICtcblx0XHQvLyBUbyByZWR1Y2UgdGhlIG51bWJlciBvZiBzZWxlY3RvcnMgbmVlZGluZyB0b2tlbml6ZSBpbiB0aGUgcHJlRmlsdGVyLCBwcmVmZXIgYXJndW1lbnRzOlxuXHRcdC8vIDEuIHF1b3RlZCAoY2FwdHVyZSAzOyBjYXB0dXJlIDQgb3IgY2FwdHVyZSA1KVxuXHRcdFwiKCcoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcIil8XCIgK1xuXHRcdC8vIDIuIHNpbXBsZSAoY2FwdHVyZSA2KVxuXHRcdFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcKClbXFxcXF1dfFwiICsgYXR0cmlidXRlcyArIFwiKSopfFwiICtcblx0XHQvLyAzLiBhbnl0aGluZyBlbHNlIChjYXB0dXJlIDIpXG5cdFx0XCIuKlwiICtcblx0XHRcIilcXFxcKXwpXCIsXG5cblx0Ly8gTGVhZGluZyBhbmQgbm9uLWVzY2FwZWQgdHJhaWxpbmcgd2hpdGVzcGFjZSwgY2FwdHVyaW5nIHNvbWUgbm9uLXdoaXRlc3BhY2UgY2hhcmFjdGVycyBwcmVjZWRpbmcgdGhlIGxhdHRlclxuXHRyd2hpdGVzcGFjZSA9IG5ldyBSZWdFeHAoIHdoaXRlc3BhY2UgKyBcIitcIiwgXCJnXCIgKSxcblx0cnRyaW0gPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIit8KCg/Ol58W15cXFxcXFxcXF0pKD86XFxcXFxcXFwuKSopXCIgKyB3aGl0ZXNwYWNlICsgXCIrJFwiLCBcImdcIiApLFxuXG5cdHJjb21tYSA9IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKixcIiArIHdoaXRlc3BhY2UgKyBcIipcIiApLFxuXHRyY29tYmluYXRvcnMgPSBuZXcgUmVnRXhwKCBcIl5cIiArIHdoaXRlc3BhY2UgKyBcIiooWz4rfl18XCIgKyB3aGl0ZXNwYWNlICsgXCIpXCIgKyB3aGl0ZXNwYWNlICsgXCIqXCIgKSxcblxuXHRyYXR0cmlidXRlUXVvdGVzID0gbmV3IFJlZ0V4cCggXCI9XCIgKyB3aGl0ZXNwYWNlICsgXCIqKFteXFxcXF0nXFxcIl0qPylcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcXVwiLCBcImdcIiApLFxuXG5cdHJwc2V1ZG8gPSBuZXcgUmVnRXhwKCBwc2V1ZG9zICksXG5cdHJpZGVudGlmaWVyID0gbmV3IFJlZ0V4cCggXCJeXCIgKyBpZGVudGlmaWVyICsgXCIkXCIgKSxcblxuXHRtYXRjaEV4cHIgPSB7XG5cdFx0XCJJRFwiOiBuZXcgUmVnRXhwKCBcIl4jKFwiICsgaWRlbnRpZmllciArIFwiKVwiICksXG5cdFx0XCJDTEFTU1wiOiBuZXcgUmVnRXhwKCBcIl5cXFxcLihcIiArIGlkZW50aWZpZXIgKyBcIilcIiApLFxuXHRcdFwiVEFHXCI6IG5ldyBSZWdFeHAoIFwiXihcIiArIGlkZW50aWZpZXIgKyBcInxbKl0pXCIgKSxcblx0XHRcIkFUVFJcIjogbmV3IFJlZ0V4cCggXCJeXCIgKyBhdHRyaWJ1dGVzICksXG5cdFx0XCJQU0VVRE9cIjogbmV3IFJlZ0V4cCggXCJeXCIgKyBwc2V1ZG9zICksXG5cdFx0XCJDSElMRFwiOiBuZXcgUmVnRXhwKCBcIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcXFwoXCIgKyB3aGl0ZXNwYWNlICtcblx0XHRcdFwiKihldmVufG9kZHwoKFsrLV18KShcXFxcZCopbnwpXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86KFsrLV18KVwiICsgd2hpdGVzcGFjZSArXG5cdFx0XHRcIiooXFxcXGQrKXwpKVwiICsgd2hpdGVzcGFjZSArIFwiKlxcXFwpfClcIiwgXCJpXCIgKSxcblx0XHRcImJvb2xcIjogbmV3IFJlZ0V4cCggXCJeKD86XCIgKyBib29sZWFucyArIFwiKSRcIiwgXCJpXCIgKSxcblx0XHQvLyBGb3IgdXNlIGluIGxpYnJhcmllcyBpbXBsZW1lbnRpbmcgLmlzKClcblx0XHQvLyBXZSB1c2UgdGhpcyBmb3IgUE9TIG1hdGNoaW5nIGluIGBzZWxlY3RgXG5cdFx0XCJuZWVkc0NvbnRleHRcIjogbmV3IFJlZ0V4cCggXCJeXCIgKyB3aGl0ZXNwYWNlICsgXCIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXFxcKFwiICtcblx0XHRcdHdoaXRlc3BhY2UgKyBcIiooKD86LVxcXFxkKT9cXFxcZCopXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXCl8KSg/PVteLV18JClcIiwgXCJpXCIgKVxuXHR9LFxuXG5cdHJpbnB1dHMgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFxuXHRyaGVhZGVyID0gL15oXFxkJC9pLFxuXG5cdHJuYXRpdmUgPSAvXltee10rXFx7XFxzKlxcW25hdGl2ZSBcXHcvLFxuXG5cdC8vIEVhc2lseS1wYXJzZWFibGUvcmV0cmlldmFibGUgSUQgb3IgVEFHIG9yIENMQVNTIHNlbGVjdG9yc1xuXHRycXVpY2tFeHByID0gL14oPzojKFtcXHctXSspfChcXHcrKXxcXC4oW1xcdy1dKykpJC8sXG5cblx0cnNpYmxpbmcgPSAvWyt+XS8sXG5cblx0Ly8gQ1NTIGVzY2FwZXNcblx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMjEvc3luZGF0YS5odG1sI2VzY2FwZWQtY2hhcmFjdGVyc1xuXHRydW5lc2NhcGUgPSBuZXcgUmVnRXhwKCBcIlxcXFxcXFxcKFtcXFxcZGEtZl17MSw2fVwiICsgd2hpdGVzcGFjZSArIFwiP3woXCIgKyB3aGl0ZXNwYWNlICsgXCIpfC4pXCIsIFwiaWdcIiApLFxuXHRmdW5lc2NhcGUgPSBmdW5jdGlvbiggXywgZXNjYXBlZCwgZXNjYXBlZFdoaXRlc3BhY2UgKSB7XG5cdFx0dmFyIGhpZ2ggPSBcIjB4XCIgKyBlc2NhcGVkIC0gMHgxMDAwMDtcblx0XHQvLyBOYU4gbWVhbnMgbm9uLWNvZGVwb2ludFxuXHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3g8MjRcblx0XHQvLyBXb3JrYXJvdW5kIGVycm9uZW91cyBudW1lcmljIGludGVycHJldGF0aW9uIG9mICtcIjB4XCJcblx0XHRyZXR1cm4gaGlnaCAhPT0gaGlnaCB8fCBlc2NhcGVkV2hpdGVzcGFjZSA/XG5cdFx0XHRlc2NhcGVkIDpcblx0XHRcdGhpZ2ggPCAwID9cblx0XHRcdFx0Ly8gQk1QIGNvZGVwb2ludFxuXHRcdFx0XHRTdHJpbmcuZnJvbUNoYXJDb2RlKCBoaWdoICsgMHgxMDAwMCApIDpcblx0XHRcdFx0Ly8gU3VwcGxlbWVudGFsIFBsYW5lIGNvZGVwb2ludCAoc3Vycm9nYXRlIHBhaXIpXG5cdFx0XHRcdFN0cmluZy5mcm9tQ2hhckNvZGUoIGhpZ2ggPj4gMTAgfCAweEQ4MDAsIGhpZ2ggJiAweDNGRiB8IDB4REMwMCApO1xuXHR9LFxuXG5cdC8vIENTUyBzdHJpbmcvaWRlbnRpZmllciBzZXJpYWxpemF0aW9uXG5cdC8vIGh0dHBzOi8vZHJhZnRzLmNzc3dnLm9yZy9jc3NvbS8jY29tbW9uLXNlcmlhbGl6aW5nLWlkaW9tc1xuXHRyY3NzZXNjYXBlID0gLyhbXFwwLVxceDFmXFx4N2ZdfF4tP1xcZCl8Xi0kfFteXFwwLVxceDFmXFx4N2YtXFx1RkZGRlxcdy1dL2csXG5cdGZjc3Nlc2NhcGUgPSBmdW5jdGlvbiggY2gsIGFzQ29kZVBvaW50ICkge1xuXHRcdGlmICggYXNDb2RlUG9pbnQgKSB7XG5cblx0XHRcdC8vIFUrMDAwMCBOVUxMIGJlY29tZXMgVStGRkZEIFJFUExBQ0VNRU5UIENIQVJBQ1RFUlxuXHRcdFx0aWYgKCBjaCA9PT0gXCJcXDBcIiApIHtcblx0XHRcdFx0cmV0dXJuIFwiXFx1RkZGRFwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb250cm9sIGNoYXJhY3RlcnMgYW5kIChkZXBlbmRlbnQgdXBvbiBwb3NpdGlvbikgbnVtYmVycyBnZXQgZXNjYXBlZCBhcyBjb2RlIHBvaW50c1xuXHRcdFx0cmV0dXJuIGNoLnNsaWNlKCAwLCAtMSApICsgXCJcXFxcXCIgKyBjaC5jaGFyQ29kZUF0KCBjaC5sZW5ndGggLSAxICkudG9TdHJpbmcoIDE2ICkgKyBcIiBcIjtcblx0XHR9XG5cblx0XHQvLyBPdGhlciBwb3RlbnRpYWxseS1zcGVjaWFsIEFTQ0lJIGNoYXJhY3RlcnMgZ2V0IGJhY2tzbGFzaC1lc2NhcGVkXG5cdFx0cmV0dXJuIFwiXFxcXFwiICsgY2g7XG5cdH0sXG5cblx0Ly8gVXNlZCBmb3IgaWZyYW1lc1xuXHQvLyBTZWUgc2V0RG9jdW1lbnQoKVxuXHQvLyBSZW1vdmluZyB0aGUgZnVuY3Rpb24gd3JhcHBlciBjYXVzZXMgYSBcIlBlcm1pc3Npb24gRGVuaWVkXCJcblx0Ly8gZXJyb3IgaW4gSUVcblx0dW5sb2FkSGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuXHRcdHNldERvY3VtZW50KCk7XG5cdH0sXG5cblx0ZGlzYWJsZWRBbmNlc3RvciA9IGFkZENvbWJpbmF0b3IoXG5cdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gdHJ1ZSAmJiAoXCJmb3JtXCIgaW4gZWxlbSB8fCBcImxhYmVsXCIgaW4gZWxlbSk7XG5cdFx0fSxcblx0XHR7IGRpcjogXCJwYXJlbnROb2RlXCIsIG5leHQ6IFwibGVnZW5kXCIgfVxuXHQpO1xuXG4vLyBPcHRpbWl6ZSBmb3IgcHVzaC5hcHBseSggXywgTm9kZUxpc3QgKVxudHJ5IHtcblx0cHVzaC5hcHBseShcblx0XHQoYXJyID0gc2xpY2UuY2FsbCggcHJlZmVycmVkRG9jLmNoaWxkTm9kZXMgKSksXG5cdFx0cHJlZmVycmVkRG9jLmNoaWxkTm9kZXNcblx0KTtcblx0Ly8gU3VwcG9ydDogQW5kcm9pZDw0LjBcblx0Ly8gRGV0ZWN0IHNpbGVudGx5IGZhaWxpbmcgcHVzaC5hcHBseVxuXHRhcnJbIHByZWZlcnJlZERvYy5jaGlsZE5vZGVzLmxlbmd0aCBdLm5vZGVUeXBlO1xufSBjYXRjaCAoIGUgKSB7XG5cdHB1c2ggPSB7IGFwcGx5OiBhcnIubGVuZ3RoID9cblxuXHRcdC8vIExldmVyYWdlIHNsaWNlIGlmIHBvc3NpYmxlXG5cdFx0ZnVuY3Rpb24oIHRhcmdldCwgZWxzICkge1xuXHRcdFx0cHVzaF9uYXRpdmUuYXBwbHkoIHRhcmdldCwgc2xpY2UuY2FsbChlbHMpICk7XG5cdFx0fSA6XG5cblx0XHQvLyBTdXBwb3J0OiBJRTw5XG5cdFx0Ly8gT3RoZXJ3aXNlIGFwcGVuZCBkaXJlY3RseVxuXHRcdGZ1bmN0aW9uKCB0YXJnZXQsIGVscyApIHtcblx0XHRcdHZhciBqID0gdGFyZ2V0Lmxlbmd0aCxcblx0XHRcdFx0aSA9IDA7XG5cdFx0XHQvLyBDYW4ndCB0cnVzdCBOb2RlTGlzdC5sZW5ndGhcblx0XHRcdHdoaWxlICggKHRhcmdldFtqKytdID0gZWxzW2krK10pICkge31cblx0XHRcdHRhcmdldC5sZW5ndGggPSBqIC0gMTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIFNpenpsZSggc2VsZWN0b3IsIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKSB7XG5cdHZhciBtLCBpLCBlbGVtLCBuaWQsIG1hdGNoLCBncm91cHMsIG5ld1NlbGVjdG9yLFxuXHRcdG5ld0NvbnRleHQgPSBjb250ZXh0ICYmIGNvbnRleHQub3duZXJEb2N1bWVudCxcblxuXHRcdC8vIG5vZGVUeXBlIGRlZmF1bHRzIHRvIDksIHNpbmNlIGNvbnRleHQgZGVmYXVsdHMgdG8gZG9jdW1lbnRcblx0XHRub2RlVHlwZSA9IGNvbnRleHQgPyBjb250ZXh0Lm5vZGVUeXBlIDogOTtcblxuXHRyZXN1bHRzID0gcmVzdWx0cyB8fCBbXTtcblxuXHQvLyBSZXR1cm4gZWFybHkgZnJvbSBjYWxscyB3aXRoIGludmFsaWQgc2VsZWN0b3Igb3IgY29udGV4dFxuXHRpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiB8fCAhc2VsZWN0b3IgfHxcblx0XHRub2RlVHlwZSAhPT0gMSAmJiBub2RlVHlwZSAhPT0gOSAmJiBub2RlVHlwZSAhPT0gMTEgKSB7XG5cblx0XHRyZXR1cm4gcmVzdWx0cztcblx0fVxuXG5cdC8vIFRyeSB0byBzaG9ydGN1dCBmaW5kIG9wZXJhdGlvbnMgKGFzIG9wcG9zZWQgdG8gZmlsdGVycykgaW4gSFRNTCBkb2N1bWVudHNcblx0aWYgKCAhc2VlZCApIHtcblxuXHRcdGlmICggKCBjb250ZXh0ID8gY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgOiBwcmVmZXJyZWREb2MgKSAhPT0gZG9jdW1lbnQgKSB7XG5cdFx0XHRzZXREb2N1bWVudCggY29udGV4dCApO1xuXHRcdH1cblx0XHRjb250ZXh0ID0gY29udGV4dCB8fCBkb2N1bWVudDtcblxuXHRcdGlmICggZG9jdW1lbnRJc0hUTUwgKSB7XG5cblx0XHRcdC8vIElmIHRoZSBzZWxlY3RvciBpcyBzdWZmaWNpZW50bHkgc2ltcGxlLCB0cnkgdXNpbmcgYSBcImdldCpCeSpcIiBET00gbWV0aG9kXG5cdFx0XHQvLyAoZXhjZXB0aW5nIERvY3VtZW50RnJhZ21lbnQgY29udGV4dCwgd2hlcmUgdGhlIG1ldGhvZHMgZG9uJ3QgZXhpc3QpXG5cdFx0XHRpZiAoIG5vZGVUeXBlICE9PSAxMSAmJiAobWF0Y2ggPSBycXVpY2tFeHByLmV4ZWMoIHNlbGVjdG9yICkpICkge1xuXG5cdFx0XHRcdC8vIElEIHNlbGVjdG9yXG5cdFx0XHRcdGlmICggKG0gPSBtYXRjaFsxXSkgKSB7XG5cblx0XHRcdFx0XHQvLyBEb2N1bWVudCBjb250ZXh0XG5cdFx0XHRcdFx0aWYgKCBub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0XHRcdGlmICggKGVsZW0gPSBjb250ZXh0LmdldEVsZW1lbnRCeUlkKCBtICkpICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFLCBPcGVyYSwgV2Via2l0XG5cdFx0XHRcdFx0XHRcdC8vIFRPRE86IGlkZW50aWZ5IHZlcnNpb25zXG5cdFx0XHRcdFx0XHRcdC8vIGdldEVsZW1lbnRCeUlkIGNhbiBtYXRjaCBlbGVtZW50cyBieSBuYW1lIGluc3RlYWQgb2YgSURcblx0XHRcdFx0XHRcdFx0aWYgKCBlbGVtLmlkID09PSBtICkge1xuXHRcdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIEVsZW1lbnQgY29udGV4dFxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFLCBPcGVyYSwgV2Via2l0XG5cdFx0XHRcdFx0XHQvLyBUT0RPOiBpZGVudGlmeSB2ZXJzaW9uc1xuXHRcdFx0XHRcdFx0Ly8gZ2V0RWxlbWVudEJ5SWQgY2FuIG1hdGNoIGVsZW1lbnRzIGJ5IG5hbWUgaW5zdGVhZCBvZiBJRFxuXHRcdFx0XHRcdFx0aWYgKCBuZXdDb250ZXh0ICYmIChlbGVtID0gbmV3Q29udGV4dC5nZXRFbGVtZW50QnlJZCggbSApKSAmJlxuXHRcdFx0XHRcdFx0XHRjb250YWlucyggY29udGV4dCwgZWxlbSApICYmXG5cdFx0XHRcdFx0XHRcdGVsZW0uaWQgPT09IG0gKSB7XG5cblx0XHRcdFx0XHRcdFx0cmVzdWx0cy5wdXNoKCBlbGVtICk7XG5cdFx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBUeXBlIHNlbGVjdG9yXG5cdFx0XHRcdH0gZWxzZSBpZiAoIG1hdGNoWzJdICkge1xuXHRcdFx0XHRcdHB1c2guYXBwbHkoIHJlc3VsdHMsIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHNlbGVjdG9yICkgKTtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblxuXHRcdFx0XHQvLyBDbGFzcyBzZWxlY3RvclxuXHRcdFx0XHR9IGVsc2UgaWYgKCAobSA9IG1hdGNoWzNdKSAmJiBzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgJiZcblx0XHRcdFx0XHRjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgKSB7XG5cblx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIG0gKSApO1xuXHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIFRha2UgYWR2YW50YWdlIG9mIHF1ZXJ5U2VsZWN0b3JBbGxcblx0XHRcdGlmICggc3VwcG9ydC5xc2EgJiZcblx0XHRcdFx0IWNvbXBpbGVyQ2FjaGVbIHNlbGVjdG9yICsgXCIgXCIgXSAmJlxuXHRcdFx0XHQoIXJidWdneVFTQSB8fCAhcmJ1Z2d5UVNBLnRlc3QoIHNlbGVjdG9yICkpICkge1xuXG5cdFx0XHRcdGlmICggbm9kZVR5cGUgIT09IDEgKSB7XG5cdFx0XHRcdFx0bmV3Q29udGV4dCA9IGNvbnRleHQ7XG5cdFx0XHRcdFx0bmV3U2VsZWN0b3IgPSBzZWxlY3RvcjtcblxuXHRcdFx0XHQvLyBxU0EgbG9va3Mgb3V0c2lkZSBFbGVtZW50IGNvbnRleHQsIHdoaWNoIGlzIG5vdCB3aGF0IHdlIHdhbnRcblx0XHRcdFx0Ly8gVGhhbmtzIHRvIEFuZHJldyBEdXBvbnQgZm9yIHRoaXMgd29ya2Fyb3VuZCB0ZWNobmlxdWVcblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD04XG5cdFx0XHRcdC8vIEV4Y2x1ZGUgb2JqZWN0IGVsZW1lbnRzXG5cdFx0XHRcdH0gZWxzZSBpZiAoIGNvbnRleHQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gXCJvYmplY3RcIiApIHtcblxuXHRcdFx0XHRcdC8vIENhcHR1cmUgdGhlIGNvbnRleHQgSUQsIHNldHRpbmcgaXQgZmlyc3QgaWYgbmVjZXNzYXJ5XG5cdFx0XHRcdFx0aWYgKCAobmlkID0gY29udGV4dC5nZXRBdHRyaWJ1dGUoIFwiaWRcIiApKSApIHtcblx0XHRcdFx0XHRcdG5pZCA9IG5pZC5yZXBsYWNlKCByY3NzZXNjYXBlLCBmY3NzZXNjYXBlICk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNvbnRleHQuc2V0QXR0cmlidXRlKCBcImlkXCIsIChuaWQgPSBleHBhbmRvKSApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFByZWZpeCBldmVyeSBzZWxlY3RvciBpbiB0aGUgbGlzdFxuXHRcdFx0XHRcdGdyb3VwcyA9IHRva2VuaXplKCBzZWxlY3RvciApO1xuXHRcdFx0XHRcdGkgPSBncm91cHMubGVuZ3RoO1xuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdFx0Z3JvdXBzW2ldID0gXCIjXCIgKyBuaWQgKyBcIiBcIiArIHRvU2VsZWN0b3IoIGdyb3Vwc1tpXSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRuZXdTZWxlY3RvciA9IGdyb3Vwcy5qb2luKCBcIixcIiApO1xuXG5cdFx0XHRcdFx0Ly8gRXhwYW5kIGNvbnRleHQgZm9yIHNpYmxpbmcgc2VsZWN0b3JzXG5cdFx0XHRcdFx0bmV3Q29udGV4dCA9IHJzaWJsaW5nLnRlc3QoIHNlbGVjdG9yICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8XG5cdFx0XHRcdFx0XHRjb250ZXh0O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCBuZXdTZWxlY3RvciApIHtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cyxcblx0XHRcdFx0XHRcdFx0bmV3Q29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCBuZXdTZWxlY3RvciApXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cdFx0XHRcdFx0fSBjYXRjaCAoIHFzYUVycm9yICkge1xuXHRcdFx0XHRcdH0gZmluYWxseSB7XG5cdFx0XHRcdFx0XHRpZiAoIG5pZCA9PT0gZXhwYW5kbyApIHtcblx0XHRcdFx0XHRcdFx0Y29udGV4dC5yZW1vdmVBdHRyaWJ1dGUoIFwiaWRcIiApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIEFsbCBvdGhlcnNcblx0cmV0dXJuIHNlbGVjdCggc2VsZWN0b3IucmVwbGFjZSggcnRyaW0sIFwiJDFcIiApLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICk7XG59XG5cbi8qKlxuICogQ3JlYXRlIGtleS12YWx1ZSBjYWNoZXMgb2YgbGltaXRlZCBzaXplXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oc3RyaW5nLCBvYmplY3QpfSBSZXR1cm5zIHRoZSBPYmplY3QgZGF0YSBhZnRlciBzdG9yaW5nIGl0IG9uIGl0c2VsZiB3aXRoXG4gKlx0cHJvcGVydHkgbmFtZSB0aGUgKHNwYWNlLXN1ZmZpeGVkKSBzdHJpbmcgYW5kIChpZiB0aGUgY2FjaGUgaXMgbGFyZ2VyIHRoYW4gRXhwci5jYWNoZUxlbmd0aClcbiAqXHRkZWxldGluZyB0aGUgb2xkZXN0IGVudHJ5XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUNhY2hlKCkge1xuXHR2YXIga2V5cyA9IFtdO1xuXG5cdGZ1bmN0aW9uIGNhY2hlKCBrZXksIHZhbHVlICkge1xuXHRcdC8vIFVzZSAoa2V5ICsgXCIgXCIpIHRvIGF2b2lkIGNvbGxpc2lvbiB3aXRoIG5hdGl2ZSBwcm90b3R5cGUgcHJvcGVydGllcyAoc2VlIElzc3VlICMxNTcpXG5cdFx0aWYgKCBrZXlzLnB1c2goIGtleSArIFwiIFwiICkgPiBFeHByLmNhY2hlTGVuZ3RoICkge1xuXHRcdFx0Ly8gT25seSBrZWVwIHRoZSBtb3N0IHJlY2VudCBlbnRyaWVzXG5cdFx0XHRkZWxldGUgY2FjaGVbIGtleXMuc2hpZnQoKSBdO1xuXHRcdH1cblx0XHRyZXR1cm4gKGNhY2hlWyBrZXkgKyBcIiBcIiBdID0gdmFsdWUpO1xuXHR9XG5cdHJldHVybiBjYWNoZTtcbn1cblxuLyoqXG4gKiBNYXJrIGEgZnVuY3Rpb24gZm9yIHNwZWNpYWwgdXNlIGJ5IFNpenpsZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIG1hcmtcbiAqL1xuZnVuY3Rpb24gbWFya0Z1bmN0aW9uKCBmbiApIHtcblx0Zm5bIGV4cGFuZG8gXSA9IHRydWU7XG5cdHJldHVybiBmbjtcbn1cblxuLyoqXG4gKiBTdXBwb3J0IHRlc3RpbmcgdXNpbmcgYW4gZWxlbWVudFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gUGFzc2VkIHRoZSBjcmVhdGVkIGVsZW1lbnQgYW5kIHJldHVybnMgYSBib29sZWFuIHJlc3VsdFxuICovXG5mdW5jdGlvbiBhc3NlcnQoIGZuICkge1xuXHR2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZmllbGRzZXRcIik7XG5cblx0dHJ5IHtcblx0XHRyZXR1cm4gISFmbiggZWwgKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fSBmaW5hbGx5IHtcblx0XHQvLyBSZW1vdmUgZnJvbSBpdHMgcGFyZW50IGJ5IGRlZmF1bHRcblx0XHRpZiAoIGVsLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCBlbCApO1xuXHRcdH1cblx0XHQvLyByZWxlYXNlIG1lbW9yeSBpbiBJRVxuXHRcdGVsID0gbnVsbDtcblx0fVxufVxuXG4vKipcbiAqIEFkZHMgdGhlIHNhbWUgaGFuZGxlciBmb3IgYWxsIG9mIHRoZSBzcGVjaWZpZWQgYXR0cnNcbiAqIEBwYXJhbSB7U3RyaW5nfSBhdHRycyBQaXBlLXNlcGFyYXRlZCBsaXN0IG9mIGF0dHJpYnV0ZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgVGhlIG1ldGhvZCB0aGF0IHdpbGwgYmUgYXBwbGllZFxuICovXG5mdW5jdGlvbiBhZGRIYW5kbGUoIGF0dHJzLCBoYW5kbGVyICkge1xuXHR2YXIgYXJyID0gYXR0cnMuc3BsaXQoXCJ8XCIpLFxuXHRcdGkgPSBhcnIubGVuZ3RoO1xuXG5cdHdoaWxlICggaS0tICkge1xuXHRcdEV4cHIuYXR0ckhhbmRsZVsgYXJyW2ldIF0gPSBoYW5kbGVyO1xuXHR9XG59XG5cbi8qKlxuICogQ2hlY2tzIGRvY3VtZW50IG9yZGVyIG9mIHR3byBzaWJsaW5nc1xuICogQHBhcmFtIHtFbGVtZW50fSBhXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFJldHVybnMgbGVzcyB0aGFuIDAgaWYgYSBwcmVjZWRlcyBiLCBncmVhdGVyIHRoYW4gMCBpZiBhIGZvbGxvd3MgYlxuICovXG5mdW5jdGlvbiBzaWJsaW5nQ2hlY2soIGEsIGIgKSB7XG5cdHZhciBjdXIgPSBiICYmIGEsXG5cdFx0ZGlmZiA9IGN1ciAmJiBhLm5vZGVUeXBlID09PSAxICYmIGIubm9kZVR5cGUgPT09IDEgJiZcblx0XHRcdGEuc291cmNlSW5kZXggLSBiLnNvdXJjZUluZGV4O1xuXG5cdC8vIFVzZSBJRSBzb3VyY2VJbmRleCBpZiBhdmFpbGFibGUgb24gYm90aCBub2Rlc1xuXHRpZiAoIGRpZmYgKSB7XG5cdFx0cmV0dXJuIGRpZmY7XG5cdH1cblxuXHQvLyBDaGVjayBpZiBiIGZvbGxvd3MgYVxuXHRpZiAoIGN1ciApIHtcblx0XHR3aGlsZSAoIChjdXIgPSBjdXIubmV4dFNpYmxpbmcpICkge1xuXHRcdFx0aWYgKCBjdXIgPT09IGIgKSB7XG5cdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gYSA/IDEgOiAtMTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIGlucHV0IHR5cGVzXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICovXG5mdW5jdGlvbiBjcmVhdGVJbnB1dFBzZXVkbyggdHlwZSApIHtcblx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdHJldHVybiBuYW1lID09PSBcImlucHV0XCIgJiYgZWxlbS50eXBlID09PSB0eXBlO1xuXHR9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgYnV0dG9uc1xuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQnV0dG9uUHNldWRvKCB0eXBlICkge1xuXHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0cmV0dXJuIChuYW1lID09PSBcImlucHV0XCIgfHwgbmFtZSA9PT0gXCJidXR0b25cIikgJiYgZWxlbS50eXBlID09PSB0eXBlO1xuXHR9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgOmVuYWJsZWQvOmRpc2FibGVkXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGRpc2FibGVkIHRydWUgZm9yIDpkaXNhYmxlZDsgZmFsc2UgZm9yIDplbmFibGVkXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZURpc2FibGVkUHNldWRvKCBkaXNhYmxlZCApIHtcblxuXHQvLyBLbm93biA6ZGlzYWJsZWQgZmFsc2UgcG9zaXRpdmVzOiBmaWVsZHNldFtkaXNhYmxlZF0gPiBsZWdlbmQ6bnRoLW9mLXR5cGUobisyKSA6Y2FuLWRpc2FibGVcblx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0Ly8gT25seSBjZXJ0YWluIGVsZW1lbnRzIGNhbiBtYXRjaCA6ZW5hYmxlZCBvciA6ZGlzYWJsZWRcblx0XHQvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zY3JpcHRpbmcuaHRtbCNzZWxlY3Rvci1lbmFibGVkXG5cdFx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc2NyaXB0aW5nLmh0bWwjc2VsZWN0b3ItZGlzYWJsZWRcblx0XHRpZiAoIFwiZm9ybVwiIGluIGVsZW0gKSB7XG5cblx0XHRcdC8vIENoZWNrIGZvciBpbmhlcml0ZWQgZGlzYWJsZWRuZXNzIG9uIHJlbGV2YW50IG5vbi1kaXNhYmxlZCBlbGVtZW50czpcblx0XHRcdC8vICogbGlzdGVkIGZvcm0tYXNzb2NpYXRlZCBlbGVtZW50cyBpbiBhIGRpc2FibGVkIGZpZWxkc2V0XG5cdFx0XHQvLyAgIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm1zLmh0bWwjY2F0ZWdvcnktbGlzdGVkXG5cdFx0XHQvLyAgIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm1zLmh0bWwjY29uY2VwdC1mZS1kaXNhYmxlZFxuXHRcdFx0Ly8gKiBvcHRpb24gZWxlbWVudHMgaW4gYSBkaXNhYmxlZCBvcHRncm91cFxuXHRcdFx0Ly8gICBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3Jtcy5odG1sI2NvbmNlcHQtb3B0aW9uLWRpc2FibGVkXG5cdFx0XHQvLyBBbGwgc3VjaCBlbGVtZW50cyBoYXZlIGEgXCJmb3JtXCIgcHJvcGVydHkuXG5cdFx0XHRpZiAoIGVsZW0ucGFyZW50Tm9kZSAmJiBlbGVtLmRpc2FibGVkID09PSBmYWxzZSApIHtcblxuXHRcdFx0XHQvLyBPcHRpb24gZWxlbWVudHMgZGVmZXIgdG8gYSBwYXJlbnQgb3B0Z3JvdXAgaWYgcHJlc2VudFxuXHRcdFx0XHRpZiAoIFwibGFiZWxcIiBpbiBlbGVtICkge1xuXHRcdFx0XHRcdGlmICggXCJsYWJlbFwiIGluIGVsZW0ucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtLnBhcmVudE5vZGUuZGlzYWJsZWQgPT09IGRpc2FibGVkO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgNiAtIDExXG5cdFx0XHRcdC8vIFVzZSB0aGUgaXNEaXNhYmxlZCBzaG9ydGN1dCBwcm9wZXJ0eSB0byBjaGVjayBmb3IgZGlzYWJsZWQgZmllbGRzZXQgYW5jZXN0b3JzXG5cdFx0XHRcdHJldHVybiBlbGVtLmlzRGlzYWJsZWQgPT09IGRpc2FibGVkIHx8XG5cblx0XHRcdFx0XHQvLyBXaGVyZSB0aGVyZSBpcyBubyBpc0Rpc2FibGVkLCBjaGVjayBtYW51YWxseVxuXHRcdFx0XHRcdC8qIGpzaGludCAtVzAxOCAqL1xuXHRcdFx0XHRcdGVsZW0uaXNEaXNhYmxlZCAhPT0gIWRpc2FibGVkICYmXG5cdFx0XHRcdFx0XHRkaXNhYmxlZEFuY2VzdG9yKCBlbGVtICkgPT09IGRpc2FibGVkO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7XG5cblx0XHQvLyBUcnkgdG8gd2lubm93IG91dCBlbGVtZW50cyB0aGF0IGNhbid0IGJlIGRpc2FibGVkIGJlZm9yZSB0cnVzdGluZyB0aGUgZGlzYWJsZWQgcHJvcGVydHkuXG5cdFx0Ly8gU29tZSB2aWN0aW1zIGdldCBjYXVnaHQgaW4gb3VyIG5ldCAobGFiZWwsIGxlZ2VuZCwgbWVudSwgdHJhY2spLCBidXQgaXQgc2hvdWxkbid0XG5cdFx0Ly8gZXZlbiBleGlzdCBvbiB0aGVtLCBsZXQgYWxvbmUgaGF2ZSBhIGJvb2xlYW4gdmFsdWUuXG5cdFx0fSBlbHNlIGlmICggXCJsYWJlbFwiIGluIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5kaXNhYmxlZCA9PT0gZGlzYWJsZWQ7XG5cdFx0fVxuXG5cdFx0Ly8gUmVtYWluaW5nIGVsZW1lbnRzIGFyZSBuZWl0aGVyIDplbmFibGVkIG5vciA6ZGlzYWJsZWRcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVzZSBpbiBwc2V1ZG9zIGZvciBwb3NpdGlvbmFsc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUG9zaXRpb25hbFBzZXVkbyggZm4gKSB7XG5cdHJldHVybiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIGFyZ3VtZW50ICkge1xuXHRcdGFyZ3VtZW50ID0gK2FyZ3VtZW50O1xuXHRcdHJldHVybiBtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMgKSB7XG5cdFx0XHR2YXIgaixcblx0XHRcdFx0bWF0Y2hJbmRleGVzID0gZm4oIFtdLCBzZWVkLmxlbmd0aCwgYXJndW1lbnQgKSxcblx0XHRcdFx0aSA9IG1hdGNoSW5kZXhlcy5sZW5ndGg7XG5cblx0XHRcdC8vIE1hdGNoIGVsZW1lbnRzIGZvdW5kIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXhlc1xuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdGlmICggc2VlZFsgKGogPSBtYXRjaEluZGV4ZXNbaV0pIF0gKSB7XG5cdFx0XHRcdFx0c2VlZFtqXSA9ICEobWF0Y2hlc1tqXSA9IHNlZWRbal0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xufVxuXG4vKipcbiAqIENoZWNrcyBhIG5vZGUgZm9yIHZhbGlkaXR5IGFzIGEgU2l6emxlIGNvbnRleHRcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3Q9fSBjb250ZXh0XG4gKiBAcmV0dXJucyB7RWxlbWVudHxPYmplY3R8Qm9vbGVhbn0gVGhlIGlucHV0IG5vZGUgaWYgYWNjZXB0YWJsZSwgb3RoZXJ3aXNlIGEgZmFsc3kgdmFsdWVcbiAqL1xuZnVuY3Rpb24gdGVzdENvbnRleHQoIGNvbnRleHQgKSB7XG5cdHJldHVybiBjb250ZXh0ICYmIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lICE9PSBcInVuZGVmaW5lZFwiICYmIGNvbnRleHQ7XG59XG5cbi8vIEV4cG9zZSBzdXBwb3J0IHZhcnMgZm9yIGNvbnZlbmllbmNlXG5zdXBwb3J0ID0gU2l6emxlLnN1cHBvcnQgPSB7fTtcblxuLyoqXG4gKiBEZXRlY3RzIFhNTCBub2Rlc1xuICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gZWxlbSBBbiBlbGVtZW50IG9yIGEgZG9jdW1lbnRcbiAqIEByZXR1cm5zIHtCb29sZWFufSBUcnVlIGlmZiBlbGVtIGlzIGEgbm9uLUhUTUwgWE1MIG5vZGVcbiAqL1xuaXNYTUwgPSBTaXp6bGUuaXNYTUwgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0Ly8gZG9jdW1lbnRFbGVtZW50IGlzIHZlcmlmaWVkIGZvciBjYXNlcyB3aGVyZSBpdCBkb2Vzbid0IHlldCBleGlzdFxuXHQvLyAoc3VjaCBhcyBsb2FkaW5nIGlmcmFtZXMgaW4gSUUgLSAjNDgzMylcblx0dmFyIGRvY3VtZW50RWxlbWVudCA9IGVsZW0gJiYgKGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtKS5kb2N1bWVudEVsZW1lbnQ7XG5cdHJldHVybiBkb2N1bWVudEVsZW1lbnQgPyBkb2N1bWVudEVsZW1lbnQubm9kZU5hbWUgIT09IFwiSFRNTFwiIDogZmFsc2U7XG59O1xuXG4vKipcbiAqIFNldHMgZG9jdW1lbnQtcmVsYXRlZCB2YXJpYWJsZXMgb25jZSBiYXNlZCBvbiB0aGUgY3VycmVudCBkb2N1bWVudFxuICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gW2RvY10gQW4gZWxlbWVudCBvciBkb2N1bWVudCBvYmplY3QgdG8gdXNlIHRvIHNldCB0aGUgZG9jdW1lbnRcbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGN1cnJlbnQgZG9jdW1lbnRcbiAqL1xuc2V0RG9jdW1lbnQgPSBTaXp6bGUuc2V0RG9jdW1lbnQgPSBmdW5jdGlvbiggbm9kZSApIHtcblx0dmFyIGhhc0NvbXBhcmUsIHN1YldpbmRvdyxcblx0XHRkb2MgPSBub2RlID8gbm9kZS5vd25lckRvY3VtZW50IHx8IG5vZGUgOiBwcmVmZXJyZWREb2M7XG5cblx0Ly8gUmV0dXJuIGVhcmx5IGlmIGRvYyBpcyBpbnZhbGlkIG9yIGFscmVhZHkgc2VsZWN0ZWRcblx0aWYgKCBkb2MgPT09IGRvY3VtZW50IHx8IGRvYy5ub2RlVHlwZSAhPT0gOSB8fCAhZG9jLmRvY3VtZW50RWxlbWVudCApIHtcblx0XHRyZXR1cm4gZG9jdW1lbnQ7XG5cdH1cblxuXHQvLyBVcGRhdGUgZ2xvYmFsIHZhcmlhYmxlc1xuXHRkb2N1bWVudCA9IGRvYztcblx0ZG9jRWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblx0ZG9jdW1lbnRJc0hUTUwgPSAhaXNYTUwoIGRvY3VtZW50ICk7XG5cblx0Ly8gU3VwcG9ydDogSUUgOS0xMSwgRWRnZVxuXHQvLyBBY2Nlc3NpbmcgaWZyYW1lIGRvY3VtZW50cyBhZnRlciB1bmxvYWQgdGhyb3dzIFwicGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvcnMgKGpRdWVyeSAjMTM5MzYpXG5cdGlmICggcHJlZmVycmVkRG9jICE9PSBkb2N1bWVudCAmJlxuXHRcdChzdWJXaW5kb3cgPSBkb2N1bWVudC5kZWZhdWx0VmlldykgJiYgc3ViV2luZG93LnRvcCAhPT0gc3ViV2luZG93ICkge1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgMTEsIEVkZ2Vcblx0XHRpZiAoIHN1YldpbmRvdy5hZGRFdmVudExpc3RlbmVyICkge1xuXHRcdFx0c3ViV2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIFwidW5sb2FkXCIsIHVubG9hZEhhbmRsZXIsIGZhbHNlICk7XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA5IC0gMTAgb25seVxuXHRcdH0gZWxzZSBpZiAoIHN1YldpbmRvdy5hdHRhY2hFdmVudCApIHtcblx0XHRcdHN1YldpbmRvdy5hdHRhY2hFdmVudCggXCJvbnVubG9hZFwiLCB1bmxvYWRIYW5kbGVyICk7XG5cdFx0fVxuXHR9XG5cblx0LyogQXR0cmlidXRlc1xuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cblx0Ly8gU3VwcG9ydDogSUU8OFxuXHQvLyBWZXJpZnkgdGhhdCBnZXRBdHRyaWJ1dGUgcmVhbGx5IHJldHVybnMgYXR0cmlidXRlcyBhbmQgbm90IHByb3BlcnRpZXNcblx0Ly8gKGV4Y2VwdGluZyBJRTggYm9vbGVhbnMpXG5cdHN1cHBvcnQuYXR0cmlidXRlcyA9IGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0ZWwuY2xhc3NOYW1lID0gXCJpXCI7XG5cdFx0cmV0dXJuICFlbC5nZXRBdHRyaWJ1dGUoXCJjbGFzc05hbWVcIik7XG5cdH0pO1xuXG5cdC8qIGdldEVsZW1lbnQocylCeSpcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIENoZWNrIGlmIGdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKSByZXR1cm5zIG9ubHkgZWxlbWVudHNcblx0c3VwcG9ydC5nZXRFbGVtZW50c0J5VGFnTmFtZSA9IGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0ZWwuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoXCJcIikgKTtcblx0XHRyZXR1cm4gIWVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKS5sZW5ndGg7XG5cdH0pO1xuXG5cdC8vIFN1cHBvcnQ6IElFPDlcblx0c3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID0gcm5hdGl2ZS50ZXN0KCBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICk7XG5cblx0Ly8gU3VwcG9ydDogSUU8MTBcblx0Ly8gQ2hlY2sgaWYgZ2V0RWxlbWVudEJ5SWQgcmV0dXJucyBlbGVtZW50cyBieSBuYW1lXG5cdC8vIFRoZSBicm9rZW4gZ2V0RWxlbWVudEJ5SWQgbWV0aG9kcyBkb24ndCBwaWNrIHVwIHByb2dyYW1tYXRpY2FsbHktc2V0IG5hbWVzLFxuXHQvLyBzbyB1c2UgYSByb3VuZGFib3V0IGdldEVsZW1lbnRzQnlOYW1lIHRlc3Rcblx0c3VwcG9ydC5nZXRCeUlkID0gYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0XHRkb2NFbGVtLmFwcGVuZENoaWxkKCBlbCApLmlkID0gZXhwYW5kbztcblx0XHRyZXR1cm4gIWRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lIHx8ICFkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSggZXhwYW5kbyApLmxlbmd0aDtcblx0fSk7XG5cblx0Ly8gSUQgZmlsdGVyIGFuZCBmaW5kXG5cdGlmICggc3VwcG9ydC5nZXRCeUlkICkge1xuXHRcdEV4cHIuZmlsdGVyW1wiSURcIl0gPSBmdW5jdGlvbiggaWQgKSB7XG5cdFx0XHR2YXIgYXR0cklkID0gaWQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKFwiaWRcIikgPT09IGF0dHJJZDtcblx0XHRcdH07XG5cdFx0fTtcblx0XHRFeHByLmZpbmRbXCJJRFwiXSA9IGZ1bmN0aW9uKCBpZCwgY29udGV4dCApIHtcblx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnRJc0hUTUwgKSB7XG5cdFx0XHRcdHZhciBlbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggaWQgKTtcblx0XHRcdFx0cmV0dXJuIGVsZW0gPyBbIGVsZW0gXSA6IFtdO1xuXHRcdFx0fVxuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0RXhwci5maWx0ZXJbXCJJRFwiXSA9ICBmdW5jdGlvbiggaWQgKSB7XG5cdFx0XHR2YXIgYXR0cklkID0gaWQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0dmFyIG5vZGUgPSB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGVOb2RlICE9PSBcInVuZGVmaW5lZFwiICYmXG5cdFx0XHRcdFx0ZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKFwiaWRcIik7XG5cdFx0XHRcdHJldHVybiBub2RlICYmIG5vZGUudmFsdWUgPT09IGF0dHJJZDtcblx0XHRcdH07XG5cdFx0fTtcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDYgLSA3IG9ubHlcblx0XHQvLyBnZXRFbGVtZW50QnlJZCBpcyBub3QgcmVsaWFibGUgYXMgYSBmaW5kIHNob3J0Y3V0XG5cdFx0RXhwci5maW5kW1wiSURcIl0gPSBmdW5jdGlvbiggaWQsIGNvbnRleHQgKSB7XG5cdFx0XHRpZiAoIHR5cGVvZiBjb250ZXh0LmdldEVsZW1lbnRCeUlkICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50SXNIVE1MICkge1xuXHRcdFx0XHR2YXIgbm9kZSwgaSwgZWxlbXMsXG5cdFx0XHRcdFx0ZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIGlkICk7XG5cblx0XHRcdFx0aWYgKCBlbGVtICkge1xuXG5cdFx0XHRcdFx0Ly8gVmVyaWZ5IHRoZSBpZCBhdHRyaWJ1dGVcblx0XHRcdFx0XHRub2RlID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKFwiaWRcIik7XG5cdFx0XHRcdFx0aWYgKCBub2RlICYmIG5vZGUudmFsdWUgPT09IGlkICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIFsgZWxlbSBdO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIEZhbGwgYmFjayBvbiBnZXRFbGVtZW50c0J5TmFtZVxuXHRcdFx0XHRcdGVsZW1zID0gY29udGV4dC5nZXRFbGVtZW50c0J5TmFtZSggaWQgKTtcblx0XHRcdFx0XHRpID0gMDtcblx0XHRcdFx0XHR3aGlsZSAoIChlbGVtID0gZWxlbXNbaSsrXSkgKSB7XG5cdFx0XHRcdFx0XHRub2RlID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKFwiaWRcIik7XG5cdFx0XHRcdFx0XHRpZiAoIG5vZGUgJiYgbm9kZS52YWx1ZSA9PT0gaWQgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBbIGVsZW0gXTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gW107XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxuXG5cdC8vIFRhZ1xuXHRFeHByLmZpbmRbXCJUQUdcIl0gPSBzdXBwb3J0LmdldEVsZW1lbnRzQnlUYWdOYW1lID9cblx0XHRmdW5jdGlvbiggdGFnLCBjb250ZXh0ICkge1xuXHRcdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSAhPT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyApO1xuXG5cdFx0XHQvLyBEb2N1bWVudEZyYWdtZW50IG5vZGVzIGRvbid0IGhhdmUgZ0VCVE5cblx0XHRcdH0gZWxzZSBpZiAoIHN1cHBvcnQucXNhICkge1xuXHRcdFx0XHRyZXR1cm4gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCB0YWcgKTtcblx0XHRcdH1cblx0XHR9IDpcblxuXHRcdGZ1bmN0aW9uKCB0YWcsIGNvbnRleHQgKSB7XG5cdFx0XHR2YXIgZWxlbSxcblx0XHRcdFx0dG1wID0gW10sXG5cdFx0XHRcdGkgPSAwLFxuXHRcdFx0XHQvLyBCeSBoYXBweSBjb2luY2lkZW5jZSwgYSAoYnJva2VuKSBnRUJUTiBhcHBlYXJzIG9uIERvY3VtZW50RnJhZ21lbnQgbm9kZXMgdG9vXG5cdFx0XHRcdHJlc3VsdHMgPSBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgKTtcblxuXHRcdFx0Ly8gRmlsdGVyIG91dCBwb3NzaWJsZSBjb21tZW50c1xuXHRcdFx0aWYgKCB0YWcgPT09IFwiKlwiICkge1xuXHRcdFx0XHR3aGlsZSAoIChlbGVtID0gcmVzdWx0c1tpKytdKSApIHtcblx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRcdFx0XHR0bXAucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB0bXA7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHR9O1xuXG5cdC8vIENsYXNzXG5cdEV4cHIuZmluZFtcIkNMQVNTXCJdID0gc3VwcG9ydC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICYmIGZ1bmN0aW9uKCBjbGFzc05hbWUsIGNvbnRleHQgKSB7XG5cdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50SXNIVE1MICkge1xuXHRcdFx0cmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSggY2xhc3NOYW1lICk7XG5cdFx0fVxuXHR9O1xuXG5cdC8qIFFTQS9tYXRjaGVzU2VsZWN0b3Jcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIFFTQSBhbmQgbWF0Y2hlc1NlbGVjdG9yIHN1cHBvcnRcblxuXHQvLyBtYXRjaGVzU2VsZWN0b3IoOmFjdGl2ZSkgcmVwb3J0cyBmYWxzZSB3aGVuIHRydWUgKElFOS9PcGVyYSAxMS41KVxuXHRyYnVnZ3lNYXRjaGVzID0gW107XG5cblx0Ly8gcVNhKDpmb2N1cykgcmVwb3J0cyBmYWxzZSB3aGVuIHRydWUgKENocm9tZSAyMSlcblx0Ly8gV2UgYWxsb3cgdGhpcyBiZWNhdXNlIG9mIGEgYnVnIGluIElFOC85IHRoYXQgdGhyb3dzIGFuIGVycm9yXG5cdC8vIHdoZW5ldmVyIGBkb2N1bWVudC5hY3RpdmVFbGVtZW50YCBpcyBhY2Nlc3NlZCBvbiBhbiBpZnJhbWVcblx0Ly8gU28sIHdlIGFsbG93IDpmb2N1cyB0byBwYXNzIHRocm91Z2ggUVNBIGFsbCB0aGUgdGltZSB0byBhdm9pZCB0aGUgSUUgZXJyb3Jcblx0Ly8gU2VlIGh0dHBzOi8vYnVncy5qcXVlcnkuY29tL3RpY2tldC8xMzM3OFxuXHRyYnVnZ3lRU0EgPSBbXTtcblxuXHRpZiAoIChzdXBwb3J0LnFzYSA9IHJuYXRpdmUudGVzdCggZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCApKSApIHtcblx0XHQvLyBCdWlsZCBRU0EgcmVnZXhcblx0XHQvLyBSZWdleCBzdHJhdGVneSBhZG9wdGVkIGZyb20gRGllZ28gUGVyaW5pXG5cdFx0YXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0XHRcdC8vIFNlbGVjdCBpcyBzZXQgdG8gZW1wdHkgc3RyaW5nIG9uIHB1cnBvc2Vcblx0XHRcdC8vIFRoaXMgaXMgdG8gdGVzdCBJRSdzIHRyZWF0bWVudCBvZiBub3QgZXhwbGljaXRseVxuXHRcdFx0Ly8gc2V0dGluZyBhIGJvb2xlYW4gY29udGVudCBhdHRyaWJ1dGUsXG5cdFx0XHQvLyBzaW5jZSBpdHMgcHJlc2VuY2Ugc2hvdWxkIGJlIGVub3VnaFxuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzEyMzU5XG5cdFx0XHRkb2NFbGVtLmFwcGVuZENoaWxkKCBlbCApLmlubmVySFRNTCA9IFwiPGEgaWQ9J1wiICsgZXhwYW5kbyArIFwiJz48L2E+XCIgK1xuXHRcdFx0XHRcIjxzZWxlY3QgaWQ9J1wiICsgZXhwYW5kbyArIFwiLVxcclxcXFwnIG1zYWxsb3djYXB0dXJlPScnPlwiICtcblx0XHRcdFx0XCI8b3B0aW9uIHNlbGVjdGVkPScnPjwvb3B0aW9uPjwvc2VsZWN0PlwiO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRTgsIE9wZXJhIDExLTEyLjE2XG5cdFx0XHQvLyBOb3RoaW5nIHNob3VsZCBiZSBzZWxlY3RlZCB3aGVuIGVtcHR5IHN0cmluZ3MgZm9sbG93IF49IG9yICQ9IG9yICo9XG5cdFx0XHQvLyBUaGUgdGVzdCBhdHRyaWJ1dGUgbXVzdCBiZSB1bmtub3duIGluIE9wZXJhIGJ1dCBcInNhZmVcIiBmb3IgV2luUlRcblx0XHRcdC8vIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvaGg0NjUzODguYXNweCNhdHRyaWJ1dGVfc2VjdGlvblxuXHRcdFx0aWYgKCBlbC5xdWVyeVNlbGVjdG9yQWxsKFwiW21zYWxsb3djYXB0dXJlXj0nJ11cIikubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJbKl4kXT1cIiArIHdoaXRlc3BhY2UgKyBcIiooPzonJ3xcXFwiXFxcIilcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBJRThcblx0XHRcdC8vIEJvb2xlYW4gYXR0cmlidXRlcyBhbmQgXCJ2YWx1ZVwiIGFyZSBub3QgdHJlYXRlZCBjb3JyZWN0bHlcblx0XHRcdGlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbc2VsZWN0ZWRdXCIpLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIiooPzp2YWx1ZXxcIiArIGJvb2xlYW5zICsgXCIpXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lPDI5LCBBbmRyb2lkPDQuNCwgU2FmYXJpPDcuMCssIGlPUzw3LjArLCBQaGFudG9tSlM8MS45LjgrXG5cdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIltpZH49XCIgKyBleHBhbmRvICsgXCItXVwiICkubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaChcIn49XCIpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBXZWJraXQvT3BlcmEgLSA6Y2hlY2tlZCBzaG91bGQgcmV0dXJuIHNlbGVjdGVkIG9wdGlvbiBlbGVtZW50c1xuXHRcdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvMjAxMS9SRUMtY3NzMy1zZWxlY3RvcnMtMjAxMTA5MjkvI2NoZWNrZWRcblx0XHRcdC8vIElFOCB0aHJvd3MgZXJyb3IgaGVyZSBhbmQgd2lsbCBub3Qgc2VlIGxhdGVyIHRlc3RzXG5cdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKFwiOmNoZWNrZWRcIikubGVuZ3RoICkge1xuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaChcIjpjaGVja2VkXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdXBwb3J0OiBTYWZhcmkgOCssIGlPUyA4K1xuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzNjg1MVxuXHRcdFx0Ly8gSW4tcGFnZSBgc2VsZWN0b3IjaWQgc2libGluZy1jb21iaW5hdG9yIHNlbGVjdG9yYCBmYWlsc1xuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbCggXCJhI1wiICsgZXhwYW5kbyArIFwiKypcIiApLmxlbmd0aCApIHtcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCIuIy4rWyt+XVwiKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGFzc2VydChmdW5jdGlvbiggZWwgKSB7XG5cdFx0XHRlbC5pbm5lckhUTUwgPSBcIjxhIGhyZWY9JycgZGlzYWJsZWQ9J2Rpc2FibGVkJz48L2E+XCIgK1xuXHRcdFx0XHRcIjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD5cIjtcblxuXHRcdFx0Ly8gU3VwcG9ydDogV2luZG93cyA4IE5hdGl2ZSBBcHBzXG5cdFx0XHQvLyBUaGUgdHlwZSBhbmQgbmFtZSBhdHRyaWJ1dGVzIGFyZSByZXN0cmljdGVkIGR1cmluZyAuaW5uZXJIVE1MIGFzc2lnbm1lbnRcblx0XHRcdHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcblx0XHRcdGlucHV0LnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIFwiaGlkZGVuXCIgKTtcblx0XHRcdGVsLmFwcGVuZENoaWxkKCBpbnB1dCApLnNldEF0dHJpYnV0ZSggXCJuYW1lXCIsIFwiRFwiICk7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFOFxuXHRcdFx0Ly8gRW5mb3JjZSBjYXNlLXNlbnNpdGl2aXR5IG9mIG5hbWUgYXR0cmlidXRlXG5cdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbbmFtZT1kXVwiKS5sZW5ndGggKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIm5hbWVcIiArIHdoaXRlc3BhY2UgKyBcIipbKl4kfCF+XT89XCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRkYgMy41IC0gOmVuYWJsZWQvOmRpc2FibGVkIGFuZCBoaWRkZW4gZWxlbWVudHMgKGhpZGRlbiBlbGVtZW50cyBhcmUgc3RpbGwgZW5hYmxlZClcblx0XHRcdC8vIElFOCB0aHJvd3MgZXJyb3IgaGVyZSBhbmQgd2lsbCBub3Qgc2VlIGxhdGVyIHRlc3RzXG5cdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZW5hYmxlZFwiKS5sZW5ndGggIT09IDIgKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIjplbmFibGVkXCIsIFwiOmRpc2FibGVkXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3VwcG9ydDogSUU5LTExK1xuXHRcdFx0Ly8gSUUncyA6ZGlzYWJsZWQgc2VsZWN0b3IgZG9lcyBub3QgcGljayB1cCB0aGUgY2hpbGRyZW4gb2YgZGlzYWJsZWQgZmllbGRzZXRzXG5cdFx0XHRkb2NFbGVtLmFwcGVuZENoaWxkKCBlbCApLmRpc2FibGVkID0gdHJ1ZTtcblx0XHRcdGlmICggZWwucXVlcnlTZWxlY3RvckFsbChcIjpkaXNhYmxlZFwiKS5sZW5ndGggIT09IDIgKSB7XG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIjplbmFibGVkXCIsIFwiOmRpc2FibGVkXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gT3BlcmEgMTAtMTEgZG9lcyBub3QgdGhyb3cgb24gcG9zdC1jb21tYSBpbnZhbGlkIHBzZXVkb3Ncblx0XHRcdGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCIqLDp4XCIpO1xuXHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCIsLio6XCIpO1xuXHRcdH0pO1xuXHR9XG5cblx0aWYgKCAoc3VwcG9ydC5tYXRjaGVzU2VsZWN0b3IgPSBybmF0aXZlLnRlc3QoIChtYXRjaGVzID0gZG9jRWxlbS5tYXRjaGVzIHx8XG5cdFx0ZG9jRWxlbS53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHxcblx0XHRkb2NFbGVtLm1vek1hdGNoZXNTZWxlY3RvciB8fFxuXHRcdGRvY0VsZW0ub01hdGNoZXNTZWxlY3RvciB8fFxuXHRcdGRvY0VsZW0ubXNNYXRjaGVzU2VsZWN0b3IpICkpICkge1xuXG5cdFx0YXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0XHRcdC8vIENoZWNrIHRvIHNlZSBpZiBpdCdzIHBvc3NpYmxlIHRvIGRvIG1hdGNoZXNTZWxlY3RvclxuXHRcdFx0Ly8gb24gYSBkaXNjb25uZWN0ZWQgbm9kZSAoSUUgOSlcblx0XHRcdHN1cHBvcnQuZGlzY29ubmVjdGVkTWF0Y2ggPSBtYXRjaGVzLmNhbGwoIGVsLCBcIipcIiApO1xuXG5cdFx0XHQvLyBUaGlzIHNob3VsZCBmYWlsIHdpdGggYW4gZXhjZXB0aW9uXG5cdFx0XHQvLyBHZWNrbyBkb2VzIG5vdCBlcnJvciwgcmV0dXJucyBmYWxzZSBpbnN0ZWFkXG5cdFx0XHRtYXRjaGVzLmNhbGwoIGVsLCBcIltzIT0nJ106eFwiICk7XG5cdFx0XHRyYnVnZ3lNYXRjaGVzLnB1c2goIFwiIT1cIiwgcHNldWRvcyApO1xuXHRcdH0pO1xuXHR9XG5cblx0cmJ1Z2d5UVNBID0gcmJ1Z2d5UVNBLmxlbmd0aCAmJiBuZXcgUmVnRXhwKCByYnVnZ3lRU0Euam9pbihcInxcIikgKTtcblx0cmJ1Z2d5TWF0Y2hlcyA9IHJidWdneU1hdGNoZXMubGVuZ3RoICYmIG5ldyBSZWdFeHAoIHJidWdneU1hdGNoZXMuam9pbihcInxcIikgKTtcblxuXHQvKiBDb250YWluc1xuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cdGhhc0NvbXBhcmUgPSBybmF0aXZlLnRlc3QoIGRvY0VsZW0uY29tcGFyZURvY3VtZW50UG9zaXRpb24gKTtcblxuXHQvLyBFbGVtZW50IGNvbnRhaW5zIGFub3RoZXJcblx0Ly8gUHVycG9zZWZ1bGx5IHNlbGYtZXhjbHVzaXZlXG5cdC8vIEFzIGluLCBhbiBlbGVtZW50IGRvZXMgbm90IGNvbnRhaW4gaXRzZWxmXG5cdGNvbnRhaW5zID0gaGFzQ29tcGFyZSB8fCBybmF0aXZlLnRlc3QoIGRvY0VsZW0uY29udGFpbnMgKSA/XG5cdFx0ZnVuY3Rpb24oIGEsIGIgKSB7XG5cdFx0XHR2YXIgYWRvd24gPSBhLm5vZGVUeXBlID09PSA5ID8gYS5kb2N1bWVudEVsZW1lbnQgOiBhLFxuXHRcdFx0XHRidXAgPSBiICYmIGIucGFyZW50Tm9kZTtcblx0XHRcdHJldHVybiBhID09PSBidXAgfHwgISEoIGJ1cCAmJiBidXAubm9kZVR5cGUgPT09IDEgJiYgKFxuXHRcdFx0XHRhZG93bi5jb250YWlucyA/XG5cdFx0XHRcdFx0YWRvd24uY29udGFpbnMoIGJ1cCApIDpcblx0XHRcdFx0XHRhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICYmIGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGJ1cCApICYgMTZcblx0XHRcdCkpO1xuXHRcdH0gOlxuXHRcdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdFx0aWYgKCBiICkge1xuXHRcdFx0XHR3aGlsZSAoIChiID0gYi5wYXJlbnROb2RlKSApIHtcblx0XHRcdFx0XHRpZiAoIGIgPT09IGEgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9O1xuXG5cdC8qIFNvcnRpbmdcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5cdC8vIERvY3VtZW50IG9yZGVyIHNvcnRpbmdcblx0c29ydE9yZGVyID0gaGFzQ29tcGFyZSA/XG5cdGZ1bmN0aW9uKCBhLCBiICkge1xuXG5cdFx0Ly8gRmxhZyBmb3IgZHVwbGljYXRlIHJlbW92YWxcblx0XHRpZiAoIGEgPT09IGIgKSB7XG5cdFx0XHRoYXNEdXBsaWNhdGUgPSB0cnVlO1xuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fVxuXG5cdFx0Ly8gU29ydCBvbiBtZXRob2QgZXhpc3RlbmNlIGlmIG9ubHkgb25lIGlucHV0IGhhcyBjb21wYXJlRG9jdW1lbnRQb3NpdGlvblxuXHRcdHZhciBjb21wYXJlID0gIWEuY29tcGFyZURvY3VtZW50UG9zaXRpb24gLSAhYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtcblx0XHRpZiAoIGNvbXBhcmUgKSB7XG5cdFx0XHRyZXR1cm4gY29tcGFyZTtcblx0XHR9XG5cblx0XHQvLyBDYWxjdWxhdGUgcG9zaXRpb24gaWYgYm90aCBpbnB1dHMgYmVsb25nIHRvIHRoZSBzYW1lIGRvY3VtZW50XG5cdFx0Y29tcGFyZSA9ICggYS5vd25lckRvY3VtZW50IHx8IGEgKSA9PT0gKCBiLm93bmVyRG9jdW1lbnQgfHwgYiApID9cblx0XHRcdGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGIgKSA6XG5cblx0XHRcdC8vIE90aGVyd2lzZSB3ZSBrbm93IHRoZXkgYXJlIGRpc2Nvbm5lY3RlZFxuXHRcdFx0MTtcblxuXHRcdC8vIERpc2Nvbm5lY3RlZCBub2Rlc1xuXHRcdGlmICggY29tcGFyZSAmIDEgfHxcblx0XHRcdCghc3VwcG9ydC5zb3J0RGV0YWNoZWQgJiYgYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYSApID09PSBjb21wYXJlKSApIHtcblxuXHRcdFx0Ly8gQ2hvb3NlIHRoZSBmaXJzdCBlbGVtZW50IHRoYXQgaXMgcmVsYXRlZCB0byBvdXIgcHJlZmVycmVkIGRvY3VtZW50XG5cdFx0XHRpZiAoIGEgPT09IGRvY3VtZW50IHx8IGEub3duZXJEb2N1bWVudCA9PT0gcHJlZmVycmVkRG9jICYmIGNvbnRhaW5zKHByZWZlcnJlZERvYywgYSkgKSB7XG5cdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdH1cblx0XHRcdGlmICggYiA9PT0gZG9jdW1lbnQgfHwgYi5vd25lckRvY3VtZW50ID09PSBwcmVmZXJyZWREb2MgJiYgY29udGFpbnMocHJlZmVycmVkRG9jLCBiKSApIHtcblx0XHRcdFx0cmV0dXJuIDE7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE1haW50YWluIG9yaWdpbmFsIG9yZGVyXG5cdFx0XHRyZXR1cm4gc29ydElucHV0ID9cblx0XHRcdFx0KCBpbmRleE9mKCBzb3J0SW5wdXQsIGEgKSAtIGluZGV4T2YoIHNvcnRJbnB1dCwgYiApICkgOlxuXHRcdFx0XHQwO1xuXHRcdH1cblxuXHRcdHJldHVybiBjb21wYXJlICYgNCA/IC0xIDogMTtcblx0fSA6XG5cdGZ1bmN0aW9uKCBhLCBiICkge1xuXHRcdC8vIEV4aXQgZWFybHkgaWYgdGhlIG5vZGVzIGFyZSBpZGVudGljYWxcblx0XHRpZiAoIGEgPT09IGIgKSB7XG5cdFx0XHRoYXNEdXBsaWNhdGUgPSB0cnVlO1xuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fVxuXG5cdFx0dmFyIGN1cixcblx0XHRcdGkgPSAwLFxuXHRcdFx0YXVwID0gYS5wYXJlbnROb2RlLFxuXHRcdFx0YnVwID0gYi5wYXJlbnROb2RlLFxuXHRcdFx0YXAgPSBbIGEgXSxcblx0XHRcdGJwID0gWyBiIF07XG5cblx0XHQvLyBQYXJlbnRsZXNzIG5vZGVzIGFyZSBlaXRoZXIgZG9jdW1lbnRzIG9yIGRpc2Nvbm5lY3RlZFxuXHRcdGlmICggIWF1cCB8fCAhYnVwICkge1xuXHRcdFx0cmV0dXJuIGEgPT09IGRvY3VtZW50ID8gLTEgOlxuXHRcdFx0XHRiID09PSBkb2N1bWVudCA/IDEgOlxuXHRcdFx0XHRhdXAgPyAtMSA6XG5cdFx0XHRcdGJ1cCA/IDEgOlxuXHRcdFx0XHRzb3J0SW5wdXQgP1xuXHRcdFx0XHQoIGluZGV4T2YoIHNvcnRJbnB1dCwgYSApIC0gaW5kZXhPZiggc29ydElucHV0LCBiICkgKSA6XG5cdFx0XHRcdDA7XG5cblx0XHQvLyBJZiB0aGUgbm9kZXMgYXJlIHNpYmxpbmdzLCB3ZSBjYW4gZG8gYSBxdWljayBjaGVja1xuXHRcdH0gZWxzZSBpZiAoIGF1cCA9PT0gYnVwICkge1xuXHRcdFx0cmV0dXJuIHNpYmxpbmdDaGVjayggYSwgYiApO1xuXHRcdH1cblxuXHRcdC8vIE90aGVyd2lzZSB3ZSBuZWVkIGZ1bGwgbGlzdHMgb2YgdGhlaXIgYW5jZXN0b3JzIGZvciBjb21wYXJpc29uXG5cdFx0Y3VyID0gYTtcblx0XHR3aGlsZSAoIChjdXIgPSBjdXIucGFyZW50Tm9kZSkgKSB7XG5cdFx0XHRhcC51bnNoaWZ0KCBjdXIgKTtcblx0XHR9XG5cdFx0Y3VyID0gYjtcblx0XHR3aGlsZSAoIChjdXIgPSBjdXIucGFyZW50Tm9kZSkgKSB7XG5cdFx0XHRicC51bnNoaWZ0KCBjdXIgKTtcblx0XHR9XG5cblx0XHQvLyBXYWxrIGRvd24gdGhlIHRyZWUgbG9va2luZyBmb3IgYSBkaXNjcmVwYW5jeVxuXHRcdHdoaWxlICggYXBbaV0gPT09IGJwW2ldICkge1xuXHRcdFx0aSsrO1xuXHRcdH1cblxuXHRcdHJldHVybiBpID9cblx0XHRcdC8vIERvIGEgc2libGluZyBjaGVjayBpZiB0aGUgbm9kZXMgaGF2ZSBhIGNvbW1vbiBhbmNlc3RvclxuXHRcdFx0c2libGluZ0NoZWNrKCBhcFtpXSwgYnBbaV0gKSA6XG5cblx0XHRcdC8vIE90aGVyd2lzZSBub2RlcyBpbiBvdXIgZG9jdW1lbnQgc29ydCBmaXJzdFxuXHRcdFx0YXBbaV0gPT09IHByZWZlcnJlZERvYyA/IC0xIDpcblx0XHRcdGJwW2ldID09PSBwcmVmZXJyZWREb2MgPyAxIDpcblx0XHRcdDA7XG5cdH07XG5cblx0cmV0dXJuIGRvY3VtZW50O1xufTtcblxuU2l6emxlLm1hdGNoZXMgPSBmdW5jdGlvbiggZXhwciwgZWxlbWVudHMgKSB7XG5cdHJldHVybiBTaXp6bGUoIGV4cHIsIG51bGwsIG51bGwsIGVsZW1lbnRzICk7XG59O1xuXG5TaXp6bGUubWF0Y2hlc1NlbGVjdG9yID0gZnVuY3Rpb24oIGVsZW0sIGV4cHIgKSB7XG5cdC8vIFNldCBkb2N1bWVudCB2YXJzIGlmIG5lZWRlZFxuXHRpZiAoICggZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0gKSAhPT0gZG9jdW1lbnQgKSB7XG5cdFx0c2V0RG9jdW1lbnQoIGVsZW0gKTtcblx0fVxuXG5cdC8vIE1ha2Ugc3VyZSB0aGF0IGF0dHJpYnV0ZSBzZWxlY3RvcnMgYXJlIHF1b3RlZFxuXHRleHByID0gZXhwci5yZXBsYWNlKCByYXR0cmlidXRlUXVvdGVzLCBcIj0nJDEnXVwiICk7XG5cblx0aWYgKCBzdXBwb3J0Lm1hdGNoZXNTZWxlY3RvciAmJiBkb2N1bWVudElzSFRNTCAmJlxuXHRcdCFjb21waWxlckNhY2hlWyBleHByICsgXCIgXCIgXSAmJlxuXHRcdCggIXJidWdneU1hdGNoZXMgfHwgIXJidWdneU1hdGNoZXMudGVzdCggZXhwciApICkgJiZcblx0XHQoICFyYnVnZ3lRU0EgICAgIHx8ICFyYnVnZ3lRU0EudGVzdCggZXhwciApICkgKSB7XG5cblx0XHR0cnkge1xuXHRcdFx0dmFyIHJldCA9IG1hdGNoZXMuY2FsbCggZWxlbSwgZXhwciApO1xuXG5cdFx0XHQvLyBJRSA5J3MgbWF0Y2hlc1NlbGVjdG9yIHJldHVybnMgZmFsc2Ugb24gZGlzY29ubmVjdGVkIG5vZGVzXG5cdFx0XHRpZiAoIHJldCB8fCBzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoIHx8XG5cdFx0XHRcdFx0Ly8gQXMgd2VsbCwgZGlzY29ubmVjdGVkIG5vZGVzIGFyZSBzYWlkIHRvIGJlIGluIGEgZG9jdW1lbnRcblx0XHRcdFx0XHQvLyBmcmFnbWVudCBpbiBJRSA5XG5cdFx0XHRcdFx0ZWxlbS5kb2N1bWVudCAmJiBlbGVtLmRvY3VtZW50Lm5vZGVUeXBlICE9PSAxMSApIHtcblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7fVxuXHR9XG5cblx0cmV0dXJuIFNpenpsZSggZXhwciwgZG9jdW1lbnQsIG51bGwsIFsgZWxlbSBdICkubGVuZ3RoID4gMDtcbn07XG5cblNpenpsZS5jb250YWlucyA9IGZ1bmN0aW9uKCBjb250ZXh0LCBlbGVtICkge1xuXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0aWYgKCAoIGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0ICkgIT09IGRvY3VtZW50ICkge1xuXHRcdHNldERvY3VtZW50KCBjb250ZXh0ICk7XG5cdH1cblx0cmV0dXJuIGNvbnRhaW5zKCBjb250ZXh0LCBlbGVtICk7XG59O1xuXG5TaXp6bGUuYXR0ciA9IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcblx0aWYgKCAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtICkgIT09IGRvY3VtZW50ICkge1xuXHRcdHNldERvY3VtZW50KCBlbGVtICk7XG5cdH1cblxuXHR2YXIgZm4gPSBFeHByLmF0dHJIYW5kbGVbIG5hbWUudG9Mb3dlckNhc2UoKSBdLFxuXHRcdC8vIERvbid0IGdldCBmb29sZWQgYnkgT2JqZWN0LnByb3RvdHlwZSBwcm9wZXJ0aWVzIChqUXVlcnkgIzEzODA3KVxuXHRcdHZhbCA9IGZuICYmIGhhc093bi5jYWxsKCBFeHByLmF0dHJIYW5kbGUsIG5hbWUudG9Mb3dlckNhc2UoKSApID9cblx0XHRcdGZuKCBlbGVtLCBuYW1lLCAhZG9jdW1lbnRJc0hUTUwgKSA6XG5cdFx0XHR1bmRlZmluZWQ7XG5cblx0cmV0dXJuIHZhbCAhPT0gdW5kZWZpbmVkID9cblx0XHR2YWwgOlxuXHRcdHN1cHBvcnQuYXR0cmlidXRlcyB8fCAhZG9jdW1lbnRJc0hUTUwgP1xuXHRcdFx0ZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUgKSA6XG5cdFx0XHQodmFsID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKG5hbWUpKSAmJiB2YWwuc3BlY2lmaWVkID9cblx0XHRcdFx0dmFsLnZhbHVlIDpcblx0XHRcdFx0bnVsbDtcbn07XG5cblNpenpsZS5lc2NhcGUgPSBmdW5jdGlvbiggc2VsICkge1xuXHRyZXR1cm4gKHNlbCArIFwiXCIpLnJlcGxhY2UoIHJjc3Nlc2NhcGUsIGZjc3Nlc2NhcGUgKTtcbn07XG5cblNpenpsZS5lcnJvciA9IGZ1bmN0aW9uKCBtc2cgKSB7XG5cdHRocm93IG5ldyBFcnJvciggXCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiBcIiArIG1zZyApO1xufTtcblxuLyoqXG4gKiBEb2N1bWVudCBzb3J0aW5nIGFuZCByZW1vdmluZyBkdXBsaWNhdGVzXG4gKiBAcGFyYW0ge0FycmF5TGlrZX0gcmVzdWx0c1xuICovXG5TaXp6bGUudW5pcXVlU29ydCA9IGZ1bmN0aW9uKCByZXN1bHRzICkge1xuXHR2YXIgZWxlbSxcblx0XHRkdXBsaWNhdGVzID0gW10sXG5cdFx0aiA9IDAsXG5cdFx0aSA9IDA7XG5cblx0Ly8gVW5sZXNzIHdlICprbm93KiB3ZSBjYW4gZGV0ZWN0IGR1cGxpY2F0ZXMsIGFzc3VtZSB0aGVpciBwcmVzZW5jZVxuXHRoYXNEdXBsaWNhdGUgPSAhc3VwcG9ydC5kZXRlY3REdXBsaWNhdGVzO1xuXHRzb3J0SW5wdXQgPSAhc3VwcG9ydC5zb3J0U3RhYmxlICYmIHJlc3VsdHMuc2xpY2UoIDAgKTtcblx0cmVzdWx0cy5zb3J0KCBzb3J0T3JkZXIgKTtcblxuXHRpZiAoIGhhc0R1cGxpY2F0ZSApIHtcblx0XHR3aGlsZSAoIChlbGVtID0gcmVzdWx0c1tpKytdKSApIHtcblx0XHRcdGlmICggZWxlbSA9PT0gcmVzdWx0c1sgaSBdICkge1xuXHRcdFx0XHRqID0gZHVwbGljYXRlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0cmVzdWx0cy5zcGxpY2UoIGR1cGxpY2F0ZXNbIGogXSwgMSApO1xuXHRcdH1cblx0fVxuXG5cdC8vIENsZWFyIGlucHV0IGFmdGVyIHNvcnRpbmcgdG8gcmVsZWFzZSBvYmplY3RzXG5cdC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L3NpenpsZS9wdWxsLzIyNVxuXHRzb3J0SW5wdXQgPSBudWxsO1xuXG5cdHJldHVybiByZXN1bHRzO1xufTtcblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIGZvciByZXRyaWV2aW5nIHRoZSB0ZXh0IHZhbHVlIG9mIGFuIGFycmF5IG9mIERPTSBub2Rlc1xuICogQHBhcmFtIHtBcnJheXxFbGVtZW50fSBlbGVtXG4gKi9cbmdldFRleHQgPSBTaXp6bGUuZ2V0VGV4dCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHR2YXIgbm9kZSxcblx0XHRyZXQgPSBcIlwiLFxuXHRcdGkgPSAwLFxuXHRcdG5vZGVUeXBlID0gZWxlbS5ub2RlVHlwZTtcblxuXHRpZiAoICFub2RlVHlwZSApIHtcblx0XHQvLyBJZiBubyBub2RlVHlwZSwgdGhpcyBpcyBleHBlY3RlZCB0byBiZSBhbiBhcnJheVxuXHRcdHdoaWxlICggKG5vZGUgPSBlbGVtW2krK10pICkge1xuXHRcdFx0Ly8gRG8gbm90IHRyYXZlcnNlIGNvbW1lbnQgbm9kZXNcblx0XHRcdHJldCArPSBnZXRUZXh0KCBub2RlICk7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKCBub2RlVHlwZSA9PT0gMSB8fCBub2RlVHlwZSA9PT0gOSB8fCBub2RlVHlwZSA9PT0gMTEgKSB7XG5cdFx0Ly8gVXNlIHRleHRDb250ZW50IGZvciBlbGVtZW50c1xuXHRcdC8vIGlubmVyVGV4dCB1c2FnZSByZW1vdmVkIGZvciBjb25zaXN0ZW5jeSBvZiBuZXcgbGluZXMgKGpRdWVyeSAjMTExNTMpXG5cdFx0aWYgKCB0eXBlb2YgZWxlbS50ZXh0Q29udGVudCA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiBlbGVtLnRleHRDb250ZW50O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBUcmF2ZXJzZSBpdHMgY2hpbGRyZW5cblx0XHRcdGZvciAoIGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7IGVsZW07IGVsZW0gPSBlbGVtLm5leHRTaWJsaW5nICkge1xuXHRcdFx0XHRyZXQgKz0gZ2V0VGV4dCggZWxlbSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDMgfHwgbm9kZVR5cGUgPT09IDQgKSB7XG5cdFx0cmV0dXJuIGVsZW0ubm9kZVZhbHVlO1xuXHR9XG5cdC8vIERvIG5vdCBpbmNsdWRlIGNvbW1lbnQgb3IgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbiBub2Rlc1xuXG5cdHJldHVybiByZXQ7XG59O1xuXG5FeHByID0gU2l6emxlLnNlbGVjdG9ycyA9IHtcblxuXHQvLyBDYW4gYmUgYWRqdXN0ZWQgYnkgdGhlIHVzZXJcblx0Y2FjaGVMZW5ndGg6IDUwLFxuXG5cdGNyZWF0ZVBzZXVkbzogbWFya0Z1bmN0aW9uLFxuXG5cdG1hdGNoOiBtYXRjaEV4cHIsXG5cblx0YXR0ckhhbmRsZToge30sXG5cblx0ZmluZDoge30sXG5cblx0cmVsYXRpdmU6IHtcblx0XHRcIj5cIjogeyBkaXI6IFwicGFyZW50Tm9kZVwiLCBmaXJzdDogdHJ1ZSB9LFxuXHRcdFwiIFwiOiB7IGRpcjogXCJwYXJlbnROb2RlXCIgfSxcblx0XHRcIitcIjogeyBkaXI6IFwicHJldmlvdXNTaWJsaW5nXCIsIGZpcnN0OiB0cnVlIH0sXG5cdFx0XCJ+XCI6IHsgZGlyOiBcInByZXZpb3VzU2libGluZ1wiIH1cblx0fSxcblxuXHRwcmVGaWx0ZXI6IHtcblx0XHRcIkFUVFJcIjogZnVuY3Rpb24oIG1hdGNoICkge1xuXHRcdFx0bWF0Y2hbMV0gPSBtYXRjaFsxXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXG5cdFx0XHQvLyBNb3ZlIHRoZSBnaXZlbiB2YWx1ZSB0byBtYXRjaFszXSB3aGV0aGVyIHF1b3RlZCBvciB1bnF1b3RlZFxuXHRcdFx0bWF0Y2hbM10gPSAoIG1hdGNoWzNdIHx8IG1hdGNoWzRdIHx8IG1hdGNoWzVdIHx8IFwiXCIgKS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xuXG5cdFx0XHRpZiAoIG1hdGNoWzJdID09PSBcIn49XCIgKSB7XG5cdFx0XHRcdG1hdGNoWzNdID0gXCIgXCIgKyBtYXRjaFszXSArIFwiIFwiO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbWF0Y2guc2xpY2UoIDAsIDQgKTtcblx0XHR9LFxuXG5cdFx0XCJDSElMRFwiOiBmdW5jdGlvbiggbWF0Y2ggKSB7XG5cdFx0XHQvKiBtYXRjaGVzIGZyb20gbWF0Y2hFeHByW1wiQ0hJTERcIl1cblx0XHRcdFx0MSB0eXBlIChvbmx5fG50aHwuLi4pXG5cdFx0XHRcdDIgd2hhdCAoY2hpbGR8b2YtdHlwZSlcblx0XHRcdFx0MyBhcmd1bWVudCAoZXZlbnxvZGR8XFxkKnxcXGQqbihbKy1dXFxkKyk/fC4uLilcblx0XHRcdFx0NCB4bi1jb21wb25lbnQgb2YgeG4reSBhcmd1bWVudCAoWystXT9cXGQqbnwpXG5cdFx0XHRcdDUgc2lnbiBvZiB4bi1jb21wb25lbnRcblx0XHRcdFx0NiB4IG9mIHhuLWNvbXBvbmVudFxuXHRcdFx0XHQ3IHNpZ24gb2YgeS1jb21wb25lbnRcblx0XHRcdFx0OCB5IG9mIHktY29tcG9uZW50XG5cdFx0XHQqL1xuXHRcdFx0bWF0Y2hbMV0gPSBtYXRjaFsxXS50b0xvd2VyQ2FzZSgpO1xuXG5cdFx0XHRpZiAoIG1hdGNoWzFdLnNsaWNlKCAwLCAzICkgPT09IFwibnRoXCIgKSB7XG5cdFx0XHRcdC8vIG50aC0qIHJlcXVpcmVzIGFyZ3VtZW50XG5cdFx0XHRcdGlmICggIW1hdGNoWzNdICkge1xuXHRcdFx0XHRcdFNpenpsZS5lcnJvciggbWF0Y2hbMF0gKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIG51bWVyaWMgeCBhbmQgeSBwYXJhbWV0ZXJzIGZvciBFeHByLmZpbHRlci5DSElMRFxuXHRcdFx0XHQvLyByZW1lbWJlciB0aGF0IGZhbHNlL3RydWUgY2FzdCByZXNwZWN0aXZlbHkgdG8gMC8xXG5cdFx0XHRcdG1hdGNoWzRdID0gKyggbWF0Y2hbNF0gPyBtYXRjaFs1XSArIChtYXRjaFs2XSB8fCAxKSA6IDIgKiAoIG1hdGNoWzNdID09PSBcImV2ZW5cIiB8fCBtYXRjaFszXSA9PT0gXCJvZGRcIiApICk7XG5cdFx0XHRcdG1hdGNoWzVdID0gKyggKCBtYXRjaFs3XSArIG1hdGNoWzhdICkgfHwgbWF0Y2hbM10gPT09IFwib2RkXCIgKTtcblxuXHRcdFx0Ly8gb3RoZXIgdHlwZXMgcHJvaGliaXQgYXJndW1lbnRzXG5cdFx0XHR9IGVsc2UgaWYgKCBtYXRjaFszXSApIHtcblx0XHRcdFx0U2l6emxlLmVycm9yKCBtYXRjaFswXSApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbWF0Y2g7XG5cdFx0fSxcblxuXHRcdFwiUFNFVURPXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcblx0XHRcdHZhciBleGNlc3MsXG5cdFx0XHRcdHVucXVvdGVkID0gIW1hdGNoWzZdICYmIG1hdGNoWzJdO1xuXG5cdFx0XHRpZiAoIG1hdGNoRXhwcltcIkNISUxEXCJdLnRlc3QoIG1hdGNoWzBdICkgKSB7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBY2NlcHQgcXVvdGVkIGFyZ3VtZW50cyBhcy1pc1xuXHRcdFx0aWYgKCBtYXRjaFszXSApIHtcblx0XHRcdFx0bWF0Y2hbMl0gPSBtYXRjaFs0XSB8fCBtYXRjaFs1XSB8fCBcIlwiO1xuXG5cdFx0XHQvLyBTdHJpcCBleGNlc3MgY2hhcmFjdGVycyBmcm9tIHVucXVvdGVkIGFyZ3VtZW50c1xuXHRcdFx0fSBlbHNlIGlmICggdW5xdW90ZWQgJiYgcnBzZXVkby50ZXN0KCB1bnF1b3RlZCApICYmXG5cdFx0XHRcdC8vIEdldCBleGNlc3MgZnJvbSB0b2tlbml6ZSAocmVjdXJzaXZlbHkpXG5cdFx0XHRcdChleGNlc3MgPSB0b2tlbml6ZSggdW5xdW90ZWQsIHRydWUgKSkgJiZcblx0XHRcdFx0Ly8gYWR2YW5jZSB0byB0aGUgbmV4dCBjbG9zaW5nIHBhcmVudGhlc2lzXG5cdFx0XHRcdChleGNlc3MgPSB1bnF1b3RlZC5pbmRleE9mKCBcIilcIiwgdW5xdW90ZWQubGVuZ3RoIC0gZXhjZXNzICkgLSB1bnF1b3RlZC5sZW5ndGgpICkge1xuXG5cdFx0XHRcdC8vIGV4Y2VzcyBpcyBhIG5lZ2F0aXZlIGluZGV4XG5cdFx0XHRcdG1hdGNoWzBdID0gbWF0Y2hbMF0uc2xpY2UoIDAsIGV4Y2VzcyApO1xuXHRcdFx0XHRtYXRjaFsyXSA9IHVucXVvdGVkLnNsaWNlKCAwLCBleGNlc3MgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmV0dXJuIG9ubHkgY2FwdHVyZXMgbmVlZGVkIGJ5IHRoZSBwc2V1ZG8gZmlsdGVyIG1ldGhvZCAodHlwZSBhbmQgYXJndW1lbnQpXG5cdFx0XHRyZXR1cm4gbWF0Y2guc2xpY2UoIDAsIDMgKTtcblx0XHR9XG5cdH0sXG5cblx0ZmlsdGVyOiB7XG5cblx0XHRcIlRBR1wiOiBmdW5jdGlvbiggbm9kZU5hbWVTZWxlY3RvciApIHtcblx0XHRcdHZhciBub2RlTmFtZSA9IG5vZGVOYW1lU2VsZWN0b3IucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIG5vZGVOYW1lU2VsZWN0b3IgPT09IFwiKlwiID9cblx0XHRcdFx0ZnVuY3Rpb24oKSB7IHJldHVybiB0cnVlOyB9IDpcblx0XHRcdFx0ZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBub2RlTmFtZTtcblx0XHRcdFx0fTtcblx0XHR9LFxuXG5cdFx0XCJDTEFTU1wiOiBmdW5jdGlvbiggY2xhc3NOYW1lICkge1xuXHRcdFx0dmFyIHBhdHRlcm4gPSBjbGFzc0NhY2hlWyBjbGFzc05hbWUgKyBcIiBcIiBdO1xuXG5cdFx0XHRyZXR1cm4gcGF0dGVybiB8fFxuXHRcdFx0XHQocGF0dGVybiA9IG5ldyBSZWdFeHAoIFwiKF58XCIgKyB3aGl0ZXNwYWNlICsgXCIpXCIgKyBjbGFzc05hbWUgKyBcIihcIiArIHdoaXRlc3BhY2UgKyBcInwkKVwiICkpICYmXG5cdFx0XHRcdGNsYXNzQ2FjaGUoIGNsYXNzTmFtZSwgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHBhdHRlcm4udGVzdCggdHlwZW9mIGVsZW0uY2xhc3NOYW1lID09PSBcInN0cmluZ1wiICYmIGVsZW0uY2xhc3NOYW1lIHx8IHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBlbGVtLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpIHx8IFwiXCIgKTtcblx0XHRcdFx0fSk7XG5cdFx0fSxcblxuXHRcdFwiQVRUUlwiOiBmdW5jdGlvbiggbmFtZSwgb3BlcmF0b3IsIGNoZWNrICkge1xuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgcmVzdWx0ID0gU2l6emxlLmF0dHIoIGVsZW0sIG5hbWUgKTtcblxuXHRcdFx0XHRpZiAoIHJlc3VsdCA9PSBudWxsICkge1xuXHRcdFx0XHRcdHJldHVybiBvcGVyYXRvciA9PT0gXCIhPVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggIW9wZXJhdG9yICkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmVzdWx0ICs9IFwiXCI7XG5cblx0XHRcdFx0cmV0dXJuIG9wZXJhdG9yID09PSBcIj1cIiA/IHJlc3VsdCA9PT0gY2hlY2sgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIiE9XCIgPyByZXN1bHQgIT09IGNoZWNrIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCJePVwiID8gY2hlY2sgJiYgcmVzdWx0LmluZGV4T2YoIGNoZWNrICkgPT09IDAgOlxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIio9XCIgPyBjaGVjayAmJiByZXN1bHQuaW5kZXhPZiggY2hlY2sgKSA+IC0xIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCIkPVwiID8gY2hlY2sgJiYgcmVzdWx0LnNsaWNlKCAtY2hlY2subGVuZ3RoICkgPT09IGNoZWNrIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCJ+PVwiID8gKCBcIiBcIiArIHJlc3VsdC5yZXBsYWNlKCByd2hpdGVzcGFjZSwgXCIgXCIgKSArIFwiIFwiICkuaW5kZXhPZiggY2hlY2sgKSA+IC0xIDpcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCJ8PVwiID8gcmVzdWx0ID09PSBjaGVjayB8fCByZXN1bHQuc2xpY2UoIDAsIGNoZWNrLmxlbmd0aCArIDEgKSA9PT0gY2hlY2sgKyBcIi1cIiA6XG5cdFx0XHRcdFx0ZmFsc2U7XG5cdFx0XHR9O1xuXHRcdH0sXG5cblx0XHRcIkNISUxEXCI6IGZ1bmN0aW9uKCB0eXBlLCB3aGF0LCBhcmd1bWVudCwgZmlyc3QsIGxhc3QgKSB7XG5cdFx0XHR2YXIgc2ltcGxlID0gdHlwZS5zbGljZSggMCwgMyApICE9PSBcIm50aFwiLFxuXHRcdFx0XHRmb3J3YXJkID0gdHlwZS5zbGljZSggLTQgKSAhPT0gXCJsYXN0XCIsXG5cdFx0XHRcdG9mVHlwZSA9IHdoYXQgPT09IFwib2YtdHlwZVwiO1xuXG5cdFx0XHRyZXR1cm4gZmlyc3QgPT09IDEgJiYgbGFzdCA9PT0gMCA/XG5cblx0XHRcdFx0Ly8gU2hvcnRjdXQgZm9yIDpudGgtKihuKVxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRyZXR1cm4gISFlbGVtLnBhcmVudE5vZGU7XG5cdFx0XHRcdH0gOlxuXG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHRcdFx0dmFyIGNhY2hlLCB1bmlxdWVDYWNoZSwgb3V0ZXJDYWNoZSwgbm9kZSwgbm9kZUluZGV4LCBzdGFydCxcblx0XHRcdFx0XHRcdGRpciA9IHNpbXBsZSAhPT0gZm9yd2FyZCA/IFwibmV4dFNpYmxpbmdcIiA6IFwicHJldmlvdXNTaWJsaW5nXCIsXG5cdFx0XHRcdFx0XHRwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGUsXG5cdFx0XHRcdFx0XHRuYW1lID0gb2ZUeXBlICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcblx0XHRcdFx0XHRcdHVzZUNhY2hlID0gIXhtbCAmJiAhb2ZUeXBlLFxuXHRcdFx0XHRcdFx0ZGlmZiA9IGZhbHNlO1xuXG5cdFx0XHRcdFx0aWYgKCBwYXJlbnQgKSB7XG5cblx0XHRcdFx0XHRcdC8vIDooZmlyc3R8bGFzdHxvbmx5KS0oY2hpbGR8b2YtdHlwZSlcblx0XHRcdFx0XHRcdGlmICggc2ltcGxlICkge1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoIGRpciApIHtcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbTtcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSAoIChub2RlID0gbm9kZVsgZGlyIF0pICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBvZlR5cGUgP1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUgOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVUeXBlID09PSAxICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0Ly8gUmV2ZXJzZSBkaXJlY3Rpb24gZm9yIDpvbmx5LSogKGlmIHdlIGhhdmVuJ3QgeWV0IGRvbmUgc28pXG5cdFx0XHRcdFx0XHRcdFx0c3RhcnQgPSBkaXIgPSB0eXBlID09PSBcIm9ubHlcIiAmJiAhc3RhcnQgJiYgXCJuZXh0U2libGluZ1wiO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRzdGFydCA9IFsgZm9yd2FyZCA/IHBhcmVudC5maXJzdENoaWxkIDogcGFyZW50Lmxhc3RDaGlsZCBdO1xuXG5cdFx0XHRcdFx0XHQvLyBub24teG1sIDpudGgtY2hpbGQoLi4uKSBzdG9yZXMgY2FjaGUgZGF0YSBvbiBgcGFyZW50YFxuXHRcdFx0XHRcdFx0aWYgKCBmb3J3YXJkICYmIHVzZUNhY2hlICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIFNlZWsgYGVsZW1gIGZyb20gYSBwcmV2aW91c2x5LWNhY2hlZCBpbmRleFxuXG5cdFx0XHRcdFx0XHRcdC8vIC4uLmluIGEgZ3ppcC1mcmllbmRseSB3YXlcblx0XHRcdFx0XHRcdFx0bm9kZSA9IHBhcmVudDtcblx0XHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IG5vZGVbIGV4cGFuZG8gXSB8fCAobm9kZVsgZXhwYW5kbyBdID0ge30pO1xuXG5cdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0KG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHRjYWNoZSA9IHVuaXF1ZUNhY2hlWyB0eXBlIF0gfHwgW107XG5cdFx0XHRcdFx0XHRcdG5vZGVJbmRleCA9IGNhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgY2FjaGVbIDEgXTtcblx0XHRcdFx0XHRcdFx0ZGlmZiA9IG5vZGVJbmRleCAmJiBjYWNoZVsgMiBdO1xuXHRcdFx0XHRcdFx0XHRub2RlID0gbm9kZUluZGV4ICYmIHBhcmVudC5jaGlsZE5vZGVzWyBub2RlSW5kZXggXTtcblxuXHRcdFx0XHRcdFx0XHR3aGlsZSAoIChub2RlID0gKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlWyBkaXIgXSB8fFxuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gRmFsbGJhY2sgdG8gc2Vla2luZyBgZWxlbWAgZnJvbSB0aGUgc3RhcnRcblx0XHRcdFx0XHRcdFx0XHQoZGlmZiA9IG5vZGVJbmRleCA9IDApIHx8IHN0YXJ0LnBvcCgpKSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFdoZW4gZm91bmQsIGNhY2hlIGluZGV4ZXMgb24gYHBhcmVudGAgYW5kIGJyZWFrXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBub2RlLm5vZGVUeXBlID09PSAxICYmICsrZGlmZiAmJiBub2RlID09PSBlbGVtICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGVbIHR5cGUgXSA9IFsgZGlycnVucywgbm9kZUluZGV4LCBkaWZmIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Ly8gVXNlIHByZXZpb3VzbHktY2FjaGVkIGVsZW1lbnQgaW5kZXggaWYgYXZhaWxhYmxlXG5cdFx0XHRcdFx0XHRcdGlmICggdXNlQ2FjaGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gLi4uaW4gYSBnemlwLWZyaWVuZGx5IHdheVxuXHRcdFx0XHRcdFx0XHRcdG5vZGUgPSBlbGVtO1xuXHRcdFx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBub2RlWyBleHBhbmRvIF0gfHwgKG5vZGVbIGV4cGFuZG8gXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw5IG9ubHlcblx0XHRcdFx0XHRcdFx0XHQvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gtMTcwOSlcblx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0KG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0XHRcdGNhY2hlID0gdW5pcXVlQ2FjaGVbIHR5cGUgXSB8fCBbXTtcblx0XHRcdFx0XHRcdFx0XHRub2RlSW5kZXggPSBjYWNoZVsgMCBdID09PSBkaXJydW5zICYmIGNhY2hlWyAxIF07XG5cdFx0XHRcdFx0XHRcdFx0ZGlmZiA9IG5vZGVJbmRleDtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdC8vIHhtbCA6bnRoLWNoaWxkKC4uLilcblx0XHRcdFx0XHRcdFx0Ly8gb3IgOm50aC1sYXN0LWNoaWxkKC4uLikgb3IgOm50aCgtbGFzdCk/LW9mLXR5cGUoLi4uKVxuXHRcdFx0XHRcdFx0XHRpZiAoIGRpZmYgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIFVzZSB0aGUgc2FtZSBsb29wIGFzIGFib3ZlIHRvIHNlZWsgYGVsZW1gIGZyb20gdGhlIHN0YXJ0XG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKCAobm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVsgZGlyIF0gfHxcblx0XHRcdFx0XHRcdFx0XHRcdChkaWZmID0gbm9kZUluZGV4ID0gMCkgfHwgc3RhcnQucG9wKCkpICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoICggb2ZUeXBlID9cblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lIDpcblx0XHRcdFx0XHRcdFx0XHRcdFx0bm9kZS5ub2RlVHlwZSA9PT0gMSApICYmXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCsrZGlmZiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBDYWNoZSB0aGUgaW5kZXggb2YgZWFjaCBlbmNvdW50ZXJlZCBlbGVtZW50XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggdXNlQ2FjaGUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IG5vZGVbIGV4cGFuZG8gXSB8fCAobm9kZVsgZXhwYW5kbyBdID0ge30pO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPDkgb25seVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIERlZmVuZCBhZ2FpbnN0IGNsb25lZCBhdHRyb3BlcnRpZXMgKGpRdWVyeSBnaC0xNzA5KVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlID0gb3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQob3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdID0ge30pO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGVbIHR5cGUgXSA9IFsgZGlycnVucywgZGlmZiBdO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBub2RlID09PSBlbGVtICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIEluY29ycG9yYXRlIHRoZSBvZmZzZXQsIHRoZW4gY2hlY2sgYWdhaW5zdCBjeWNsZSBzaXplXG5cdFx0XHRcdFx0XHRkaWZmIC09IGxhc3Q7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZGlmZiA9PT0gZmlyc3QgfHwgKCBkaWZmICUgZmlyc3QgPT09IDAgJiYgZGlmZiAvIGZpcnN0ID49IDAgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0fSxcblxuXHRcdFwiUFNFVURPXCI6IGZ1bmN0aW9uKCBwc2V1ZG8sIGFyZ3VtZW50ICkge1xuXHRcdFx0Ly8gcHNldWRvLWNsYXNzIG5hbWVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlXG5cdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI3BzZXVkby1jbGFzc2VzXG5cdFx0XHQvLyBQcmlvcml0aXplIGJ5IGNhc2Ugc2Vuc2l0aXZpdHkgaW4gY2FzZSBjdXN0b20gcHNldWRvcyBhcmUgYWRkZWQgd2l0aCB1cHBlcmNhc2UgbGV0dGVyc1xuXHRcdFx0Ly8gUmVtZW1iZXIgdGhhdCBzZXRGaWx0ZXJzIGluaGVyaXRzIGZyb20gcHNldWRvc1xuXHRcdFx0dmFyIGFyZ3MsXG5cdFx0XHRcdGZuID0gRXhwci5wc2V1ZG9zWyBwc2V1ZG8gXSB8fCBFeHByLnNldEZpbHRlcnNbIHBzZXVkby50b0xvd2VyQ2FzZSgpIF0gfHxcblx0XHRcdFx0XHRTaXp6bGUuZXJyb3IoIFwidW5zdXBwb3J0ZWQgcHNldWRvOiBcIiArIHBzZXVkbyApO1xuXG5cdFx0XHQvLyBUaGUgdXNlciBtYXkgdXNlIGNyZWF0ZVBzZXVkbyB0byBpbmRpY2F0ZSB0aGF0XG5cdFx0XHQvLyBhcmd1bWVudHMgYXJlIG5lZWRlZCB0byBjcmVhdGUgdGhlIGZpbHRlciBmdW5jdGlvblxuXHRcdFx0Ly8ganVzdCBhcyBTaXp6bGUgZG9lc1xuXHRcdFx0aWYgKCBmblsgZXhwYW5kbyBdICkge1xuXHRcdFx0XHRyZXR1cm4gZm4oIGFyZ3VtZW50ICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEJ1dCBtYWludGFpbiBzdXBwb3J0IGZvciBvbGQgc2lnbmF0dXJlc1xuXHRcdFx0aWYgKCBmbi5sZW5ndGggPiAxICkge1xuXHRcdFx0XHRhcmdzID0gWyBwc2V1ZG8sIHBzZXVkbywgXCJcIiwgYXJndW1lbnQgXTtcblx0XHRcdFx0cmV0dXJuIEV4cHIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eSggcHNldWRvLnRvTG93ZXJDYXNlKCkgKSA/XG5cdFx0XHRcdFx0bWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzICkge1xuXHRcdFx0XHRcdFx0dmFyIGlkeCxcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZCA9IGZuKCBzZWVkLCBhcmd1bWVudCApLFxuXHRcdFx0XHRcdFx0XHRpID0gbWF0Y2hlZC5sZW5ndGg7XG5cdFx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0XHRcdFx0aWR4ID0gaW5kZXhPZiggc2VlZCwgbWF0Y2hlZFtpXSApO1xuXHRcdFx0XHRcdFx0XHRzZWVkWyBpZHggXSA9ICEoIG1hdGNoZXNbIGlkeCBdID0gbWF0Y2hlZFtpXSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pIDpcblx0XHRcdFx0XHRmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0XHRcdHJldHVybiBmbiggZWxlbSwgMCwgYXJncyApO1xuXHRcdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBmbjtcblx0XHR9XG5cdH0sXG5cblx0cHNldWRvczoge1xuXHRcdC8vIFBvdGVudGlhbGx5IGNvbXBsZXggcHNldWRvc1xuXHRcdFwibm90XCI6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHQvLyBUcmltIHRoZSBzZWxlY3RvciBwYXNzZWQgdG8gY29tcGlsZVxuXHRcdFx0Ly8gdG8gYXZvaWQgdHJlYXRpbmcgbGVhZGluZyBhbmQgdHJhaWxpbmdcblx0XHRcdC8vIHNwYWNlcyBhcyBjb21iaW5hdG9yc1xuXHRcdFx0dmFyIGlucHV0ID0gW10sXG5cdFx0XHRcdHJlc3VsdHMgPSBbXSxcblx0XHRcdFx0bWF0Y2hlciA9IGNvbXBpbGUoIHNlbGVjdG9yLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSApO1xuXG5cdFx0XHRyZXR1cm4gbWF0Y2hlclsgZXhwYW5kbyBdID9cblx0XHRcdFx0bWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHRcdFx0dmFyIGVsZW0sXG5cdFx0XHRcdFx0XHR1bm1hdGNoZWQgPSBtYXRjaGVyKCBzZWVkLCBudWxsLCB4bWwsIFtdICksXG5cdFx0XHRcdFx0XHRpID0gc2VlZC5sZW5ndGg7XG5cblx0XHRcdFx0XHQvLyBNYXRjaCBlbGVtZW50cyB1bm1hdGNoZWQgYnkgYG1hdGNoZXJgXG5cdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRpZiAoIChlbGVtID0gdW5tYXRjaGVkW2ldKSApIHtcblx0XHRcdFx0XHRcdFx0c2VlZFtpXSA9ICEobWF0Y2hlc1tpXSA9IGVsZW0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSkgOlxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0XHRcdGlucHV0WzBdID0gZWxlbTtcblx0XHRcdFx0XHRtYXRjaGVyKCBpbnB1dCwgbnVsbCwgeG1sLCByZXN1bHRzICk7XG5cdFx0XHRcdFx0Ly8gRG9uJ3Qga2VlcCB0aGUgZWxlbWVudCAoaXNzdWUgIzI5OSlcblx0XHRcdFx0XHRpbnB1dFswXSA9IG51bGw7XG5cdFx0XHRcdFx0cmV0dXJuICFyZXN1bHRzLnBvcCgpO1xuXHRcdFx0XHR9O1xuXHRcdH0pLFxuXG5cdFx0XCJoYXNcIjogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuIFNpenpsZSggc2VsZWN0b3IsIGVsZW0gKS5sZW5ndGggPiAwO1xuXHRcdFx0fTtcblx0XHR9KSxcblxuXHRcdFwiY29udGFpbnNcIjogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCB0ZXh0ICkge1xuXHRcdFx0dGV4dCA9IHRleHQucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKTtcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdFx0cmV0dXJuICggZWxlbS50ZXh0Q29udGVudCB8fCBlbGVtLmlubmVyVGV4dCB8fCBnZXRUZXh0KCBlbGVtICkgKS5pbmRleE9mKCB0ZXh0ICkgPiAtMTtcblx0XHRcdH07XG5cdFx0fSksXG5cblx0XHQvLyBcIldoZXRoZXIgYW4gZWxlbWVudCBpcyByZXByZXNlbnRlZCBieSBhIDpsYW5nKCkgc2VsZWN0b3Jcblx0XHQvLyBpcyBiYXNlZCBzb2xlbHkgb24gdGhlIGVsZW1lbnQncyBsYW5ndWFnZSB2YWx1ZVxuXHRcdC8vIGJlaW5nIGVxdWFsIHRvIHRoZSBpZGVudGlmaWVyIEMsXG5cdFx0Ly8gb3IgYmVnaW5uaW5nIHdpdGggdGhlIGlkZW50aWZpZXIgQyBpbW1lZGlhdGVseSBmb2xsb3dlZCBieSBcIi1cIi5cblx0XHQvLyBUaGUgbWF0Y2hpbmcgb2YgQyBhZ2FpbnN0IHRoZSBlbGVtZW50J3MgbGFuZ3VhZ2UgdmFsdWUgaXMgcGVyZm9ybWVkIGNhc2UtaW5zZW5zaXRpdmVseS5cblx0XHQvLyBUaGUgaWRlbnRpZmllciBDIGRvZXMgbm90IGhhdmUgdG8gYmUgYSB2YWxpZCBsYW5ndWFnZSBuYW1lLlwiXG5cdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNsYW5nLXBzZXVkb1xuXHRcdFwibGFuZ1wiOiBtYXJrRnVuY3Rpb24oIGZ1bmN0aW9uKCBsYW5nICkge1xuXHRcdFx0Ly8gbGFuZyB2YWx1ZSBtdXN0IGJlIGEgdmFsaWQgaWRlbnRpZmllclxuXHRcdFx0aWYgKCAhcmlkZW50aWZpZXIudGVzdChsYW5nIHx8IFwiXCIpICkge1xuXHRcdFx0XHRTaXp6bGUuZXJyb3IoIFwidW5zdXBwb3J0ZWQgbGFuZzogXCIgKyBsYW5nICk7XG5cdFx0XHR9XG5cdFx0XHRsYW5nID0gbGFuZy5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRcdHZhciBlbGVtTGFuZztcblx0XHRcdFx0ZG8ge1xuXHRcdFx0XHRcdGlmICggKGVsZW1MYW5nID0gZG9jdW1lbnRJc0hUTUwgP1xuXHRcdFx0XHRcdFx0ZWxlbS5sYW5nIDpcblx0XHRcdFx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlKFwieG1sOmxhbmdcIikgfHwgZWxlbS5nZXRBdHRyaWJ1dGUoXCJsYW5nXCIpKSApIHtcblxuXHRcdFx0XHRcdFx0ZWxlbUxhbmcgPSBlbGVtTGFuZy50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW1MYW5nID09PSBsYW5nIHx8IGVsZW1MYW5nLmluZGV4T2YoIGxhbmcgKyBcIi1cIiApID09PSAwO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSB3aGlsZSAoIChlbGVtID0gZWxlbS5wYXJlbnROb2RlKSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICk7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH07XG5cdFx0fSksXG5cblx0XHQvLyBNaXNjZWxsYW5lb3VzXG5cdFx0XCJ0YXJnZXRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbiAmJiB3aW5kb3cubG9jYXRpb24uaGFzaDtcblx0XHRcdHJldHVybiBoYXNoICYmIGhhc2guc2xpY2UoIDEgKSA9PT0gZWxlbS5pZDtcblx0XHR9LFxuXG5cdFx0XCJyb290XCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0gPT09IGRvY0VsZW07XG5cdFx0fSxcblxuXHRcdFwiZm9jdXNcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gZWxlbSA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAmJiAoIWRvY3VtZW50Lmhhc0ZvY3VzIHx8IGRvY3VtZW50Lmhhc0ZvY3VzKCkpICYmICEhKGVsZW0udHlwZSB8fCBlbGVtLmhyZWYgfHwgfmVsZW0udGFiSW5kZXgpO1xuXHRcdH0sXG5cblx0XHQvLyBCb29sZWFuIHByb3BlcnRpZXNcblx0XHRcImVuYWJsZWRcIjogY3JlYXRlRGlzYWJsZWRQc2V1ZG8oIGZhbHNlICksXG5cdFx0XCJkaXNhYmxlZFwiOiBjcmVhdGVEaXNhYmxlZFBzZXVkbyggdHJ1ZSApLFxuXG5cdFx0XCJjaGVja2VkXCI6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0Ly8gSW4gQ1NTMywgOmNoZWNrZWQgc2hvdWxkIHJldHVybiBib3RoIGNoZWNrZWQgYW5kIHNlbGVjdGVkIGVsZW1lbnRzXG5cdFx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi8yMDExL1JFQy1jc3MzLXNlbGVjdG9ycy0yMDExMDkyOS8jY2hlY2tlZFxuXHRcdFx0dmFyIG5vZGVOYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0cmV0dXJuIChub2RlTmFtZSA9PT0gXCJpbnB1dFwiICYmICEhZWxlbS5jaGVja2VkKSB8fCAobm9kZU5hbWUgPT09IFwib3B0aW9uXCIgJiYgISFlbGVtLnNlbGVjdGVkKTtcblx0XHR9LFxuXG5cdFx0XCJzZWxlY3RlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdC8vIEFjY2Vzc2luZyB0aGlzIHByb3BlcnR5IG1ha2VzIHNlbGVjdGVkLWJ5LWRlZmF1bHRcblx0XHRcdC8vIG9wdGlvbnMgaW4gU2FmYXJpIHdvcmsgcHJvcGVybHlcblx0XHRcdGlmICggZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRlbGVtLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGVsZW0uc2VsZWN0ZWQgPT09IHRydWU7XG5cdFx0fSxcblxuXHRcdC8vIENvbnRlbnRzXG5cdFx0XCJlbXB0eVwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jZW1wdHktcHNldWRvXG5cdFx0XHQvLyA6ZW1wdHkgaXMgbmVnYXRlZCBieSBlbGVtZW50ICgxKSBvciBjb250ZW50IG5vZGVzICh0ZXh0OiAzOyBjZGF0YTogNDsgZW50aXR5IHJlZjogNSksXG5cdFx0XHQvLyAgIGJ1dCBub3QgYnkgb3RoZXJzIChjb21tZW50OiA4OyBwcm9jZXNzaW5nIGluc3RydWN0aW9uOiA3OyBldGMuKVxuXHRcdFx0Ly8gbm9kZVR5cGUgPCA2IHdvcmtzIGJlY2F1c2UgYXR0cmlidXRlcyAoMikgZG8gbm90IGFwcGVhciBhcyBjaGlsZHJlblxuXHRcdFx0Zm9yICggZWxlbSA9IGVsZW0uZmlyc3RDaGlsZDsgZWxlbTsgZWxlbSA9IGVsZW0ubmV4dFNpYmxpbmcgKSB7XG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA8IDYgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0XCJwYXJlbnRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gIUV4cHIucHNldWRvc1tcImVtcHR5XCJdKCBlbGVtICk7XG5cdFx0fSxcblxuXHRcdC8vIEVsZW1lbnQvaW5wdXQgdHlwZXNcblx0XHRcImhlYWRlclwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiByaGVhZGVyLnRlc3QoIGVsZW0ubm9kZU5hbWUgKTtcblx0XHR9LFxuXG5cdFx0XCJpbnB1dFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHJldHVybiByaW5wdXRzLnRlc3QoIGVsZW0ubm9kZU5hbWUgKTtcblx0XHR9LFxuXG5cdFx0XCJidXR0b25cIjogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHR2YXIgbmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdHJldHVybiBuYW1lID09PSBcImlucHV0XCIgJiYgZWxlbS50eXBlID09PSBcImJ1dHRvblwiIHx8IG5hbWUgPT09IFwiYnV0dG9uXCI7XG5cdFx0fSxcblxuXHRcdFwidGV4dFwiOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHZhciBhdHRyO1xuXHRcdFx0cmV0dXJuIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJpbnB1dFwiICYmXG5cdFx0XHRcdGVsZW0udHlwZSA9PT0gXCJ0ZXh0XCIgJiZcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRTw4XG5cdFx0XHRcdC8vIE5ldyBIVE1MNSBhdHRyaWJ1dGUgdmFsdWVzIChlLmcuLCBcInNlYXJjaFwiKSBhcHBlYXIgd2l0aCBlbGVtLnR5cGUgPT09IFwidGV4dFwiXG5cdFx0XHRcdCggKGF0dHIgPSBlbGVtLmdldEF0dHJpYnV0ZShcInR5cGVcIikpID09IG51bGwgfHwgYXR0ci50b0xvd2VyQ2FzZSgpID09PSBcInRleHRcIiApO1xuXHRcdH0sXG5cblx0XHQvLyBQb3NpdGlvbi1pbi1jb2xsZWN0aW9uXG5cdFx0XCJmaXJzdFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIFsgMCBdO1xuXHRcdH0pLFxuXG5cdFx0XCJsYXN0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIFsgbGVuZ3RoIC0gMSBdO1xuXHRcdH0pLFxuXG5cdFx0XCJlcVwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7XG5cdFx0XHRyZXR1cm4gWyBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50IF07XG5cdFx0fSksXG5cblx0XHRcImV2ZW5cIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGggKSB7XG5cdFx0XHR2YXIgaSA9IDA7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkgKz0gMiApIHtcblx0XHRcdFx0bWF0Y2hJbmRleGVzLnB1c2goIGkgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XG5cdFx0fSksXG5cblx0XHRcIm9kZFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCApIHtcblx0XHRcdHZhciBpID0gMTtcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkge1xuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcblx0XHR9KSxcblxuXHRcdFwibHRcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xuXHRcdFx0dmFyIGkgPSBhcmd1bWVudCA8IDAgPyBhcmd1bWVudCArIGxlbmd0aCA6IGFyZ3VtZW50O1xuXHRcdFx0Zm9yICggOyAtLWkgPj0gMDsgKSB7XG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdH0pLFxuXG5cdFx0XCJndFwiOiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKGZ1bmN0aW9uKCBtYXRjaEluZGV4ZXMsIGxlbmd0aCwgYXJndW1lbnQgKSB7XG5cdFx0XHR2YXIgaSA9IGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQ7XG5cdFx0XHRmb3IgKCA7ICsraSA8IGxlbmd0aDsgKSB7XG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbWF0Y2hJbmRleGVzO1xuXHRcdH0pXG5cdH1cbn07XG5cbkV4cHIucHNldWRvc1tcIm50aFwiXSA9IEV4cHIucHNldWRvc1tcImVxXCJdO1xuXG4vLyBBZGQgYnV0dG9uL2lucHV0IHR5cGUgcHNldWRvc1xuZm9yICggaSBpbiB7IHJhZGlvOiB0cnVlLCBjaGVja2JveDogdHJ1ZSwgZmlsZTogdHJ1ZSwgcGFzc3dvcmQ6IHRydWUsIGltYWdlOiB0cnVlIH0gKSB7XG5cdEV4cHIucHNldWRvc1sgaSBdID0gY3JlYXRlSW5wdXRQc2V1ZG8oIGkgKTtcbn1cbmZvciAoIGkgaW4geyBzdWJtaXQ6IHRydWUsIHJlc2V0OiB0cnVlIH0gKSB7XG5cdEV4cHIucHNldWRvc1sgaSBdID0gY3JlYXRlQnV0dG9uUHNldWRvKCBpICk7XG59XG5cbi8vIEVhc3kgQVBJIGZvciBjcmVhdGluZyBuZXcgc2V0RmlsdGVyc1xuZnVuY3Rpb24gc2V0RmlsdGVycygpIHt9XG5zZXRGaWx0ZXJzLnByb3RvdHlwZSA9IEV4cHIuZmlsdGVycyA9IEV4cHIucHNldWRvcztcbkV4cHIuc2V0RmlsdGVycyA9IG5ldyBzZXRGaWx0ZXJzKCk7XG5cbnRva2VuaXplID0gU2l6emxlLnRva2VuaXplID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBwYXJzZU9ubHkgKSB7XG5cdHZhciBtYXRjaGVkLCBtYXRjaCwgdG9rZW5zLCB0eXBlLFxuXHRcdHNvRmFyLCBncm91cHMsIHByZUZpbHRlcnMsXG5cdFx0Y2FjaGVkID0gdG9rZW5DYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdO1xuXG5cdGlmICggY2FjaGVkICkge1xuXHRcdHJldHVybiBwYXJzZU9ubHkgPyAwIDogY2FjaGVkLnNsaWNlKCAwICk7XG5cdH1cblxuXHRzb0ZhciA9IHNlbGVjdG9yO1xuXHRncm91cHMgPSBbXTtcblx0cHJlRmlsdGVycyA9IEV4cHIucHJlRmlsdGVyO1xuXG5cdHdoaWxlICggc29GYXIgKSB7XG5cblx0XHQvLyBDb21tYSBhbmQgZmlyc3QgcnVuXG5cdFx0aWYgKCAhbWF0Y2hlZCB8fCAobWF0Y2ggPSByY29tbWEuZXhlYyggc29GYXIgKSkgKSB7XG5cdFx0XHRpZiAoIG1hdGNoICkge1xuXHRcdFx0XHQvLyBEb24ndCBjb25zdW1lIHRyYWlsaW5nIGNvbW1hcyBhcyB2YWxpZFxuXHRcdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaFswXS5sZW5ndGggKSB8fCBzb0Zhcjtcblx0XHRcdH1cblx0XHRcdGdyb3Vwcy5wdXNoKCAodG9rZW5zID0gW10pICk7XG5cdFx0fVxuXG5cdFx0bWF0Y2hlZCA9IGZhbHNlO1xuXG5cdFx0Ly8gQ29tYmluYXRvcnNcblx0XHRpZiAoIChtYXRjaCA9IHJjb21iaW5hdG9ycy5leGVjKCBzb0ZhciApKSApIHtcblx0XHRcdG1hdGNoZWQgPSBtYXRjaC5zaGlmdCgpO1xuXHRcdFx0dG9rZW5zLnB1c2goe1xuXHRcdFx0XHR2YWx1ZTogbWF0Y2hlZCxcblx0XHRcdFx0Ly8gQ2FzdCBkZXNjZW5kYW50IGNvbWJpbmF0b3JzIHRvIHNwYWNlXG5cdFx0XHRcdHR5cGU6IG1hdGNoWzBdLnJlcGxhY2UoIHJ0cmltLCBcIiBcIiApXG5cdFx0XHR9KTtcblx0XHRcdHNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoZWQubGVuZ3RoICk7XG5cdFx0fVxuXG5cdFx0Ly8gRmlsdGVyc1xuXHRcdGZvciAoIHR5cGUgaW4gRXhwci5maWx0ZXIgKSB7XG5cdFx0XHRpZiAoIChtYXRjaCA9IG1hdGNoRXhwclsgdHlwZSBdLmV4ZWMoIHNvRmFyICkpICYmICghcHJlRmlsdGVyc1sgdHlwZSBdIHx8XG5cdFx0XHRcdChtYXRjaCA9IHByZUZpbHRlcnNbIHR5cGUgXSggbWF0Y2ggKSkpICkge1xuXHRcdFx0XHRtYXRjaGVkID0gbWF0Y2guc2hpZnQoKTtcblx0XHRcdFx0dG9rZW5zLnB1c2goe1xuXHRcdFx0XHRcdHZhbHVlOiBtYXRjaGVkLFxuXHRcdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdFx0bWF0Y2hlczogbWF0Y2hcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoZWQubGVuZ3RoICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCAhbWF0Y2hlZCApIHtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblx0fVxuXG5cdC8vIFJldHVybiB0aGUgbGVuZ3RoIG9mIHRoZSBpbnZhbGlkIGV4Y2Vzc1xuXHQvLyBpZiB3ZSdyZSBqdXN0IHBhcnNpbmdcblx0Ly8gT3RoZXJ3aXNlLCB0aHJvdyBhbiBlcnJvciBvciByZXR1cm4gdG9rZW5zXG5cdHJldHVybiBwYXJzZU9ubHkgP1xuXHRcdHNvRmFyLmxlbmd0aCA6XG5cdFx0c29GYXIgP1xuXHRcdFx0U2l6emxlLmVycm9yKCBzZWxlY3RvciApIDpcblx0XHRcdC8vIENhY2hlIHRoZSB0b2tlbnNcblx0XHRcdHRva2VuQ2FjaGUoIHNlbGVjdG9yLCBncm91cHMgKS5zbGljZSggMCApO1xufTtcblxuZnVuY3Rpb24gdG9TZWxlY3RvciggdG9rZW5zICkge1xuXHR2YXIgaSA9IDAsXG5cdFx0bGVuID0gdG9rZW5zLmxlbmd0aCxcblx0XHRzZWxlY3RvciA9IFwiXCI7XG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xuXHRcdHNlbGVjdG9yICs9IHRva2Vuc1tpXS52YWx1ZTtcblx0fVxuXHRyZXR1cm4gc2VsZWN0b3I7XG59XG5cbmZ1bmN0aW9uIGFkZENvbWJpbmF0b3IoIG1hdGNoZXIsIGNvbWJpbmF0b3IsIGJhc2UgKSB7XG5cdHZhciBkaXIgPSBjb21iaW5hdG9yLmRpcixcblx0XHRza2lwID0gY29tYmluYXRvci5uZXh0LFxuXHRcdGtleSA9IHNraXAgfHwgZGlyLFxuXHRcdGNoZWNrTm9uRWxlbWVudHMgPSBiYXNlICYmIGtleSA9PT0gXCJwYXJlbnROb2RlXCIsXG5cdFx0ZG9uZU5hbWUgPSBkb25lKys7XG5cblx0cmV0dXJuIGNvbWJpbmF0b3IuZmlyc3QgP1xuXHRcdC8vIENoZWNrIGFnYWluc3QgY2xvc2VzdCBhbmNlc3Rvci9wcmVjZWRpbmcgZWxlbWVudFxuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHR3aGlsZSAoIChlbGVtID0gZWxlbVsgZGlyIF0pICkge1xuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHtcblx0XHRcdFx0XHRyZXR1cm4gbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9IDpcblxuXHRcdC8vIENoZWNrIGFnYWluc3QgYWxsIGFuY2VzdG9yL3ByZWNlZGluZyBlbGVtZW50c1xuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHR2YXIgb2xkQ2FjaGUsIHVuaXF1ZUNhY2hlLCBvdXRlckNhY2hlLFxuXHRcdFx0XHRuZXdDYWNoZSA9IFsgZGlycnVucywgZG9uZU5hbWUgXTtcblxuXHRcdFx0Ly8gV2UgY2FuJ3Qgc2V0IGFyYml0cmFyeSBkYXRhIG9uIFhNTCBub2Rlcywgc28gdGhleSBkb24ndCBiZW5lZml0IGZyb20gY29tYmluYXRvciBjYWNoaW5nXG5cdFx0XHRpZiAoIHhtbCApIHtcblx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IGVsZW1bIGRpciBdKSApIHtcblx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHtcblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlciggZWxlbSwgY29udGV4dCwgeG1sICkgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IGVsZW1bIGRpciBdKSApIHtcblx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHtcblx0XHRcdFx0XHRcdG91dGVyQ2FjaGUgPSBlbGVtWyBleHBhbmRvIF0gfHwgKGVsZW1bIGV4cGFuZG8gXSA9IHt9KTtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPDkgb25seVxuXHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXG5cdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIGVsZW0udW5pcXVlSUQgXSB8fCAob3V0ZXJDYWNoZVsgZWxlbS51bmlxdWVJRCBdID0ge30pO1xuXG5cdFx0XHRcdFx0XHRpZiAoIHNraXAgJiYgc2tpcCA9PT0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICkge1xuXHRcdFx0XHRcdFx0XHRlbGVtID0gZWxlbVsgZGlyIF0gfHwgZWxlbTtcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIChvbGRDYWNoZSA9IHVuaXF1ZUNhY2hlWyBrZXkgXSkgJiZcblx0XHRcdFx0XHRcdFx0b2xkQ2FjaGVbIDAgXSA9PT0gZGlycnVucyAmJiBvbGRDYWNoZVsgMSBdID09PSBkb25lTmFtZSApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBBc3NpZ24gdG8gbmV3Q2FjaGUgc28gcmVzdWx0cyBiYWNrLXByb3BhZ2F0ZSB0byBwcmV2aW91cyBlbGVtZW50c1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gKG5ld0NhY2hlWyAyIF0gPSBvbGRDYWNoZVsgMiBdKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdC8vIFJldXNlIG5ld2NhY2hlIHNvIHJlc3VsdHMgYmFjay1wcm9wYWdhdGUgdG8gcHJldmlvdXMgZWxlbWVudHNcblx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGVbIGtleSBdID0gbmV3Q2FjaGU7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQSBtYXRjaCBtZWFucyB3ZSdyZSBkb25lOyBhIGZhaWwgbWVhbnMgd2UgaGF2ZSB0byBrZWVwIGNoZWNraW5nXG5cdFx0XHRcdFx0XHRcdGlmICggKG5ld0NhY2hlWyAyIF0gPSBtYXRjaGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9O1xufVxuXG5mdW5jdGlvbiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSB7XG5cdHJldHVybiBtYXRjaGVycy5sZW5ndGggPiAxID9cblx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xuXHRcdFx0dmFyIGkgPSBtYXRjaGVycy5sZW5ndGg7XG5cdFx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdFx0aWYgKCAhbWF0Y2hlcnNbaV0oIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSA6XG5cdFx0bWF0Y2hlcnNbMF07XG59XG5cbmZ1bmN0aW9uIG11bHRpcGxlQ29udGV4dHMoIHNlbGVjdG9yLCBjb250ZXh0cywgcmVzdWx0cyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGxlbiA9IGNvbnRleHRzLmxlbmd0aDtcblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0U2l6emxlKCBzZWxlY3RvciwgY29udGV4dHNbaV0sIHJlc3VsdHMgKTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0cztcbn1cblxuZnVuY3Rpb24gY29uZGVuc2UoIHVubWF0Y2hlZCwgbWFwLCBmaWx0ZXIsIGNvbnRleHQsIHhtbCApIHtcblx0dmFyIGVsZW0sXG5cdFx0bmV3VW5tYXRjaGVkID0gW10sXG5cdFx0aSA9IDAsXG5cdFx0bGVuID0gdW5tYXRjaGVkLmxlbmd0aCxcblx0XHRtYXBwZWQgPSBtYXAgIT0gbnVsbDtcblxuXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRpZiAoIChlbGVtID0gdW5tYXRjaGVkW2ldKSApIHtcblx0XHRcdGlmICggIWZpbHRlciB8fCBmaWx0ZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xuXHRcdFx0XHRuZXdVbm1hdGNoZWQucHVzaCggZWxlbSApO1xuXHRcdFx0XHRpZiAoIG1hcHBlZCApIHtcblx0XHRcdFx0XHRtYXAucHVzaCggaSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIG5ld1VubWF0Y2hlZDtcbn1cblxuZnVuY3Rpb24gc2V0TWF0Y2hlciggcHJlRmlsdGVyLCBzZWxlY3RvciwgbWF0Y2hlciwgcG9zdEZpbHRlciwgcG9zdEZpbmRlciwgcG9zdFNlbGVjdG9yICkge1xuXHRpZiAoIHBvc3RGaWx0ZXIgJiYgIXBvc3RGaWx0ZXJbIGV4cGFuZG8gXSApIHtcblx0XHRwb3N0RmlsdGVyID0gc2V0TWF0Y2hlciggcG9zdEZpbHRlciApO1xuXHR9XG5cdGlmICggcG9zdEZpbmRlciAmJiAhcG9zdEZpbmRlclsgZXhwYW5kbyBdICkge1xuXHRcdHBvc3RGaW5kZXIgPSBzZXRNYXRjaGVyKCBwb3N0RmluZGVyLCBwb3N0U2VsZWN0b3IgKTtcblx0fVxuXHRyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCByZXN1bHRzLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0dmFyIHRlbXAsIGksIGVsZW0sXG5cdFx0XHRwcmVNYXAgPSBbXSxcblx0XHRcdHBvc3RNYXAgPSBbXSxcblx0XHRcdHByZWV4aXN0aW5nID0gcmVzdWx0cy5sZW5ndGgsXG5cblx0XHRcdC8vIEdldCBpbml0aWFsIGVsZW1lbnRzIGZyb20gc2VlZCBvciBjb250ZXh0XG5cdFx0XHRlbGVtcyA9IHNlZWQgfHwgbXVsdGlwbGVDb250ZXh0cyggc2VsZWN0b3IgfHwgXCIqXCIsIGNvbnRleHQubm9kZVR5cGUgPyBbIGNvbnRleHQgXSA6IGNvbnRleHQsIFtdICksXG5cblx0XHRcdC8vIFByZWZpbHRlciB0byBnZXQgbWF0Y2hlciBpbnB1dCwgcHJlc2VydmluZyBhIG1hcCBmb3Igc2VlZC1yZXN1bHRzIHN5bmNocm9uaXphdGlvblxuXHRcdFx0bWF0Y2hlckluID0gcHJlRmlsdGVyICYmICggc2VlZCB8fCAhc2VsZWN0b3IgKSA/XG5cdFx0XHRcdGNvbmRlbnNlKCBlbGVtcywgcHJlTWFwLCBwcmVGaWx0ZXIsIGNvbnRleHQsIHhtbCApIDpcblx0XHRcdFx0ZWxlbXMsXG5cblx0XHRcdG1hdGNoZXJPdXQgPSBtYXRjaGVyID9cblx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBhIHBvc3RGaW5kZXIsIG9yIGZpbHRlcmVkIHNlZWQsIG9yIG5vbi1zZWVkIHBvc3RGaWx0ZXIgb3IgcHJlZXhpc3RpbmcgcmVzdWx0cyxcblx0XHRcdFx0cG9zdEZpbmRlciB8fCAoIHNlZWQgPyBwcmVGaWx0ZXIgOiBwcmVleGlzdGluZyB8fCBwb3N0RmlsdGVyICkgP1xuXG5cdFx0XHRcdFx0Ly8gLi4uaW50ZXJtZWRpYXRlIHByb2Nlc3NpbmcgaXMgbmVjZXNzYXJ5XG5cdFx0XHRcdFx0W10gOlxuXG5cdFx0XHRcdFx0Ly8gLi4ub3RoZXJ3aXNlIHVzZSByZXN1bHRzIGRpcmVjdGx5XG5cdFx0XHRcdFx0cmVzdWx0cyA6XG5cdFx0XHRcdG1hdGNoZXJJbjtcblxuXHRcdC8vIEZpbmQgcHJpbWFyeSBtYXRjaGVzXG5cdFx0aWYgKCBtYXRjaGVyICkge1xuXHRcdFx0bWF0Y2hlciggbWF0Y2hlckluLCBtYXRjaGVyT3V0LCBjb250ZXh0LCB4bWwgKTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSBwb3N0RmlsdGVyXG5cdFx0aWYgKCBwb3N0RmlsdGVyICkge1xuXHRcdFx0dGVtcCA9IGNvbmRlbnNlKCBtYXRjaGVyT3V0LCBwb3N0TWFwICk7XG5cdFx0XHRwb3N0RmlsdGVyKCB0ZW1wLCBbXSwgY29udGV4dCwgeG1sICk7XG5cblx0XHRcdC8vIFVuLW1hdGNoIGZhaWxpbmcgZWxlbWVudHMgYnkgbW92aW5nIHRoZW0gYmFjayB0byBtYXRjaGVySW5cblx0XHRcdGkgPSB0ZW1wLmxlbmd0aDtcblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRpZiAoIChlbGVtID0gdGVtcFtpXSkgKSB7XG5cdFx0XHRcdFx0bWF0Y2hlck91dFsgcG9zdE1hcFtpXSBdID0gIShtYXRjaGVySW5bIHBvc3RNYXBbaV0gXSA9IGVsZW0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKCBzZWVkICkge1xuXHRcdFx0aWYgKCBwb3N0RmluZGVyIHx8IHByZUZpbHRlciApIHtcblx0XHRcdFx0aWYgKCBwb3N0RmluZGVyICkge1xuXHRcdFx0XHRcdC8vIEdldCB0aGUgZmluYWwgbWF0Y2hlck91dCBieSBjb25kZW5zaW5nIHRoaXMgaW50ZXJtZWRpYXRlIGludG8gcG9zdEZpbmRlciBjb250ZXh0c1xuXHRcdFx0XHRcdHRlbXAgPSBbXTtcblx0XHRcdFx0XHRpID0gbWF0Y2hlck91dC5sZW5ndGg7XG5cdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRpZiAoIChlbGVtID0gbWF0Y2hlck91dFtpXSkgKSB7XG5cdFx0XHRcdFx0XHRcdC8vIFJlc3RvcmUgbWF0Y2hlckluIHNpbmNlIGVsZW0gaXMgbm90IHlldCBhIGZpbmFsIG1hdGNoXG5cdFx0XHRcdFx0XHRcdHRlbXAucHVzaCggKG1hdGNoZXJJbltpXSA9IGVsZW0pICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHBvc3RGaW5kZXIoIG51bGwsIChtYXRjaGVyT3V0ID0gW10pLCB0ZW1wLCB4bWwgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIE1vdmUgbWF0Y2hlZCBlbGVtZW50cyBmcm9tIHNlZWQgdG8gcmVzdWx0cyB0byBrZWVwIHRoZW0gc3luY2hyb25pemVkXG5cdFx0XHRcdGkgPSBtYXRjaGVyT3V0Lmxlbmd0aDtcblx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0aWYgKCAoZWxlbSA9IG1hdGNoZXJPdXRbaV0pICYmXG5cdFx0XHRcdFx0XHQodGVtcCA9IHBvc3RGaW5kZXIgPyBpbmRleE9mKCBzZWVkLCBlbGVtICkgOiBwcmVNYXBbaV0pID4gLTEgKSB7XG5cblx0XHRcdFx0XHRcdHNlZWRbdGVtcF0gPSAhKHJlc3VsdHNbdGVtcF0gPSBlbGVtKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdC8vIEFkZCBlbGVtZW50cyB0byByZXN1bHRzLCB0aHJvdWdoIHBvc3RGaW5kZXIgaWYgZGVmaW5lZFxuXHRcdH0gZWxzZSB7XG5cdFx0XHRtYXRjaGVyT3V0ID0gY29uZGVuc2UoXG5cdFx0XHRcdG1hdGNoZXJPdXQgPT09IHJlc3VsdHMgP1xuXHRcdFx0XHRcdG1hdGNoZXJPdXQuc3BsaWNlKCBwcmVleGlzdGluZywgbWF0Y2hlck91dC5sZW5ndGggKSA6XG5cdFx0XHRcdFx0bWF0Y2hlck91dFxuXHRcdFx0KTtcblx0XHRcdGlmICggcG9zdEZpbmRlciApIHtcblx0XHRcdFx0cG9zdEZpbmRlciggbnVsbCwgcmVzdWx0cywgbWF0Y2hlck91dCwgeG1sICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBtYXRjaGVyT3V0ICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9KTtcbn1cblxuZnVuY3Rpb24gbWF0Y2hlckZyb21Ub2tlbnMoIHRva2VucyApIHtcblx0dmFyIGNoZWNrQ29udGV4dCwgbWF0Y2hlciwgaixcblx0XHRsZW4gPSB0b2tlbnMubGVuZ3RoLFxuXHRcdGxlYWRpbmdSZWxhdGl2ZSA9IEV4cHIucmVsYXRpdmVbIHRva2Vuc1swXS50eXBlIF0sXG5cdFx0aW1wbGljaXRSZWxhdGl2ZSA9IGxlYWRpbmdSZWxhdGl2ZSB8fCBFeHByLnJlbGF0aXZlW1wiIFwiXSxcblx0XHRpID0gbGVhZGluZ1JlbGF0aXZlID8gMSA6IDAsXG5cblx0XHQvLyBUaGUgZm91bmRhdGlvbmFsIG1hdGNoZXIgZW5zdXJlcyB0aGF0IGVsZW1lbnRzIGFyZSByZWFjaGFibGUgZnJvbSB0b3AtbGV2ZWwgY29udGV4dChzKVxuXHRcdG1hdGNoQ29udGV4dCA9IGFkZENvbWJpbmF0b3IoIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0gPT09IGNoZWNrQ29udGV4dDtcblx0XHR9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVlICksXG5cdFx0bWF0Y2hBbnlDb250ZXh0ID0gYWRkQ29tYmluYXRvciggZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gaW5kZXhPZiggY2hlY2tDb250ZXh0LCBlbGVtICkgPiAtMTtcblx0XHR9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVlICksXG5cdFx0bWF0Y2hlcnMgPSBbIGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XG5cdFx0XHR2YXIgcmV0ID0gKCAhbGVhZGluZ1JlbGF0aXZlICYmICggeG1sIHx8IGNvbnRleHQgIT09IG91dGVybW9zdENvbnRleHQgKSApIHx8IChcblx0XHRcdFx0KGNoZWNrQ29udGV4dCA9IGNvbnRleHQpLm5vZGVUeXBlID9cblx0XHRcdFx0XHRtYXRjaENvbnRleHQoIGVsZW0sIGNvbnRleHQsIHhtbCApIDpcblx0XHRcdFx0XHRtYXRjaEFueUNvbnRleHQoIGVsZW0sIGNvbnRleHQsIHhtbCApICk7XG5cdFx0XHQvLyBBdm9pZCBoYW5naW5nIG9udG8gZWxlbWVudCAoaXNzdWUgIzI5OSlcblx0XHRcdGNoZWNrQ29udGV4dCA9IG51bGw7XG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH0gXTtcblxuXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRpZiAoIChtYXRjaGVyID0gRXhwci5yZWxhdGl2ZVsgdG9rZW5zW2ldLnR5cGUgXSkgKSB7XG5cdFx0XHRtYXRjaGVycyA9IFsgYWRkQ29tYmluYXRvcihlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSwgbWF0Y2hlcikgXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bWF0Y2hlciA9IEV4cHIuZmlsdGVyWyB0b2tlbnNbaV0udHlwZSBdLmFwcGx5KCBudWxsLCB0b2tlbnNbaV0ubWF0Y2hlcyApO1xuXG5cdFx0XHQvLyBSZXR1cm4gc3BlY2lhbCB1cG9uIHNlZWluZyBhIHBvc2l0aW9uYWwgbWF0Y2hlclxuXHRcdFx0aWYgKCBtYXRjaGVyWyBleHBhbmRvIF0gKSB7XG5cdFx0XHRcdC8vIEZpbmQgdGhlIG5leHQgcmVsYXRpdmUgb3BlcmF0b3IgKGlmIGFueSkgZm9yIHByb3BlciBoYW5kbGluZ1xuXHRcdFx0XHRqID0gKytpO1xuXHRcdFx0XHRmb3IgKCA7IGogPCBsZW47IGorKyApIHtcblx0XHRcdFx0XHRpZiAoIEV4cHIucmVsYXRpdmVbIHRva2Vuc1tqXS50eXBlIF0gKSB7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHNldE1hdGNoZXIoXG5cdFx0XHRcdFx0aSA+IDEgJiYgZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICksXG5cdFx0XHRcdFx0aSA+IDEgJiYgdG9TZWxlY3Rvcihcblx0XHRcdFx0XHRcdC8vIElmIHRoZSBwcmVjZWRpbmcgdG9rZW4gd2FzIGEgZGVzY2VuZGFudCBjb21iaW5hdG9yLCBpbnNlcnQgYW4gaW1wbGljaXQgYW55LWVsZW1lbnQgYCpgXG5cdFx0XHRcdFx0XHR0b2tlbnMuc2xpY2UoIDAsIGkgLSAxICkuY29uY2F0KHsgdmFsdWU6IHRva2Vuc1sgaSAtIDIgXS50eXBlID09PSBcIiBcIiA/IFwiKlwiIDogXCJcIiB9KVxuXHRcdFx0XHRcdCkucmVwbGFjZSggcnRyaW0sIFwiJDFcIiApLFxuXHRcdFx0XHRcdG1hdGNoZXIsXG5cdFx0XHRcdFx0aSA8IGogJiYgbWF0Y2hlckZyb21Ub2tlbnMoIHRva2Vucy5zbGljZSggaSwgaiApICksXG5cdFx0XHRcdFx0aiA8IGxlbiAmJiBtYXRjaGVyRnJvbVRva2VucyggKHRva2VucyA9IHRva2Vucy5zbGljZSggaiApKSApLFxuXHRcdFx0XHRcdGogPCBsZW4gJiYgdG9TZWxlY3RvciggdG9rZW5zIClcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdG1hdGNoZXJzLnB1c2goIG1hdGNoZXIgKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyggZWxlbWVudE1hdGNoZXJzLCBzZXRNYXRjaGVycyApIHtcblx0dmFyIGJ5U2V0ID0gc2V0TWF0Y2hlcnMubGVuZ3RoID4gMCxcblx0XHRieUVsZW1lbnQgPSBlbGVtZW50TWF0Y2hlcnMubGVuZ3RoID4gMCxcblx0XHRzdXBlck1hdGNoZXIgPSBmdW5jdGlvbiggc2VlZCwgY29udGV4dCwgeG1sLCByZXN1bHRzLCBvdXRlcm1vc3QgKSB7XG5cdFx0XHR2YXIgZWxlbSwgaiwgbWF0Y2hlcixcblx0XHRcdFx0bWF0Y2hlZENvdW50ID0gMCxcblx0XHRcdFx0aSA9IFwiMFwiLFxuXHRcdFx0XHR1bm1hdGNoZWQgPSBzZWVkICYmIFtdLFxuXHRcdFx0XHRzZXRNYXRjaGVkID0gW10sXG5cdFx0XHRcdGNvbnRleHRCYWNrdXAgPSBvdXRlcm1vc3RDb250ZXh0LFxuXHRcdFx0XHQvLyBXZSBtdXN0IGFsd2F5cyBoYXZlIGVpdGhlciBzZWVkIGVsZW1lbnRzIG9yIG91dGVybW9zdCBjb250ZXh0XG5cdFx0XHRcdGVsZW1zID0gc2VlZCB8fCBieUVsZW1lbnQgJiYgRXhwci5maW5kW1wiVEFHXCJdKCBcIipcIiwgb3V0ZXJtb3N0ICksXG5cdFx0XHRcdC8vIFVzZSBpbnRlZ2VyIGRpcnJ1bnMgaWZmIHRoaXMgaXMgdGhlIG91dGVybW9zdCBtYXRjaGVyXG5cdFx0XHRcdGRpcnJ1bnNVbmlxdWUgPSAoZGlycnVucyArPSBjb250ZXh0QmFja3VwID09IG51bGwgPyAxIDogTWF0aC5yYW5kb20oKSB8fCAwLjEpLFxuXHRcdFx0XHRsZW4gPSBlbGVtcy5sZW5ndGg7XG5cblx0XHRcdGlmICggb3V0ZXJtb3N0ICkge1xuXHRcdFx0XHRvdXRlcm1vc3RDb250ZXh0ID0gY29udGV4dCA9PT0gZG9jdW1lbnQgfHwgY29udGV4dCB8fCBvdXRlcm1vc3Q7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCBlbGVtZW50cyBwYXNzaW5nIGVsZW1lbnRNYXRjaGVycyBkaXJlY3RseSB0byByZXN1bHRzXG5cdFx0XHQvLyBTdXBwb3J0OiBJRTw5LCBTYWZhcmlcblx0XHRcdC8vIFRvbGVyYXRlIE5vZGVMaXN0IHByb3BlcnRpZXMgKElFOiBcImxlbmd0aFwiOyBTYWZhcmk6IDxudW1iZXI+KSBtYXRjaGluZyBlbGVtZW50cyBieSBpZFxuXHRcdFx0Zm9yICggOyBpICE9PSBsZW4gJiYgKGVsZW0gPSBlbGVtc1tpXSkgIT0gbnVsbDsgaSsrICkge1xuXHRcdFx0XHRpZiAoIGJ5RWxlbWVudCAmJiBlbGVtICkge1xuXHRcdFx0XHRcdGogPSAwO1xuXHRcdFx0XHRcdGlmICggIWNvbnRleHQgJiYgZWxlbS5vd25lckRvY3VtZW50ICE9PSBkb2N1bWVudCApIHtcblx0XHRcdFx0XHRcdHNldERvY3VtZW50KCBlbGVtICk7XG5cdFx0XHRcdFx0XHR4bWwgPSAhZG9jdW1lbnRJc0hUTUw7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHdoaWxlICggKG1hdGNoZXIgPSBlbGVtZW50TWF0Y2hlcnNbaisrXSkgKSB7XG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQgfHwgZG9jdW1lbnQsIHhtbCkgKSB7XG5cdFx0XHRcdFx0XHRcdHJlc3VsdHMucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCBvdXRlcm1vc3QgKSB7XG5cdFx0XHRcdFx0XHRkaXJydW5zID0gZGlycnVuc1VuaXF1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBUcmFjayB1bm1hdGNoZWQgZWxlbWVudHMgZm9yIHNldCBmaWx0ZXJzXG5cdFx0XHRcdGlmICggYnlTZXQgKSB7XG5cdFx0XHRcdFx0Ly8gVGhleSB3aWxsIGhhdmUgZ29uZSB0aHJvdWdoIGFsbCBwb3NzaWJsZSBtYXRjaGVyc1xuXHRcdFx0XHRcdGlmICggKGVsZW0gPSAhbWF0Y2hlciAmJiBlbGVtKSApIHtcblx0XHRcdFx0XHRcdG1hdGNoZWRDb3VudC0tO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIExlbmd0aGVuIHRoZSBhcnJheSBmb3IgZXZlcnkgZWxlbWVudCwgbWF0Y2hlZCBvciBub3Rcblx0XHRcdFx0XHRpZiAoIHNlZWQgKSB7XG5cdFx0XHRcdFx0XHR1bm1hdGNoZWQucHVzaCggZWxlbSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBgaWAgaXMgbm93IHRoZSBjb3VudCBvZiBlbGVtZW50cyB2aXNpdGVkIGFib3ZlLCBhbmQgYWRkaW5nIGl0IHRvIGBtYXRjaGVkQ291bnRgXG5cdFx0XHQvLyBtYWtlcyB0aGUgbGF0dGVyIG5vbm5lZ2F0aXZlLlxuXHRcdFx0bWF0Y2hlZENvdW50ICs9IGk7XG5cblx0XHRcdC8vIEFwcGx5IHNldCBmaWx0ZXJzIHRvIHVubWF0Y2hlZCBlbGVtZW50c1xuXHRcdFx0Ly8gTk9URTogVGhpcyBjYW4gYmUgc2tpcHBlZCBpZiB0aGVyZSBhcmUgbm8gdW5tYXRjaGVkIGVsZW1lbnRzIChpLmUuLCBgbWF0Y2hlZENvdW50YFxuXHRcdFx0Ly8gZXF1YWxzIGBpYCksIHVubGVzcyB3ZSBkaWRuJ3QgdmlzaXQgX2FueV8gZWxlbWVudHMgaW4gdGhlIGFib3ZlIGxvb3AgYmVjYXVzZSB3ZSBoYXZlXG5cdFx0XHQvLyBubyBlbGVtZW50IG1hdGNoZXJzIGFuZCBubyBzZWVkLlxuXHRcdFx0Ly8gSW5jcmVtZW50aW5nIGFuIGluaXRpYWxseS1zdHJpbmcgXCIwXCIgYGlgIGFsbG93cyBgaWAgdG8gcmVtYWluIGEgc3RyaW5nIG9ubHkgaW4gdGhhdFxuXHRcdFx0Ly8gY2FzZSwgd2hpY2ggd2lsbCByZXN1bHQgaW4gYSBcIjAwXCIgYG1hdGNoZWRDb3VudGAgdGhhdCBkaWZmZXJzIGZyb20gYGlgIGJ1dCBpcyBhbHNvXG5cdFx0XHQvLyBudW1lcmljYWxseSB6ZXJvLlxuXHRcdFx0aWYgKCBieVNldCAmJiBpICE9PSBtYXRjaGVkQ291bnQgKSB7XG5cdFx0XHRcdGogPSAwO1xuXHRcdFx0XHR3aGlsZSAoIChtYXRjaGVyID0gc2V0TWF0Y2hlcnNbaisrXSkgKSB7XG5cdFx0XHRcdFx0bWF0Y2hlciggdW5tYXRjaGVkLCBzZXRNYXRjaGVkLCBjb250ZXh0LCB4bWwgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggc2VlZCApIHtcblx0XHRcdFx0XHQvLyBSZWludGVncmF0ZSBlbGVtZW50IG1hdGNoZXMgdG8gZWxpbWluYXRlIHRoZSBuZWVkIGZvciBzb3J0aW5nXG5cdFx0XHRcdFx0aWYgKCBtYXRjaGVkQ291bnQgPiAwICkge1xuXHRcdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggISh1bm1hdGNoZWRbaV0gfHwgc2V0TWF0Y2hlZFtpXSkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0c2V0TWF0Y2hlZFtpXSA9IHBvcC5jYWxsKCByZXN1bHRzICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBEaXNjYXJkIGluZGV4IHBsYWNlaG9sZGVyIHZhbHVlcyB0byBnZXQgb25seSBhY3R1YWwgbWF0Y2hlc1xuXHRcdFx0XHRcdHNldE1hdGNoZWQgPSBjb25kZW5zZSggc2V0TWF0Y2hlZCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQWRkIG1hdGNoZXMgdG8gcmVzdWx0c1xuXHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBzZXRNYXRjaGVkICk7XG5cblx0XHRcdFx0Ly8gU2VlZGxlc3Mgc2V0IG1hdGNoZXMgc3VjY2VlZGluZyBtdWx0aXBsZSBzdWNjZXNzZnVsIG1hdGNoZXJzIHN0aXB1bGF0ZSBzb3J0aW5nXG5cdFx0XHRcdGlmICggb3V0ZXJtb3N0ICYmICFzZWVkICYmIHNldE1hdGNoZWQubGVuZ3RoID4gMCAmJlxuXHRcdFx0XHRcdCggbWF0Y2hlZENvdW50ICsgc2V0TWF0Y2hlcnMubGVuZ3RoICkgPiAxICkge1xuXG5cdFx0XHRcdFx0U2l6emxlLnVuaXF1ZVNvcnQoIHJlc3VsdHMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBPdmVycmlkZSBtYW5pcHVsYXRpb24gb2YgZ2xvYmFscyBieSBuZXN0ZWQgbWF0Y2hlcnNcblx0XHRcdGlmICggb3V0ZXJtb3N0ICkge1xuXHRcdFx0XHRkaXJydW5zID0gZGlycnVuc1VuaXF1ZTtcblx0XHRcdFx0b3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHRCYWNrdXA7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB1bm1hdGNoZWQ7XG5cdFx0fTtcblxuXHRyZXR1cm4gYnlTZXQgP1xuXHRcdG1hcmtGdW5jdGlvbiggc3VwZXJNYXRjaGVyICkgOlxuXHRcdHN1cGVyTWF0Y2hlcjtcbn1cblxuY29tcGlsZSA9IFNpenpsZS5jb21waWxlID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBtYXRjaCAvKiBJbnRlcm5hbCBVc2UgT25seSAqLyApIHtcblx0dmFyIGksXG5cdFx0c2V0TWF0Y2hlcnMgPSBbXSxcblx0XHRlbGVtZW50TWF0Y2hlcnMgPSBbXSxcblx0XHRjYWNoZWQgPSBjb21waWxlckNhY2hlWyBzZWxlY3RvciArIFwiIFwiIF07XG5cblx0aWYgKCAhY2FjaGVkICkge1xuXHRcdC8vIEdlbmVyYXRlIGEgZnVuY3Rpb24gb2YgcmVjdXJzaXZlIGZ1bmN0aW9ucyB0aGF0IGNhbiBiZSB1c2VkIHRvIGNoZWNrIGVhY2ggZWxlbWVudFxuXHRcdGlmICggIW1hdGNoICkge1xuXHRcdFx0bWF0Y2ggPSB0b2tlbml6ZSggc2VsZWN0b3IgKTtcblx0XHR9XG5cdFx0aSA9IG1hdGNoLmxlbmd0aDtcblx0XHR3aGlsZSAoIGktLSApIHtcblx0XHRcdGNhY2hlZCA9IG1hdGNoZXJGcm9tVG9rZW5zKCBtYXRjaFtpXSApO1xuXHRcdFx0aWYgKCBjYWNoZWRbIGV4cGFuZG8gXSApIHtcblx0XHRcdFx0c2V0TWF0Y2hlcnMucHVzaCggY2FjaGVkICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlbGVtZW50TWF0Y2hlcnMucHVzaCggY2FjaGVkICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ2FjaGUgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uXG5cdFx0Y2FjaGVkID0gY29tcGlsZXJDYWNoZSggc2VsZWN0b3IsIG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyggZWxlbWVudE1hdGNoZXJzLCBzZXRNYXRjaGVycyApICk7XG5cblx0XHQvLyBTYXZlIHNlbGVjdG9yIGFuZCB0b2tlbml6YXRpb25cblx0XHRjYWNoZWQuc2VsZWN0b3IgPSBzZWxlY3Rvcjtcblx0fVxuXHRyZXR1cm4gY2FjaGVkO1xufTtcblxuLyoqXG4gKiBBIGxvdy1sZXZlbCBzZWxlY3Rpb24gZnVuY3Rpb24gdGhhdCB3b3JrcyB3aXRoIFNpenpsZSdzIGNvbXBpbGVkXG4gKiAgc2VsZWN0b3IgZnVuY3Rpb25zXG4gKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gc2VsZWN0b3IgQSBzZWxlY3RvciBvciBhIHByZS1jb21waWxlZFxuICogIHNlbGVjdG9yIGZ1bmN0aW9uIGJ1aWx0IHdpdGggU2l6emxlLmNvbXBpbGVcbiAqIEBwYXJhbSB7RWxlbWVudH0gY29udGV4dFxuICogQHBhcmFtIHtBcnJheX0gW3Jlc3VsdHNdXG4gKiBAcGFyYW0ge0FycmF5fSBbc2VlZF0gQSBzZXQgb2YgZWxlbWVudHMgdG8gbWF0Y2ggYWdhaW5zdFxuICovXG5zZWxlY3QgPSBTaXp6bGUuc2VsZWN0ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICkge1xuXHR2YXIgaSwgdG9rZW5zLCB0b2tlbiwgdHlwZSwgZmluZCxcblx0XHRjb21waWxlZCA9IHR5cGVvZiBzZWxlY3RvciA9PT0gXCJmdW5jdGlvblwiICYmIHNlbGVjdG9yLFxuXHRcdG1hdGNoID0gIXNlZWQgJiYgdG9rZW5pemUoIChzZWxlY3RvciA9IGNvbXBpbGVkLnNlbGVjdG9yIHx8IHNlbGVjdG9yKSApO1xuXG5cdHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xuXG5cdC8vIFRyeSB0byBtaW5pbWl6ZSBvcGVyYXRpb25zIGlmIHRoZXJlIGlzIG9ubHkgb25lIHNlbGVjdG9yIGluIHRoZSBsaXN0IGFuZCBubyBzZWVkXG5cdC8vICh0aGUgbGF0dGVyIG9mIHdoaWNoIGd1YXJhbnRlZXMgdXMgY29udGV4dClcblx0aWYgKCBtYXRjaC5sZW5ndGggPT09IDEgKSB7XG5cblx0XHQvLyBSZWR1Y2UgY29udGV4dCBpZiB0aGUgbGVhZGluZyBjb21wb3VuZCBzZWxlY3RvciBpcyBhbiBJRFxuXHRcdHRva2VucyA9IG1hdGNoWzBdID0gbWF0Y2hbMF0uc2xpY2UoIDAgKTtcblx0XHRpZiAoIHRva2Vucy5sZW5ndGggPiAyICYmICh0b2tlbiA9IHRva2Vuc1swXSkudHlwZSA9PT0gXCJJRFwiICYmXG5cdFx0XHRcdGNvbnRleHQubm9kZVR5cGUgPT09IDkgJiYgZG9jdW1lbnRJc0hUTUwgJiYgRXhwci5yZWxhdGl2ZVsgdG9rZW5zWzFdLnR5cGUgXSApIHtcblxuXHRcdFx0Y29udGV4dCA9ICggRXhwci5maW5kW1wiSURcIl0oIHRva2VuLm1hdGNoZXNbMF0ucmVwbGFjZShydW5lc2NhcGUsIGZ1bmVzY2FwZSksIGNvbnRleHQgKSB8fCBbXSApWzBdO1xuXHRcdFx0aWYgKCAhY29udGV4dCApIHtcblx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XG5cblx0XHRcdC8vIFByZWNvbXBpbGVkIG1hdGNoZXJzIHdpbGwgc3RpbGwgdmVyaWZ5IGFuY2VzdHJ5LCBzbyBzdGVwIHVwIGEgbGV2ZWxcblx0XHRcdH0gZWxzZSBpZiAoIGNvbXBpbGVkICkge1xuXHRcdFx0XHRjb250ZXh0ID0gY29udGV4dC5wYXJlbnROb2RlO1xuXHRcdFx0fVxuXG5cdFx0XHRzZWxlY3RvciA9IHNlbGVjdG9yLnNsaWNlKCB0b2tlbnMuc2hpZnQoKS52YWx1ZS5sZW5ndGggKTtcblx0XHR9XG5cblx0XHQvLyBGZXRjaCBhIHNlZWQgc2V0IGZvciByaWdodC10by1sZWZ0IG1hdGNoaW5nXG5cdFx0aSA9IG1hdGNoRXhwcltcIm5lZWRzQ29udGV4dFwiXS50ZXN0KCBzZWxlY3RvciApID8gMCA6IHRva2Vucy5sZW5ndGg7XG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHR0b2tlbiA9IHRva2Vuc1tpXTtcblxuXHRcdFx0Ly8gQWJvcnQgaWYgd2UgaGl0IGEgY29tYmluYXRvclxuXHRcdFx0aWYgKCBFeHByLnJlbGF0aXZlWyAodHlwZSA9IHRva2VuLnR5cGUpIF0gKSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCAoZmluZCA9IEV4cHIuZmluZFsgdHlwZSBdKSApIHtcblx0XHRcdFx0Ly8gU2VhcmNoLCBleHBhbmRpbmcgY29udGV4dCBmb3IgbGVhZGluZyBzaWJsaW5nIGNvbWJpbmF0b3JzXG5cdFx0XHRcdGlmICggKHNlZWQgPSBmaW5kKFxuXHRcdFx0XHRcdHRva2VuLm1hdGNoZXNbMF0ucmVwbGFjZSggcnVuZXNjYXBlLCBmdW5lc2NhcGUgKSxcblx0XHRcdFx0XHRyc2libGluZy50ZXN0KCB0b2tlbnNbMF0udHlwZSApICYmIHRlc3RDb250ZXh0KCBjb250ZXh0LnBhcmVudE5vZGUgKSB8fCBjb250ZXh0XG5cdFx0XHRcdCkpICkge1xuXG5cdFx0XHRcdFx0Ly8gSWYgc2VlZCBpcyBlbXB0eSBvciBubyB0b2tlbnMgcmVtYWluLCB3ZSBjYW4gcmV0dXJuIGVhcmx5XG5cdFx0XHRcdFx0dG9rZW5zLnNwbGljZSggaSwgMSApO1xuXHRcdFx0XHRcdHNlbGVjdG9yID0gc2VlZC5sZW5ndGggJiYgdG9TZWxlY3RvciggdG9rZW5zICk7XG5cdFx0XHRcdFx0aWYgKCAhc2VsZWN0b3IgKSB7XG5cdFx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBzZWVkICk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIENvbXBpbGUgYW5kIGV4ZWN1dGUgYSBmaWx0ZXJpbmcgZnVuY3Rpb24gaWYgb25lIGlzIG5vdCBwcm92aWRlZFxuXHQvLyBQcm92aWRlIGBtYXRjaGAgdG8gYXZvaWQgcmV0b2tlbml6YXRpb24gaWYgd2UgbW9kaWZpZWQgdGhlIHNlbGVjdG9yIGFib3ZlXG5cdCggY29tcGlsZWQgfHwgY29tcGlsZSggc2VsZWN0b3IsIG1hdGNoICkgKShcblx0XHRzZWVkLFxuXHRcdGNvbnRleHQsXG5cdFx0IWRvY3VtZW50SXNIVE1MLFxuXHRcdHJlc3VsdHMsXG5cdFx0IWNvbnRleHQgfHwgcnNpYmxpbmcudGVzdCggc2VsZWN0b3IgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHwgY29udGV4dFxuXHQpO1xuXHRyZXR1cm4gcmVzdWx0cztcbn07XG5cbi8vIE9uZS10aW1lIGFzc2lnbm1lbnRzXG5cbi8vIFNvcnQgc3RhYmlsaXR5XG5zdXBwb3J0LnNvcnRTdGFibGUgPSBleHBhbmRvLnNwbGl0KFwiXCIpLnNvcnQoIHNvcnRPcmRlciApLmpvaW4oXCJcIikgPT09IGV4cGFuZG87XG5cbi8vIFN1cHBvcnQ6IENocm9tZSAxNC0zNStcbi8vIEFsd2F5cyBhc3N1bWUgZHVwbGljYXRlcyBpZiB0aGV5IGFyZW4ndCBwYXNzZWQgdG8gdGhlIGNvbXBhcmlzb24gZnVuY3Rpb25cbnN1cHBvcnQuZGV0ZWN0RHVwbGljYXRlcyA9ICEhaGFzRHVwbGljYXRlO1xuXG4vLyBJbml0aWFsaXplIGFnYWluc3QgdGhlIGRlZmF1bHQgZG9jdW1lbnRcbnNldERvY3VtZW50KCk7XG5cbi8vIFN1cHBvcnQ6IFdlYmtpdDw1MzcuMzIgLSBTYWZhcmkgNi4wLjMvQ2hyb21lIDI1IChmaXhlZCBpbiBDaHJvbWUgMjcpXG4vLyBEZXRhY2hlZCBub2RlcyBjb25mb3VuZGluZ2x5IGZvbGxvdyAqZWFjaCBvdGhlcipcbnN1cHBvcnQuc29ydERldGFjaGVkID0gYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0Ly8gU2hvdWxkIHJldHVybiAxLCBidXQgcmV0dXJucyA0IChmb2xsb3dpbmcpXG5cdHJldHVybiBlbC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZpZWxkc2V0XCIpICkgJiAxO1xufSk7XG5cbi8vIFN1cHBvcnQ6IElFPDhcbi8vIFByZXZlbnQgYXR0cmlidXRlL3Byb3BlcnR5IFwiaW50ZXJwb2xhdGlvblwiXG4vLyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L21zNTM2NDI5JTI4VlMuODUlMjkuYXNweFxuaWYgKCAhYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0ZWwuaW5uZXJIVE1MID0gXCI8YSBocmVmPScjJz48L2E+XCI7XG5cdHJldHVybiBlbC5maXJzdENoaWxkLmdldEF0dHJpYnV0ZShcImhyZWZcIikgPT09IFwiI1wiIDtcbn0pICkge1xuXHRhZGRIYW5kbGUoIFwidHlwZXxocmVmfGhlaWdodHx3aWR0aFwiLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0aWYgKCAhaXNYTUwgKSB7XG5cdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIG5hbWUsIG5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJ0eXBlXCIgPyAxIDogMiApO1xuXHRcdH1cblx0fSk7XG59XG5cbi8vIFN1cHBvcnQ6IElFPDlcbi8vIFVzZSBkZWZhdWx0VmFsdWUgaW4gcGxhY2Ugb2YgZ2V0QXR0cmlidXRlKFwidmFsdWVcIilcbmlmICggIXN1cHBvcnQuYXR0cmlidXRlcyB8fCAhYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcblx0ZWwuaW5uZXJIVE1MID0gXCI8aW5wdXQvPlwiO1xuXHRlbC5maXJzdENoaWxkLnNldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiLCBcIlwiICk7XG5cdHJldHVybiBlbC5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiICkgPT09IFwiXCI7XG59KSApIHtcblx0YWRkSGFuZGxlKCBcInZhbHVlXCIsIGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcblx0XHRpZiAoICFpc1hNTCAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiaW5wdXRcIiApIHtcblx0XHRcdHJldHVybiBlbGVtLmRlZmF1bHRWYWx1ZTtcblx0XHR9XG5cdH0pO1xufVxuXG4vLyBTdXBwb3J0OiBJRTw5XG4vLyBVc2UgZ2V0QXR0cmlidXRlTm9kZSB0byBmZXRjaCBib29sZWFucyB3aGVuIGdldEF0dHJpYnV0ZSBsaWVzXG5pZiAoICFhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xuXHRyZXR1cm4gZWwuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIikgPT0gbnVsbDtcbn0pICkge1xuXHRhZGRIYW5kbGUoIGJvb2xlYW5zLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XG5cdFx0dmFyIHZhbDtcblx0XHRpZiAoICFpc1hNTCApIHtcblx0XHRcdHJldHVybiBlbGVtWyBuYW1lIF0gPT09IHRydWUgPyBuYW1lLnRvTG93ZXJDYXNlKCkgOlxuXHRcdFx0XHRcdCh2YWwgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoIG5hbWUgKSkgJiYgdmFsLnNwZWNpZmllZCA/XG5cdFx0XHRcdFx0dmFsLnZhbHVlIDpcblx0XHRcdFx0bnVsbDtcblx0XHR9XG5cdH0pO1xufVxuXG5yZXR1cm4gU2l6emxlO1xuXG59KSggd2luZG93ICk7XG5cblxuXG5qUXVlcnkuZmluZCA9IFNpenpsZTtcbmpRdWVyeS5leHByID0gU2l6emxlLnNlbGVjdG9ycztcblxuLy8gRGVwcmVjYXRlZFxualF1ZXJ5LmV4cHJbIFwiOlwiIF0gPSBqUXVlcnkuZXhwci5wc2V1ZG9zO1xualF1ZXJ5LnVuaXF1ZVNvcnQgPSBqUXVlcnkudW5pcXVlID0gU2l6emxlLnVuaXF1ZVNvcnQ7XG5qUXVlcnkudGV4dCA9IFNpenpsZS5nZXRUZXh0O1xualF1ZXJ5LmlzWE1MRG9jID0gU2l6emxlLmlzWE1MO1xualF1ZXJ5LmNvbnRhaW5zID0gU2l6emxlLmNvbnRhaW5zO1xualF1ZXJ5LmVzY2FwZVNlbGVjdG9yID0gU2l6emxlLmVzY2FwZTtcblxuXG5cblxudmFyIGRpciA9IGZ1bmN0aW9uKCBlbGVtLCBkaXIsIHVudGlsICkge1xuXHR2YXIgbWF0Y2hlZCA9IFtdLFxuXHRcdHRydW5jYXRlID0gdW50aWwgIT09IHVuZGVmaW5lZDtcblxuXHR3aGlsZSAoICggZWxlbSA9IGVsZW1bIGRpciBdICkgJiYgZWxlbS5ub2RlVHlwZSAhPT0gOSApIHtcblx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cdFx0XHRpZiAoIHRydW5jYXRlICYmIGpRdWVyeSggZWxlbSApLmlzKCB1bnRpbCApICkge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdG1hdGNoZWQucHVzaCggZWxlbSApO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gbWF0Y2hlZDtcbn07XG5cblxudmFyIHNpYmxpbmdzID0gZnVuY3Rpb24oIG4sIGVsZW0gKSB7XG5cdHZhciBtYXRjaGVkID0gW107XG5cblx0Zm9yICggOyBuOyBuID0gbi5uZXh0U2libGluZyApIHtcblx0XHRpZiAoIG4ubm9kZVR5cGUgPT09IDEgJiYgbiAhPT0gZWxlbSApIHtcblx0XHRcdG1hdGNoZWQucHVzaCggbiApO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBtYXRjaGVkO1xufTtcblxuXG52YXIgcm5lZWRzQ29udGV4dCA9IGpRdWVyeS5leHByLm1hdGNoLm5lZWRzQ29udGV4dDtcblxuXG5cbmZ1bmN0aW9uIG5vZGVOYW1lKCBlbGVtLCBuYW1lICkge1xuXG4gIHJldHVybiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXG59O1xudmFyIHJzaW5nbGVUYWcgPSAoIC9ePChbYS16XVteXFwvXFwwPjpcXHgyMFxcdFxcclxcblxcZl0qKVtcXHgyMFxcdFxcclxcblxcZl0qXFwvPz4oPzo8XFwvXFwxPnwpJC9pICk7XG5cblxuXG4vLyBJbXBsZW1lbnQgdGhlIGlkZW50aWNhbCBmdW5jdGlvbmFsaXR5IGZvciBmaWx0ZXIgYW5kIG5vdFxuZnVuY3Rpb24gd2lubm93KCBlbGVtZW50cywgcXVhbGlmaWVyLCBub3QgKSB7XG5cdGlmICggaXNGdW5jdGlvbiggcXVhbGlmaWVyICkgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0sIGkgKSB7XG5cdFx0XHRyZXR1cm4gISFxdWFsaWZpZXIuY2FsbCggZWxlbSwgaSwgZWxlbSApICE9PSBub3Q7XG5cdFx0fSApO1xuXHR9XG5cblx0Ly8gU2luZ2xlIGVsZW1lbnRcblx0aWYgKCBxdWFsaWZpZXIubm9kZVR5cGUgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gKCBlbGVtID09PSBxdWFsaWZpZXIgKSAhPT0gbm90O1xuXHRcdH0gKTtcblx0fVxuXG5cdC8vIEFycmF5bGlrZSBvZiBlbGVtZW50cyAoalF1ZXJ5LCBhcmd1bWVudHMsIEFycmF5KVxuXHRpZiAoIHR5cGVvZiBxdWFsaWZpZXIgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0XHRyZXR1cm4gKCBpbmRleE9mLmNhbGwoIHF1YWxpZmllciwgZWxlbSApID4gLTEgKSAhPT0gbm90O1xuXHRcdH0gKTtcblx0fVxuXG5cdC8vIEZpbHRlcmVkIGRpcmVjdGx5IGZvciBib3RoIHNpbXBsZSBhbmQgY29tcGxleCBzZWxlY3RvcnNcblx0cmV0dXJuIGpRdWVyeS5maWx0ZXIoIHF1YWxpZmllciwgZWxlbWVudHMsIG5vdCApO1xufVxuXG5qUXVlcnkuZmlsdGVyID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1zLCBub3QgKSB7XG5cdHZhciBlbGVtID0gZWxlbXNbIDAgXTtcblxuXHRpZiAoIG5vdCApIHtcblx0XHRleHByID0gXCI6bm90KFwiICsgZXhwciArIFwiKVwiO1xuXHR9XG5cblx0aWYgKCBlbGVtcy5sZW5ndGggPT09IDEgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBlbGVtLCBleHByICkgPyBbIGVsZW0gXSA6IFtdO1xuXHR9XG5cblx0cmV0dXJuIGpRdWVyeS5maW5kLm1hdGNoZXMoIGV4cHIsIGpRdWVyeS5ncmVwKCBlbGVtcywgZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGVsZW0ubm9kZVR5cGUgPT09IDE7XG5cdH0gKSApO1xufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRmaW5kOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0dmFyIGksIHJldCxcblx0XHRcdGxlbiA9IHRoaXMubGVuZ3RoLFxuXHRcdFx0c2VsZiA9IHRoaXM7XG5cblx0XHRpZiAoIHR5cGVvZiBzZWxlY3RvciAhPT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggalF1ZXJ5KCBzZWxlY3RvciApLmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0aWYgKCBqUXVlcnkuY29udGFpbnMoIHNlbGZbIGkgXSwgdGhpcyApICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9ICkgKTtcblx0XHR9XG5cblx0XHRyZXQgPSB0aGlzLnB1c2hTdGFjayggW10gKTtcblxuXHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRqUXVlcnkuZmluZCggc2VsZWN0b3IsIHNlbGZbIGkgXSwgcmV0ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGxlbiA+IDEgPyBqUXVlcnkudW5pcXVlU29ydCggcmV0ICkgOiByZXQ7XG5cdH0sXG5cdGZpbHRlcjogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggd2lubm93KCB0aGlzLCBzZWxlY3RvciB8fCBbXSwgZmFsc2UgKSApO1xuXHR9LFxuXHRub3Q6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHdpbm5vdyggdGhpcywgc2VsZWN0b3IgfHwgW10sIHRydWUgKSApO1xuXHR9LFxuXHRpczogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiAhIXdpbm5vdyhcblx0XHRcdHRoaXMsXG5cblx0XHRcdC8vIElmIHRoaXMgaXMgYSBwb3NpdGlvbmFsL3JlbGF0aXZlIHNlbGVjdG9yLCBjaGVjayBtZW1iZXJzaGlwIGluIHRoZSByZXR1cm5lZCBzZXRcblx0XHRcdC8vIHNvICQoXCJwOmZpcnN0XCIpLmlzKFwicDpsYXN0XCIpIHdvbid0IHJldHVybiB0cnVlIGZvciBhIGRvYyB3aXRoIHR3byBcInBcIi5cblx0XHRcdHR5cGVvZiBzZWxlY3RvciA9PT0gXCJzdHJpbmdcIiAmJiBybmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9yICkgP1xuXHRcdFx0XHRqUXVlcnkoIHNlbGVjdG9yICkgOlxuXHRcdFx0XHRzZWxlY3RvciB8fCBbXSxcblx0XHRcdGZhbHNlXG5cdFx0KS5sZW5ndGg7XG5cdH1cbn0gKTtcblxuXG4vLyBJbml0aWFsaXplIGEgalF1ZXJ5IG9iamVjdFxuXG5cbi8vIEEgY2VudHJhbCByZWZlcmVuY2UgdG8gdGhlIHJvb3QgalF1ZXJ5KGRvY3VtZW50KVxudmFyIHJvb3RqUXVlcnksXG5cblx0Ly8gQSBzaW1wbGUgd2F5IHRvIGNoZWNrIGZvciBIVE1MIHN0cmluZ3Ncblx0Ly8gUHJpb3JpdGl6ZSAjaWQgb3ZlciA8dGFnPiB0byBhdm9pZCBYU1MgdmlhIGxvY2F0aW9uLmhhc2ggKCM5NTIxKVxuXHQvLyBTdHJpY3QgSFRNTCByZWNvZ25pdGlvbiAoIzExMjkwOiBtdXN0IHN0YXJ0IHdpdGggPClcblx0Ly8gU2hvcnRjdXQgc2ltcGxlICNpZCBjYXNlIGZvciBzcGVlZFxuXHRycXVpY2tFeHByID0gL14oPzpcXHMqKDxbXFx3XFxXXSs+KVtePl0qfCMoW1xcdy1dKykpJC8sXG5cblx0aW5pdCA9IGpRdWVyeS5mbi5pbml0ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0LCByb290ICkge1xuXHRcdHZhciBtYXRjaCwgZWxlbTtcblxuXHRcdC8vIEhBTkRMRTogJChcIlwiKSwgJChudWxsKSwgJCh1bmRlZmluZWQpLCAkKGZhbHNlKVxuXHRcdGlmICggIXNlbGVjdG9yICkge1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXG5cdFx0Ly8gTWV0aG9kIGluaXQoKSBhY2NlcHRzIGFuIGFsdGVybmF0ZSByb290alF1ZXJ5XG5cdFx0Ly8gc28gbWlncmF0ZSBjYW4gc3VwcG9ydCBqUXVlcnkuc3ViIChnaC0yMTAxKVxuXHRcdHJvb3QgPSByb290IHx8IHJvb3RqUXVlcnk7XG5cblx0XHQvLyBIYW5kbGUgSFRNTCBzdHJpbmdzXG5cdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRpZiAoIHNlbGVjdG9yWyAwIF0gPT09IFwiPFwiICYmXG5cdFx0XHRcdHNlbGVjdG9yWyBzZWxlY3Rvci5sZW5ndGggLSAxIF0gPT09IFwiPlwiICYmXG5cdFx0XHRcdHNlbGVjdG9yLmxlbmd0aCA+PSAzICkge1xuXG5cdFx0XHRcdC8vIEFzc3VtZSB0aGF0IHN0cmluZ3MgdGhhdCBzdGFydCBhbmQgZW5kIHdpdGggPD4gYXJlIEhUTUwgYW5kIHNraXAgdGhlIHJlZ2V4IGNoZWNrXG5cdFx0XHRcdG1hdGNoID0gWyBudWxsLCBzZWxlY3RvciwgbnVsbCBdO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRtYXRjaCA9IHJxdWlja0V4cHIuZXhlYyggc2VsZWN0b3IgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTWF0Y2ggaHRtbCBvciBtYWtlIHN1cmUgbm8gY29udGV4dCBpcyBzcGVjaWZpZWQgZm9yICNpZFxuXHRcdFx0aWYgKCBtYXRjaCAmJiAoIG1hdGNoWyAxIF0gfHwgIWNvbnRleHQgKSApIHtcblxuXHRcdFx0XHQvLyBIQU5ETEU6ICQoaHRtbCkgLT4gJChhcnJheSlcblx0XHRcdFx0aWYgKCBtYXRjaFsgMSBdICkge1xuXHRcdFx0XHRcdGNvbnRleHQgPSBjb250ZXh0IGluc3RhbmNlb2YgalF1ZXJ5ID8gY29udGV4dFsgMCBdIDogY29udGV4dDtcblxuXHRcdFx0XHRcdC8vIE9wdGlvbiB0byBydW4gc2NyaXB0cyBpcyB0cnVlIGZvciBiYWNrLWNvbXBhdFxuXHRcdFx0XHRcdC8vIEludGVudGlvbmFsbHkgbGV0IHRoZSBlcnJvciBiZSB0aHJvd24gaWYgcGFyc2VIVE1MIGlzIG5vdCBwcmVzZW50XG5cdFx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCB0aGlzLCBqUXVlcnkucGFyc2VIVE1MKFxuXHRcdFx0XHRcdFx0bWF0Y2hbIDEgXSxcblx0XHRcdFx0XHRcdGNvbnRleHQgJiYgY29udGV4dC5ub2RlVHlwZSA/IGNvbnRleHQub3duZXJEb2N1bWVudCB8fCBjb250ZXh0IDogZG9jdW1lbnQsXG5cdFx0XHRcdFx0XHR0cnVlXG5cdFx0XHRcdFx0KSApO1xuXG5cdFx0XHRcdFx0Ly8gSEFORExFOiAkKGh0bWwsIHByb3BzKVxuXHRcdFx0XHRcdGlmICggcnNpbmdsZVRhZy50ZXN0KCBtYXRjaFsgMSBdICkgJiYgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGNvbnRleHQgKSApIHtcblx0XHRcdFx0XHRcdGZvciAoIG1hdGNoIGluIGNvbnRleHQgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gUHJvcGVydGllcyBvZiBjb250ZXh0IGFyZSBjYWxsZWQgYXMgbWV0aG9kcyBpZiBwb3NzaWJsZVxuXHRcdFx0XHRcdFx0XHRpZiAoIGlzRnVuY3Rpb24oIHRoaXNbIG1hdGNoIF0gKSApIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzWyBtYXRjaCBdKCBjb250ZXh0WyBtYXRjaCBdICk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gLi4uYW5kIG90aGVyd2lzZSBzZXQgYXMgYXR0cmlidXRlc1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHRoaXMuYXR0ciggbWF0Y2gsIGNvbnRleHRbIG1hdGNoIF0gKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXG5cdFx0XHRcdC8vIEhBTkRMRTogJCgjaWQpXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBtYXRjaFsgMiBdICk7XG5cblx0XHRcdFx0XHRpZiAoIGVsZW0gKSB7XG5cblx0XHRcdFx0XHRcdC8vIEluamVjdCB0aGUgZWxlbWVudCBkaXJlY3RseSBpbnRvIHRoZSBqUXVlcnkgb2JqZWN0XG5cdFx0XHRcdFx0XHR0aGlzWyAwIF0gPSBlbGVtO1xuXHRcdFx0XHRcdFx0dGhpcy5sZW5ndGggPSAxO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fVxuXG5cdFx0XHQvLyBIQU5ETEU6ICQoZXhwciwgJCguLi4pKVxuXHRcdFx0fSBlbHNlIGlmICggIWNvbnRleHQgfHwgY29udGV4dC5qcXVlcnkgKSB7XG5cdFx0XHRcdHJldHVybiAoIGNvbnRleHQgfHwgcm9vdCApLmZpbmQoIHNlbGVjdG9yICk7XG5cblx0XHRcdC8vIEhBTkRMRTogJChleHByLCBjb250ZXh0KVxuXHRcdFx0Ly8gKHdoaWNoIGlzIGp1c3QgZXF1aXZhbGVudCB0bzogJChjb250ZXh0KS5maW5kKGV4cHIpXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5jb25zdHJ1Y3RvciggY29udGV4dCApLmZpbmQoIHNlbGVjdG9yICk7XG5cdFx0XHR9XG5cblx0XHQvLyBIQU5ETEU6ICQoRE9NRWxlbWVudClcblx0XHR9IGVsc2UgaWYgKCBzZWxlY3Rvci5ub2RlVHlwZSApIHtcblx0XHRcdHRoaXNbIDAgXSA9IHNlbGVjdG9yO1xuXHRcdFx0dGhpcy5sZW5ndGggPSAxO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cblx0XHQvLyBIQU5ETEU6ICQoZnVuY3Rpb24pXG5cdFx0Ly8gU2hvcnRjdXQgZm9yIGRvY3VtZW50IHJlYWR5XG5cdFx0fSBlbHNlIGlmICggaXNGdW5jdGlvbiggc2VsZWN0b3IgKSApIHtcblx0XHRcdHJldHVybiByb290LnJlYWR5ICE9PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRyb290LnJlYWR5KCBzZWxlY3RvciApIDpcblxuXHRcdFx0XHQvLyBFeGVjdXRlIGltbWVkaWF0ZWx5IGlmIHJlYWR5IGlzIG5vdCBwcmVzZW50XG5cdFx0XHRcdHNlbGVjdG9yKCBqUXVlcnkgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4galF1ZXJ5Lm1ha2VBcnJheSggc2VsZWN0b3IsIHRoaXMgKTtcblx0fTtcblxuLy8gR2l2ZSB0aGUgaW5pdCBmdW5jdGlvbiB0aGUgalF1ZXJ5IHByb3RvdHlwZSBmb3IgbGF0ZXIgaW5zdGFudGlhdGlvblxuaW5pdC5wcm90b3R5cGUgPSBqUXVlcnkuZm47XG5cbi8vIEluaXRpYWxpemUgY2VudHJhbCByZWZlcmVuY2VcbnJvb3RqUXVlcnkgPSBqUXVlcnkoIGRvY3VtZW50ICk7XG5cblxudmFyIHJwYXJlbnRzcHJldiA9IC9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLFxuXG5cdC8vIE1ldGhvZHMgZ3VhcmFudGVlZCB0byBwcm9kdWNlIGEgdW5pcXVlIHNldCB3aGVuIHN0YXJ0aW5nIGZyb20gYSB1bmlxdWUgc2V0XG5cdGd1YXJhbnRlZWRVbmlxdWUgPSB7XG5cdFx0Y2hpbGRyZW46IHRydWUsXG5cdFx0Y29udGVudHM6IHRydWUsXG5cdFx0bmV4dDogdHJ1ZSxcblx0XHRwcmV2OiB0cnVlXG5cdH07XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0aGFzOiBmdW5jdGlvbiggdGFyZ2V0ICkge1xuXHRcdHZhciB0YXJnZXRzID0galF1ZXJ5KCB0YXJnZXQsIHRoaXMgKSxcblx0XHRcdGwgPSB0YXJnZXRzLmxlbmd0aDtcblxuXHRcdHJldHVybiB0aGlzLmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgaSA9IDA7XG5cdFx0XHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdGlmICggalF1ZXJ5LmNvbnRhaW5zKCB0aGlzLCB0YXJnZXRzWyBpIF0gKSApIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRjbG9zZXN0OiBmdW5jdGlvbiggc2VsZWN0b3JzLCBjb250ZXh0ICkge1xuXHRcdHZhciBjdXIsXG5cdFx0XHRpID0gMCxcblx0XHRcdGwgPSB0aGlzLmxlbmd0aCxcblx0XHRcdG1hdGNoZWQgPSBbXSxcblx0XHRcdHRhcmdldHMgPSB0eXBlb2Ygc2VsZWN0b3JzICE9PSBcInN0cmluZ1wiICYmIGpRdWVyeSggc2VsZWN0b3JzICk7XG5cblx0XHQvLyBQb3NpdGlvbmFsIHNlbGVjdG9ycyBuZXZlciBtYXRjaCwgc2luY2UgdGhlcmUncyBubyBfc2VsZWN0aW9uXyBjb250ZXh0XG5cdFx0aWYgKCAhcm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvcnMgKSApIHtcblx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0Zm9yICggY3VyID0gdGhpc1sgaSBdOyBjdXIgJiYgY3VyICE9PSBjb250ZXh0OyBjdXIgPSBjdXIucGFyZW50Tm9kZSApIHtcblxuXHRcdFx0XHRcdC8vIEFsd2F5cyBza2lwIGRvY3VtZW50IGZyYWdtZW50c1xuXHRcdFx0XHRcdGlmICggY3VyLm5vZGVUeXBlIDwgMTEgJiYgKCB0YXJnZXRzID9cblx0XHRcdFx0XHRcdHRhcmdldHMuaW5kZXgoIGN1ciApID4gLTEgOlxuXG5cdFx0XHRcdFx0XHQvLyBEb24ndCBwYXNzIG5vbi1lbGVtZW50cyB0byBTaXp6bGVcblx0XHRcdFx0XHRcdGN1ci5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0XHRcdFx0XHRqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoIGN1ciwgc2VsZWN0b3JzICkgKSApIHtcblxuXHRcdFx0XHRcdFx0bWF0Y2hlZC5wdXNoKCBjdXIgKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggbWF0Y2hlZC5sZW5ndGggPiAxID8galF1ZXJ5LnVuaXF1ZVNvcnQoIG1hdGNoZWQgKSA6IG1hdGNoZWQgKTtcblx0fSxcblxuXHQvLyBEZXRlcm1pbmUgdGhlIHBvc2l0aW9uIG9mIGFuIGVsZW1lbnQgd2l0aGluIHRoZSBzZXRcblx0aW5kZXg6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0Ly8gTm8gYXJndW1lbnQsIHJldHVybiBpbmRleCBpbiBwYXJlbnRcblx0XHRpZiAoICFlbGVtICkge1xuXHRcdFx0cmV0dXJuICggdGhpc1sgMCBdICYmIHRoaXNbIDAgXS5wYXJlbnROb2RlICkgPyB0aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aCA6IC0xO1xuXHRcdH1cblxuXHRcdC8vIEluZGV4IGluIHNlbGVjdG9yXG5cdFx0aWYgKCB0eXBlb2YgZWxlbSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHJldHVybiBpbmRleE9mLmNhbGwoIGpRdWVyeSggZWxlbSApLCB0aGlzWyAwIF0gKTtcblx0XHR9XG5cblx0XHQvLyBMb2NhdGUgdGhlIHBvc2l0aW9uIG9mIHRoZSBkZXNpcmVkIGVsZW1lbnRcblx0XHRyZXR1cm4gaW5kZXhPZi5jYWxsKCB0aGlzLFxuXG5cdFx0XHQvLyBJZiBpdCByZWNlaXZlcyBhIGpRdWVyeSBvYmplY3QsIHRoZSBmaXJzdCBlbGVtZW50IGlzIHVzZWRcblx0XHRcdGVsZW0uanF1ZXJ5ID8gZWxlbVsgMCBdIDogZWxlbVxuXHRcdCk7XG5cdH0sXG5cblx0YWRkOiBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQgKSB7XG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKFxuXHRcdFx0alF1ZXJ5LnVuaXF1ZVNvcnQoXG5cdFx0XHRcdGpRdWVyeS5tZXJnZSggdGhpcy5nZXQoKSwgalF1ZXJ5KCBzZWxlY3RvciwgY29udGV4dCApIClcblx0XHRcdClcblx0XHQpO1xuXHR9LFxuXG5cdGFkZEJhY2s6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gdGhpcy5hZGQoIHNlbGVjdG9yID09IG51bGwgP1xuXHRcdFx0dGhpcy5wcmV2T2JqZWN0IDogdGhpcy5wcmV2T2JqZWN0LmZpbHRlciggc2VsZWN0b3IgKVxuXHRcdCk7XG5cdH1cbn0gKTtcblxuZnVuY3Rpb24gc2libGluZyggY3VyLCBkaXIgKSB7XG5cdHdoaWxlICggKCBjdXIgPSBjdXJbIGRpciBdICkgJiYgY3VyLm5vZGVUeXBlICE9PSAxICkge31cblx0cmV0dXJuIGN1cjtcbn1cblxualF1ZXJ5LmVhY2goIHtcblx0cGFyZW50OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHR2YXIgcGFyZW50ID0gZWxlbS5wYXJlbnROb2RlO1xuXHRcdHJldHVybiBwYXJlbnQgJiYgcGFyZW50Lm5vZGVUeXBlICE9PSAxMSA/IHBhcmVudCA6IG51bGw7XG5cdH0sXG5cdHBhcmVudHM6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwicGFyZW50Tm9kZVwiICk7XG5cdH0sXG5cdHBhcmVudHNVbnRpbDogZnVuY3Rpb24oIGVsZW0sIGksIHVudGlsICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwicGFyZW50Tm9kZVwiLCB1bnRpbCApO1xuXHR9LFxuXHRuZXh0OiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gc2libGluZyggZWxlbSwgXCJuZXh0U2libGluZ1wiICk7XG5cdH0sXG5cdHByZXY6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5nKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiICk7XG5cdH0sXG5cdG5leHRBbGw6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwibmV4dFNpYmxpbmdcIiApO1xuXHR9LFxuXHRwcmV2QWxsOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiICk7XG5cdH0sXG5cdG5leHRVbnRpbDogZnVuY3Rpb24oIGVsZW0sIGksIHVudGlsICkge1xuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwibmV4dFNpYmxpbmdcIiwgdW50aWwgKTtcblx0fSxcblx0cHJldlVudGlsOiBmdW5jdGlvbiggZWxlbSwgaSwgdW50aWwgKSB7XG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwcmV2aW91c1NpYmxpbmdcIiwgdW50aWwgKTtcblx0fSxcblx0c2libGluZ3M6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdHJldHVybiBzaWJsaW5ncyggKCBlbGVtLnBhcmVudE5vZGUgfHwge30gKS5maXJzdENoaWxkLCBlbGVtICk7XG5cdH0sXG5cdGNoaWxkcmVuOiBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRyZXR1cm4gc2libGluZ3MoIGVsZW0uZmlyc3RDaGlsZCApO1xuXHR9LFxuXHRjb250ZW50czogZnVuY3Rpb24oIGVsZW0gKSB7XG4gICAgICAgIGlmICggbm9kZU5hbWUoIGVsZW0sIFwiaWZyYW1lXCIgKSApIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtLmNvbnRlbnREb2N1bWVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN1cHBvcnQ6IElFIDkgLSAxMSBvbmx5LCBpT1MgNyBvbmx5LCBBbmRyb2lkIEJyb3dzZXIgPD00LjMgb25seVxuICAgICAgICAvLyBUcmVhdCB0aGUgdGVtcGxhdGUgZWxlbWVudCBhcyBhIHJlZ3VsYXIgb25lIGluIGJyb3dzZXJzIHRoYXRcbiAgICAgICAgLy8gZG9uJ3Qgc3VwcG9ydCBpdC5cbiAgICAgICAgaWYgKCBub2RlTmFtZSggZWxlbSwgXCJ0ZW1wbGF0ZVwiICkgKSB7XG4gICAgICAgICAgICBlbGVtID0gZWxlbS5jb250ZW50IHx8IGVsZW07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4galF1ZXJ5Lm1lcmdlKCBbXSwgZWxlbS5jaGlsZE5vZGVzICk7XG5cdH1cbn0sIGZ1bmN0aW9uKCBuYW1lLCBmbiApIHtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggdW50aWwsIHNlbGVjdG9yICkge1xuXHRcdHZhciBtYXRjaGVkID0galF1ZXJ5Lm1hcCggdGhpcywgZm4sIHVudGlsICk7XG5cblx0XHRpZiAoIG5hbWUuc2xpY2UoIC01ICkgIT09IFwiVW50aWxcIiApIHtcblx0XHRcdHNlbGVjdG9yID0gdW50aWw7XG5cdFx0fVxuXG5cdFx0aWYgKCBzZWxlY3RvciAmJiB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRtYXRjaGVkID0galF1ZXJ5LmZpbHRlciggc2VsZWN0b3IsIG1hdGNoZWQgKTtcblx0XHR9XG5cblx0XHRpZiAoIHRoaXMubGVuZ3RoID4gMSApIHtcblxuXHRcdFx0Ly8gUmVtb3ZlIGR1cGxpY2F0ZXNcblx0XHRcdGlmICggIWd1YXJhbnRlZWRVbmlxdWVbIG5hbWUgXSApIHtcblx0XHRcdFx0alF1ZXJ5LnVuaXF1ZVNvcnQoIG1hdGNoZWQgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmV2ZXJzZSBvcmRlciBmb3IgcGFyZW50cyogYW5kIHByZXYtZGVyaXZhdGl2ZXNcblx0XHRcdGlmICggcnBhcmVudHNwcmV2LnRlc3QoIG5hbWUgKSApIHtcblx0XHRcdFx0bWF0Y2hlZC5yZXZlcnNlKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBtYXRjaGVkICk7XG5cdH07XG59ICk7XG52YXIgcm5vdGh0bWx3aGl0ZSA9ICggL1teXFx4MjBcXHRcXHJcXG5cXGZdKy9nICk7XG5cblxuXG4vLyBDb252ZXJ0IFN0cmluZy1mb3JtYXR0ZWQgb3B0aW9ucyBpbnRvIE9iamVjdC1mb3JtYXR0ZWQgb25lc1xuZnVuY3Rpb24gY3JlYXRlT3B0aW9ucyggb3B0aW9ucyApIHtcblx0dmFyIG9iamVjdCA9IHt9O1xuXHRqUXVlcnkuZWFjaCggb3B0aW9ucy5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdLCBmdW5jdGlvbiggXywgZmxhZyApIHtcblx0XHRvYmplY3RbIGZsYWcgXSA9IHRydWU7XG5cdH0gKTtcblx0cmV0dXJuIG9iamVjdDtcbn1cblxuLypcbiAqIENyZWF0ZSBhIGNhbGxiYWNrIGxpc3QgdXNpbmcgdGhlIGZvbGxvd2luZyBwYXJhbWV0ZXJzOlxuICpcbiAqXHRvcHRpb25zOiBhbiBvcHRpb25hbCBsaXN0IG9mIHNwYWNlLXNlcGFyYXRlZCBvcHRpb25zIHRoYXQgd2lsbCBjaGFuZ2UgaG93XG4gKlx0XHRcdHRoZSBjYWxsYmFjayBsaXN0IGJlaGF2ZXMgb3IgYSBtb3JlIHRyYWRpdGlvbmFsIG9wdGlvbiBvYmplY3RcbiAqXG4gKiBCeSBkZWZhdWx0IGEgY2FsbGJhY2sgbGlzdCB3aWxsIGFjdCBsaWtlIGFuIGV2ZW50IGNhbGxiYWNrIGxpc3QgYW5kIGNhbiBiZVxuICogXCJmaXJlZFwiIG11bHRpcGxlIHRpbWVzLlxuICpcbiAqIFBvc3NpYmxlIG9wdGlvbnM6XG4gKlxuICpcdG9uY2U6XHRcdFx0d2lsbCBlbnN1cmUgdGhlIGNhbGxiYWNrIGxpc3QgY2FuIG9ubHkgYmUgZmlyZWQgb25jZSAobGlrZSBhIERlZmVycmVkKVxuICpcbiAqXHRtZW1vcnk6XHRcdFx0d2lsbCBrZWVwIHRyYWNrIG9mIHByZXZpb3VzIHZhbHVlcyBhbmQgd2lsbCBjYWxsIGFueSBjYWxsYmFjayBhZGRlZFxuICpcdFx0XHRcdFx0YWZ0ZXIgdGhlIGxpc3QgaGFzIGJlZW4gZmlyZWQgcmlnaHQgYXdheSB3aXRoIHRoZSBsYXRlc3QgXCJtZW1vcml6ZWRcIlxuICpcdFx0XHRcdFx0dmFsdWVzIChsaWtlIGEgRGVmZXJyZWQpXG4gKlxuICpcdHVuaXF1ZTpcdFx0XHR3aWxsIGVuc3VyZSBhIGNhbGxiYWNrIGNhbiBvbmx5IGJlIGFkZGVkIG9uY2UgKG5vIGR1cGxpY2F0ZSBpbiB0aGUgbGlzdClcbiAqXG4gKlx0c3RvcE9uRmFsc2U6XHRpbnRlcnJ1cHQgY2FsbGluZ3Mgd2hlbiBhIGNhbGxiYWNrIHJldHVybnMgZmFsc2VcbiAqXG4gKi9cbmpRdWVyeS5DYWxsYmFja3MgPSBmdW5jdGlvbiggb3B0aW9ucyApIHtcblxuXHQvLyBDb252ZXJ0IG9wdGlvbnMgZnJvbSBTdHJpbmctZm9ybWF0dGVkIHRvIE9iamVjdC1mb3JtYXR0ZWQgaWYgbmVlZGVkXG5cdC8vICh3ZSBjaGVjayBpbiBjYWNoZSBmaXJzdClcblx0b3B0aW9ucyA9IHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiID9cblx0XHRjcmVhdGVPcHRpb25zKCBvcHRpb25zICkgOlxuXHRcdGpRdWVyeS5leHRlbmQoIHt9LCBvcHRpb25zICk7XG5cblx0dmFyIC8vIEZsYWcgdG8ga25vdyBpZiBsaXN0IGlzIGN1cnJlbnRseSBmaXJpbmdcblx0XHRmaXJpbmcsXG5cblx0XHQvLyBMYXN0IGZpcmUgdmFsdWUgZm9yIG5vbi1mb3JnZXR0YWJsZSBsaXN0c1xuXHRcdG1lbW9yeSxcblxuXHRcdC8vIEZsYWcgdG8ga25vdyBpZiBsaXN0IHdhcyBhbHJlYWR5IGZpcmVkXG5cdFx0ZmlyZWQsXG5cblx0XHQvLyBGbGFnIHRvIHByZXZlbnQgZmlyaW5nXG5cdFx0bG9ja2VkLFxuXG5cdFx0Ly8gQWN0dWFsIGNhbGxiYWNrIGxpc3Rcblx0XHRsaXN0ID0gW10sXG5cblx0XHQvLyBRdWV1ZSBvZiBleGVjdXRpb24gZGF0YSBmb3IgcmVwZWF0YWJsZSBsaXN0c1xuXHRcdHF1ZXVlID0gW10sXG5cblx0XHQvLyBJbmRleCBvZiBjdXJyZW50bHkgZmlyaW5nIGNhbGxiYWNrIChtb2RpZmllZCBieSBhZGQvcmVtb3ZlIGFzIG5lZWRlZClcblx0XHRmaXJpbmdJbmRleCA9IC0xLFxuXG5cdFx0Ly8gRmlyZSBjYWxsYmFja3Ncblx0XHRmaXJlID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIEVuZm9yY2Ugc2luZ2xlLWZpcmluZ1xuXHRcdFx0bG9ja2VkID0gbG9ja2VkIHx8IG9wdGlvbnMub25jZTtcblxuXHRcdFx0Ly8gRXhlY3V0ZSBjYWxsYmFja3MgZm9yIGFsbCBwZW5kaW5nIGV4ZWN1dGlvbnMsXG5cdFx0XHQvLyByZXNwZWN0aW5nIGZpcmluZ0luZGV4IG92ZXJyaWRlcyBhbmQgcnVudGltZSBjaGFuZ2VzXG5cdFx0XHRmaXJlZCA9IGZpcmluZyA9IHRydWU7XG5cdFx0XHRmb3IgKCA7IHF1ZXVlLmxlbmd0aDsgZmlyaW5nSW5kZXggPSAtMSApIHtcblx0XHRcdFx0bWVtb3J5ID0gcXVldWUuc2hpZnQoKTtcblx0XHRcdFx0d2hpbGUgKCArK2ZpcmluZ0luZGV4IDwgbGlzdC5sZW5ndGggKSB7XG5cblx0XHRcdFx0XHQvLyBSdW4gY2FsbGJhY2sgYW5kIGNoZWNrIGZvciBlYXJseSB0ZXJtaW5hdGlvblxuXHRcdFx0XHRcdGlmICggbGlzdFsgZmlyaW5nSW5kZXggXS5hcHBseSggbWVtb3J5WyAwIF0sIG1lbW9yeVsgMSBdICkgPT09IGZhbHNlICYmXG5cdFx0XHRcdFx0XHRvcHRpb25zLnN0b3BPbkZhbHNlICkge1xuXG5cdFx0XHRcdFx0XHQvLyBKdW1wIHRvIGVuZCBhbmQgZm9yZ2V0IHRoZSBkYXRhIHNvIC5hZGQgZG9lc24ndCByZS1maXJlXG5cdFx0XHRcdFx0XHRmaXJpbmdJbmRleCA9IGxpc3QubGVuZ3RoO1xuXHRcdFx0XHRcdFx0bWVtb3J5ID0gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEZvcmdldCB0aGUgZGF0YSBpZiB3ZSdyZSBkb25lIHdpdGggaXRcblx0XHRcdGlmICggIW9wdGlvbnMubWVtb3J5ICkge1xuXHRcdFx0XHRtZW1vcnkgPSBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0ZmlyaW5nID0gZmFsc2U7XG5cblx0XHRcdC8vIENsZWFuIHVwIGlmIHdlJ3JlIGRvbmUgZmlyaW5nIGZvciBnb29kXG5cdFx0XHRpZiAoIGxvY2tlZCApIHtcblxuXHRcdFx0XHQvLyBLZWVwIGFuIGVtcHR5IGxpc3QgaWYgd2UgaGF2ZSBkYXRhIGZvciBmdXR1cmUgYWRkIGNhbGxzXG5cdFx0XHRcdGlmICggbWVtb3J5ICkge1xuXHRcdFx0XHRcdGxpc3QgPSBbXTtcblxuXHRcdFx0XHQvLyBPdGhlcndpc2UsIHRoaXMgb2JqZWN0IGlzIHNwZW50XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bGlzdCA9IFwiXCI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0Ly8gQWN0dWFsIENhbGxiYWNrcyBvYmplY3Rcblx0XHRzZWxmID0ge1xuXG5cdFx0XHQvLyBBZGQgYSBjYWxsYmFjayBvciBhIGNvbGxlY3Rpb24gb2YgY2FsbGJhY2tzIHRvIHRoZSBsaXN0XG5cdFx0XHRhZGQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIGxpc3QgKSB7XG5cblx0XHRcdFx0XHQvLyBJZiB3ZSBoYXZlIG1lbW9yeSBmcm9tIGEgcGFzdCBydW4sIHdlIHNob3VsZCBmaXJlIGFmdGVyIGFkZGluZ1xuXHRcdFx0XHRcdGlmICggbWVtb3J5ICYmICFmaXJpbmcgKSB7XG5cdFx0XHRcdFx0XHRmaXJpbmdJbmRleCA9IGxpc3QubGVuZ3RoIC0gMTtcblx0XHRcdFx0XHRcdHF1ZXVlLnB1c2goIG1lbW9yeSApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdCggZnVuY3Rpb24gYWRkKCBhcmdzICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5LmVhY2goIGFyZ3MsIGZ1bmN0aW9uKCBfLCBhcmcgKSB7XG5cdFx0XHRcdFx0XHRcdGlmICggaXNGdW5jdGlvbiggYXJnICkgKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCAhb3B0aW9ucy51bmlxdWUgfHwgIXNlbGYuaGFzKCBhcmcgKSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGxpc3QucHVzaCggYXJnICk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9IGVsc2UgaWYgKCBhcmcgJiYgYXJnLmxlbmd0aCAmJiB0b1R5cGUoIGFyZyApICE9PSBcInN0cmluZ1wiICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gSW5zcGVjdCByZWN1cnNpdmVseVxuXHRcdFx0XHRcdFx0XHRcdGFkZCggYXJnICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHR9ICkoIGFyZ3VtZW50cyApO1xuXG5cdFx0XHRcdFx0aWYgKCBtZW1vcnkgJiYgIWZpcmluZyApIHtcblx0XHRcdFx0XHRcdGZpcmUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBSZW1vdmUgYSBjYWxsYmFjayBmcm9tIHRoZSBsaXN0XG5cdFx0XHRyZW1vdmU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRqUXVlcnkuZWFjaCggYXJndW1lbnRzLCBmdW5jdGlvbiggXywgYXJnICkge1xuXHRcdFx0XHRcdHZhciBpbmRleDtcblx0XHRcdFx0XHR3aGlsZSAoICggaW5kZXggPSBqUXVlcnkuaW5BcnJheSggYXJnLCBsaXN0LCBpbmRleCApICkgPiAtMSApIHtcblx0XHRcdFx0XHRcdGxpc3Quc3BsaWNlKCBpbmRleCwgMSApO1xuXG5cdFx0XHRcdFx0XHQvLyBIYW5kbGUgZmlyaW5nIGluZGV4ZXNcblx0XHRcdFx0XHRcdGlmICggaW5kZXggPD0gZmlyaW5nSW5kZXggKSB7XG5cdFx0XHRcdFx0XHRcdGZpcmluZ0luZGV4LS07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gQ2hlY2sgaWYgYSBnaXZlbiBjYWxsYmFjayBpcyBpbiB0aGUgbGlzdC5cblx0XHRcdC8vIElmIG5vIGFyZ3VtZW50IGlzIGdpdmVuLCByZXR1cm4gd2hldGhlciBvciBub3QgbGlzdCBoYXMgY2FsbGJhY2tzIGF0dGFjaGVkLlxuXHRcdFx0aGFzOiBmdW5jdGlvbiggZm4gKSB7XG5cdFx0XHRcdHJldHVybiBmbiA/XG5cdFx0XHRcdFx0alF1ZXJ5LmluQXJyYXkoIGZuLCBsaXN0ICkgPiAtMSA6XG5cdFx0XHRcdFx0bGlzdC5sZW5ndGggPiAwO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gUmVtb3ZlIGFsbCBjYWxsYmFja3MgZnJvbSB0aGUgbGlzdFxuXHRcdFx0ZW1wdHk6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIGxpc3QgKSB7XG5cdFx0XHRcdFx0bGlzdCA9IFtdO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblxuXHRcdFx0Ly8gRGlzYWJsZSAuZmlyZSBhbmQgLmFkZFxuXHRcdFx0Ly8gQWJvcnQgYW55IGN1cnJlbnQvcGVuZGluZyBleGVjdXRpb25zXG5cdFx0XHQvLyBDbGVhciBhbGwgY2FsbGJhY2tzIGFuZCB2YWx1ZXNcblx0XHRcdGRpc2FibGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRsb2NrZWQgPSBxdWV1ZSA9IFtdO1xuXHRcdFx0XHRsaXN0ID0gbWVtb3J5ID0gXCJcIjtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXHRcdFx0ZGlzYWJsZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gIWxpc3Q7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBEaXNhYmxlIC5maXJlXG5cdFx0XHQvLyBBbHNvIGRpc2FibGUgLmFkZCB1bmxlc3Mgd2UgaGF2ZSBtZW1vcnkgKHNpbmNlIGl0IHdvdWxkIGhhdmUgbm8gZWZmZWN0KVxuXHRcdFx0Ly8gQWJvcnQgYW55IHBlbmRpbmcgZXhlY3V0aW9uc1xuXHRcdFx0bG9jazogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGxvY2tlZCA9IHF1ZXVlID0gW107XG5cdFx0XHRcdGlmICggIW1lbW9yeSAmJiAhZmlyaW5nICkge1xuXHRcdFx0XHRcdGxpc3QgPSBtZW1vcnkgPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fSxcblx0XHRcdGxvY2tlZDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiAhIWxvY2tlZDtcblx0XHRcdH0sXG5cblx0XHRcdC8vIENhbGwgYWxsIGNhbGxiYWNrcyB3aXRoIHRoZSBnaXZlbiBjb250ZXh0IGFuZCBhcmd1bWVudHNcblx0XHRcdGZpcmVXaXRoOiBmdW5jdGlvbiggY29udGV4dCwgYXJncyApIHtcblx0XHRcdFx0aWYgKCAhbG9ja2VkICkge1xuXHRcdFx0XHRcdGFyZ3MgPSBhcmdzIHx8IFtdO1xuXHRcdFx0XHRcdGFyZ3MgPSBbIGNvbnRleHQsIGFyZ3Muc2xpY2UgPyBhcmdzLnNsaWNlKCkgOiBhcmdzIF07XG5cdFx0XHRcdFx0cXVldWUucHVzaCggYXJncyApO1xuXHRcdFx0XHRcdGlmICggIWZpcmluZyApIHtcblx0XHRcdFx0XHRcdGZpcmUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBDYWxsIGFsbCB0aGUgY2FsbGJhY2tzIHdpdGggdGhlIGdpdmVuIGFyZ3VtZW50c1xuXHRcdFx0ZmlyZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNlbGYuZmlyZVdpdGgoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH0sXG5cblx0XHRcdC8vIFRvIGtub3cgaWYgdGhlIGNhbGxiYWNrcyBoYXZlIGFscmVhZHkgYmVlbiBjYWxsZWQgYXQgbGVhc3Qgb25jZVxuXHRcdFx0ZmlyZWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gISFmaXJlZDtcblx0XHRcdH1cblx0XHR9O1xuXG5cdHJldHVybiBzZWxmO1xufTtcblxuXG5mdW5jdGlvbiBJZGVudGl0eSggdiApIHtcblx0cmV0dXJuIHY7XG59XG5mdW5jdGlvbiBUaHJvd2VyKCBleCApIHtcblx0dGhyb3cgZXg7XG59XG5cbmZ1bmN0aW9uIGFkb3B0VmFsdWUoIHZhbHVlLCByZXNvbHZlLCByZWplY3QsIG5vVmFsdWUgKSB7XG5cdHZhciBtZXRob2Q7XG5cblx0dHJ5IHtcblxuXHRcdC8vIENoZWNrIGZvciBwcm9taXNlIGFzcGVjdCBmaXJzdCB0byBwcml2aWxlZ2Ugc3luY2hyb25vdXMgYmVoYXZpb3Jcblx0XHRpZiAoIHZhbHVlICYmIGlzRnVuY3Rpb24oICggbWV0aG9kID0gdmFsdWUucHJvbWlzZSApICkgKSB7XG5cdFx0XHRtZXRob2QuY2FsbCggdmFsdWUgKS5kb25lKCByZXNvbHZlICkuZmFpbCggcmVqZWN0ICk7XG5cblx0XHQvLyBPdGhlciB0aGVuYWJsZXNcblx0XHR9IGVsc2UgaWYgKCB2YWx1ZSAmJiBpc0Z1bmN0aW9uKCAoIG1ldGhvZCA9IHZhbHVlLnRoZW4gKSApICkge1xuXHRcdFx0bWV0aG9kLmNhbGwoIHZhbHVlLCByZXNvbHZlLCByZWplY3QgKTtcblxuXHRcdC8vIE90aGVyIG5vbi10aGVuYWJsZXNcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBDb250cm9sIGByZXNvbHZlYCBhcmd1bWVudHMgYnkgbGV0dGluZyBBcnJheSNzbGljZSBjYXN0IGJvb2xlYW4gYG5vVmFsdWVgIHRvIGludGVnZXI6XG5cdFx0XHQvLyAqIGZhbHNlOiBbIHZhbHVlIF0uc2xpY2UoIDAgKSA9PiByZXNvbHZlKCB2YWx1ZSApXG5cdFx0XHQvLyAqIHRydWU6IFsgdmFsdWUgXS5zbGljZSggMSApID0+IHJlc29sdmUoKVxuXHRcdFx0cmVzb2x2ZS5hcHBseSggdW5kZWZpbmVkLCBbIHZhbHVlIF0uc2xpY2UoIG5vVmFsdWUgKSApO1xuXHRcdH1cblxuXHQvLyBGb3IgUHJvbWlzZXMvQSssIGNvbnZlcnQgZXhjZXB0aW9ucyBpbnRvIHJlamVjdGlvbnNcblx0Ly8gU2luY2UgalF1ZXJ5LndoZW4gZG9lc24ndCB1bndyYXAgdGhlbmFibGVzLCB3ZSBjYW4gc2tpcCB0aGUgZXh0cmEgY2hlY2tzIGFwcGVhcmluZyBpblxuXHQvLyBEZWZlcnJlZCN0aGVuIHRvIGNvbmRpdGlvbmFsbHkgc3VwcHJlc3MgcmVqZWN0aW9uLlxuXHR9IGNhdGNoICggdmFsdWUgKSB7XG5cblx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCBvbmx5XG5cdFx0Ly8gU3RyaWN0IG1vZGUgZnVuY3Rpb25zIGludm9rZWQgd2l0aG91dCAuY2FsbC8uYXBwbHkgZ2V0IGdsb2JhbC1vYmplY3QgY29udGV4dFxuXHRcdHJlamVjdC5hcHBseSggdW5kZWZpbmVkLCBbIHZhbHVlIF0gKTtcblx0fVxufVxuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0RGVmZXJyZWQ6IGZ1bmN0aW9uKCBmdW5jICkge1xuXHRcdHZhciB0dXBsZXMgPSBbXG5cblx0XHRcdFx0Ly8gYWN0aW9uLCBhZGQgbGlzdGVuZXIsIGNhbGxiYWNrcyxcblx0XHRcdFx0Ly8gLi4uIC50aGVuIGhhbmRsZXJzLCBhcmd1bWVudCBpbmRleCwgW2ZpbmFsIHN0YXRlXVxuXHRcdFx0XHRbIFwibm90aWZ5XCIsIFwicHJvZ3Jlc3NcIiwgalF1ZXJ5LkNhbGxiYWNrcyggXCJtZW1vcnlcIiApLFxuXHRcdFx0XHRcdGpRdWVyeS5DYWxsYmFja3MoIFwibWVtb3J5XCIgKSwgMiBdLFxuXHRcdFx0XHRbIFwicmVzb2x2ZVwiLCBcImRvbmVcIiwgalF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksXG5cdFx0XHRcdFx0alF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICksIDAsIFwicmVzb2x2ZWRcIiBdLFxuXHRcdFx0XHRbIFwicmVqZWN0XCIsIFwiZmFpbFwiLCBqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKSxcblx0XHRcdFx0XHRqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKSwgMSwgXCJyZWplY3RlZFwiIF1cblx0XHRcdF0sXG5cdFx0XHRzdGF0ZSA9IFwicGVuZGluZ1wiLFxuXHRcdFx0cHJvbWlzZSA9IHtcblx0XHRcdFx0c3RhdGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiBzdGF0ZTtcblx0XHRcdFx0fSxcblx0XHRcdFx0YWx3YXlzOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRkZWZlcnJlZC5kb25lKCBhcmd1bWVudHMgKS5mYWlsKCBhcmd1bWVudHMgKTtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblx0XHRcdFx0XCJjYXRjaFwiOiBmdW5jdGlvbiggZm4gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHByb21pc2UudGhlbiggbnVsbCwgZm4gKTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBLZWVwIHBpcGUgZm9yIGJhY2stY29tcGF0XG5cdFx0XHRcdHBpcGU6IGZ1bmN0aW9uKCAvKiBmbkRvbmUsIGZuRmFpbCwgZm5Qcm9ncmVzcyAqLyApIHtcblx0XHRcdFx0XHR2YXIgZm5zID0gYXJndW1lbnRzO1xuXG5cdFx0XHRcdFx0cmV0dXJuIGpRdWVyeS5EZWZlcnJlZCggZnVuY3Rpb24oIG5ld0RlZmVyICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5LmVhY2goIHR1cGxlcywgZnVuY3Rpb24oIGksIHR1cGxlICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIE1hcCB0dXBsZXMgKHByb2dyZXNzLCBkb25lLCBmYWlsKSB0byBhcmd1bWVudHMgKGRvbmUsIGZhaWwsIHByb2dyZXNzKVxuXHRcdFx0XHRcdFx0XHR2YXIgZm4gPSBpc0Z1bmN0aW9uKCBmbnNbIHR1cGxlWyA0IF0gXSApICYmIGZuc1sgdHVwbGVbIDQgXSBdO1xuXG5cdFx0XHRcdFx0XHRcdC8vIGRlZmVycmVkLnByb2dyZXNzKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLm5vdGlmeSB9KVxuXHRcdFx0XHRcdFx0XHQvLyBkZWZlcnJlZC5kb25lKGZ1bmN0aW9uKCkgeyBiaW5kIHRvIG5ld0RlZmVyIG9yIG5ld0RlZmVyLnJlc29sdmUgfSlcblx0XHRcdFx0XHRcdFx0Ly8gZGVmZXJyZWQuZmFpbChmdW5jdGlvbigpIHsgYmluZCB0byBuZXdEZWZlciBvciBuZXdEZWZlci5yZWplY3QgfSlcblx0XHRcdFx0XHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAxIF0gXSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHJldHVybmVkID0gZm4gJiYgZm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRcdFx0XHRcdGlmICggcmV0dXJuZWQgJiYgaXNGdW5jdGlvbiggcmV0dXJuZWQucHJvbWlzZSApICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQucHJvbWlzZSgpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5wcm9ncmVzcyggbmV3RGVmZXIubm90aWZ5IClcblx0XHRcdFx0XHRcdFx0XHRcdFx0LmRvbmUoIG5ld0RlZmVyLnJlc29sdmUgKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQuZmFpbCggbmV3RGVmZXIucmVqZWN0ICk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdG5ld0RlZmVyWyB0dXBsZVsgMCBdICsgXCJXaXRoXCIgXShcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0Zm4gPyBbIHJldHVybmVkIF0gOiBhcmd1bWVudHNcblx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0XHRmbnMgPSBudWxsO1xuXHRcdFx0XHRcdH0gKS5wcm9taXNlKCk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRoZW46IGZ1bmN0aW9uKCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgb25Qcm9ncmVzcyApIHtcblx0XHRcdFx0XHR2YXIgbWF4RGVwdGggPSAwO1xuXHRcdFx0XHRcdGZ1bmN0aW9uIHJlc29sdmUoIGRlcHRoLCBkZWZlcnJlZCwgaGFuZGxlciwgc3BlY2lhbCApIHtcblx0XHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0dmFyIHRoYXQgPSB0aGlzLFxuXHRcdFx0XHRcdFx0XHRcdGFyZ3MgPSBhcmd1bWVudHMsXG5cdFx0XHRcdFx0XHRcdFx0bWlnaHRUaHJvdyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIHJldHVybmVkLCB0aGVuO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuM1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTlcblx0XHRcdFx0XHRcdFx0XHRcdC8vIElnbm9yZSBkb3VibGUtcmVzb2x1dGlvbiBhdHRlbXB0c1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBkZXB0aCA8IG1heERlcHRoICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkID0gaGFuZGxlci5hcHBseSggdGhhdCwgYXJncyApO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4xXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC00OFxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCByZXR1cm5lZCA9PT0gZGVmZXJyZWQucHJvbWlzZSgpICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCBcIlRoZW5hYmxlIHNlbGYtcmVzb2x1dGlvblwiICk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb25zIDIuMy4zLjEsIDMuNVxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTRcblx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTc1XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBSZXRyaWV2ZSBgdGhlbmAgb25seSBvbmNlXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGVuID0gcmV0dXJuZWQgJiZcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy40XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTY0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgY2hlY2sgb2JqZWN0cyBhbmQgZnVuY3Rpb25zIGZvciB0aGVuYWJpbGl0eVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQoIHR5cGVvZiByZXR1cm5lZCA9PT0gXCJvYmplY3RcIiB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHR5cGVvZiByZXR1cm5lZCA9PT0gXCJmdW5jdGlvblwiICkgJiZcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQudGhlbjtcblxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGEgcmV0dXJuZWQgdGhlbmFibGVcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggaXNGdW5jdGlvbiggdGhlbiApICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFNwZWNpYWwgcHJvY2Vzc29ycyAobm90aWZ5KSBqdXN0IHdhaXQgZm9yIHJlc29sdXRpb25cblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBzcGVjaWFsICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoZW4uY2FsbChcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSwgc3BlY2lhbCApLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBUaHJvd2VyLCBzcGVjaWFsIClcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE5vcm1hbCBwcm9jZXNzb3JzIChyZXNvbHZlKSBhbHNvIGhvb2sgaW50byBwcm9ncmVzc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gLi4uYW5kIGRpc3JlZ2FyZCBvbGRlciByZXNvbHV0aW9uIHZhbHVlc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1heERlcHRoKys7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGVuLmNhbGwoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgSWRlbnRpdHksIHNwZWNpYWwgKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgVGhyb3dlciwgc3BlY2lhbCApLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVmZXJyZWQubm90aWZ5V2l0aCApXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBIYW5kbGUgYWxsIG90aGVyIHJldHVybmVkIHZhbHVlc1xuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IHN1YnN0aXR1dGUgaGFuZGxlcnMgcGFzcyBvbiBjb250ZXh0XG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGFuZCBtdWx0aXBsZSB2YWx1ZXMgKG5vbi1zcGVjIGJlaGF2aW9yKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGhhbmRsZXIgIT09IElkZW50aXR5ICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoYXQgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXJncyA9IFsgcmV0dXJuZWQgXTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFByb2Nlc3MgdGhlIHZhbHVlKHMpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIERlZmF1bHQgcHJvY2VzcyBpcyByZXNvbHZlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCggc3BlY2lhbCB8fCBkZWZlcnJlZC5yZXNvbHZlV2l0aCApKCB0aGF0LCBhcmdzICk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSxcblxuXHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgbm9ybWFsIHByb2Nlc3NvcnMgKHJlc29sdmUpIGNhdGNoIGFuZCByZWplY3QgZXhjZXB0aW9uc1xuXHRcdFx0XHRcdFx0XHRcdHByb2Nlc3MgPSBzcGVjaWFsID9cblx0XHRcdFx0XHRcdFx0XHRcdG1pZ2h0VGhyb3cgOlxuXHRcdFx0XHRcdFx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bWlnaHRUaHJvdygpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9IGNhdGNoICggZSApIHtcblxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5LkRlZmVycmVkLmV4Y2VwdGlvbkhvb2sgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayggZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cHJvY2Vzcy5zdGFja1RyYWNlICk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMy4zLjQuMVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTYxXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gSWdub3JlIHBvc3QtcmVzb2x1dGlvbiBleGNlcHRpb25zXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBkZXB0aCArIDEgPj0gbWF4RGVwdGggKSB7XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgc3Vic3RpdHV0ZSBoYW5kbGVycyBwYXNzIG9uIGNvbnRleHRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGFuZCBtdWx0aXBsZSB2YWx1ZXMgKG5vbi1zcGVjIGJlaGF2aW9yKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBoYW5kbGVyICE9PSBUaHJvd2VyICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGF0ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcmdzID0gWyBlIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlZmVycmVkLnJlamVjdFdpdGgoIHRoYXQsIGFyZ3MgKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMy4zLjFcblx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNTdcblx0XHRcdFx0XHRcdFx0Ly8gUmUtcmVzb2x2ZSBwcm9taXNlcyBpbW1lZGlhdGVseSB0byBkb2RnZSBmYWxzZSByZWplY3Rpb24gZnJvbVxuXHRcdFx0XHRcdFx0XHQvLyBzdWJzZXF1ZW50IGVycm9yc1xuXHRcdFx0XHRcdFx0XHRpZiAoIGRlcHRoICkge1xuXHRcdFx0XHRcdFx0XHRcdHByb2Nlc3MoKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIENhbGwgYW4gb3B0aW9uYWwgaG9vayB0byByZWNvcmQgdGhlIHN0YWNrLCBpbiBjYXNlIG9mIGV4Y2VwdGlvblxuXHRcdFx0XHRcdFx0XHRcdC8vIHNpbmNlIGl0J3Mgb3RoZXJ3aXNlIGxvc3Qgd2hlbiBleGVjdXRpb24gZ29lcyBhc3luY1xuXHRcdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5LkRlZmVycmVkLmdldFN0YWNrSG9vayApIHtcblx0XHRcdFx0XHRcdFx0XHRcdHByb2Nlc3Muc3RhY2tUcmFjZSA9IGpRdWVyeS5EZWZlcnJlZC5nZXRTdGFja0hvb2soKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0d2luZG93LnNldFRpbWVvdXQoIHByb2Nlc3MgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCBmdW5jdGlvbiggbmV3RGVmZXIgKSB7XG5cblx0XHRcdFx0XHRcdC8vIHByb2dyZXNzX2hhbmRsZXJzLmFkZCggLi4uIClcblx0XHRcdFx0XHRcdHR1cGxlc1sgMCBdWyAzIF0uYWRkKFxuXHRcdFx0XHRcdFx0XHRyZXNvbHZlKFxuXHRcdFx0XHRcdFx0XHRcdDAsXG5cdFx0XHRcdFx0XHRcdFx0bmV3RGVmZXIsXG5cdFx0XHRcdFx0XHRcdFx0aXNGdW5jdGlvbiggb25Qcm9ncmVzcyApID9cblx0XHRcdFx0XHRcdFx0XHRcdG9uUHJvZ3Jlc3MgOlxuXHRcdFx0XHRcdFx0XHRcdFx0SWRlbnRpdHksXG5cdFx0XHRcdFx0XHRcdFx0bmV3RGVmZXIubm90aWZ5V2l0aFxuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHQpO1xuXG5cdFx0XHRcdFx0XHQvLyBmdWxmaWxsZWRfaGFuZGxlcnMuYWRkKCAuLi4gKVxuXHRcdFx0XHRcdFx0dHVwbGVzWyAxIF1bIDMgXS5hZGQoXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoXG5cdFx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlcixcblx0XHRcdFx0XHRcdFx0XHRpc0Z1bmN0aW9uKCBvbkZ1bGZpbGxlZCApID9cblx0XHRcdFx0XHRcdFx0XHRcdG9uRnVsZmlsbGVkIDpcblx0XHRcdFx0XHRcdFx0XHRcdElkZW50aXR5XG5cdFx0XHRcdFx0XHRcdClcblx0XHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0XHRcdC8vIHJlamVjdGVkX2hhbmRsZXJzLmFkZCggLi4uIClcblx0XHRcdFx0XHRcdHR1cGxlc1sgMiBdWyAzIF0uYWRkKFxuXHRcdFx0XHRcdFx0XHRyZXNvbHZlKFxuXHRcdFx0XHRcdFx0XHRcdDAsXG5cdFx0XHRcdFx0XHRcdFx0bmV3RGVmZXIsXG5cdFx0XHRcdFx0XHRcdFx0aXNGdW5jdGlvbiggb25SZWplY3RlZCApID9cblx0XHRcdFx0XHRcdFx0XHRcdG9uUmVqZWN0ZWQgOlxuXHRcdFx0XHRcdFx0XHRcdFx0VGhyb3dlclxuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH0gKS5wcm9taXNlKCk7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gR2V0IGEgcHJvbWlzZSBmb3IgdGhpcyBkZWZlcnJlZFxuXHRcdFx0XHQvLyBJZiBvYmogaXMgcHJvdmlkZWQsIHRoZSBwcm9taXNlIGFzcGVjdCBpcyBhZGRlZCB0byB0aGUgb2JqZWN0XG5cdFx0XHRcdHByb21pc2U6IGZ1bmN0aW9uKCBvYmogKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG9iaiAhPSBudWxsID8galF1ZXJ5LmV4dGVuZCggb2JqLCBwcm9taXNlICkgOiBwcm9taXNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0ZGVmZXJyZWQgPSB7fTtcblxuXHRcdC8vIEFkZCBsaXN0LXNwZWNpZmljIG1ldGhvZHNcblx0XHRqUXVlcnkuZWFjaCggdHVwbGVzLCBmdW5jdGlvbiggaSwgdHVwbGUgKSB7XG5cdFx0XHR2YXIgbGlzdCA9IHR1cGxlWyAyIF0sXG5cdFx0XHRcdHN0YXRlU3RyaW5nID0gdHVwbGVbIDUgXTtcblxuXHRcdFx0Ly8gcHJvbWlzZS5wcm9ncmVzcyA9IGxpc3QuYWRkXG5cdFx0XHQvLyBwcm9taXNlLmRvbmUgPSBsaXN0LmFkZFxuXHRcdFx0Ly8gcHJvbWlzZS5mYWlsID0gbGlzdC5hZGRcblx0XHRcdHByb21pc2VbIHR1cGxlWyAxIF0gXSA9IGxpc3QuYWRkO1xuXG5cdFx0XHQvLyBIYW5kbGUgc3RhdGVcblx0XHRcdGlmICggc3RhdGVTdHJpbmcgKSB7XG5cdFx0XHRcdGxpc3QuYWRkKFxuXHRcdFx0XHRcdGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0XHQvLyBzdGF0ZSA9IFwicmVzb2x2ZWRcIiAoaS5lLiwgZnVsZmlsbGVkKVxuXHRcdFx0XHRcdFx0Ly8gc3RhdGUgPSBcInJlamVjdGVkXCJcblx0XHRcdFx0XHRcdHN0YXRlID0gc3RhdGVTdHJpbmc7XG5cdFx0XHRcdFx0fSxcblxuXHRcdFx0XHRcdC8vIHJlamVjdGVkX2NhbGxiYWNrcy5kaXNhYmxlXG5cdFx0XHRcdFx0Ly8gZnVsZmlsbGVkX2NhbGxiYWNrcy5kaXNhYmxlXG5cdFx0XHRcdFx0dHVwbGVzWyAzIC0gaSBdWyAyIF0uZGlzYWJsZSxcblxuXHRcdFx0XHRcdC8vIHJlamVjdGVkX2hhbmRsZXJzLmRpc2FibGVcblx0XHRcdFx0XHQvLyBmdWxmaWxsZWRfaGFuZGxlcnMuZGlzYWJsZVxuXHRcdFx0XHRcdHR1cGxlc1sgMyAtIGkgXVsgMyBdLmRpc2FibGUsXG5cblx0XHRcdFx0XHQvLyBwcm9ncmVzc19jYWxsYmFja3MubG9ja1xuXHRcdFx0XHRcdHR1cGxlc1sgMCBdWyAyIF0ubG9jayxcblxuXHRcdFx0XHRcdC8vIHByb2dyZXNzX2hhbmRsZXJzLmxvY2tcblx0XHRcdFx0XHR0dXBsZXNbIDAgXVsgMyBdLmxvY2tcblx0XHRcdFx0KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gcHJvZ3Jlc3NfaGFuZGxlcnMuZmlyZVxuXHRcdFx0Ly8gZnVsZmlsbGVkX2hhbmRsZXJzLmZpcmVcblx0XHRcdC8vIHJlamVjdGVkX2hhbmRsZXJzLmZpcmVcblx0XHRcdGxpc3QuYWRkKCB0dXBsZVsgMyBdLmZpcmUgKTtcblxuXHRcdFx0Ly8gZGVmZXJyZWQubm90aWZ5ID0gZnVuY3Rpb24oKSB7IGRlZmVycmVkLm5vdGlmeVdpdGgoLi4uKSB9XG5cdFx0XHQvLyBkZWZlcnJlZC5yZXNvbHZlID0gZnVuY3Rpb24oKSB7IGRlZmVycmVkLnJlc29sdmVXaXRoKC4uLikgfVxuXHRcdFx0Ly8gZGVmZXJyZWQucmVqZWN0ID0gZnVuY3Rpb24oKSB7IGRlZmVycmVkLnJlamVjdFdpdGgoLi4uKSB9XG5cdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDAgXSBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRlZmVycmVkWyB0dXBsZVsgMCBdICsgXCJXaXRoXCIgXSggdGhpcyA9PT0gZGVmZXJyZWQgPyB1bmRlZmluZWQgOiB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9O1xuXG5cdFx0XHQvLyBkZWZlcnJlZC5ub3RpZnlXaXRoID0gbGlzdC5maXJlV2l0aFxuXHRcdFx0Ly8gZGVmZXJyZWQucmVzb2x2ZVdpdGggPSBsaXN0LmZpcmVXaXRoXG5cdFx0XHQvLyBkZWZlcnJlZC5yZWplY3RXaXRoID0gbGlzdC5maXJlV2l0aFxuXHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdID0gbGlzdC5maXJlV2l0aDtcblx0XHR9ICk7XG5cblx0XHQvLyBNYWtlIHRoZSBkZWZlcnJlZCBhIHByb21pc2Vcblx0XHRwcm9taXNlLnByb21pc2UoIGRlZmVycmVkICk7XG5cblx0XHQvLyBDYWxsIGdpdmVuIGZ1bmMgaWYgYW55XG5cdFx0aWYgKCBmdW5jICkge1xuXHRcdFx0ZnVuYy5jYWxsKCBkZWZlcnJlZCwgZGVmZXJyZWQgKTtcblx0XHR9XG5cblx0XHQvLyBBbGwgZG9uZSFcblx0XHRyZXR1cm4gZGVmZXJyZWQ7XG5cdH0sXG5cblx0Ly8gRGVmZXJyZWQgaGVscGVyXG5cdHdoZW46IGZ1bmN0aW9uKCBzaW5nbGVWYWx1ZSApIHtcblx0XHR2YXJcblxuXHRcdFx0Ly8gY291bnQgb2YgdW5jb21wbGV0ZWQgc3Vib3JkaW5hdGVzXG5cdFx0XHRyZW1haW5pbmcgPSBhcmd1bWVudHMubGVuZ3RoLFxuXG5cdFx0XHQvLyBjb3VudCBvZiB1bnByb2Nlc3NlZCBhcmd1bWVudHNcblx0XHRcdGkgPSByZW1haW5pbmcsXG5cblx0XHRcdC8vIHN1Ym9yZGluYXRlIGZ1bGZpbGxtZW50IGRhdGFcblx0XHRcdHJlc29sdmVDb250ZXh0cyA9IEFycmF5KCBpICksXG5cdFx0XHRyZXNvbHZlVmFsdWVzID0gc2xpY2UuY2FsbCggYXJndW1lbnRzICksXG5cblx0XHRcdC8vIHRoZSBtYXN0ZXIgRGVmZXJyZWRcblx0XHRcdG1hc3RlciA9IGpRdWVyeS5EZWZlcnJlZCgpLFxuXG5cdFx0XHQvLyBzdWJvcmRpbmF0ZSBjYWxsYmFjayBmYWN0b3J5XG5cdFx0XHR1cGRhdGVGdW5jID0gZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRcdHJldHVybiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHRcdFx0cmVzb2x2ZUNvbnRleHRzWyBpIF0gPSB0aGlzO1xuXHRcdFx0XHRcdHJlc29sdmVWYWx1ZXNbIGkgXSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gc2xpY2UuY2FsbCggYXJndW1lbnRzICkgOiB2YWx1ZTtcblx0XHRcdFx0XHRpZiAoICEoIC0tcmVtYWluaW5nICkgKSB7XG5cdFx0XHRcdFx0XHRtYXN0ZXIucmVzb2x2ZVdpdGgoIHJlc29sdmVDb250ZXh0cywgcmVzb2x2ZVZhbHVlcyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdH07XG5cblx0XHQvLyBTaW5nbGUtIGFuZCBlbXB0eSBhcmd1bWVudHMgYXJlIGFkb3B0ZWQgbGlrZSBQcm9taXNlLnJlc29sdmVcblx0XHRpZiAoIHJlbWFpbmluZyA8PSAxICkge1xuXHRcdFx0YWRvcHRWYWx1ZSggc2luZ2xlVmFsdWUsIG1hc3Rlci5kb25lKCB1cGRhdGVGdW5jKCBpICkgKS5yZXNvbHZlLCBtYXN0ZXIucmVqZWN0LFxuXHRcdFx0XHQhcmVtYWluaW5nICk7XG5cblx0XHRcdC8vIFVzZSAudGhlbigpIHRvIHVud3JhcCBzZWNvbmRhcnkgdGhlbmFibGVzIChjZi4gZ2gtMzAwMClcblx0XHRcdGlmICggbWFzdGVyLnN0YXRlKCkgPT09IFwicGVuZGluZ1wiIHx8XG5cdFx0XHRcdGlzRnVuY3Rpb24oIHJlc29sdmVWYWx1ZXNbIGkgXSAmJiByZXNvbHZlVmFsdWVzWyBpIF0udGhlbiApICkge1xuXG5cdFx0XHRcdHJldHVybiBtYXN0ZXIudGhlbigpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIE11bHRpcGxlIGFyZ3VtZW50cyBhcmUgYWdncmVnYXRlZCBsaWtlIFByb21pc2UuYWxsIGFycmF5IGVsZW1lbnRzXG5cdFx0d2hpbGUgKCBpLS0gKSB7XG5cdFx0XHRhZG9wdFZhbHVlKCByZXNvbHZlVmFsdWVzWyBpIF0sIHVwZGF0ZUZ1bmMoIGkgKSwgbWFzdGVyLnJlamVjdCApO1xuXHRcdH1cblxuXHRcdHJldHVybiBtYXN0ZXIucHJvbWlzZSgpO1xuXHR9XG59ICk7XG5cblxuLy8gVGhlc2UgdXN1YWxseSBpbmRpY2F0ZSBhIHByb2dyYW1tZXIgbWlzdGFrZSBkdXJpbmcgZGV2ZWxvcG1lbnQsXG4vLyB3YXJuIGFib3V0IHRoZW0gQVNBUCByYXRoZXIgdGhhbiBzd2FsbG93aW5nIHRoZW0gYnkgZGVmYXVsdC5cbnZhciByZXJyb3JOYW1lcyA9IC9eKEV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSSlFcnJvciQvO1xuXG5qUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayA9IGZ1bmN0aW9uKCBlcnJvciwgc3RhY2sgKSB7XG5cblx0Ly8gU3VwcG9ydDogSUUgOCAtIDkgb25seVxuXHQvLyBDb25zb2xlIGV4aXN0cyB3aGVuIGRldiB0b29scyBhcmUgb3Blbiwgd2hpY2ggY2FuIGhhcHBlbiBhdCBhbnkgdGltZVxuXHRpZiAoIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLndhcm4gJiYgZXJyb3IgJiYgcmVycm9yTmFtZXMudGVzdCggZXJyb3IubmFtZSApICkge1xuXHRcdHdpbmRvdy5jb25zb2xlLndhcm4oIFwialF1ZXJ5LkRlZmVycmVkIGV4Y2VwdGlvbjogXCIgKyBlcnJvci5tZXNzYWdlLCBlcnJvci5zdGFjaywgc3RhY2sgKTtcblx0fVxufTtcblxuXG5cblxualF1ZXJ5LnJlYWR5RXhjZXB0aW9uID0gZnVuY3Rpb24oIGVycm9yICkge1xuXHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0dGhyb3cgZXJyb3I7XG5cdH0gKTtcbn07XG5cblxuXG5cbi8vIFRoZSBkZWZlcnJlZCB1c2VkIG9uIERPTSByZWFkeVxudmFyIHJlYWR5TGlzdCA9IGpRdWVyeS5EZWZlcnJlZCgpO1xuXG5qUXVlcnkuZm4ucmVhZHkgPSBmdW5jdGlvbiggZm4gKSB7XG5cblx0cmVhZHlMaXN0XG5cdFx0LnRoZW4oIGZuIClcblxuXHRcdC8vIFdyYXAgalF1ZXJ5LnJlYWR5RXhjZXB0aW9uIGluIGEgZnVuY3Rpb24gc28gdGhhdCB0aGUgbG9va3VwXG5cdFx0Ly8gaGFwcGVucyBhdCB0aGUgdGltZSBvZiBlcnJvciBoYW5kbGluZyBpbnN0ZWFkIG9mIGNhbGxiYWNrXG5cdFx0Ly8gcmVnaXN0cmF0aW9uLlxuXHRcdC5jYXRjaCggZnVuY3Rpb24oIGVycm9yICkge1xuXHRcdFx0alF1ZXJ5LnJlYWR5RXhjZXB0aW9uKCBlcnJvciApO1xuXHRcdH0gKTtcblxuXHRyZXR1cm4gdGhpcztcbn07XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHQvLyBJcyB0aGUgRE9NIHJlYWR5IHRvIGJlIHVzZWQ/IFNldCB0byB0cnVlIG9uY2UgaXQgb2NjdXJzLlxuXHRpc1JlYWR5OiBmYWxzZSxcblxuXHQvLyBBIGNvdW50ZXIgdG8gdHJhY2sgaG93IG1hbnkgaXRlbXMgdG8gd2FpdCBmb3IgYmVmb3JlXG5cdC8vIHRoZSByZWFkeSBldmVudCBmaXJlcy4gU2VlICM2NzgxXG5cdHJlYWR5V2FpdDogMSxcblxuXHQvLyBIYW5kbGUgd2hlbiB0aGUgRE9NIGlzIHJlYWR5XG5cdHJlYWR5OiBmdW5jdGlvbiggd2FpdCApIHtcblxuXHRcdC8vIEFib3J0IGlmIHRoZXJlIGFyZSBwZW5kaW5nIGhvbGRzIG9yIHdlJ3JlIGFscmVhZHkgcmVhZHlcblx0XHRpZiAoIHdhaXQgPT09IHRydWUgPyAtLWpRdWVyeS5yZWFkeVdhaXQgOiBqUXVlcnkuaXNSZWFkeSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBSZW1lbWJlciB0aGF0IHRoZSBET00gaXMgcmVhZHlcblx0XHRqUXVlcnkuaXNSZWFkeSA9IHRydWU7XG5cblx0XHQvLyBJZiBhIG5vcm1hbCBET00gUmVhZHkgZXZlbnQgZmlyZWQsIGRlY3JlbWVudCwgYW5kIHdhaXQgaWYgbmVlZCBiZVxuXHRcdGlmICggd2FpdCAhPT0gdHJ1ZSAmJiAtLWpRdWVyeS5yZWFkeVdhaXQgPiAwICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIElmIHRoZXJlIGFyZSBmdW5jdGlvbnMgYm91bmQsIHRvIGV4ZWN1dGVcblx0XHRyZWFkeUxpc3QucmVzb2x2ZVdpdGgoIGRvY3VtZW50LCBbIGpRdWVyeSBdICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LnJlYWR5LnRoZW4gPSByZWFkeUxpc3QudGhlbjtcblxuLy8gVGhlIHJlYWR5IGV2ZW50IGhhbmRsZXIgYW5kIHNlbGYgY2xlYW51cCBtZXRob2RcbmZ1bmN0aW9uIGNvbXBsZXRlZCgpIHtcblx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJET01Db250ZW50TG9hZGVkXCIsIGNvbXBsZXRlZCApO1xuXHR3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJsb2FkXCIsIGNvbXBsZXRlZCApO1xuXHRqUXVlcnkucmVhZHkoKTtcbn1cblxuLy8gQ2F0Y2ggY2FzZXMgd2hlcmUgJChkb2N1bWVudCkucmVhZHkoKSBpcyBjYWxsZWRcbi8vIGFmdGVyIHRoZSBicm93c2VyIGV2ZW50IGhhcyBhbHJlYWR5IG9jY3VycmVkLlxuLy8gU3VwcG9ydDogSUUgPD05IC0gMTAgb25seVxuLy8gT2xkZXIgSUUgc29tZXRpbWVzIHNpZ25hbHMgXCJpbnRlcmFjdGl2ZVwiIHRvbyBzb29uXG5pZiAoIGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIiB8fFxuXHQoIGRvY3VtZW50LnJlYWR5U3RhdGUgIT09IFwibG9hZGluZ1wiICYmICFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwgKSApIHtcblxuXHQvLyBIYW5kbGUgaXQgYXN5bmNocm9ub3VzbHkgdG8gYWxsb3cgc2NyaXB0cyB0aGUgb3Bwb3J0dW5pdHkgdG8gZGVsYXkgcmVhZHlcblx0d2luZG93LnNldFRpbWVvdXQoIGpRdWVyeS5yZWFkeSApO1xuXG59IGVsc2Uge1xuXG5cdC8vIFVzZSB0aGUgaGFuZHkgZXZlbnQgY2FsbGJhY2tcblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggXCJET01Db250ZW50TG9hZGVkXCIsIGNvbXBsZXRlZCApO1xuXG5cdC8vIEEgZmFsbGJhY2sgdG8gd2luZG93Lm9ubG9hZCwgdGhhdCB3aWxsIGFsd2F5cyB3b3JrXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBcImxvYWRcIiwgY29tcGxldGVkICk7XG59XG5cblxuXG5cbi8vIE11bHRpZnVuY3Rpb25hbCBtZXRob2QgdG8gZ2V0IGFuZCBzZXQgdmFsdWVzIG9mIGEgY29sbGVjdGlvblxuLy8gVGhlIHZhbHVlL3MgY2FuIG9wdGlvbmFsbHkgYmUgZXhlY3V0ZWQgaWYgaXQncyBhIGZ1bmN0aW9uXG52YXIgYWNjZXNzID0gZnVuY3Rpb24oIGVsZW1zLCBmbiwga2V5LCB2YWx1ZSwgY2hhaW5hYmxlLCBlbXB0eUdldCwgcmF3ICkge1xuXHR2YXIgaSA9IDAsXG5cdFx0bGVuID0gZWxlbXMubGVuZ3RoLFxuXHRcdGJ1bGsgPSBrZXkgPT0gbnVsbDtcblxuXHQvLyBTZXRzIG1hbnkgdmFsdWVzXG5cdGlmICggdG9UeXBlKCBrZXkgKSA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRjaGFpbmFibGUgPSB0cnVlO1xuXHRcdGZvciAoIGkgaW4ga2V5ICkge1xuXHRcdFx0YWNjZXNzKCBlbGVtcywgZm4sIGksIGtleVsgaSBdLCB0cnVlLCBlbXB0eUdldCwgcmF3ICk7XG5cdFx0fVxuXG5cdC8vIFNldHMgb25lIHZhbHVlXG5cdH0gZWxzZSBpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0Y2hhaW5hYmxlID0gdHJ1ZTtcblxuXHRcdGlmICggIWlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyYXcgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGlmICggYnVsayApIHtcblxuXHRcdFx0Ly8gQnVsayBvcGVyYXRpb25zIHJ1biBhZ2FpbnN0IHRoZSBlbnRpcmUgc2V0XG5cdFx0XHRpZiAoIHJhdyApIHtcblx0XHRcdFx0Zm4uY2FsbCggZWxlbXMsIHZhbHVlICk7XG5cdFx0XHRcdGZuID0gbnVsbDtcblxuXHRcdFx0Ly8gLi4uZXhjZXB0IHdoZW4gZXhlY3V0aW5nIGZ1bmN0aW9uIHZhbHVlc1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YnVsayA9IGZuO1xuXHRcdFx0XHRmbiA9IGZ1bmN0aW9uKCBlbGVtLCBrZXksIHZhbHVlICkge1xuXHRcdFx0XHRcdHJldHVybiBidWxrLmNhbGwoIGpRdWVyeSggZWxlbSApLCB2YWx1ZSApO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICggZm4gKSB7XG5cdFx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcblx0XHRcdFx0Zm4oXG5cdFx0XHRcdFx0ZWxlbXNbIGkgXSwga2V5LCByYXcgP1xuXHRcdFx0XHRcdHZhbHVlIDpcblx0XHRcdFx0XHR2YWx1ZS5jYWxsKCBlbGVtc1sgaSBdLCBpLCBmbiggZWxlbXNbIGkgXSwga2V5ICkgKVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGlmICggY2hhaW5hYmxlICkge1xuXHRcdHJldHVybiBlbGVtcztcblx0fVxuXG5cdC8vIEdldHNcblx0aWYgKCBidWxrICkge1xuXHRcdHJldHVybiBmbi5jYWxsKCBlbGVtcyApO1xuXHR9XG5cblx0cmV0dXJuIGxlbiA/IGZuKCBlbGVtc1sgMCBdLCBrZXkgKSA6IGVtcHR5R2V0O1xufTtcblxuXG4vLyBNYXRjaGVzIGRhc2hlZCBzdHJpbmcgZm9yIGNhbWVsaXppbmdcbnZhciBybXNQcmVmaXggPSAvXi1tcy0vLFxuXHRyZGFzaEFscGhhID0gLy0oW2Etel0pL2c7XG5cbi8vIFVzZWQgYnkgY2FtZWxDYXNlIGFzIGNhbGxiYWNrIHRvIHJlcGxhY2UoKVxuZnVuY3Rpb24gZmNhbWVsQ2FzZSggYWxsLCBsZXR0ZXIgKSB7XG5cdHJldHVybiBsZXR0ZXIudG9VcHBlckNhc2UoKTtcbn1cblxuLy8gQ29udmVydCBkYXNoZWQgdG8gY2FtZWxDYXNlOyB1c2VkIGJ5IHRoZSBjc3MgYW5kIGRhdGEgbW9kdWxlc1xuLy8gU3VwcG9ydDogSUUgPD05IC0gMTEsIEVkZ2UgMTIgLSAxNVxuLy8gTWljcm9zb2Z0IGZvcmdvdCB0byBodW1wIHRoZWlyIHZlbmRvciBwcmVmaXggKCM5NTcyKVxuZnVuY3Rpb24gY2FtZWxDYXNlKCBzdHJpbmcgKSB7XG5cdHJldHVybiBzdHJpbmcucmVwbGFjZSggcm1zUHJlZml4LCBcIm1zLVwiICkucmVwbGFjZSggcmRhc2hBbHBoYSwgZmNhbWVsQ2FzZSApO1xufVxudmFyIGFjY2VwdERhdGEgPSBmdW5jdGlvbiggb3duZXIgKSB7XG5cblx0Ly8gQWNjZXB0cyBvbmx5OlxuXHQvLyAgLSBOb2RlXG5cdC8vICAgIC0gTm9kZS5FTEVNRU5UX05PREVcblx0Ly8gICAgLSBOb2RlLkRPQ1VNRU5UX05PREVcblx0Ly8gIC0gT2JqZWN0XG5cdC8vICAgIC0gQW55XG5cdHJldHVybiBvd25lci5ub2RlVHlwZSA9PT0gMSB8fCBvd25lci5ub2RlVHlwZSA9PT0gOSB8fCAhKCArb3duZXIubm9kZVR5cGUgKTtcbn07XG5cblxuXG5cbmZ1bmN0aW9uIERhdGEoKSB7XG5cdHRoaXMuZXhwYW5kbyA9IGpRdWVyeS5leHBhbmRvICsgRGF0YS51aWQrKztcbn1cblxuRGF0YS51aWQgPSAxO1xuXG5EYXRhLnByb3RvdHlwZSA9IHtcblxuXHRjYWNoZTogZnVuY3Rpb24oIG93bmVyICkge1xuXG5cdFx0Ly8gQ2hlY2sgaWYgdGhlIG93bmVyIG9iamVjdCBhbHJlYWR5IGhhcyBhIGNhY2hlXG5cdFx0dmFyIHZhbHVlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXG5cdFx0Ly8gSWYgbm90LCBjcmVhdGUgb25lXG5cdFx0aWYgKCAhdmFsdWUgKSB7XG5cdFx0XHR2YWx1ZSA9IHt9O1xuXG5cdFx0XHQvLyBXZSBjYW4gYWNjZXB0IGRhdGEgZm9yIG5vbi1lbGVtZW50IG5vZGVzIGluIG1vZGVybiBicm93c2Vycyxcblx0XHRcdC8vIGJ1dCB3ZSBzaG91bGQgbm90LCBzZWUgIzgzMzUuXG5cdFx0XHQvLyBBbHdheXMgcmV0dXJuIGFuIGVtcHR5IG9iamVjdC5cblx0XHRcdGlmICggYWNjZXB0RGF0YSggb3duZXIgKSApIHtcblxuXHRcdFx0XHQvLyBJZiBpdCBpcyBhIG5vZGUgdW5saWtlbHkgdG8gYmUgc3RyaW5naWZ5LWVkIG9yIGxvb3BlZCBvdmVyXG5cdFx0XHRcdC8vIHVzZSBwbGFpbiBhc3NpZ25tZW50XG5cdFx0XHRcdGlmICggb3duZXIubm9kZVR5cGUgKSB7XG5cdFx0XHRcdFx0b3duZXJbIHRoaXMuZXhwYW5kbyBdID0gdmFsdWU7XG5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIHNlY3VyZSBpdCBpbiBhIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5XG5cdFx0XHRcdC8vIGNvbmZpZ3VyYWJsZSBtdXN0IGJlIHRydWUgdG8gYWxsb3cgdGhlIHByb3BlcnR5IHRvIGJlXG5cdFx0XHRcdC8vIGRlbGV0ZWQgd2hlbiBkYXRhIGlzIHJlbW92ZWRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoIG93bmVyLCB0aGlzLmV4cGFuZG8sIHtcblx0XHRcdFx0XHRcdHZhbHVlOiB2YWx1ZSxcblx0XHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB2YWx1ZTtcblx0fSxcblx0c2V0OiBmdW5jdGlvbiggb3duZXIsIGRhdGEsIHZhbHVlICkge1xuXHRcdHZhciBwcm9wLFxuXHRcdFx0Y2FjaGUgPSB0aGlzLmNhY2hlKCBvd25lciApO1xuXG5cdFx0Ly8gSGFuZGxlOiBbIG93bmVyLCBrZXksIHZhbHVlIF0gYXJnc1xuXHRcdC8vIEFsd2F5cyB1c2UgY2FtZWxDYXNlIGtleSAoZ2gtMjI1Nylcblx0XHRpZiAoIHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0Y2FjaGVbIGNhbWVsQ2FzZSggZGF0YSApIF0gPSB2YWx1ZTtcblxuXHRcdC8vIEhhbmRsZTogWyBvd25lciwgeyBwcm9wZXJ0aWVzIH0gXSBhcmdzXG5cdFx0fSBlbHNlIHtcblxuXHRcdFx0Ly8gQ29weSB0aGUgcHJvcGVydGllcyBvbmUtYnktb25lIHRvIHRoZSBjYWNoZSBvYmplY3Rcblx0XHRcdGZvciAoIHByb3AgaW4gZGF0YSApIHtcblx0XHRcdFx0Y2FjaGVbIGNhbWVsQ2FzZSggcHJvcCApIF0gPSBkYXRhWyBwcm9wIF07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBjYWNoZTtcblx0fSxcblx0Z2V0OiBmdW5jdGlvbiggb3duZXIsIGtleSApIHtcblx0XHRyZXR1cm4ga2V5ID09PSB1bmRlZmluZWQgP1xuXHRcdFx0dGhpcy5jYWNoZSggb3duZXIgKSA6XG5cblx0XHRcdC8vIEFsd2F5cyB1c2UgY2FtZWxDYXNlIGtleSAoZ2gtMjI1Nylcblx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSAmJiBvd25lclsgdGhpcy5leHBhbmRvIF1bIGNhbWVsQ2FzZSgga2V5ICkgXTtcblx0fSxcblx0YWNjZXNzOiBmdW5jdGlvbiggb3duZXIsIGtleSwgdmFsdWUgKSB7XG5cblx0XHQvLyBJbiBjYXNlcyB3aGVyZSBlaXRoZXI6XG5cdFx0Ly9cblx0XHQvLyAgIDEuIE5vIGtleSB3YXMgc3BlY2lmaWVkXG5cdFx0Ly8gICAyLiBBIHN0cmluZyBrZXkgd2FzIHNwZWNpZmllZCwgYnV0IG5vIHZhbHVlIHByb3ZpZGVkXG5cdFx0Ly9cblx0XHQvLyBUYWtlIHRoZSBcInJlYWRcIiBwYXRoIGFuZCBhbGxvdyB0aGUgZ2V0IG1ldGhvZCB0byBkZXRlcm1pbmVcblx0XHQvLyB3aGljaCB2YWx1ZSB0byByZXR1cm4sIHJlc3BlY3RpdmVseSBlaXRoZXI6XG5cdFx0Ly9cblx0XHQvLyAgIDEuIFRoZSBlbnRpcmUgY2FjaGUgb2JqZWN0XG5cdFx0Ly8gICAyLiBUaGUgZGF0YSBzdG9yZWQgYXQgdGhlIGtleVxuXHRcdC8vXG5cdFx0aWYgKCBrZXkgPT09IHVuZGVmaW5lZCB8fFxuXHRcdFx0XHQoICgga2V5ICYmIHR5cGVvZiBrZXkgPT09IFwic3RyaW5nXCIgKSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkICkgKSB7XG5cblx0XHRcdHJldHVybiB0aGlzLmdldCggb3duZXIsIGtleSApO1xuXHRcdH1cblxuXHRcdC8vIFdoZW4gdGhlIGtleSBpcyBub3QgYSBzdHJpbmcsIG9yIGJvdGggYSBrZXkgYW5kIHZhbHVlXG5cdFx0Ly8gYXJlIHNwZWNpZmllZCwgc2V0IG9yIGV4dGVuZCAoZXhpc3Rpbmcgb2JqZWN0cykgd2l0aCBlaXRoZXI6XG5cdFx0Ly9cblx0XHQvLyAgIDEuIEFuIG9iamVjdCBvZiBwcm9wZXJ0aWVzXG5cdFx0Ly8gICAyLiBBIGtleSBhbmQgdmFsdWVcblx0XHQvL1xuXHRcdHRoaXMuc2V0KCBvd25lciwga2V5LCB2YWx1ZSApO1xuXG5cdFx0Ly8gU2luY2UgdGhlIFwic2V0XCIgcGF0aCBjYW4gaGF2ZSB0d28gcG9zc2libGUgZW50cnkgcG9pbnRzXG5cdFx0Ly8gcmV0dXJuIHRoZSBleHBlY3RlZCBkYXRhIGJhc2VkIG9uIHdoaWNoIHBhdGggd2FzIHRha2VuWypdXG5cdFx0cmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IGtleTtcblx0fSxcblx0cmVtb3ZlOiBmdW5jdGlvbiggb3duZXIsIGtleSApIHtcblx0XHR2YXIgaSxcblx0XHRcdGNhY2hlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXG5cdFx0aWYgKCBjYWNoZSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICgga2V5ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdC8vIFN1cHBvcnQgYXJyYXkgb3Igc3BhY2Ugc2VwYXJhdGVkIHN0cmluZyBvZiBrZXlzXG5cdFx0XHRpZiAoIEFycmF5LmlzQXJyYXkoIGtleSApICkge1xuXG5cdFx0XHRcdC8vIElmIGtleSBpcyBhbiBhcnJheSBvZiBrZXlzLi4uXG5cdFx0XHRcdC8vIFdlIGFsd2F5cyBzZXQgY2FtZWxDYXNlIGtleXMsIHNvIHJlbW92ZSB0aGF0LlxuXHRcdFx0XHRrZXkgPSBrZXkubWFwKCBjYW1lbENhc2UgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGtleSA9IGNhbWVsQ2FzZSgga2V5ICk7XG5cblx0XHRcdFx0Ly8gSWYgYSBrZXkgd2l0aCB0aGUgc3BhY2VzIGV4aXN0cywgdXNlIGl0LlxuXHRcdFx0XHQvLyBPdGhlcndpc2UsIGNyZWF0ZSBhbiBhcnJheSBieSBtYXRjaGluZyBub24td2hpdGVzcGFjZVxuXHRcdFx0XHRrZXkgPSBrZXkgaW4gY2FjaGUgP1xuXHRcdFx0XHRcdFsga2V5IF0gOlxuXHRcdFx0XHRcdCgga2V5Lm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW10gKTtcblx0XHRcdH1cblxuXHRcdFx0aSA9IGtleS5sZW5ndGg7XG5cblx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRkZWxldGUgY2FjaGVbIGtleVsgaSBdIF07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUmVtb3ZlIHRoZSBleHBhbmRvIGlmIHRoZXJlJ3Mgbm8gbW9yZSBkYXRhXG5cdFx0aWYgKCBrZXkgPT09IHVuZGVmaW5lZCB8fCBqUXVlcnkuaXNFbXB0eU9iamVjdCggY2FjaGUgKSApIHtcblxuXHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NVxuXHRcdFx0Ly8gV2Via2l0ICYgQmxpbmsgcGVyZm9ybWFuY2Ugc3VmZmVycyB3aGVuIGRlbGV0aW5nIHByb3BlcnRpZXNcblx0XHRcdC8vIGZyb20gRE9NIG5vZGVzLCBzbyBzZXQgdG8gdW5kZWZpbmVkIGluc3RlYWRcblx0XHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTM3ODYwNyAoYnVnIHJlc3RyaWN0ZWQpXG5cdFx0XHRpZiAoIG93bmVyLm5vZGVUeXBlICkge1xuXHRcdFx0XHRvd25lclsgdGhpcy5leHBhbmRvIF0gPSB1bmRlZmluZWQ7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkZWxldGUgb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblx0aGFzRGF0YTogZnVuY3Rpb24oIG93bmVyICkge1xuXHRcdHZhciBjYWNoZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcblx0XHRyZXR1cm4gY2FjaGUgIT09IHVuZGVmaW5lZCAmJiAhalF1ZXJ5LmlzRW1wdHlPYmplY3QoIGNhY2hlICk7XG5cdH1cbn07XG52YXIgZGF0YVByaXYgPSBuZXcgRGF0YSgpO1xuXG52YXIgZGF0YVVzZXIgPSBuZXcgRGF0YSgpO1xuXG5cblxuLy9cdEltcGxlbWVudGF0aW9uIFN1bW1hcnlcbi8vXG4vL1x0MS4gRW5mb3JjZSBBUEkgc3VyZmFjZSBhbmQgc2VtYW50aWMgY29tcGF0aWJpbGl0eSB3aXRoIDEuOS54IGJyYW5jaFxuLy9cdDIuIEltcHJvdmUgdGhlIG1vZHVsZSdzIG1haW50YWluYWJpbGl0eSBieSByZWR1Y2luZyB0aGUgc3RvcmFnZVxuLy9cdFx0cGF0aHMgdG8gYSBzaW5nbGUgbWVjaGFuaXNtLlxuLy9cdDMuIFVzZSB0aGUgc2FtZSBzaW5nbGUgbWVjaGFuaXNtIHRvIHN1cHBvcnQgXCJwcml2YXRlXCIgYW5kIFwidXNlclwiIGRhdGEuXG4vL1x0NC4gX05ldmVyXyBleHBvc2UgXCJwcml2YXRlXCIgZGF0YSB0byB1c2VyIGNvZGUgKFRPRE86IERyb3AgX2RhdGEsIF9yZW1vdmVEYXRhKVxuLy9cdDUuIEF2b2lkIGV4cG9zaW5nIGltcGxlbWVudGF0aW9uIGRldGFpbHMgb24gdXNlciBvYmplY3RzIChlZy4gZXhwYW5kbyBwcm9wZXJ0aWVzKVxuLy9cdDYuIFByb3ZpZGUgYSBjbGVhciBwYXRoIGZvciBpbXBsZW1lbnRhdGlvbiB1cGdyYWRlIHRvIFdlYWtNYXAgaW4gMjAxNFxuXG52YXIgcmJyYWNlID0gL14oPzpcXHtbXFx3XFxXXSpcXH18XFxbW1xcd1xcV10qXFxdKSQvLFxuXHRybXVsdGlEYXNoID0gL1tBLVpdL2c7XG5cbmZ1bmN0aW9uIGdldERhdGEoIGRhdGEgKSB7XG5cdGlmICggZGF0YSA9PT0gXCJ0cnVlXCIgKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRpZiAoIGRhdGEgPT09IFwiZmFsc2VcIiApIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRpZiAoIGRhdGEgPT09IFwibnVsbFwiICkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Ly8gT25seSBjb252ZXJ0IHRvIGEgbnVtYmVyIGlmIGl0IGRvZXNuJ3QgY2hhbmdlIHRoZSBzdHJpbmdcblx0aWYgKCBkYXRhID09PSArZGF0YSArIFwiXCIgKSB7XG5cdFx0cmV0dXJuICtkYXRhO1xuXHR9XG5cblx0aWYgKCByYnJhY2UudGVzdCggZGF0YSApICkge1xuXHRcdHJldHVybiBKU09OLnBhcnNlKCBkYXRhICk7XG5cdH1cblxuXHRyZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gZGF0YUF0dHIoIGVsZW0sIGtleSwgZGF0YSApIHtcblx0dmFyIG5hbWU7XG5cblx0Ly8gSWYgbm90aGluZyB3YXMgZm91bmQgaW50ZXJuYWxseSwgdHJ5IHRvIGZldGNoIGFueVxuXHQvLyBkYXRhIGZyb20gdGhlIEhUTUw1IGRhdGEtKiBhdHRyaWJ1dGVcblx0aWYgKCBkYXRhID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcblx0XHRuYW1lID0gXCJkYXRhLVwiICsga2V5LnJlcGxhY2UoIHJtdWx0aURhc2gsIFwiLSQmXCIgKS50b0xvd2VyQ2FzZSgpO1xuXHRcdGRhdGEgPSBlbGVtLmdldEF0dHJpYnV0ZSggbmFtZSApO1xuXG5cdFx0aWYgKCB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGRhdGEgPSBnZXREYXRhKCBkYXRhICk7XG5cdFx0XHR9IGNhdGNoICggZSApIHt9XG5cblx0XHRcdC8vIE1ha2Ugc3VyZSB3ZSBzZXQgdGhlIGRhdGEgc28gaXQgaXNuJ3QgY2hhbmdlZCBsYXRlclxuXHRcdFx0ZGF0YVVzZXIuc2V0KCBlbGVtLCBrZXksIGRhdGEgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGRhdGE7XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0aGFzRGF0YTogZnVuY3Rpb24oIGVsZW0gKSB7XG5cdFx0cmV0dXJuIGRhdGFVc2VyLmhhc0RhdGEoIGVsZW0gKSB8fCBkYXRhUHJpdi5oYXNEYXRhKCBlbGVtICk7XG5cdH0sXG5cblx0ZGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGRhdGEgKSB7XG5cdFx0cmV0dXJuIGRhdGFVc2VyLmFjY2VzcyggZWxlbSwgbmFtZSwgZGF0YSApO1xuXHR9LFxuXG5cdHJlbW92ZURhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xuXHRcdGRhdGFVc2VyLnJlbW92ZSggZWxlbSwgbmFtZSApO1xuXHR9LFxuXG5cdC8vIFRPRE86IE5vdyB0aGF0IGFsbCBjYWxscyB0byBfZGF0YSBhbmQgX3JlbW92ZURhdGEgaGF2ZSBiZWVuIHJlcGxhY2VkXG5cdC8vIHdpdGggZGlyZWN0IGNhbGxzIHRvIGRhdGFQcml2IG1ldGhvZHMsIHRoZXNlIGNhbiBiZSBkZXByZWNhdGVkLlxuXHRfZGF0YTogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGRhdGEgKSB7XG5cdFx0cmV0dXJuIGRhdGFQcml2LmFjY2VzcyggZWxlbSwgbmFtZSwgZGF0YSApO1xuXHR9LFxuXG5cdF9yZW1vdmVEYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcblx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIG5hbWUgKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGRhdGE6IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xuXHRcdHZhciBpLCBuYW1lLCBkYXRhLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXSxcblx0XHRcdGF0dHJzID0gZWxlbSAmJiBlbGVtLmF0dHJpYnV0ZXM7XG5cblx0XHQvLyBHZXRzIGFsbCB2YWx1ZXNcblx0XHRpZiAoIGtleSA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0aWYgKCB0aGlzLmxlbmd0aCApIHtcblx0XHRcdFx0ZGF0YSA9IGRhdGFVc2VyLmdldCggZWxlbSApO1xuXG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAhZGF0YVByaXYuZ2V0KCBlbGVtLCBcImhhc0RhdGFBdHRyc1wiICkgKSB7XG5cdFx0XHRcdFx0aSA9IGF0dHJzLmxlbmd0aDtcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgMTEgb25seVxuXHRcdFx0XHRcdFx0Ly8gVGhlIGF0dHJzIGVsZW1lbnRzIGNhbiBiZSBudWxsICgjMTQ4OTQpXG5cdFx0XHRcdFx0XHRpZiAoIGF0dHJzWyBpIF0gKSB7XG5cdFx0XHRcdFx0XHRcdG5hbWUgPSBhdHRyc1sgaSBdLm5hbWU7XG5cdFx0XHRcdFx0XHRcdGlmICggbmFtZS5pbmRleE9mKCBcImRhdGEtXCIgKSA9PT0gMCApIHtcblx0XHRcdFx0XHRcdFx0XHRuYW1lID0gY2FtZWxDYXNlKCBuYW1lLnNsaWNlKCA1ICkgKTtcblx0XHRcdFx0XHRcdFx0XHRkYXRhQXR0ciggZWxlbSwgbmFtZSwgZGF0YVsgbmFtZSBdICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZGF0YVByaXYuc2V0KCBlbGVtLCBcImhhc0RhdGFBdHRyc1wiLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGRhdGE7XG5cdFx0fVxuXG5cdFx0Ly8gU2V0cyBtdWx0aXBsZSB2YWx1ZXNcblx0XHRpZiAoIHR5cGVvZiBrZXkgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZGF0YVVzZXIuc2V0KCB0aGlzLCBrZXkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgZGF0YTtcblxuXHRcdFx0Ly8gVGhlIGNhbGxpbmcgalF1ZXJ5IG9iamVjdCAoZWxlbWVudCBtYXRjaGVzKSBpcyBub3QgZW1wdHlcblx0XHRcdC8vIChhbmQgdGhlcmVmb3JlIGhhcyBhbiBlbGVtZW50IGFwcGVhcnMgYXQgdGhpc1sgMCBdKSBhbmQgdGhlXG5cdFx0XHQvLyBgdmFsdWVgIHBhcmFtZXRlciB3YXMgbm90IHVuZGVmaW5lZC4gQW4gZW1wdHkgalF1ZXJ5IG9iamVjdFxuXHRcdFx0Ly8gd2lsbCByZXN1bHQgaW4gYHVuZGVmaW5lZGAgZm9yIGVsZW0gPSB0aGlzWyAwIF0gd2hpY2ggd2lsbFxuXHRcdFx0Ly8gdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFuIGF0dGVtcHQgdG8gcmVhZCBhIGRhdGEgY2FjaGUgaXMgbWFkZS5cblx0XHRcdGlmICggZWxlbSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdC8vIEF0dGVtcHQgdG8gZ2V0IGRhdGEgZnJvbSB0aGUgY2FjaGVcblx0XHRcdFx0Ly8gVGhlIGtleSB3aWxsIGFsd2F5cyBiZSBjYW1lbENhc2VkIGluIERhdGFcblx0XHRcdFx0ZGF0YSA9IGRhdGFVc2VyLmdldCggZWxlbSwga2V5ICk7XG5cdFx0XHRcdGlmICggZGF0YSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQXR0ZW1wdCB0byBcImRpc2NvdmVyXCIgdGhlIGRhdGEgaW5cblx0XHRcdFx0Ly8gSFRNTDUgY3VzdG9tIGRhdGEtKiBhdHRyc1xuXHRcdFx0XHRkYXRhID0gZGF0YUF0dHIoIGVsZW0sIGtleSApO1xuXHRcdFx0XHRpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRyZXR1cm4gZGF0YTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFdlIHRyaWVkIHJlYWxseSBoYXJkLCBidXQgdGhlIGRhdGEgZG9lc24ndCBleGlzdC5cblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTZXQgdGhlIGRhdGEuLi5cblx0XHRcdHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0Ly8gV2UgYWx3YXlzIHN0b3JlIHRoZSBjYW1lbENhc2VkIGtleVxuXHRcdFx0XHRkYXRhVXNlci5zZXQoIHRoaXMsIGtleSwgdmFsdWUgKTtcblx0XHRcdH0gKTtcblx0XHR9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEsIG51bGwsIHRydWUgKTtcblx0fSxcblxuXHRyZW1vdmVEYXRhOiBmdW5jdGlvbigga2V5ICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0ZGF0YVVzZXIucmVtb3ZlKCB0aGlzLCBrZXkgKTtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cdHF1ZXVlOiBmdW5jdGlvbiggZWxlbSwgdHlwZSwgZGF0YSApIHtcblx0XHR2YXIgcXVldWU7XG5cblx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHR0eXBlID0gKCB0eXBlIHx8IFwiZnhcIiApICsgXCJxdWV1ZVwiO1xuXHRcdFx0cXVldWUgPSBkYXRhUHJpdi5nZXQoIGVsZW0sIHR5cGUgKTtcblxuXHRcdFx0Ly8gU3BlZWQgdXAgZGVxdWV1ZSBieSBnZXR0aW5nIG91dCBxdWlja2x5IGlmIHRoaXMgaXMganVzdCBhIGxvb2t1cFxuXHRcdFx0aWYgKCBkYXRhICkge1xuXHRcdFx0XHRpZiAoICFxdWV1ZSB8fCBBcnJheS5pc0FycmF5KCBkYXRhICkgKSB7XG5cdFx0XHRcdFx0cXVldWUgPSBkYXRhUHJpdi5hY2Nlc3MoIGVsZW0sIHR5cGUsIGpRdWVyeS5tYWtlQXJyYXkoIGRhdGEgKSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHF1ZXVlLnB1c2goIGRhdGEgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHF1ZXVlIHx8IFtdO1xuXHRcdH1cblx0fSxcblxuXHRkZXF1ZXVlOiBmdW5jdGlvbiggZWxlbSwgdHlwZSApIHtcblx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XG5cblx0XHR2YXIgcXVldWUgPSBqUXVlcnkucXVldWUoIGVsZW0sIHR5cGUgKSxcblx0XHRcdHN0YXJ0TGVuZ3RoID0gcXVldWUubGVuZ3RoLFxuXHRcdFx0Zm4gPSBxdWV1ZS5zaGlmdCgpLFxuXHRcdFx0aG9va3MgPSBqUXVlcnkuX3F1ZXVlSG9va3MoIGVsZW0sIHR5cGUgKSxcblx0XHRcdG5leHQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0alF1ZXJ5LmRlcXVldWUoIGVsZW0sIHR5cGUgKTtcblx0XHRcdH07XG5cblx0XHQvLyBJZiB0aGUgZnggcXVldWUgaXMgZGVxdWV1ZWQsIGFsd2F5cyByZW1vdmUgdGhlIHByb2dyZXNzIHNlbnRpbmVsXG5cdFx0aWYgKCBmbiA9PT0gXCJpbnByb2dyZXNzXCIgKSB7XG5cdFx0XHRmbiA9IHF1ZXVlLnNoaWZ0KCk7XG5cdFx0XHRzdGFydExlbmd0aC0tO1xuXHRcdH1cblxuXHRcdGlmICggZm4gKSB7XG5cblx0XHRcdC8vIEFkZCBhIHByb2dyZXNzIHNlbnRpbmVsIHRvIHByZXZlbnQgdGhlIGZ4IHF1ZXVlIGZyb20gYmVpbmdcblx0XHRcdC8vIGF1dG9tYXRpY2FsbHkgZGVxdWV1ZWRcblx0XHRcdGlmICggdHlwZSA9PT0gXCJmeFwiICkge1xuXHRcdFx0XHRxdWV1ZS51bnNoaWZ0KCBcImlucHJvZ3Jlc3NcIiApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDbGVhciB1cCB0aGUgbGFzdCBxdWV1ZSBzdG9wIGZ1bmN0aW9uXG5cdFx0XHRkZWxldGUgaG9va3Muc3RvcDtcblx0XHRcdGZuLmNhbGwoIGVsZW0sIG5leHQsIGhvb2tzICk7XG5cdFx0fVxuXG5cdFx0aWYgKCAhc3RhcnRMZW5ndGggJiYgaG9va3MgKSB7XG5cdFx0XHRob29rcy5lbXB0eS5maXJlKCk7XG5cdFx0fVxuXHR9LFxuXG5cdC8vIE5vdCBwdWJsaWMgLSBnZW5lcmF0ZSBhIHF1ZXVlSG9va3Mgb2JqZWN0LCBvciByZXR1cm4gdGhlIGN1cnJlbnQgb25lXG5cdF9xdWV1ZUhvb2tzOiBmdW5jdGlvbiggZWxlbSwgdHlwZSApIHtcblx0XHR2YXIga2V5ID0gdHlwZSArIFwicXVldWVIb29rc1wiO1xuXHRcdHJldHVybiBkYXRhUHJpdi5nZXQoIGVsZW0sIGtleSApIHx8IGRhdGFQcml2LmFjY2VzcyggZWxlbSwga2V5LCB7XG5cdFx0XHRlbXB0eTogalF1ZXJ5LkNhbGxiYWNrcyggXCJvbmNlIG1lbW9yeVwiICkuYWRkKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBbIHR5cGUgKyBcInF1ZXVlXCIsIGtleSBdICk7XG5cdFx0XHR9IClcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRxdWV1ZTogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7XG5cdFx0dmFyIHNldHRlciA9IDI7XG5cblx0XHRpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0ZGF0YSA9IHR5cGU7XG5cdFx0XHR0eXBlID0gXCJmeFwiO1xuXHRcdFx0c2V0dGVyLS07XG5cdFx0fVxuXG5cdFx0aWYgKCBhcmd1bWVudHMubGVuZ3RoIDwgc2V0dGVyICkge1xuXHRcdFx0cmV0dXJuIGpRdWVyeS5xdWV1ZSggdGhpc1sgMCBdLCB0eXBlICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRhdGEgPT09IHVuZGVmaW5lZCA/XG5cdFx0XHR0aGlzIDpcblx0XHRcdHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBxdWV1ZSA9IGpRdWVyeS5xdWV1ZSggdGhpcywgdHlwZSwgZGF0YSApO1xuXG5cdFx0XHRcdC8vIEVuc3VyZSBhIGhvb2tzIGZvciB0aGlzIHF1ZXVlXG5cdFx0XHRcdGpRdWVyeS5fcXVldWVIb29rcyggdGhpcywgdHlwZSApO1xuXG5cdFx0XHRcdGlmICggdHlwZSA9PT0gXCJmeFwiICYmIHF1ZXVlWyAwIF0gIT09IFwiaW5wcm9ncmVzc1wiICkge1xuXHRcdFx0XHRcdGpRdWVyeS5kZXF1ZXVlKCB0aGlzLCB0eXBlICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0fSxcblx0ZGVxdWV1ZTogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xuXHRcdH0gKTtcblx0fSxcblx0Y2xlYXJRdWV1ZTogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0cmV0dXJuIHRoaXMucXVldWUoIHR5cGUgfHwgXCJmeFwiLCBbXSApO1xuXHR9LFxuXG5cdC8vIEdldCBhIHByb21pc2UgcmVzb2x2ZWQgd2hlbiBxdWV1ZXMgb2YgYSBjZXJ0YWluIHR5cGVcblx0Ly8gYXJlIGVtcHRpZWQgKGZ4IGlzIHRoZSB0eXBlIGJ5IGRlZmF1bHQpXG5cdHByb21pc2U6IGZ1bmN0aW9uKCB0eXBlLCBvYmogKSB7XG5cdFx0dmFyIHRtcCxcblx0XHRcdGNvdW50ID0gMSxcblx0XHRcdGRlZmVyID0galF1ZXJ5LkRlZmVycmVkKCksXG5cdFx0XHRlbGVtZW50cyA9IHRoaXMsXG5cdFx0XHRpID0gdGhpcy5sZW5ndGgsXG5cdFx0XHRyZXNvbHZlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggISggLS1jb3VudCApICkge1xuXHRcdFx0XHRcdGRlZmVyLnJlc29sdmVXaXRoKCBlbGVtZW50cywgWyBlbGVtZW50cyBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRpZiAoIHR5cGVvZiB0eXBlICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0b2JqID0gdHlwZTtcblx0XHRcdHR5cGUgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblxuXHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0dG1wID0gZGF0YVByaXYuZ2V0KCBlbGVtZW50c1sgaSBdLCB0eXBlICsgXCJxdWV1ZUhvb2tzXCIgKTtcblx0XHRcdGlmICggdG1wICYmIHRtcC5lbXB0eSApIHtcblx0XHRcdFx0Y291bnQrKztcblx0XHRcdFx0dG1wLmVtcHR5LmFkZCggcmVzb2x2ZSApO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXNvbHZlKCk7XG5cdFx0cmV0dXJuIGRlZmVyLnByb21pc2UoIG9iaiApO1xuXHR9XG59ICk7XG52YXIgcG51bSA9ICggL1srLV0/KD86XFxkKlxcLnwpXFxkKyg/OltlRV1bKy1dP1xcZCt8KS8gKS5zb3VyY2U7XG5cbnZhciByY3NzTnVtID0gbmV3IFJlZ0V4cCggXCJeKD86KFsrLV0pPXwpKFwiICsgcG51bSArIFwiKShbYS16JV0qKSRcIiwgXCJpXCIgKTtcblxuXG52YXIgY3NzRXhwYW5kID0gWyBcIlRvcFwiLCBcIlJpZ2h0XCIsIFwiQm90dG9tXCIsIFwiTGVmdFwiIF07XG5cbnZhciBpc0hpZGRlbldpdGhpblRyZWUgPSBmdW5jdGlvbiggZWxlbSwgZWwgKSB7XG5cblx0XHQvLyBpc0hpZGRlbldpdGhpblRyZWUgbWlnaHQgYmUgY2FsbGVkIGZyb20galF1ZXJ5I2ZpbHRlciBmdW5jdGlvbjtcblx0XHQvLyBpbiB0aGF0IGNhc2UsIGVsZW1lbnQgd2lsbCBiZSBzZWNvbmQgYXJndW1lbnRcblx0XHRlbGVtID0gZWwgfHwgZWxlbTtcblxuXHRcdC8vIElubGluZSBzdHlsZSB0cnVtcHMgYWxsXG5cdFx0cmV0dXJuIGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJub25lXCIgfHxcblx0XHRcdGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJcIiAmJlxuXG5cdFx0XHQvLyBPdGhlcndpc2UsIGNoZWNrIGNvbXB1dGVkIHN0eWxlXG5cdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDw9NDMgLSA0NVxuXHRcdFx0Ly8gRGlzY29ubmVjdGVkIGVsZW1lbnRzIGNhbiBoYXZlIGNvbXB1dGVkIGRpc3BsYXk6IG5vbmUsIHNvIGZpcnN0IGNvbmZpcm0gdGhhdCBlbGVtIGlzXG5cdFx0XHQvLyBpbiB0aGUgZG9jdW1lbnQuXG5cdFx0XHRqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApICYmXG5cblx0XHRcdGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICkgPT09IFwibm9uZVwiO1xuXHR9O1xuXG52YXIgc3dhcCA9IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBjYWxsYmFjaywgYXJncyApIHtcblx0dmFyIHJldCwgbmFtZSxcblx0XHRvbGQgPSB7fTtcblxuXHQvLyBSZW1lbWJlciB0aGUgb2xkIHZhbHVlcywgYW5kIGluc2VydCB0aGUgbmV3IG9uZXNcblx0Zm9yICggbmFtZSBpbiBvcHRpb25zICkge1xuXHRcdG9sZFsgbmFtZSBdID0gZWxlbS5zdHlsZVsgbmFtZSBdO1xuXHRcdGVsZW0uc3R5bGVbIG5hbWUgXSA9IG9wdGlvbnNbIG5hbWUgXTtcblx0fVxuXG5cdHJldCA9IGNhbGxiYWNrLmFwcGx5KCBlbGVtLCBhcmdzIHx8IFtdICk7XG5cblx0Ly8gUmV2ZXJ0IHRoZSBvbGQgdmFsdWVzXG5cdGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcblx0XHRlbGVtLnN0eWxlWyBuYW1lIF0gPSBvbGRbIG5hbWUgXTtcblx0fVxuXG5cdHJldHVybiByZXQ7XG59O1xuXG5cblxuXG5mdW5jdGlvbiBhZGp1c3RDU1MoIGVsZW0sIHByb3AsIHZhbHVlUGFydHMsIHR3ZWVuICkge1xuXHR2YXIgYWRqdXN0ZWQsIHNjYWxlLFxuXHRcdG1heEl0ZXJhdGlvbnMgPSAyMCxcblx0XHRjdXJyZW50VmFsdWUgPSB0d2VlbiA/XG5cdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIHR3ZWVuLmN1cigpO1xuXHRcdFx0fSA6XG5cdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIGpRdWVyeS5jc3MoIGVsZW0sIHByb3AsIFwiXCIgKTtcblx0XHRcdH0sXG5cdFx0aW5pdGlhbCA9IGN1cnJlbnRWYWx1ZSgpLFxuXHRcdHVuaXQgPSB2YWx1ZVBhcnRzICYmIHZhbHVlUGFydHNbIDMgXSB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSA/IFwiXCIgOiBcInB4XCIgKSxcblxuXHRcdC8vIFN0YXJ0aW5nIHZhbHVlIGNvbXB1dGF0aW9uIGlzIHJlcXVpcmVkIGZvciBwb3RlbnRpYWwgdW5pdCBtaXNtYXRjaGVzXG5cdFx0aW5pdGlhbEluVW5pdCA9ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdIHx8IHVuaXQgIT09IFwicHhcIiAmJiAraW5pdGlhbCApICYmXG5cdFx0XHRyY3NzTnVtLmV4ZWMoIGpRdWVyeS5jc3MoIGVsZW0sIHByb3AgKSApO1xuXG5cdGlmICggaW5pdGlhbEluVW5pdCAmJiBpbml0aWFsSW5Vbml0WyAzIF0gIT09IHVuaXQgKSB7XG5cblx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDw9NTRcblx0XHQvLyBIYWx2ZSB0aGUgaXRlcmF0aW9uIHRhcmdldCB2YWx1ZSB0byBwcmV2ZW50IGludGVyZmVyZW5jZSBmcm9tIENTUyB1cHBlciBib3VuZHMgKGdoLTIxNDQpXG5cdFx0aW5pdGlhbCA9IGluaXRpYWwgLyAyO1xuXG5cdFx0Ly8gVHJ1c3QgdW5pdHMgcmVwb3J0ZWQgYnkgalF1ZXJ5LmNzc1xuXHRcdHVuaXQgPSB1bml0IHx8IGluaXRpYWxJblVuaXRbIDMgXTtcblxuXHRcdC8vIEl0ZXJhdGl2ZWx5IGFwcHJveGltYXRlIGZyb20gYSBub256ZXJvIHN0YXJ0aW5nIHBvaW50XG5cdFx0aW5pdGlhbEluVW5pdCA9ICtpbml0aWFsIHx8IDE7XG5cblx0XHR3aGlsZSAoIG1heEl0ZXJhdGlvbnMtLSApIHtcblxuXHRcdFx0Ly8gRXZhbHVhdGUgYW5kIHVwZGF0ZSBvdXIgYmVzdCBndWVzcyAoZG91YmxpbmcgZ3Vlc3NlcyB0aGF0IHplcm8gb3V0KS5cblx0XHRcdC8vIEZpbmlzaCBpZiB0aGUgc2NhbGUgZXF1YWxzIG9yIGNyb3NzZXMgMSAobWFraW5nIHRoZSBvbGQqbmV3IHByb2R1Y3Qgbm9uLXBvc2l0aXZlKS5cblx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCwgaW5pdGlhbEluVW5pdCArIHVuaXQgKTtcblx0XHRcdGlmICggKCAxIC0gc2NhbGUgKSAqICggMSAtICggc2NhbGUgPSBjdXJyZW50VmFsdWUoKSAvIGluaXRpYWwgfHwgMC41ICkgKSA8PSAwICkge1xuXHRcdFx0XHRtYXhJdGVyYXRpb25zID0gMDtcblx0XHRcdH1cblx0XHRcdGluaXRpYWxJblVuaXQgPSBpbml0aWFsSW5Vbml0IC8gc2NhbGU7XG5cblx0XHR9XG5cblx0XHRpbml0aWFsSW5Vbml0ID0gaW5pdGlhbEluVW5pdCAqIDI7XG5cdFx0alF1ZXJ5LnN0eWxlKCBlbGVtLCBwcm9wLCBpbml0aWFsSW5Vbml0ICsgdW5pdCApO1xuXG5cdFx0Ly8gTWFrZSBzdXJlIHdlIHVwZGF0ZSB0aGUgdHdlZW4gcHJvcGVydGllcyBsYXRlciBvblxuXHRcdHZhbHVlUGFydHMgPSB2YWx1ZVBhcnRzIHx8IFtdO1xuXHR9XG5cblx0aWYgKCB2YWx1ZVBhcnRzICkge1xuXHRcdGluaXRpYWxJblVuaXQgPSAraW5pdGlhbEluVW5pdCB8fCAraW5pdGlhbCB8fCAwO1xuXG5cdFx0Ly8gQXBwbHkgcmVsYXRpdmUgb2Zmc2V0ICgrPS8tPSkgaWYgc3BlY2lmaWVkXG5cdFx0YWRqdXN0ZWQgPSB2YWx1ZVBhcnRzWyAxIF0gP1xuXHRcdFx0aW5pdGlhbEluVW5pdCArICggdmFsdWVQYXJ0c1sgMSBdICsgMSApICogdmFsdWVQYXJ0c1sgMiBdIDpcblx0XHRcdCt2YWx1ZVBhcnRzWyAyIF07XG5cdFx0aWYgKCB0d2VlbiApIHtcblx0XHRcdHR3ZWVuLnVuaXQgPSB1bml0O1xuXHRcdFx0dHdlZW4uc3RhcnQgPSBpbml0aWFsSW5Vbml0O1xuXHRcdFx0dHdlZW4uZW5kID0gYWRqdXN0ZWQ7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBhZGp1c3RlZDtcbn1cblxuXG52YXIgZGVmYXVsdERpc3BsYXlNYXAgPSB7fTtcblxuZnVuY3Rpb24gZ2V0RGVmYXVsdERpc3BsYXkoIGVsZW0gKSB7XG5cdHZhciB0ZW1wLFxuXHRcdGRvYyA9IGVsZW0ub3duZXJEb2N1bWVudCxcblx0XHRub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUsXG5cdFx0ZGlzcGxheSA9IGRlZmF1bHREaXNwbGF5TWFwWyBub2RlTmFtZSBdO1xuXG5cdGlmICggZGlzcGxheSApIHtcblx0XHRyZXR1cm4gZGlzcGxheTtcblx0fVxuXG5cdHRlbXAgPSBkb2MuYm9keS5hcHBlbmRDaGlsZCggZG9jLmNyZWF0ZUVsZW1lbnQoIG5vZGVOYW1lICkgKTtcblx0ZGlzcGxheSA9IGpRdWVyeS5jc3MoIHRlbXAsIFwiZGlzcGxheVwiICk7XG5cblx0dGVtcC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCB0ZW1wICk7XG5cblx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRkaXNwbGF5ID0gXCJibG9ja1wiO1xuXHR9XG5cdGRlZmF1bHREaXNwbGF5TWFwWyBub2RlTmFtZSBdID0gZGlzcGxheTtcblxuXHRyZXR1cm4gZGlzcGxheTtcbn1cblxuZnVuY3Rpb24gc2hvd0hpZGUoIGVsZW1lbnRzLCBzaG93ICkge1xuXHR2YXIgZGlzcGxheSwgZWxlbSxcblx0XHR2YWx1ZXMgPSBbXSxcblx0XHRpbmRleCA9IDAsXG5cdFx0bGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoO1xuXG5cdC8vIERldGVybWluZSBuZXcgZGlzcGxheSB2YWx1ZSBmb3IgZWxlbWVudHMgdGhhdCBuZWVkIHRvIGNoYW5nZVxuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGVsZW0gPSBlbGVtZW50c1sgaW5kZXggXTtcblx0XHRpZiAoICFlbGVtLnN0eWxlICkge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0ZGlzcGxheSA9IGVsZW0uc3R5bGUuZGlzcGxheTtcblx0XHRpZiAoIHNob3cgKSB7XG5cblx0XHRcdC8vIFNpbmNlIHdlIGZvcmNlIHZpc2liaWxpdHkgdXBvbiBjYXNjYWRlLWhpZGRlbiBlbGVtZW50cywgYW4gaW1tZWRpYXRlIChhbmQgc2xvdylcblx0XHRcdC8vIGNoZWNrIGlzIHJlcXVpcmVkIGluIHRoaXMgZmlyc3QgbG9vcCB1bmxlc3Mgd2UgaGF2ZSBhIG5vbmVtcHR5IGRpc3BsYXkgdmFsdWUgKGVpdGhlclxuXHRcdFx0Ly8gaW5saW5lIG9yIGFib3V0LXRvLWJlLXJlc3RvcmVkKVxuXHRcdFx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gZGF0YVByaXYuZ2V0KCBlbGVtLCBcImRpc3BsYXlcIiApIHx8IG51bGw7XG5cdFx0XHRcdGlmICggIXZhbHVlc1sgaW5kZXggXSApIHtcblx0XHRcdFx0XHRlbGVtLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoIGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJcIiAmJiBpc0hpZGRlbldpdGhpblRyZWUoIGVsZW0gKSApIHtcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gZ2V0RGVmYXVsdERpc3BsYXkoIGVsZW0gKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKCBkaXNwbGF5ICE9PSBcIm5vbmVcIiApIHtcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gXCJub25lXCI7XG5cblx0XHRcdFx0Ly8gUmVtZW1iZXIgd2hhdCB3ZSdyZSBvdmVyd3JpdGluZ1xuXHRcdFx0XHRkYXRhUHJpdi5zZXQoIGVsZW0sIFwiZGlzcGxheVwiLCBkaXNwbGF5ICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gU2V0IHRoZSBkaXNwbGF5IG9mIHRoZSBlbGVtZW50cyBpbiBhIHNlY29uZCBsb29wIHRvIGF2b2lkIGNvbnN0YW50IHJlZmxvd1xuXHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdGlmICggdmFsdWVzWyBpbmRleCBdICE9IG51bGwgKSB7XG5cdFx0XHRlbGVtZW50c1sgaW5kZXggXS5zdHlsZS5kaXNwbGF5ID0gdmFsdWVzWyBpbmRleCBdO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBlbGVtZW50cztcbn1cblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRzaG93OiBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gc2hvd0hpZGUoIHRoaXMsIHRydWUgKTtcblx0fSxcblx0aGlkZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHNob3dIaWRlKCB0aGlzICk7XG5cdH0sXG5cdHRvZ2dsZTogZnVuY3Rpb24oIHN0YXRlICkge1xuXHRcdGlmICggdHlwZW9mIHN0YXRlID09PSBcImJvb2xlYW5cIiApIHtcblx0XHRcdHJldHVybiBzdGF0ZSA/IHRoaXMuc2hvdygpIDogdGhpcy5oaWRlKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIGlzSGlkZGVuV2l0aGluVHJlZSggdGhpcyApICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5zaG93KCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5oaWRlKCk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9XG59ICk7XG52YXIgcmNoZWNrYWJsZVR5cGUgPSAoIC9eKD86Y2hlY2tib3h8cmFkaW8pJC9pICk7XG5cbnZhciBydGFnTmFtZSA9ICggLzwoW2Etel1bXlxcL1xcMD5cXHgyMFxcdFxcclxcblxcZl0rKS9pICk7XG5cbnZhciByc2NyaXB0VHlwZSA9ICggL14kfF5tb2R1bGUkfFxcLyg/OmphdmF8ZWNtYSlzY3JpcHQvaSApO1xuXG5cblxuLy8gV2UgaGF2ZSB0byBjbG9zZSB0aGVzZSB0YWdzIHRvIHN1cHBvcnQgWEhUTUwgKCMxMzIwMClcbnZhciB3cmFwTWFwID0ge1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdG9wdGlvbjogWyAxLCBcIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz5cIiwgXCI8L3NlbGVjdD5cIiBdLFxuXG5cdC8vIFhIVE1MIHBhcnNlcnMgZG8gbm90IG1hZ2ljYWxseSBpbnNlcnQgZWxlbWVudHMgaW4gdGhlXG5cdC8vIHNhbWUgd2F5IHRoYXQgdGFnIHNvdXAgcGFyc2VycyBkby4gU28gd2UgY2Fubm90IHNob3J0ZW5cblx0Ly8gdGhpcyBieSBvbWl0dGluZyA8dGJvZHk+IG9yIG90aGVyIHJlcXVpcmVkIGVsZW1lbnRzLlxuXHR0aGVhZDogWyAxLCBcIjx0YWJsZT5cIiwgXCI8L3RhYmxlPlwiIF0sXG5cdGNvbDogWyAyLCBcIjx0YWJsZT48Y29sZ3JvdXA+XCIsIFwiPC9jb2xncm91cD48L3RhYmxlPlwiIF0sXG5cdHRyOiBbIDIsIFwiPHRhYmxlPjx0Ym9keT5cIiwgXCI8L3Rib2R5PjwvdGFibGU+XCIgXSxcblx0dGQ6IFsgMywgXCI8dGFibGU+PHRib2R5Pjx0cj5cIiwgXCI8L3RyPjwvdGJvZHk+PC90YWJsZT5cIiBdLFxuXG5cdF9kZWZhdWx0OiBbIDAsIFwiXCIsIFwiXCIgXVxufTtcblxuLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbndyYXBNYXAub3B0Z3JvdXAgPSB3cmFwTWFwLm9wdGlvbjtcblxud3JhcE1hcC50Ym9keSA9IHdyYXBNYXAudGZvb3QgPSB3cmFwTWFwLmNvbGdyb3VwID0gd3JhcE1hcC5jYXB0aW9uID0gd3JhcE1hcC50aGVhZDtcbndyYXBNYXAudGggPSB3cmFwTWFwLnRkO1xuXG5cbmZ1bmN0aW9uIGdldEFsbCggY29udGV4dCwgdGFnICkge1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0Ly8gVXNlIHR5cGVvZiB0byBhdm9pZCB6ZXJvLWFyZ3VtZW50IG1ldGhvZCBpbnZvY2F0aW9uIG9uIGhvc3Qgb2JqZWN0cyAoIzE1MTUxKVxuXHR2YXIgcmV0O1xuXG5cdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgKSB7XG5cdFx0cmV0ID0gY29udGV4dC5nZXRFbGVtZW50c0J5VGFnTmFtZSggdGFnIHx8IFwiKlwiICk7XG5cblx0fSBlbHNlIGlmICggdHlwZW9mIGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCAhPT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRyZXQgPSBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIHRhZyB8fCBcIipcIiApO1xuXG5cdH0gZWxzZSB7XG5cdFx0cmV0ID0gW107XG5cdH1cblxuXHRpZiAoIHRhZyA9PT0gdW5kZWZpbmVkIHx8IHRhZyAmJiBub2RlTmFtZSggY29udGV4dCwgdGFnICkgKSB7XG5cdFx0cmV0dXJuIGpRdWVyeS5tZXJnZSggWyBjb250ZXh0IF0sIHJldCApO1xuXHR9XG5cblx0cmV0dXJuIHJldDtcbn1cblxuXG4vLyBNYXJrIHNjcmlwdHMgYXMgaGF2aW5nIGFscmVhZHkgYmVlbiBldmFsdWF0ZWRcbmZ1bmN0aW9uIHNldEdsb2JhbEV2YWwoIGVsZW1zLCByZWZFbGVtZW50cyApIHtcblx0dmFyIGkgPSAwLFxuXHRcdGwgPSBlbGVtcy5sZW5ndGg7XG5cblx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xuXHRcdGRhdGFQcml2LnNldChcblx0XHRcdGVsZW1zWyBpIF0sXG5cdFx0XHRcImdsb2JhbEV2YWxcIixcblx0XHRcdCFyZWZFbGVtZW50cyB8fCBkYXRhUHJpdi5nZXQoIHJlZkVsZW1lbnRzWyBpIF0sIFwiZ2xvYmFsRXZhbFwiIClcblx0XHQpO1xuXHR9XG59XG5cblxudmFyIHJodG1sID0gLzx8JiM/XFx3KzsvO1xuXG5mdW5jdGlvbiBidWlsZEZyYWdtZW50KCBlbGVtcywgY29udGV4dCwgc2NyaXB0cywgc2VsZWN0aW9uLCBpZ25vcmVkICkge1xuXHR2YXIgZWxlbSwgdG1wLCB0YWcsIHdyYXAsIGNvbnRhaW5zLCBqLFxuXHRcdGZyYWdtZW50ID0gY29udGV4dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG5cdFx0bm9kZXMgPSBbXSxcblx0XHRpID0gMCxcblx0XHRsID0gZWxlbXMubGVuZ3RoO1xuXG5cdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRlbGVtID0gZWxlbXNbIGkgXTtcblxuXHRcdGlmICggZWxlbSB8fCBlbGVtID09PSAwICkge1xuXG5cdFx0XHQvLyBBZGQgbm9kZXMgZGlyZWN0bHlcblx0XHRcdGlmICggdG9UeXBlKCBlbGVtICkgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCBub2RlcywgZWxlbS5ub2RlVHlwZSA/IFsgZWxlbSBdIDogZWxlbSApO1xuXG5cdFx0XHQvLyBDb252ZXJ0IG5vbi1odG1sIGludG8gYSB0ZXh0IG5vZGVcblx0XHRcdH0gZWxzZSBpZiAoICFyaHRtbC50ZXN0KCBlbGVtICkgKSB7XG5cdFx0XHRcdG5vZGVzLnB1c2goIGNvbnRleHQuY3JlYXRlVGV4dE5vZGUoIGVsZW0gKSApO1xuXG5cdFx0XHQvLyBDb252ZXJ0IGh0bWwgaW50byBET00gbm9kZXNcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRtcCA9IHRtcCB8fCBmcmFnbWVudC5hcHBlbmRDaGlsZCggY29udGV4dC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkgKTtcblxuXHRcdFx0XHQvLyBEZXNlcmlhbGl6ZSBhIHN0YW5kYXJkIHJlcHJlc2VudGF0aW9uXG5cdFx0XHRcdHRhZyA9ICggcnRhZ05hbWUuZXhlYyggZWxlbSApIHx8IFsgXCJcIiwgXCJcIiBdIClbIDEgXS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0XHR3cmFwID0gd3JhcE1hcFsgdGFnIF0gfHwgd3JhcE1hcC5fZGVmYXVsdDtcblx0XHRcdFx0dG1wLmlubmVySFRNTCA9IHdyYXBbIDEgXSArIGpRdWVyeS5odG1sUHJlZmlsdGVyKCBlbGVtICkgKyB3cmFwWyAyIF07XG5cblx0XHRcdFx0Ly8gRGVzY2VuZCB0aHJvdWdoIHdyYXBwZXJzIHRvIHRoZSByaWdodCBjb250ZW50XG5cdFx0XHRcdGogPSB3cmFwWyAwIF07XG5cdFx0XHRcdHdoaWxlICggai0tICkge1xuXHRcdFx0XHRcdHRtcCA9IHRtcC5sYXN0Q2hpbGQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcblx0XHRcdFx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIG5vZGVzLCB0bXAuY2hpbGROb2RlcyApO1xuXG5cdFx0XHRcdC8vIFJlbWVtYmVyIHRoZSB0b3AtbGV2ZWwgY29udGFpbmVyXG5cdFx0XHRcdHRtcCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cblx0XHRcdFx0Ly8gRW5zdXJlIHRoZSBjcmVhdGVkIG5vZGVzIGFyZSBvcnBoYW5lZCAoIzEyMzkyKVxuXHRcdFx0XHR0bXAudGV4dENvbnRlbnQgPSBcIlwiO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIFJlbW92ZSB3cmFwcGVyIGZyb20gZnJhZ21lbnRcblx0ZnJhZ21lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuXG5cdGkgPSAwO1xuXHR3aGlsZSAoICggZWxlbSA9IG5vZGVzWyBpKysgXSApICkge1xuXG5cdFx0Ly8gU2tpcCBlbGVtZW50cyBhbHJlYWR5IGluIHRoZSBjb250ZXh0IGNvbGxlY3Rpb24gKHRyYWMtNDA4Nylcblx0XHRpZiAoIHNlbGVjdGlvbiAmJiBqUXVlcnkuaW5BcnJheSggZWxlbSwgc2VsZWN0aW9uICkgPiAtMSApIHtcblx0XHRcdGlmICggaWdub3JlZCApIHtcblx0XHRcdFx0aWdub3JlZC5wdXNoKCBlbGVtICk7XG5cdFx0XHR9XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRjb250YWlucyA9IGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICk7XG5cblx0XHQvLyBBcHBlbmQgdG8gZnJhZ21lbnRcblx0XHR0bXAgPSBnZXRBbGwoIGZyYWdtZW50LmFwcGVuZENoaWxkKCBlbGVtICksIFwic2NyaXB0XCIgKTtcblxuXHRcdC8vIFByZXNlcnZlIHNjcmlwdCBldmFsdWF0aW9uIGhpc3Rvcnlcblx0XHRpZiAoIGNvbnRhaW5zICkge1xuXHRcdFx0c2V0R2xvYmFsRXZhbCggdG1wICk7XG5cdFx0fVxuXG5cdFx0Ly8gQ2FwdHVyZSBleGVjdXRhYmxlc1xuXHRcdGlmICggc2NyaXB0cyApIHtcblx0XHRcdGogPSAwO1xuXHRcdFx0d2hpbGUgKCAoIGVsZW0gPSB0bXBbIGorKyBdICkgKSB7XG5cdFx0XHRcdGlmICggcnNjcmlwdFR5cGUudGVzdCggZWxlbS50eXBlIHx8IFwiXCIgKSApIHtcblx0XHRcdFx0XHRzY3JpcHRzLnB1c2goIGVsZW0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBmcmFnbWVudDtcbn1cblxuXG4oIGZ1bmN0aW9uKCkge1xuXHR2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG5cdFx0ZGl2ID0gZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKSApLFxuXHRcdGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICk7XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seVxuXHQvLyBDaGVjayBzdGF0ZSBsb3N0IGlmIHRoZSBuYW1lIGlzIHNldCAoIzExMjE3KVxuXHQvLyBTdXBwb3J0OiBXaW5kb3dzIFdlYiBBcHBzIChXV0EpXG5cdC8vIGBuYW1lYCBhbmQgYHR5cGVgIG11c3QgdXNlIC5zZXRBdHRyaWJ1dGUgZm9yIFdXQSAoIzE0OTAxKVxuXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCBcInJhZGlvXCIgKTtcblx0aW5wdXQuc2V0QXR0cmlidXRlKCBcImNoZWNrZWRcIiwgXCJjaGVja2VkXCIgKTtcblx0aW5wdXQuc2V0QXR0cmlidXRlKCBcIm5hbWVcIiwgXCJ0XCIgKTtcblxuXHRkaXYuYXBwZW5kQ2hpbGQoIGlucHV0ICk7XG5cblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMSBvbmx5XG5cdC8vIE9sZGVyIFdlYktpdCBkb2Vzbid0IGNsb25lIGNoZWNrZWQgc3RhdGUgY29ycmVjdGx5IGluIGZyYWdtZW50c1xuXHRzdXBwb3J0LmNoZWNrQ2xvbmUgPSBkaXYuY2xvbmVOb2RlKCB0cnVlICkuY2xvbmVOb2RlKCB0cnVlICkubGFzdENoaWxkLmNoZWNrZWQ7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdC8vIE1ha2Ugc3VyZSB0ZXh0YXJlYSAoYW5kIGNoZWNrYm94KSBkZWZhdWx0VmFsdWUgaXMgcHJvcGVybHkgY2xvbmVkXG5cdGRpdi5pbm5lckhUTUwgPSBcIjx0ZXh0YXJlYT54PC90ZXh0YXJlYT5cIjtcblx0c3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCA9ICEhZGl2LmNsb25lTm9kZSggdHJ1ZSApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWU7XG59ICkoKTtcbnZhciBkb2N1bWVudEVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cblxuXG52YXJcblx0cmtleUV2ZW50ID0gL15rZXkvLFxuXHRybW91c2VFdmVudCA9IC9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyxcblx0cnR5cGVuYW1lc3BhY2UgPSAvXihbXi5dKikoPzpcXC4oLispfCkvO1xuXG5mdW5jdGlvbiByZXR1cm5UcnVlKCkge1xuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcmV0dXJuRmFsc2UoKSB7XG5cdHJldHVybiBmYWxzZTtcbn1cblxuLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbi8vIFNlZSAjMTMzOTMgZm9yIG1vcmUgaW5mb1xuZnVuY3Rpb24gc2FmZUFjdGl2ZUVsZW1lbnQoKSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG5cdH0gY2F0Y2ggKCBlcnIgKSB7IH1cbn1cblxuZnVuY3Rpb24gb24oIGVsZW0sIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIG9uZSApIHtcblx0dmFyIG9yaWdGbiwgdHlwZTtcblxuXHQvLyBUeXBlcyBjYW4gYmUgYSBtYXAgb2YgdHlwZXMvaGFuZGxlcnNcblx0aWYgKCB0eXBlb2YgdHlwZXMgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHQvLyAoIHR5cGVzLU9iamVjdCwgc2VsZWN0b3IsIGRhdGEgKVxuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzLU9iamVjdCwgZGF0YSApXG5cdFx0XHRkYXRhID0gZGF0YSB8fCBzZWxlY3Rvcjtcblx0XHRcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHRmb3IgKCB0eXBlIGluIHR5cGVzICkge1xuXHRcdFx0b24oIGVsZW0sIHR5cGUsIHNlbGVjdG9yLCBkYXRhLCB0eXBlc1sgdHlwZSBdLCBvbmUgKTtcblx0XHR9XG5cdFx0cmV0dXJuIGVsZW07XG5cdH1cblxuXHRpZiAoIGRhdGEgPT0gbnVsbCAmJiBmbiA9PSBudWxsICkge1xuXG5cdFx0Ly8gKCB0eXBlcywgZm4gKVxuXHRcdGZuID0gc2VsZWN0b3I7XG5cdFx0ZGF0YSA9IHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHR9IGVsc2UgaWYgKCBmbiA9PSBudWxsICkge1xuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICkge1xuXG5cdFx0XHQvLyAoIHR5cGVzLCBzZWxlY3RvciwgZm4gKVxuXHRcdFx0Zm4gPSBkYXRhO1xuXHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyAoIHR5cGVzLCBkYXRhLCBmbiApXG5cdFx0XHRmbiA9IGRhdGE7XG5cdFx0XHRkYXRhID0gc2VsZWN0b3I7XG5cdFx0XHRzZWxlY3RvciA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdH1cblx0aWYgKCBmbiA9PT0gZmFsc2UgKSB7XG5cdFx0Zm4gPSByZXR1cm5GYWxzZTtcblx0fSBlbHNlIGlmICggIWZuICkge1xuXHRcdHJldHVybiBlbGVtO1xuXHR9XG5cblx0aWYgKCBvbmUgPT09IDEgKSB7XG5cdFx0b3JpZ0ZuID0gZm47XG5cdFx0Zm4gPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRcdC8vIENhbiB1c2UgYW4gZW1wdHkgc2V0LCBzaW5jZSBldmVudCBjb250YWlucyB0aGUgaW5mb1xuXHRcdFx0alF1ZXJ5KCkub2ZmKCBldmVudCApO1xuXHRcdFx0cmV0dXJuIG9yaWdGbi5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fTtcblxuXHRcdC8vIFVzZSBzYW1lIGd1aWQgc28gY2FsbGVyIGNhbiByZW1vdmUgdXNpbmcgb3JpZ0ZuXG5cdFx0Zm4uZ3VpZCA9IG9yaWdGbi5ndWlkIHx8ICggb3JpZ0ZuLmd1aWQgPSBqUXVlcnkuZ3VpZCsrICk7XG5cdH1cblx0cmV0dXJuIGVsZW0uZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0alF1ZXJ5LmV2ZW50LmFkZCggdGhpcywgdHlwZXMsIGZuLCBkYXRhLCBzZWxlY3RvciApO1xuXHR9ICk7XG59XG5cbi8qXG4gKiBIZWxwZXIgZnVuY3Rpb25zIGZvciBtYW5hZ2luZyBldmVudHMgLS0gbm90IHBhcnQgb2YgdGhlIHB1YmxpYyBpbnRlcmZhY2UuXG4gKiBQcm9wcyB0byBEZWFuIEVkd2FyZHMnIGFkZEV2ZW50IGxpYnJhcnkgZm9yIG1hbnkgb2YgdGhlIGlkZWFzLlxuICovXG5qUXVlcnkuZXZlbnQgPSB7XG5cblx0Z2xvYmFsOiB7fSxcblxuXHRhZGQ6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlcywgaGFuZGxlciwgZGF0YSwgc2VsZWN0b3IgKSB7XG5cblx0XHR2YXIgaGFuZGxlT2JqSW4sIGV2ZW50SGFuZGxlLCB0bXAsXG5cdFx0XHRldmVudHMsIHQsIGhhbmRsZU9iaixcblx0XHRcdHNwZWNpYWwsIGhhbmRsZXJzLCB0eXBlLCBuYW1lc3BhY2VzLCBvcmlnVHlwZSxcblx0XHRcdGVsZW1EYXRhID0gZGF0YVByaXYuZ2V0KCBlbGVtICk7XG5cblx0XHQvLyBEb24ndCBhdHRhY2ggZXZlbnRzIHRvIG5vRGF0YSBvciB0ZXh0L2NvbW1lbnQgbm9kZXMgKGJ1dCBhbGxvdyBwbGFpbiBvYmplY3RzKVxuXHRcdGlmICggIWVsZW1EYXRhICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIENhbGxlciBjYW4gcGFzcyBpbiBhbiBvYmplY3Qgb2YgY3VzdG9tIGRhdGEgaW4gbGlldSBvZiB0aGUgaGFuZGxlclxuXHRcdGlmICggaGFuZGxlci5oYW5kbGVyICkge1xuXHRcdFx0aGFuZGxlT2JqSW4gPSBoYW5kbGVyO1xuXHRcdFx0aGFuZGxlciA9IGhhbmRsZU9iakluLmhhbmRsZXI7XG5cdFx0XHRzZWxlY3RvciA9IGhhbmRsZU9iakluLnNlbGVjdG9yO1xuXHRcdH1cblxuXHRcdC8vIEVuc3VyZSB0aGF0IGludmFsaWQgc2VsZWN0b3JzIHRocm93IGV4Y2VwdGlvbnMgYXQgYXR0YWNoIHRpbWVcblx0XHQvLyBFdmFsdWF0ZSBhZ2FpbnN0IGRvY3VtZW50RWxlbWVudCBpbiBjYXNlIGVsZW0gaXMgYSBub24tZWxlbWVudCBub2RlIChlLmcuLCBkb2N1bWVudClcblx0XHRpZiAoIHNlbGVjdG9yICkge1xuXHRcdFx0alF1ZXJ5LmZpbmQubWF0Y2hlc1NlbGVjdG9yKCBkb2N1bWVudEVsZW1lbnQsIHNlbGVjdG9yICk7XG5cdFx0fVxuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoYXQgdGhlIGhhbmRsZXIgaGFzIGEgdW5pcXVlIElELCB1c2VkIHRvIGZpbmQvcmVtb3ZlIGl0IGxhdGVyXG5cdFx0aWYgKCAhaGFuZGxlci5ndWlkICkge1xuXHRcdFx0aGFuZGxlci5ndWlkID0galF1ZXJ5Lmd1aWQrKztcblx0XHR9XG5cblx0XHQvLyBJbml0IHRoZSBlbGVtZW50J3MgZXZlbnQgc3RydWN0dXJlIGFuZCBtYWluIGhhbmRsZXIsIGlmIHRoaXMgaXMgdGhlIGZpcnN0XG5cdFx0aWYgKCAhKCBldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgKSApIHtcblx0XHRcdGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyA9IHt9O1xuXHRcdH1cblx0XHRpZiAoICEoIGV2ZW50SGFuZGxlID0gZWxlbURhdGEuaGFuZGxlICkgKSB7XG5cdFx0XHRldmVudEhhbmRsZSA9IGVsZW1EYXRhLmhhbmRsZSA9IGZ1bmN0aW9uKCBlICkge1xuXG5cdFx0XHRcdC8vIERpc2NhcmQgdGhlIHNlY29uZCBldmVudCBvZiBhIGpRdWVyeS5ldmVudC50cmlnZ2VyKCkgYW5kXG5cdFx0XHRcdC8vIHdoZW4gYW4gZXZlbnQgaXMgY2FsbGVkIGFmdGVyIGEgcGFnZSBoYXMgdW5sb2FkZWRcblx0XHRcdFx0cmV0dXJuIHR5cGVvZiBqUXVlcnkgIT09IFwidW5kZWZpbmVkXCIgJiYgalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCAhPT0gZS50eXBlID9cblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQuZGlzcGF0Y2guYXBwbHkoIGVsZW0sIGFyZ3VtZW50cyApIDogdW5kZWZpbmVkO1xuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBIYW5kbGUgbXVsdGlwbGUgZXZlbnRzIHNlcGFyYXRlZCBieSBhIHNwYWNlXG5cdFx0dHlwZXMgPSAoIHR5cGVzIHx8IFwiXCIgKS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFsgXCJcIiBdO1xuXHRcdHQgPSB0eXBlcy5sZW5ndGg7XG5cdFx0d2hpbGUgKCB0LS0gKSB7XG5cdFx0XHR0bXAgPSBydHlwZW5hbWVzcGFjZS5leGVjKCB0eXBlc1sgdCBdICkgfHwgW107XG5cdFx0XHR0eXBlID0gb3JpZ1R5cGUgPSB0bXBbIDEgXTtcblx0XHRcdG5hbWVzcGFjZXMgPSAoIHRtcFsgMiBdIHx8IFwiXCIgKS5zcGxpdCggXCIuXCIgKS5zb3J0KCk7XG5cblx0XHRcdC8vIFRoZXJlICptdXN0KiBiZSBhIHR5cGUsIG5vIGF0dGFjaGluZyBuYW1lc3BhY2Utb25seSBoYW5kbGVyc1xuXHRcdFx0aWYgKCAhdHlwZSApIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIGV2ZW50IGNoYW5nZXMgaXRzIHR5cGUsIHVzZSB0aGUgc3BlY2lhbCBldmVudCBoYW5kbGVycyBmb3IgdGhlIGNoYW5nZWQgdHlwZVxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XG5cblx0XHRcdC8vIElmIHNlbGVjdG9yIGRlZmluZWQsIGRldGVybWluZSBzcGVjaWFsIGV2ZW50IGFwaSB0eXBlLCBvdGhlcndpc2UgZ2l2ZW4gdHlwZVxuXHRcdFx0dHlwZSA9ICggc2VsZWN0b3IgPyBzcGVjaWFsLmRlbGVnYXRlVHlwZSA6IHNwZWNpYWwuYmluZFR5cGUgKSB8fCB0eXBlO1xuXG5cdFx0XHQvLyBVcGRhdGUgc3BlY2lhbCBiYXNlZCBvbiBuZXdseSByZXNldCB0eXBlXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcblxuXHRcdFx0Ly8gaGFuZGxlT2JqIGlzIHBhc3NlZCB0byBhbGwgZXZlbnQgaGFuZGxlcnNcblx0XHRcdGhhbmRsZU9iaiA9IGpRdWVyeS5leHRlbmQoIHtcblx0XHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdFx0b3JpZ1R5cGU6IG9yaWdUeXBlLFxuXHRcdFx0XHRkYXRhOiBkYXRhLFxuXHRcdFx0XHRoYW5kbGVyOiBoYW5kbGVyLFxuXHRcdFx0XHRndWlkOiBoYW5kbGVyLmd1aWQsXG5cdFx0XHRcdHNlbGVjdG9yOiBzZWxlY3Rvcixcblx0XHRcdFx0bmVlZHNDb250ZXh0OiBzZWxlY3RvciAmJiBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3IgKSxcblx0XHRcdFx0bmFtZXNwYWNlOiBuYW1lc3BhY2VzLmpvaW4oIFwiLlwiIClcblx0XHRcdH0sIGhhbmRsZU9iakluICk7XG5cblx0XHRcdC8vIEluaXQgdGhlIGV2ZW50IGhhbmRsZXIgcXVldWUgaWYgd2UncmUgdGhlIGZpcnN0XG5cdFx0XHRpZiAoICEoIGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gKSApIHtcblx0XHRcdFx0aGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSA9IFtdO1xuXHRcdFx0XHRoYW5kbGVycy5kZWxlZ2F0ZUNvdW50ID0gMDtcblxuXHRcdFx0XHQvLyBPbmx5IHVzZSBhZGRFdmVudExpc3RlbmVyIGlmIHRoZSBzcGVjaWFsIGV2ZW50cyBoYW5kbGVyIHJldHVybnMgZmFsc2Vcblx0XHRcdFx0aWYgKCAhc3BlY2lhbC5zZXR1cCB8fFxuXHRcdFx0XHRcdHNwZWNpYWwuc2V0dXAuY2FsbCggZWxlbSwgZGF0YSwgbmFtZXNwYWNlcywgZXZlbnRIYW5kbGUgKSA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdFx0XHRpZiAoIGVsZW0uYWRkRXZlbnRMaXN0ZW5lciApIHtcblx0XHRcdFx0XHRcdGVsZW0uYWRkRXZlbnRMaXN0ZW5lciggdHlwZSwgZXZlbnRIYW5kbGUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKCBzcGVjaWFsLmFkZCApIHtcblx0XHRcdFx0c3BlY2lhbC5hZGQuY2FsbCggZWxlbSwgaGFuZGxlT2JqICk7XG5cblx0XHRcdFx0aWYgKCAhaGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCApIHtcblx0XHRcdFx0XHRoYW5kbGVPYmouaGFuZGxlci5ndWlkID0gaGFuZGxlci5ndWlkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkZCB0byB0aGUgZWxlbWVudCdzIGhhbmRsZXIgbGlzdCwgZGVsZWdhdGVzIGluIGZyb250XG5cdFx0XHRpZiAoIHNlbGVjdG9yICkge1xuXHRcdFx0XHRoYW5kbGVycy5zcGxpY2UoIGhhbmRsZXJzLmRlbGVnYXRlQ291bnQrKywgMCwgaGFuZGxlT2JqICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRoYW5kbGVycy5wdXNoKCBoYW5kbGVPYmogKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gS2VlcCB0cmFjayBvZiB3aGljaCBldmVudHMgaGF2ZSBldmVyIGJlZW4gdXNlZCwgZm9yIGV2ZW50IG9wdGltaXphdGlvblxuXHRcdFx0alF1ZXJ5LmV2ZW50Lmdsb2JhbFsgdHlwZSBdID0gdHJ1ZTtcblx0XHR9XG5cblx0fSxcblxuXHQvLyBEZXRhY2ggYW4gZXZlbnQgb3Igc2V0IG9mIGV2ZW50cyBmcm9tIGFuIGVsZW1lbnRcblx0cmVtb3ZlOiBmdW5jdGlvbiggZWxlbSwgdHlwZXMsIGhhbmRsZXIsIHNlbGVjdG9yLCBtYXBwZWRUeXBlcyApIHtcblxuXHRcdHZhciBqLCBvcmlnQ291bnQsIHRtcCxcblx0XHRcdGV2ZW50cywgdCwgaGFuZGxlT2JqLFxuXHRcdFx0c3BlY2lhbCwgaGFuZGxlcnMsIHR5cGUsIG5hbWVzcGFjZXMsIG9yaWdUeXBlLFxuXHRcdFx0ZWxlbURhdGEgPSBkYXRhUHJpdi5oYXNEYXRhKCBlbGVtICkgJiYgZGF0YVByaXYuZ2V0KCBlbGVtICk7XG5cblx0XHRpZiAoICFlbGVtRGF0YSB8fCAhKCBldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBPbmNlIGZvciBlYWNoIHR5cGUubmFtZXNwYWNlIGluIHR5cGVzOyB0eXBlIG1heSBiZSBvbWl0dGVkXG5cdFx0dHlwZXMgPSAoIHR5cGVzIHx8IFwiXCIgKS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFsgXCJcIiBdO1xuXHRcdHQgPSB0eXBlcy5sZW5ndGg7XG5cdFx0d2hpbGUgKCB0LS0gKSB7XG5cdFx0XHR0bXAgPSBydHlwZW5hbWVzcGFjZS5leGVjKCB0eXBlc1sgdCBdICkgfHwgW107XG5cdFx0XHR0eXBlID0gb3JpZ1R5cGUgPSB0bXBbIDEgXTtcblx0XHRcdG5hbWVzcGFjZXMgPSAoIHRtcFsgMiBdIHx8IFwiXCIgKS5zcGxpdCggXCIuXCIgKS5zb3J0KCk7XG5cblx0XHRcdC8vIFVuYmluZCBhbGwgZXZlbnRzIChvbiB0aGlzIG5hbWVzcGFjZSwgaWYgcHJvdmlkZWQpIGZvciB0aGUgZWxlbWVudFxuXHRcdFx0aWYgKCAhdHlwZSApIHtcblx0XHRcdFx0Zm9yICggdHlwZSBpbiBldmVudHMgKSB7XG5cdFx0XHRcdFx0alF1ZXJ5LmV2ZW50LnJlbW92ZSggZWxlbSwgdHlwZSArIHR5cGVzWyB0IF0sIGhhbmRsZXIsIHNlbGVjdG9yLCB0cnVlICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXHRcdFx0dHlwZSA9ICggc2VsZWN0b3IgPyBzcGVjaWFsLmRlbGVnYXRlVHlwZSA6IHNwZWNpYWwuYmluZFR5cGUgKSB8fCB0eXBlO1xuXHRcdFx0aGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSB8fCBbXTtcblx0XHRcdHRtcCA9IHRtcFsgMiBdICYmXG5cdFx0XHRcdG5ldyBSZWdFeHAoIFwiKF58XFxcXC4pXCIgKyBuYW1lc3BhY2VzLmpvaW4oIFwiXFxcXC4oPzouKlxcXFwufClcIiApICsgXCIoXFxcXC58JClcIiApO1xuXG5cdFx0XHQvLyBSZW1vdmUgbWF0Y2hpbmcgZXZlbnRzXG5cdFx0XHRvcmlnQ291bnQgPSBqID0gaGFuZGxlcnMubGVuZ3RoO1xuXHRcdFx0d2hpbGUgKCBqLS0gKSB7XG5cdFx0XHRcdGhhbmRsZU9iaiA9IGhhbmRsZXJzWyBqIF07XG5cblx0XHRcdFx0aWYgKCAoIG1hcHBlZFR5cGVzIHx8IG9yaWdUeXBlID09PSBoYW5kbGVPYmoub3JpZ1R5cGUgKSAmJlxuXHRcdFx0XHRcdCggIWhhbmRsZXIgfHwgaGFuZGxlci5ndWlkID09PSBoYW5kbGVPYmouZ3VpZCApICYmXG5cdFx0XHRcdFx0KCAhdG1wIHx8IHRtcC50ZXN0KCBoYW5kbGVPYmoubmFtZXNwYWNlICkgKSAmJlxuXHRcdFx0XHRcdCggIXNlbGVjdG9yIHx8IHNlbGVjdG9yID09PSBoYW5kbGVPYmouc2VsZWN0b3IgfHxcblx0XHRcdFx0XHRcdHNlbGVjdG9yID09PSBcIioqXCIgJiYgaGFuZGxlT2JqLnNlbGVjdG9yICkgKSB7XG5cdFx0XHRcdFx0aGFuZGxlcnMuc3BsaWNlKCBqLCAxICk7XG5cblx0XHRcdFx0XHRpZiAoIGhhbmRsZU9iai5zZWxlY3RvciApIHtcblx0XHRcdFx0XHRcdGhhbmRsZXJzLmRlbGVnYXRlQ291bnQtLTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCBzcGVjaWFsLnJlbW92ZSApIHtcblx0XHRcdFx0XHRcdHNwZWNpYWwucmVtb3ZlLmNhbGwoIGVsZW0sIGhhbmRsZU9iaiApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZW1vdmUgZ2VuZXJpYyBldmVudCBoYW5kbGVyIGlmIHdlIHJlbW92ZWQgc29tZXRoaW5nIGFuZCBubyBtb3JlIGhhbmRsZXJzIGV4aXN0XG5cdFx0XHQvLyAoYXZvaWRzIHBvdGVudGlhbCBmb3IgZW5kbGVzcyByZWN1cnNpb24gZHVyaW5nIHJlbW92YWwgb2Ygc3BlY2lhbCBldmVudCBoYW5kbGVycylcblx0XHRcdGlmICggb3JpZ0NvdW50ICYmICFoYW5kbGVycy5sZW5ndGggKSB7XG5cdFx0XHRcdGlmICggIXNwZWNpYWwudGVhcmRvd24gfHxcblx0XHRcdFx0XHRzcGVjaWFsLnRlYXJkb3duLmNhbGwoIGVsZW0sIG5hbWVzcGFjZXMsIGVsZW1EYXRhLmhhbmRsZSApID09PSBmYWxzZSApIHtcblxuXHRcdFx0XHRcdGpRdWVyeS5yZW1vdmVFdmVudCggZWxlbSwgdHlwZSwgZWxlbURhdGEuaGFuZGxlICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRkZWxldGUgZXZlbnRzWyB0eXBlIF07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gUmVtb3ZlIGRhdGEgYW5kIHRoZSBleHBhbmRvIGlmIGl0J3Mgbm8gbG9uZ2VyIHVzZWRcblx0XHRpZiAoIGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBldmVudHMgKSApIHtcblx0XHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgXCJoYW5kbGUgZXZlbnRzXCIgKTtcblx0XHR9XG5cdH0sXG5cblx0ZGlzcGF0Y2g6IGZ1bmN0aW9uKCBuYXRpdmVFdmVudCApIHtcblxuXHRcdC8vIE1ha2UgYSB3cml0YWJsZSBqUXVlcnkuRXZlbnQgZnJvbSB0aGUgbmF0aXZlIGV2ZW50IG9iamVjdFxuXHRcdHZhciBldmVudCA9IGpRdWVyeS5ldmVudC5maXgoIG5hdGl2ZUV2ZW50ICk7XG5cblx0XHR2YXIgaSwgaiwgcmV0LCBtYXRjaGVkLCBoYW5kbGVPYmosIGhhbmRsZXJRdWV1ZSxcblx0XHRcdGFyZ3MgPSBuZXcgQXJyYXkoIGFyZ3VtZW50cy5sZW5ndGggKSxcblx0XHRcdGhhbmRsZXJzID0gKCBkYXRhUHJpdi5nZXQoIHRoaXMsIFwiZXZlbnRzXCIgKSB8fCB7fSApWyBldmVudC50eXBlIF0gfHwgW10sXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGV2ZW50LnR5cGUgXSB8fCB7fTtcblxuXHRcdC8vIFVzZSB0aGUgZml4LWVkIGpRdWVyeS5FdmVudCByYXRoZXIgdGhhbiB0aGUgKHJlYWQtb25seSkgbmF0aXZlIGV2ZW50XG5cdFx0YXJnc1sgMCBdID0gZXZlbnQ7XG5cblx0XHRmb3IgKCBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKyApIHtcblx0XHRcdGFyZ3NbIGkgXSA9IGFyZ3VtZW50c1sgaSBdO1xuXHRcdH1cblxuXHRcdGV2ZW50LmRlbGVnYXRlVGFyZ2V0ID0gdGhpcztcblxuXHRcdC8vIENhbGwgdGhlIHByZURpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZSwgYW5kIGxldCBpdCBiYWlsIGlmIGRlc2lyZWRcblx0XHRpZiAoIHNwZWNpYWwucHJlRGlzcGF0Y2ggJiYgc3BlY2lhbC5wcmVEaXNwYXRjaC5jYWxsKCB0aGlzLCBldmVudCApID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBEZXRlcm1pbmUgaGFuZGxlcnNcblx0XHRoYW5kbGVyUXVldWUgPSBqUXVlcnkuZXZlbnQuaGFuZGxlcnMuY2FsbCggdGhpcywgZXZlbnQsIGhhbmRsZXJzICk7XG5cblx0XHQvLyBSdW4gZGVsZWdhdGVzIGZpcnN0OyB0aGV5IG1heSB3YW50IHRvIHN0b3AgcHJvcGFnYXRpb24gYmVuZWF0aCB1c1xuXHRcdGkgPSAwO1xuXHRcdHdoaWxlICggKCBtYXRjaGVkID0gaGFuZGxlclF1ZXVlWyBpKysgXSApICYmICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXHRcdFx0ZXZlbnQuY3VycmVudFRhcmdldCA9IG1hdGNoZWQuZWxlbTtcblxuXHRcdFx0aiA9IDA7XG5cdFx0XHR3aGlsZSAoICggaGFuZGxlT2JqID0gbWF0Y2hlZC5oYW5kbGVyc1sgaisrIF0gKSAmJlxuXHRcdFx0XHQhZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblxuXHRcdFx0XHQvLyBUcmlnZ2VyZWQgZXZlbnQgbXVzdCBlaXRoZXIgMSkgaGF2ZSBubyBuYW1lc3BhY2UsIG9yIDIpIGhhdmUgbmFtZXNwYWNlKHMpXG5cdFx0XHRcdC8vIGEgc3Vic2V0IG9yIGVxdWFsIHRvIHRob3NlIGluIHRoZSBib3VuZCBldmVudCAoYm90aCBjYW4gaGF2ZSBubyBuYW1lc3BhY2UpLlxuXHRcdFx0XHRpZiAoICFldmVudC5ybmFtZXNwYWNlIHx8IGV2ZW50LnJuYW1lc3BhY2UudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkge1xuXG5cdFx0XHRcdFx0ZXZlbnQuaGFuZGxlT2JqID0gaGFuZGxlT2JqO1xuXHRcdFx0XHRcdGV2ZW50LmRhdGEgPSBoYW5kbGVPYmouZGF0YTtcblxuXHRcdFx0XHRcdHJldCA9ICggKCBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgaGFuZGxlT2JqLm9yaWdUeXBlIF0gfHwge30gKS5oYW5kbGUgfHxcblx0XHRcdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyICkuYXBwbHkoIG1hdGNoZWQuZWxlbSwgYXJncyApO1xuXG5cdFx0XHRcdFx0aWYgKCByZXQgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdGlmICggKCBldmVudC5yZXN1bHQgPSByZXQgKSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENhbGwgdGhlIHBvc3REaXNwYXRjaCBob29rIGZvciB0aGUgbWFwcGVkIHR5cGVcblx0XHRpZiAoIHNwZWNpYWwucG9zdERpc3BhdGNoICkge1xuXHRcdFx0c3BlY2lhbC5wb3N0RGlzcGF0Y2guY2FsbCggdGhpcywgZXZlbnQgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZXZlbnQucmVzdWx0O1xuXHR9LFxuXG5cdGhhbmRsZXJzOiBmdW5jdGlvbiggZXZlbnQsIGhhbmRsZXJzICkge1xuXHRcdHZhciBpLCBoYW5kbGVPYmosIHNlbCwgbWF0Y2hlZEhhbmRsZXJzLCBtYXRjaGVkU2VsZWN0b3JzLFxuXHRcdFx0aGFuZGxlclF1ZXVlID0gW10sXG5cdFx0XHRkZWxlZ2F0ZUNvdW50ID0gaGFuZGxlcnMuZGVsZWdhdGVDb3VudCxcblx0XHRcdGN1ciA9IGV2ZW50LnRhcmdldDtcblxuXHRcdC8vIEZpbmQgZGVsZWdhdGUgaGFuZGxlcnNcblx0XHRpZiAoIGRlbGVnYXRlQ291bnQgJiZcblxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05XG5cdFx0XHQvLyBCbGFjay1ob2xlIFNWRyA8dXNlPiBpbnN0YW5jZSB0cmVlcyAodHJhYy0xMzE4MClcblx0XHRcdGN1ci5ub2RlVHlwZSAmJlxuXG5cdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDw9NDJcblx0XHRcdC8vIFN1cHByZXNzIHNwZWMtdmlvbGF0aW5nIGNsaWNrcyBpbmRpY2F0aW5nIGEgbm9uLXByaW1hcnkgcG9pbnRlciBidXR0b24gKHRyYWMtMzg2MSlcblx0XHRcdC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvI2V2ZW50LXR5cGUtY2xpY2tcblx0XHRcdC8vIFN1cHBvcnQ6IElFIDExIG9ubHlcblx0XHRcdC8vIC4uLmJ1dCBub3QgYXJyb3cga2V5IFwiY2xpY2tzXCIgb2YgcmFkaW8gaW5wdXRzLCB3aGljaCBjYW4gaGF2ZSBgYnV0dG9uYCAtMSAoZ2gtMjM0Mylcblx0XHRcdCEoIGV2ZW50LnR5cGUgPT09IFwiY2xpY2tcIiAmJiBldmVudC5idXR0b24gPj0gMSApICkge1xuXG5cdFx0XHRmb3IgKCA7IGN1ciAhPT0gdGhpczsgY3VyID0gY3VyLnBhcmVudE5vZGUgfHwgdGhpcyApIHtcblxuXHRcdFx0XHQvLyBEb24ndCBjaGVjayBub24tZWxlbWVudHMgKCMxMzIwOClcblx0XHRcdFx0Ly8gRG9uJ3QgcHJvY2VzcyBjbGlja3Mgb24gZGlzYWJsZWQgZWxlbWVudHMgKCM2OTExLCAjODE2NSwgIzExMzgyLCAjMTE3NjQpXG5cdFx0XHRcdGlmICggY3VyLm5vZGVUeXBlID09PSAxICYmICEoIGV2ZW50LnR5cGUgPT09IFwiY2xpY2tcIiAmJiBjdXIuZGlzYWJsZWQgPT09IHRydWUgKSApIHtcblx0XHRcdFx0XHRtYXRjaGVkSGFuZGxlcnMgPSBbXTtcblx0XHRcdFx0XHRtYXRjaGVkU2VsZWN0b3JzID0ge307XG5cdFx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBkZWxlZ2F0ZUNvdW50OyBpKysgKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVPYmogPSBoYW5kbGVyc1sgaSBdO1xuXG5cdFx0XHRcdFx0XHQvLyBEb24ndCBjb25mbGljdCB3aXRoIE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAoIzEzMjAzKVxuXHRcdFx0XHRcdFx0c2VsID0gaGFuZGxlT2JqLnNlbGVjdG9yICsgXCIgXCI7XG5cblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlZFNlbGVjdG9yc1sgc2VsIF0gPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZFNlbGVjdG9yc1sgc2VsIF0gPSBoYW5kbGVPYmoubmVlZHNDb250ZXh0ID9cblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkoIHNlbCwgdGhpcyApLmluZGV4KCBjdXIgKSA+IC0xIDpcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuZmluZCggc2VsLCB0aGlzLCBudWxsLCBbIGN1ciBdICkubGVuZ3RoO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0aWYgKCBtYXRjaGVkU2VsZWN0b3JzWyBzZWwgXSApIHtcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZEhhbmRsZXJzLnB1c2goIGhhbmRsZU9iaiApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIG1hdGNoZWRIYW5kbGVycy5sZW5ndGggKSB7XG5cdFx0XHRcdFx0XHRoYW5kbGVyUXVldWUucHVzaCggeyBlbGVtOiBjdXIsIGhhbmRsZXJzOiBtYXRjaGVkSGFuZGxlcnMgfSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEFkZCB0aGUgcmVtYWluaW5nIChkaXJlY3RseS1ib3VuZCkgaGFuZGxlcnNcblx0XHRjdXIgPSB0aGlzO1xuXHRcdGlmICggZGVsZWdhdGVDb3VudCA8IGhhbmRsZXJzLmxlbmd0aCApIHtcblx0XHRcdGhhbmRsZXJRdWV1ZS5wdXNoKCB7IGVsZW06IGN1ciwgaGFuZGxlcnM6IGhhbmRsZXJzLnNsaWNlKCBkZWxlZ2F0ZUNvdW50ICkgfSApO1xuXHRcdH1cblxuXHRcdHJldHVybiBoYW5kbGVyUXVldWU7XG5cdH0sXG5cblx0YWRkUHJvcDogZnVuY3Rpb24oIG5hbWUsIGhvb2sgKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCBqUXVlcnkuRXZlbnQucHJvdG90eXBlLCBuYW1lLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlLFxuXG5cdFx0XHRnZXQ6IGlzRnVuY3Rpb24oIGhvb2sgKSA/XG5cdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGlmICggdGhpcy5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gaG9vayggdGhpcy5vcmlnaW5hbEV2ZW50ICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IDpcblx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGlzLm9yaWdpbmFsRXZlbnQgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB0aGlzLm9yaWdpbmFsRXZlbnRbIG5hbWUgXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cblx0XHRcdHNldDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoIHRoaXMsIG5hbWUsIHtcblx0XHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZSxcblx0XHRcdFx0XHR2YWx1ZTogdmFsdWVcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblxuXHRmaXg6IGZ1bmN0aW9uKCBvcmlnaW5hbEV2ZW50ICkge1xuXHRcdHJldHVybiBvcmlnaW5hbEV2ZW50WyBqUXVlcnkuZXhwYW5kbyBdID9cblx0XHRcdG9yaWdpbmFsRXZlbnQgOlxuXHRcdFx0bmV3IGpRdWVyeS5FdmVudCggb3JpZ2luYWxFdmVudCApO1xuXHR9LFxuXG5cdHNwZWNpYWw6IHtcblx0XHRsb2FkOiB7XG5cblx0XHRcdC8vIFByZXZlbnQgdHJpZ2dlcmVkIGltYWdlLmxvYWQgZXZlbnRzIGZyb20gYnViYmxpbmcgdG8gd2luZG93LmxvYWRcblx0XHRcdG5vQnViYmxlOiB0cnVlXG5cdFx0fSxcblx0XHRmb2N1czoge1xuXG5cdFx0XHQvLyBGaXJlIG5hdGl2ZSBldmVudCBpZiBwb3NzaWJsZSBzbyBibHVyL2ZvY3VzIHNlcXVlbmNlIGlzIGNvcnJlY3Rcblx0XHRcdHRyaWdnZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIHRoaXMgIT09IHNhZmVBY3RpdmVFbGVtZW50KCkgJiYgdGhpcy5mb2N1cyApIHtcblx0XHRcdFx0XHR0aGlzLmZvY3VzKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0ZGVsZWdhdGVUeXBlOiBcImZvY3VzaW5cIlxuXHRcdH0sXG5cdFx0Ymx1cjoge1xuXHRcdFx0dHJpZ2dlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggdGhpcyA9PT0gc2FmZUFjdGl2ZUVsZW1lbnQoKSAmJiB0aGlzLmJsdXIgKSB7XG5cdFx0XHRcdFx0dGhpcy5ibHVyKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0ZGVsZWdhdGVUeXBlOiBcImZvY3Vzb3V0XCJcblx0XHR9LFxuXHRcdGNsaWNrOiB7XG5cblx0XHRcdC8vIEZvciBjaGVja2JveCwgZmlyZSBuYXRpdmUgZXZlbnQgc28gY2hlY2tlZCBzdGF0ZSB3aWxsIGJlIHJpZ2h0XG5cdFx0XHR0cmlnZ2VyOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCB0aGlzLnR5cGUgPT09IFwiY2hlY2tib3hcIiAmJiB0aGlzLmNsaWNrICYmIG5vZGVOYW1lKCB0aGlzLCBcImlucHV0XCIgKSApIHtcblx0XHRcdFx0XHR0aGlzLmNsaWNrKCk7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXG5cdFx0XHQvLyBGb3IgY3Jvc3MtYnJvd3NlciBjb25zaXN0ZW5jeSwgZG9uJ3QgZmlyZSBuYXRpdmUgLmNsaWNrKCkgb24gbGlua3Ncblx0XHRcdF9kZWZhdWx0OiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHRcdHJldHVybiBub2RlTmFtZSggZXZlbnQudGFyZ2V0LCBcImFcIiApO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRiZWZvcmV1bmxvYWQ6IHtcblx0XHRcdHBvc3REaXNwYXRjaDogZnVuY3Rpb24oIGV2ZW50ICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggMjArXG5cdFx0XHRcdC8vIEZpcmVmb3ggZG9lc24ndCBhbGVydCBpZiB0aGUgcmV0dXJuVmFsdWUgZmllbGQgaXMgbm90IHNldC5cblx0XHRcdFx0aWYgKCBldmVudC5yZXN1bHQgIT09IHVuZGVmaW5lZCAmJiBldmVudC5vcmlnaW5hbEV2ZW50ICkge1xuXHRcdFx0XHRcdGV2ZW50Lm9yaWdpbmFsRXZlbnQucmV0dXJuVmFsdWUgPSBldmVudC5yZXN1bHQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG5cbmpRdWVyeS5yZW1vdmVFdmVudCA9IGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCBoYW5kbGUgKSB7XG5cblx0Ly8gVGhpcyBcImlmXCIgaXMgbmVlZGVkIGZvciBwbGFpbiBvYmplY3RzXG5cdGlmICggZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyICkge1xuXHRcdGVsZW0ucmVtb3ZlRXZlbnRMaXN0ZW5lciggdHlwZSwgaGFuZGxlICk7XG5cdH1cbn07XG5cbmpRdWVyeS5FdmVudCA9IGZ1bmN0aW9uKCBzcmMsIHByb3BzICkge1xuXG5cdC8vIEFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCB0aGUgJ25ldycga2V5d29yZFxuXHRpZiAoICEoIHRoaXMgaW5zdGFuY2VvZiBqUXVlcnkuRXZlbnQgKSApIHtcblx0XHRyZXR1cm4gbmV3IGpRdWVyeS5FdmVudCggc3JjLCBwcm9wcyApO1xuXHR9XG5cblx0Ly8gRXZlbnQgb2JqZWN0XG5cdGlmICggc3JjICYmIHNyYy50eXBlICkge1xuXHRcdHRoaXMub3JpZ2luYWxFdmVudCA9IHNyYztcblx0XHR0aGlzLnR5cGUgPSBzcmMudHlwZTtcblxuXHRcdC8vIEV2ZW50cyBidWJibGluZyB1cCB0aGUgZG9jdW1lbnQgbWF5IGhhdmUgYmVlbiBtYXJrZWQgYXMgcHJldmVudGVkXG5cdFx0Ly8gYnkgYSBoYW5kbGVyIGxvd2VyIGRvd24gdGhlIHRyZWU7IHJlZmxlY3QgdGhlIGNvcnJlY3QgdmFsdWUuXG5cdFx0dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBzcmMuZGVmYXVsdFByZXZlbnRlZCB8fFxuXHRcdFx0XHRzcmMuZGVmYXVsdFByZXZlbnRlZCA9PT0gdW5kZWZpbmVkICYmXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTIuMyBvbmx5XG5cdFx0XHRcdHNyYy5yZXR1cm5WYWx1ZSA9PT0gZmFsc2UgP1xuXHRcdFx0cmV0dXJuVHJ1ZSA6XG5cdFx0XHRyZXR1cm5GYWxzZTtcblxuXHRcdC8vIENyZWF0ZSB0YXJnZXQgcHJvcGVydGllc1xuXHRcdC8vIFN1cHBvcnQ6IFNhZmFyaSA8PTYgLSA3IG9ubHlcblx0XHQvLyBUYXJnZXQgc2hvdWxkIG5vdCBiZSBhIHRleHQgbm9kZSAoIzUwNCwgIzEzMTQzKVxuXHRcdHRoaXMudGFyZ2V0ID0gKCBzcmMudGFyZ2V0ICYmIHNyYy50YXJnZXQubm9kZVR5cGUgPT09IDMgKSA/XG5cdFx0XHRzcmMudGFyZ2V0LnBhcmVudE5vZGUgOlxuXHRcdFx0c3JjLnRhcmdldDtcblxuXHRcdHRoaXMuY3VycmVudFRhcmdldCA9IHNyYy5jdXJyZW50VGFyZ2V0O1xuXHRcdHRoaXMucmVsYXRlZFRhcmdldCA9IHNyYy5yZWxhdGVkVGFyZ2V0O1xuXG5cdC8vIEV2ZW50IHR5cGVcblx0fSBlbHNlIHtcblx0XHR0aGlzLnR5cGUgPSBzcmM7XG5cdH1cblxuXHQvLyBQdXQgZXhwbGljaXRseSBwcm92aWRlZCBwcm9wZXJ0aWVzIG9udG8gdGhlIGV2ZW50IG9iamVjdFxuXHRpZiAoIHByb3BzICkge1xuXHRcdGpRdWVyeS5leHRlbmQoIHRoaXMsIHByb3BzICk7XG5cdH1cblxuXHQvLyBDcmVhdGUgYSB0aW1lc3RhbXAgaWYgaW5jb21pbmcgZXZlbnQgZG9lc24ndCBoYXZlIG9uZVxuXHR0aGlzLnRpbWVTdGFtcCA9IHNyYyAmJiBzcmMudGltZVN0YW1wIHx8IERhdGUubm93KCk7XG5cblx0Ly8gTWFyayBpdCBhcyBmaXhlZFxuXHR0aGlzWyBqUXVlcnkuZXhwYW5kbyBdID0gdHJ1ZTtcbn07XG5cbi8vIGpRdWVyeS5FdmVudCBpcyBiYXNlZCBvbiBET00zIEV2ZW50cyBhcyBzcGVjaWZpZWQgYnkgdGhlIEVDTUFTY3JpcHQgTGFuZ3VhZ2UgQmluZGluZ1xuLy8gaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMDMvV0QtRE9NLUxldmVsLTMtRXZlbnRzLTIwMDMwMzMxL2VjbWEtc2NyaXB0LWJpbmRpbmcuaHRtbFxualF1ZXJ5LkV2ZW50LnByb3RvdHlwZSA9IHtcblx0Y29uc3RydWN0b3I6IGpRdWVyeS5FdmVudCxcblx0aXNEZWZhdWx0UHJldmVudGVkOiByZXR1cm5GYWxzZSxcblx0aXNQcm9wYWdhdGlvblN0b3BwZWQ6IHJldHVybkZhbHNlLFxuXHRpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZDogcmV0dXJuRmFsc2UsXG5cdGlzU2ltdWxhdGVkOiBmYWxzZSxcblxuXHRwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XG5cblx0XHR0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IHJldHVyblRydWU7XG5cblx0XHRpZiAoIGUgJiYgIXRoaXMuaXNTaW11bGF0ZWQgKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fVxuXHR9LFxuXHRzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xuXG5cdFx0dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XG5cblx0XHRpZiAoIGUgJiYgIXRoaXMuaXNTaW11bGF0ZWQgKSB7XG5cdFx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdH1cblx0fSxcblx0c3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcblxuXHRcdHRoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSByZXR1cm5UcnVlO1xuXG5cdFx0aWYgKCBlICYmICF0aGlzLmlzU2ltdWxhdGVkICkge1xuXHRcdFx0ZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblx0XHR9XG5cblx0XHR0aGlzLnN0b3BQcm9wYWdhdGlvbigpO1xuXHR9XG59O1xuXG4vLyBJbmNsdWRlcyBhbGwgY29tbW9uIGV2ZW50IHByb3BzIGluY2x1ZGluZyBLZXlFdmVudCBhbmQgTW91c2VFdmVudCBzcGVjaWZpYyBwcm9wc1xualF1ZXJ5LmVhY2goIHtcblx0YWx0S2V5OiB0cnVlLFxuXHRidWJibGVzOiB0cnVlLFxuXHRjYW5jZWxhYmxlOiB0cnVlLFxuXHRjaGFuZ2VkVG91Y2hlczogdHJ1ZSxcblx0Y3RybEtleTogdHJ1ZSxcblx0ZGV0YWlsOiB0cnVlLFxuXHRldmVudFBoYXNlOiB0cnVlLFxuXHRtZXRhS2V5OiB0cnVlLFxuXHRwYWdlWDogdHJ1ZSxcblx0cGFnZVk6IHRydWUsXG5cdHNoaWZ0S2V5OiB0cnVlLFxuXHR2aWV3OiB0cnVlLFxuXHRcImNoYXJcIjogdHJ1ZSxcblx0Y2hhckNvZGU6IHRydWUsXG5cdGtleTogdHJ1ZSxcblx0a2V5Q29kZTogdHJ1ZSxcblx0YnV0dG9uOiB0cnVlLFxuXHRidXR0b25zOiB0cnVlLFxuXHRjbGllbnRYOiB0cnVlLFxuXHRjbGllbnRZOiB0cnVlLFxuXHRvZmZzZXRYOiB0cnVlLFxuXHRvZmZzZXRZOiB0cnVlLFxuXHRwb2ludGVySWQ6IHRydWUsXG5cdHBvaW50ZXJUeXBlOiB0cnVlLFxuXHRzY3JlZW5YOiB0cnVlLFxuXHRzY3JlZW5ZOiB0cnVlLFxuXHR0YXJnZXRUb3VjaGVzOiB0cnVlLFxuXHR0b0VsZW1lbnQ6IHRydWUsXG5cdHRvdWNoZXM6IHRydWUsXG5cblx0d2hpY2g6IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHR2YXIgYnV0dG9uID0gZXZlbnQuYnV0dG9uO1xuXG5cdFx0Ly8gQWRkIHdoaWNoIGZvciBrZXkgZXZlbnRzXG5cdFx0aWYgKCBldmVudC53aGljaCA9PSBudWxsICYmIHJrZXlFdmVudC50ZXN0KCBldmVudC50eXBlICkgKSB7XG5cdFx0XHRyZXR1cm4gZXZlbnQuY2hhckNvZGUgIT0gbnVsbCA/IGV2ZW50LmNoYXJDb2RlIDogZXZlbnQua2V5Q29kZTtcblx0XHR9XG5cblx0XHQvLyBBZGQgd2hpY2ggZm9yIGNsaWNrOiAxID09PSBsZWZ0OyAyID09PSBtaWRkbGU7IDMgPT09IHJpZ2h0XG5cdFx0aWYgKCAhZXZlbnQud2hpY2ggJiYgYnV0dG9uICE9PSB1bmRlZmluZWQgJiYgcm1vdXNlRXZlbnQudGVzdCggZXZlbnQudHlwZSApICkge1xuXHRcdFx0aWYgKCBidXR0b24gJiAxICkge1xuXHRcdFx0XHRyZXR1cm4gMTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBidXR0b24gJiAyICkge1xuXHRcdFx0XHRyZXR1cm4gMztcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBidXR0b24gJiA0ICkge1xuXHRcdFx0XHRyZXR1cm4gMjtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIDA7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGV2ZW50LndoaWNoO1xuXHR9XG59LCBqUXVlcnkuZXZlbnQuYWRkUHJvcCApO1xuXG4vLyBDcmVhdGUgbW91c2VlbnRlci9sZWF2ZSBldmVudHMgdXNpbmcgbW91c2VvdmVyL291dCBhbmQgZXZlbnQtdGltZSBjaGVja3Ncbi8vIHNvIHRoYXQgZXZlbnQgZGVsZWdhdGlvbiB3b3JrcyBpbiBqUXVlcnkuXG4vLyBEbyB0aGUgc2FtZSBmb3IgcG9pbnRlcmVudGVyL3BvaW50ZXJsZWF2ZSBhbmQgcG9pbnRlcm92ZXIvcG9pbnRlcm91dFxuLy9cbi8vIFN1cHBvcnQ6IFNhZmFyaSA3IG9ubHlcbi8vIFNhZmFyaSBzZW5kcyBtb3VzZWVudGVyIHRvbyBvZnRlbjsgc2VlOlxuLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDcwMjU4XG4vLyBmb3IgdGhlIGRlc2NyaXB0aW9uIG9mIHRoZSBidWcgKGl0IGV4aXN0ZWQgaW4gb2xkZXIgQ2hyb21lIHZlcnNpb25zIGFzIHdlbGwpLlxualF1ZXJ5LmVhY2goIHtcblx0bW91c2VlbnRlcjogXCJtb3VzZW92ZXJcIixcblx0bW91c2VsZWF2ZTogXCJtb3VzZW91dFwiLFxuXHRwb2ludGVyZW50ZXI6IFwicG9pbnRlcm92ZXJcIixcblx0cG9pbnRlcmxlYXZlOiBcInBvaW50ZXJvdXRcIlxufSwgZnVuY3Rpb24oIG9yaWcsIGZpeCApIHtcblx0alF1ZXJ5LmV2ZW50LnNwZWNpYWxbIG9yaWcgXSA9IHtcblx0XHRkZWxlZ2F0ZVR5cGU6IGZpeCxcblx0XHRiaW5kVHlwZTogZml4LFxuXG5cdFx0aGFuZGxlOiBmdW5jdGlvbiggZXZlbnQgKSB7XG5cdFx0XHR2YXIgcmV0LFxuXHRcdFx0XHR0YXJnZXQgPSB0aGlzLFxuXHRcdFx0XHRyZWxhdGVkID0gZXZlbnQucmVsYXRlZFRhcmdldCxcblx0XHRcdFx0aGFuZGxlT2JqID0gZXZlbnQuaGFuZGxlT2JqO1xuXG5cdFx0XHQvLyBGb3IgbW91c2VlbnRlci9sZWF2ZSBjYWxsIHRoZSBoYW5kbGVyIGlmIHJlbGF0ZWQgaXMgb3V0c2lkZSB0aGUgdGFyZ2V0LlxuXHRcdFx0Ly8gTkI6IE5vIHJlbGF0ZWRUYXJnZXQgaWYgdGhlIG1vdXNlIGxlZnQvZW50ZXJlZCB0aGUgYnJvd3NlciB3aW5kb3dcblx0XHRcdGlmICggIXJlbGF0ZWQgfHwgKCByZWxhdGVkICE9PSB0YXJnZXQgJiYgIWpRdWVyeS5jb250YWlucyggdGFyZ2V0LCByZWxhdGVkICkgKSApIHtcblx0XHRcdFx0ZXZlbnQudHlwZSA9IGhhbmRsZU9iai5vcmlnVHlwZTtcblx0XHRcdFx0cmV0ID0gaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0XHRldmVudC50eXBlID0gZml4O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9XG5cdH07XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblxuXHRvbjogZnVuY3Rpb24oIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKSB7XG5cdFx0cmV0dXJuIG9uKCB0aGlzLCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICk7XG5cdH0sXG5cdG9uZTogZnVuY3Rpb24oIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKSB7XG5cdFx0cmV0dXJuIG9uKCB0aGlzLCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuLCAxICk7XG5cdH0sXG5cdG9mZjogZnVuY3Rpb24oIHR5cGVzLCBzZWxlY3RvciwgZm4gKSB7XG5cdFx0dmFyIGhhbmRsZU9iaiwgdHlwZTtcblx0XHRpZiAoIHR5cGVzICYmIHR5cGVzLnByZXZlbnREZWZhdWx0ICYmIHR5cGVzLmhhbmRsZU9iaiApIHtcblxuXHRcdFx0Ly8gKCBldmVudCApICBkaXNwYXRjaGVkIGpRdWVyeS5FdmVudFxuXHRcdFx0aGFuZGxlT2JqID0gdHlwZXMuaGFuZGxlT2JqO1xuXHRcdFx0alF1ZXJ5KCB0eXBlcy5kZWxlZ2F0ZVRhcmdldCApLm9mZihcblx0XHRcdFx0aGFuZGxlT2JqLm5hbWVzcGFjZSA/XG5cdFx0XHRcdFx0aGFuZGxlT2JqLm9yaWdUeXBlICsgXCIuXCIgKyBoYW5kbGVPYmoubmFtZXNwYWNlIDpcblx0XHRcdFx0XHRoYW5kbGVPYmoub3JpZ1R5cGUsXG5cdFx0XHRcdGhhbmRsZU9iai5zZWxlY3Rvcixcblx0XHRcdFx0aGFuZGxlT2JqLmhhbmRsZXJcblx0XHRcdCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdFx0aWYgKCB0eXBlb2YgdHlwZXMgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHRcdC8vICggdHlwZXMtb2JqZWN0IFssIHNlbGVjdG9yXSApXG5cdFx0XHRmb3IgKCB0eXBlIGluIHR5cGVzICkge1xuXHRcdFx0XHR0aGlzLm9mZiggdHlwZSwgc2VsZWN0b3IsIHR5cGVzWyB0eXBlIF0gKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0XHRpZiAoIHNlbGVjdG9yID09PSBmYWxzZSB8fCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwiZnVuY3Rpb25cIiApIHtcblxuXHRcdFx0Ly8gKCB0eXBlcyBbLCBmbl0gKVxuXHRcdFx0Zm4gPSBzZWxlY3Rvcjtcblx0XHRcdHNlbGVjdG9yID0gdW5kZWZpbmVkO1xuXHRcdH1cblx0XHRpZiAoIGZuID09PSBmYWxzZSApIHtcblx0XHRcdGZuID0gcmV0dXJuRmFsc2U7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0alF1ZXJ5LmV2ZW50LnJlbW92ZSggdGhpcywgdHlwZXMsIGZuLCBzZWxlY3RvciApO1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG5cbnZhclxuXG5cdC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cblxuXHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2VzbGludC9lc2xpbnQvaXNzdWVzLzMyMjlcblx0cnhodG1sVGFnID0gLzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW2Etel1bXlxcL1xcMD5cXHgyMFxcdFxcclxcblxcZl0qKVtePl0qKVxcLz4vZ2ksXG5cblx0LyogZXNsaW50LWVuYWJsZSAqL1xuXG5cdC8vIFN1cHBvcnQ6IElFIDw9MTAgLSAxMSwgRWRnZSAxMiAtIDEzIG9ubHlcblx0Ly8gSW4gSUUvRWRnZSB1c2luZyByZWdleCBncm91cHMgaGVyZSBjYXVzZXMgc2V2ZXJlIHNsb3dkb3ducy5cblx0Ly8gU2VlIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvMTczNjUxMi9cblx0cm5vSW5uZXJodG1sID0gLzxzY3JpcHR8PHN0eWxlfDxsaW5rL2ksXG5cblx0Ly8gY2hlY2tlZD1cImNoZWNrZWRcIiBvciBjaGVja2VkXG5cdHJjaGVja2VkID0gL2NoZWNrZWRcXHMqKD86W149XXw9XFxzKi5jaGVja2VkLikvaSxcblx0cmNsZWFuU2NyaXB0ID0gL15cXHMqPCEoPzpcXFtDREFUQVxcW3wtLSl8KD86XFxdXFxdfC0tKT5cXHMqJC9nO1xuXG4vLyBQcmVmZXIgYSB0Ym9keSBvdmVyIGl0cyBwYXJlbnQgdGFibGUgZm9yIGNvbnRhaW5pbmcgbmV3IHJvd3NcbmZ1bmN0aW9uIG1hbmlwdWxhdGlvblRhcmdldCggZWxlbSwgY29udGVudCApIHtcblx0aWYgKCBub2RlTmFtZSggZWxlbSwgXCJ0YWJsZVwiICkgJiZcblx0XHRub2RlTmFtZSggY29udGVudC5ub2RlVHlwZSAhPT0gMTEgPyBjb250ZW50IDogY29udGVudC5maXJzdENoaWxkLCBcInRyXCIgKSApIHtcblxuXHRcdHJldHVybiBqUXVlcnkoIGVsZW0gKS5jaGlsZHJlbiggXCJ0Ym9keVwiIClbIDAgXSB8fCBlbGVtO1xuXHR9XG5cblx0cmV0dXJuIGVsZW07XG59XG5cbi8vIFJlcGxhY2UvcmVzdG9yZSB0aGUgdHlwZSBhdHRyaWJ1dGUgb2Ygc2NyaXB0IGVsZW1lbnRzIGZvciBzYWZlIERPTSBtYW5pcHVsYXRpb25cbmZ1bmN0aW9uIGRpc2FibGVTY3JpcHQoIGVsZW0gKSB7XG5cdGVsZW0udHlwZSA9ICggZWxlbS5nZXRBdHRyaWJ1dGUoIFwidHlwZVwiICkgIT09IG51bGwgKSArIFwiL1wiICsgZWxlbS50eXBlO1xuXHRyZXR1cm4gZWxlbTtcbn1cbmZ1bmN0aW9uIHJlc3RvcmVTY3JpcHQoIGVsZW0gKSB7XG5cdGlmICggKCBlbGVtLnR5cGUgfHwgXCJcIiApLnNsaWNlKCAwLCA1ICkgPT09IFwidHJ1ZS9cIiApIHtcblx0XHRlbGVtLnR5cGUgPSBlbGVtLnR5cGUuc2xpY2UoIDUgKTtcblx0fSBlbHNlIHtcblx0XHRlbGVtLnJlbW92ZUF0dHJpYnV0ZSggXCJ0eXBlXCIgKTtcblx0fVxuXG5cdHJldHVybiBlbGVtO1xufVxuXG5mdW5jdGlvbiBjbG9uZUNvcHlFdmVudCggc3JjLCBkZXN0ICkge1xuXHR2YXIgaSwgbCwgdHlwZSwgcGRhdGFPbGQsIHBkYXRhQ3VyLCB1ZGF0YU9sZCwgdWRhdGFDdXIsIGV2ZW50cztcblxuXHRpZiAoIGRlc3Qubm9kZVR5cGUgIT09IDEgKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gMS4gQ29weSBwcml2YXRlIGRhdGE6IGV2ZW50cywgaGFuZGxlcnMsIGV0Yy5cblx0aWYgKCBkYXRhUHJpdi5oYXNEYXRhKCBzcmMgKSApIHtcblx0XHRwZGF0YU9sZCA9IGRhdGFQcml2LmFjY2Vzcyggc3JjICk7XG5cdFx0cGRhdGFDdXIgPSBkYXRhUHJpdi5zZXQoIGRlc3QsIHBkYXRhT2xkICk7XG5cdFx0ZXZlbnRzID0gcGRhdGFPbGQuZXZlbnRzO1xuXG5cdFx0aWYgKCBldmVudHMgKSB7XG5cdFx0XHRkZWxldGUgcGRhdGFDdXIuaGFuZGxlO1xuXHRcdFx0cGRhdGFDdXIuZXZlbnRzID0ge307XG5cblx0XHRcdGZvciAoIHR5cGUgaW4gZXZlbnRzICkge1xuXHRcdFx0XHRmb3IgKCBpID0gMCwgbCA9IGV2ZW50c1sgdHlwZSBdLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQuYWRkKCBkZXN0LCB0eXBlLCBldmVudHNbIHR5cGUgXVsgaSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyAyLiBDb3B5IHVzZXIgZGF0YVxuXHRpZiAoIGRhdGFVc2VyLmhhc0RhdGEoIHNyYyApICkge1xuXHRcdHVkYXRhT2xkID0gZGF0YVVzZXIuYWNjZXNzKCBzcmMgKTtcblx0XHR1ZGF0YUN1ciA9IGpRdWVyeS5leHRlbmQoIHt9LCB1ZGF0YU9sZCApO1xuXG5cdFx0ZGF0YVVzZXIuc2V0KCBkZXN0LCB1ZGF0YUN1ciApO1xuXHR9XG59XG5cbi8vIEZpeCBJRSBidWdzLCBzZWUgc3VwcG9ydCB0ZXN0c1xuZnVuY3Rpb24gZml4SW5wdXQoIHNyYywgZGVzdCApIHtcblx0dmFyIG5vZGVOYW1lID0gZGVzdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXG5cdC8vIEZhaWxzIHRvIHBlcnNpc3QgdGhlIGNoZWNrZWQgc3RhdGUgb2YgYSBjbG9uZWQgY2hlY2tib3ggb3IgcmFkaW8gYnV0dG9uLlxuXHRpZiAoIG5vZGVOYW1lID09PSBcImlucHV0XCIgJiYgcmNoZWNrYWJsZVR5cGUudGVzdCggc3JjLnR5cGUgKSApIHtcblx0XHRkZXN0LmNoZWNrZWQgPSBzcmMuY2hlY2tlZDtcblxuXHQvLyBGYWlscyB0byByZXR1cm4gdGhlIHNlbGVjdGVkIG9wdGlvbiB0byB0aGUgZGVmYXVsdCBzZWxlY3RlZCBzdGF0ZSB3aGVuIGNsb25pbmcgb3B0aW9uc1xuXHR9IGVsc2UgaWYgKCBub2RlTmFtZSA9PT0gXCJpbnB1dFwiIHx8IG5vZGVOYW1lID09PSBcInRleHRhcmVhXCIgKSB7XG5cdFx0ZGVzdC5kZWZhdWx0VmFsdWUgPSBzcmMuZGVmYXVsdFZhbHVlO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGRvbU1hbmlwKCBjb2xsZWN0aW9uLCBhcmdzLCBjYWxsYmFjaywgaWdub3JlZCApIHtcblxuXHQvLyBGbGF0dGVuIGFueSBuZXN0ZWQgYXJyYXlzXG5cdGFyZ3MgPSBjb25jYXQuYXBwbHkoIFtdLCBhcmdzICk7XG5cblx0dmFyIGZyYWdtZW50LCBmaXJzdCwgc2NyaXB0cywgaGFzU2NyaXB0cywgbm9kZSwgZG9jLFxuXHRcdGkgPSAwLFxuXHRcdGwgPSBjb2xsZWN0aW9uLmxlbmd0aCxcblx0XHRpTm9DbG9uZSA9IGwgLSAxLFxuXHRcdHZhbHVlID0gYXJnc1sgMCBdLFxuXHRcdHZhbHVlSXNGdW5jdGlvbiA9IGlzRnVuY3Rpb24oIHZhbHVlICk7XG5cblx0Ly8gV2UgY2FuJ3QgY2xvbmVOb2RlIGZyYWdtZW50cyB0aGF0IGNvbnRhaW4gY2hlY2tlZCwgaW4gV2ViS2l0XG5cdGlmICggdmFsdWVJc0Z1bmN0aW9uIHx8XG5cdFx0XHQoIGwgPiAxICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJlxuXHRcdFx0XHQhc3VwcG9ydC5jaGVja0Nsb25lICYmIHJjaGVja2VkLnRlc3QoIHZhbHVlICkgKSApIHtcblx0XHRyZXR1cm4gY29sbGVjdGlvbi5lYWNoKCBmdW5jdGlvbiggaW5kZXggKSB7XG5cdFx0XHR2YXIgc2VsZiA9IGNvbGxlY3Rpb24uZXEoIGluZGV4ICk7XG5cdFx0XHRpZiAoIHZhbHVlSXNGdW5jdGlvbiApIHtcblx0XHRcdFx0YXJnc1sgMCBdID0gdmFsdWUuY2FsbCggdGhpcywgaW5kZXgsIHNlbGYuaHRtbCgpICk7XG5cdFx0XHR9XG5cdFx0XHRkb21NYW5pcCggc2VsZiwgYXJncywgY2FsbGJhY2ssIGlnbm9yZWQgKTtcblx0XHR9ICk7XG5cdH1cblxuXHRpZiAoIGwgKSB7XG5cdFx0ZnJhZ21lbnQgPSBidWlsZEZyYWdtZW50KCBhcmdzLCBjb2xsZWN0aW9uWyAwIF0ub3duZXJEb2N1bWVudCwgZmFsc2UsIGNvbGxlY3Rpb24sIGlnbm9yZWQgKTtcblx0XHRmaXJzdCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XG5cblx0XHRpZiAoIGZyYWdtZW50LmNoaWxkTm9kZXMubGVuZ3RoID09PSAxICkge1xuXHRcdFx0ZnJhZ21lbnQgPSBmaXJzdDtcblx0XHR9XG5cblx0XHQvLyBSZXF1aXJlIGVpdGhlciBuZXcgY29udGVudCBvciBhbiBpbnRlcmVzdCBpbiBpZ25vcmVkIGVsZW1lbnRzIHRvIGludm9rZSB0aGUgY2FsbGJhY2tcblx0XHRpZiAoIGZpcnN0IHx8IGlnbm9yZWQgKSB7XG5cdFx0XHRzY3JpcHRzID0galF1ZXJ5Lm1hcCggZ2V0QWxsKCBmcmFnbWVudCwgXCJzY3JpcHRcIiApLCBkaXNhYmxlU2NyaXB0ICk7XG5cdFx0XHRoYXNTY3JpcHRzID0gc2NyaXB0cy5sZW5ndGg7XG5cblx0XHRcdC8vIFVzZSB0aGUgb3JpZ2luYWwgZnJhZ21lbnQgZm9yIHRoZSBsYXN0IGl0ZW1cblx0XHRcdC8vIGluc3RlYWQgb2YgdGhlIGZpcnN0IGJlY2F1c2UgaXQgY2FuIGVuZCB1cFxuXHRcdFx0Ly8gYmVpbmcgZW1wdGllZCBpbmNvcnJlY3RseSBpbiBjZXJ0YWluIHNpdHVhdGlvbnMgKCM4MDcwKS5cblx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0bm9kZSA9IGZyYWdtZW50O1xuXG5cdFx0XHRcdGlmICggaSAhPT0gaU5vQ2xvbmUgKSB7XG5cdFx0XHRcdFx0bm9kZSA9IGpRdWVyeS5jbG9uZSggbm9kZSwgdHJ1ZSwgdHJ1ZSApO1xuXG5cdFx0XHRcdFx0Ly8gS2VlcCByZWZlcmVuY2VzIHRvIGNsb25lZCBzY3JpcHRzIGZvciBsYXRlciByZXN0b3JhdGlvblxuXHRcdFx0XHRcdGlmICggaGFzU2NyaXB0cyApIHtcblxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMCBvbmx5LCBQaGFudG9tSlMgMSBvbmx5XG5cdFx0XHRcdFx0XHQvLyBwdXNoLmFwcGx5KF8sIGFycmF5bGlrZSkgdGhyb3dzIG9uIGFuY2llbnQgV2ViS2l0XG5cdFx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIHNjcmlwdHMsIGdldEFsbCggbm9kZSwgXCJzY3JpcHRcIiApICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y2FsbGJhY2suY2FsbCggY29sbGVjdGlvblsgaSBdLCBub2RlLCBpICk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaGFzU2NyaXB0cyApIHtcblx0XHRcdFx0ZG9jID0gc2NyaXB0c1sgc2NyaXB0cy5sZW5ndGggLSAxIF0ub3duZXJEb2N1bWVudDtcblxuXHRcdFx0XHQvLyBSZWVuYWJsZSBzY3JpcHRzXG5cdFx0XHRcdGpRdWVyeS5tYXAoIHNjcmlwdHMsIHJlc3RvcmVTY3JpcHQgKTtcblxuXHRcdFx0XHQvLyBFdmFsdWF0ZSBleGVjdXRhYmxlIHNjcmlwdHMgb24gZmlyc3QgZG9jdW1lbnQgaW5zZXJ0aW9uXG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgaGFzU2NyaXB0czsgaSsrICkge1xuXHRcdFx0XHRcdG5vZGUgPSBzY3JpcHRzWyBpIF07XG5cdFx0XHRcdFx0aWYgKCByc2NyaXB0VHlwZS50ZXN0KCBub2RlLnR5cGUgfHwgXCJcIiApICYmXG5cdFx0XHRcdFx0XHQhZGF0YVByaXYuYWNjZXNzKCBub2RlLCBcImdsb2JhbEV2YWxcIiApICYmXG5cdFx0XHRcdFx0XHRqUXVlcnkuY29udGFpbnMoIGRvYywgbm9kZSApICkge1xuXG5cdFx0XHRcdFx0XHRpZiAoIG5vZGUuc3JjICYmICggbm9kZS50eXBlIHx8IFwiXCIgKS50b0xvd2VyQ2FzZSgpICAhPT0gXCJtb2R1bGVcIiApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBPcHRpb25hbCBBSkFYIGRlcGVuZGVuY3ksIGJ1dCB3b24ndCBydW4gc2NyaXB0cyBpZiBub3QgcHJlc2VudFxuXHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5fZXZhbFVybCApIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuX2V2YWxVcmwoIG5vZGUuc3JjICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdERPTUV2YWwoIG5vZGUudGV4dENvbnRlbnQucmVwbGFjZSggcmNsZWFuU2NyaXB0LCBcIlwiICksIGRvYywgbm9kZSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBjb2xsZWN0aW9uO1xufVxuXG5mdW5jdGlvbiByZW1vdmUoIGVsZW0sIHNlbGVjdG9yLCBrZWVwRGF0YSApIHtcblx0dmFyIG5vZGUsXG5cdFx0bm9kZXMgPSBzZWxlY3RvciA/IGpRdWVyeS5maWx0ZXIoIHNlbGVjdG9yLCBlbGVtICkgOiBlbGVtLFxuXHRcdGkgPSAwO1xuXG5cdGZvciAoIDsgKCBub2RlID0gbm9kZXNbIGkgXSApICE9IG51bGw7IGkrKyApIHtcblx0XHRpZiAoICFrZWVwRGF0YSAmJiBub2RlLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBub2RlICkgKTtcblx0XHR9XG5cblx0XHRpZiAoIG5vZGUucGFyZW50Tm9kZSApIHtcblx0XHRcdGlmICgga2VlcERhdGEgJiYgalF1ZXJ5LmNvbnRhaW5zKCBub2RlLm93bmVyRG9jdW1lbnQsIG5vZGUgKSApIHtcblx0XHRcdFx0c2V0R2xvYmFsRXZhbCggZ2V0QWxsKCBub2RlLCBcInNjcmlwdFwiICkgKTtcblx0XHRcdH1cblx0XHRcdG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggbm9kZSApO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBlbGVtO1xufVxuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cdGh0bWxQcmVmaWx0ZXI6IGZ1bmN0aW9uKCBodG1sICkge1xuXHRcdHJldHVybiBodG1sLnJlcGxhY2UoIHJ4aHRtbFRhZywgXCI8JDE+PC8kMj5cIiApO1xuXHR9LFxuXG5cdGNsb25lOiBmdW5jdGlvbiggZWxlbSwgZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKSB7XG5cdFx0dmFyIGksIGwsIHNyY0VsZW1lbnRzLCBkZXN0RWxlbWVudHMsXG5cdFx0XHRjbG9uZSA9IGVsZW0uY2xvbmVOb2RlKCB0cnVlICksXG5cdFx0XHRpblBhZ2UgPSBqUXVlcnkuY29udGFpbnMoIGVsZW0ub3duZXJEb2N1bWVudCwgZWxlbSApO1xuXG5cdFx0Ly8gRml4IElFIGNsb25pbmcgaXNzdWVzXG5cdFx0aWYgKCAhc3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCAmJiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgZWxlbS5ub2RlVHlwZSA9PT0gMTEgKSAmJlxuXHRcdFx0XHQhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7XG5cblx0XHRcdC8vIFdlIGVzY2hldyBTaXp6bGUgaGVyZSBmb3IgcGVyZm9ybWFuY2UgcmVhc29uczogaHR0cHM6Ly9qc3BlcmYuY29tL2dldGFsbC12cy1zaXp6bGUvMlxuXHRcdFx0ZGVzdEVsZW1lbnRzID0gZ2V0QWxsKCBjbG9uZSApO1xuXHRcdFx0c3JjRWxlbWVudHMgPSBnZXRBbGwoIGVsZW0gKTtcblxuXHRcdFx0Zm9yICggaSA9IDAsIGwgPSBzcmNFbGVtZW50cy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XG5cdFx0XHRcdGZpeElucHV0KCBzcmNFbGVtZW50c1sgaSBdLCBkZXN0RWxlbWVudHNbIGkgXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIENvcHkgdGhlIGV2ZW50cyBmcm9tIHRoZSBvcmlnaW5hbCB0byB0aGUgY2xvbmVcblx0XHRpZiAoIGRhdGFBbmRFdmVudHMgKSB7XG5cdFx0XHRpZiAoIGRlZXBEYXRhQW5kRXZlbnRzICkge1xuXHRcdFx0XHRzcmNFbGVtZW50cyA9IHNyY0VsZW1lbnRzIHx8IGdldEFsbCggZWxlbSApO1xuXHRcdFx0XHRkZXN0RWxlbWVudHMgPSBkZXN0RWxlbWVudHMgfHwgZ2V0QWxsKCBjbG9uZSApO1xuXG5cdFx0XHRcdGZvciAoIGkgPSAwLCBsID0gc3JjRWxlbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrICkge1xuXHRcdFx0XHRcdGNsb25lQ29weUV2ZW50KCBzcmNFbGVtZW50c1sgaSBdLCBkZXN0RWxlbWVudHNbIGkgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjbG9uZUNvcHlFdmVudCggZWxlbSwgY2xvbmUgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBQcmVzZXJ2ZSBzY3JpcHQgZXZhbHVhdGlvbiBoaXN0b3J5XG5cdFx0ZGVzdEVsZW1lbnRzID0gZ2V0QWxsKCBjbG9uZSwgXCJzY3JpcHRcIiApO1xuXHRcdGlmICggZGVzdEVsZW1lbnRzLmxlbmd0aCA+IDAgKSB7XG5cdFx0XHRzZXRHbG9iYWxFdmFsKCBkZXN0RWxlbWVudHMsICFpblBhZ2UgJiYgZ2V0QWxsKCBlbGVtLCBcInNjcmlwdFwiICkgKTtcblx0XHR9XG5cblx0XHQvLyBSZXR1cm4gdGhlIGNsb25lZCBzZXRcblx0XHRyZXR1cm4gY2xvbmU7XG5cdH0sXG5cblx0Y2xlYW5EYXRhOiBmdW5jdGlvbiggZWxlbXMgKSB7XG5cdFx0dmFyIGRhdGEsIGVsZW0sIHR5cGUsXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWwsXG5cdFx0XHRpID0gMDtcblxuXHRcdGZvciAoIDsgKCBlbGVtID0gZWxlbXNbIGkgXSApICE9PSB1bmRlZmluZWQ7IGkrKyApIHtcblx0XHRcdGlmICggYWNjZXB0RGF0YSggZWxlbSApICkge1xuXHRcdFx0XHRpZiAoICggZGF0YSA9IGVsZW1bIGRhdGFQcml2LmV4cGFuZG8gXSApICkge1xuXHRcdFx0XHRcdGlmICggZGF0YS5ldmVudHMgKSB7XG5cdFx0XHRcdFx0XHRmb3IgKCB0eXBlIGluIGRhdGEuZXZlbnRzICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoIHNwZWNpYWxbIHR5cGUgXSApIHtcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuZXZlbnQucmVtb3ZlKCBlbGVtLCB0eXBlICk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gVGhpcyBpcyBhIHNob3J0Y3V0IHRvIGF2b2lkIGpRdWVyeS5ldmVudC5yZW1vdmUncyBvdmVyaGVhZFxuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5yZW1vdmVFdmVudCggZWxlbSwgdHlwZSwgZGF0YS5oYW5kbGUgKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZSA8PTM1IC0gNDUrXG5cdFx0XHRcdFx0Ly8gQXNzaWduIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIHVzaW5nIGRlbGV0ZSwgc2VlIERhdGEjcmVtb3ZlXG5cdFx0XHRcdFx0ZWxlbVsgZGF0YVByaXYuZXhwYW5kbyBdID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICggZWxlbVsgZGF0YVVzZXIuZXhwYW5kbyBdICkge1xuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NStcblx0XHRcdFx0XHQvLyBBc3NpZ24gdW5kZWZpbmVkIGluc3RlYWQgb2YgdXNpbmcgZGVsZXRlLCBzZWUgRGF0YSNyZW1vdmVcblx0XHRcdFx0XHRlbGVtWyBkYXRhVXNlci5leHBhbmRvIF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRkZXRhY2g6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHRyZXR1cm4gcmVtb3ZlKCB0aGlzLCBzZWxlY3RvciwgdHJ1ZSApO1xuXHR9LFxuXG5cdHJlbW92ZTogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xuXHRcdHJldHVybiByZW1vdmUoIHRoaXMsIHNlbGVjdG9yICk7XG5cdH0sXG5cblx0dGV4dDogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID9cblx0XHRcdFx0alF1ZXJ5LnRleHQoIHRoaXMgKSA6XG5cdFx0XHRcdHRoaXMuZW1wdHkoKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0XHRcdHRoaXMudGV4dENvbnRlbnQgPSB2YWx1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHR9LCBudWxsLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCApO1xuXHR9LFxuXG5cdGFwcGVuZDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XG5cdFx0XHRcdHZhciB0YXJnZXQgPSBtYW5pcHVsYXRpb25UYXJnZXQoIHRoaXMsIGVsZW0gKTtcblx0XHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKCBlbGVtICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdHByZXBlbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xuXHRcdFx0XHR2YXIgdGFyZ2V0ID0gbWFuaXB1bGF0aW9uVGFyZ2V0KCB0aGlzLCBlbGVtICk7XG5cdFx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoIGVsZW0sIHRhcmdldC5maXJzdENoaWxkICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGJlZm9yZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0aWYgKCB0aGlzLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIGVsZW0sIHRoaXMgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0YWZ0ZXI6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdGlmICggdGhpcy5wYXJlbnROb2RlICkge1xuXHRcdFx0XHR0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0aGlzLm5leHRTaWJsaW5nICk7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGVtcHR5OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgZWxlbSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0Zm9yICggOyAoIGVsZW0gPSB0aGlzWyBpIF0gKSAhPSBudWxsOyBpKysgKSB7XG5cdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cblx0XHRcdFx0Ly8gUHJldmVudCBtZW1vcnkgbGVha3Ncblx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCBlbGVtLCBmYWxzZSApICk7XG5cblx0XHRcdFx0Ly8gUmVtb3ZlIGFueSByZW1haW5pbmcgbm9kZXNcblx0XHRcdFx0ZWxlbS50ZXh0Q29udGVudCA9IFwiXCI7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0Y2xvbmU6IGZ1bmN0aW9uKCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApIHtcblx0XHRkYXRhQW5kRXZlbnRzID0gZGF0YUFuZEV2ZW50cyA9PSBudWxsID8gZmFsc2UgOiBkYXRhQW5kRXZlbnRzO1xuXHRcdGRlZXBEYXRhQW5kRXZlbnRzID0gZGVlcERhdGFBbmRFdmVudHMgPT0gbnVsbCA/IGRhdGFBbmRFdmVudHMgOiBkZWVwRGF0YUFuZEV2ZW50cztcblxuXHRcdHJldHVybiB0aGlzLm1hcCggZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4galF1ZXJ5LmNsb25lKCB0aGlzLCBkYXRhQW5kRXZlbnRzLCBkZWVwRGF0YUFuZEV2ZW50cyApO1xuXHRcdH0gKTtcblx0fSxcblxuXHRodG1sOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdFx0dmFyIGVsZW0gPSB0aGlzWyAwIF0gfHwge30sXG5cdFx0XHRcdGkgPSAwLFxuXHRcdFx0XHRsID0gdGhpcy5sZW5ndGg7XG5cblx0XHRcdGlmICggdmFsdWUgPT09IHVuZGVmaW5lZCAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbS5pbm5lckhUTUw7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNlZSBpZiB3ZSBjYW4gdGFrZSBhIHNob3J0Y3V0IGFuZCBqdXN0IHVzZSBpbm5lckhUTUxcblx0XHRcdGlmICggdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmICFybm9Jbm5lcmh0bWwudGVzdCggdmFsdWUgKSAmJlxuXHRcdFx0XHQhd3JhcE1hcFsgKCBydGFnTmFtZS5leGVjKCB2YWx1ZSApIHx8IFsgXCJcIiwgXCJcIiBdIClbIDEgXS50b0xvd2VyQ2FzZSgpIF0gKSB7XG5cblx0XHRcdFx0dmFsdWUgPSBqUXVlcnkuaHRtbFByZWZpbHRlciggdmFsdWUgKTtcblxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGZvciAoIDsgaSA8IGw7IGkrKyApIHtcblx0XHRcdFx0XHRcdGVsZW0gPSB0aGlzWyBpIF0gfHwge307XG5cblx0XHRcdFx0XHRcdC8vIFJlbW92ZSBlbGVtZW50IG5vZGVzIGFuZCBwcmV2ZW50IG1lbW9yeSBsZWFrc1xuXHRcdFx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0XHRcdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIGVsZW0sIGZhbHNlICkgKTtcblx0XHRcdFx0XHRcdFx0ZWxlbS5pbm5lckhUTUwgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRlbGVtID0gMDtcblxuXHRcdFx0XHQvLyBJZiB1c2luZyBpbm5lckhUTUwgdGhyb3dzIGFuIGV4Y2VwdGlvbiwgdXNlIHRoZSBmYWxsYmFjayBtZXRob2Rcblx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRcdHRoaXMuZW1wdHkoKS5hcHBlbmQoIHZhbHVlICk7XG5cdFx0XHR9XG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggKTtcblx0fSxcblxuXHRyZXBsYWNlV2l0aDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGlnbm9yZWQgPSBbXTtcblxuXHRcdC8vIE1ha2UgdGhlIGNoYW5nZXMsIHJlcGxhY2luZyBlYWNoIG5vbi1pZ25vcmVkIGNvbnRleHQgZWxlbWVudCB3aXRoIHRoZSBuZXcgY29udGVudFxuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcblx0XHRcdHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7XG5cblx0XHRcdGlmICggalF1ZXJ5LmluQXJyYXkoIHRoaXMsIGlnbm9yZWQgKSA8IDAgKSB7XG5cdFx0XHRcdGpRdWVyeS5jbGVhbkRhdGEoIGdldEFsbCggdGhpcyApICk7XG5cdFx0XHRcdGlmICggcGFyZW50ICkge1xuXHRcdFx0XHRcdHBhcmVudC5yZXBsYWNlQ2hpbGQoIGVsZW0sIHRoaXMgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0Ly8gRm9yY2UgY2FsbGJhY2sgaW52b2NhdGlvblxuXHRcdH0sIGlnbm9yZWQgKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCgge1xuXHRhcHBlbmRUbzogXCJhcHBlbmRcIixcblx0cHJlcGVuZFRvOiBcInByZXBlbmRcIixcblx0aW5zZXJ0QmVmb3JlOiBcImJlZm9yZVwiLFxuXHRpbnNlcnRBZnRlcjogXCJhZnRlclwiLFxuXHRyZXBsYWNlQWxsOiBcInJlcGxhY2VXaXRoXCJcbn0sIGZ1bmN0aW9uKCBuYW1lLCBvcmlnaW5hbCApIHtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0dmFyIGVsZW1zLFxuXHRcdFx0cmV0ID0gW10sXG5cdFx0XHRpbnNlcnQgPSBqUXVlcnkoIHNlbGVjdG9yICksXG5cdFx0XHRsYXN0ID0gaW5zZXJ0Lmxlbmd0aCAtIDEsXG5cdFx0XHRpID0gMDtcblxuXHRcdGZvciAoIDsgaSA8PSBsYXN0OyBpKysgKSB7XG5cdFx0XHRlbGVtcyA9IGkgPT09IGxhc3QgPyB0aGlzIDogdGhpcy5jbG9uZSggdHJ1ZSApO1xuXHRcdFx0alF1ZXJ5KCBpbnNlcnRbIGkgXSApWyBvcmlnaW5hbCBdKCBlbGVtcyApO1xuXG5cdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcblx0XHRcdC8vIC5nZXQoKSBiZWNhdXNlIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcblx0XHRcdHB1c2guYXBwbHkoIHJldCwgZWxlbXMuZ2V0KCkgKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHJldCApO1xuXHR9O1xufSApO1xudmFyIHJudW1ub25weCA9IG5ldyBSZWdFeHAoIFwiXihcIiArIHBudW0gKyBcIikoPyFweClbYS16JV0rJFwiLCBcImlcIiApO1xuXG52YXIgZ2V0U3R5bGVzID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHksIEZpcmVmb3ggPD0zMCAoIzE1MDk4LCAjMTQxNTApXG5cdFx0Ly8gSUUgdGhyb3dzIG9uIGVsZW1lbnRzIGNyZWF0ZWQgaW4gcG9wdXBzXG5cdFx0Ly8gRkYgbWVhbndoaWxlIHRocm93cyBvbiBmcmFtZSBlbGVtZW50cyB0aHJvdWdoIFwiZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZVwiXG5cdFx0dmFyIHZpZXcgPSBlbGVtLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG5cblx0XHRpZiAoICF2aWV3IHx8ICF2aWV3Lm9wZW5lciApIHtcblx0XHRcdHZpZXcgPSB3aW5kb3c7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSggZWxlbSApO1xuXHR9O1xuXG52YXIgcmJveFN0eWxlID0gbmV3IFJlZ0V4cCggY3NzRXhwYW5kLmpvaW4oIFwifFwiICksIFwiaVwiICk7XG5cblxuXG4oIGZ1bmN0aW9uKCkge1xuXG5cdC8vIEV4ZWN1dGluZyBib3RoIHBpeGVsUG9zaXRpb24gJiBib3hTaXppbmdSZWxpYWJsZSB0ZXN0cyByZXF1aXJlIG9ubHkgb25lIGxheW91dFxuXHQvLyBzbyB0aGV5J3JlIGV4ZWN1dGVkIGF0IHRoZSBzYW1lIHRpbWUgdG8gc2F2ZSB0aGUgc2Vjb25kIGNvbXB1dGF0aW9uLlxuXHRmdW5jdGlvbiBjb21wdXRlU3R5bGVUZXN0cygpIHtcblxuXHRcdC8vIFRoaXMgaXMgYSBzaW5nbGV0b24sIHdlIG5lZWQgdG8gZXhlY3V0ZSBpdCBvbmx5IG9uY2Vcblx0XHRpZiAoICFkaXYgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29udGFpbmVyLnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTExMTExcHg7d2lkdGg6NjBweDtcIiArXG5cdFx0XHRcIm1hcmdpbi10b3A6MXB4O3BhZGRpbmc6MDtib3JkZXI6MFwiO1xuXHRcdGRpdi5zdHlsZS5jc3NUZXh0ID1cblx0XHRcdFwicG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztib3gtc2l6aW5nOmJvcmRlci1ib3g7b3ZlcmZsb3c6c2Nyb2xsO1wiICtcblx0XHRcdFwibWFyZ2luOmF1dG87Ym9yZGVyOjFweDtwYWRkaW5nOjFweDtcIiArXG5cdFx0XHRcIndpZHRoOjYwJTt0b3A6MSVcIjtcblx0XHRkb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoIGNvbnRhaW5lciApLmFwcGVuZENoaWxkKCBkaXYgKTtcblxuXHRcdHZhciBkaXZTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCBkaXYgKTtcblx0XHRwaXhlbFBvc2l0aW9uVmFsID0gZGl2U3R5bGUudG9wICE9PSBcIjElXCI7XG5cblx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAtIDQuMyBvbmx5LCBGaXJlZm94IDw9MyAtIDQ0XG5cdFx0cmVsaWFibGVNYXJnaW5MZWZ0VmFsID0gcm91bmRQaXhlbE1lYXN1cmVzKCBkaXZTdHlsZS5tYXJnaW5MZWZ0ICkgPT09IDEyO1xuXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgLSA0LjMgb25seSwgU2FmYXJpIDw9OS4xIC0gMTAuMSwgaU9TIDw9Ny4wIC0gOS4zXG5cdFx0Ly8gU29tZSBzdHlsZXMgY29tZSBiYWNrIHdpdGggcGVyY2VudGFnZSB2YWx1ZXMsIGV2ZW4gdGhvdWdoIHRoZXkgc2hvdWxkbid0XG5cdFx0ZGl2LnN0eWxlLnJpZ2h0ID0gXCI2MCVcIjtcblx0XHRwaXhlbEJveFN0eWxlc1ZhbCA9IHJvdW5kUGl4ZWxNZWFzdXJlcyggZGl2U3R5bGUucmlnaHQgKSA9PT0gMzY7XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA5IC0gMTEgb25seVxuXHRcdC8vIERldGVjdCBtaXNyZXBvcnRpbmcgb2YgY29udGVudCBkaW1lbnNpb25zIGZvciBib3gtc2l6aW5nOmJvcmRlci1ib3ggZWxlbWVudHNcblx0XHRib3hTaXppbmdSZWxpYWJsZVZhbCA9IHJvdW5kUGl4ZWxNZWFzdXJlcyggZGl2U3R5bGUud2lkdGggKSA9PT0gMzY7XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA5IG9ubHlcblx0XHQvLyBEZXRlY3Qgb3ZlcmZsb3c6c2Nyb2xsIHNjcmV3aW5lc3MgKGdoLTM2OTkpXG5cdFx0ZGl2LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuXHRcdHNjcm9sbGJveFNpemVWYWwgPSBkaXYub2Zmc2V0V2lkdGggPT09IDM2IHx8IFwiYWJzb2x1dGVcIjtcblxuXHRcdGRvY3VtZW50RWxlbWVudC5yZW1vdmVDaGlsZCggY29udGFpbmVyICk7XG5cblx0XHQvLyBOdWxsaWZ5IHRoZSBkaXYgc28gaXQgd291bGRuJ3QgYmUgc3RvcmVkIGluIHRoZSBtZW1vcnkgYW5kXG5cdFx0Ly8gaXQgd2lsbCBhbHNvIGJlIGEgc2lnbiB0aGF0IGNoZWNrcyBhbHJlYWR5IHBlcmZvcm1lZFxuXHRcdGRpdiA9IG51bGw7XG5cdH1cblxuXHRmdW5jdGlvbiByb3VuZFBpeGVsTWVhc3VyZXMoIG1lYXN1cmUgKSB7XG5cdFx0cmV0dXJuIE1hdGgucm91bmQoIHBhcnNlRmxvYXQoIG1lYXN1cmUgKSApO1xuXHR9XG5cblx0dmFyIHBpeGVsUG9zaXRpb25WYWwsIGJveFNpemluZ1JlbGlhYmxlVmFsLCBzY3JvbGxib3hTaXplVmFsLCBwaXhlbEJveFN0eWxlc1ZhbCxcblx0XHRyZWxpYWJsZU1hcmdpbkxlZnRWYWwsXG5cdFx0Y29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApLFxuXHRcdGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKTtcblxuXHQvLyBGaW5pc2ggZWFybHkgaW4gbGltaXRlZCAobm9uLWJyb3dzZXIpIGVudmlyb25tZW50c1xuXHRpZiAoICFkaXYuc3R5bGUgKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seVxuXHQvLyBTdHlsZSBvZiBjbG9uZWQgZWxlbWVudCBhZmZlY3RzIHNvdXJjZSBlbGVtZW50IGNsb25lZCAoIzg5MDgpXG5cdGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9IFwiY29udGVudC1ib3hcIjtcblx0ZGl2LmNsb25lTm9kZSggdHJ1ZSApLnN0eWxlLmJhY2tncm91bmRDbGlwID0gXCJcIjtcblx0c3VwcG9ydC5jbGVhckNsb25lU3R5bGUgPSBkaXYuc3R5bGUuYmFja2dyb3VuZENsaXAgPT09IFwiY29udGVudC1ib3hcIjtcblxuXHRqUXVlcnkuZXh0ZW5kKCBzdXBwb3J0LCB7XG5cdFx0Ym94U2l6aW5nUmVsaWFibGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcblx0XHRcdHJldHVybiBib3hTaXppbmdSZWxpYWJsZVZhbDtcblx0XHR9LFxuXHRcdHBpeGVsQm94U3R5bGVzOiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gcGl4ZWxCb3hTdHlsZXNWYWw7XG5cdFx0fSxcblx0XHRwaXhlbFBvc2l0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XG5cdFx0XHRyZXR1cm4gcGl4ZWxQb3NpdGlvblZhbDtcblx0XHR9LFxuXHRcdHJlbGlhYmxlTWFyZ2luTGVmdDogZnVuY3Rpb24oKSB7XG5cdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xuXHRcdFx0cmV0dXJuIHJlbGlhYmxlTWFyZ2luTGVmdFZhbDtcblx0XHR9LFxuXHRcdHNjcm9sbGJveFNpemU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcblx0XHRcdHJldHVybiBzY3JvbGxib3hTaXplVmFsO1xuXHRcdH1cblx0fSApO1xufSApKCk7XG5cblxuZnVuY3Rpb24gY3VyQ1NTKCBlbGVtLCBuYW1lLCBjb21wdXRlZCApIHtcblx0dmFyIHdpZHRoLCBtaW5XaWR0aCwgbWF4V2lkdGgsIHJldCxcblxuXHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggNTErXG5cdFx0Ly8gUmV0cmlldmluZyBzdHlsZSBiZWZvcmUgY29tcHV0ZWQgc29tZWhvd1xuXHRcdC8vIGZpeGVzIGFuIGlzc3VlIHdpdGggZ2V0dGluZyB3cm9uZyB2YWx1ZXNcblx0XHQvLyBvbiBkZXRhY2hlZCBlbGVtZW50c1xuXHRcdHN0eWxlID0gZWxlbS5zdHlsZTtcblxuXHRjb21wdXRlZCA9IGNvbXB1dGVkIHx8IGdldFN0eWxlcyggZWxlbSApO1xuXG5cdC8vIGdldFByb3BlcnR5VmFsdWUgaXMgbmVlZGVkIGZvcjpcblx0Ly8gICAuY3NzKCdmaWx0ZXInKSAoSUUgOSBvbmx5LCAjMTI1MzcpXG5cdC8vICAgLmNzcygnLS1jdXN0b21Qcm9wZXJ0eSkgKCMzMTQ0KVxuXHRpZiAoIGNvbXB1dGVkICkge1xuXHRcdHJldCA9IGNvbXB1dGVkLmdldFByb3BlcnR5VmFsdWUoIG5hbWUgKSB8fCBjb21wdXRlZFsgbmFtZSBdO1xuXG5cdFx0aWYgKCByZXQgPT09IFwiXCIgJiYgIWpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICkgKSB7XG5cdFx0XHRyZXQgPSBqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUgKTtcblx0XHR9XG5cblx0XHQvLyBBIHRyaWJ1dGUgdG8gdGhlIFwiYXdlc29tZSBoYWNrIGJ5IERlYW4gRWR3YXJkc1wiXG5cdFx0Ly8gQW5kcm9pZCBCcm93c2VyIHJldHVybnMgcGVyY2VudGFnZSBmb3Igc29tZSB2YWx1ZXMsXG5cdFx0Ly8gYnV0IHdpZHRoIHNlZW1zIHRvIGJlIHJlbGlhYmx5IHBpeGVscy5cblx0XHQvLyBUaGlzIGlzIGFnYWluc3QgdGhlIENTU09NIGRyYWZ0IHNwZWM6XG5cdFx0Ly8gaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzc29tLyNyZXNvbHZlZC12YWx1ZXNcblx0XHRpZiAoICFzdXBwb3J0LnBpeGVsQm94U3R5bGVzKCkgJiYgcm51bW5vbnB4LnRlc3QoIHJldCApICYmIHJib3hTdHlsZS50ZXN0KCBuYW1lICkgKSB7XG5cblx0XHRcdC8vIFJlbWVtYmVyIHRoZSBvcmlnaW5hbCB2YWx1ZXNcblx0XHRcdHdpZHRoID0gc3R5bGUud2lkdGg7XG5cdFx0XHRtaW5XaWR0aCA9IHN0eWxlLm1pbldpZHRoO1xuXHRcdFx0bWF4V2lkdGggPSBzdHlsZS5tYXhXaWR0aDtcblxuXHRcdFx0Ly8gUHV0IGluIHRoZSBuZXcgdmFsdWVzIHRvIGdldCBhIGNvbXB1dGVkIHZhbHVlIG91dFxuXHRcdFx0c3R5bGUubWluV2lkdGggPSBzdHlsZS5tYXhXaWR0aCA9IHN0eWxlLndpZHRoID0gcmV0O1xuXHRcdFx0cmV0ID0gY29tcHV0ZWQud2lkdGg7XG5cblx0XHRcdC8vIFJldmVydCB0aGUgY2hhbmdlZCB2YWx1ZXNcblx0XHRcdHN0eWxlLndpZHRoID0gd2lkdGg7XG5cdFx0XHRzdHlsZS5taW5XaWR0aCA9IG1pbldpZHRoO1xuXHRcdFx0c3R5bGUubWF4V2lkdGggPSBtYXhXaWR0aDtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmV0ICE9PSB1bmRlZmluZWQgP1xuXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seVxuXHRcdC8vIElFIHJldHVybnMgekluZGV4IHZhbHVlIGFzIGFuIGludGVnZXIuXG5cdFx0cmV0ICsgXCJcIiA6XG5cdFx0cmV0O1xufVxuXG5cbmZ1bmN0aW9uIGFkZEdldEhvb2tJZiggY29uZGl0aW9uRm4sIGhvb2tGbiApIHtcblxuXHQvLyBEZWZpbmUgdGhlIGhvb2ssIHdlJ2xsIGNoZWNrIG9uIHRoZSBmaXJzdCBydW4gaWYgaXQncyByZWFsbHkgbmVlZGVkLlxuXHRyZXR1cm4ge1xuXHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIGNvbmRpdGlvbkZuKCkgKSB7XG5cblx0XHRcdFx0Ly8gSG9vayBub3QgbmVlZGVkIChvciBpdCdzIG5vdCBwb3NzaWJsZSB0byB1c2UgaXQgZHVlXG5cdFx0XHRcdC8vIHRvIG1pc3NpbmcgZGVwZW5kZW5jeSksIHJlbW92ZSBpdC5cblx0XHRcdFx0ZGVsZXRlIHRoaXMuZ2V0O1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIEhvb2sgbmVlZGVkOyByZWRlZmluZSBpdCBzbyB0aGF0IHRoZSBzdXBwb3J0IHRlc3QgaXMgbm90IGV4ZWN1dGVkIGFnYWluLlxuXHRcdFx0cmV0dXJuICggdGhpcy5nZXQgPSBob29rRm4gKS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0fVxuXHR9O1xufVxuXG5cbnZhclxuXG5cdC8vIFN3YXBwYWJsZSBpZiBkaXNwbGF5IGlzIG5vbmUgb3Igc3RhcnRzIHdpdGggdGFibGVcblx0Ly8gZXhjZXB0IFwidGFibGVcIiwgXCJ0YWJsZS1jZWxsXCIsIG9yIFwidGFibGUtY2FwdGlvblwiXG5cdC8vIFNlZSBoZXJlIGZvciBkaXNwbGF5IHZhbHVlczogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9DU1MvZGlzcGxheVxuXHRyZGlzcGxheXN3YXAgPSAvXihub25lfHRhYmxlKD8hLWNbZWFdKS4rKS8sXG5cdHJjdXN0b21Qcm9wID0gL14tLS8sXG5cdGNzc1Nob3cgPSB7IHBvc2l0aW9uOiBcImFic29sdXRlXCIsIHZpc2liaWxpdHk6IFwiaGlkZGVuXCIsIGRpc3BsYXk6IFwiYmxvY2tcIiB9LFxuXHRjc3NOb3JtYWxUcmFuc2Zvcm0gPSB7XG5cdFx0bGV0dGVyU3BhY2luZzogXCIwXCIsXG5cdFx0Zm9udFdlaWdodDogXCI0MDBcIlxuXHR9LFxuXG5cdGNzc1ByZWZpeGVzID0gWyBcIldlYmtpdFwiLCBcIk1velwiLCBcIm1zXCIgXSxcblx0ZW1wdHlTdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiZGl2XCIgKS5zdHlsZTtcblxuLy8gUmV0dXJuIGEgY3NzIHByb3BlcnR5IG1hcHBlZCB0byBhIHBvdGVudGlhbGx5IHZlbmRvciBwcmVmaXhlZCBwcm9wZXJ0eVxuZnVuY3Rpb24gdmVuZG9yUHJvcE5hbWUoIG5hbWUgKSB7XG5cblx0Ly8gU2hvcnRjdXQgZm9yIG5hbWVzIHRoYXQgYXJlIG5vdCB2ZW5kb3IgcHJlZml4ZWRcblx0aWYgKCBuYW1lIGluIGVtcHR5U3R5bGUgKSB7XG5cdFx0cmV0dXJuIG5hbWU7XG5cdH1cblxuXHQvLyBDaGVjayBmb3IgdmVuZG9yIHByZWZpeGVkIG5hbWVzXG5cdHZhciBjYXBOYW1lID0gbmFtZVsgMCBdLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKCAxICksXG5cdFx0aSA9IGNzc1ByZWZpeGVzLmxlbmd0aDtcblxuXHR3aGlsZSAoIGktLSApIHtcblx0XHRuYW1lID0gY3NzUHJlZml4ZXNbIGkgXSArIGNhcE5hbWU7XG5cdFx0aWYgKCBuYW1lIGluIGVtcHR5U3R5bGUgKSB7XG5cdFx0XHRyZXR1cm4gbmFtZTtcblx0XHR9XG5cdH1cbn1cblxuLy8gUmV0dXJuIGEgcHJvcGVydHkgbWFwcGVkIGFsb25nIHdoYXQgalF1ZXJ5LmNzc1Byb3BzIHN1Z2dlc3RzIG9yIHRvXG4vLyBhIHZlbmRvciBwcmVmaXhlZCBwcm9wZXJ0eS5cbmZ1bmN0aW9uIGZpbmFsUHJvcE5hbWUoIG5hbWUgKSB7XG5cdHZhciByZXQgPSBqUXVlcnkuY3NzUHJvcHNbIG5hbWUgXTtcblx0aWYgKCAhcmV0ICkge1xuXHRcdHJldCA9IGpRdWVyeS5jc3NQcm9wc1sgbmFtZSBdID0gdmVuZG9yUHJvcE5hbWUoIG5hbWUgKSB8fCBuYW1lO1xuXHR9XG5cdHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIHNldFBvc2l0aXZlTnVtYmVyKCBlbGVtLCB2YWx1ZSwgc3VidHJhY3QgKSB7XG5cblx0Ly8gQW55IHJlbGF0aXZlICgrLy0pIHZhbHVlcyBoYXZlIGFscmVhZHkgYmVlblxuXHQvLyBub3JtYWxpemVkIGF0IHRoaXMgcG9pbnRcblx0dmFyIG1hdGNoZXMgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICk7XG5cdHJldHVybiBtYXRjaGVzID9cblxuXHRcdC8vIEd1YXJkIGFnYWluc3QgdW5kZWZpbmVkIFwic3VidHJhY3RcIiwgZS5nLiwgd2hlbiB1c2VkIGFzIGluIGNzc0hvb2tzXG5cdFx0TWF0aC5tYXgoIDAsIG1hdGNoZXNbIDIgXSAtICggc3VidHJhY3QgfHwgMCApICkgKyAoIG1hdGNoZXNbIDMgXSB8fCBcInB4XCIgKSA6XG5cdFx0dmFsdWU7XG59XG5cbmZ1bmN0aW9uIGJveE1vZGVsQWRqdXN0bWVudCggZWxlbSwgZGltZW5zaW9uLCBib3gsIGlzQm9yZGVyQm94LCBzdHlsZXMsIGNvbXB1dGVkVmFsICkge1xuXHR2YXIgaSA9IGRpbWVuc2lvbiA9PT0gXCJ3aWR0aFwiID8gMSA6IDAsXG5cdFx0ZXh0cmEgPSAwLFxuXHRcdGRlbHRhID0gMDtcblxuXHQvLyBBZGp1c3RtZW50IG1heSBub3QgYmUgbmVjZXNzYXJ5XG5cdGlmICggYm94ID09PSAoIGlzQm9yZGVyQm94ID8gXCJib3JkZXJcIiA6IFwiY29udGVudFwiICkgKSB7XG5cdFx0cmV0dXJuIDA7XG5cdH1cblxuXHRmb3IgKCA7IGkgPCA0OyBpICs9IDIgKSB7XG5cblx0XHQvLyBCb3RoIGJveCBtb2RlbHMgZXhjbHVkZSBtYXJnaW5cblx0XHRpZiAoIGJveCA9PT0gXCJtYXJnaW5cIiApIHtcblx0XHRcdGRlbHRhICs9IGpRdWVyeS5jc3MoIGVsZW0sIGJveCArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcblx0XHR9XG5cblx0XHQvLyBJZiB3ZSBnZXQgaGVyZSB3aXRoIGEgY29udGVudC1ib3gsIHdlJ3JlIHNlZWtpbmcgXCJwYWRkaW5nXCIgb3IgXCJib3JkZXJcIiBvciBcIm1hcmdpblwiXG5cdFx0aWYgKCAhaXNCb3JkZXJCb3ggKSB7XG5cblx0XHRcdC8vIEFkZCBwYWRkaW5nXG5cdFx0XHRkZWx0YSArPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBhZGRpbmdcIiArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcblxuXHRcdFx0Ly8gRm9yIFwiYm9yZGVyXCIgb3IgXCJtYXJnaW5cIiwgYWRkIGJvcmRlclxuXHRcdFx0aWYgKCBib3ggIT09IFwicGFkZGluZ1wiICkge1xuXHRcdFx0XHRkZWx0YSArPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kWyBpIF0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyApO1xuXG5cdFx0XHQvLyBCdXQgc3RpbGwga2VlcCB0cmFjayBvZiBpdCBvdGhlcndpc2Vcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGV4dHJhICs9IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm9yZGVyXCIgKyBjc3NFeHBhbmRbIGkgXSArIFwiV2lkdGhcIiwgdHJ1ZSwgc3R5bGVzICk7XG5cdFx0XHR9XG5cblx0XHQvLyBJZiB3ZSBnZXQgaGVyZSB3aXRoIGEgYm9yZGVyLWJveCAoY29udGVudCArIHBhZGRpbmcgKyBib3JkZXIpLCB3ZSdyZSBzZWVraW5nIFwiY29udGVudFwiIG9yXG5cdFx0Ly8gXCJwYWRkaW5nXCIgb3IgXCJtYXJnaW5cIlxuXHRcdH0gZWxzZSB7XG5cblx0XHRcdC8vIEZvciBcImNvbnRlbnRcIiwgc3VidHJhY3QgcGFkZGluZ1xuXHRcdFx0aWYgKCBib3ggPT09IFwiY29udGVudFwiICkge1xuXHRcdFx0XHRkZWx0YSAtPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBhZGRpbmdcIiArIGNzc0V4cGFuZFsgaSBdLCB0cnVlLCBzdHlsZXMgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRm9yIFwiY29udGVudFwiIG9yIFwicGFkZGluZ1wiLCBzdWJ0cmFjdCBib3JkZXJcblx0XHRcdGlmICggYm94ICE9PSBcIm1hcmdpblwiICkge1xuXHRcdFx0XHRkZWx0YSAtPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kWyBpIF0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyApO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIEFjY291bnQgZm9yIHBvc2l0aXZlIGNvbnRlbnQtYm94IHNjcm9sbCBndXR0ZXIgd2hlbiByZXF1ZXN0ZWQgYnkgcHJvdmlkaW5nIGNvbXB1dGVkVmFsXG5cdGlmICggIWlzQm9yZGVyQm94ICYmIGNvbXB1dGVkVmFsID49IDAgKSB7XG5cblx0XHQvLyBvZmZzZXRXaWR0aC9vZmZzZXRIZWlnaHQgaXMgYSByb3VuZGVkIHN1bSBvZiBjb250ZW50LCBwYWRkaW5nLCBzY3JvbGwgZ3V0dGVyLCBhbmQgYm9yZGVyXG5cdFx0Ly8gQXNzdW1pbmcgaW50ZWdlciBzY3JvbGwgZ3V0dGVyLCBzdWJ0cmFjdCB0aGUgcmVzdCBhbmQgcm91bmQgZG93blxuXHRcdGRlbHRhICs9IE1hdGgubWF4KCAwLCBNYXRoLmNlaWwoXG5cdFx0XHRlbGVtWyBcIm9mZnNldFwiICsgZGltZW5zaW9uWyAwIF0udG9VcHBlckNhc2UoKSArIGRpbWVuc2lvbi5zbGljZSggMSApIF0gLVxuXHRcdFx0Y29tcHV0ZWRWYWwgLVxuXHRcdFx0ZGVsdGEgLVxuXHRcdFx0ZXh0cmEgLVxuXHRcdFx0MC41XG5cdFx0KSApO1xuXHR9XG5cblx0cmV0dXJuIGRlbHRhO1xufVxuXG5mdW5jdGlvbiBnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBkaW1lbnNpb24sIGV4dHJhICkge1xuXG5cdC8vIFN0YXJ0IHdpdGggY29tcHV0ZWQgc3R5bGVcblx0dmFyIHN0eWxlcyA9IGdldFN0eWxlcyggZWxlbSApLFxuXHRcdHZhbCA9IGN1ckNTUyggZWxlbSwgZGltZW5zaW9uLCBzdHlsZXMgKSxcblx0XHRpc0JvcmRlckJveCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm94U2l6aW5nXCIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gXCJib3JkZXItYm94XCIsXG5cdFx0dmFsdWVJc0JvcmRlckJveCA9IGlzQm9yZGVyQm94O1xuXG5cdC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD01NFxuXHQvLyBSZXR1cm4gYSBjb25mb3VuZGluZyBub24tcGl4ZWwgdmFsdWUgb3IgZmVpZ24gaWdub3JhbmNlLCBhcyBhcHByb3ByaWF0ZS5cblx0aWYgKCBybnVtbm9ucHgudGVzdCggdmFsICkgKSB7XG5cdFx0aWYgKCAhZXh0cmEgKSB7XG5cdFx0XHRyZXR1cm4gdmFsO1xuXHRcdH1cblx0XHR2YWwgPSBcImF1dG9cIjtcblx0fVxuXG5cdC8vIENoZWNrIGZvciBzdHlsZSBpbiBjYXNlIGEgYnJvd3NlciB3aGljaCByZXR1cm5zIHVucmVsaWFibGUgdmFsdWVzXG5cdC8vIGZvciBnZXRDb21wdXRlZFN0eWxlIHNpbGVudGx5IGZhbGxzIGJhY2sgdG8gdGhlIHJlbGlhYmxlIGVsZW0uc3R5bGVcblx0dmFsdWVJc0JvcmRlckJveCA9IHZhbHVlSXNCb3JkZXJCb3ggJiZcblx0XHQoIHN1cHBvcnQuYm94U2l6aW5nUmVsaWFibGUoKSB8fCB2YWwgPT09IGVsZW0uc3R5bGVbIGRpbWVuc2lvbiBdICk7XG5cblx0Ly8gRmFsbCBiYWNrIHRvIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCB3aGVuIHZhbHVlIGlzIFwiYXV0b1wiXG5cdC8vIFRoaXMgaGFwcGVucyBmb3IgaW5saW5lIGVsZW1lbnRzIHdpdGggbm8gZXhwbGljaXQgc2V0dGluZyAoZ2gtMzU3MSlcblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMSAtIDQuMyBvbmx5XG5cdC8vIEFsc28gdXNlIG9mZnNldFdpZHRoL29mZnNldEhlaWdodCBmb3IgbWlzcmVwb3J0ZWQgaW5saW5lIGRpbWVuc2lvbnMgKGdoLTM2MDIpXG5cdGlmICggdmFsID09PSBcImF1dG9cIiB8fFxuXHRcdCFwYXJzZUZsb2F0KCB2YWwgKSAmJiBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImlubGluZVwiICkge1xuXG5cdFx0dmFsID0gZWxlbVsgXCJvZmZzZXRcIiArIGRpbWVuc2lvblsgMCBdLnRvVXBwZXJDYXNlKCkgKyBkaW1lbnNpb24uc2xpY2UoIDEgKSBdO1xuXG5cdFx0Ly8gb2Zmc2V0V2lkdGgvb2Zmc2V0SGVpZ2h0IHByb3ZpZGUgYm9yZGVyLWJveCB2YWx1ZXNcblx0XHR2YWx1ZUlzQm9yZGVyQm94ID0gdHJ1ZTtcblx0fVxuXG5cdC8vIE5vcm1hbGl6ZSBcIlwiIGFuZCBhdXRvXG5cdHZhbCA9IHBhcnNlRmxvYXQoIHZhbCApIHx8IDA7XG5cblx0Ly8gQWRqdXN0IGZvciB0aGUgZWxlbWVudCdzIGJveCBtb2RlbFxuXHRyZXR1cm4gKCB2YWwgK1xuXHRcdGJveE1vZGVsQWRqdXN0bWVudChcblx0XHRcdGVsZW0sXG5cdFx0XHRkaW1lbnNpb24sXG5cdFx0XHRleHRyYSB8fCAoIGlzQm9yZGVyQm94ID8gXCJib3JkZXJcIiA6IFwiY29udGVudFwiICksXG5cdFx0XHR2YWx1ZUlzQm9yZGVyQm94LFxuXHRcdFx0c3R5bGVzLFxuXG5cdFx0XHQvLyBQcm92aWRlIHRoZSBjdXJyZW50IGNvbXB1dGVkIHNpemUgdG8gcmVxdWVzdCBzY3JvbGwgZ3V0dGVyIGNhbGN1bGF0aW9uIChnaC0zNTg5KVxuXHRcdFx0dmFsXG5cdFx0KVxuXHQpICsgXCJweFwiO1xufVxuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cblx0Ly8gQWRkIGluIHN0eWxlIHByb3BlcnR5IGhvb2tzIGZvciBvdmVycmlkaW5nIHRoZSBkZWZhdWx0XG5cdC8vIGJlaGF2aW9yIG9mIGdldHRpbmcgYW5kIHNldHRpbmcgYSBzdHlsZSBwcm9wZXJ0eVxuXHRjc3NIb29rczoge1xuXHRcdG9wYWNpdHk6IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xuXHRcdFx0XHRpZiAoIGNvbXB1dGVkICkge1xuXG5cdFx0XHRcdFx0Ly8gV2Ugc2hvdWxkIGFsd2F5cyBnZXQgYSBudW1iZXIgYmFjayBmcm9tIG9wYWNpdHlcblx0XHRcdFx0XHR2YXIgcmV0ID0gY3VyQ1NTKCBlbGVtLCBcIm9wYWNpdHlcIiApO1xuXHRcdFx0XHRcdHJldHVybiByZXQgPT09IFwiXCIgPyBcIjFcIiA6IHJldDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHQvLyBEb24ndCBhdXRvbWF0aWNhbGx5IGFkZCBcInB4XCIgdG8gdGhlc2UgcG9zc2libHktdW5pdGxlc3MgcHJvcGVydGllc1xuXHRjc3NOdW1iZXI6IHtcblx0XHRcImFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50XCI6IHRydWUsXG5cdFx0XCJjb2x1bW5Db3VudFwiOiB0cnVlLFxuXHRcdFwiZmlsbE9wYWNpdHlcIjogdHJ1ZSxcblx0XHRcImZsZXhHcm93XCI6IHRydWUsXG5cdFx0XCJmbGV4U2hyaW5rXCI6IHRydWUsXG5cdFx0XCJmb250V2VpZ2h0XCI6IHRydWUsXG5cdFx0XCJsaW5lSGVpZ2h0XCI6IHRydWUsXG5cdFx0XCJvcGFjaXR5XCI6IHRydWUsXG5cdFx0XCJvcmRlclwiOiB0cnVlLFxuXHRcdFwib3JwaGFuc1wiOiB0cnVlLFxuXHRcdFwid2lkb3dzXCI6IHRydWUsXG5cdFx0XCJ6SW5kZXhcIjogdHJ1ZSxcblx0XHRcInpvb21cIjogdHJ1ZVxuXHR9LFxuXG5cdC8vIEFkZCBpbiBwcm9wZXJ0aWVzIHdob3NlIG5hbWVzIHlvdSB3aXNoIHRvIGZpeCBiZWZvcmVcblx0Ly8gc2V0dGluZyBvciBnZXR0aW5nIHRoZSB2YWx1ZVxuXHRjc3NQcm9wczoge30sXG5cblx0Ly8gR2V0IGFuZCBzZXQgdGhlIHN0eWxlIHByb3BlcnR5IG9uIGEgRE9NIE5vZGVcblx0c3R5bGU6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSwgZXh0cmEgKSB7XG5cblx0XHQvLyBEb24ndCBzZXQgc3R5bGVzIG9uIHRleHQgYW5kIGNvbW1lbnQgbm9kZXNcblx0XHRpZiAoICFlbGVtIHx8IGVsZW0ubm9kZVR5cGUgPT09IDMgfHwgZWxlbS5ub2RlVHlwZSA9PT0gOCB8fCAhZWxlbS5zdHlsZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWVcblx0XHR2YXIgcmV0LCB0eXBlLCBob29rcyxcblx0XHRcdG9yaWdOYW1lID0gY2FtZWxDYXNlKCBuYW1lICksXG5cdFx0XHRpc0N1c3RvbVByb3AgPSByY3VzdG9tUHJvcC50ZXN0KCBuYW1lICksXG5cdFx0XHRzdHlsZSA9IGVsZW0uc3R5bGU7XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB3ZSdyZSB3b3JraW5nIHdpdGggdGhlIHJpZ2h0IG5hbWUuIFdlIGRvbid0XG5cdFx0Ly8gd2FudCB0byBxdWVyeSB0aGUgdmFsdWUgaWYgaXQgaXMgYSBDU1MgY3VzdG9tIHByb3BlcnR5XG5cdFx0Ly8gc2luY2UgdGhleSBhcmUgdXNlci1kZWZpbmVkLlxuXHRcdGlmICggIWlzQ3VzdG9tUHJvcCApIHtcblx0XHRcdG5hbWUgPSBmaW5hbFByb3BOYW1lKCBvcmlnTmFtZSApO1xuXHRcdH1cblxuXHRcdC8vIEdldHMgaG9vayBmb3IgdGhlIHByZWZpeGVkIHZlcnNpb24sIHRoZW4gdW5wcmVmaXhlZCB2ZXJzaW9uXG5cdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXSB8fCBqUXVlcnkuY3NzSG9va3NbIG9yaWdOYW1lIF07XG5cblx0XHQvLyBDaGVjayBpZiB3ZSdyZSBzZXR0aW5nIGEgdmFsdWVcblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR0eXBlID0gdHlwZW9mIHZhbHVlO1xuXG5cdFx0XHQvLyBDb252ZXJ0IFwiKz1cIiBvciBcIi09XCIgdG8gcmVsYXRpdmUgbnVtYmVycyAoIzczNDUpXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwic3RyaW5nXCIgJiYgKCByZXQgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICkgKSAmJiByZXRbIDEgXSApIHtcblx0XHRcdFx0dmFsdWUgPSBhZGp1c3RDU1MoIGVsZW0sIG5hbWUsIHJldCApO1xuXG5cdFx0XHRcdC8vIEZpeGVzIGJ1ZyAjOTIzN1xuXHRcdFx0XHR0eXBlID0gXCJudW1iZXJcIjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTWFrZSBzdXJlIHRoYXQgbnVsbCBhbmQgTmFOIHZhbHVlcyBhcmVuJ3Qgc2V0ICgjNzExNilcblx0XHRcdGlmICggdmFsdWUgPT0gbnVsbCB8fCB2YWx1ZSAhPT0gdmFsdWUgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgYSBudW1iZXIgd2FzIHBhc3NlZCBpbiwgYWRkIHRoZSB1bml0IChleGNlcHQgZm9yIGNlcnRhaW4gQ1NTIHByb3BlcnRpZXMpXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdHZhbHVlICs9IHJldCAmJiByZXRbIDMgXSB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIG9yaWdOYW1lIF0gPyBcIlwiIDogXCJweFwiICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGJhY2tncm91bmQtKiBwcm9wcyBhZmZlY3Qgb3JpZ2luYWwgY2xvbmUncyB2YWx1ZXNcblx0XHRcdGlmICggIXN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlICYmIHZhbHVlID09PSBcIlwiICYmIG5hbWUuaW5kZXhPZiggXCJiYWNrZ3JvdW5kXCIgKSA9PT0gMCApIHtcblx0XHRcdFx0c3R5bGVbIG5hbWUgXSA9IFwiaW5oZXJpdFwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkLCB1c2UgdGhhdCB2YWx1ZSwgb3RoZXJ3aXNlIGp1c3Qgc2V0IHRoZSBzcGVjaWZpZWQgdmFsdWVcblx0XHRcdGlmICggIWhvb2tzIHx8ICEoIFwic2V0XCIgaW4gaG9va3MgKSB8fFxuXHRcdFx0XHQoIHZhbHVlID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgZXh0cmEgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0aWYgKCBpc0N1c3RvbVByb3AgKSB7XG5cdFx0XHRcdFx0c3R5bGUuc2V0UHJvcGVydHkoIG5hbWUsIHZhbHVlICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c3R5bGVbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHR9IGVsc2Uge1xuXG5cdFx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkIGdldCB0aGUgbm9uLWNvbXB1dGVkIHZhbHVlIGZyb20gdGhlcmVcblx0XHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHQoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgZmFsc2UsIGV4dHJhICkgKSAhPT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE90aGVyd2lzZSBqdXN0IGdldCB0aGUgdmFsdWUgZnJvbSB0aGUgc3R5bGUgb2JqZWN0XG5cdFx0XHRyZXR1cm4gc3R5bGVbIG5hbWUgXTtcblx0XHR9XG5cdH0sXG5cblx0Y3NzOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZXh0cmEsIHN0eWxlcyApIHtcblx0XHR2YXIgdmFsLCBudW0sIGhvb2tzLFxuXHRcdFx0b3JpZ05hbWUgPSBjYW1lbENhc2UoIG5hbWUgKSxcblx0XHRcdGlzQ3VzdG9tUHJvcCA9IHJjdXN0b21Qcm9wLnRlc3QoIG5hbWUgKTtcblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZS4gV2UgZG9uJ3Rcblx0XHQvLyB3YW50IHRvIG1vZGlmeSB0aGUgdmFsdWUgaWYgaXQgaXMgYSBDU1MgY3VzdG9tIHByb3BlcnR5XG5cdFx0Ly8gc2luY2UgdGhleSBhcmUgdXNlci1kZWZpbmVkLlxuXHRcdGlmICggIWlzQ3VzdG9tUHJvcCApIHtcblx0XHRcdG5hbWUgPSBmaW5hbFByb3BOYW1lKCBvcmlnTmFtZSApO1xuXHRcdH1cblxuXHRcdC8vIFRyeSBwcmVmaXhlZCBuYW1lIGZvbGxvd2VkIGJ5IHRoZSB1bnByZWZpeGVkIG5hbWVcblx0XHRob29rcyA9IGpRdWVyeS5jc3NIb29rc1sgbmFtZSBdIHx8IGpRdWVyeS5jc3NIb29rc1sgb3JpZ05hbWUgXTtcblxuXHRcdC8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQgZ2V0IHRoZSBjb21wdXRlZCB2YWx1ZSBmcm9tIHRoZXJlXG5cdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICkge1xuXHRcdFx0dmFsID0gaG9va3MuZ2V0KCBlbGVtLCB0cnVlLCBleHRyYSApO1xuXHRcdH1cblxuXHRcdC8vIE90aGVyd2lzZSwgaWYgYSB3YXkgdG8gZ2V0IHRoZSBjb21wdXRlZCB2YWx1ZSBleGlzdHMsIHVzZSB0aGF0XG5cdFx0aWYgKCB2YWwgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHZhbCA9IGN1ckNTUyggZWxlbSwgbmFtZSwgc3R5bGVzICk7XG5cdFx0fVxuXG5cdFx0Ly8gQ29udmVydCBcIm5vcm1hbFwiIHRvIGNvbXB1dGVkIHZhbHVlXG5cdFx0aWYgKCB2YWwgPT09IFwibm9ybWFsXCIgJiYgbmFtZSBpbiBjc3NOb3JtYWxUcmFuc2Zvcm0gKSB7XG5cdFx0XHR2YWwgPSBjc3NOb3JtYWxUcmFuc2Zvcm1bIG5hbWUgXTtcblx0XHR9XG5cblx0XHQvLyBNYWtlIG51bWVyaWMgaWYgZm9yY2VkIG9yIGEgcXVhbGlmaWVyIHdhcyBwcm92aWRlZCBhbmQgdmFsIGxvb2tzIG51bWVyaWNcblx0XHRpZiAoIGV4dHJhID09PSBcIlwiIHx8IGV4dHJhICkge1xuXHRcdFx0bnVtID0gcGFyc2VGbG9hdCggdmFsICk7XG5cdFx0XHRyZXR1cm4gZXh0cmEgPT09IHRydWUgfHwgaXNGaW5pdGUoIG51bSApID8gbnVtIHx8IDAgOiB2YWw7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHZhbDtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCggWyBcImhlaWdodFwiLCBcIndpZHRoXCIgXSwgZnVuY3Rpb24oIGksIGRpbWVuc2lvbiApIHtcblx0alF1ZXJ5LmNzc0hvb2tzWyBkaW1lbnNpb24gXSA9IHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCwgZXh0cmEgKSB7XG5cdFx0XHRpZiAoIGNvbXB1dGVkICkge1xuXG5cdFx0XHRcdC8vIENlcnRhaW4gZWxlbWVudHMgY2FuIGhhdmUgZGltZW5zaW9uIGluZm8gaWYgd2UgaW52aXNpYmx5IHNob3cgdGhlbVxuXHRcdFx0XHQvLyBidXQgaXQgbXVzdCBoYXZlIGEgY3VycmVudCBkaXNwbGF5IHN0eWxlIHRoYXQgd291bGQgYmVuZWZpdFxuXHRcdFx0XHRyZXR1cm4gcmRpc3BsYXlzd2FwLnRlc3QoIGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICkgKSAmJlxuXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogU2FmYXJpIDgrXG5cdFx0XHRcdFx0Ly8gVGFibGUgY29sdW1ucyBpbiBTYWZhcmkgaGF2ZSBub24temVybyBvZmZzZXRXaWR0aCAmIHplcm9cblx0XHRcdFx0XHQvLyBnZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCB1bmxlc3MgZGlzcGxheSBpcyBjaGFuZ2VkLlxuXHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuXHRcdFx0XHRcdC8vIFJ1bm5pbmcgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IG9uIGEgZGlzY29ubmVjdGVkIG5vZGVcblx0XHRcdFx0XHQvLyBpbiBJRSB0aHJvd3MgYW4gZXJyb3IuXG5cdFx0XHRcdFx0KCAhZWxlbS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCB8fCAhZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCApID9cblx0XHRcdFx0XHRcdHN3YXAoIGVsZW0sIGNzc1Nob3csIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZ2V0V2lkdGhPckhlaWdodCggZWxlbSwgZGltZW5zaW9uLCBleHRyYSApO1xuXHRcdFx0XHRcdFx0fSApIDpcblx0XHRcdFx0XHRcdGdldFdpZHRoT3JIZWlnaHQoIGVsZW0sIGRpbWVuc2lvbiwgZXh0cmEgKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIGV4dHJhICkge1xuXHRcdFx0dmFyIG1hdGNoZXMsXG5cdFx0XHRcdHN0eWxlcyA9IGdldFN0eWxlcyggZWxlbSApLFxuXHRcdFx0XHRpc0JvcmRlckJveCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm94U2l6aW5nXCIsIGZhbHNlLCBzdHlsZXMgKSA9PT0gXCJib3JkZXItYm94XCIsXG5cdFx0XHRcdHN1YnRyYWN0ID0gZXh0cmEgJiYgYm94TW9kZWxBZGp1c3RtZW50KFxuXHRcdFx0XHRcdGVsZW0sXG5cdFx0XHRcdFx0ZGltZW5zaW9uLFxuXHRcdFx0XHRcdGV4dHJhLFxuXHRcdFx0XHRcdGlzQm9yZGVyQm94LFxuXHRcdFx0XHRcdHN0eWxlc1xuXHRcdFx0XHQpO1xuXG5cdFx0XHQvLyBBY2NvdW50IGZvciB1bnJlbGlhYmxlIGJvcmRlci1ib3ggZGltZW5zaW9ucyBieSBjb21wYXJpbmcgb2Zmc2V0KiB0byBjb21wdXRlZCBhbmRcblx0XHRcdC8vIGZha2luZyBhIGNvbnRlbnQtYm94IHRvIGdldCBib3JkZXIgYW5kIHBhZGRpbmcgKGdoLTM2OTkpXG5cdFx0XHRpZiAoIGlzQm9yZGVyQm94ICYmIHN1cHBvcnQuc2Nyb2xsYm94U2l6ZSgpID09PSBzdHlsZXMucG9zaXRpb24gKSB7XG5cdFx0XHRcdHN1YnRyYWN0IC09IE1hdGguY2VpbChcblx0XHRcdFx0XHRlbGVtWyBcIm9mZnNldFwiICsgZGltZW5zaW9uWyAwIF0udG9VcHBlckNhc2UoKSArIGRpbWVuc2lvbi5zbGljZSggMSApIF0gLVxuXHRcdFx0XHRcdHBhcnNlRmxvYXQoIHN0eWxlc1sgZGltZW5zaW9uIF0gKSAtXG5cdFx0XHRcdFx0Ym94TW9kZWxBZGp1c3RtZW50KCBlbGVtLCBkaW1lbnNpb24sIFwiYm9yZGVyXCIsIGZhbHNlLCBzdHlsZXMgKSAtXG5cdFx0XHRcdFx0MC41XG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENvbnZlcnQgdG8gcGl4ZWxzIGlmIHZhbHVlIGFkanVzdG1lbnQgaXMgbmVlZGVkXG5cdFx0XHRpZiAoIHN1YnRyYWN0ICYmICggbWF0Y2hlcyA9IHJjc3NOdW0uZXhlYyggdmFsdWUgKSApICYmXG5cdFx0XHRcdCggbWF0Y2hlc1sgMyBdIHx8IFwicHhcIiApICE9PSBcInB4XCIgKSB7XG5cblx0XHRcdFx0ZWxlbS5zdHlsZVsgZGltZW5zaW9uIF0gPSB2YWx1ZTtcblx0XHRcdFx0dmFsdWUgPSBqUXVlcnkuY3NzKCBlbGVtLCBkaW1lbnNpb24gKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHNldFBvc2l0aXZlTnVtYmVyKCBlbGVtLCB2YWx1ZSwgc3VidHJhY3QgKTtcblx0XHR9XG5cdH07XG59ICk7XG5cbmpRdWVyeS5jc3NIb29rcy5tYXJnaW5MZWZ0ID0gYWRkR2V0SG9va0lmKCBzdXBwb3J0LnJlbGlhYmxlTWFyZ2luTGVmdCxcblx0ZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xuXHRcdGlmICggY29tcHV0ZWQgKSB7XG5cdFx0XHRyZXR1cm4gKCBwYXJzZUZsb2F0KCBjdXJDU1MoIGVsZW0sIFwibWFyZ2luTGVmdFwiICkgKSB8fFxuXHRcdFx0XHRlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgLVxuXHRcdFx0XHRcdHN3YXAoIGVsZW0sIHsgbWFyZ2luTGVmdDogMCB9LCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG5cdFx0XHRcdFx0fSApXG5cdFx0XHRcdCkgKyBcInB4XCI7XG5cdFx0fVxuXHR9XG4pO1xuXG4vLyBUaGVzZSBob29rcyBhcmUgdXNlZCBieSBhbmltYXRlIHRvIGV4cGFuZCBwcm9wZXJ0aWVzXG5qUXVlcnkuZWFjaCgge1xuXHRtYXJnaW46IFwiXCIsXG5cdHBhZGRpbmc6IFwiXCIsXG5cdGJvcmRlcjogXCJXaWR0aFwiXG59LCBmdW5jdGlvbiggcHJlZml4LCBzdWZmaXggKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgcHJlZml4ICsgc3VmZml4IF0gPSB7XG5cdFx0ZXhwYW5kOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0XHR2YXIgaSA9IDAsXG5cdFx0XHRcdGV4cGFuZGVkID0ge30sXG5cblx0XHRcdFx0Ly8gQXNzdW1lcyBhIHNpbmdsZSBudW1iZXIgaWYgbm90IGEgc3RyaW5nXG5cdFx0XHRcdHBhcnRzID0gdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiID8gdmFsdWUuc3BsaXQoIFwiIFwiICkgOiBbIHZhbHVlIF07XG5cblx0XHRcdGZvciAoIDsgaSA8IDQ7IGkrKyApIHtcblx0XHRcdFx0ZXhwYW5kZWRbIHByZWZpeCArIGNzc0V4cGFuZFsgaSBdICsgc3VmZml4IF0gPVxuXHRcdFx0XHRcdHBhcnRzWyBpIF0gfHwgcGFydHNbIGkgLSAyIF0gfHwgcGFydHNbIDAgXTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGV4cGFuZGVkO1xuXHRcdH1cblx0fTtcblxuXHRpZiAoIHByZWZpeCAhPT0gXCJtYXJnaW5cIiApIHtcblx0XHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdLnNldCA9IHNldFBvc2l0aXZlTnVtYmVyO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0Y3NzOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdFx0dmFyIHN0eWxlcywgbGVuLFxuXHRcdFx0XHRtYXAgPSB7fSxcblx0XHRcdFx0aSA9IDA7XG5cblx0XHRcdGlmICggQXJyYXkuaXNBcnJheSggbmFtZSApICkge1xuXHRcdFx0XHRzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKTtcblx0XHRcdFx0bGVuID0gbmFtZS5sZW5ndGg7XG5cblx0XHRcdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XG5cdFx0XHRcdFx0bWFwWyBuYW1lWyBpIF0gXSA9IGpRdWVyeS5jc3MoIGVsZW0sIG5hbWVbIGkgXSwgZmFsc2UsIHN0eWxlcyApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIG1hcDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgP1xuXHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIG5hbWUsIHZhbHVlICkgOlxuXHRcdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCBuYW1lICk7XG5cdFx0fSwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XG5cdH1cbn0gKTtcblxuXG5mdW5jdGlvbiBUd2VlbiggZWxlbSwgb3B0aW9ucywgcHJvcCwgZW5kLCBlYXNpbmcgKSB7XG5cdHJldHVybiBuZXcgVHdlZW4ucHJvdG90eXBlLmluaXQoIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nICk7XG59XG5qUXVlcnkuVHdlZW4gPSBUd2VlbjtcblxuVHdlZW4ucHJvdG90eXBlID0ge1xuXHRjb25zdHJ1Y3RvcjogVHdlZW4sXG5cdGluaXQ6IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZywgdW5pdCApIHtcblx0XHR0aGlzLmVsZW0gPSBlbGVtO1xuXHRcdHRoaXMucHJvcCA9IHByb3A7XG5cdFx0dGhpcy5lYXNpbmcgPSBlYXNpbmcgfHwgalF1ZXJ5LmVhc2luZy5fZGVmYXVsdDtcblx0XHR0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuXHRcdHRoaXMuc3RhcnQgPSB0aGlzLm5vdyA9IHRoaXMuY3VyKCk7XG5cdFx0dGhpcy5lbmQgPSBlbmQ7XG5cdFx0dGhpcy51bml0ID0gdW5pdCB8fCAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSA/IFwiXCIgOiBcInB4XCIgKTtcblx0fSxcblx0Y3VyOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaG9va3MgPSBUd2Vlbi5wcm9wSG9va3NbIHRoaXMucHJvcCBdO1xuXG5cdFx0cmV0dXJuIGhvb2tzICYmIGhvb2tzLmdldCA/XG5cdFx0XHRob29rcy5nZXQoIHRoaXMgKSA6XG5cdFx0XHRUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KCB0aGlzICk7XG5cdH0sXG5cdHJ1bjogZnVuY3Rpb24oIHBlcmNlbnQgKSB7XG5cdFx0dmFyIGVhc2VkLFxuXHRcdFx0aG9va3MgPSBUd2Vlbi5wcm9wSG9va3NbIHRoaXMucHJvcCBdO1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gKSB7XG5cdFx0XHR0aGlzLnBvcyA9IGVhc2VkID0galF1ZXJ5LmVhc2luZ1sgdGhpcy5lYXNpbmcgXShcblx0XHRcdFx0cGVyY2VudCwgdGhpcy5vcHRpb25zLmR1cmF0aW9uICogcGVyY2VudCwgMCwgMSwgdGhpcy5vcHRpb25zLmR1cmF0aW9uXG5cdFx0XHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnBvcyA9IGVhc2VkID0gcGVyY2VudDtcblx0XHR9XG5cdFx0dGhpcy5ub3cgPSAoIHRoaXMuZW5kIC0gdGhpcy5zdGFydCApICogZWFzZWQgKyB0aGlzLnN0YXJ0O1xuXG5cdFx0aWYgKCB0aGlzLm9wdGlvbnMuc3RlcCApIHtcblx0XHRcdHRoaXMub3B0aW9ucy5zdGVwLmNhbGwoIHRoaXMuZWxlbSwgdGhpcy5ub3csIHRoaXMgKTtcblx0XHR9XG5cblx0XHRpZiAoIGhvb2tzICYmIGhvb2tzLnNldCApIHtcblx0XHRcdGhvb2tzLnNldCggdGhpcyApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KCB0aGlzICk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG59O1xuXG5Ud2Vlbi5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGUgPSBUd2Vlbi5wcm90b3R5cGU7XG5cblR3ZWVuLnByb3BIb29rcyA9IHtcblx0X2RlZmF1bHQ6IHtcblx0XHRnZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcblx0XHRcdHZhciByZXN1bHQ7XG5cblx0XHRcdC8vIFVzZSBhIHByb3BlcnR5IG9uIHRoZSBlbGVtZW50IGRpcmVjdGx5IHdoZW4gaXQgaXMgbm90IGEgRE9NIGVsZW1lbnQsXG5cdFx0XHQvLyBvciB3aGVuIHRoZXJlIGlzIG5vIG1hdGNoaW5nIHN0eWxlIHByb3BlcnR5IHRoYXQgZXhpc3RzLlxuXHRcdFx0aWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlICE9PSAxIHx8XG5cdFx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSAhPSBudWxsICYmIHR3ZWVuLmVsZW0uc3R5bGVbIHR3ZWVuLnByb3AgXSA9PSBudWxsICkge1xuXHRcdFx0XHRyZXR1cm4gdHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBQYXNzaW5nIGFuIGVtcHR5IHN0cmluZyBhcyBhIDNyZCBwYXJhbWV0ZXIgdG8gLmNzcyB3aWxsIGF1dG9tYXRpY2FsbHlcblx0XHRcdC8vIGF0dGVtcHQgYSBwYXJzZUZsb2F0IGFuZCBmYWxsYmFjayB0byBhIHN0cmluZyBpZiB0aGUgcGFyc2UgZmFpbHMuXG5cdFx0XHQvLyBTaW1wbGUgdmFsdWVzIHN1Y2ggYXMgXCIxMHB4XCIgYXJlIHBhcnNlZCB0byBGbG9hdDtcblx0XHRcdC8vIGNvbXBsZXggdmFsdWVzIHN1Y2ggYXMgXCJyb3RhdGUoMXJhZClcIiBhcmUgcmV0dXJuZWQgYXMtaXMuXG5cdFx0XHRyZXN1bHQgPSBqUXVlcnkuY3NzKCB0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCBcIlwiICk7XG5cblx0XHRcdC8vIEVtcHR5IHN0cmluZ3MsIG51bGwsIHVuZGVmaW5lZCBhbmQgXCJhdXRvXCIgYXJlIGNvbnZlcnRlZCB0byAwLlxuXHRcdFx0cmV0dXJuICFyZXN1bHQgfHwgcmVzdWx0ID09PSBcImF1dG9cIiA/IDAgOiByZXN1bHQ7XG5cdFx0fSxcblx0XHRzZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcblxuXHRcdFx0Ly8gVXNlIHN0ZXAgaG9vayBmb3IgYmFjayBjb21wYXQuXG5cdFx0XHQvLyBVc2UgY3NzSG9vayBpZiBpdHMgdGhlcmUuXG5cdFx0XHQvLyBVc2UgLnN0eWxlIGlmIGF2YWlsYWJsZSBhbmQgdXNlIHBsYWluIHByb3BlcnRpZXMgd2hlcmUgYXZhaWxhYmxlLlxuXHRcdFx0aWYgKCBqUXVlcnkuZnguc3RlcFsgdHdlZW4ucHJvcCBdICkge1xuXHRcdFx0XHRqUXVlcnkuZnguc3RlcFsgdHdlZW4ucHJvcCBdKCB0d2VlbiApO1xuXHRcdFx0fSBlbHNlIGlmICggdHdlZW4uZWxlbS5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0XHQoIHR3ZWVuLmVsZW0uc3R5bGVbIGpRdWVyeS5jc3NQcm9wc1sgdHdlZW4ucHJvcCBdIF0gIT0gbnVsbCB8fFxuXHRcdFx0XHRcdGpRdWVyeS5jc3NIb29rc1sgdHdlZW4ucHJvcCBdICkgKSB7XG5cdFx0XHRcdGpRdWVyeS5zdHlsZSggdHdlZW4uZWxlbSwgdHdlZW4ucHJvcCwgdHdlZW4ubm93ICsgdHdlZW4udW5pdCApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdID0gdHdlZW4ubm93O1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufTtcblxuLy8gU3VwcG9ydDogSUUgPD05IG9ubHlcbi8vIFBhbmljIGJhc2VkIGFwcHJvYWNoIHRvIHNldHRpbmcgdGhpbmdzIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xuVHdlZW4ucHJvcEhvb2tzLnNjcm9sbFRvcCA9IFR3ZWVuLnByb3BIb29rcy5zY3JvbGxMZWZ0ID0ge1xuXHRzZXQ6IGZ1bmN0aW9uKCB0d2VlbiApIHtcblx0XHRpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgJiYgdHdlZW4uZWxlbS5wYXJlbnROb2RlICkge1xuXHRcdFx0dHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdID0gdHdlZW4ubm93O1xuXHRcdH1cblx0fVxufTtcblxualF1ZXJ5LmVhc2luZyA9IHtcblx0bGluZWFyOiBmdW5jdGlvbiggcCApIHtcblx0XHRyZXR1cm4gcDtcblx0fSxcblx0c3dpbmc6IGZ1bmN0aW9uKCBwICkge1xuXHRcdHJldHVybiAwLjUgLSBNYXRoLmNvcyggcCAqIE1hdGguUEkgKSAvIDI7XG5cdH0sXG5cdF9kZWZhdWx0OiBcInN3aW5nXCJcbn07XG5cbmpRdWVyeS5meCA9IFR3ZWVuLnByb3RvdHlwZS5pbml0O1xuXG4vLyBCYWNrIGNvbXBhdCA8MS44IGV4dGVuc2lvbiBwb2ludFxualF1ZXJ5LmZ4LnN0ZXAgPSB7fTtcblxuXG5cblxudmFyXG5cdGZ4Tm93LCBpblByb2dyZXNzLFxuXHRyZnh0eXBlcyA9IC9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxcblx0cnJ1biA9IC9xdWV1ZUhvb2tzJC87XG5cbmZ1bmN0aW9uIHNjaGVkdWxlKCkge1xuXHRpZiAoIGluUHJvZ3Jlc3MgKSB7XG5cdFx0aWYgKCBkb2N1bWVudC5oaWRkZW4gPT09IGZhbHNlICYmIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgKSB7XG5cdFx0XHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCBzY2hlZHVsZSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR3aW5kb3cuc2V0VGltZW91dCggc2NoZWR1bGUsIGpRdWVyeS5meC5pbnRlcnZhbCApO1xuXHRcdH1cblxuXHRcdGpRdWVyeS5meC50aWNrKCk7XG5cdH1cbn1cblxuLy8gQW5pbWF0aW9ucyBjcmVhdGVkIHN5bmNocm9ub3VzbHkgd2lsbCBydW4gc3luY2hyb25vdXNseVxuZnVuY3Rpb24gY3JlYXRlRnhOb3coKSB7XG5cdHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblx0XHRmeE5vdyA9IHVuZGVmaW5lZDtcblx0fSApO1xuXHRyZXR1cm4gKCBmeE5vdyA9IERhdGUubm93KCkgKTtcbn1cblxuLy8gR2VuZXJhdGUgcGFyYW1ldGVycyB0byBjcmVhdGUgYSBzdGFuZGFyZCBhbmltYXRpb25cbmZ1bmN0aW9uIGdlbkZ4KCB0eXBlLCBpbmNsdWRlV2lkdGggKSB7XG5cdHZhciB3aGljaCxcblx0XHRpID0gMCxcblx0XHRhdHRycyA9IHsgaGVpZ2h0OiB0eXBlIH07XG5cblx0Ly8gSWYgd2UgaW5jbHVkZSB3aWR0aCwgc3RlcCB2YWx1ZSBpcyAxIHRvIGRvIGFsbCBjc3NFeHBhbmQgdmFsdWVzLFxuXHQvLyBvdGhlcndpc2Ugc3RlcCB2YWx1ZSBpcyAyIHRvIHNraXAgb3ZlciBMZWZ0IGFuZCBSaWdodFxuXHRpbmNsdWRlV2lkdGggPSBpbmNsdWRlV2lkdGggPyAxIDogMDtcblx0Zm9yICggOyBpIDwgNDsgaSArPSAyIC0gaW5jbHVkZVdpZHRoICkge1xuXHRcdHdoaWNoID0gY3NzRXhwYW5kWyBpIF07XG5cdFx0YXR0cnNbIFwibWFyZ2luXCIgKyB3aGljaCBdID0gYXR0cnNbIFwicGFkZGluZ1wiICsgd2hpY2ggXSA9IHR5cGU7XG5cdH1cblxuXHRpZiAoIGluY2x1ZGVXaWR0aCApIHtcblx0XHRhdHRycy5vcGFjaXR5ID0gYXR0cnMud2lkdGggPSB0eXBlO1xuXHR9XG5cblx0cmV0dXJuIGF0dHJzO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVUd2VlbiggdmFsdWUsIHByb3AsIGFuaW1hdGlvbiApIHtcblx0dmFyIHR3ZWVuLFxuXHRcdGNvbGxlY3Rpb24gPSAoIEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdIHx8IFtdICkuY29uY2F0KCBBbmltYXRpb24udHdlZW5lcnNbIFwiKlwiIF0gKSxcblx0XHRpbmRleCA9IDAsXG5cdFx0bGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGg7XG5cdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0aWYgKCAoIHR3ZWVuID0gY29sbGVjdGlvblsgaW5kZXggXS5jYWxsKCBhbmltYXRpb24sIHByb3AsIHZhbHVlICkgKSApIHtcblxuXHRcdFx0Ly8gV2UncmUgZG9uZSB3aXRoIHRoaXMgcHJvcGVydHlcblx0XHRcdHJldHVybiB0d2Vlbjtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gZGVmYXVsdFByZWZpbHRlciggZWxlbSwgcHJvcHMsIG9wdHMgKSB7XG5cdHZhciBwcm9wLCB2YWx1ZSwgdG9nZ2xlLCBob29rcywgb2xkZmlyZSwgcHJvcFR3ZWVuLCByZXN0b3JlRGlzcGxheSwgZGlzcGxheSxcblx0XHRpc0JveCA9IFwid2lkdGhcIiBpbiBwcm9wcyB8fCBcImhlaWdodFwiIGluIHByb3BzLFxuXHRcdGFuaW0gPSB0aGlzLFxuXHRcdG9yaWcgPSB7fSxcblx0XHRzdHlsZSA9IGVsZW0uc3R5bGUsXG5cdFx0aGlkZGVuID0gZWxlbS5ub2RlVHlwZSAmJiBpc0hpZGRlbldpdGhpblRyZWUoIGVsZW0gKSxcblx0XHRkYXRhU2hvdyA9IGRhdGFQcml2LmdldCggZWxlbSwgXCJmeHNob3dcIiApO1xuXG5cdC8vIFF1ZXVlLXNraXBwaW5nIGFuaW1hdGlvbnMgaGlqYWNrIHRoZSBmeCBob29rc1xuXHRpZiAoICFvcHRzLnF1ZXVlICkge1xuXHRcdGhvb2tzID0galF1ZXJ5Ll9xdWV1ZUhvb2tzKCBlbGVtLCBcImZ4XCIgKTtcblx0XHRpZiAoIGhvb2tzLnVucXVldWVkID09IG51bGwgKSB7XG5cdFx0XHRob29rcy51bnF1ZXVlZCA9IDA7XG5cdFx0XHRvbGRmaXJlID0gaG9va3MuZW1wdHkuZmlyZTtcblx0XHRcdGhvb2tzLmVtcHR5LmZpcmUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCAhaG9va3MudW5xdWV1ZWQgKSB7XG5cdFx0XHRcdFx0b2xkZmlyZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH1cblx0XHRob29rcy51bnF1ZXVlZCsrO1xuXG5cdFx0YW5pbS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvLyBFbnN1cmUgdGhlIGNvbXBsZXRlIGhhbmRsZXIgaXMgY2FsbGVkIGJlZm9yZSB0aGlzIGNvbXBsZXRlc1xuXHRcdFx0YW5pbS5hbHdheXMoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRob29rcy51bnF1ZXVlZC0tO1xuXHRcdFx0XHRpZiAoICFqUXVlcnkucXVldWUoIGVsZW0sIFwiZnhcIiApLmxlbmd0aCApIHtcblx0XHRcdFx0XHRob29rcy5lbXB0eS5maXJlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gKTtcblx0XHR9ICk7XG5cdH1cblxuXHQvLyBEZXRlY3Qgc2hvdy9oaWRlIGFuaW1hdGlvbnNcblx0Zm9yICggcHJvcCBpbiBwcm9wcyApIHtcblx0XHR2YWx1ZSA9IHByb3BzWyBwcm9wIF07XG5cdFx0aWYgKCByZnh0eXBlcy50ZXN0KCB2YWx1ZSApICkge1xuXHRcdFx0ZGVsZXRlIHByb3BzWyBwcm9wIF07XG5cdFx0XHR0b2dnbGUgPSB0b2dnbGUgfHwgdmFsdWUgPT09IFwidG9nZ2xlXCI7XG5cdFx0XHRpZiAoIHZhbHVlID09PSAoIGhpZGRlbiA/IFwiaGlkZVwiIDogXCJzaG93XCIgKSApIHtcblxuXHRcdFx0XHQvLyBQcmV0ZW5kIHRvIGJlIGhpZGRlbiBpZiB0aGlzIGlzIGEgXCJzaG93XCIgYW5kXG5cdFx0XHRcdC8vIHRoZXJlIGlzIHN0aWxsIGRhdGEgZnJvbSBhIHN0b3BwZWQgc2hvdy9oaWRlXG5cdFx0XHRcdGlmICggdmFsdWUgPT09IFwic2hvd1wiICYmIGRhdGFTaG93ICYmIGRhdGFTaG93WyBwcm9wIF0gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHRoaWRkZW4gPSB0cnVlO1xuXG5cdFx0XHRcdC8vIElnbm9yZSBhbGwgb3RoZXIgbm8tb3Agc2hvdy9oaWRlIGRhdGFcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0b3JpZ1sgcHJvcCBdID0gZGF0YVNob3cgJiYgZGF0YVNob3dbIHByb3AgXSB8fCBqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AgKTtcblx0XHR9XG5cdH1cblxuXHQvLyBCYWlsIG91dCBpZiB0aGlzIGlzIGEgbm8tb3AgbGlrZSAuaGlkZSgpLmhpZGUoKVxuXHRwcm9wVHdlZW4gPSAhalF1ZXJ5LmlzRW1wdHlPYmplY3QoIHByb3BzICk7XG5cdGlmICggIXByb3BUd2VlbiAmJiBqUXVlcnkuaXNFbXB0eU9iamVjdCggb3JpZyApICkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIFJlc3RyaWN0IFwib3ZlcmZsb3dcIiBhbmQgXCJkaXNwbGF5XCIgc3R5bGVzIGR1cmluZyBib3ggYW5pbWF0aW9uc1xuXHRpZiAoIGlzQm94ICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XG5cblx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSwgRWRnZSAxMiAtIDE1XG5cdFx0Ly8gUmVjb3JkIGFsbCAzIG92ZXJmbG93IGF0dHJpYnV0ZXMgYmVjYXVzZSBJRSBkb2VzIG5vdCBpbmZlciB0aGUgc2hvcnRoYW5kXG5cdFx0Ly8gZnJvbSBpZGVudGljYWxseS12YWx1ZWQgb3ZlcmZsb3dYIGFuZCBvdmVyZmxvd1kgYW5kIEVkZ2UganVzdCBtaXJyb3JzXG5cdFx0Ly8gdGhlIG92ZXJmbG93WCB2YWx1ZSB0aGVyZS5cblx0XHRvcHRzLm92ZXJmbG93ID0gWyBzdHlsZS5vdmVyZmxvdywgc3R5bGUub3ZlcmZsb3dYLCBzdHlsZS5vdmVyZmxvd1kgXTtcblxuXHRcdC8vIElkZW50aWZ5IGEgZGlzcGxheSB0eXBlLCBwcmVmZXJyaW5nIG9sZCBzaG93L2hpZGUgZGF0YSBvdmVyIHRoZSBDU1MgY2FzY2FkZVxuXHRcdHJlc3RvcmVEaXNwbGF5ID0gZGF0YVNob3cgJiYgZGF0YVNob3cuZGlzcGxheTtcblx0XHRpZiAoIHJlc3RvcmVEaXNwbGF5ID09IG51bGwgKSB7XG5cdFx0XHRyZXN0b3JlRGlzcGxheSA9IGRhdGFQcml2LmdldCggZWxlbSwgXCJkaXNwbGF5XCIgKTtcblx0XHR9XG5cdFx0ZGlzcGxheSA9IGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICk7XG5cdFx0aWYgKCBkaXNwbGF5ID09PSBcIm5vbmVcIiApIHtcblx0XHRcdGlmICggcmVzdG9yZURpc3BsYXkgKSB7XG5cdFx0XHRcdGRpc3BsYXkgPSByZXN0b3JlRGlzcGxheTtcblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gR2V0IG5vbmVtcHR5IHZhbHVlKHMpIGJ5IHRlbXBvcmFyaWx5IGZvcmNpbmcgdmlzaWJpbGl0eVxuXHRcdFx0XHRzaG93SGlkZSggWyBlbGVtIF0sIHRydWUgKTtcblx0XHRcdFx0cmVzdG9yZURpc3BsYXkgPSBlbGVtLnN0eWxlLmRpc3BsYXkgfHwgcmVzdG9yZURpc3BsYXk7XG5cdFx0XHRcdGRpc3BsYXkgPSBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApO1xuXHRcdFx0XHRzaG93SGlkZSggWyBlbGVtIF0gKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBBbmltYXRlIGlubGluZSBlbGVtZW50cyBhcyBpbmxpbmUtYmxvY2tcblx0XHRpZiAoIGRpc3BsYXkgPT09IFwiaW5saW5lXCIgfHwgZGlzcGxheSA9PT0gXCJpbmxpbmUtYmxvY2tcIiAmJiByZXN0b3JlRGlzcGxheSAhPSBudWxsICkge1xuXHRcdFx0aWYgKCBqUXVlcnkuY3NzKCBlbGVtLCBcImZsb2F0XCIgKSA9PT0gXCJub25lXCIgKSB7XG5cblx0XHRcdFx0Ly8gUmVzdG9yZSB0aGUgb3JpZ2luYWwgZGlzcGxheSB2YWx1ZSBhdCB0aGUgZW5kIG9mIHB1cmUgc2hvdy9oaWRlIGFuaW1hdGlvbnNcblx0XHRcdFx0aWYgKCAhcHJvcFR3ZWVuICkge1xuXHRcdFx0XHRcdGFuaW0uZG9uZSggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRzdHlsZS5kaXNwbGF5ID0gcmVzdG9yZURpc3BsYXk7XG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdGlmICggcmVzdG9yZURpc3BsYXkgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdGRpc3BsYXkgPSBzdHlsZS5kaXNwbGF5O1xuXHRcdFx0XHRcdFx0cmVzdG9yZURpc3BsYXkgPSBkaXNwbGF5ID09PSBcIm5vbmVcIiA/IFwiXCIgOiBkaXNwbGF5O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRzdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmUtYmxvY2tcIjtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAoIG9wdHMub3ZlcmZsb3cgKSB7XG5cdFx0c3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuXHRcdGFuaW0uYWx3YXlzKCBmdW5jdGlvbigpIHtcblx0XHRcdHN0eWxlLm92ZXJmbG93ID0gb3B0cy5vdmVyZmxvd1sgMCBdO1xuXHRcdFx0c3R5bGUub3ZlcmZsb3dYID0gb3B0cy5vdmVyZmxvd1sgMSBdO1xuXHRcdFx0c3R5bGUub3ZlcmZsb3dZID0gb3B0cy5vdmVyZmxvd1sgMiBdO1xuXHRcdH0gKTtcblx0fVxuXG5cdC8vIEltcGxlbWVudCBzaG93L2hpZGUgYW5pbWF0aW9uc1xuXHRwcm9wVHdlZW4gPSBmYWxzZTtcblx0Zm9yICggcHJvcCBpbiBvcmlnICkge1xuXG5cdFx0Ly8gR2VuZXJhbCBzaG93L2hpZGUgc2V0dXAgZm9yIHRoaXMgZWxlbWVudCBhbmltYXRpb25cblx0XHRpZiAoICFwcm9wVHdlZW4gKSB7XG5cdFx0XHRpZiAoIGRhdGFTaG93ICkge1xuXHRcdFx0XHRpZiAoIFwiaGlkZGVuXCIgaW4gZGF0YVNob3cgKSB7XG5cdFx0XHRcdFx0aGlkZGVuID0gZGF0YVNob3cuaGlkZGVuO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkYXRhU2hvdyA9IGRhdGFQcml2LmFjY2VzcyggZWxlbSwgXCJmeHNob3dcIiwgeyBkaXNwbGF5OiByZXN0b3JlRGlzcGxheSB9ICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN0b3JlIGhpZGRlbi92aXNpYmxlIGZvciB0b2dnbGUgc28gYC5zdG9wKCkudG9nZ2xlKClgIFwicmV2ZXJzZXNcIlxuXHRcdFx0aWYgKCB0b2dnbGUgKSB7XG5cdFx0XHRcdGRhdGFTaG93LmhpZGRlbiA9ICFoaWRkZW47XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNob3cgZWxlbWVudHMgYmVmb3JlIGFuaW1hdGluZyB0aGVtXG5cdFx0XHRpZiAoIGhpZGRlbiApIHtcblx0XHRcdFx0c2hvd0hpZGUoIFsgZWxlbSBdLCB0cnVlICk7XG5cdFx0XHR9XG5cblx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLWxvb3AtZnVuYyAqL1xuXG5cdFx0XHRhbmltLmRvbmUoIGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQvKiBlc2xpbnQtZW5hYmxlIG5vLWxvb3AtZnVuYyAqL1xuXG5cdFx0XHRcdC8vIFRoZSBmaW5hbCBzdGVwIG9mIGEgXCJoaWRlXCIgYW5pbWF0aW9uIGlzIGFjdHVhbGx5IGhpZGluZyB0aGUgZWxlbWVudFxuXHRcdFx0XHRpZiAoICFoaWRkZW4gKSB7XG5cdFx0XHRcdFx0c2hvd0hpZGUoIFsgZWxlbSBdICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBcImZ4c2hvd1wiICk7XG5cdFx0XHRcdGZvciAoIHByb3AgaW4gb3JpZyApIHtcblx0XHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AsIG9yaWdbIHByb3AgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0Ly8gUGVyLXByb3BlcnR5IHNldHVwXG5cdFx0cHJvcFR3ZWVuID0gY3JlYXRlVHdlZW4oIGhpZGRlbiA/IGRhdGFTaG93WyBwcm9wIF0gOiAwLCBwcm9wLCBhbmltICk7XG5cdFx0aWYgKCAhKCBwcm9wIGluIGRhdGFTaG93ICkgKSB7XG5cdFx0XHRkYXRhU2hvd1sgcHJvcCBdID0gcHJvcFR3ZWVuLnN0YXJ0O1xuXHRcdFx0aWYgKCBoaWRkZW4gKSB7XG5cdFx0XHRcdHByb3BUd2Vlbi5lbmQgPSBwcm9wVHdlZW4uc3RhcnQ7XG5cdFx0XHRcdHByb3BUd2Vlbi5zdGFydCA9IDA7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIHByb3BGaWx0ZXIoIHByb3BzLCBzcGVjaWFsRWFzaW5nICkge1xuXHR2YXIgaW5kZXgsIG5hbWUsIGVhc2luZywgdmFsdWUsIGhvb2tzO1xuXG5cdC8vIGNhbWVsQ2FzZSwgc3BlY2lhbEVhc2luZyBhbmQgZXhwYW5kIGNzc0hvb2sgcGFzc1xuXHRmb3IgKCBpbmRleCBpbiBwcm9wcyApIHtcblx0XHRuYW1lID0gY2FtZWxDYXNlKCBpbmRleCApO1xuXHRcdGVhc2luZyA9IHNwZWNpYWxFYXNpbmdbIG5hbWUgXTtcblx0XHR2YWx1ZSA9IHByb3BzWyBpbmRleCBdO1xuXHRcdGlmICggQXJyYXkuaXNBcnJheSggdmFsdWUgKSApIHtcblx0XHRcdGVhc2luZyA9IHZhbHVlWyAxIF07XG5cdFx0XHR2YWx1ZSA9IHByb3BzWyBpbmRleCBdID0gdmFsdWVbIDAgXTtcblx0XHR9XG5cblx0XHRpZiAoIGluZGV4ICE9PSBuYW1lICkge1xuXHRcdFx0cHJvcHNbIG5hbWUgXSA9IHZhbHVlO1xuXHRcdFx0ZGVsZXRlIHByb3BzWyBpbmRleCBdO1xuXHRcdH1cblxuXHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF07XG5cdFx0aWYgKCBob29rcyAmJiBcImV4cGFuZFwiIGluIGhvb2tzICkge1xuXHRcdFx0dmFsdWUgPSBob29rcy5leHBhbmQoIHZhbHVlICk7XG5cdFx0XHRkZWxldGUgcHJvcHNbIG5hbWUgXTtcblxuXHRcdFx0Ly8gTm90IHF1aXRlICQuZXh0ZW5kLCB0aGlzIHdvbid0IG92ZXJ3cml0ZSBleGlzdGluZyBrZXlzLlxuXHRcdFx0Ly8gUmV1c2luZyAnaW5kZXgnIGJlY2F1c2Ugd2UgaGF2ZSB0aGUgY29ycmVjdCBcIm5hbWVcIlxuXHRcdFx0Zm9yICggaW5kZXggaW4gdmFsdWUgKSB7XG5cdFx0XHRcdGlmICggISggaW5kZXggaW4gcHJvcHMgKSApIHtcblx0XHRcdFx0XHRwcm9wc1sgaW5kZXggXSA9IHZhbHVlWyBpbmRleCBdO1xuXHRcdFx0XHRcdHNwZWNpYWxFYXNpbmdbIGluZGV4IF0gPSBlYXNpbmc7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0c3BlY2lhbEVhc2luZ1sgbmFtZSBdID0gZWFzaW5nO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBBbmltYXRpb24oIGVsZW0sIHByb3BlcnRpZXMsIG9wdGlvbnMgKSB7XG5cdHZhciByZXN1bHQsXG5cdFx0c3RvcHBlZCxcblx0XHRpbmRleCA9IDAsXG5cdFx0bGVuZ3RoID0gQW5pbWF0aW9uLnByZWZpbHRlcnMubGVuZ3RoLFxuXHRcdGRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCkuYWx3YXlzKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gRG9uJ3QgbWF0Y2ggZWxlbSBpbiB0aGUgOmFuaW1hdGVkIHNlbGVjdG9yXG5cdFx0XHRkZWxldGUgdGljay5lbGVtO1xuXHRcdH0gKSxcblx0XHR0aWNrID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIHN0b3BwZWQgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHRcdHZhciBjdXJyZW50VGltZSA9IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksXG5cdFx0XHRcdHJlbWFpbmluZyA9IE1hdGgubWF4KCAwLCBhbmltYXRpb24uc3RhcnRUaW1lICsgYW5pbWF0aW9uLmR1cmF0aW9uIC0gY3VycmVudFRpbWUgKSxcblxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDIuMyBvbmx5XG5cdFx0XHRcdC8vIEFyY2hhaWMgY3Jhc2ggYnVnIHdvbid0IGFsbG93IHVzIHRvIHVzZSBgMSAtICggMC41IHx8IDAgKWAgKCMxMjQ5Nylcblx0XHRcdFx0dGVtcCA9IHJlbWFpbmluZyAvIGFuaW1hdGlvbi5kdXJhdGlvbiB8fCAwLFxuXHRcdFx0XHRwZXJjZW50ID0gMSAtIHRlbXAsXG5cdFx0XHRcdGluZGV4ID0gMCxcblx0XHRcdFx0bGVuZ3RoID0gYW5pbWF0aW9uLnR3ZWVucy5sZW5ndGg7XG5cblx0XHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRcdGFuaW1hdGlvbi50d2VlbnNbIGluZGV4IF0ucnVuKCBwZXJjZW50ICk7XG5cdFx0XHR9XG5cblx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCBwZXJjZW50LCByZW1haW5pbmcgXSApO1xuXG5cdFx0XHQvLyBJZiB0aGVyZSdzIG1vcmUgdG8gZG8sIHlpZWxkXG5cdFx0XHRpZiAoIHBlcmNlbnQgPCAxICYmIGxlbmd0aCApIHtcblx0XHRcdFx0cmV0dXJuIHJlbWFpbmluZztcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgdGhpcyB3YXMgYW4gZW1wdHkgYW5pbWF0aW9uLCBzeW50aGVzaXplIGEgZmluYWwgcHJvZ3Jlc3Mgbm90aWZpY2F0aW9uXG5cdFx0XHRpZiAoICFsZW5ndGggKSB7XG5cdFx0XHRcdGRlZmVycmVkLm5vdGlmeVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uLCAxLCAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmVzb2x2ZSB0aGUgYW5pbWF0aW9uIGFuZCByZXBvcnQgaXRzIGNvbmNsdXNpb25cblx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiBdICk7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fSxcblx0XHRhbmltYXRpb24gPSBkZWZlcnJlZC5wcm9taXNlKCB7XG5cdFx0XHRlbGVtOiBlbGVtLFxuXHRcdFx0cHJvcHM6IGpRdWVyeS5leHRlbmQoIHt9LCBwcm9wZXJ0aWVzICksXG5cdFx0XHRvcHRzOiBqUXVlcnkuZXh0ZW5kKCB0cnVlLCB7XG5cdFx0XHRcdHNwZWNpYWxFYXNpbmc6IHt9LFxuXHRcdFx0XHRlYXNpbmc6IGpRdWVyeS5lYXNpbmcuX2RlZmF1bHRcblx0XHRcdH0sIG9wdGlvbnMgKSxcblx0XHRcdG9yaWdpbmFsUHJvcGVydGllczogcHJvcGVydGllcyxcblx0XHRcdG9yaWdpbmFsT3B0aW9uczogb3B0aW9ucyxcblx0XHRcdHN0YXJ0VGltZTogZnhOb3cgfHwgY3JlYXRlRnhOb3coKSxcblx0XHRcdGR1cmF0aW9uOiBvcHRpb25zLmR1cmF0aW9uLFxuXHRcdFx0dHdlZW5zOiBbXSxcblx0XHRcdGNyZWF0ZVR3ZWVuOiBmdW5jdGlvbiggcHJvcCwgZW5kICkge1xuXHRcdFx0XHR2YXIgdHdlZW4gPSBqUXVlcnkuVHdlZW4oIGVsZW0sIGFuaW1hdGlvbi5vcHRzLCBwcm9wLCBlbmQsXG5cdFx0XHRcdFx0XHRhbmltYXRpb24ub3B0cy5zcGVjaWFsRWFzaW5nWyBwcm9wIF0gfHwgYW5pbWF0aW9uLm9wdHMuZWFzaW5nICk7XG5cdFx0XHRcdGFuaW1hdGlvbi50d2VlbnMucHVzaCggdHdlZW4gKTtcblx0XHRcdFx0cmV0dXJuIHR3ZWVuO1xuXHRcdFx0fSxcblx0XHRcdHN0b3A6IGZ1bmN0aW9uKCBnb3RvRW5kICkge1xuXHRcdFx0XHR2YXIgaW5kZXggPSAwLFxuXG5cdFx0XHRcdFx0Ly8gSWYgd2UgYXJlIGdvaW5nIHRvIHRoZSBlbmQsIHdlIHdhbnQgdG8gcnVuIGFsbCB0aGUgdHdlZW5zXG5cdFx0XHRcdFx0Ly8gb3RoZXJ3aXNlIHdlIHNraXAgdGhpcyBwYXJ0XG5cdFx0XHRcdFx0bGVuZ3RoID0gZ290b0VuZCA/IGFuaW1hdGlvbi50d2VlbnMubGVuZ3RoIDogMDtcblx0XHRcdFx0aWYgKCBzdG9wcGVkICkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHN0b3BwZWQgPSB0cnVlO1xuXHRcdFx0XHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0XHRcdGFuaW1hdGlvbi50d2VlbnNbIGluZGV4IF0ucnVuKCAxICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZXNvbHZlIHdoZW4gd2UgcGxheWVkIHRoZSBsYXN0IGZyYW1lOyBvdGhlcndpc2UsIHJlamVjdFxuXHRcdFx0XHRpZiAoIGdvdG9FbmQgKSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQubm90aWZ5V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIDEsIDAgXSApO1xuXHRcdFx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgZ290b0VuZCBdICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggZWxlbSwgWyBhbmltYXRpb24sIGdvdG9FbmQgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fVxuXHRcdH0gKSxcblx0XHRwcm9wcyA9IGFuaW1hdGlvbi5wcm9wcztcblxuXHRwcm9wRmlsdGVyKCBwcm9wcywgYW5pbWF0aW9uLm9wdHMuc3BlY2lhbEVhc2luZyApO1xuXG5cdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0cmVzdWx0ID0gQW5pbWF0aW9uLnByZWZpbHRlcnNbIGluZGV4IF0uY2FsbCggYW5pbWF0aW9uLCBlbGVtLCBwcm9wcywgYW5pbWF0aW9uLm9wdHMgKTtcblx0XHRpZiAoIHJlc3VsdCApIHtcblx0XHRcdGlmICggaXNGdW5jdGlvbiggcmVzdWx0LnN0b3AgKSApIHtcblx0XHRcdFx0alF1ZXJ5Ll9xdWV1ZUhvb2tzKCBhbmltYXRpb24uZWxlbSwgYW5pbWF0aW9uLm9wdHMucXVldWUgKS5zdG9wID1cblx0XHRcdFx0XHRyZXN1bHQuc3RvcC5iaW5kKCByZXN1bHQgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXHR9XG5cblx0alF1ZXJ5Lm1hcCggcHJvcHMsIGNyZWF0ZVR3ZWVuLCBhbmltYXRpb24gKTtcblxuXHRpZiAoIGlzRnVuY3Rpb24oIGFuaW1hdGlvbi5vcHRzLnN0YXJ0ICkgKSB7XG5cdFx0YW5pbWF0aW9uLm9wdHMuc3RhcnQuY2FsbCggZWxlbSwgYW5pbWF0aW9uICk7XG5cdH1cblxuXHQvLyBBdHRhY2ggY2FsbGJhY2tzIGZyb20gb3B0aW9uc1xuXHRhbmltYXRpb25cblx0XHQucHJvZ3Jlc3MoIGFuaW1hdGlvbi5vcHRzLnByb2dyZXNzIClcblx0XHQuZG9uZSggYW5pbWF0aW9uLm9wdHMuZG9uZSwgYW5pbWF0aW9uLm9wdHMuY29tcGxldGUgKVxuXHRcdC5mYWlsKCBhbmltYXRpb24ub3B0cy5mYWlsIClcblx0XHQuYWx3YXlzKCBhbmltYXRpb24ub3B0cy5hbHdheXMgKTtcblxuXHRqUXVlcnkuZngudGltZXIoXG5cdFx0alF1ZXJ5LmV4dGVuZCggdGljaywge1xuXHRcdFx0ZWxlbTogZWxlbSxcblx0XHRcdGFuaW06IGFuaW1hdGlvbixcblx0XHRcdHF1ZXVlOiBhbmltYXRpb24ub3B0cy5xdWV1ZVxuXHRcdH0gKVxuXHQpO1xuXG5cdHJldHVybiBhbmltYXRpb247XG59XG5cbmpRdWVyeS5BbmltYXRpb24gPSBqUXVlcnkuZXh0ZW5kKCBBbmltYXRpb24sIHtcblxuXHR0d2VlbmVyczoge1xuXHRcdFwiKlwiOiBbIGZ1bmN0aW9uKCBwcm9wLCB2YWx1ZSApIHtcblx0XHRcdHZhciB0d2VlbiA9IHRoaXMuY3JlYXRlVHdlZW4oIHByb3AsIHZhbHVlICk7XG5cdFx0XHRhZGp1c3RDU1MoIHR3ZWVuLmVsZW0sIHByb3AsIHJjc3NOdW0uZXhlYyggdmFsdWUgKSwgdHdlZW4gKTtcblx0XHRcdHJldHVybiB0d2Vlbjtcblx0XHR9IF1cblx0fSxcblxuXHR0d2VlbmVyOiBmdW5jdGlvbiggcHJvcHMsIGNhbGxiYWNrICkge1xuXHRcdGlmICggaXNGdW5jdGlvbiggcHJvcHMgKSApIHtcblx0XHRcdGNhbGxiYWNrID0gcHJvcHM7XG5cdFx0XHRwcm9wcyA9IFsgXCIqXCIgXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cHJvcHMgPSBwcm9wcy5tYXRjaCggcm5vdGh0bWx3aGl0ZSApO1xuXHRcdH1cblxuXHRcdHZhciBwcm9wLFxuXHRcdFx0aW5kZXggPSAwLFxuXHRcdFx0bGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG5cdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdHByb3AgPSBwcm9wc1sgaW5kZXggXTtcblx0XHRcdEFuaW1hdGlvbi50d2VlbmVyc1sgcHJvcCBdID0gQW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0gfHwgW107XG5cdFx0XHRBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXS51bnNoaWZ0KCBjYWxsYmFjayApO1xuXHRcdH1cblx0fSxcblxuXHRwcmVmaWx0ZXJzOiBbIGRlZmF1bHRQcmVmaWx0ZXIgXSxcblxuXHRwcmVmaWx0ZXI6IGZ1bmN0aW9uKCBjYWxsYmFjaywgcHJlcGVuZCApIHtcblx0XHRpZiAoIHByZXBlbmQgKSB7XG5cdFx0XHRBbmltYXRpb24ucHJlZmlsdGVycy51bnNoaWZ0KCBjYWxsYmFjayApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRBbmltYXRpb24ucHJlZmlsdGVycy5wdXNoKCBjYWxsYmFjayApO1xuXHRcdH1cblx0fVxufSApO1xuXG5qUXVlcnkuc3BlZWQgPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgZm4gKSB7XG5cdHZhciBvcHQgPSBzcGVlZCAmJiB0eXBlb2Ygc3BlZWQgPT09IFwib2JqZWN0XCIgPyBqUXVlcnkuZXh0ZW5kKCB7fSwgc3BlZWQgKSA6IHtcblx0XHRjb21wbGV0ZTogZm4gfHwgIWZuICYmIGVhc2luZyB8fFxuXHRcdFx0aXNGdW5jdGlvbiggc3BlZWQgKSAmJiBzcGVlZCxcblx0XHRkdXJhdGlvbjogc3BlZWQsXG5cdFx0ZWFzaW5nOiBmbiAmJiBlYXNpbmcgfHwgZWFzaW5nICYmICFpc0Z1bmN0aW9uKCBlYXNpbmcgKSAmJiBlYXNpbmdcblx0fTtcblxuXHQvLyBHbyB0byB0aGUgZW5kIHN0YXRlIGlmIGZ4IGFyZSBvZmZcblx0aWYgKCBqUXVlcnkuZngub2ZmICkge1xuXHRcdG9wdC5kdXJhdGlvbiA9IDA7XG5cblx0fSBlbHNlIHtcblx0XHRpZiAoIHR5cGVvZiBvcHQuZHVyYXRpb24gIT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRpZiAoIG9wdC5kdXJhdGlvbiBpbiBqUXVlcnkuZnguc3BlZWRzICkge1xuXHRcdFx0XHRvcHQuZHVyYXRpb24gPSBqUXVlcnkuZnguc3BlZWRzWyBvcHQuZHVyYXRpb24gXTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3B0LmR1cmF0aW9uID0galF1ZXJ5LmZ4LnNwZWVkcy5fZGVmYXVsdDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvLyBOb3JtYWxpemUgb3B0LnF1ZXVlIC0gdHJ1ZS91bmRlZmluZWQvbnVsbCAtPiBcImZ4XCJcblx0aWYgKCBvcHQucXVldWUgPT0gbnVsbCB8fCBvcHQucXVldWUgPT09IHRydWUgKSB7XG5cdFx0b3B0LnF1ZXVlID0gXCJmeFwiO1xuXHR9XG5cblx0Ly8gUXVldWVpbmdcblx0b3B0Lm9sZCA9IG9wdC5jb21wbGV0ZTtcblxuXHRvcHQuY29tcGxldGUgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAoIGlzRnVuY3Rpb24oIG9wdC5vbGQgKSApIHtcblx0XHRcdG9wdC5vbGQuY2FsbCggdGhpcyApO1xuXHRcdH1cblxuXHRcdGlmICggb3B0LnF1ZXVlICkge1xuXHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIG9wdC5xdWV1ZSApO1xuXHRcdH1cblx0fTtcblxuXHRyZXR1cm4gb3B0O1xufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRmYWRlVG86IGZ1bmN0aW9uKCBzcGVlZCwgdG8sIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cblx0XHQvLyBTaG93IGFueSBoaWRkZW4gZWxlbWVudHMgYWZ0ZXIgc2V0dGluZyBvcGFjaXR5IHRvIDBcblx0XHRyZXR1cm4gdGhpcy5maWx0ZXIoIGlzSGlkZGVuV2l0aGluVHJlZSApLmNzcyggXCJvcGFjaXR5XCIsIDAgKS5zaG93KClcblxuXHRcdFx0Ly8gQW5pbWF0ZSB0byB0aGUgdmFsdWUgc3BlY2lmaWVkXG5cdFx0XHQuZW5kKCkuYW5pbWF0ZSggeyBvcGFjaXR5OiB0byB9LCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApO1xuXHR9LFxuXHRhbmltYXRlOiBmdW5jdGlvbiggcHJvcCwgc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdFx0dmFyIGVtcHR5ID0galF1ZXJ5LmlzRW1wdHlPYmplY3QoIHByb3AgKSxcblx0XHRcdG9wdGFsbCA9IGpRdWVyeS5zcGVlZCggc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSxcblx0XHRcdGRvQW5pbWF0aW9uID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0Ly8gT3BlcmF0ZSBvbiBhIGNvcHkgb2YgcHJvcCBzbyBwZXItcHJvcGVydHkgZWFzaW5nIHdvbid0IGJlIGxvc3Rcblx0XHRcdFx0dmFyIGFuaW0gPSBBbmltYXRpb24oIHRoaXMsIGpRdWVyeS5leHRlbmQoIHt9LCBwcm9wICksIG9wdGFsbCApO1xuXG5cdFx0XHRcdC8vIEVtcHR5IGFuaW1hdGlvbnMsIG9yIGZpbmlzaGluZyByZXNvbHZlcyBpbW1lZGlhdGVseVxuXHRcdFx0XHRpZiAoIGVtcHR5IHx8IGRhdGFQcml2LmdldCggdGhpcywgXCJmaW5pc2hcIiApICkge1xuXHRcdFx0XHRcdGFuaW0uc3RvcCggdHJ1ZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0ZG9BbmltYXRpb24uZmluaXNoID0gZG9BbmltYXRpb247XG5cblx0XHRyZXR1cm4gZW1wdHkgfHwgb3B0YWxsLnF1ZXVlID09PSBmYWxzZSA/XG5cdFx0XHR0aGlzLmVhY2goIGRvQW5pbWF0aW9uICkgOlxuXHRcdFx0dGhpcy5xdWV1ZSggb3B0YWxsLnF1ZXVlLCBkb0FuaW1hdGlvbiApO1xuXHR9LFxuXHRzdG9wOiBmdW5jdGlvbiggdHlwZSwgY2xlYXJRdWV1ZSwgZ290b0VuZCApIHtcblx0XHR2YXIgc3RvcFF1ZXVlID0gZnVuY3Rpb24oIGhvb2tzICkge1xuXHRcdFx0dmFyIHN0b3AgPSBob29rcy5zdG9wO1xuXHRcdFx0ZGVsZXRlIGhvb2tzLnN0b3A7XG5cdFx0XHRzdG9wKCBnb3RvRW5kICk7XG5cdFx0fTtcblxuXHRcdGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRnb3RvRW5kID0gY2xlYXJRdWV1ZTtcblx0XHRcdGNsZWFyUXVldWUgPSB0eXBlO1xuXHRcdFx0dHlwZSA9IHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0aWYgKCBjbGVhclF1ZXVlICYmIHR5cGUgIT09IGZhbHNlICkge1xuXHRcdFx0dGhpcy5xdWV1ZSggdHlwZSB8fCBcImZ4XCIsIFtdICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgZGVxdWV1ZSA9IHRydWUsXG5cdFx0XHRcdGluZGV4ID0gdHlwZSAhPSBudWxsICYmIHR5cGUgKyBcInF1ZXVlSG9va3NcIixcblx0XHRcdFx0dGltZXJzID0galF1ZXJ5LnRpbWVycyxcblx0XHRcdFx0ZGF0YSA9IGRhdGFQcml2LmdldCggdGhpcyApO1xuXG5cdFx0XHRpZiAoIGluZGV4ICkge1xuXHRcdFx0XHRpZiAoIGRhdGFbIGluZGV4IF0gJiYgZGF0YVsgaW5kZXggXS5zdG9wICkge1xuXHRcdFx0XHRcdHN0b3BRdWV1ZSggZGF0YVsgaW5kZXggXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmb3IgKCBpbmRleCBpbiBkYXRhICkge1xuXHRcdFx0XHRcdGlmICggZGF0YVsgaW5kZXggXSAmJiBkYXRhWyBpbmRleCBdLnN0b3AgJiYgcnJ1bi50ZXN0KCBpbmRleCApICkge1xuXHRcdFx0XHRcdFx0c3RvcFF1ZXVlKCBkYXRhWyBpbmRleCBdICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGZvciAoIGluZGV4ID0gdGltZXJzLmxlbmd0aDsgaW5kZXgtLTsgKSB7XG5cdFx0XHRcdGlmICggdGltZXJzWyBpbmRleCBdLmVsZW0gPT09IHRoaXMgJiZcblx0XHRcdFx0XHQoIHR5cGUgPT0gbnVsbCB8fCB0aW1lcnNbIGluZGV4IF0ucXVldWUgPT09IHR5cGUgKSApIHtcblxuXHRcdFx0XHRcdHRpbWVyc1sgaW5kZXggXS5hbmltLnN0b3AoIGdvdG9FbmQgKTtcblx0XHRcdFx0XHRkZXF1ZXVlID0gZmFsc2U7XG5cdFx0XHRcdFx0dGltZXJzLnNwbGljZSggaW5kZXgsIDEgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdGFydCB0aGUgbmV4dCBpbiB0aGUgcXVldWUgaWYgdGhlIGxhc3Qgc3RlcCB3YXNuJ3QgZm9yY2VkLlxuXHRcdFx0Ly8gVGltZXJzIGN1cnJlbnRseSB3aWxsIGNhbGwgdGhlaXIgY29tcGxldGUgY2FsbGJhY2tzLCB3aGljaFxuXHRcdFx0Ly8gd2lsbCBkZXF1ZXVlIGJ1dCBvbmx5IGlmIHRoZXkgd2VyZSBnb3RvRW5kLlxuXHRcdFx0aWYgKCBkZXF1ZXVlIHx8ICFnb3RvRW5kICkge1xuXHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0fSxcblx0ZmluaXNoOiBmdW5jdGlvbiggdHlwZSApIHtcblx0XHRpZiAoIHR5cGUgIT09IGZhbHNlICkge1xuXHRcdFx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpbmRleCxcblx0XHRcdFx0ZGF0YSA9IGRhdGFQcml2LmdldCggdGhpcyApLFxuXHRcdFx0XHRxdWV1ZSA9IGRhdGFbIHR5cGUgKyBcInF1ZXVlXCIgXSxcblx0XHRcdFx0aG9va3MgPSBkYXRhWyB0eXBlICsgXCJxdWV1ZUhvb2tzXCIgXSxcblx0XHRcdFx0dGltZXJzID0galF1ZXJ5LnRpbWVycyxcblx0XHRcdFx0bGVuZ3RoID0gcXVldWUgPyBxdWV1ZS5sZW5ndGggOiAwO1xuXG5cdFx0XHQvLyBFbmFibGUgZmluaXNoaW5nIGZsYWcgb24gcHJpdmF0ZSBkYXRhXG5cdFx0XHRkYXRhLmZpbmlzaCA9IHRydWU7XG5cblx0XHRcdC8vIEVtcHR5IHRoZSBxdWV1ZSBmaXJzdFxuXHRcdFx0alF1ZXJ5LnF1ZXVlKCB0aGlzLCB0eXBlLCBbXSApO1xuXG5cdFx0XHRpZiAoIGhvb2tzICYmIGhvb2tzLnN0b3AgKSB7XG5cdFx0XHRcdGhvb2tzLnN0b3AuY2FsbCggdGhpcywgdHJ1ZSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBMb29rIGZvciBhbnkgYWN0aXZlIGFuaW1hdGlvbnMsIGFuZCBmaW5pc2ggdGhlbVxuXHRcdFx0Zm9yICggaW5kZXggPSB0aW1lcnMubGVuZ3RoOyBpbmRleC0tOyApIHtcblx0XHRcdFx0aWYgKCB0aW1lcnNbIGluZGV4IF0uZWxlbSA9PT0gdGhpcyAmJiB0aW1lcnNbIGluZGV4IF0ucXVldWUgPT09IHR5cGUgKSB7XG5cdFx0XHRcdFx0dGltZXJzWyBpbmRleCBdLmFuaW0uc3RvcCggdHJ1ZSApO1xuXHRcdFx0XHRcdHRpbWVycy5zcGxpY2UoIGluZGV4LCAxICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gTG9vayBmb3IgYW55IGFuaW1hdGlvbnMgaW4gdGhlIG9sZCBxdWV1ZSBhbmQgZmluaXNoIHRoZW1cblx0XHRcdGZvciAoIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRcdGlmICggcXVldWVbIGluZGV4IF0gJiYgcXVldWVbIGluZGV4IF0uZmluaXNoICkge1xuXHRcdFx0XHRcdHF1ZXVlWyBpbmRleCBdLmZpbmlzaC5jYWxsKCB0aGlzICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gVHVybiBvZmYgZmluaXNoaW5nIGZsYWdcblx0XHRcdGRlbGV0ZSBkYXRhLmZpbmlzaDtcblx0XHR9ICk7XG5cdH1cbn0gKTtcblxualF1ZXJ5LmVhY2goIFsgXCJ0b2dnbGVcIiwgXCJzaG93XCIsIFwiaGlkZVwiIF0sIGZ1bmN0aW9uKCBpLCBuYW1lICkge1xuXHR2YXIgY3NzRm4gPSBqUXVlcnkuZm5bIG5hbWUgXTtcblx0alF1ZXJ5LmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggc3BlZWQsIGVhc2luZywgY2FsbGJhY2sgKSB7XG5cdFx0cmV0dXJuIHNwZWVkID09IG51bGwgfHwgdHlwZW9mIHNwZWVkID09PSBcImJvb2xlYW5cIiA/XG5cdFx0XHRjc3NGbi5hcHBseSggdGhpcywgYXJndW1lbnRzICkgOlxuXHRcdFx0dGhpcy5hbmltYXRlKCBnZW5GeCggbmFtZSwgdHJ1ZSApLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApO1xuXHR9O1xufSApO1xuXG4vLyBHZW5lcmF0ZSBzaG9ydGN1dHMgZm9yIGN1c3RvbSBhbmltYXRpb25zXG5qUXVlcnkuZWFjaCgge1xuXHRzbGlkZURvd246IGdlbkZ4KCBcInNob3dcIiApLFxuXHRzbGlkZVVwOiBnZW5GeCggXCJoaWRlXCIgKSxcblx0c2xpZGVUb2dnbGU6IGdlbkZ4KCBcInRvZ2dsZVwiICksXG5cdGZhZGVJbjogeyBvcGFjaXR5OiBcInNob3dcIiB9LFxuXHRmYWRlT3V0OiB7IG9wYWNpdHk6IFwiaGlkZVwiIH0sXG5cdGZhZGVUb2dnbGU6IHsgb3BhY2l0eTogXCJ0b2dnbGVcIiB9XG59LCBmdW5jdGlvbiggbmFtZSwgcHJvcHMgKSB7XG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiB0aGlzLmFuaW1hdGUoIHByb3BzLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApO1xuXHR9O1xufSApO1xuXG5qUXVlcnkudGltZXJzID0gW107XG5qUXVlcnkuZngudGljayA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgdGltZXIsXG5cdFx0aSA9IDAsXG5cdFx0dGltZXJzID0galF1ZXJ5LnRpbWVycztcblxuXHRmeE5vdyA9IERhdGUubm93KCk7XG5cblx0Zm9yICggOyBpIDwgdGltZXJzLmxlbmd0aDsgaSsrICkge1xuXHRcdHRpbWVyID0gdGltZXJzWyBpIF07XG5cblx0XHQvLyBSdW4gdGhlIHRpbWVyIGFuZCBzYWZlbHkgcmVtb3ZlIGl0IHdoZW4gZG9uZSAoYWxsb3dpbmcgZm9yIGV4dGVybmFsIHJlbW92YWwpXG5cdFx0aWYgKCAhdGltZXIoKSAmJiB0aW1lcnNbIGkgXSA9PT0gdGltZXIgKSB7XG5cdFx0XHR0aW1lcnMuc3BsaWNlKCBpLS0sIDEgKTtcblx0XHR9XG5cdH1cblxuXHRpZiAoICF0aW1lcnMubGVuZ3RoICkge1xuXHRcdGpRdWVyeS5meC5zdG9wKCk7XG5cdH1cblx0ZnhOb3cgPSB1bmRlZmluZWQ7XG59O1xuXG5qUXVlcnkuZngudGltZXIgPSBmdW5jdGlvbiggdGltZXIgKSB7XG5cdGpRdWVyeS50aW1lcnMucHVzaCggdGltZXIgKTtcblx0alF1ZXJ5LmZ4LnN0YXJ0KCk7XG59O1xuXG5qUXVlcnkuZnguaW50ZXJ2YWwgPSAxMztcbmpRdWVyeS5meC5zdGFydCA9IGZ1bmN0aW9uKCkge1xuXHRpZiAoIGluUHJvZ3Jlc3MgKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0aW5Qcm9ncmVzcyA9IHRydWU7XG5cdHNjaGVkdWxlKCk7XG59O1xuXG5qUXVlcnkuZnguc3RvcCA9IGZ1bmN0aW9uKCkge1xuXHRpblByb2dyZXNzID0gbnVsbDtcbn07XG5cbmpRdWVyeS5meC5zcGVlZHMgPSB7XG5cdHNsb3c6IDYwMCxcblx0ZmFzdDogMjAwLFxuXG5cdC8vIERlZmF1bHQgc3BlZWRcblx0X2RlZmF1bHQ6IDQwMFxufTtcblxuXG4vLyBCYXNlZCBvZmYgb2YgdGhlIHBsdWdpbiBieSBDbGludCBIZWxmZXJzLCB3aXRoIHBlcm1pc3Npb24uXG4vLyBodHRwczovL3dlYi5hcmNoaXZlLm9yZy93ZWIvMjAxMDAzMjQwMTQ3NDcvaHR0cDovL2JsaW5kc2lnbmFscy5jb20vaW5kZXgucGhwLzIwMDkvMDcvanF1ZXJ5LWRlbGF5L1xualF1ZXJ5LmZuLmRlbGF5ID0gZnVuY3Rpb24oIHRpbWUsIHR5cGUgKSB7XG5cdHRpbWUgPSBqUXVlcnkuZnggPyBqUXVlcnkuZnguc3BlZWRzWyB0aW1lIF0gfHwgdGltZSA6IHRpbWU7XG5cdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcblxuXHRyZXR1cm4gdGhpcy5xdWV1ZSggdHlwZSwgZnVuY3Rpb24oIG5leHQsIGhvb2tzICkge1xuXHRcdHZhciB0aW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoIG5leHQsIHRpbWUgKTtcblx0XHRob29rcy5zdG9wID0gZnVuY3Rpb24oKSB7XG5cdFx0XHR3aW5kb3cuY2xlYXJUaW1lb3V0KCB0aW1lb3V0ICk7XG5cdFx0fTtcblx0fSApO1xufTtcblxuXG4oIGZ1bmN0aW9uKCkge1xuXHR2YXIgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImlucHV0XCIgKSxcblx0XHRzZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcInNlbGVjdFwiICksXG5cdFx0b3B0ID0gc2VsZWN0LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcIm9wdGlvblwiICkgKTtcblxuXHRpbnB1dC50eXBlID0gXCJjaGVja2JveFwiO1xuXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjMgb25seVxuXHQvLyBEZWZhdWx0IHZhbHVlIGZvciBhIGNoZWNrYm94IHNob3VsZCBiZSBcIm9uXCJcblx0c3VwcG9ydC5jaGVja09uID0gaW5wdXQudmFsdWUgIT09IFwiXCI7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdC8vIE11c3QgYWNjZXNzIHNlbGVjdGVkSW5kZXggdG8gbWFrZSBkZWZhdWx0IG9wdGlvbnMgc2VsZWN0XG5cdHN1cHBvcnQub3B0U2VsZWN0ZWQgPSBvcHQuc2VsZWN0ZWQ7XG5cblx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XG5cdC8vIEFuIGlucHV0IGxvc2VzIGl0cyB2YWx1ZSBhZnRlciBiZWNvbWluZyBhIHJhZGlvXG5cdGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJpbnB1dFwiICk7XG5cdGlucHV0LnZhbHVlID0gXCJ0XCI7XG5cdGlucHV0LnR5cGUgPSBcInJhZGlvXCI7XG5cdHN1cHBvcnQucmFkaW9WYWx1ZSA9IGlucHV0LnZhbHVlID09PSBcInRcIjtcbn0gKSgpO1xuXG5cbnZhciBib29sSG9vayxcblx0YXR0ckhhbmRsZSA9IGpRdWVyeS5leHByLmF0dHJIYW5kbGU7XG5cbmpRdWVyeS5mbi5leHRlbmQoIHtcblx0YXR0cjogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGpRdWVyeS5hdHRyLCBuYW1lLCB2YWx1ZSwgYXJndW1lbnRzLmxlbmd0aCA+IDEgKTtcblx0fSxcblxuXHRyZW1vdmVBdHRyOiBmdW5jdGlvbiggbmFtZSApIHtcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdGpRdWVyeS5yZW1vdmVBdHRyKCB0aGlzLCBuYW1lICk7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0YXR0cjogZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xuXHRcdHZhciByZXQsIGhvb2tzLFxuXHRcdFx0blR5cGUgPSBlbGVtLm5vZGVUeXBlO1xuXG5cdFx0Ly8gRG9uJ3QgZ2V0L3NldCBhdHRyaWJ1dGVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlc1xuXHRcdGlmICggblR5cGUgPT09IDMgfHwgblR5cGUgPT09IDggfHwgblR5cGUgPT09IDIgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gRmFsbGJhY2sgdG8gcHJvcCB3aGVuIGF0dHJpYnV0ZXMgYXJlIG5vdCBzdXBwb3J0ZWRcblx0XHRpZiAoIHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZSA9PT0gXCJ1bmRlZmluZWRcIiApIHtcblx0XHRcdHJldHVybiBqUXVlcnkucHJvcCggZWxlbSwgbmFtZSwgdmFsdWUgKTtcblx0XHR9XG5cblx0XHQvLyBBdHRyaWJ1dGUgaG9va3MgYXJlIGRldGVybWluZWQgYnkgdGhlIGxvd2VyY2FzZSB2ZXJzaW9uXG5cdFx0Ly8gR3JhYiBuZWNlc3NhcnkgaG9vayBpZiBvbmUgaXMgZGVmaW5lZFxuXHRcdGlmICggblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuXHRcdFx0aG9va3MgPSBqUXVlcnkuYXR0ckhvb2tzWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSB8fFxuXHRcdFx0XHQoIGpRdWVyeS5leHByLm1hdGNoLmJvb2wudGVzdCggbmFtZSApID8gYm9vbEhvb2sgOiB1bmRlZmluZWQgKTtcblx0XHR9XG5cblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRpZiAoIHZhbHVlID09PSBudWxsICkge1xuXHRcdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggZWxlbSwgbmFtZSApO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaG9va3MgJiYgXCJzZXRcIiBpbiBob29rcyAmJlxuXHRcdFx0XHQoIHJldCA9IGhvb2tzLnNldCggZWxlbSwgdmFsdWUsIG5hbWUgKSApICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCB2YWx1ZSArIFwiXCIgKTtcblx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cblx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiYgKCByZXQgPSBob29rcy5nZXQoIGVsZW0sIG5hbWUgKSApICE9PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9XG5cblx0XHRyZXQgPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBuYW1lICk7XG5cblx0XHQvLyBOb24tZXhpc3RlbnQgYXR0cmlidXRlcyByZXR1cm4gbnVsbCwgd2Ugbm9ybWFsaXplIHRvIHVuZGVmaW5lZFxuXHRcdHJldHVybiByZXQgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IHJldDtcblx0fSxcblxuXHRhdHRySG9va3M6IHtcblx0XHR0eXBlOiB7XG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHRcdFx0aWYgKCAhc3VwcG9ydC5yYWRpb1ZhbHVlICYmIHZhbHVlID09PSBcInJhZGlvXCIgJiZcblx0XHRcdFx0XHRub2RlTmFtZSggZWxlbSwgXCJpbnB1dFwiICkgKSB7XG5cdFx0XHRcdFx0dmFyIHZhbCA9IGVsZW0udmFsdWU7XG5cdFx0XHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCB2YWx1ZSApO1xuXHRcdFx0XHRcdGlmICggdmFsICkge1xuXHRcdFx0XHRcdFx0ZWxlbS52YWx1ZSA9IHZhbDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdHJlbW92ZUF0dHI6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSApIHtcblx0XHR2YXIgbmFtZSxcblx0XHRcdGkgPSAwLFxuXG5cdFx0XHQvLyBBdHRyaWJ1dGUgbmFtZXMgY2FuIGNvbnRhaW4gbm9uLUhUTUwgd2hpdGVzcGFjZSBjaGFyYWN0ZXJzXG5cdFx0XHQvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNhdHRyaWJ1dGVzLTJcblx0XHRcdGF0dHJOYW1lcyA9IHZhbHVlICYmIHZhbHVlLm1hdGNoKCBybm90aHRtbHdoaXRlICk7XG5cblx0XHRpZiAoIGF0dHJOYW1lcyAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xuXHRcdFx0d2hpbGUgKCAoIG5hbWUgPSBhdHRyTmFtZXNbIGkrKyBdICkgKSB7XG5cdFx0XHRcdGVsZW0ucmVtb3ZlQXR0cmlidXRlKCBuYW1lICk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59ICk7XG5cbi8vIEhvb2tzIGZvciBib29sZWFuIGF0dHJpYnV0ZXNcbmJvb2xIb29rID0ge1xuXHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSwgbmFtZSApIHtcblx0XHRpZiAoIHZhbHVlID09PSBmYWxzZSApIHtcblxuXHRcdFx0Ly8gUmVtb3ZlIGJvb2xlYW4gYXR0cmlidXRlcyB3aGVuIHNldCB0byBmYWxzZVxuXHRcdFx0alF1ZXJ5LnJlbW92ZUF0dHIoIGVsZW0sIG5hbWUgKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIG5hbWUsIG5hbWUgKTtcblx0XHR9XG5cdFx0cmV0dXJuIG5hbWU7XG5cdH1cbn07XG5cbmpRdWVyeS5lYWNoKCBqUXVlcnkuZXhwci5tYXRjaC5ib29sLnNvdXJjZS5tYXRjaCggL1xcdysvZyApLCBmdW5jdGlvbiggaSwgbmFtZSApIHtcblx0dmFyIGdldHRlciA9IGF0dHJIYW5kbGVbIG5hbWUgXSB8fCBqUXVlcnkuZmluZC5hdHRyO1xuXG5cdGF0dHJIYW5kbGVbIG5hbWUgXSA9IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBpc1hNTCApIHtcblx0XHR2YXIgcmV0LCBoYW5kbGUsXG5cdFx0XHRsb3dlcmNhc2VOYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuXG5cdFx0aWYgKCAhaXNYTUwgKSB7XG5cblx0XHRcdC8vIEF2b2lkIGFuIGluZmluaXRlIGxvb3AgYnkgdGVtcG9yYXJpbHkgcmVtb3ZpbmcgdGhpcyBmdW5jdGlvbiBmcm9tIHRoZSBnZXR0ZXJcblx0XHRcdGhhbmRsZSA9IGF0dHJIYW5kbGVbIGxvd2VyY2FzZU5hbWUgXTtcblx0XHRcdGF0dHJIYW5kbGVbIGxvd2VyY2FzZU5hbWUgXSA9IHJldDtcblx0XHRcdHJldCA9IGdldHRlciggZWxlbSwgbmFtZSwgaXNYTUwgKSAhPSBudWxsID9cblx0XHRcdFx0bG93ZXJjYXNlTmFtZSA6XG5cdFx0XHRcdG51bGw7XG5cdFx0XHRhdHRySGFuZGxlWyBsb3dlcmNhc2VOYW1lIF0gPSBoYW5kbGU7XG5cdFx0fVxuXHRcdHJldHVybiByZXQ7XG5cdH07XG59ICk7XG5cblxuXG5cbnZhciByZm9jdXNhYmxlID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSxcblx0cmNsaWNrYWJsZSA9IC9eKD86YXxhcmVhKSQvaTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRwcm9wOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgalF1ZXJ5LnByb3AsIG5hbWUsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoID4gMSApO1xuXHR9LFxuXG5cdHJlbW92ZVByb3A6IGZ1bmN0aW9uKCBuYW1lICkge1xuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0ZGVsZXRlIHRoaXNbIGpRdWVyeS5wcm9wRml4WyBuYW1lIF0gfHwgbmFtZSBdO1xuXHRcdH0gKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZXh0ZW5kKCB7XG5cdHByb3A6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHtcblx0XHR2YXIgcmV0LCBob29rcyxcblx0XHRcdG5UeXBlID0gZWxlbS5ub2RlVHlwZTtcblxuXHRcdC8vIERvbid0IGdldC9zZXQgcHJvcGVydGllcyBvbiB0ZXh0LCBjb21tZW50IGFuZCBhdHRyaWJ1dGUgbm9kZXNcblx0XHRpZiAoIG5UeXBlID09PSAzIHx8IG5UeXBlID09PSA4IHx8IG5UeXBlID09PSAyICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xuXG5cdFx0XHQvLyBGaXggbmFtZSBhbmQgYXR0YWNoIGhvb2tzXG5cdFx0XHRuYW1lID0galF1ZXJ5LnByb3BGaXhbIG5hbWUgXSB8fCBuYW1lO1xuXHRcdFx0aG9va3MgPSBqUXVlcnkucHJvcEhvb2tzWyBuYW1lIF07XG5cdFx0fVxuXG5cdFx0aWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0aWYgKCBob29rcyAmJiBcInNldFwiIGluIGhvb2tzICYmXG5cdFx0XHRcdCggcmV0ID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgbmFtZSApICkgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuICggZWxlbVsgbmFtZSBdID0gdmFsdWUgKTtcblx0XHR9XG5cblx0XHRpZiAoIGhvb2tzICYmIFwiZ2V0XCIgaW4gaG9va3MgJiYgKCByZXQgPSBob29rcy5nZXQoIGVsZW0sIG5hbWUgKSApICE9PSBudWxsICkge1xuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9XG5cblx0XHRyZXR1cm4gZWxlbVsgbmFtZSBdO1xuXHR9LFxuXG5cdHByb3BIb29rczoge1xuXHRcdHRhYkluZGV4OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcblx0XHRcdFx0Ly8gZWxlbS50YWJJbmRleCBkb2Vzbid0IGFsd2F5cyByZXR1cm4gdGhlXG5cdFx0XHRcdC8vIGNvcnJlY3QgdmFsdWUgd2hlbiBpdCBoYXNuJ3QgYmVlbiBleHBsaWNpdGx5IHNldFxuXHRcdFx0XHQvLyBodHRwczovL3dlYi5hcmNoaXZlLm9yZy93ZWIvMjAxNDExMTYyMzMzNDcvaHR0cDovL2ZsdWlkcHJvamVjdC5vcmcvYmxvZy8yMDA4LzAxLzA5L2dldHRpbmctc2V0dGluZy1hbmQtcmVtb3ZpbmctdGFiaW5kZXgtdmFsdWVzLXdpdGgtamF2YXNjcmlwdC9cblx0XHRcdFx0Ly8gVXNlIHByb3BlciBhdHRyaWJ1dGUgcmV0cmlldmFsKCMxMjA3Milcblx0XHRcdFx0dmFyIHRhYmluZGV4ID0galF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgXCJ0YWJpbmRleFwiICk7XG5cblx0XHRcdFx0aWYgKCB0YWJpbmRleCApIHtcblx0XHRcdFx0XHRyZXR1cm4gcGFyc2VJbnQoIHRhYmluZGV4LCAxMCApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdHJmb2N1c2FibGUudGVzdCggZWxlbS5ub2RlTmFtZSApIHx8XG5cdFx0XHRcdFx0cmNsaWNrYWJsZS50ZXN0KCBlbGVtLm5vZGVOYW1lICkgJiZcblx0XHRcdFx0XHRlbGVtLmhyZWZcblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0cmV0dXJuIDA7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHR9XG5cdFx0fVxuXHR9LFxuXG5cdHByb3BGaXg6IHtcblx0XHRcImZvclwiOiBcImh0bWxGb3JcIixcblx0XHRcImNsYXNzXCI6IFwiY2xhc3NOYW1lXCJcblx0fVxufSApO1xuXG4vLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcbi8vIEFjY2Vzc2luZyB0aGUgc2VsZWN0ZWRJbmRleCBwcm9wZXJ0eVxuLy8gZm9yY2VzIHRoZSBicm93c2VyIHRvIHJlc3BlY3Qgc2V0dGluZyBzZWxlY3RlZFxuLy8gb24gdGhlIG9wdGlvblxuLy8gVGhlIGdldHRlciBlbnN1cmVzIGEgZGVmYXVsdCBvcHRpb24gaXMgc2VsZWN0ZWRcbi8vIHdoZW4gaW4gYW4gb3B0Z3JvdXBcbi8vIGVzbGludCBydWxlIFwibm8tdW51c2VkLWV4cHJlc3Npb25zXCIgaXMgZGlzYWJsZWQgZm9yIHRoaXMgY29kZVxuLy8gc2luY2UgaXQgY29uc2lkZXJzIHN1Y2ggYWNjZXNzaW9ucyBub29wXG5pZiAoICFzdXBwb3J0Lm9wdFNlbGVjdGVkICkge1xuXHRqUXVlcnkucHJvcEhvb2tzLnNlbGVjdGVkID0ge1xuXHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdC8qIGVzbGludCBuby11bnVzZWQtZXhwcmVzc2lvbnM6IFwib2ZmXCIgKi9cblxuXHRcdFx0dmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcblx0XHRcdGlmICggcGFyZW50ICYmIHBhcmVudC5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRwYXJlbnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fSxcblx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXG5cdFx0XHQvKiBlc2xpbnQgbm8tdW51c2VkLWV4cHJlc3Npb25zOiBcIm9mZlwiICovXG5cblx0XHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XG5cdFx0XHRpZiAoIHBhcmVudCApIHtcblx0XHRcdFx0cGFyZW50LnNlbGVjdGVkSW5kZXg7XG5cblx0XHRcdFx0aWYgKCBwYXJlbnQucGFyZW50Tm9kZSApIHtcblx0XHRcdFx0XHRwYXJlbnQucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG5qUXVlcnkuZWFjaCggW1xuXHRcInRhYkluZGV4XCIsXG5cdFwicmVhZE9ubHlcIixcblx0XCJtYXhMZW5ndGhcIixcblx0XCJjZWxsU3BhY2luZ1wiLFxuXHRcImNlbGxQYWRkaW5nXCIsXG5cdFwicm93U3BhblwiLFxuXHRcImNvbFNwYW5cIixcblx0XCJ1c2VNYXBcIixcblx0XCJmcmFtZUJvcmRlclwiLFxuXHRcImNvbnRlbnRFZGl0YWJsZVwiXG5dLCBmdW5jdGlvbigpIHtcblx0alF1ZXJ5LnByb3BGaXhbIHRoaXMudG9Mb3dlckNhc2UoKSBdID0gdGhpcztcbn0gKTtcblxuXG5cblxuXHQvLyBTdHJpcCBhbmQgY29sbGFwc2Ugd2hpdGVzcGFjZSBhY2NvcmRpbmcgdG8gSFRNTCBzcGVjXG5cdC8vIGh0dHBzOi8vaW5mcmEuc3BlYy53aGF0d2cub3JnLyNzdHJpcC1hbmQtY29sbGFwc2UtYXNjaWktd2hpdGVzcGFjZVxuXHRmdW5jdGlvbiBzdHJpcEFuZENvbGxhcHNlKCB2YWx1ZSApIHtcblx0XHR2YXIgdG9rZW5zID0gdmFsdWUubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXTtcblx0XHRyZXR1cm4gdG9rZW5zLmpvaW4oIFwiIFwiICk7XG5cdH1cblxuXG5mdW5jdGlvbiBnZXRDbGFzcyggZWxlbSApIHtcblx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlICYmIGVsZW0uZ2V0QXR0cmlidXRlKCBcImNsYXNzXCIgKSB8fCBcIlwiO1xufVxuXG5mdW5jdGlvbiBjbGFzc2VzVG9BcnJheSggdmFsdWUgKSB7XG5cdGlmICggQXJyYXkuaXNBcnJheSggdmFsdWUgKSApIHtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH1cblx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0cmV0dXJuIHZhbHVlLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW107XG5cdH1cblx0cmV0dXJuIFtdO1xufVxuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cdGFkZENsYXNzOiBmdW5jdGlvbiggdmFsdWUgKSB7XG5cdFx0dmFyIGNsYXNzZXMsIGVsZW0sIGN1ciwgY3VyVmFsdWUsIGNsYXp6LCBqLCBmaW5hbFZhbHVlLFxuXHRcdFx0aSA9IDA7XG5cblx0XHRpZiAoIGlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaiApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuYWRkQ2xhc3MoIHZhbHVlLmNhbGwoIHRoaXMsIGosIGdldENsYXNzKCB0aGlzICkgKSApO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdGNsYXNzZXMgPSBjbGFzc2VzVG9BcnJheSggdmFsdWUgKTtcblxuXHRcdGlmICggY2xhc3Nlcy5sZW5ndGggKSB7XG5cdFx0XHR3aGlsZSAoICggZWxlbSA9IHRoaXNbIGkrKyBdICkgKSB7XG5cdFx0XHRcdGN1clZhbHVlID0gZ2V0Q2xhc3MoIGVsZW0gKTtcblx0XHRcdFx0Y3VyID0gZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAoIFwiIFwiICsgc3RyaXBBbmRDb2xsYXBzZSggY3VyVmFsdWUgKSArIFwiIFwiICk7XG5cblx0XHRcdFx0aWYgKCBjdXIgKSB7XG5cdFx0XHRcdFx0aiA9IDA7XG5cdFx0XHRcdFx0d2hpbGUgKCAoIGNsYXp6ID0gY2xhc3Nlc1sgaisrIF0gKSApIHtcblx0XHRcdFx0XHRcdGlmICggY3VyLmluZGV4T2YoIFwiIFwiICsgY2xhenogKyBcIiBcIiApIDwgMCApIHtcblx0XHRcdFx0XHRcdFx0Y3VyICs9IGNsYXp6ICsgXCIgXCI7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gT25seSBhc3NpZ24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy5cblx0XHRcdFx0XHRmaW5hbFZhbHVlID0gc3RyaXBBbmRDb2xsYXBzZSggY3VyICk7XG5cdFx0XHRcdFx0aWYgKCBjdXJWYWx1ZSAhPT0gZmluYWxWYWx1ZSApIHtcblx0XHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBcImNsYXNzXCIsIGZpbmFsVmFsdWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHRyZW1vdmVDbGFzczogZnVuY3Rpb24oIHZhbHVlICkge1xuXHRcdHZhciBjbGFzc2VzLCBlbGVtLCBjdXIsIGN1clZhbHVlLCBjbGF6eiwgaiwgZmluYWxWYWx1ZSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCB2YWx1ZSApICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGogKSB7XG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnJlbW92ZUNsYXNzKCB2YWx1ZS5jYWxsKCB0aGlzLCBqLCBnZXRDbGFzcyggdGhpcyApICkgKTtcblx0XHRcdH0gKTtcblx0XHR9XG5cblx0XHRpZiAoICFhcmd1bWVudHMubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuYXR0ciggXCJjbGFzc1wiLCBcIlwiICk7XG5cdFx0fVxuXG5cdFx0Y2xhc3NlcyA9IGNsYXNzZXNUb0FycmF5KCB2YWx1ZSApO1xuXG5cdFx0aWYgKCBjbGFzc2VzLmxlbmd0aCApIHtcblx0XHRcdHdoaWxlICggKCBlbGVtID0gdGhpc1sgaSsrIF0gKSApIHtcblx0XHRcdFx0Y3VyVmFsdWUgPSBnZXRDbGFzcyggZWxlbSApO1xuXG5cdFx0XHRcdC8vIFRoaXMgZXhwcmVzc2lvbiBpcyBoZXJlIGZvciBiZXR0ZXIgY29tcHJlc3NpYmlsaXR5IChzZWUgYWRkQ2xhc3MpXG5cdFx0XHRcdGN1ciA9IGVsZW0ubm9kZVR5cGUgPT09IDEgJiYgKCBcIiBcIiArIHN0cmlwQW5kQ29sbGFwc2UoIGN1clZhbHVlICkgKyBcIiBcIiApO1xuXG5cdFx0XHRcdGlmICggY3VyICkge1xuXHRcdFx0XHRcdGogPSAwO1xuXHRcdFx0XHRcdHdoaWxlICggKCBjbGF6eiA9IGNsYXNzZXNbIGorKyBdICkgKSB7XG5cblx0XHRcdFx0XHRcdC8vIFJlbW92ZSAqYWxsKiBpbnN0YW5jZXNcblx0XHRcdFx0XHRcdHdoaWxlICggY3VyLmluZGV4T2YoIFwiIFwiICsgY2xhenogKyBcIiBcIiApID4gLTEgKSB7XG5cdFx0XHRcdFx0XHRcdGN1ciA9IGN1ci5yZXBsYWNlKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIsIFwiIFwiICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gT25seSBhc3NpZ24gaWYgZGlmZmVyZW50IHRvIGF2b2lkIHVubmVlZGVkIHJlbmRlcmluZy5cblx0XHRcdFx0XHRmaW5hbFZhbHVlID0gc3RyaXBBbmRDb2xsYXBzZSggY3VyICk7XG5cdFx0XHRcdFx0aWYgKCBjdXJWYWx1ZSAhPT0gZmluYWxWYWx1ZSApIHtcblx0XHRcdFx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBcImNsYXNzXCIsIGZpbmFsVmFsdWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fSxcblxuXHR0b2dnbGVDbGFzczogZnVuY3Rpb24oIHZhbHVlLCBzdGF0ZVZhbCApIHtcblx0XHR2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZSxcblx0XHRcdGlzVmFsaWRWYWx1ZSA9IHR5cGUgPT09IFwic3RyaW5nXCIgfHwgQXJyYXkuaXNBcnJheSggdmFsdWUgKTtcblxuXHRcdGlmICggdHlwZW9mIHN0YXRlVmFsID09PSBcImJvb2xlYW5cIiAmJiBpc1ZhbGlkVmFsdWUgKSB7XG5cdFx0XHRyZXR1cm4gc3RhdGVWYWwgPyB0aGlzLmFkZENsYXNzKCB2YWx1ZSApIDogdGhpcy5yZW1vdmVDbGFzcyggdmFsdWUgKTtcblx0XHR9XG5cblx0XHRpZiAoIGlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkudG9nZ2xlQ2xhc3MoXG5cdFx0XHRcdFx0dmFsdWUuY2FsbCggdGhpcywgaSwgZ2V0Q2xhc3MoIHRoaXMgKSwgc3RhdGVWYWwgKSxcblx0XHRcdFx0XHRzdGF0ZVZhbFxuXHRcdFx0XHQpO1xuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGNsYXNzTmFtZSwgaSwgc2VsZiwgY2xhc3NOYW1lcztcblxuXHRcdFx0aWYgKCBpc1ZhbGlkVmFsdWUgKSB7XG5cblx0XHRcdFx0Ly8gVG9nZ2xlIGluZGl2aWR1YWwgY2xhc3MgbmFtZXNcblx0XHRcdFx0aSA9IDA7XG5cdFx0XHRcdHNlbGYgPSBqUXVlcnkoIHRoaXMgKTtcblx0XHRcdFx0Y2xhc3NOYW1lcyA9IGNsYXNzZXNUb0FycmF5KCB2YWx1ZSApO1xuXG5cdFx0XHRcdHdoaWxlICggKCBjbGFzc05hbWUgPSBjbGFzc05hbWVzWyBpKysgXSApICkge1xuXG5cdFx0XHRcdFx0Ly8gQ2hlY2sgZWFjaCBjbGFzc05hbWUgZ2l2ZW4sIHNwYWNlIHNlcGFyYXRlZCBsaXN0XG5cdFx0XHRcdFx0aWYgKCBzZWxmLmhhc0NsYXNzKCBjbGFzc05hbWUgKSApIHtcblx0XHRcdFx0XHRcdHNlbGYucmVtb3ZlQ2xhc3MoIGNsYXNzTmFtZSApO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzZWxmLmFkZENsYXNzKCBjbGFzc05hbWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0Ly8gVG9nZ2xlIHdob2xlIGNsYXNzIG5hbWVcblx0XHRcdH0gZWxzZSBpZiAoIHZhbHVlID09PSB1bmRlZmluZWQgfHwgdHlwZSA9PT0gXCJib29sZWFuXCIgKSB7XG5cdFx0XHRcdGNsYXNzTmFtZSA9IGdldENsYXNzKCB0aGlzICk7XG5cdFx0XHRcdGlmICggY2xhc3NOYW1lICkge1xuXG5cdFx0XHRcdFx0Ly8gU3RvcmUgY2xhc3NOYW1lIGlmIHNldFxuXHRcdFx0XHRcdGRhdGFQcml2LnNldCggdGhpcywgXCJfX2NsYXNzTmFtZV9fXCIsIGNsYXNzTmFtZSApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gSWYgdGhlIGVsZW1lbnQgaGFzIGEgY2xhc3MgbmFtZSBvciBpZiB3ZSdyZSBwYXNzZWQgYGZhbHNlYCxcblx0XHRcdFx0Ly8gdGhlbiByZW1vdmUgdGhlIHdob2xlIGNsYXNzbmFtZSAoaWYgdGhlcmUgd2FzIG9uZSwgdGhlIGFib3ZlIHNhdmVkIGl0KS5cblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIGJyaW5nIGJhY2sgd2hhdGV2ZXIgd2FzIHByZXZpb3VzbHkgc2F2ZWQgKGlmIGFueXRoaW5nKSxcblx0XHRcdFx0Ly8gZmFsbGluZyBiYWNrIHRvIHRoZSBlbXB0eSBzdHJpbmcgaWYgbm90aGluZyB3YXMgc3RvcmVkLlxuXHRcdFx0XHRpZiAoIHRoaXMuc2V0QXR0cmlidXRlICkge1xuXHRcdFx0XHRcdHRoaXMuc2V0QXR0cmlidXRlKCBcImNsYXNzXCIsXG5cdFx0XHRcdFx0XHRjbGFzc05hbWUgfHwgdmFsdWUgPT09IGZhbHNlID9cblx0XHRcdFx0XHRcdFwiXCIgOlxuXHRcdFx0XHRcdFx0ZGF0YVByaXYuZ2V0KCB0aGlzLCBcIl9fY2xhc3NOYW1lX19cIiApIHx8IFwiXCJcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9LFxuXG5cdGhhc0NsYXNzOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0dmFyIGNsYXNzTmFtZSwgZWxlbSxcblx0XHRcdGkgPSAwO1xuXG5cdFx0Y2xhc3NOYW1lID0gXCIgXCIgKyBzZWxlY3RvciArIFwiIFwiO1xuXHRcdHdoaWxlICggKCBlbGVtID0gdGhpc1sgaSsrIF0gKSApIHtcblx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSAmJlxuXHRcdFx0XHQoIFwiIFwiICsgc3RyaXBBbmRDb2xsYXBzZSggZ2V0Q2xhc3MoIGVsZW0gKSApICsgXCIgXCIgKS5pbmRleE9mKCBjbGFzc05hbWUgKSA+IC0xICkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufSApO1xuXG5cblxuXG52YXIgcnJldHVybiA9IC9cXHIvZztcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHR2YWw6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHR2YXIgaG9va3MsIHJldCwgdmFsdWVJc0Z1bmN0aW9uLFxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXTtcblxuXHRcdGlmICggIWFyZ3VtZW50cy5sZW5ndGggKSB7XG5cdFx0XHRpZiAoIGVsZW0gKSB7XG5cdFx0XHRcdGhvb2tzID0galF1ZXJ5LnZhbEhvb2tzWyBlbGVtLnR5cGUgXSB8fFxuXHRcdFx0XHRcdGpRdWVyeS52YWxIb29rc1sgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIF07XG5cblx0XHRcdFx0aWYgKCBob29rcyAmJlxuXHRcdFx0XHRcdFwiZ2V0XCIgaW4gaG9va3MgJiZcblx0XHRcdFx0XHQoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgXCJ2YWx1ZVwiICkgKSAhPT0gdW5kZWZpbmVkXG5cdFx0XHRcdCkge1xuXHRcdFx0XHRcdHJldHVybiByZXQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXQgPSBlbGVtLnZhbHVlO1xuXG5cdFx0XHRcdC8vIEhhbmRsZSBtb3N0IGNvbW1vbiBzdHJpbmcgY2FzZXNcblx0XHRcdFx0aWYgKCB0eXBlb2YgcmV0ID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRcdHJldHVybiByZXQucmVwbGFjZSggcnJldHVybiwgXCJcIiApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gSGFuZGxlIGNhc2VzIHdoZXJlIHZhbHVlIGlzIG51bGwvdW5kZWYgb3IgbnVtYmVyXG5cdFx0XHRcdHJldHVybiByZXQgPT0gbnVsbCA/IFwiXCIgOiByZXQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YWx1ZUlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uKCB2YWx1ZSApO1xuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHR2YXIgdmFsO1xuXG5cdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgIT09IDEgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCB2YWx1ZUlzRnVuY3Rpb24gKSB7XG5cdFx0XHRcdHZhbCA9IHZhbHVlLmNhbGwoIHRoaXMsIGksIGpRdWVyeSggdGhpcyApLnZhbCgpICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YWwgPSB2YWx1ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVHJlYXQgbnVsbC91bmRlZmluZWQgYXMgXCJcIjsgY29udmVydCBudW1iZXJzIHRvIHN0cmluZ1xuXHRcdFx0aWYgKCB2YWwgPT0gbnVsbCApIHtcblx0XHRcdFx0dmFsID0gXCJcIjtcblxuXHRcdFx0fSBlbHNlIGlmICggdHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIiApIHtcblx0XHRcdFx0dmFsICs9IFwiXCI7XG5cblx0XHRcdH0gZWxzZSBpZiAoIEFycmF5LmlzQXJyYXkoIHZhbCApICkge1xuXHRcdFx0XHR2YWwgPSBqUXVlcnkubWFwKCB2YWwsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcblx0XHRcdFx0XHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSArIFwiXCI7XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblxuXHRcdFx0aG9va3MgPSBqUXVlcnkudmFsSG9va3NbIHRoaXMudHlwZSBdIHx8IGpRdWVyeS52YWxIb29rc1sgdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIF07XG5cblx0XHRcdC8vIElmIHNldCByZXR1cm5zIHVuZGVmaW5lZCwgZmFsbCBiYWNrIHRvIG5vcm1hbCBzZXR0aW5nXG5cdFx0XHRpZiAoICFob29rcyB8fCAhKCBcInNldFwiIGluIGhvb2tzICkgfHwgaG9va3Muc2V0KCB0aGlzLCB2YWwsIFwidmFsdWVcIiApID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHRoaXMudmFsdWUgPSB2YWw7XG5cdFx0XHR9XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbmpRdWVyeS5leHRlbmQoIHtcblx0dmFsSG9va3M6IHtcblx0XHRvcHRpb246IHtcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XG5cblx0XHRcdFx0dmFyIHZhbCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIFwidmFsdWVcIiApO1xuXHRcdFx0XHRyZXR1cm4gdmFsICE9IG51bGwgP1xuXHRcdFx0XHRcdHZhbCA6XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTEwIC0gMTEgb25seVxuXHRcdFx0XHRcdC8vIG9wdGlvbi50ZXh0IHRocm93cyBleGNlcHRpb25zICgjMTQ2ODYsICMxNDg1OClcblx0XHRcdFx0XHQvLyBTdHJpcCBhbmQgY29sbGFwc2Ugd2hpdGVzcGFjZVxuXHRcdFx0XHRcdC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI3N0cmlwLWFuZC1jb2xsYXBzZS13aGl0ZXNwYWNlXG5cdFx0XHRcdFx0c3RyaXBBbmRDb2xsYXBzZSggalF1ZXJ5LnRleHQoIGVsZW0gKSApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0c2VsZWN0OiB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0XHR2YXIgdmFsdWUsIG9wdGlvbiwgaSxcblx0XHRcdFx0XHRvcHRpb25zID0gZWxlbS5vcHRpb25zLFxuXHRcdFx0XHRcdGluZGV4ID0gZWxlbS5zZWxlY3RlZEluZGV4LFxuXHRcdFx0XHRcdG9uZSA9IGVsZW0udHlwZSA9PT0gXCJzZWxlY3Qtb25lXCIsXG5cdFx0XHRcdFx0dmFsdWVzID0gb25lID8gbnVsbCA6IFtdLFxuXHRcdFx0XHRcdG1heCA9IG9uZSA/IGluZGV4ICsgMSA6IG9wdGlvbnMubGVuZ3RoO1xuXG5cdFx0XHRcdGlmICggaW5kZXggPCAwICkge1xuXHRcdFx0XHRcdGkgPSBtYXg7XG5cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpID0gb25lID8gaW5kZXggOiAwO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gTG9vcCB0aHJvdWdoIGFsbCB0aGUgc2VsZWN0ZWQgb3B0aW9uc1xuXHRcdFx0XHRmb3IgKCA7IGkgPCBtYXg7IGkrKyApIHtcblx0XHRcdFx0XHRvcHRpb24gPSBvcHRpb25zWyBpIF07XG5cblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxuXHRcdFx0XHRcdC8vIElFOC05IGRvZXNuJ3QgdXBkYXRlIHNlbGVjdGVkIGFmdGVyIGZvcm0gcmVzZXQgKCMyNTUxKVxuXHRcdFx0XHRcdGlmICggKCBvcHRpb24uc2VsZWN0ZWQgfHwgaSA9PT0gaW5kZXggKSAmJlxuXG5cdFx0XHRcdFx0XHRcdC8vIERvbid0IHJldHVybiBvcHRpb25zIHRoYXQgYXJlIGRpc2FibGVkIG9yIGluIGEgZGlzYWJsZWQgb3B0Z3JvdXBcblx0XHRcdFx0XHRcdFx0IW9wdGlvbi5kaXNhYmxlZCAmJlxuXHRcdFx0XHRcdFx0XHQoICFvcHRpb24ucGFyZW50Tm9kZS5kaXNhYmxlZCB8fFxuXHRcdFx0XHRcdFx0XHRcdCFub2RlTmFtZSggb3B0aW9uLnBhcmVudE5vZGUsIFwib3B0Z3JvdXBcIiApICkgKSB7XG5cblx0XHRcdFx0XHRcdC8vIEdldCB0aGUgc3BlY2lmaWMgdmFsdWUgZm9yIHRoZSBvcHRpb25cblx0XHRcdFx0XHRcdHZhbHVlID0galF1ZXJ5KCBvcHRpb24gKS52YWwoKTtcblxuXHRcdFx0XHRcdFx0Ly8gV2UgZG9uJ3QgbmVlZCBhbiBhcnJheSBmb3Igb25lIHNlbGVjdHNcblx0XHRcdFx0XHRcdGlmICggb25lICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdC8vIE11bHRpLVNlbGVjdHMgcmV0dXJuIGFuIGFycmF5XG5cdFx0XHRcdFx0XHR2YWx1ZXMucHVzaCggdmFsdWUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdmFsdWVzO1xuXHRcdFx0fSxcblxuXHRcdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XG5cdFx0XHRcdHZhciBvcHRpb25TZXQsIG9wdGlvbixcblx0XHRcdFx0XHRvcHRpb25zID0gZWxlbS5vcHRpb25zLFxuXHRcdFx0XHRcdHZhbHVlcyA9IGpRdWVyeS5tYWtlQXJyYXkoIHZhbHVlICksXG5cdFx0XHRcdFx0aSA9IG9wdGlvbnMubGVuZ3RoO1xuXG5cdFx0XHRcdHdoaWxlICggaS0tICkge1xuXHRcdFx0XHRcdG9wdGlvbiA9IG9wdGlvbnNbIGkgXTtcblxuXHRcdFx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbmQtYXNzaWduICovXG5cblx0XHRcdFx0XHRpZiAoIG9wdGlvbi5zZWxlY3RlZCA9XG5cdFx0XHRcdFx0XHRqUXVlcnkuaW5BcnJheSggalF1ZXJ5LnZhbEhvb2tzLm9wdGlvbi5nZXQoIG9wdGlvbiApLCB2YWx1ZXMgKSA+IC0xXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRvcHRpb25TZXQgPSB0cnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC8qIGVzbGludC1lbmFibGUgbm8tY29uZC1hc3NpZ24gKi9cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEZvcmNlIGJyb3dzZXJzIHRvIGJlaGF2ZSBjb25zaXN0ZW50bHkgd2hlbiBub24tbWF0Y2hpbmcgdmFsdWUgaXMgc2V0XG5cdFx0XHRcdGlmICggIW9wdGlvblNldCApIHtcblx0XHRcdFx0XHRlbGVtLnNlbGVjdGVkSW5kZXggPSAtMTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gdmFsdWVzO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufSApO1xuXG4vLyBSYWRpb3MgYW5kIGNoZWNrYm94ZXMgZ2V0dGVyL3NldHRlclxualF1ZXJ5LmVhY2goIFsgXCJyYWRpb1wiLCBcImNoZWNrYm94XCIgXSwgZnVuY3Rpb24oKSB7XG5cdGpRdWVyeS52YWxIb29rc1sgdGhpcyBdID0ge1xuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xuXHRcdFx0aWYgKCBBcnJheS5pc0FycmF5KCB2YWx1ZSApICkge1xuXHRcdFx0XHRyZXR1cm4gKCBlbGVtLmNoZWNrZWQgPSBqUXVlcnkuaW5BcnJheSggalF1ZXJ5KCBlbGVtICkudmFsKCksIHZhbHVlICkgPiAtMSApO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0aWYgKCAhc3VwcG9ydC5jaGVja09uICkge1xuXHRcdGpRdWVyeS52YWxIb29rc1sgdGhpcyBdLmdldCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRcdFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCBcInZhbHVlXCIgKSA9PT0gbnVsbCA/IFwib25cIiA6IGVsZW0udmFsdWU7XG5cdFx0fTtcblx0fVxufSApO1xuXG5cblxuXG4vLyBSZXR1cm4galF1ZXJ5IGZvciBhdHRyaWJ1dGVzLW9ubHkgaW5jbHVzaW9uXG5cblxuc3VwcG9ydC5mb2N1c2luID0gXCJvbmZvY3VzaW5cIiBpbiB3aW5kb3c7XG5cblxudmFyIHJmb2N1c01vcnBoID0gL14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvLFxuXHRzdG9wUHJvcGFnYXRpb25DYWxsYmFjayA9IGZ1bmN0aW9uKCBlICkge1xuXHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdH07XG5cbmpRdWVyeS5leHRlbmQoIGpRdWVyeS5ldmVudCwge1xuXG5cdHRyaWdnZXI6IGZ1bmN0aW9uKCBldmVudCwgZGF0YSwgZWxlbSwgb25seUhhbmRsZXJzICkge1xuXG5cdFx0dmFyIGksIGN1ciwgdG1wLCBidWJibGVUeXBlLCBvbnR5cGUsIGhhbmRsZSwgc3BlY2lhbCwgbGFzdEVsZW1lbnQsXG5cdFx0XHRldmVudFBhdGggPSBbIGVsZW0gfHwgZG9jdW1lbnQgXSxcblx0XHRcdHR5cGUgPSBoYXNPd24uY2FsbCggZXZlbnQsIFwidHlwZVwiICkgPyBldmVudC50eXBlIDogZXZlbnQsXG5cdFx0XHRuYW1lc3BhY2VzID0gaGFzT3duLmNhbGwoIGV2ZW50LCBcIm5hbWVzcGFjZVwiICkgPyBldmVudC5uYW1lc3BhY2Uuc3BsaXQoIFwiLlwiICkgOiBbXTtcblxuXHRcdGN1ciA9IGxhc3RFbGVtZW50ID0gdG1wID0gZWxlbSA9IGVsZW0gfHwgZG9jdW1lbnQ7XG5cblx0XHQvLyBEb24ndCBkbyBldmVudHMgb24gdGV4dCBhbmQgY29tbWVudCBub2Rlc1xuXHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMyB8fCBlbGVtLm5vZGVUeXBlID09PSA4ICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIGZvY3VzL2JsdXIgbW9ycGhzIHRvIGZvY3VzaW4vb3V0OyBlbnN1cmUgd2UncmUgbm90IGZpcmluZyB0aGVtIHJpZ2h0IG5vd1xuXHRcdGlmICggcmZvY3VzTW9ycGgudGVzdCggdHlwZSArIGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgKSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIHR5cGUuaW5kZXhPZiggXCIuXCIgKSA+IC0xICkge1xuXG5cdFx0XHQvLyBOYW1lc3BhY2VkIHRyaWdnZXI7IGNyZWF0ZSBhIHJlZ2V4cCB0byBtYXRjaCBldmVudCB0eXBlIGluIGhhbmRsZSgpXG5cdFx0XHRuYW1lc3BhY2VzID0gdHlwZS5zcGxpdCggXCIuXCIgKTtcblx0XHRcdHR5cGUgPSBuYW1lc3BhY2VzLnNoaWZ0KCk7XG5cdFx0XHRuYW1lc3BhY2VzLnNvcnQoKTtcblx0XHR9XG5cdFx0b250eXBlID0gdHlwZS5pbmRleE9mKCBcIjpcIiApIDwgMCAmJiBcIm9uXCIgKyB0eXBlO1xuXG5cdFx0Ly8gQ2FsbGVyIGNhbiBwYXNzIGluIGEgalF1ZXJ5LkV2ZW50IG9iamVjdCwgT2JqZWN0LCBvciBqdXN0IGFuIGV2ZW50IHR5cGUgc3RyaW5nXG5cdFx0ZXZlbnQgPSBldmVudFsgalF1ZXJ5LmV4cGFuZG8gXSA/XG5cdFx0XHRldmVudCA6XG5cdFx0XHRuZXcgalF1ZXJ5LkV2ZW50KCB0eXBlLCB0eXBlb2YgZXZlbnQgPT09IFwib2JqZWN0XCIgJiYgZXZlbnQgKTtcblxuXHRcdC8vIFRyaWdnZXIgYml0bWFzazogJiAxIGZvciBuYXRpdmUgaGFuZGxlcnM7ICYgMiBmb3IgalF1ZXJ5IChhbHdheXMgdHJ1ZSlcblx0XHRldmVudC5pc1RyaWdnZXIgPSBvbmx5SGFuZGxlcnMgPyAyIDogMztcblx0XHRldmVudC5uYW1lc3BhY2UgPSBuYW1lc3BhY2VzLmpvaW4oIFwiLlwiICk7XG5cdFx0ZXZlbnQucm5hbWVzcGFjZSA9IGV2ZW50Lm5hbWVzcGFjZSA/XG5cdFx0XHRuZXcgUmVnRXhwKCBcIihefFxcXFwuKVwiICsgbmFtZXNwYWNlcy5qb2luKCBcIlxcXFwuKD86LipcXFxcLnwpXCIgKSArIFwiKFxcXFwufCQpXCIgKSA6XG5cdFx0XHRudWxsO1xuXG5cdFx0Ly8gQ2xlYW4gdXAgdGhlIGV2ZW50IGluIGNhc2UgaXQgaXMgYmVpbmcgcmV1c2VkXG5cdFx0ZXZlbnQucmVzdWx0ID0gdW5kZWZpbmVkO1xuXHRcdGlmICggIWV2ZW50LnRhcmdldCApIHtcblx0XHRcdGV2ZW50LnRhcmdldCA9IGVsZW07XG5cdFx0fVxuXG5cdFx0Ly8gQ2xvbmUgYW55IGluY29taW5nIGRhdGEgYW5kIHByZXBlbmQgdGhlIGV2ZW50LCBjcmVhdGluZyB0aGUgaGFuZGxlciBhcmcgbGlzdFxuXHRcdGRhdGEgPSBkYXRhID09IG51bGwgP1xuXHRcdFx0WyBldmVudCBdIDpcblx0XHRcdGpRdWVyeS5tYWtlQXJyYXkoIGRhdGEsIFsgZXZlbnQgXSApO1xuXG5cdFx0Ly8gQWxsb3cgc3BlY2lhbCBldmVudHMgdG8gZHJhdyBvdXRzaWRlIHRoZSBsaW5lc1xuXHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xuXHRcdGlmICggIW9ubHlIYW5kbGVycyAmJiBzcGVjaWFsLnRyaWdnZXIgJiYgc3BlY2lhbC50cmlnZ2VyLmFwcGx5KCBlbGVtLCBkYXRhICkgPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIERldGVybWluZSBldmVudCBwcm9wYWdhdGlvbiBwYXRoIGluIGFkdmFuY2UsIHBlciBXM0MgZXZlbnRzIHNwZWMgKCM5OTUxKVxuXHRcdC8vIEJ1YmJsZSB1cCB0byBkb2N1bWVudCwgdGhlbiB0byB3aW5kb3c7IHdhdGNoIGZvciBhIGdsb2JhbCBvd25lckRvY3VtZW50IHZhciAoIzk3MjQpXG5cdFx0aWYgKCAhb25seUhhbmRsZXJzICYmICFzcGVjaWFsLm5vQnViYmxlICYmICFpc1dpbmRvdyggZWxlbSApICkge1xuXG5cdFx0XHRidWJibGVUeXBlID0gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgfHwgdHlwZTtcblx0XHRcdGlmICggIXJmb2N1c01vcnBoLnRlc3QoIGJ1YmJsZVR5cGUgKyB0eXBlICkgKSB7XG5cdFx0XHRcdGN1ciA9IGN1ci5wYXJlbnROb2RlO1xuXHRcdFx0fVxuXHRcdFx0Zm9yICggOyBjdXI7IGN1ciA9IGN1ci5wYXJlbnROb2RlICkge1xuXHRcdFx0XHRldmVudFBhdGgucHVzaCggY3VyICk7XG5cdFx0XHRcdHRtcCA9IGN1cjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gT25seSBhZGQgd2luZG93IGlmIHdlIGdvdCB0byBkb2N1bWVudCAoZS5nLiwgbm90IHBsYWluIG9iaiBvciBkZXRhY2hlZCBET00pXG5cdFx0XHRpZiAoIHRtcCA9PT0gKCBlbGVtLm93bmVyRG9jdW1lbnQgfHwgZG9jdW1lbnQgKSApIHtcblx0XHRcdFx0ZXZlbnRQYXRoLnB1c2goIHRtcC5kZWZhdWx0VmlldyB8fCB0bXAucGFyZW50V2luZG93IHx8IHdpbmRvdyApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEZpcmUgaGFuZGxlcnMgb24gdGhlIGV2ZW50IHBhdGhcblx0XHRpID0gMDtcblx0XHR3aGlsZSAoICggY3VyID0gZXZlbnRQYXRoWyBpKysgXSApICYmICFldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkge1xuXHRcdFx0bGFzdEVsZW1lbnQgPSBjdXI7XG5cdFx0XHRldmVudC50eXBlID0gaSA+IDEgP1xuXHRcdFx0XHRidWJibGVUeXBlIDpcblx0XHRcdFx0c3BlY2lhbC5iaW5kVHlwZSB8fCB0eXBlO1xuXG5cdFx0XHQvLyBqUXVlcnkgaGFuZGxlclxuXHRcdFx0aGFuZGxlID0gKCBkYXRhUHJpdi5nZXQoIGN1ciwgXCJldmVudHNcIiApIHx8IHt9IClbIGV2ZW50LnR5cGUgXSAmJlxuXHRcdFx0XHRkYXRhUHJpdi5nZXQoIGN1ciwgXCJoYW5kbGVcIiApO1xuXHRcdFx0aWYgKCBoYW5kbGUgKSB7XG5cdFx0XHRcdGhhbmRsZS5hcHBseSggY3VyLCBkYXRhICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIE5hdGl2ZSBoYW5kbGVyXG5cdFx0XHRoYW5kbGUgPSBvbnR5cGUgJiYgY3VyWyBvbnR5cGUgXTtcblx0XHRcdGlmICggaGFuZGxlICYmIGhhbmRsZS5hcHBseSAmJiBhY2NlcHREYXRhKCBjdXIgKSApIHtcblx0XHRcdFx0ZXZlbnQucmVzdWx0ID0gaGFuZGxlLmFwcGx5KCBjdXIsIGRhdGEgKTtcblx0XHRcdFx0aWYgKCBldmVudC5yZXN1bHQgPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0ZXZlbnQudHlwZSA9IHR5cGU7XG5cblx0XHQvLyBJZiBub2JvZHkgcHJldmVudGVkIHRoZSBkZWZhdWx0IGFjdGlvbiwgZG8gaXQgbm93XG5cdFx0aWYgKCAhb25seUhhbmRsZXJzICYmICFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHtcblxuXHRcdFx0aWYgKCAoICFzcGVjaWFsLl9kZWZhdWx0IHx8XG5cdFx0XHRcdHNwZWNpYWwuX2RlZmF1bHQuYXBwbHkoIGV2ZW50UGF0aC5wb3AoKSwgZGF0YSApID09PSBmYWxzZSApICYmXG5cdFx0XHRcdGFjY2VwdERhdGEoIGVsZW0gKSApIHtcblxuXHRcdFx0XHQvLyBDYWxsIGEgbmF0aXZlIERPTSBtZXRob2Qgb24gdGhlIHRhcmdldCB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgdGhlIGV2ZW50LlxuXHRcdFx0XHQvLyBEb24ndCBkbyBkZWZhdWx0IGFjdGlvbnMgb24gd2luZG93LCB0aGF0J3Mgd2hlcmUgZ2xvYmFsIHZhcmlhYmxlcyBiZSAoIzYxNzApXG5cdFx0XHRcdGlmICggb250eXBlICYmIGlzRnVuY3Rpb24oIGVsZW1bIHR5cGUgXSApICYmICFpc1dpbmRvdyggZWxlbSApICkge1xuXG5cdFx0XHRcdFx0Ly8gRG9uJ3QgcmUtdHJpZ2dlciBhbiBvbkZPTyBldmVudCB3aGVuIHdlIGNhbGwgaXRzIEZPTygpIG1ldGhvZFxuXHRcdFx0XHRcdHRtcCA9IGVsZW1bIG9udHlwZSBdO1xuXG5cdFx0XHRcdFx0aWYgKCB0bXAgKSB7XG5cdFx0XHRcdFx0XHRlbGVtWyBvbnR5cGUgXSA9IG51bGw7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gUHJldmVudCByZS10cmlnZ2VyaW5nIG9mIHRoZSBzYW1lIGV2ZW50LCBzaW5jZSB3ZSBhbHJlYWR5IGJ1YmJsZWQgaXQgYWJvdmVcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlcmVkID0gdHlwZTtcblxuXHRcdFx0XHRcdGlmICggZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcblx0XHRcdFx0XHRcdGxhc3RFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIHR5cGUsIHN0b3BQcm9wYWdhdGlvbkNhbGxiYWNrICk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0ZWxlbVsgdHlwZSBdKCk7XG5cblx0XHRcdFx0XHRpZiAoIGV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XG5cdFx0XHRcdFx0XHRsYXN0RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCB0eXBlLCBzdG9wUHJvcGFnYXRpb25DYWxsYmFjayApO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdFx0XHRpZiAoIHRtcCApIHtcblx0XHRcdFx0XHRcdGVsZW1bIG9udHlwZSBdID0gdG1wO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBldmVudC5yZXN1bHQ7XG5cdH0sXG5cblx0Ly8gUGlnZ3liYWNrIG9uIGEgZG9ub3IgZXZlbnQgdG8gc2ltdWxhdGUgYSBkaWZmZXJlbnQgb25lXG5cdC8vIFVzZWQgb25seSBmb3IgYGZvY3VzKGluIHwgb3V0KWAgZXZlbnRzXG5cdHNpbXVsYXRlOiBmdW5jdGlvbiggdHlwZSwgZWxlbSwgZXZlbnQgKSB7XG5cdFx0dmFyIGUgPSBqUXVlcnkuZXh0ZW5kKFxuXHRcdFx0bmV3IGpRdWVyeS5FdmVudCgpLFxuXHRcdFx0ZXZlbnQsXG5cdFx0XHR7XG5cdFx0XHRcdHR5cGU6IHR5cGUsXG5cdFx0XHRcdGlzU2ltdWxhdGVkOiB0cnVlXG5cdFx0XHR9XG5cdFx0KTtcblxuXHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBlLCBudWxsLCBlbGVtICk7XG5cdH1cblxufSApO1xuXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XG5cblx0dHJpZ2dlcjogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggdHlwZSwgZGF0YSwgdGhpcyApO1xuXHRcdH0gKTtcblx0fSxcblx0dHJpZ2dlckhhbmRsZXI6IGZ1bmN0aW9uKCB0eXBlLCBkYXRhICkge1xuXHRcdHZhciBlbGVtID0gdGhpc1sgMCBdO1xuXHRcdGlmICggZWxlbSApIHtcblx0XHRcdHJldHVybiBqUXVlcnkuZXZlbnQudHJpZ2dlciggdHlwZSwgZGF0YSwgZWxlbSwgdHJ1ZSApO1xuXHRcdH1cblx0fVxufSApO1xuXG5cbi8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00NFxuLy8gRmlyZWZveCBkb2Vzbid0IGhhdmUgZm9jdXMoaW4gfCBvdXQpIGV2ZW50c1xuLy8gUmVsYXRlZCB0aWNrZXQgLSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02ODc3ODdcbi8vXG4vLyBTdXBwb3J0OiBDaHJvbWUgPD00OCAtIDQ5LCBTYWZhcmkgPD05LjAgLSA5LjFcbi8vIGZvY3VzKGluIHwgb3V0KSBldmVudHMgZmlyZSBhZnRlciBmb2N1cyAmIGJsdXIgZXZlbnRzLFxuLy8gd2hpY2ggaXMgc3BlYyB2aW9sYXRpb24gLSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvI2V2ZW50cy1mb2N1c2V2ZW50LWV2ZW50LW9yZGVyXG4vLyBSZWxhdGVkIHRpY2tldCAtIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ0OTg1N1xuaWYgKCAhc3VwcG9ydC5mb2N1c2luICkge1xuXHRqUXVlcnkuZWFjaCggeyBmb2N1czogXCJmb2N1c2luXCIsIGJsdXI6IFwiZm9jdXNvdXRcIiB9LCBmdW5jdGlvbiggb3JpZywgZml4ICkge1xuXG5cdFx0Ly8gQXR0YWNoIGEgc2luZ2xlIGNhcHR1cmluZyBoYW5kbGVyIG9uIHRoZSBkb2N1bWVudCB3aGlsZSBzb21lb25lIHdhbnRzIGZvY3VzaW4vZm9jdXNvdXRcblx0XHR2YXIgaGFuZGxlciA9IGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdGpRdWVyeS5ldmVudC5zaW11bGF0ZSggZml4LCBldmVudC50YXJnZXQsIGpRdWVyeS5ldmVudC5maXgoIGV2ZW50ICkgKTtcblx0XHR9O1xuXG5cdFx0alF1ZXJ5LmV2ZW50LnNwZWNpYWxbIGZpeCBdID0ge1xuXHRcdFx0c2V0dXA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZG9jID0gdGhpcy5vd25lckRvY3VtZW50IHx8IHRoaXMsXG5cdFx0XHRcdFx0YXR0YWNoZXMgPSBkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4ICk7XG5cblx0XHRcdFx0aWYgKCAhYXR0YWNoZXMgKSB7XG5cdFx0XHRcdFx0ZG9jLmFkZEV2ZW50TGlzdGVuZXIoIG9yaWcsIGhhbmRsZXIsIHRydWUgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4LCAoIGF0dGFjaGVzIHx8IDAgKSArIDEgKTtcblx0XHRcdH0sXG5cdFx0XHR0ZWFyZG93bjogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBkb2MgPSB0aGlzLm93bmVyRG9jdW1lbnQgfHwgdGhpcyxcblx0XHRcdFx0XHRhdHRhY2hlcyA9IGRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXggKSAtIDE7XG5cblx0XHRcdFx0aWYgKCAhYXR0YWNoZXMgKSB7XG5cdFx0XHRcdFx0ZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoIG9yaWcsIGhhbmRsZXIsIHRydWUgKTtcblx0XHRcdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGRvYywgZml4ICk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4LCBhdHRhY2hlcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fSApO1xufVxudmFyIGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uO1xuXG52YXIgbm9uY2UgPSBEYXRlLm5vdygpO1xuXG52YXIgcnF1ZXJ5ID0gKCAvXFw/LyApO1xuXG5cblxuLy8gQ3Jvc3MtYnJvd3NlciB4bWwgcGFyc2luZ1xualF1ZXJ5LnBhcnNlWE1MID0gZnVuY3Rpb24oIGRhdGEgKSB7XG5cdHZhciB4bWw7XG5cdGlmICggIWRhdGEgfHwgdHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHQvLyBTdXBwb3J0OiBJRSA5IC0gMTEgb25seVxuXHQvLyBJRSB0aHJvd3Mgb24gcGFyc2VGcm9tU3RyaW5nIHdpdGggaW52YWxpZCBpbnB1dC5cblx0dHJ5IHtcblx0XHR4bWwgPSAoIG5ldyB3aW5kb3cuRE9NUGFyc2VyKCkgKS5wYXJzZUZyb21TdHJpbmcoIGRhdGEsIFwidGV4dC94bWxcIiApO1xuXHR9IGNhdGNoICggZSApIHtcblx0XHR4bWwgPSB1bmRlZmluZWQ7XG5cdH1cblxuXHRpZiAoICF4bWwgfHwgeG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcInBhcnNlcmVycm9yXCIgKS5sZW5ndGggKSB7XG5cdFx0alF1ZXJ5LmVycm9yKCBcIkludmFsaWQgWE1MOiBcIiArIGRhdGEgKTtcblx0fVxuXHRyZXR1cm4geG1sO1xufTtcblxuXG52YXJcblx0cmJyYWNrZXQgPSAvXFxbXFxdJC8sXG5cdHJDUkxGID0gL1xccj9cXG4vZyxcblx0cnN1Ym1pdHRlclR5cGVzID0gL14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLFxuXHRyc3VibWl0dGFibGUgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxrZXlnZW4pL2k7XG5cbmZ1bmN0aW9uIGJ1aWxkUGFyYW1zKCBwcmVmaXgsIG9iaiwgdHJhZGl0aW9uYWwsIGFkZCApIHtcblx0dmFyIG5hbWU7XG5cblx0aWYgKCBBcnJheS5pc0FycmF5KCBvYmogKSApIHtcblxuXHRcdC8vIFNlcmlhbGl6ZSBhcnJheSBpdGVtLlxuXHRcdGpRdWVyeS5lYWNoKCBvYmosIGZ1bmN0aW9uKCBpLCB2ICkge1xuXHRcdFx0aWYgKCB0cmFkaXRpb25hbCB8fCByYnJhY2tldC50ZXN0KCBwcmVmaXggKSApIHtcblxuXHRcdFx0XHQvLyBUcmVhdCBlYWNoIGFycmF5IGl0ZW0gYXMgYSBzY2FsYXIuXG5cdFx0XHRcdGFkZCggcHJlZml4LCB2ICk7XG5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gSXRlbSBpcyBub24tc2NhbGFyIChhcnJheSBvciBvYmplY3QpLCBlbmNvZGUgaXRzIG51bWVyaWMgaW5kZXguXG5cdFx0XHRcdGJ1aWxkUGFyYW1zKFxuXHRcdFx0XHRcdHByZWZpeCArIFwiW1wiICsgKCB0eXBlb2YgdiA9PT0gXCJvYmplY3RcIiAmJiB2ICE9IG51bGwgPyBpIDogXCJcIiApICsgXCJdXCIsXG5cdFx0XHRcdFx0dixcblx0XHRcdFx0XHR0cmFkaXRpb25hbCxcblx0XHRcdFx0XHRhZGRcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9ICk7XG5cblx0fSBlbHNlIGlmICggIXRyYWRpdGlvbmFsICYmIHRvVHlwZSggb2JqICkgPT09IFwib2JqZWN0XCIgKSB7XG5cblx0XHQvLyBTZXJpYWxpemUgb2JqZWN0IGl0ZW0uXG5cdFx0Zm9yICggbmFtZSBpbiBvYmogKSB7XG5cdFx0XHRidWlsZFBhcmFtcyggcHJlZml4ICsgXCJbXCIgKyBuYW1lICsgXCJdXCIsIG9ialsgbmFtZSBdLCB0cmFkaXRpb25hbCwgYWRkICk7XG5cdFx0fVxuXG5cdH0gZWxzZSB7XG5cblx0XHQvLyBTZXJpYWxpemUgc2NhbGFyIGl0ZW0uXG5cdFx0YWRkKCBwcmVmaXgsIG9iaiApO1xuXHR9XG59XG5cbi8vIFNlcmlhbGl6ZSBhbiBhcnJheSBvZiBmb3JtIGVsZW1lbnRzIG9yIGEgc2V0IG9mXG4vLyBrZXkvdmFsdWVzIGludG8gYSBxdWVyeSBzdHJpbmdcbmpRdWVyeS5wYXJhbSA9IGZ1bmN0aW9uKCBhLCB0cmFkaXRpb25hbCApIHtcblx0dmFyIHByZWZpeCxcblx0XHRzID0gW10sXG5cdFx0YWRkID0gZnVuY3Rpb24oIGtleSwgdmFsdWVPckZ1bmN0aW9uICkge1xuXG5cdFx0XHQvLyBJZiB2YWx1ZSBpcyBhIGZ1bmN0aW9uLCBpbnZva2UgaXQgYW5kIHVzZSBpdHMgcmV0dXJuIHZhbHVlXG5cdFx0XHR2YXIgdmFsdWUgPSBpc0Z1bmN0aW9uKCB2YWx1ZU9yRnVuY3Rpb24gKSA/XG5cdFx0XHRcdHZhbHVlT3JGdW5jdGlvbigpIDpcblx0XHRcdFx0dmFsdWVPckZ1bmN0aW9uO1xuXG5cdFx0XHRzWyBzLmxlbmd0aCBdID0gZW5jb2RlVVJJQ29tcG9uZW50KCBrZXkgKSArIFwiPVwiICtcblx0XHRcdFx0ZW5jb2RlVVJJQ29tcG9uZW50KCB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICk7XG5cdFx0fTtcblxuXHQvLyBJZiBhbiBhcnJheSB3YXMgcGFzc2VkIGluLCBhc3N1bWUgdGhhdCBpdCBpcyBhbiBhcnJheSBvZiBmb3JtIGVsZW1lbnRzLlxuXHRpZiAoIEFycmF5LmlzQXJyYXkoIGEgKSB8fCAoIGEuanF1ZXJ5ICYmICFqUXVlcnkuaXNQbGFpbk9iamVjdCggYSApICkgKSB7XG5cblx0XHQvLyBTZXJpYWxpemUgdGhlIGZvcm0gZWxlbWVudHNcblx0XHRqUXVlcnkuZWFjaCggYSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRhZGQoIHRoaXMubmFtZSwgdGhpcy52YWx1ZSApO1xuXHRcdH0gKTtcblxuXHR9IGVsc2Uge1xuXG5cdFx0Ly8gSWYgdHJhZGl0aW9uYWwsIGVuY29kZSB0aGUgXCJvbGRcIiB3YXkgKHRoZSB3YXkgMS4zLjIgb3Igb2xkZXJcblx0XHQvLyBkaWQgaXQpLCBvdGhlcndpc2UgZW5jb2RlIHBhcmFtcyByZWN1cnNpdmVseS5cblx0XHRmb3IgKCBwcmVmaXggaW4gYSApIHtcblx0XHRcdGJ1aWxkUGFyYW1zKCBwcmVmaXgsIGFbIHByZWZpeCBdLCB0cmFkaXRpb25hbCwgYWRkICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gUmV0dXJuIHRoZSByZXN1bHRpbmcgc2VyaWFsaXphdGlvblxuXHRyZXR1cm4gcy5qb2luKCBcIiZcIiApO1xufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRzZXJpYWxpemU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBqUXVlcnkucGFyYW0oIHRoaXMuc2VyaWFsaXplQXJyYXkoKSApO1xuXHR9LFxuXHRzZXJpYWxpemVBcnJheTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gQ2FuIGFkZCBwcm9wSG9vayBmb3IgXCJlbGVtZW50c1wiIHRvIGZpbHRlciBvciBhZGQgZm9ybSBlbGVtZW50c1xuXHRcdFx0dmFyIGVsZW1lbnRzID0galF1ZXJ5LnByb3AoIHRoaXMsIFwiZWxlbWVudHNcIiApO1xuXHRcdFx0cmV0dXJuIGVsZW1lbnRzID8galF1ZXJ5Lm1ha2VBcnJheSggZWxlbWVudHMgKSA6IHRoaXM7XG5cdFx0fSApXG5cdFx0LmZpbHRlciggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgdHlwZSA9IHRoaXMudHlwZTtcblxuXHRcdFx0Ly8gVXNlIC5pcyggXCI6ZGlzYWJsZWRcIiApIHNvIHRoYXQgZmllbGRzZXRbZGlzYWJsZWRdIHdvcmtzXG5cdFx0XHRyZXR1cm4gdGhpcy5uYW1lICYmICFqUXVlcnkoIHRoaXMgKS5pcyggXCI6ZGlzYWJsZWRcIiApICYmXG5cdFx0XHRcdHJzdWJtaXR0YWJsZS50ZXN0KCB0aGlzLm5vZGVOYW1lICkgJiYgIXJzdWJtaXR0ZXJUeXBlcy50ZXN0KCB0eXBlICkgJiZcblx0XHRcdFx0KCB0aGlzLmNoZWNrZWQgfHwgIXJjaGVja2FibGVUeXBlLnRlc3QoIHR5cGUgKSApO1xuXHRcdH0gKVxuXHRcdC5tYXAoIGZ1bmN0aW9uKCBpLCBlbGVtICkge1xuXHRcdFx0dmFyIHZhbCA9IGpRdWVyeSggdGhpcyApLnZhbCgpO1xuXG5cdFx0XHRpZiAoIHZhbCA9PSBudWxsICkge1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBBcnJheS5pc0FycmF5KCB2YWwgKSApIHtcblx0XHRcdFx0cmV0dXJuIGpRdWVyeS5tYXAoIHZhbCwgZnVuY3Rpb24oIHZhbCApIHtcblx0XHRcdFx0XHRyZXR1cm4geyBuYW1lOiBlbGVtLm5hbWUsIHZhbHVlOiB2YWwucmVwbGFjZSggckNSTEYsIFwiXFxyXFxuXCIgKSB9O1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB7IG5hbWU6IGVsZW0ubmFtZSwgdmFsdWU6IHZhbC5yZXBsYWNlKCByQ1JMRiwgXCJcXHJcXG5cIiApIH07XG5cdFx0fSApLmdldCgpO1xuXHR9XG59ICk7XG5cblxudmFyXG5cdHIyMCA9IC8lMjAvZyxcblx0cmhhc2ggPSAvIy4qJC8sXG5cdHJhbnRpQ2FjaGUgPSAvKFs/Jl0pXz1bXiZdKi8sXG5cdHJoZWFkZXJzID0gL14oLio/KTpbIFxcdF0qKFteXFxyXFxuXSopJC9tZyxcblxuXHQvLyAjNzY1MywgIzgxMjUsICM4MTUyOiBsb2NhbCBwcm90b2NvbCBkZXRlY3Rpb25cblx0cmxvY2FsUHJvdG9jb2wgPSAvXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxcblx0cm5vQ29udGVudCA9IC9eKD86R0VUfEhFQUQpJC8sXG5cdHJwcm90b2NvbCA9IC9eXFwvXFwvLyxcblxuXHQvKiBQcmVmaWx0ZXJzXG5cdCAqIDEpIFRoZXkgYXJlIHVzZWZ1bCB0byBpbnRyb2R1Y2UgY3VzdG9tIGRhdGFUeXBlcyAoc2VlIGFqYXgvanNvbnAuanMgZm9yIGFuIGV4YW1wbGUpXG5cdCAqIDIpIFRoZXNlIGFyZSBjYWxsZWQ6XG5cdCAqICAgIC0gQkVGT1JFIGFza2luZyBmb3IgYSB0cmFuc3BvcnRcblx0ICogICAgLSBBRlRFUiBwYXJhbSBzZXJpYWxpemF0aW9uIChzLmRhdGEgaXMgYSBzdHJpbmcgaWYgcy5wcm9jZXNzRGF0YSBpcyB0cnVlKVxuXHQgKiAzKSBrZXkgaXMgdGhlIGRhdGFUeXBlXG5cdCAqIDQpIHRoZSBjYXRjaGFsbCBzeW1ib2wgXCIqXCIgY2FuIGJlIHVzZWRcblx0ICogNSkgZXhlY3V0aW9uIHdpbGwgc3RhcnQgd2l0aCB0cmFuc3BvcnQgZGF0YVR5cGUgYW5kIFRIRU4gY29udGludWUgZG93biB0byBcIipcIiBpZiBuZWVkZWRcblx0ICovXG5cdHByZWZpbHRlcnMgPSB7fSxcblxuXHQvKiBUcmFuc3BvcnRzIGJpbmRpbmdzXG5cdCAqIDEpIGtleSBpcyB0aGUgZGF0YVR5cGVcblx0ICogMikgdGhlIGNhdGNoYWxsIHN5bWJvbCBcIipcIiBjYW4gYmUgdXNlZFxuXHQgKiAzKSBzZWxlY3Rpb24gd2lsbCBzdGFydCB3aXRoIHRyYW5zcG9ydCBkYXRhVHlwZSBhbmQgVEhFTiBnbyB0byBcIipcIiBpZiBuZWVkZWRcblx0ICovXG5cdHRyYW5zcG9ydHMgPSB7fSxcblxuXHQvLyBBdm9pZCBjb21tZW50LXByb2xvZyBjaGFyIHNlcXVlbmNlICgjMTAwOTgpOyBtdXN0IGFwcGVhc2UgbGludCBhbmQgZXZhZGUgY29tcHJlc3Npb25cblx0YWxsVHlwZXMgPSBcIiovXCIuY29uY2F0KCBcIipcIiApLFxuXG5cdC8vIEFuY2hvciB0YWcgZm9yIHBhcnNpbmcgdGhlIGRvY3VtZW50IG9yaWdpblxuXHRvcmlnaW5BbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImFcIiApO1xuXHRvcmlnaW5BbmNob3IuaHJlZiA9IGxvY2F0aW9uLmhyZWY7XG5cbi8vIEJhc2UgXCJjb25zdHJ1Y3RvclwiIGZvciBqUXVlcnkuYWpheFByZWZpbHRlciBhbmQgalF1ZXJ5LmFqYXhUcmFuc3BvcnRcbmZ1bmN0aW9uIGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggc3RydWN0dXJlICkge1xuXG5cdC8vIGRhdGFUeXBlRXhwcmVzc2lvbiBpcyBvcHRpb25hbCBhbmQgZGVmYXVsdHMgdG8gXCIqXCJcblx0cmV0dXJuIGZ1bmN0aW9uKCBkYXRhVHlwZUV4cHJlc3Npb24sIGZ1bmMgKSB7XG5cblx0XHRpZiAoIHR5cGVvZiBkYXRhVHlwZUV4cHJlc3Npb24gIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRmdW5jID0gZGF0YVR5cGVFeHByZXNzaW9uO1xuXHRcdFx0ZGF0YVR5cGVFeHByZXNzaW9uID0gXCIqXCI7XG5cdFx0fVxuXG5cdFx0dmFyIGRhdGFUeXBlLFxuXHRcdFx0aSA9IDAsXG5cdFx0XHRkYXRhVHlwZXMgPSBkYXRhVHlwZUV4cHJlc3Npb24udG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdO1xuXG5cdFx0aWYgKCBpc0Z1bmN0aW9uKCBmdW5jICkgKSB7XG5cblx0XHRcdC8vIEZvciBlYWNoIGRhdGFUeXBlIGluIHRoZSBkYXRhVHlwZUV4cHJlc3Npb25cblx0XHRcdHdoaWxlICggKCBkYXRhVHlwZSA9IGRhdGFUeXBlc1sgaSsrIF0gKSApIHtcblxuXHRcdFx0XHQvLyBQcmVwZW5kIGlmIHJlcXVlc3RlZFxuXHRcdFx0XHRpZiAoIGRhdGFUeXBlWyAwIF0gPT09IFwiK1wiICkge1xuXHRcdFx0XHRcdGRhdGFUeXBlID0gZGF0YVR5cGUuc2xpY2UoIDEgKSB8fCBcIipcIjtcblx0XHRcdFx0XHQoIHN0cnVjdHVyZVsgZGF0YVR5cGUgXSA9IHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSApLnVuc2hpZnQoIGZ1bmMgKTtcblxuXHRcdFx0XHQvLyBPdGhlcndpc2UgYXBwZW5kXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0KCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gPSBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10gKS5wdXNoKCBmdW5jICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vIEJhc2UgaW5zcGVjdGlvbiBmdW5jdGlvbiBmb3IgcHJlZmlsdGVycyBhbmQgdHJhbnNwb3J0c1xuZnVuY3Rpb24gaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHN0cnVjdHVyZSwgb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zLCBqcVhIUiApIHtcblxuXHR2YXIgaW5zcGVjdGVkID0ge30sXG5cdFx0c2Vla2luZ1RyYW5zcG9ydCA9ICggc3RydWN0dXJlID09PSB0cmFuc3BvcnRzICk7XG5cblx0ZnVuY3Rpb24gaW5zcGVjdCggZGF0YVR5cGUgKSB7XG5cdFx0dmFyIHNlbGVjdGVkO1xuXHRcdGluc3BlY3RlZFsgZGF0YVR5cGUgXSA9IHRydWU7XG5cdFx0alF1ZXJ5LmVhY2goIHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSwgZnVuY3Rpb24oIF8sIHByZWZpbHRlck9yRmFjdG9yeSApIHtcblx0XHRcdHZhciBkYXRhVHlwZU9yVHJhbnNwb3J0ID0gcHJlZmlsdGVyT3JGYWN0b3J5KCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMsIGpxWEhSICk7XG5cdFx0XHRpZiAoIHR5cGVvZiBkYXRhVHlwZU9yVHJhbnNwb3J0ID09PSBcInN0cmluZ1wiICYmXG5cdFx0XHRcdCFzZWVraW5nVHJhbnNwb3J0ICYmICFpbnNwZWN0ZWRbIGRhdGFUeXBlT3JUcmFuc3BvcnQgXSApIHtcblxuXHRcdFx0XHRvcHRpb25zLmRhdGFUeXBlcy51bnNoaWZ0KCBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7XG5cdFx0XHRcdGluc3BlY3QoIGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fSBlbHNlIGlmICggc2Vla2luZ1RyYW5zcG9ydCApIHtcblx0XHRcdFx0cmV0dXJuICEoIHNlbGVjdGVkID0gZGF0YVR5cGVPclRyYW5zcG9ydCApO1xuXHRcdFx0fVxuXHRcdH0gKTtcblx0XHRyZXR1cm4gc2VsZWN0ZWQ7XG5cdH1cblxuXHRyZXR1cm4gaW5zcGVjdCggb3B0aW9ucy5kYXRhVHlwZXNbIDAgXSApIHx8ICFpbnNwZWN0ZWRbIFwiKlwiIF0gJiYgaW5zcGVjdCggXCIqXCIgKTtcbn1cblxuLy8gQSBzcGVjaWFsIGV4dGVuZCBmb3IgYWpheCBvcHRpb25zXG4vLyB0aGF0IHRha2VzIFwiZmxhdFwiIG9wdGlvbnMgKG5vdCB0byBiZSBkZWVwIGV4dGVuZGVkKVxuLy8gRml4ZXMgIzk4ODdcbmZ1bmN0aW9uIGFqYXhFeHRlbmQoIHRhcmdldCwgc3JjICkge1xuXHR2YXIga2V5LCBkZWVwLFxuXHRcdGZsYXRPcHRpb25zID0galF1ZXJ5LmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9ucyB8fCB7fTtcblxuXHRmb3IgKCBrZXkgaW4gc3JjICkge1xuXHRcdGlmICggc3JjWyBrZXkgXSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0KCBmbGF0T3B0aW9uc1sga2V5IF0gPyB0YXJnZXQgOiAoIGRlZXAgfHwgKCBkZWVwID0ge30gKSApIClbIGtleSBdID0gc3JjWyBrZXkgXTtcblx0XHR9XG5cdH1cblx0aWYgKCBkZWVwICkge1xuXHRcdGpRdWVyeS5leHRlbmQoIHRydWUsIHRhcmdldCwgZGVlcCApO1xuXHR9XG5cblx0cmV0dXJuIHRhcmdldDtcbn1cblxuLyogSGFuZGxlcyByZXNwb25zZXMgdG8gYW4gYWpheCByZXF1ZXN0OlxuICogLSBmaW5kcyB0aGUgcmlnaHQgZGF0YVR5cGUgKG1lZGlhdGVzIGJldHdlZW4gY29udGVudC10eXBlIGFuZCBleHBlY3RlZCBkYXRhVHlwZSlcbiAqIC0gcmV0dXJucyB0aGUgY29ycmVzcG9uZGluZyByZXNwb25zZVxuICovXG5mdW5jdGlvbiBhamF4SGFuZGxlUmVzcG9uc2VzKCBzLCBqcVhIUiwgcmVzcG9uc2VzICkge1xuXG5cdHZhciBjdCwgdHlwZSwgZmluYWxEYXRhVHlwZSwgZmlyc3REYXRhVHlwZSxcblx0XHRjb250ZW50cyA9IHMuY29udGVudHMsXG5cdFx0ZGF0YVR5cGVzID0gcy5kYXRhVHlwZXM7XG5cblx0Ly8gUmVtb3ZlIGF1dG8gZGF0YVR5cGUgYW5kIGdldCBjb250ZW50LXR5cGUgaW4gdGhlIHByb2Nlc3Ncblx0d2hpbGUgKCBkYXRhVHlwZXNbIDAgXSA9PT0gXCIqXCIgKSB7XG5cdFx0ZGF0YVR5cGVzLnNoaWZ0KCk7XG5cdFx0aWYgKCBjdCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0Y3QgPSBzLm1pbWVUeXBlIHx8IGpxWEhSLmdldFJlc3BvbnNlSGVhZGVyKCBcIkNvbnRlbnQtVHlwZVwiICk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gQ2hlY2sgaWYgd2UncmUgZGVhbGluZyB3aXRoIGEga25vd24gY29udGVudC10eXBlXG5cdGlmICggY3QgKSB7XG5cdFx0Zm9yICggdHlwZSBpbiBjb250ZW50cyApIHtcblx0XHRcdGlmICggY29udGVudHNbIHR5cGUgXSAmJiBjb250ZW50c1sgdHlwZSBdLnRlc3QoIGN0ICkgKSB7XG5cdFx0XHRcdGRhdGFUeXBlcy51bnNoaWZ0KCB0eXBlICk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8vIENoZWNrIHRvIHNlZSBpZiB3ZSBoYXZlIGEgcmVzcG9uc2UgZm9yIHRoZSBleHBlY3RlZCBkYXRhVHlwZVxuXHRpZiAoIGRhdGFUeXBlc1sgMCBdIGluIHJlc3BvbnNlcyApIHtcblx0XHRmaW5hbERhdGFUeXBlID0gZGF0YVR5cGVzWyAwIF07XG5cdH0gZWxzZSB7XG5cblx0XHQvLyBUcnkgY29udmVydGlibGUgZGF0YVR5cGVzXG5cdFx0Zm9yICggdHlwZSBpbiByZXNwb25zZXMgKSB7XG5cdFx0XHRpZiAoICFkYXRhVHlwZXNbIDAgXSB8fCBzLmNvbnZlcnRlcnNbIHR5cGUgKyBcIiBcIiArIGRhdGFUeXBlc1sgMCBdIF0gKSB7XG5cdFx0XHRcdGZpbmFsRGF0YVR5cGUgPSB0eXBlO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdGlmICggIWZpcnN0RGF0YVR5cGUgKSB7XG5cdFx0XHRcdGZpcnN0RGF0YVR5cGUgPSB0eXBlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIE9yIGp1c3QgdXNlIGZpcnN0IG9uZVxuXHRcdGZpbmFsRGF0YVR5cGUgPSBmaW5hbERhdGFUeXBlIHx8IGZpcnN0RGF0YVR5cGU7XG5cdH1cblxuXHQvLyBJZiB3ZSBmb3VuZCBhIGRhdGFUeXBlXG5cdC8vIFdlIGFkZCB0aGUgZGF0YVR5cGUgdG8gdGhlIGxpc3QgaWYgbmVlZGVkXG5cdC8vIGFuZCByZXR1cm4gdGhlIGNvcnJlc3BvbmRpbmcgcmVzcG9uc2Vcblx0aWYgKCBmaW5hbERhdGFUeXBlICkge1xuXHRcdGlmICggZmluYWxEYXRhVHlwZSAhPT0gZGF0YVR5cGVzWyAwIF0gKSB7XG5cdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggZmluYWxEYXRhVHlwZSApO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzcG9uc2VzWyBmaW5hbERhdGFUeXBlIF07XG5cdH1cbn1cblxuLyogQ2hhaW4gY29udmVyc2lvbnMgZ2l2ZW4gdGhlIHJlcXVlc3QgYW5kIHRoZSBvcmlnaW5hbCByZXNwb25zZVxuICogQWxzbyBzZXRzIHRoZSByZXNwb25zZVhYWCBmaWVsZHMgb24gdGhlIGpxWEhSIGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIGFqYXhDb252ZXJ0KCBzLCByZXNwb25zZSwganFYSFIsIGlzU3VjY2VzcyApIHtcblx0dmFyIGNvbnYyLCBjdXJyZW50LCBjb252LCB0bXAsIHByZXYsXG5cdFx0Y29udmVydGVycyA9IHt9LFxuXG5cdFx0Ly8gV29yayB3aXRoIGEgY29weSBvZiBkYXRhVHlwZXMgaW4gY2FzZSB3ZSBuZWVkIHRvIG1vZGlmeSBpdCBmb3IgY29udmVyc2lvblxuXHRcdGRhdGFUeXBlcyA9IHMuZGF0YVR5cGVzLnNsaWNlKCk7XG5cblx0Ly8gQ3JlYXRlIGNvbnZlcnRlcnMgbWFwIHdpdGggbG93ZXJjYXNlZCBrZXlzXG5cdGlmICggZGF0YVR5cGVzWyAxIF0gKSB7XG5cdFx0Zm9yICggY29udiBpbiBzLmNvbnZlcnRlcnMgKSB7XG5cdFx0XHRjb252ZXJ0ZXJzWyBjb252LnRvTG93ZXJDYXNlKCkgXSA9IHMuY29udmVydGVyc1sgY29udiBdO1xuXHRcdH1cblx0fVxuXG5cdGN1cnJlbnQgPSBkYXRhVHlwZXMuc2hpZnQoKTtcblxuXHQvLyBDb252ZXJ0IHRvIGVhY2ggc2VxdWVudGlhbCBkYXRhVHlwZVxuXHR3aGlsZSAoIGN1cnJlbnQgKSB7XG5cblx0XHRpZiAoIHMucmVzcG9uc2VGaWVsZHNbIGN1cnJlbnQgXSApIHtcblx0XHRcdGpxWEhSWyBzLnJlc3BvbnNlRmllbGRzWyBjdXJyZW50IF0gXSA9IHJlc3BvbnNlO1xuXHRcdH1cblxuXHRcdC8vIEFwcGx5IHRoZSBkYXRhRmlsdGVyIGlmIHByb3ZpZGVkXG5cdFx0aWYgKCAhcHJldiAmJiBpc1N1Y2Nlc3MgJiYgcy5kYXRhRmlsdGVyICkge1xuXHRcdFx0cmVzcG9uc2UgPSBzLmRhdGFGaWx0ZXIoIHJlc3BvbnNlLCBzLmRhdGFUeXBlICk7XG5cdFx0fVxuXG5cdFx0cHJldiA9IGN1cnJlbnQ7XG5cdFx0Y3VycmVudCA9IGRhdGFUeXBlcy5zaGlmdCgpO1xuXG5cdFx0aWYgKCBjdXJyZW50ICkge1xuXG5cdFx0XHQvLyBUaGVyZSdzIG9ubHkgd29yayB0byBkbyBpZiBjdXJyZW50IGRhdGFUeXBlIGlzIG5vbi1hdXRvXG5cdFx0XHRpZiAoIGN1cnJlbnQgPT09IFwiKlwiICkge1xuXG5cdFx0XHRcdGN1cnJlbnQgPSBwcmV2O1xuXG5cdFx0XHQvLyBDb252ZXJ0IHJlc3BvbnNlIGlmIHByZXYgZGF0YVR5cGUgaXMgbm9uLWF1dG8gYW5kIGRpZmZlcnMgZnJvbSBjdXJyZW50XG5cdFx0XHR9IGVsc2UgaWYgKCBwcmV2ICE9PSBcIipcIiAmJiBwcmV2ICE9PSBjdXJyZW50ICkge1xuXG5cdFx0XHRcdC8vIFNlZWsgYSBkaXJlY3QgY29udmVydGVyXG5cdFx0XHRcdGNvbnYgPSBjb252ZXJ0ZXJzWyBwcmV2ICsgXCIgXCIgKyBjdXJyZW50IF0gfHwgY29udmVydGVyc1sgXCIqIFwiICsgY3VycmVudCBdO1xuXG5cdFx0XHRcdC8vIElmIG5vbmUgZm91bmQsIHNlZWsgYSBwYWlyXG5cdFx0XHRcdGlmICggIWNvbnYgKSB7XG5cdFx0XHRcdFx0Zm9yICggY29udjIgaW4gY29udmVydGVycyApIHtcblxuXHRcdFx0XHRcdFx0Ly8gSWYgY29udjIgb3V0cHV0cyBjdXJyZW50XG5cdFx0XHRcdFx0XHR0bXAgPSBjb252Mi5zcGxpdCggXCIgXCIgKTtcblx0XHRcdFx0XHRcdGlmICggdG1wWyAxIF0gPT09IGN1cnJlbnQgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gSWYgcHJldiBjYW4gYmUgY29udmVydGVkIHRvIGFjY2VwdGVkIGlucHV0XG5cdFx0XHRcdFx0XHRcdGNvbnYgPSBjb252ZXJ0ZXJzWyBwcmV2ICsgXCIgXCIgKyB0bXBbIDAgXSBdIHx8XG5cdFx0XHRcdFx0XHRcdFx0Y29udmVydGVyc1sgXCIqIFwiICsgdG1wWyAwIF0gXTtcblx0XHRcdFx0XHRcdFx0aWYgKCBjb252ICkge1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gQ29uZGVuc2UgZXF1aXZhbGVuY2UgY29udmVydGVyc1xuXHRcdFx0XHRcdFx0XHRcdGlmICggY29udiA9PT0gdHJ1ZSApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnYgPSBjb252ZXJ0ZXJzWyBjb252MiBdO1xuXG5cdFx0XHRcdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCBpbnNlcnQgdGhlIGludGVybWVkaWF0ZSBkYXRhVHlwZVxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIGNvbnZlcnRlcnNbIGNvbnYyIF0gIT09IHRydWUgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjdXJyZW50ID0gdG1wWyAwIF07XG5cdFx0XHRcdFx0XHRcdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggdG1wWyAxIF0gKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBBcHBseSBjb252ZXJ0ZXIgKGlmIG5vdCBhbiBlcXVpdmFsZW5jZSlcblx0XHRcdFx0aWYgKCBjb252ICE9PSB0cnVlICkge1xuXG5cdFx0XHRcdFx0Ly8gVW5sZXNzIGVycm9ycyBhcmUgYWxsb3dlZCB0byBidWJibGUsIGNhdGNoIGFuZCByZXR1cm4gdGhlbVxuXHRcdFx0XHRcdGlmICggY29udiAmJiBzLnRocm93cyApIHtcblx0XHRcdFx0XHRcdHJlc3BvbnNlID0gY29udiggcmVzcG9uc2UgKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdFx0cmVzcG9uc2UgPSBjb252KCByZXNwb25zZSApO1xuXHRcdFx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdFx0c3RhdGU6IFwicGFyc2VyZXJyb3JcIixcblx0XHRcdFx0XHRcdFx0XHRlcnJvcjogY29udiA/IGUgOiBcIk5vIGNvbnZlcnNpb24gZnJvbSBcIiArIHByZXYgKyBcIiB0byBcIiArIGN1cnJlbnRcblx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4geyBzdGF0ZTogXCJzdWNjZXNzXCIsIGRhdGE6IHJlc3BvbnNlIH07XG59XG5cbmpRdWVyeS5leHRlbmQoIHtcblxuXHQvLyBDb3VudGVyIGZvciBob2xkaW5nIHRoZSBudW1iZXIgb2YgYWN0aXZlIHF1ZXJpZXNcblx0YWN0aXZlOiAwLFxuXG5cdC8vIExhc3QtTW9kaWZpZWQgaGVhZGVyIGNhY2hlIGZvciBuZXh0IHJlcXVlc3Rcblx0bGFzdE1vZGlmaWVkOiB7fSxcblx0ZXRhZzoge30sXG5cblx0YWpheFNldHRpbmdzOiB7XG5cdFx0dXJsOiBsb2NhdGlvbi5ocmVmLFxuXHRcdHR5cGU6IFwiR0VUXCIsXG5cdFx0aXNMb2NhbDogcmxvY2FsUHJvdG9jb2wudGVzdCggbG9jYXRpb24ucHJvdG9jb2wgKSxcblx0XHRnbG9iYWw6IHRydWUsXG5cdFx0cHJvY2Vzc0RhdGE6IHRydWUsXG5cdFx0YXN5bmM6IHRydWUsXG5cdFx0Y29udGVudFR5cGU6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04XCIsXG5cblx0XHQvKlxuXHRcdHRpbWVvdXQ6IDAsXG5cdFx0ZGF0YTogbnVsbCxcblx0XHRkYXRhVHlwZTogbnVsbCxcblx0XHR1c2VybmFtZTogbnVsbCxcblx0XHRwYXNzd29yZDogbnVsbCxcblx0XHRjYWNoZTogbnVsbCxcblx0XHR0aHJvd3M6IGZhbHNlLFxuXHRcdHRyYWRpdGlvbmFsOiBmYWxzZSxcblx0XHRoZWFkZXJzOiB7fSxcblx0XHQqL1xuXG5cdFx0YWNjZXB0czoge1xuXHRcdFx0XCIqXCI6IGFsbFR5cGVzLFxuXHRcdFx0dGV4dDogXCJ0ZXh0L3BsYWluXCIsXG5cdFx0XHRodG1sOiBcInRleHQvaHRtbFwiLFxuXHRcdFx0eG1sOiBcImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWxcIixcblx0XHRcdGpzb246IFwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0XCJcblx0XHR9LFxuXG5cdFx0Y29udGVudHM6IHtcblx0XHRcdHhtbDogL1xcYnhtbFxcYi8sXG5cdFx0XHRodG1sOiAvXFxiaHRtbC8sXG5cdFx0XHRqc29uOiAvXFxianNvblxcYi9cblx0XHR9LFxuXG5cdFx0cmVzcG9uc2VGaWVsZHM6IHtcblx0XHRcdHhtbDogXCJyZXNwb25zZVhNTFwiLFxuXHRcdFx0dGV4dDogXCJyZXNwb25zZVRleHRcIixcblx0XHRcdGpzb246IFwicmVzcG9uc2VKU09OXCJcblx0XHR9LFxuXG5cdFx0Ly8gRGF0YSBjb252ZXJ0ZXJzXG5cdFx0Ly8gS2V5cyBzZXBhcmF0ZSBzb3VyY2UgKG9yIGNhdGNoYWxsIFwiKlwiKSBhbmQgZGVzdGluYXRpb24gdHlwZXMgd2l0aCBhIHNpbmdsZSBzcGFjZVxuXHRcdGNvbnZlcnRlcnM6IHtcblxuXHRcdFx0Ly8gQ29udmVydCBhbnl0aGluZyB0byB0ZXh0XG5cdFx0XHRcIiogdGV4dFwiOiBTdHJpbmcsXG5cblx0XHRcdC8vIFRleHQgdG8gaHRtbCAodHJ1ZSA9IG5vIHRyYW5zZm9ybWF0aW9uKVxuXHRcdFx0XCJ0ZXh0IGh0bWxcIjogdHJ1ZSxcblxuXHRcdFx0Ly8gRXZhbHVhdGUgdGV4dCBhcyBhIGpzb24gZXhwcmVzc2lvblxuXHRcdFx0XCJ0ZXh0IGpzb25cIjogSlNPTi5wYXJzZSxcblxuXHRcdFx0Ly8gUGFyc2UgdGV4dCBhcyB4bWxcblx0XHRcdFwidGV4dCB4bWxcIjogalF1ZXJ5LnBhcnNlWE1MXG5cdFx0fSxcblxuXHRcdC8vIEZvciBvcHRpb25zIHRoYXQgc2hvdWxkbid0IGJlIGRlZXAgZXh0ZW5kZWQ6XG5cdFx0Ly8geW91IGNhbiBhZGQgeW91ciBvd24gY3VzdG9tIG9wdGlvbnMgaGVyZSBpZlxuXHRcdC8vIGFuZCB3aGVuIHlvdSBjcmVhdGUgb25lIHRoYXQgc2hvdWxkbid0IGJlXG5cdFx0Ly8gZGVlcCBleHRlbmRlZCAoc2VlIGFqYXhFeHRlbmQpXG5cdFx0ZmxhdE9wdGlvbnM6IHtcblx0XHRcdHVybDogdHJ1ZSxcblx0XHRcdGNvbnRleHQ6IHRydWVcblx0XHR9XG5cdH0sXG5cblx0Ly8gQ3JlYXRlcyBhIGZ1bGwgZmxlZGdlZCBzZXR0aW5ncyBvYmplY3QgaW50byB0YXJnZXRcblx0Ly8gd2l0aCBib3RoIGFqYXhTZXR0aW5ncyBhbmQgc2V0dGluZ3MgZmllbGRzLlxuXHQvLyBJZiB0YXJnZXQgaXMgb21pdHRlZCwgd3JpdGVzIGludG8gYWpheFNldHRpbmdzLlxuXHRhamF4U2V0dXA6IGZ1bmN0aW9uKCB0YXJnZXQsIHNldHRpbmdzICkge1xuXHRcdHJldHVybiBzZXR0aW5ncyA/XG5cblx0XHRcdC8vIEJ1aWxkaW5nIGEgc2V0dGluZ3Mgb2JqZWN0XG5cdFx0XHRhamF4RXh0ZW5kKCBhamF4RXh0ZW5kKCB0YXJnZXQsIGpRdWVyeS5hamF4U2V0dGluZ3MgKSwgc2V0dGluZ3MgKSA6XG5cblx0XHRcdC8vIEV4dGVuZGluZyBhamF4U2V0dGluZ3Ncblx0XHRcdGFqYXhFeHRlbmQoIGpRdWVyeS5hamF4U2V0dGluZ3MsIHRhcmdldCApO1xuXHR9LFxuXG5cdGFqYXhQcmVmaWx0ZXI6IGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggcHJlZmlsdGVycyApLFxuXHRhamF4VHJhbnNwb3J0OiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHRyYW5zcG9ydHMgKSxcblxuXHQvLyBNYWluIG1ldGhvZFxuXHRhamF4OiBmdW5jdGlvbiggdXJsLCBvcHRpb25zICkge1xuXG5cdFx0Ly8gSWYgdXJsIGlzIGFuIG9iamVjdCwgc2ltdWxhdGUgcHJlLTEuNSBzaWduYXR1cmVcblx0XHRpZiAoIHR5cGVvZiB1cmwgPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0XHRvcHRpb25zID0gdXJsO1xuXHRcdFx0dXJsID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdC8vIEZvcmNlIG9wdGlvbnMgdG8gYmUgYW4gb2JqZWN0XG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0XHR2YXIgdHJhbnNwb3J0LFxuXG5cdFx0XHQvLyBVUkwgd2l0aG91dCBhbnRpLWNhY2hlIHBhcmFtXG5cdFx0XHRjYWNoZVVSTCxcblxuXHRcdFx0Ly8gUmVzcG9uc2UgaGVhZGVyc1xuXHRcdFx0cmVzcG9uc2VIZWFkZXJzU3RyaW5nLFxuXHRcdFx0cmVzcG9uc2VIZWFkZXJzLFxuXG5cdFx0XHQvLyB0aW1lb3V0IGhhbmRsZVxuXHRcdFx0dGltZW91dFRpbWVyLFxuXG5cdFx0XHQvLyBVcmwgY2xlYW51cCB2YXJcblx0XHRcdHVybEFuY2hvcixcblxuXHRcdFx0Ly8gUmVxdWVzdCBzdGF0ZSAoYmVjb21lcyBmYWxzZSB1cG9uIHNlbmQgYW5kIHRydWUgdXBvbiBjb21wbGV0aW9uKVxuXHRcdFx0Y29tcGxldGVkLFxuXG5cdFx0XHQvLyBUbyBrbm93IGlmIGdsb2JhbCBldmVudHMgYXJlIHRvIGJlIGRpc3BhdGNoZWRcblx0XHRcdGZpcmVHbG9iYWxzLFxuXG5cdFx0XHQvLyBMb29wIHZhcmlhYmxlXG5cdFx0XHRpLFxuXG5cdFx0XHQvLyB1bmNhY2hlZCBwYXJ0IG9mIHRoZSB1cmxcblx0XHRcdHVuY2FjaGVkLFxuXG5cdFx0XHQvLyBDcmVhdGUgdGhlIGZpbmFsIG9wdGlvbnMgb2JqZWN0XG5cdFx0XHRzID0galF1ZXJ5LmFqYXhTZXR1cCgge30sIG9wdGlvbnMgKSxcblxuXHRcdFx0Ly8gQ2FsbGJhY2tzIGNvbnRleHRcblx0XHRcdGNhbGxiYWNrQ29udGV4dCA9IHMuY29udGV4dCB8fCBzLFxuXG5cdFx0XHQvLyBDb250ZXh0IGZvciBnbG9iYWwgZXZlbnRzIGlzIGNhbGxiYWNrQ29udGV4dCBpZiBpdCBpcyBhIERPTSBub2RlIG9yIGpRdWVyeSBjb2xsZWN0aW9uXG5cdFx0XHRnbG9iYWxFdmVudENvbnRleHQgPSBzLmNvbnRleHQgJiZcblx0XHRcdFx0KCBjYWxsYmFja0NvbnRleHQubm9kZVR5cGUgfHwgY2FsbGJhY2tDb250ZXh0LmpxdWVyeSApID9cblx0XHRcdFx0XHRqUXVlcnkoIGNhbGxiYWNrQ29udGV4dCApIDpcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQsXG5cblx0XHRcdC8vIERlZmVycmVkc1xuXHRcdFx0ZGVmZXJyZWQgPSBqUXVlcnkuRGVmZXJyZWQoKSxcblx0XHRcdGNvbXBsZXRlRGVmZXJyZWQgPSBqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKSxcblxuXHRcdFx0Ly8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3Ncblx0XHRcdHN0YXR1c0NvZGUgPSBzLnN0YXR1c0NvZGUgfHwge30sXG5cblx0XHRcdC8vIEhlYWRlcnMgKHRoZXkgYXJlIHNlbnQgYWxsIGF0IG9uY2UpXG5cdFx0XHRyZXF1ZXN0SGVhZGVycyA9IHt9LFxuXHRcdFx0cmVxdWVzdEhlYWRlcnNOYW1lcyA9IHt9LFxuXG5cdFx0XHQvLyBEZWZhdWx0IGFib3J0IG1lc3NhZ2Vcblx0XHRcdHN0ckFib3J0ID0gXCJjYW5jZWxlZFwiLFxuXG5cdFx0XHQvLyBGYWtlIHhoclxuXHRcdFx0anFYSFIgPSB7XG5cdFx0XHRcdHJlYWR5U3RhdGU6IDAsXG5cblx0XHRcdFx0Ly8gQnVpbGRzIGhlYWRlcnMgaGFzaHRhYmxlIGlmIG5lZWRlZFxuXHRcdFx0XHRnZXRSZXNwb25zZUhlYWRlcjogZnVuY3Rpb24oIGtleSApIHtcblx0XHRcdFx0XHR2YXIgbWF0Y2g7XG5cdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdFx0XHRpZiAoICFyZXNwb25zZUhlYWRlcnMgKSB7XG5cdFx0XHRcdFx0XHRcdHJlc3BvbnNlSGVhZGVycyA9IHt9O1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoICggbWF0Y2ggPSByaGVhZGVycy5leGVjKCByZXNwb25zZUhlYWRlcnNTdHJpbmcgKSApICkge1xuXHRcdFx0XHRcdFx0XHRcdHJlc3BvbnNlSGVhZGVyc1sgbWF0Y2hbIDEgXS50b0xvd2VyQ2FzZSgpIF0gPSBtYXRjaFsgMiBdO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRtYXRjaCA9IHJlc3BvbnNlSGVhZGVyc1sga2V5LnRvTG93ZXJDYXNlKCkgXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIG1hdGNoID09IG51bGwgPyBudWxsIDogbWF0Y2g7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gUmF3IHN0cmluZ1xuXHRcdFx0XHRnZXRBbGxSZXNwb25zZUhlYWRlcnM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHJldHVybiBjb21wbGV0ZWQgPyByZXNwb25zZUhlYWRlcnNTdHJpbmcgOiBudWxsO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIENhY2hlcyB0aGUgaGVhZGVyXG5cdFx0XHRcdHNldFJlcXVlc3RIZWFkZXI6IGZ1bmN0aW9uKCBuYW1lLCB2YWx1ZSApIHtcblx0XHRcdFx0XHRpZiAoIGNvbXBsZXRlZCA9PSBudWxsICkge1xuXHRcdFx0XHRcdFx0bmFtZSA9IHJlcXVlc3RIZWFkZXJzTmFtZXNbIG5hbWUudG9Mb3dlckNhc2UoKSBdID1cblx0XHRcdFx0XHRcdFx0cmVxdWVzdEhlYWRlcnNOYW1lc1sgbmFtZS50b0xvd2VyQ2FzZSgpIF0gfHwgbmFtZTtcblx0XHRcdFx0XHRcdHJlcXVlc3RIZWFkZXJzWyBuYW1lIF0gPSB2YWx1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gT3ZlcnJpZGVzIHJlc3BvbnNlIGNvbnRlbnQtdHlwZSBoZWFkZXJcblx0XHRcdFx0b3ZlcnJpZGVNaW1lVHlwZTogZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgPT0gbnVsbCApIHtcblx0XHRcdFx0XHRcdHMubWltZVR5cGUgPSB0eXBlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBTdGF0dXMtZGVwZW5kZW50IGNhbGxiYWNrc1xuXHRcdFx0XHRzdGF0dXNDb2RlOiBmdW5jdGlvbiggbWFwICkge1xuXHRcdFx0XHRcdHZhciBjb2RlO1xuXHRcdFx0XHRcdGlmICggbWFwICkge1xuXHRcdFx0XHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cblx0XHRcdFx0XHRcdFx0Ly8gRXhlY3V0ZSB0aGUgYXBwcm9wcmlhdGUgY2FsbGJhY2tzXG5cdFx0XHRcdFx0XHRcdGpxWEhSLmFsd2F5cyggbWFwWyBqcVhIUi5zdGF0dXMgXSApO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBMYXp5LWFkZCB0aGUgbmV3IGNhbGxiYWNrcyBpbiBhIHdheSB0aGF0IHByZXNlcnZlcyBvbGQgb25lc1xuXHRcdFx0XHRcdFx0XHRmb3IgKCBjb2RlIGluIG1hcCApIHtcblx0XHRcdFx0XHRcdFx0XHRzdGF0dXNDb2RlWyBjb2RlIF0gPSBbIHN0YXR1c0NvZGVbIGNvZGUgXSwgbWFwWyBjb2RlIF0gXTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBDYW5jZWwgdGhlIHJlcXVlc3Rcblx0XHRcdFx0YWJvcnQ6IGZ1bmN0aW9uKCBzdGF0dXNUZXh0ICkge1xuXHRcdFx0XHRcdHZhciBmaW5hbFRleHQgPSBzdGF0dXNUZXh0IHx8IHN0ckFib3J0O1xuXHRcdFx0XHRcdGlmICggdHJhbnNwb3J0ICkge1xuXHRcdFx0XHRcdFx0dHJhbnNwb3J0LmFib3J0KCBmaW5hbFRleHQgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZG9uZSggMCwgZmluYWxUZXh0ICk7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHQvLyBBdHRhY2ggZGVmZXJyZWRzXG5cdFx0ZGVmZXJyZWQucHJvbWlzZSgganFYSFIgKTtcblxuXHRcdC8vIEFkZCBwcm90b2NvbCBpZiBub3QgcHJvdmlkZWQgKHByZWZpbHRlcnMgbWlnaHQgZXhwZWN0IGl0KVxuXHRcdC8vIEhhbmRsZSBmYWxzeSB1cmwgaW4gdGhlIHNldHRpbmdzIG9iamVjdCAoIzEwMDkzOiBjb25zaXN0ZW5jeSB3aXRoIG9sZCBzaWduYXR1cmUpXG5cdFx0Ly8gV2UgYWxzbyB1c2UgdGhlIHVybCBwYXJhbWV0ZXIgaWYgYXZhaWxhYmxlXG5cdFx0cy51cmwgPSAoICggdXJsIHx8IHMudXJsIHx8IGxvY2F0aW9uLmhyZWYgKSArIFwiXCIgKVxuXHRcdFx0LnJlcGxhY2UoIHJwcm90b2NvbCwgbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKTtcblxuXHRcdC8vIEFsaWFzIG1ldGhvZCBvcHRpb24gdG8gdHlwZSBhcyBwZXIgdGlja2V0ICMxMjAwNFxuXHRcdHMudHlwZSA9IG9wdGlvbnMubWV0aG9kIHx8IG9wdGlvbnMudHlwZSB8fCBzLm1ldGhvZCB8fCBzLnR5cGU7XG5cblx0XHQvLyBFeHRyYWN0IGRhdGFUeXBlcyBsaXN0XG5cdFx0cy5kYXRhVHlwZXMgPSAoIHMuZGF0YVR5cGUgfHwgXCIqXCIgKS50b0xvd2VyQ2FzZSgpLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgWyBcIlwiIF07XG5cblx0XHQvLyBBIGNyb3NzLWRvbWFpbiByZXF1ZXN0IGlzIGluIG9yZGVyIHdoZW4gdGhlIG9yaWdpbiBkb2Vzbid0IG1hdGNoIHRoZSBjdXJyZW50IG9yaWdpbi5cblx0XHRpZiAoIHMuY3Jvc3NEb21haW4gPT0gbnVsbCApIHtcblx0XHRcdHVybEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiYVwiICk7XG5cblx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OCAtIDExLCBFZGdlIDEyIC0gMTVcblx0XHRcdC8vIElFIHRocm93cyBleGNlcHRpb24gb24gYWNjZXNzaW5nIHRoZSBocmVmIHByb3BlcnR5IGlmIHVybCBpcyBtYWxmb3JtZWQsXG5cdFx0XHQvLyBlLmcuIGh0dHA6Ly9leGFtcGxlLmNvbTo4MHgvXG5cdFx0XHR0cnkge1xuXHRcdFx0XHR1cmxBbmNob3IuaHJlZiA9IHMudXJsO1xuXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OCAtIDExIG9ubHlcblx0XHRcdFx0Ly8gQW5jaG9yJ3MgaG9zdCBwcm9wZXJ0eSBpc24ndCBjb3JyZWN0bHkgc2V0IHdoZW4gcy51cmwgaXMgcmVsYXRpdmVcblx0XHRcdFx0dXJsQW5jaG9yLmhyZWYgPSB1cmxBbmNob3IuaHJlZjtcblx0XHRcdFx0cy5jcm9zc0RvbWFpbiA9IG9yaWdpbkFuY2hvci5wcm90b2NvbCArIFwiLy9cIiArIG9yaWdpbkFuY2hvci5ob3N0ICE9PVxuXHRcdFx0XHRcdHVybEFuY2hvci5wcm90b2NvbCArIFwiLy9cIiArIHVybEFuY2hvci5ob3N0O1xuXHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0Ly8gSWYgdGhlcmUgaXMgYW4gZXJyb3IgcGFyc2luZyB0aGUgVVJMLCBhc3N1bWUgaXQgaXMgY3Jvc3NEb21haW4sXG5cdFx0XHRcdC8vIGl0IGNhbiBiZSByZWplY3RlZCBieSB0aGUgdHJhbnNwb3J0IGlmIGl0IGlzIGludmFsaWRcblx0XHRcdFx0cy5jcm9zc0RvbWFpbiA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ29udmVydCBkYXRhIGlmIG5vdCBhbHJlYWR5IGEgc3RyaW5nXG5cdFx0aWYgKCBzLmRhdGEgJiYgcy5wcm9jZXNzRGF0YSAmJiB0eXBlb2Ygcy5kYXRhICE9PSBcInN0cmluZ1wiICkge1xuXHRcdFx0cy5kYXRhID0galF1ZXJ5LnBhcmFtKCBzLmRhdGEsIHMudHJhZGl0aW9uYWwgKTtcblx0XHR9XG5cblx0XHQvLyBBcHBseSBwcmVmaWx0ZXJzXG5cdFx0aW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHByZWZpbHRlcnMsIHMsIG9wdGlvbnMsIGpxWEhSICk7XG5cblx0XHQvLyBJZiByZXF1ZXN0IHdhcyBhYm9ydGVkIGluc2lkZSBhIHByZWZpbHRlciwgc3RvcCB0aGVyZVxuXHRcdGlmICggY29tcGxldGVkICkge1xuXHRcdFx0cmV0dXJuIGpxWEhSO1xuXHRcdH1cblxuXHRcdC8vIFdlIGNhbiBmaXJlIGdsb2JhbCBldmVudHMgYXMgb2Ygbm93IGlmIGFza2VkIHRvXG5cdFx0Ly8gRG9uJ3QgZmlyZSBldmVudHMgaWYgalF1ZXJ5LmV2ZW50IGlzIHVuZGVmaW5lZCBpbiBhbiBBTUQtdXNhZ2Ugc2NlbmFyaW8gKCMxNTExOClcblx0XHRmaXJlR2xvYmFscyA9IGpRdWVyeS5ldmVudCAmJiBzLmdsb2JhbDtcblxuXHRcdC8vIFdhdGNoIGZvciBhIG5ldyBzZXQgb2YgcmVxdWVzdHNcblx0XHRpZiAoIGZpcmVHbG9iYWxzICYmIGpRdWVyeS5hY3RpdmUrKyA9PT0gMCApIHtcblx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBcImFqYXhTdGFydFwiICk7XG5cdFx0fVxuXG5cdFx0Ly8gVXBwZXJjYXNlIHRoZSB0eXBlXG5cdFx0cy50eXBlID0gcy50eXBlLnRvVXBwZXJDYXNlKCk7XG5cblx0XHQvLyBEZXRlcm1pbmUgaWYgcmVxdWVzdCBoYXMgY29udGVudFxuXHRcdHMuaGFzQ29udGVudCA9ICFybm9Db250ZW50LnRlc3QoIHMudHlwZSApO1xuXG5cdFx0Ly8gU2F2ZSB0aGUgVVJMIGluIGNhc2Ugd2UncmUgdG95aW5nIHdpdGggdGhlIElmLU1vZGlmaWVkLVNpbmNlXG5cdFx0Ly8gYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyIGxhdGVyIG9uXG5cdFx0Ly8gUmVtb3ZlIGhhc2ggdG8gc2ltcGxpZnkgdXJsIG1hbmlwdWxhdGlvblxuXHRcdGNhY2hlVVJMID0gcy51cmwucmVwbGFjZSggcmhhc2gsIFwiXCIgKTtcblxuXHRcdC8vIE1vcmUgb3B0aW9ucyBoYW5kbGluZyBmb3IgcmVxdWVzdHMgd2l0aCBubyBjb250ZW50XG5cdFx0aWYgKCAhcy5oYXNDb250ZW50ICkge1xuXG5cdFx0XHQvLyBSZW1lbWJlciB0aGUgaGFzaCBzbyB3ZSBjYW4gcHV0IGl0IGJhY2tcblx0XHRcdHVuY2FjaGVkID0gcy51cmwuc2xpY2UoIGNhY2hlVVJMLmxlbmd0aCApO1xuXG5cdFx0XHQvLyBJZiBkYXRhIGlzIGF2YWlsYWJsZSBhbmQgc2hvdWxkIGJlIHByb2Nlc3NlZCwgYXBwZW5kIGRhdGEgdG8gdXJsXG5cdFx0XHRpZiAoIHMuZGF0YSAmJiAoIHMucHJvY2Vzc0RhdGEgfHwgdHlwZW9mIHMuZGF0YSA9PT0gXCJzdHJpbmdcIiApICkge1xuXHRcdFx0XHRjYWNoZVVSTCArPSAoIHJxdWVyeS50ZXN0KCBjYWNoZVVSTCApID8gXCImXCIgOiBcIj9cIiApICsgcy5kYXRhO1xuXG5cdFx0XHRcdC8vICM5NjgyOiByZW1vdmUgZGF0YSBzbyB0aGF0IGl0J3Mgbm90IHVzZWQgaW4gYW4gZXZlbnR1YWwgcmV0cnlcblx0XHRcdFx0ZGVsZXRlIHMuZGF0YTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWRkIG9yIHVwZGF0ZSBhbnRpLWNhY2hlIHBhcmFtIGlmIG5lZWRlZFxuXHRcdFx0aWYgKCBzLmNhY2hlID09PSBmYWxzZSApIHtcblx0XHRcdFx0Y2FjaGVVUkwgPSBjYWNoZVVSTC5yZXBsYWNlKCByYW50aUNhY2hlLCBcIiQxXCIgKTtcblx0XHRcdFx0dW5jYWNoZWQgPSAoIHJxdWVyeS50ZXN0KCBjYWNoZVVSTCApID8gXCImXCIgOiBcIj9cIiApICsgXCJfPVwiICsgKCBub25jZSsrICkgKyB1bmNhY2hlZDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUHV0IGhhc2ggYW5kIGFudGktY2FjaGUgb24gdGhlIFVSTCB0aGF0IHdpbGwgYmUgcmVxdWVzdGVkIChnaC0xNzMyKVxuXHRcdFx0cy51cmwgPSBjYWNoZVVSTCArIHVuY2FjaGVkO1xuXG5cdFx0Ly8gQ2hhbmdlICclMjAnIHRvICcrJyBpZiB0aGlzIGlzIGVuY29kZWQgZm9ybSBib2R5IGNvbnRlbnQgKGdoLTI2NTgpXG5cdFx0fSBlbHNlIGlmICggcy5kYXRhICYmIHMucHJvY2Vzc0RhdGEgJiZcblx0XHRcdCggcy5jb250ZW50VHlwZSB8fCBcIlwiICkuaW5kZXhPZiggXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiApID09PSAwICkge1xuXHRcdFx0cy5kYXRhID0gcy5kYXRhLnJlcGxhY2UoIHIyMCwgXCIrXCIgKTtcblx0XHR9XG5cblx0XHQvLyBTZXQgdGhlIElmLU1vZGlmaWVkLVNpbmNlIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciwgaWYgaW4gaWZNb2RpZmllZCBtb2RlLlxuXHRcdGlmICggcy5pZk1vZGlmaWVkICkge1xuXHRcdFx0aWYgKCBqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdICkge1xuXHRcdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIklmLU1vZGlmaWVkLVNpbmNlXCIsIGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gKTtcblx0XHRcdH1cblx0XHRcdGlmICggalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gKSB7XG5cdFx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiSWYtTm9uZS1NYXRjaFwiLCBqUXVlcnkuZXRhZ1sgY2FjaGVVUkwgXSApO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFNldCB0aGUgY29ycmVjdCBoZWFkZXIsIGlmIGRhdGEgaXMgYmVpbmcgc2VudFxuXHRcdGlmICggcy5kYXRhICYmIHMuaGFzQ29udGVudCAmJiBzLmNvbnRlbnRUeXBlICE9PSBmYWxzZSB8fCBvcHRpb25zLmNvbnRlbnRUeXBlICkge1xuXHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJDb250ZW50LVR5cGVcIiwgcy5jb250ZW50VHlwZSApO1xuXHRcdH1cblxuXHRcdC8vIFNldCB0aGUgQWNjZXB0cyBoZWFkZXIgZm9yIHRoZSBzZXJ2ZXIsIGRlcGVuZGluZyBvbiB0aGUgZGF0YVR5cGVcblx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKFxuXHRcdFx0XCJBY2NlcHRcIixcblx0XHRcdHMuZGF0YVR5cGVzWyAwIF0gJiYgcy5hY2NlcHRzWyBzLmRhdGFUeXBlc1sgMCBdIF0gP1xuXHRcdFx0XHRzLmFjY2VwdHNbIHMuZGF0YVR5cGVzWyAwIF0gXSArXG5cdFx0XHRcdFx0KCBzLmRhdGFUeXBlc1sgMCBdICE9PSBcIipcIiA/IFwiLCBcIiArIGFsbFR5cGVzICsgXCI7IHE9MC4wMVwiIDogXCJcIiApIDpcblx0XHRcdFx0cy5hY2NlcHRzWyBcIipcIiBdXG5cdFx0KTtcblxuXHRcdC8vIENoZWNrIGZvciBoZWFkZXJzIG9wdGlvblxuXHRcdGZvciAoIGkgaW4gcy5oZWFkZXJzICkge1xuXHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggaSwgcy5oZWFkZXJzWyBpIF0gKTtcblx0XHR9XG5cblx0XHQvLyBBbGxvdyBjdXN0b20gaGVhZGVycy9taW1ldHlwZXMgYW5kIGVhcmx5IGFib3J0XG5cdFx0aWYgKCBzLmJlZm9yZVNlbmQgJiZcblx0XHRcdCggcy5iZWZvcmVTZW5kLmNhbGwoIGNhbGxiYWNrQ29udGV4dCwganFYSFIsIHMgKSA9PT0gZmFsc2UgfHwgY29tcGxldGVkICkgKSB7XG5cblx0XHRcdC8vIEFib3J0IGlmIG5vdCBkb25lIGFscmVhZHkgYW5kIHJldHVyblxuXHRcdFx0cmV0dXJuIGpxWEhSLmFib3J0KCk7XG5cdFx0fVxuXG5cdFx0Ly8gQWJvcnRpbmcgaXMgbm8gbG9uZ2VyIGEgY2FuY2VsbGF0aW9uXG5cdFx0c3RyQWJvcnQgPSBcImFib3J0XCI7XG5cblx0XHQvLyBJbnN0YWxsIGNhbGxiYWNrcyBvbiBkZWZlcnJlZHNcblx0XHRjb21wbGV0ZURlZmVycmVkLmFkZCggcy5jb21wbGV0ZSApO1xuXHRcdGpxWEhSLmRvbmUoIHMuc3VjY2VzcyApO1xuXHRcdGpxWEhSLmZhaWwoIHMuZXJyb3IgKTtcblxuXHRcdC8vIEdldCB0cmFuc3BvcnRcblx0XHR0cmFuc3BvcnQgPSBpbnNwZWN0UHJlZmlsdGVyc09yVHJhbnNwb3J0cyggdHJhbnNwb3J0cywgcywgb3B0aW9ucywganFYSFIgKTtcblxuXHRcdC8vIElmIG5vIHRyYW5zcG9ydCwgd2UgYXV0by1hYm9ydFxuXHRcdGlmICggIXRyYW5zcG9ydCApIHtcblx0XHRcdGRvbmUoIC0xLCBcIk5vIFRyYW5zcG9ydFwiICk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGpxWEhSLnJlYWR5U3RhdGUgPSAxO1xuXG5cdFx0XHQvLyBTZW5kIGdsb2JhbCBldmVudFxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIFwiYWpheFNlbmRcIiwgWyBqcVhIUiwgcyBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIHJlcXVlc3Qgd2FzIGFib3J0ZWQgaW5zaWRlIGFqYXhTZW5kLCBzdG9wIHRoZXJlXG5cdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdFx0cmV0dXJuIGpxWEhSO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUaW1lb3V0XG5cdFx0XHRpZiAoIHMuYXN5bmMgJiYgcy50aW1lb3V0ID4gMCApIHtcblx0XHRcdFx0dGltZW91dFRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGpxWEhSLmFib3J0KCBcInRpbWVvdXRcIiApO1xuXHRcdFx0XHR9LCBzLnRpbWVvdXQgKTtcblx0XHRcdH1cblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29tcGxldGVkID0gZmFsc2U7XG5cdFx0XHRcdHRyYW5zcG9ydC5zZW5kKCByZXF1ZXN0SGVhZGVycywgZG9uZSApO1xuXHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0Ly8gUmV0aHJvdyBwb3N0LWNvbXBsZXRpb24gZXhjZXB0aW9uc1xuXHRcdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcblx0XHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gUHJvcGFnYXRlIG90aGVycyBhcyByZXN1bHRzXG5cdFx0XHRcdGRvbmUoIC0xLCBlICk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsbGJhY2sgZm9yIHdoZW4gZXZlcnl0aGluZyBpcyBkb25lXG5cdFx0ZnVuY3Rpb24gZG9uZSggc3RhdHVzLCBuYXRpdmVTdGF0dXNUZXh0LCByZXNwb25zZXMsIGhlYWRlcnMgKSB7XG5cdFx0XHR2YXIgaXNTdWNjZXNzLCBzdWNjZXNzLCBlcnJvciwgcmVzcG9uc2UsIG1vZGlmaWVkLFxuXHRcdFx0XHRzdGF0dXNUZXh0ID0gbmF0aXZlU3RhdHVzVGV4dDtcblxuXHRcdFx0Ly8gSWdub3JlIHJlcGVhdCBpbnZvY2F0aW9uc1xuXHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Y29tcGxldGVkID0gdHJ1ZTtcblxuXHRcdFx0Ly8gQ2xlYXIgdGltZW91dCBpZiBpdCBleGlzdHNcblx0XHRcdGlmICggdGltZW91dFRpbWVyICkge1xuXHRcdFx0XHR3aW5kb3cuY2xlYXJUaW1lb3V0KCB0aW1lb3V0VGltZXIgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRGVyZWZlcmVuY2UgdHJhbnNwb3J0IGZvciBlYXJseSBnYXJiYWdlIGNvbGxlY3Rpb25cblx0XHRcdC8vIChubyBtYXR0ZXIgaG93IGxvbmcgdGhlIGpxWEhSIG9iamVjdCB3aWxsIGJlIHVzZWQpXG5cdFx0XHR0cmFuc3BvcnQgPSB1bmRlZmluZWQ7XG5cblx0XHRcdC8vIENhY2hlIHJlc3BvbnNlIGhlYWRlcnNcblx0XHRcdHJlc3BvbnNlSGVhZGVyc1N0cmluZyA9IGhlYWRlcnMgfHwgXCJcIjtcblxuXHRcdFx0Ly8gU2V0IHJlYWR5U3RhdGVcblx0XHRcdGpxWEhSLnJlYWR5U3RhdGUgPSBzdGF0dXMgPiAwID8gNCA6IDA7XG5cblx0XHRcdC8vIERldGVybWluZSBpZiBzdWNjZXNzZnVsXG5cdFx0XHRpc1N1Y2Nlc3MgPSBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMCB8fCBzdGF0dXMgPT09IDMwNDtcblxuXHRcdFx0Ly8gR2V0IHJlc3BvbnNlIGRhdGFcblx0XHRcdGlmICggcmVzcG9uc2VzICkge1xuXHRcdFx0XHRyZXNwb25zZSA9IGFqYXhIYW5kbGVSZXNwb25zZXMoIHMsIGpxWEhSLCByZXNwb25zZXMgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQ29udmVydCBubyBtYXR0ZXIgd2hhdCAodGhhdCB3YXkgcmVzcG9uc2VYWFggZmllbGRzIGFyZSBhbHdheXMgc2V0KVxuXHRcdFx0cmVzcG9uc2UgPSBhamF4Q29udmVydCggcywgcmVzcG9uc2UsIGpxWEhSLCBpc1N1Y2Nlc3MgKTtcblxuXHRcdFx0Ly8gSWYgc3VjY2Vzc2Z1bCwgaGFuZGxlIHR5cGUgY2hhaW5pbmdcblx0XHRcdGlmICggaXNTdWNjZXNzICkge1xuXG5cdFx0XHRcdC8vIFNldCB0aGUgSWYtTW9kaWZpZWQtU2luY2UgYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyLCBpZiBpbiBpZk1vZGlmaWVkIG1vZGUuXG5cdFx0XHRcdGlmICggcy5pZk1vZGlmaWVkICkge1xuXHRcdFx0XHRcdG1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoIFwiTGFzdC1Nb2RpZmllZFwiICk7XG5cdFx0XHRcdFx0aWYgKCBtb2RpZmllZCApIHtcblx0XHRcdFx0XHRcdGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bW9kaWZpZWQgPSBqcVhIUi5nZXRSZXNwb25zZUhlYWRlciggXCJldGFnXCIgKTtcblx0XHRcdFx0XHRpZiAoIG1vZGlmaWVkICkge1xuXHRcdFx0XHRcdFx0alF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBpZiBubyBjb250ZW50XG5cdFx0XHRcdGlmICggc3RhdHVzID09PSAyMDQgfHwgcy50eXBlID09PSBcIkhFQURcIiApIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gXCJub2NvbnRlbnRcIjtcblxuXHRcdFx0XHQvLyBpZiBub3QgbW9kaWZpZWRcblx0XHRcdFx0fSBlbHNlIGlmICggc3RhdHVzID09PSAzMDQgKSB7XG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IFwibm90bW9kaWZpZWRcIjtcblxuXHRcdFx0XHQvLyBJZiB3ZSBoYXZlIGRhdGEsIGxldCdzIGNvbnZlcnQgaXRcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gcmVzcG9uc2Uuc3RhdGU7XG5cdFx0XHRcdFx0c3VjY2VzcyA9IHJlc3BvbnNlLmRhdGE7XG5cdFx0XHRcdFx0ZXJyb3IgPSByZXNwb25zZS5lcnJvcjtcblx0XHRcdFx0XHRpc1N1Y2Nlc3MgPSAhZXJyb3I7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gRXh0cmFjdCBlcnJvciBmcm9tIHN0YXR1c1RleHQgYW5kIG5vcm1hbGl6ZSBmb3Igbm9uLWFib3J0c1xuXHRcdFx0XHRlcnJvciA9IHN0YXR1c1RleHQ7XG5cdFx0XHRcdGlmICggc3RhdHVzIHx8ICFzdGF0dXNUZXh0ICkge1xuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSBcImVycm9yXCI7XG5cdFx0XHRcdFx0aWYgKCBzdGF0dXMgPCAwICkge1xuXHRcdFx0XHRcdFx0c3RhdHVzID0gMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gU2V0IGRhdGEgZm9yIHRoZSBmYWtlIHhociBvYmplY3Rcblx0XHRcdGpxWEhSLnN0YXR1cyA9IHN0YXR1cztcblx0XHRcdGpxWEhSLnN0YXR1c1RleHQgPSAoIG5hdGl2ZVN0YXR1c1RleHQgfHwgc3RhdHVzVGV4dCApICsgXCJcIjtcblxuXHRcdFx0Ly8gU3VjY2Vzcy9FcnJvclxuXHRcdFx0aWYgKCBpc1N1Y2Nlc3MgKSB7XG5cdFx0XHRcdGRlZmVycmVkLnJlc29sdmVXaXRoKCBjYWxsYmFja0NvbnRleHQsIFsgc3VjY2Vzcywgc3RhdHVzVGV4dCwganFYSFIgXSApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0LCBlcnJvciBdICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXG5cdFx0XHRqcVhIUi5zdGF0dXNDb2RlKCBzdGF0dXNDb2RlICk7XG5cdFx0XHRzdGF0dXNDb2RlID0gdW5kZWZpbmVkO1xuXG5cdFx0XHRpZiAoIGZpcmVHbG9iYWxzICkge1xuXHRcdFx0XHRnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggaXNTdWNjZXNzID8gXCJhamF4U3VjY2Vzc1wiIDogXCJhamF4RXJyb3JcIixcblx0XHRcdFx0XHRbIGpxWEhSLCBzLCBpc1N1Y2Nlc3MgPyBzdWNjZXNzIDogZXJyb3IgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBDb21wbGV0ZVxuXHRcdFx0Y29tcGxldGVEZWZlcnJlZC5maXJlV2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIGpxWEhSLCBzdGF0dXNUZXh0IF0gKTtcblxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIFwiYWpheENvbXBsZXRlXCIsIFsganFYSFIsIHMgXSApO1xuXG5cdFx0XHRcdC8vIEhhbmRsZSB0aGUgZ2xvYmFsIEFKQVggY291bnRlclxuXHRcdFx0XHRpZiAoICEoIC0talF1ZXJ5LmFjdGl2ZSApICkge1xuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBcImFqYXhTdG9wXCIgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBqcVhIUjtcblx0fSxcblxuXHRnZXRKU09OOiBmdW5jdGlvbiggdXJsLCBkYXRhLCBjYWxsYmFjayApIHtcblx0XHRyZXR1cm4galF1ZXJ5LmdldCggdXJsLCBkYXRhLCBjYWxsYmFjaywgXCJqc29uXCIgKTtcblx0fSxcblxuXHRnZXRTY3JpcHQ6IGZ1bmN0aW9uKCB1cmwsIGNhbGxiYWNrICkge1xuXHRcdHJldHVybiBqUXVlcnkuZ2V0KCB1cmwsIHVuZGVmaW5lZCwgY2FsbGJhY2ssIFwic2NyaXB0XCIgKTtcblx0fVxufSApO1xuXG5qUXVlcnkuZWFjaCggWyBcImdldFwiLCBcInBvc3RcIiBdLCBmdW5jdGlvbiggaSwgbWV0aG9kICkge1xuXHRqUXVlcnlbIG1ldGhvZCBdID0gZnVuY3Rpb24oIHVybCwgZGF0YSwgY2FsbGJhY2ssIHR5cGUgKSB7XG5cblx0XHQvLyBTaGlmdCBhcmd1bWVudHMgaWYgZGF0YSBhcmd1bWVudCB3YXMgb21pdHRlZFxuXHRcdGlmICggaXNGdW5jdGlvbiggZGF0YSApICkge1xuXHRcdFx0dHlwZSA9IHR5cGUgfHwgY2FsbGJhY2s7XG5cdFx0XHRjYWxsYmFjayA9IGRhdGE7XG5cdFx0XHRkYXRhID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdC8vIFRoZSB1cmwgY2FuIGJlIGFuIG9wdGlvbnMgb2JqZWN0ICh3aGljaCB0aGVuIG11c3QgaGF2ZSAudXJsKVxuXHRcdHJldHVybiBqUXVlcnkuYWpheCggalF1ZXJ5LmV4dGVuZCgge1xuXHRcdFx0dXJsOiB1cmwsXG5cdFx0XHR0eXBlOiBtZXRob2QsXG5cdFx0XHRkYXRhVHlwZTogdHlwZSxcblx0XHRcdGRhdGE6IGRhdGEsXG5cdFx0XHRzdWNjZXNzOiBjYWxsYmFja1xuXHRcdH0sIGpRdWVyeS5pc1BsYWluT2JqZWN0KCB1cmwgKSAmJiB1cmwgKSApO1xuXHR9O1xufSApO1xuXG5cbmpRdWVyeS5fZXZhbFVybCA9IGZ1bmN0aW9uKCB1cmwgKSB7XG5cdHJldHVybiBqUXVlcnkuYWpheCgge1xuXHRcdHVybDogdXJsLFxuXG5cdFx0Ly8gTWFrZSB0aGlzIGV4cGxpY2l0LCBzaW5jZSB1c2VyIGNhbiBvdmVycmlkZSB0aGlzIHRocm91Z2ggYWpheFNldHVwICgjMTEyNjQpXG5cdFx0dHlwZTogXCJHRVRcIixcblx0XHRkYXRhVHlwZTogXCJzY3JpcHRcIixcblx0XHRjYWNoZTogdHJ1ZSxcblx0XHRhc3luYzogZmFsc2UsXG5cdFx0Z2xvYmFsOiBmYWxzZSxcblx0XHRcInRocm93c1wiOiB0cnVlXG5cdH0gKTtcbn07XG5cblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHR3cmFwQWxsOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHR2YXIgd3JhcDtcblxuXHRcdGlmICggdGhpc1sgMCBdICkge1xuXHRcdFx0aWYgKCBpc0Z1bmN0aW9uKCBodG1sICkgKSB7XG5cdFx0XHRcdGh0bWwgPSBodG1sLmNhbGwoIHRoaXNbIDAgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBUaGUgZWxlbWVudHMgdG8gd3JhcCB0aGUgdGFyZ2V0IGFyb3VuZFxuXHRcdFx0d3JhcCA9IGpRdWVyeSggaHRtbCwgdGhpc1sgMCBdLm93bmVyRG9jdW1lbnQgKS5lcSggMCApLmNsb25lKCB0cnVlICk7XG5cblx0XHRcdGlmICggdGhpc1sgMCBdLnBhcmVudE5vZGUgKSB7XG5cdFx0XHRcdHdyYXAuaW5zZXJ0QmVmb3JlKCB0aGlzWyAwIF0gKTtcblx0XHRcdH1cblxuXHRcdFx0d3JhcC5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZWxlbSA9IHRoaXM7XG5cblx0XHRcdFx0d2hpbGUgKCBlbGVtLmZpcnN0RWxlbWVudENoaWxkICkge1xuXHRcdFx0XHRcdGVsZW0gPSBlbGVtLmZpcnN0RWxlbWVudENoaWxkO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGVsZW07XG5cdFx0XHR9ICkuYXBwZW5kKCB0aGlzICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH0sXG5cblx0d3JhcElubmVyOiBmdW5jdGlvbiggaHRtbCApIHtcblx0XHRpZiAoIGlzRnVuY3Rpb24oIGh0bWwgKSApIHtcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS53cmFwSW5uZXIoIGh0bWwuY2FsbCggdGhpcywgaSApICk7XG5cdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IGpRdWVyeSggdGhpcyApLFxuXHRcdFx0XHRjb250ZW50cyA9IHNlbGYuY29udGVudHMoKTtcblxuXHRcdFx0aWYgKCBjb250ZW50cy5sZW5ndGggKSB7XG5cdFx0XHRcdGNvbnRlbnRzLndyYXBBbGwoIGh0bWwgKTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2VsZi5hcHBlbmQoIGh0bWwgKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdH0sXG5cblx0d3JhcDogZnVuY3Rpb24oIGh0bWwgKSB7XG5cdFx0dmFyIGh0bWxJc0Z1bmN0aW9uID0gaXNGdW5jdGlvbiggaHRtbCApO1xuXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XG5cdFx0XHRqUXVlcnkoIHRoaXMgKS53cmFwQWxsKCBodG1sSXNGdW5jdGlvbiA/IGh0bWwuY2FsbCggdGhpcywgaSApIDogaHRtbCApO1xuXHRcdH0gKTtcblx0fSxcblxuXHR1bndyYXA6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcblx0XHR0aGlzLnBhcmVudCggc2VsZWN0b3IgKS5ub3QoIFwiYm9keVwiICkuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRqUXVlcnkoIHRoaXMgKS5yZXBsYWNlV2l0aCggdGhpcy5jaGlsZE5vZGVzICk7XG5cdFx0fSApO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG59ICk7XG5cblxualF1ZXJ5LmV4cHIucHNldWRvcy5oaWRkZW4gPSBmdW5jdGlvbiggZWxlbSApIHtcblx0cmV0dXJuICFqUXVlcnkuZXhwci5wc2V1ZG9zLnZpc2libGUoIGVsZW0gKTtcbn07XG5qUXVlcnkuZXhwci5wc2V1ZG9zLnZpc2libGUgPSBmdW5jdGlvbiggZWxlbSApIHtcblx0cmV0dXJuICEhKCBlbGVtLm9mZnNldFdpZHRoIHx8IGVsZW0ub2Zmc2V0SGVpZ2h0IHx8IGVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKTtcbn07XG5cblxuXG5cbmpRdWVyeS5hamF4U2V0dGluZ3MueGhyID0gZnVuY3Rpb24oKSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QoKTtcblx0fSBjYXRjaCAoIGUgKSB7fVxufTtcblxudmFyIHhoclN1Y2Nlc3NTdGF0dXMgPSB7XG5cblx0XHQvLyBGaWxlIHByb3RvY29sIGFsd2F5cyB5aWVsZHMgc3RhdHVzIGNvZGUgMCwgYXNzdW1lIDIwMFxuXHRcdDA6IDIwMCxcblxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdFx0Ly8gIzE0NTA6IHNvbWV0aW1lcyBJRSByZXR1cm5zIDEyMjMgd2hlbiBpdCBzaG91bGQgYmUgMjA0XG5cdFx0MTIyMzogMjA0XG5cdH0sXG5cdHhoclN1cHBvcnRlZCA9IGpRdWVyeS5hamF4U2V0dGluZ3MueGhyKCk7XG5cbnN1cHBvcnQuY29ycyA9ICEheGhyU3VwcG9ydGVkICYmICggXCJ3aXRoQ3JlZGVudGlhbHNcIiBpbiB4aHJTdXBwb3J0ZWQgKTtcbnN1cHBvcnQuYWpheCA9IHhoclN1cHBvcnRlZCA9ICEheGhyU3VwcG9ydGVkO1xuXG5qUXVlcnkuYWpheFRyYW5zcG9ydCggZnVuY3Rpb24oIG9wdGlvbnMgKSB7XG5cdHZhciBjYWxsYmFjaywgZXJyb3JDYWxsYmFjaztcblxuXHQvLyBDcm9zcyBkb21haW4gb25seSBhbGxvd2VkIGlmIHN1cHBvcnRlZCB0aHJvdWdoIFhNTEh0dHBSZXF1ZXN0XG5cdGlmICggc3VwcG9ydC5jb3JzIHx8IHhoclN1cHBvcnRlZCAmJiAhb3B0aW9ucy5jcm9zc0RvbWFpbiApIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c2VuZDogZnVuY3Rpb24oIGhlYWRlcnMsIGNvbXBsZXRlICkge1xuXHRcdFx0XHR2YXIgaSxcblx0XHRcdFx0XHR4aHIgPSBvcHRpb25zLnhocigpO1xuXG5cdFx0XHRcdHhoci5vcGVuKFxuXHRcdFx0XHRcdG9wdGlvbnMudHlwZSxcblx0XHRcdFx0XHRvcHRpb25zLnVybCxcblx0XHRcdFx0XHRvcHRpb25zLmFzeW5jLFxuXHRcdFx0XHRcdG9wdGlvbnMudXNlcm5hbWUsXG5cdFx0XHRcdFx0b3B0aW9ucy5wYXNzd29yZFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdC8vIEFwcGx5IGN1c3RvbSBmaWVsZHMgaWYgcHJvdmlkZWRcblx0XHRcdFx0aWYgKCBvcHRpb25zLnhockZpZWxkcyApIHtcblx0XHRcdFx0XHRmb3IgKCBpIGluIG9wdGlvbnMueGhyRmllbGRzICkge1xuXHRcdFx0XHRcdFx0eGhyWyBpIF0gPSBvcHRpb25zLnhockZpZWxkc1sgaSBdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIE92ZXJyaWRlIG1pbWUgdHlwZSBpZiBuZWVkZWRcblx0XHRcdFx0aWYgKCBvcHRpb25zLm1pbWVUeXBlICYmIHhoci5vdmVycmlkZU1pbWVUeXBlICkge1xuXHRcdFx0XHRcdHhoci5vdmVycmlkZU1pbWVUeXBlKCBvcHRpb25zLm1pbWVUeXBlICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBYLVJlcXVlc3RlZC1XaXRoIGhlYWRlclxuXHRcdFx0XHQvLyBGb3IgY3Jvc3MtZG9tYWluIHJlcXVlc3RzLCBzZWVpbmcgYXMgY29uZGl0aW9ucyBmb3IgYSBwcmVmbGlnaHQgYXJlXG5cdFx0XHRcdC8vIGFraW4gdG8gYSBqaWdzYXcgcHV6emxlLCB3ZSBzaW1wbHkgbmV2ZXIgc2V0IGl0IHRvIGJlIHN1cmUuXG5cdFx0XHRcdC8vIChpdCBjYW4gYWx3YXlzIGJlIHNldCBvbiBhIHBlci1yZXF1ZXN0IGJhc2lzIG9yIGV2ZW4gdXNpbmcgYWpheFNldHVwKVxuXHRcdFx0XHQvLyBGb3Igc2FtZS1kb21haW4gcmVxdWVzdHMsIHdvbid0IGNoYW5nZSBoZWFkZXIgaWYgYWxyZWFkeSBwcm92aWRlZC5cblx0XHRcdFx0aWYgKCAhb3B0aW9ucy5jcm9zc0RvbWFpbiAmJiAhaGVhZGVyc1sgXCJYLVJlcXVlc3RlZC1XaXRoXCIgXSApIHtcblx0XHRcdFx0XHRoZWFkZXJzWyBcIlgtUmVxdWVzdGVkLVdpdGhcIiBdID0gXCJYTUxIdHRwUmVxdWVzdFwiO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gU2V0IGhlYWRlcnNcblx0XHRcdFx0Zm9yICggaSBpbiBoZWFkZXJzICkge1xuXHRcdFx0XHRcdHhoci5zZXRSZXF1ZXN0SGVhZGVyKCBpLCBoZWFkZXJzWyBpIF0gKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIENhbGxiYWNrXG5cdFx0XHRcdGNhbGxiYWNrID0gZnVuY3Rpb24oIHR5cGUgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdFx0Y2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrID0geGhyLm9ubG9hZCA9XG5cdFx0XHRcdFx0XHRcdFx0eGhyLm9uZXJyb3IgPSB4aHIub25hYm9ydCA9IHhoci5vbnRpbWVvdXQgPVxuXHRcdFx0XHRcdFx0XHRcdFx0eGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG5cblx0XHRcdFx0XHRcdFx0aWYgKCB0eXBlID09PSBcImFib3J0XCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0eGhyLmFib3J0KCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIHR5cGUgPT09IFwiZXJyb3JcIiApIHtcblxuXHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdFx0XHRcdFx0XHRcdFx0Ly8gT24gYSBtYW51YWwgbmF0aXZlIGFib3J0LCBJRTkgdGhyb3dzXG5cdFx0XHRcdFx0XHRcdFx0Ly8gZXJyb3JzIG9uIGFueSBwcm9wZXJ0eSBhY2Nlc3MgdGhhdCBpcyBub3QgcmVhZHlTdGF0ZVxuXHRcdFx0XHRcdFx0XHRcdGlmICggdHlwZW9mIHhoci5zdGF0dXMgIT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb21wbGV0ZSggMCwgXCJlcnJvclwiICk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbXBsZXRlKFxuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIEZpbGU6IHByb3RvY29sIGFsd2F5cyB5aWVsZHMgc3RhdHVzIDA7IHNlZSAjODYwNSwgIzE0MjA3XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHhoci5zdGF0dXMsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHhoci5zdGF0dXNUZXh0XG5cdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRjb21wbGV0ZShcblx0XHRcdFx0XHRcdFx0XHRcdHhoclN1Y2Nlc3NTdGF0dXNbIHhoci5zdGF0dXMgXSB8fCB4aHIuc3RhdHVzLFxuXHRcdFx0XHRcdFx0XHRcdFx0eGhyLnN0YXR1c1RleHQsXG5cblx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBJRTkgaGFzIG5vIFhIUjIgYnV0IHRocm93cyBvbiBiaW5hcnkgKHRyYWMtMTE0MjYpXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBGb3IgWEhSMiBub24tdGV4dCwgbGV0IHRoZSBjYWxsZXIgaGFuZGxlIGl0IChnaC0yNDk4KVxuXHRcdFx0XHRcdFx0XHRcdFx0KCB4aHIucmVzcG9uc2VUeXBlIHx8IFwidGV4dFwiICkgIT09IFwidGV4dFwiICB8fFxuXHRcdFx0XHRcdFx0XHRcdFx0dHlwZW9mIHhoci5yZXNwb25zZVRleHQgIT09IFwic3RyaW5nXCIgP1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR7IGJpbmFyeTogeGhyLnJlc3BvbnNlIH0gOlxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7IHRleHQ6IHhoci5yZXNwb25zZVRleHQgfSxcblx0XHRcdFx0XHRcdFx0XHRcdHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuXHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdC8vIExpc3RlbiB0byBldmVudHNcblx0XHRcdFx0eGhyLm9ubG9hZCA9IGNhbGxiYWNrKCk7XG5cdFx0XHRcdGVycm9yQ2FsbGJhY2sgPSB4aHIub25lcnJvciA9IHhoci5vbnRpbWVvdXQgPSBjYWxsYmFjayggXCJlcnJvclwiICk7XG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgOSBvbmx5XG5cdFx0XHRcdC8vIFVzZSBvbnJlYWR5c3RhdGVjaGFuZ2UgdG8gcmVwbGFjZSBvbmFib3J0XG5cdFx0XHRcdC8vIHRvIGhhbmRsZSB1bmNhdWdodCBhYm9ydHNcblx0XHRcdFx0aWYgKCB4aHIub25hYm9ydCAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHhoci5vbmFib3J0ID0gZXJyb3JDYWxsYmFjaztcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG5cblx0XHRcdFx0XHRcdC8vIENoZWNrIHJlYWR5U3RhdGUgYmVmb3JlIHRpbWVvdXQgYXMgaXQgY2hhbmdlc1xuXHRcdFx0XHRcdFx0aWYgKCB4aHIucmVhZHlTdGF0ZSA9PT0gNCApIHtcblxuXHRcdFx0XHRcdFx0XHQvLyBBbGxvdyBvbmVycm9yIHRvIGJlIGNhbGxlZCBmaXJzdCxcblx0XHRcdFx0XHRcdFx0Ly8gYnV0IHRoYXQgd2lsbCBub3QgaGFuZGxlIGEgbmF0aXZlIGFib3J0XG5cdFx0XHRcdFx0XHRcdC8vIEFsc28sIHNhdmUgZXJyb3JDYWxsYmFjayB0byBhIHZhcmlhYmxlXG5cdFx0XHRcdFx0XHRcdC8vIGFzIHhoci5vbmVycm9yIGNhbm5vdCBiZSBhY2Nlc3NlZFxuXHRcdFx0XHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRcdFx0XHRcdGVycm9yQ2FsbGJhY2soKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQ3JlYXRlIHRoZSBhYm9ydCBjYWxsYmFja1xuXHRcdFx0XHRjYWxsYmFjayA9IGNhbGxiYWNrKCBcImFib3J0XCIgKTtcblxuXHRcdFx0XHR0cnkge1xuXG5cdFx0XHRcdFx0Ly8gRG8gc2VuZCB0aGUgcmVxdWVzdCAodGhpcyBtYXkgcmFpc2UgYW4gZXhjZXB0aW9uKVxuXHRcdFx0XHRcdHhoci5zZW5kKCBvcHRpb25zLmhhc0NvbnRlbnQgJiYgb3B0aW9ucy5kYXRhIHx8IG51bGwgKTtcblx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0XHQvLyAjMTQ2ODM6IE9ubHkgcmV0aHJvdyBpZiB0aGlzIGhhc24ndCBiZWVuIG5vdGlmaWVkIGFzIGFuIGVycm9yIHlldFxuXHRcdFx0XHRcdGlmICggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSxcblxuXHRcdFx0YWJvcnQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHR9XG59ICk7XG5cblxuXG5cbi8vIFByZXZlbnQgYXV0by1leGVjdXRpb24gb2Ygc2NyaXB0cyB3aGVuIG5vIGV4cGxpY2l0IGRhdGFUeXBlIHdhcyBwcm92aWRlZCAoU2VlIGdoLTI0MzIpXG5qUXVlcnkuYWpheFByZWZpbHRlciggZnVuY3Rpb24oIHMgKSB7XG5cdGlmICggcy5jcm9zc0RvbWFpbiApIHtcblx0XHRzLmNvbnRlbnRzLnNjcmlwdCA9IGZhbHNlO1xuXHR9XG59ICk7XG5cbi8vIEluc3RhbGwgc2NyaXB0IGRhdGFUeXBlXG5qUXVlcnkuYWpheFNldHVwKCB7XG5cdGFjY2VwdHM6IHtcblx0XHRzY3JpcHQ6IFwidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBcIiArXG5cdFx0XHRcImFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdFwiXG5cdH0sXG5cdGNvbnRlbnRzOiB7XG5cdFx0c2NyaXB0OiAvXFxiKD86amF2YXxlY21hKXNjcmlwdFxcYi9cblx0fSxcblx0Y29udmVydGVyczoge1xuXHRcdFwidGV4dCBzY3JpcHRcIjogZnVuY3Rpb24oIHRleHQgKSB7XG5cdFx0XHRqUXVlcnkuZ2xvYmFsRXZhbCggdGV4dCApO1xuXHRcdFx0cmV0dXJuIHRleHQ7XG5cdFx0fVxuXHR9XG59ICk7XG5cbi8vIEhhbmRsZSBjYWNoZSdzIHNwZWNpYWwgY2FzZSBhbmQgY3Jvc3NEb21haW5cbmpRdWVyeS5hamF4UHJlZmlsdGVyKCBcInNjcmlwdFwiLCBmdW5jdGlvbiggcyApIHtcblx0aWYgKCBzLmNhY2hlID09PSB1bmRlZmluZWQgKSB7XG5cdFx0cy5jYWNoZSA9IGZhbHNlO1xuXHR9XG5cdGlmICggcy5jcm9zc0RvbWFpbiApIHtcblx0XHRzLnR5cGUgPSBcIkdFVFwiO1xuXHR9XG59ICk7XG5cbi8vIEJpbmQgc2NyaXB0IHRhZyBoYWNrIHRyYW5zcG9ydFxualF1ZXJ5LmFqYXhUcmFuc3BvcnQoIFwic2NyaXB0XCIsIGZ1bmN0aW9uKCBzICkge1xuXG5cdC8vIFRoaXMgdHJhbnNwb3J0IG9ubHkgZGVhbHMgd2l0aCBjcm9zcyBkb21haW4gcmVxdWVzdHNcblx0aWYgKCBzLmNyb3NzRG9tYWluICkge1xuXHRcdHZhciBzY3JpcHQsIGNhbGxiYWNrO1xuXHRcdHJldHVybiB7XG5cdFx0XHRzZW5kOiBmdW5jdGlvbiggXywgY29tcGxldGUgKSB7XG5cdFx0XHRcdHNjcmlwdCA9IGpRdWVyeSggXCI8c2NyaXB0PlwiICkucHJvcCgge1xuXHRcdFx0XHRcdGNoYXJzZXQ6IHMuc2NyaXB0Q2hhcnNldCxcblx0XHRcdFx0XHRzcmM6IHMudXJsXG5cdFx0XHRcdH0gKS5vbihcblx0XHRcdFx0XHRcImxvYWQgZXJyb3JcIixcblx0XHRcdFx0XHRjYWxsYmFjayA9IGZ1bmN0aW9uKCBldnQgKSB7XG5cdFx0XHRcdFx0XHRzY3JpcHQucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRjYWxsYmFjayA9IG51bGw7XG5cdFx0XHRcdFx0XHRpZiAoIGV2dCApIHtcblx0XHRcdFx0XHRcdFx0Y29tcGxldGUoIGV2dC50eXBlID09PSBcImVycm9yXCIgPyA0MDQgOiAyMDAsIGV2dC50eXBlICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdC8vIFVzZSBuYXRpdmUgRE9NIG1hbmlwdWxhdGlvbiB0byBhdm9pZCBvdXIgZG9tTWFuaXAgQUpBWCB0cmlja2VyeVxuXHRcdFx0XHRkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKCBzY3JpcHRbIDAgXSApO1xuXHRcdFx0fSxcblx0XHRcdGFib3J0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxufSApO1xuXG5cblxuXG52YXIgb2xkQ2FsbGJhY2tzID0gW10sXG5cdHJqc29ucCA9IC8oPSlcXD8oPz0mfCQpfFxcP1xcPy87XG5cbi8vIERlZmF1bHQganNvbnAgc2V0dGluZ3NcbmpRdWVyeS5hamF4U2V0dXAoIHtcblx0anNvbnA6IFwiY2FsbGJhY2tcIixcblx0anNvbnBDYWxsYmFjazogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGNhbGxiYWNrID0gb2xkQ2FsbGJhY2tzLnBvcCgpIHx8ICggalF1ZXJ5LmV4cGFuZG8gKyBcIl9cIiArICggbm9uY2UrKyApICk7XG5cdFx0dGhpc1sgY2FsbGJhY2sgXSA9IHRydWU7XG5cdFx0cmV0dXJuIGNhbGxiYWNrO1xuXHR9XG59ICk7XG5cbi8vIERldGVjdCwgbm9ybWFsaXplIG9wdGlvbnMgYW5kIGluc3RhbGwgY2FsbGJhY2tzIGZvciBqc29ucCByZXF1ZXN0c1xualF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIFwianNvbiBqc29ucFwiLCBmdW5jdGlvbiggcywgb3JpZ2luYWxTZXR0aW5ncywganFYSFIgKSB7XG5cblx0dmFyIGNhbGxiYWNrTmFtZSwgb3ZlcndyaXR0ZW4sIHJlc3BvbnNlQ29udGFpbmVyLFxuXHRcdGpzb25Qcm9wID0gcy5qc29ucCAhPT0gZmFsc2UgJiYgKCByanNvbnAudGVzdCggcy51cmwgKSA/XG5cdFx0XHRcInVybFwiIDpcblx0XHRcdHR5cGVvZiBzLmRhdGEgPT09IFwic3RyaW5nXCIgJiZcblx0XHRcdFx0KCBzLmNvbnRlbnRUeXBlIHx8IFwiXCIgKVxuXHRcdFx0XHRcdC5pbmRleE9mKCBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiICkgPT09IDAgJiZcblx0XHRcdFx0cmpzb25wLnRlc3QoIHMuZGF0YSApICYmIFwiZGF0YVwiXG5cdFx0KTtcblxuXHQvLyBIYW5kbGUgaWZmIHRoZSBleHBlY3RlZCBkYXRhIHR5cGUgaXMgXCJqc29ucFwiIG9yIHdlIGhhdmUgYSBwYXJhbWV0ZXIgdG8gc2V0XG5cdGlmICgganNvblByb3AgfHwgcy5kYXRhVHlwZXNbIDAgXSA9PT0gXCJqc29ucFwiICkge1xuXG5cdFx0Ly8gR2V0IGNhbGxiYWNrIG5hbWUsIHJlbWVtYmVyaW5nIHByZWV4aXN0aW5nIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCBpdFxuXHRcdGNhbGxiYWNrTmFtZSA9IHMuanNvbnBDYWxsYmFjayA9IGlzRnVuY3Rpb24oIHMuanNvbnBDYWxsYmFjayApID9cblx0XHRcdHMuanNvbnBDYWxsYmFjaygpIDpcblx0XHRcdHMuanNvbnBDYWxsYmFjaztcblxuXHRcdC8vIEluc2VydCBjYWxsYmFjayBpbnRvIHVybCBvciBmb3JtIGRhdGFcblx0XHRpZiAoIGpzb25Qcm9wICkge1xuXHRcdFx0c1sganNvblByb3AgXSA9IHNbIGpzb25Qcm9wIF0ucmVwbGFjZSggcmpzb25wLCBcIiQxXCIgKyBjYWxsYmFja05hbWUgKTtcblx0XHR9IGVsc2UgaWYgKCBzLmpzb25wICE9PSBmYWxzZSApIHtcblx0XHRcdHMudXJsICs9ICggcnF1ZXJ5LnRlc3QoIHMudXJsICkgPyBcIiZcIiA6IFwiP1wiICkgKyBzLmpzb25wICsgXCI9XCIgKyBjYWxsYmFja05hbWU7XG5cdFx0fVxuXG5cdFx0Ly8gVXNlIGRhdGEgY29udmVydGVyIHRvIHJldHJpZXZlIGpzb24gYWZ0ZXIgc2NyaXB0IGV4ZWN1dGlvblxuXHRcdHMuY29udmVydGVyc1sgXCJzY3JpcHQganNvblwiIF0gPSBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggIXJlc3BvbnNlQ29udGFpbmVyICkge1xuXHRcdFx0XHRqUXVlcnkuZXJyb3IoIGNhbGxiYWNrTmFtZSArIFwiIHdhcyBub3QgY2FsbGVkXCIgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXNwb25zZUNvbnRhaW5lclsgMCBdO1xuXHRcdH07XG5cblx0XHQvLyBGb3JjZSBqc29uIGRhdGFUeXBlXG5cdFx0cy5kYXRhVHlwZXNbIDAgXSA9IFwianNvblwiO1xuXG5cdFx0Ly8gSW5zdGFsbCBjYWxsYmFja1xuXHRcdG92ZXJ3cml0dGVuID0gd2luZG93WyBjYWxsYmFja05hbWUgXTtcblx0XHR3aW5kb3dbIGNhbGxiYWNrTmFtZSBdID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXNwb25zZUNvbnRhaW5lciA9IGFyZ3VtZW50cztcblx0XHR9O1xuXG5cdFx0Ly8gQ2xlYW4tdXAgZnVuY3Rpb24gKGZpcmVzIGFmdGVyIGNvbnZlcnRlcnMpXG5cdFx0anFYSFIuYWx3YXlzKCBmdW5jdGlvbigpIHtcblxuXHRcdFx0Ly8gSWYgcHJldmlvdXMgdmFsdWUgZGlkbid0IGV4aXN0IC0gcmVtb3ZlIGl0XG5cdFx0XHRpZiAoIG92ZXJ3cml0dGVuID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdGpRdWVyeSggd2luZG93ICkucmVtb3ZlUHJvcCggY2FsbGJhY2tOYW1lICk7XG5cblx0XHRcdC8vIE90aGVyd2lzZSByZXN0b3JlIHByZWV4aXN0aW5nIHZhbHVlXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR3aW5kb3dbIGNhbGxiYWNrTmFtZSBdID0gb3ZlcndyaXR0ZW47XG5cdFx0XHR9XG5cblx0XHRcdC8vIFNhdmUgYmFjayBhcyBmcmVlXG5cdFx0XHRpZiAoIHNbIGNhbGxiYWNrTmFtZSBdICkge1xuXG5cdFx0XHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHJlLXVzaW5nIHRoZSBvcHRpb25zIGRvZXNuJ3Qgc2NyZXcgdGhpbmdzIGFyb3VuZFxuXHRcdFx0XHRzLmpzb25wQ2FsbGJhY2sgPSBvcmlnaW5hbFNldHRpbmdzLmpzb25wQ2FsbGJhY2s7XG5cblx0XHRcdFx0Ly8gU2F2ZSB0aGUgY2FsbGJhY2sgbmFtZSBmb3IgZnV0dXJlIHVzZVxuXHRcdFx0XHRvbGRDYWxsYmFja3MucHVzaCggY2FsbGJhY2tOYW1lICk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIENhbGwgaWYgaXQgd2FzIGEgZnVuY3Rpb24gYW5kIHdlIGhhdmUgYSByZXNwb25zZVxuXHRcdFx0aWYgKCByZXNwb25zZUNvbnRhaW5lciAmJiBpc0Z1bmN0aW9uKCBvdmVyd3JpdHRlbiApICkge1xuXHRcdFx0XHRvdmVyd3JpdHRlbiggcmVzcG9uc2VDb250YWluZXJbIDAgXSApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXNwb25zZUNvbnRhaW5lciA9IG92ZXJ3cml0dGVuID0gdW5kZWZpbmVkO1xuXHRcdH0gKTtcblxuXHRcdC8vIERlbGVnYXRlIHRvIHNjcmlwdFxuXHRcdHJldHVybiBcInNjcmlwdFwiO1xuXHR9XG59ICk7XG5cblxuXG5cbi8vIFN1cHBvcnQ6IFNhZmFyaSA4IG9ubHlcbi8vIEluIFNhZmFyaSA4IGRvY3VtZW50cyBjcmVhdGVkIHZpYSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnRcbi8vIGNvbGxhcHNlIHNpYmxpbmcgZm9ybXM6IHRoZSBzZWNvbmQgb25lIGJlY29tZXMgYSBjaGlsZCBvZiB0aGUgZmlyc3Qgb25lLlxuLy8gQmVjYXVzZSBvZiB0aGF0LCB0aGlzIHNlY3VyaXR5IG1lYXN1cmUgaGFzIHRvIGJlIGRpc2FibGVkIGluIFNhZmFyaSA4LlxuLy8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzNzMzN1xuc3VwcG9ydC5jcmVhdGVIVE1MRG9jdW1lbnQgPSAoIGZ1bmN0aW9uKCkge1xuXHR2YXIgYm9keSA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCggXCJcIiApLmJvZHk7XG5cdGJvZHkuaW5uZXJIVE1MID0gXCI8Zm9ybT48L2Zvcm0+PGZvcm0+PC9mb3JtPlwiO1xuXHRyZXR1cm4gYm9keS5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMjtcbn0gKSgpO1xuXG5cbi8vIEFyZ3VtZW50IFwiZGF0YVwiIHNob3VsZCBiZSBzdHJpbmcgb2YgaHRtbFxuLy8gY29udGV4dCAob3B0aW9uYWwpOiBJZiBzcGVjaWZpZWQsIHRoZSBmcmFnbWVudCB3aWxsIGJlIGNyZWF0ZWQgaW4gdGhpcyBjb250ZXh0LFxuLy8gZGVmYXVsdHMgdG8gZG9jdW1lbnRcbi8vIGtlZXBTY3JpcHRzIChvcHRpb25hbCk6IElmIHRydWUsIHdpbGwgaW5jbHVkZSBzY3JpcHRzIHBhc3NlZCBpbiB0aGUgaHRtbCBzdHJpbmdcbmpRdWVyeS5wYXJzZUhUTUwgPSBmdW5jdGlvbiggZGF0YSwgY29udGV4dCwga2VlcFNjcmlwdHMgKSB7XG5cdGlmICggdHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIgKSB7XG5cdFx0cmV0dXJuIFtdO1xuXHR9XG5cdGlmICggdHlwZW9mIGNvbnRleHQgPT09IFwiYm9vbGVhblwiICkge1xuXHRcdGtlZXBTY3JpcHRzID0gY29udGV4dDtcblx0XHRjb250ZXh0ID0gZmFsc2U7XG5cdH1cblxuXHR2YXIgYmFzZSwgcGFyc2VkLCBzY3JpcHRzO1xuXG5cdGlmICggIWNvbnRleHQgKSB7XG5cblx0XHQvLyBTdG9wIHNjcmlwdHMgb3IgaW5saW5lIGV2ZW50IGhhbmRsZXJzIGZyb20gYmVpbmcgZXhlY3V0ZWQgaW1tZWRpYXRlbHlcblx0XHQvLyBieSB1c2luZyBkb2N1bWVudC5pbXBsZW1lbnRhdGlvblxuXHRcdGlmICggc3VwcG9ydC5jcmVhdGVIVE1MRG9jdW1lbnQgKSB7XG5cdFx0XHRjb250ZXh0ID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KCBcIlwiICk7XG5cblx0XHRcdC8vIFNldCB0aGUgYmFzZSBocmVmIGZvciB0aGUgY3JlYXRlZCBkb2N1bWVudFxuXHRcdFx0Ly8gc28gYW55IHBhcnNlZCBlbGVtZW50cyB3aXRoIFVSTHNcblx0XHRcdC8vIGFyZSBiYXNlZCBvbiB0aGUgZG9jdW1lbnQncyBVUkwgKGdoLTI5NjUpXG5cdFx0XHRiYXNlID0gY29udGV4dC5jcmVhdGVFbGVtZW50KCBcImJhc2VcIiApO1xuXHRcdFx0YmFzZS5ocmVmID0gZG9jdW1lbnQubG9jYXRpb24uaHJlZjtcblx0XHRcdGNvbnRleHQuaGVhZC5hcHBlbmRDaGlsZCggYmFzZSApO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb250ZXh0ID0gZG9jdW1lbnQ7XG5cdFx0fVxuXHR9XG5cblx0cGFyc2VkID0gcnNpbmdsZVRhZy5leGVjKCBkYXRhICk7XG5cdHNjcmlwdHMgPSAha2VlcFNjcmlwdHMgJiYgW107XG5cblx0Ly8gU2luZ2xlIHRhZ1xuXHRpZiAoIHBhcnNlZCApIHtcblx0XHRyZXR1cm4gWyBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoIHBhcnNlZFsgMSBdICkgXTtcblx0fVxuXG5cdHBhcnNlZCA9IGJ1aWxkRnJhZ21lbnQoIFsgZGF0YSBdLCBjb250ZXh0LCBzY3JpcHRzICk7XG5cblx0aWYgKCBzY3JpcHRzICYmIHNjcmlwdHMubGVuZ3RoICkge1xuXHRcdGpRdWVyeSggc2NyaXB0cyApLnJlbW92ZSgpO1xuXHR9XG5cblx0cmV0dXJuIGpRdWVyeS5tZXJnZSggW10sIHBhcnNlZC5jaGlsZE5vZGVzICk7XG59O1xuXG5cbi8qKlxuICogTG9hZCBhIHVybCBpbnRvIGEgcGFnZVxuICovXG5qUXVlcnkuZm4ubG9hZCA9IGZ1bmN0aW9uKCB1cmwsIHBhcmFtcywgY2FsbGJhY2sgKSB7XG5cdHZhciBzZWxlY3RvciwgdHlwZSwgcmVzcG9uc2UsXG5cdFx0c2VsZiA9IHRoaXMsXG5cdFx0b2ZmID0gdXJsLmluZGV4T2YoIFwiIFwiICk7XG5cblx0aWYgKCBvZmYgPiAtMSApIHtcblx0XHRzZWxlY3RvciA9IHN0cmlwQW5kQ29sbGFwc2UoIHVybC5zbGljZSggb2ZmICkgKTtcblx0XHR1cmwgPSB1cmwuc2xpY2UoIDAsIG9mZiApO1xuXHR9XG5cblx0Ly8gSWYgaXQncyBhIGZ1bmN0aW9uXG5cdGlmICggaXNGdW5jdGlvbiggcGFyYW1zICkgKSB7XG5cblx0XHQvLyBXZSBhc3N1bWUgdGhhdCBpdCdzIHRoZSBjYWxsYmFja1xuXHRcdGNhbGxiYWNrID0gcGFyYW1zO1xuXHRcdHBhcmFtcyA9IHVuZGVmaW5lZDtcblxuXHQvLyBPdGhlcndpc2UsIGJ1aWxkIGEgcGFyYW0gc3RyaW5nXG5cdH0gZWxzZSBpZiAoIHBhcmFtcyAmJiB0eXBlb2YgcGFyYW1zID09PSBcIm9iamVjdFwiICkge1xuXHRcdHR5cGUgPSBcIlBPU1RcIjtcblx0fVxuXG5cdC8vIElmIHdlIGhhdmUgZWxlbWVudHMgdG8gbW9kaWZ5LCBtYWtlIHRoZSByZXF1ZXN0XG5cdGlmICggc2VsZi5sZW5ndGggPiAwICkge1xuXHRcdGpRdWVyeS5hamF4KCB7XG5cdFx0XHR1cmw6IHVybCxcblxuXHRcdFx0Ly8gSWYgXCJ0eXBlXCIgdmFyaWFibGUgaXMgdW5kZWZpbmVkLCB0aGVuIFwiR0VUXCIgbWV0aG9kIHdpbGwgYmUgdXNlZC5cblx0XHRcdC8vIE1ha2UgdmFsdWUgb2YgdGhpcyBmaWVsZCBleHBsaWNpdCBzaW5jZVxuXHRcdFx0Ly8gdXNlciBjYW4gb3ZlcnJpZGUgaXQgdGhyb3VnaCBhamF4U2V0dXAgbWV0aG9kXG5cdFx0XHR0eXBlOiB0eXBlIHx8IFwiR0VUXCIsXG5cdFx0XHRkYXRhVHlwZTogXCJodG1sXCIsXG5cdFx0XHRkYXRhOiBwYXJhbXNcblx0XHR9ICkuZG9uZSggZnVuY3Rpb24oIHJlc3BvbnNlVGV4dCApIHtcblxuXHRcdFx0Ly8gU2F2ZSByZXNwb25zZSBmb3IgdXNlIGluIGNvbXBsZXRlIGNhbGxiYWNrXG5cdFx0XHRyZXNwb25zZSA9IGFyZ3VtZW50cztcblxuXHRcdFx0c2VsZi5odG1sKCBzZWxlY3RvciA/XG5cblx0XHRcdFx0Ly8gSWYgYSBzZWxlY3RvciB3YXMgc3BlY2lmaWVkLCBsb2NhdGUgdGhlIHJpZ2h0IGVsZW1lbnRzIGluIGEgZHVtbXkgZGl2XG5cdFx0XHRcdC8vIEV4Y2x1ZGUgc2NyaXB0cyB0byBhdm9pZCBJRSAnUGVybWlzc2lvbiBEZW5pZWQnIGVycm9yc1xuXHRcdFx0XHRqUXVlcnkoIFwiPGRpdj5cIiApLmFwcGVuZCggalF1ZXJ5LnBhcnNlSFRNTCggcmVzcG9uc2VUZXh0ICkgKS5maW5kKCBzZWxlY3RvciApIDpcblxuXHRcdFx0XHQvLyBPdGhlcndpc2UgdXNlIHRoZSBmdWxsIHJlc3VsdFxuXHRcdFx0XHRyZXNwb25zZVRleHQgKTtcblxuXHRcdC8vIElmIHRoZSByZXF1ZXN0IHN1Y2NlZWRzLCB0aGlzIGZ1bmN0aW9uIGdldHMgXCJkYXRhXCIsIFwic3RhdHVzXCIsIFwianFYSFJcIlxuXHRcdC8vIGJ1dCB0aGV5IGFyZSBpZ25vcmVkIGJlY2F1c2UgcmVzcG9uc2Ugd2FzIHNldCBhYm92ZS5cblx0XHQvLyBJZiBpdCBmYWlscywgdGhpcyBmdW5jdGlvbiBnZXRzIFwianFYSFJcIiwgXCJzdGF0dXNcIiwgXCJlcnJvclwiXG5cdFx0fSApLmFsd2F5cyggY2FsbGJhY2sgJiYgZnVuY3Rpb24oIGpxWEhSLCBzdGF0dXMgKSB7XG5cdFx0XHRzZWxmLmVhY2goIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjYWxsYmFjay5hcHBseSggdGhpcywgcmVzcG9uc2UgfHwgWyBqcVhIUi5yZXNwb25zZVRleHQsIHN0YXR1cywganFYSFIgXSApO1xuXHRcdFx0fSApO1xuXHRcdH0gKTtcblx0fVxuXG5cdHJldHVybiB0aGlzO1xufTtcblxuXG5cblxuLy8gQXR0YWNoIGEgYnVuY2ggb2YgZnVuY3Rpb25zIGZvciBoYW5kbGluZyBjb21tb24gQUpBWCBldmVudHNcbmpRdWVyeS5lYWNoKCBbXG5cdFwiYWpheFN0YXJ0XCIsXG5cdFwiYWpheFN0b3BcIixcblx0XCJhamF4Q29tcGxldGVcIixcblx0XCJhamF4RXJyb3JcIixcblx0XCJhamF4U3VjY2Vzc1wiLFxuXHRcImFqYXhTZW5kXCJcbl0sIGZ1bmN0aW9uKCBpLCB0eXBlICkge1xuXHRqUXVlcnkuZm5bIHR5cGUgXSA9IGZ1bmN0aW9uKCBmbiApIHtcblx0XHRyZXR1cm4gdGhpcy5vbiggdHlwZSwgZm4gKTtcblx0fTtcbn0gKTtcblxuXG5cblxualF1ZXJ5LmV4cHIucHNldWRvcy5hbmltYXRlZCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXHRyZXR1cm4galF1ZXJ5LmdyZXAoIGpRdWVyeS50aW1lcnMsIGZ1bmN0aW9uKCBmbiApIHtcblx0XHRyZXR1cm4gZWxlbSA9PT0gZm4uZWxlbTtcblx0fSApLmxlbmd0aDtcbn07XG5cblxuXG5cbmpRdWVyeS5vZmZzZXQgPSB7XG5cdHNldE9mZnNldDogZnVuY3Rpb24oIGVsZW0sIG9wdGlvbnMsIGkgKSB7XG5cdFx0dmFyIGN1clBvc2l0aW9uLCBjdXJMZWZ0LCBjdXJDU1NUb3AsIGN1clRvcCwgY3VyT2Zmc2V0LCBjdXJDU1NMZWZ0LCBjYWxjdWxhdGVQb3NpdGlvbixcblx0XHRcdHBvc2l0aW9uID0galF1ZXJ5LmNzcyggZWxlbSwgXCJwb3NpdGlvblwiICksXG5cdFx0XHRjdXJFbGVtID0galF1ZXJ5KCBlbGVtICksXG5cdFx0XHRwcm9wcyA9IHt9O1xuXG5cdFx0Ly8gU2V0IHBvc2l0aW9uIGZpcnN0LCBpbi1jYXNlIHRvcC9sZWZ0IGFyZSBzZXQgZXZlbiBvbiBzdGF0aWMgZWxlbVxuXHRcdGlmICggcG9zaXRpb24gPT09IFwic3RhdGljXCIgKSB7XG5cdFx0XHRlbGVtLnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xuXHRcdH1cblxuXHRcdGN1ck9mZnNldCA9IGN1ckVsZW0ub2Zmc2V0KCk7XG5cdFx0Y3VyQ1NTVG9wID0galF1ZXJ5LmNzcyggZWxlbSwgXCJ0b3BcIiApO1xuXHRcdGN1ckNTU0xlZnQgPSBqUXVlcnkuY3NzKCBlbGVtLCBcImxlZnRcIiApO1xuXHRcdGNhbGN1bGF0ZVBvc2l0aW9uID0gKCBwb3NpdGlvbiA9PT0gXCJhYnNvbHV0ZVwiIHx8IHBvc2l0aW9uID09PSBcImZpeGVkXCIgKSAmJlxuXHRcdFx0KCBjdXJDU1NUb3AgKyBjdXJDU1NMZWZ0ICkuaW5kZXhPZiggXCJhdXRvXCIgKSA+IC0xO1xuXG5cdFx0Ly8gTmVlZCB0byBiZSBhYmxlIHRvIGNhbGN1bGF0ZSBwb3NpdGlvbiBpZiBlaXRoZXJcblx0XHQvLyB0b3Agb3IgbGVmdCBpcyBhdXRvIGFuZCBwb3NpdGlvbiBpcyBlaXRoZXIgYWJzb2x1dGUgb3IgZml4ZWRcblx0XHRpZiAoIGNhbGN1bGF0ZVBvc2l0aW9uICkge1xuXHRcdFx0Y3VyUG9zaXRpb24gPSBjdXJFbGVtLnBvc2l0aW9uKCk7XG5cdFx0XHRjdXJUb3AgPSBjdXJQb3NpdGlvbi50b3A7XG5cdFx0XHRjdXJMZWZ0ID0gY3VyUG9zaXRpb24ubGVmdDtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjdXJUb3AgPSBwYXJzZUZsb2F0KCBjdXJDU1NUb3AgKSB8fCAwO1xuXHRcdFx0Y3VyTGVmdCA9IHBhcnNlRmxvYXQoIGN1ckNTU0xlZnQgKSB8fCAwO1xuXHRcdH1cblxuXHRcdGlmICggaXNGdW5jdGlvbiggb3B0aW9ucyApICkge1xuXG5cdFx0XHQvLyBVc2UgalF1ZXJ5LmV4dGVuZCBoZXJlIHRvIGFsbG93IG1vZGlmaWNhdGlvbiBvZiBjb29yZGluYXRlcyBhcmd1bWVudCAoZ2gtMTg0OClcblx0XHRcdG9wdGlvbnMgPSBvcHRpb25zLmNhbGwoIGVsZW0sIGksIGpRdWVyeS5leHRlbmQoIHt9LCBjdXJPZmZzZXQgKSApO1xuXHRcdH1cblxuXHRcdGlmICggb3B0aW9ucy50b3AgIT0gbnVsbCApIHtcblx0XHRcdHByb3BzLnRvcCA9ICggb3B0aW9ucy50b3AgLSBjdXJPZmZzZXQudG9wICkgKyBjdXJUb3A7XG5cdFx0fVxuXHRcdGlmICggb3B0aW9ucy5sZWZ0ICE9IG51bGwgKSB7XG5cdFx0XHRwcm9wcy5sZWZ0ID0gKCBvcHRpb25zLmxlZnQgLSBjdXJPZmZzZXQubGVmdCApICsgY3VyTGVmdDtcblx0XHR9XG5cblx0XHRpZiAoIFwidXNpbmdcIiBpbiBvcHRpb25zICkge1xuXHRcdFx0b3B0aW9ucy51c2luZy5jYWxsKCBlbGVtLCBwcm9wcyApO1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdGN1ckVsZW0uY3NzKCBwcm9wcyApO1xuXHRcdH1cblx0fVxufTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXG5cdC8vIG9mZnNldCgpIHJlbGF0ZXMgYW4gZWxlbWVudCdzIGJvcmRlciBib3ggdG8gdGhlIGRvY3VtZW50IG9yaWdpblxuXHRvZmZzZXQ6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG5cdFx0Ly8gUHJlc2VydmUgY2hhaW5pbmcgZm9yIHNldHRlclxuXHRcdGlmICggYXJndW1lbnRzLmxlbmd0aCApIHtcblx0XHRcdHJldHVybiBvcHRpb25zID09PSB1bmRlZmluZWQgP1xuXHRcdFx0XHR0aGlzIDpcblx0XHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcblx0XHRcdFx0XHRqUXVlcnkub2Zmc2V0LnNldE9mZnNldCggdGhpcywgb3B0aW9ucywgaSApO1xuXHRcdFx0XHR9ICk7XG5cdFx0fVxuXG5cdFx0dmFyIHJlY3QsIHdpbixcblx0XHRcdGVsZW0gPSB0aGlzWyAwIF07XG5cblx0XHRpZiAoICFlbGVtICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIFJldHVybiB6ZXJvcyBmb3IgZGlzY29ubmVjdGVkIGFuZCBoaWRkZW4gKGRpc3BsYXk6IG5vbmUpIGVsZW1lbnRzIChnaC0yMzEwKVxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxuXHRcdC8vIFJ1bm5pbmcgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IG9uIGFcblx0XHQvLyBkaXNjb25uZWN0ZWQgbm9kZSBpbiBJRSB0aHJvd3MgYW4gZXJyb3Jcblx0XHRpZiAoICFlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoICkge1xuXHRcdFx0cmV0dXJuIHsgdG9wOiAwLCBsZWZ0OiAwIH07XG5cdFx0fVxuXG5cdFx0Ly8gR2V0IGRvY3VtZW50LXJlbGF0aXZlIHBvc2l0aW9uIGJ5IGFkZGluZyB2aWV3cG9ydCBzY3JvbGwgdG8gdmlld3BvcnQtcmVsYXRpdmUgZ0JDUlxuXHRcdHJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdHdpbiA9IGVsZW0ub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldztcblx0XHRyZXR1cm4ge1xuXHRcdFx0dG9wOiByZWN0LnRvcCArIHdpbi5wYWdlWU9mZnNldCxcblx0XHRcdGxlZnQ6IHJlY3QubGVmdCArIHdpbi5wYWdlWE9mZnNldFxuXHRcdH07XG5cdH0sXG5cblx0Ly8gcG9zaXRpb24oKSByZWxhdGVzIGFuIGVsZW1lbnQncyBtYXJnaW4gYm94IHRvIGl0cyBvZmZzZXQgcGFyZW50J3MgcGFkZGluZyBib3hcblx0Ly8gVGhpcyBjb3JyZXNwb25kcyB0byB0aGUgYmVoYXZpb3Igb2YgQ1NTIGFic29sdXRlIHBvc2l0aW9uaW5nXG5cdHBvc2l0aW9uOiBmdW5jdGlvbigpIHtcblx0XHRpZiAoICF0aGlzWyAwIF0gKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIG9mZnNldFBhcmVudCwgb2Zmc2V0LCBkb2MsXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdLFxuXHRcdFx0cGFyZW50T2Zmc2V0ID0geyB0b3A6IDAsIGxlZnQ6IDAgfTtcblxuXHRcdC8vIHBvc2l0aW9uOmZpeGVkIGVsZW1lbnRzIGFyZSBvZmZzZXQgZnJvbSB0aGUgdmlld3BvcnQsIHdoaWNoIGl0c2VsZiBhbHdheXMgaGFzIHplcm8gb2Zmc2V0XG5cdFx0aWYgKCBqUXVlcnkuY3NzKCBlbGVtLCBcInBvc2l0aW9uXCIgKSA9PT0gXCJmaXhlZFwiICkge1xuXG5cdFx0XHQvLyBBc3N1bWUgcG9zaXRpb246Zml4ZWQgaW1wbGllcyBhdmFpbGFiaWxpdHkgb2YgZ2V0Qm91bmRpbmdDbGllbnRSZWN0XG5cdFx0XHRvZmZzZXQgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdG9mZnNldCA9IHRoaXMub2Zmc2V0KCk7XG5cblx0XHRcdC8vIEFjY291bnQgZm9yIHRoZSAqcmVhbCogb2Zmc2V0IHBhcmVudCwgd2hpY2ggY2FuIGJlIHRoZSBkb2N1bWVudCBvciBpdHMgcm9vdCBlbGVtZW50XG5cdFx0XHQvLyB3aGVuIGEgc3RhdGljYWxseSBwb3NpdGlvbmVkIGVsZW1lbnQgaXMgaWRlbnRpZmllZFxuXHRcdFx0ZG9jID0gZWxlbS5vd25lckRvY3VtZW50O1xuXHRcdFx0b2Zmc2V0UGFyZW50ID0gZWxlbS5vZmZzZXRQYXJlbnQgfHwgZG9jLmRvY3VtZW50RWxlbWVudDtcblx0XHRcdHdoaWxlICggb2Zmc2V0UGFyZW50ICYmXG5cdFx0XHRcdCggb2Zmc2V0UGFyZW50ID09PSBkb2MuYm9keSB8fCBvZmZzZXRQYXJlbnQgPT09IGRvYy5kb2N1bWVudEVsZW1lbnQgKSAmJlxuXHRcdFx0XHRqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnQsIFwicG9zaXRpb25cIiApID09PSBcInN0YXRpY1wiICkge1xuXG5cdFx0XHRcdG9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5wYXJlbnROb2RlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBvZmZzZXRQYXJlbnQgJiYgb2Zmc2V0UGFyZW50ICE9PSBlbGVtICYmIG9mZnNldFBhcmVudC5ub2RlVHlwZSA9PT0gMSApIHtcblxuXHRcdFx0XHQvLyBJbmNvcnBvcmF0ZSBib3JkZXJzIGludG8gaXRzIG9mZnNldCwgc2luY2UgdGhleSBhcmUgb3V0c2lkZSBpdHMgY29udGVudCBvcmlnaW5cblx0XHRcdFx0cGFyZW50T2Zmc2V0ID0galF1ZXJ5KCBvZmZzZXRQYXJlbnQgKS5vZmZzZXQoKTtcblx0XHRcdFx0cGFyZW50T2Zmc2V0LnRvcCArPSBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnQsIFwiYm9yZGVyVG9wV2lkdGhcIiwgdHJ1ZSApO1xuXHRcdFx0XHRwYXJlbnRPZmZzZXQubGVmdCArPSBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnQsIFwiYm9yZGVyTGVmdFdpZHRoXCIsIHRydWUgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBTdWJ0cmFjdCBwYXJlbnQgb2Zmc2V0cyBhbmQgZWxlbWVudCBtYXJnaW5zXG5cdFx0cmV0dXJuIHtcblx0XHRcdHRvcDogb2Zmc2V0LnRvcCAtIHBhcmVudE9mZnNldC50b3AgLSBqUXVlcnkuY3NzKCBlbGVtLCBcIm1hcmdpblRvcFwiLCB0cnVlICksXG5cdFx0XHRsZWZ0OiBvZmZzZXQubGVmdCAtIHBhcmVudE9mZnNldC5sZWZ0IC0galF1ZXJ5LmNzcyggZWxlbSwgXCJtYXJnaW5MZWZ0XCIsIHRydWUgKVxuXHRcdH07XG5cdH0sXG5cblx0Ly8gVGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gZG9jdW1lbnRFbGVtZW50IGluIHRoZSBmb2xsb3dpbmcgY2FzZXM6XG5cdC8vIDEpIEZvciB0aGUgZWxlbWVudCBpbnNpZGUgdGhlIGlmcmFtZSB3aXRob3V0IG9mZnNldFBhcmVudCwgdGhpcyBtZXRob2Qgd2lsbCByZXR1cm5cblx0Ly8gICAgZG9jdW1lbnRFbGVtZW50IG9mIHRoZSBwYXJlbnQgd2luZG93XG5cdC8vIDIpIEZvciB0aGUgaGlkZGVuIG9yIGRldGFjaGVkIGVsZW1lbnRcblx0Ly8gMykgRm9yIGJvZHkgb3IgaHRtbCBlbGVtZW50LCBpLmUuIGluIGNhc2Ugb2YgdGhlIGh0bWwgbm9kZSAtIGl0IHdpbGwgcmV0dXJuIGl0c2VsZlxuXHQvL1xuXHQvLyBidXQgdGhvc2UgZXhjZXB0aW9ucyB3ZXJlIG5ldmVyIHByZXNlbnRlZCBhcyBhIHJlYWwgbGlmZSB1c2UtY2FzZXNcblx0Ly8gYW5kIG1pZ2h0IGJlIGNvbnNpZGVyZWQgYXMgbW9yZSBwcmVmZXJhYmxlIHJlc3VsdHMuXG5cdC8vXG5cdC8vIFRoaXMgbG9naWMsIGhvd2V2ZXIsIGlzIG5vdCBndWFyYW50ZWVkIGFuZCBjYW4gY2hhbmdlIGF0IGFueSBwb2ludCBpbiB0aGUgZnV0dXJlXG5cdG9mZnNldFBhcmVudDogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBvZmZzZXRQYXJlbnQgPSB0aGlzLm9mZnNldFBhcmVudDtcblxuXHRcdFx0d2hpbGUgKCBvZmZzZXRQYXJlbnQgJiYgalF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50LCBcInBvc2l0aW9uXCIgKSA9PT0gXCJzdGF0aWNcIiApIHtcblx0XHRcdFx0b2Zmc2V0UGFyZW50ID0gb2Zmc2V0UGFyZW50Lm9mZnNldFBhcmVudDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG9mZnNldFBhcmVudCB8fCBkb2N1bWVudEVsZW1lbnQ7XG5cdFx0fSApO1xuXHR9XG59ICk7XG5cbi8vIENyZWF0ZSBzY3JvbGxMZWZ0IGFuZCBzY3JvbGxUb3AgbWV0aG9kc1xualF1ZXJ5LmVhY2goIHsgc2Nyb2xsTGVmdDogXCJwYWdlWE9mZnNldFwiLCBzY3JvbGxUb3A6IFwicGFnZVlPZmZzZXRcIiB9LCBmdW5jdGlvbiggbWV0aG9kLCBwcm9wICkge1xuXHR2YXIgdG9wID0gXCJwYWdlWU9mZnNldFwiID09PSBwcm9wO1xuXG5cdGpRdWVyeS5mblsgbWV0aG9kIF0gPSBmdW5jdGlvbiggdmFsICkge1xuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBtZXRob2QsIHZhbCApIHtcblxuXHRcdFx0Ly8gQ29hbGVzY2UgZG9jdW1lbnRzIGFuZCB3aW5kb3dzXG5cdFx0XHR2YXIgd2luO1xuXHRcdFx0aWYgKCBpc1dpbmRvdyggZWxlbSApICkge1xuXHRcdFx0XHR3aW4gPSBlbGVtO1xuXHRcdFx0fSBlbHNlIGlmICggZWxlbS5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0d2luID0gZWxlbS5kZWZhdWx0Vmlldztcblx0XHRcdH1cblxuXHRcdFx0aWYgKCB2YWwgPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0cmV0dXJuIHdpbiA/IHdpblsgcHJvcCBdIDogZWxlbVsgbWV0aG9kIF07XG5cdFx0XHR9XG5cblx0XHRcdGlmICggd2luICkge1xuXHRcdFx0XHR3aW4uc2Nyb2xsVG8oXG5cdFx0XHRcdFx0IXRvcCA/IHZhbCA6IHdpbi5wYWdlWE9mZnNldCxcblx0XHRcdFx0XHR0b3AgPyB2YWwgOiB3aW4ucGFnZVlPZmZzZXRcblx0XHRcdFx0KTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZWxlbVsgbWV0aG9kIF0gPSB2YWw7XG5cdFx0XHR9XG5cdFx0fSwgbWV0aG9kLCB2YWwsIGFyZ3VtZW50cy5sZW5ndGggKTtcblx0fTtcbn0gKTtcblxuLy8gU3VwcG9ydDogU2FmYXJpIDw9NyAtIDkuMSwgQ2hyb21lIDw9MzcgLSA0OVxuLy8gQWRkIHRoZSB0b3AvbGVmdCBjc3NIb29rcyB1c2luZyBqUXVlcnkuZm4ucG9zaXRpb25cbi8vIFdlYmtpdCBidWc6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0yOTA4NFxuLy8gQmxpbmsgYnVnOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD01ODkzNDdcbi8vIGdldENvbXB1dGVkU3R5bGUgcmV0dXJucyBwZXJjZW50IHdoZW4gc3BlY2lmaWVkIGZvciB0b3AvbGVmdC9ib3R0b20vcmlnaHQ7XG4vLyByYXRoZXIgdGhhbiBtYWtlIHRoZSBjc3MgbW9kdWxlIGRlcGVuZCBvbiB0aGUgb2Zmc2V0IG1vZHVsZSwganVzdCBjaGVjayBmb3IgaXQgaGVyZVxualF1ZXJ5LmVhY2goIFsgXCJ0b3BcIiwgXCJsZWZ0XCIgXSwgZnVuY3Rpb24oIGksIHByb3AgKSB7XG5cdGpRdWVyeS5jc3NIb29rc1sgcHJvcCBdID0gYWRkR2V0SG9va0lmKCBzdXBwb3J0LnBpeGVsUG9zaXRpb24sXG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbXB1dGVkICkge1xuXHRcdFx0aWYgKCBjb21wdXRlZCApIHtcblx0XHRcdFx0Y29tcHV0ZWQgPSBjdXJDU1MoIGVsZW0sIHByb3AgKTtcblxuXHRcdFx0XHQvLyBJZiBjdXJDU1MgcmV0dXJucyBwZXJjZW50YWdlLCBmYWxsYmFjayB0byBvZmZzZXRcblx0XHRcdFx0cmV0dXJuIHJudW1ub25weC50ZXN0KCBjb21wdXRlZCApID9cblx0XHRcdFx0XHRqUXVlcnkoIGVsZW0gKS5wb3NpdGlvbigpWyBwcm9wIF0gKyBcInB4XCIgOlxuXHRcdFx0XHRcdGNvbXB1dGVkO1xuXHRcdFx0fVxuXHRcdH1cblx0KTtcbn0gKTtcblxuXG4vLyBDcmVhdGUgaW5uZXJIZWlnaHQsIGlubmVyV2lkdGgsIGhlaWdodCwgd2lkdGgsIG91dGVySGVpZ2h0IGFuZCBvdXRlcldpZHRoIG1ldGhvZHNcbmpRdWVyeS5lYWNoKCB7IEhlaWdodDogXCJoZWlnaHRcIiwgV2lkdGg6IFwid2lkdGhcIiB9LCBmdW5jdGlvbiggbmFtZSwgdHlwZSApIHtcblx0alF1ZXJ5LmVhY2goIHsgcGFkZGluZzogXCJpbm5lclwiICsgbmFtZSwgY29udGVudDogdHlwZSwgXCJcIjogXCJvdXRlclwiICsgbmFtZSB9LFxuXHRcdGZ1bmN0aW9uKCBkZWZhdWx0RXh0cmEsIGZ1bmNOYW1lICkge1xuXG5cdFx0Ly8gTWFyZ2luIGlzIG9ubHkgZm9yIG91dGVySGVpZ2h0LCBvdXRlcldpZHRoXG5cdFx0alF1ZXJ5LmZuWyBmdW5jTmFtZSBdID0gZnVuY3Rpb24oIG1hcmdpbiwgdmFsdWUgKSB7XG5cdFx0XHR2YXIgY2hhaW5hYmxlID0gYXJndW1lbnRzLmxlbmd0aCAmJiAoIGRlZmF1bHRFeHRyYSB8fCB0eXBlb2YgbWFyZ2luICE9PSBcImJvb2xlYW5cIiApLFxuXHRcdFx0XHRleHRyYSA9IGRlZmF1bHRFeHRyYSB8fCAoIG1hcmdpbiA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gdHJ1ZSA/IFwibWFyZ2luXCIgOiBcImJvcmRlclwiICk7XG5cblx0XHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCB2YWx1ZSApIHtcblx0XHRcdFx0dmFyIGRvYztcblxuXHRcdFx0XHRpZiAoIGlzV2luZG93KCBlbGVtICkgKSB7XG5cblx0XHRcdFx0XHQvLyAkKCB3aW5kb3cgKS5vdXRlcldpZHRoL0hlaWdodCByZXR1cm4gdy9oIGluY2x1ZGluZyBzY3JvbGxiYXJzIChnaC0xNzI5KVxuXHRcdFx0XHRcdHJldHVybiBmdW5jTmFtZS5pbmRleE9mKCBcIm91dGVyXCIgKSA9PT0gMCA/XG5cdFx0XHRcdFx0XHRlbGVtWyBcImlubmVyXCIgKyBuYW1lIF0gOlxuXHRcdFx0XHRcdFx0ZWxlbS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbIFwiY2xpZW50XCIgKyBuYW1lIF07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBHZXQgZG9jdW1lbnQgd2lkdGggb3IgaGVpZ2h0XG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gOSApIHtcblx0XHRcdFx0XHRkb2MgPSBlbGVtLmRvY3VtZW50RWxlbWVudDtcblxuXHRcdFx0XHRcdC8vIEVpdGhlciBzY3JvbGxbV2lkdGgvSGVpZ2h0XSBvciBvZmZzZXRbV2lkdGgvSGVpZ2h0XSBvciBjbGllbnRbV2lkdGgvSGVpZ2h0XSxcblx0XHRcdFx0XHQvLyB3aGljaGV2ZXIgaXMgZ3JlYXRlc3Rcblx0XHRcdFx0XHRyZXR1cm4gTWF0aC5tYXgoXG5cdFx0XHRcdFx0XHRlbGVtLmJvZHlbIFwic2Nyb2xsXCIgKyBuYW1lIF0sIGRvY1sgXCJzY3JvbGxcIiArIG5hbWUgXSxcblx0XHRcdFx0XHRcdGVsZW0uYm9keVsgXCJvZmZzZXRcIiArIG5hbWUgXSwgZG9jWyBcIm9mZnNldFwiICsgbmFtZSBdLFxuXHRcdFx0XHRcdFx0ZG9jWyBcImNsaWVudFwiICsgbmFtZSBdXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID9cblxuXHRcdFx0XHRcdC8vIEdldCB3aWR0aCBvciBoZWlnaHQgb24gdGhlIGVsZW1lbnQsIHJlcXVlc3RpbmcgYnV0IG5vdCBmb3JjaW5nIHBhcnNlRmxvYXRcblx0XHRcdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCB0eXBlLCBleHRyYSApIDpcblxuXHRcdFx0XHRcdC8vIFNldCB3aWR0aCBvciBoZWlnaHQgb24gdGhlIGVsZW1lbnRcblx0XHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIHR5cGUsIHZhbHVlLCBleHRyYSApO1xuXHRcdFx0fSwgdHlwZSwgY2hhaW5hYmxlID8gbWFyZ2luIDogdW5kZWZpbmVkLCBjaGFpbmFibGUgKTtcblx0XHR9O1xuXHR9ICk7XG59ICk7XG5cblxualF1ZXJ5LmVhY2goICggXCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgcmVzaXplIHNjcm9sbCBjbGljayBkYmxjbGljayBcIiArXG5cdFwibW91c2Vkb3duIG1vdXNldXAgbW91c2Vtb3ZlIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZWVudGVyIG1vdXNlbGVhdmUgXCIgK1xuXHRcImNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgY29udGV4dG1lbnVcIiApLnNwbGl0KCBcIiBcIiApLFxuXHRmdW5jdGlvbiggaSwgbmFtZSApIHtcblxuXHQvLyBIYW5kbGUgZXZlbnQgYmluZGluZ1xuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBkYXRhLCBmbiApIHtcblx0XHRyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA+IDAgP1xuXHRcdFx0dGhpcy5vbiggbmFtZSwgbnVsbCwgZGF0YSwgZm4gKSA6XG5cdFx0XHR0aGlzLnRyaWdnZXIoIG5hbWUgKTtcblx0fTtcbn0gKTtcblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXHRob3ZlcjogZnVuY3Rpb24oIGZuT3ZlciwgZm5PdXQgKSB7XG5cdFx0cmV0dXJuIHRoaXMubW91c2VlbnRlciggZm5PdmVyICkubW91c2VsZWF2ZSggZm5PdXQgfHwgZm5PdmVyICk7XG5cdH1cbn0gKTtcblxuXG5cblxualF1ZXJ5LmZuLmV4dGVuZCgge1xuXG5cdGJpbmQ6IGZ1bmN0aW9uKCB0eXBlcywgZGF0YSwgZm4gKSB7XG5cdFx0cmV0dXJuIHRoaXMub24oIHR5cGVzLCBudWxsLCBkYXRhLCBmbiApO1xuXHR9LFxuXHR1bmJpbmQ6IGZ1bmN0aW9uKCB0eXBlcywgZm4gKSB7XG5cdFx0cmV0dXJuIHRoaXMub2ZmKCB0eXBlcywgbnVsbCwgZm4gKTtcblx0fSxcblxuXHRkZWxlZ2F0ZTogZnVuY3Rpb24oIHNlbGVjdG9yLCB0eXBlcywgZGF0YSwgZm4gKSB7XG5cdFx0cmV0dXJuIHRoaXMub24oIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4gKTtcblx0fSxcblx0dW5kZWxlZ2F0ZTogZnVuY3Rpb24oIHNlbGVjdG9yLCB0eXBlcywgZm4gKSB7XG5cblx0XHQvLyAoIG5hbWVzcGFjZSApIG9yICggc2VsZWN0b3IsIHR5cGVzIFssIGZuXSApXG5cdFx0cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgP1xuXHRcdFx0dGhpcy5vZmYoIHNlbGVjdG9yLCBcIioqXCIgKSA6XG5cdFx0XHR0aGlzLm9mZiggdHlwZXMsIHNlbGVjdG9yIHx8IFwiKipcIiwgZm4gKTtcblx0fVxufSApO1xuXG4vLyBCaW5kIGEgZnVuY3Rpb24gdG8gYSBjb250ZXh0LCBvcHRpb25hbGx5IHBhcnRpYWxseSBhcHBseWluZyBhbnlcbi8vIGFyZ3VtZW50cy5cbi8vIGpRdWVyeS5wcm94eSBpcyBkZXByZWNhdGVkIHRvIHByb21vdGUgc3RhbmRhcmRzIChzcGVjaWZpY2FsbHkgRnVuY3Rpb24jYmluZClcbi8vIEhvd2V2ZXIsIGl0IGlzIG5vdCBzbGF0ZWQgZm9yIHJlbW92YWwgYW55IHRpbWUgc29vblxualF1ZXJ5LnByb3h5ID0gZnVuY3Rpb24oIGZuLCBjb250ZXh0ICkge1xuXHR2YXIgdG1wLCBhcmdzLCBwcm94eTtcblxuXHRpZiAoIHR5cGVvZiBjb250ZXh0ID09PSBcInN0cmluZ1wiICkge1xuXHRcdHRtcCA9IGZuWyBjb250ZXh0IF07XG5cdFx0Y29udGV4dCA9IGZuO1xuXHRcdGZuID0gdG1wO1xuXHR9XG5cblx0Ly8gUXVpY2sgY2hlY2sgdG8gZGV0ZXJtaW5lIGlmIHRhcmdldCBpcyBjYWxsYWJsZSwgaW4gdGhlIHNwZWNcblx0Ly8gdGhpcyB0aHJvd3MgYSBUeXBlRXJyb3IsIGJ1dCB3ZSB3aWxsIGp1c3QgcmV0dXJuIHVuZGVmaW5lZC5cblx0aWYgKCAhaXNGdW5jdGlvbiggZm4gKSApIHtcblx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHR9XG5cblx0Ly8gU2ltdWxhdGVkIGJpbmRcblx0YXJncyA9IHNsaWNlLmNhbGwoIGFyZ3VtZW50cywgMiApO1xuXHRwcm94eSA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBmbi5hcHBseSggY29udGV4dCB8fCB0aGlzLCBhcmdzLmNvbmNhdCggc2xpY2UuY2FsbCggYXJndW1lbnRzICkgKSApO1xuXHR9O1xuXG5cdC8vIFNldCB0aGUgZ3VpZCBvZiB1bmlxdWUgaGFuZGxlciB0byB0aGUgc2FtZSBvZiBvcmlnaW5hbCBoYW5kbGVyLCBzbyBpdCBjYW4gYmUgcmVtb3ZlZFxuXHRwcm94eS5ndWlkID0gZm4uZ3VpZCA9IGZuLmd1aWQgfHwgalF1ZXJ5Lmd1aWQrKztcblxuXHRyZXR1cm4gcHJveHk7XG59O1xuXG5qUXVlcnkuaG9sZFJlYWR5ID0gZnVuY3Rpb24oIGhvbGQgKSB7XG5cdGlmICggaG9sZCApIHtcblx0XHRqUXVlcnkucmVhZHlXYWl0Kys7XG5cdH0gZWxzZSB7XG5cdFx0alF1ZXJ5LnJlYWR5KCB0cnVlICk7XG5cdH1cbn07XG5qUXVlcnkuaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5qUXVlcnkucGFyc2VKU09OID0gSlNPTi5wYXJzZTtcbmpRdWVyeS5ub2RlTmFtZSA9IG5vZGVOYW1lO1xualF1ZXJ5LmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xualF1ZXJ5LmlzV2luZG93ID0gaXNXaW5kb3c7XG5qUXVlcnkuY2FtZWxDYXNlID0gY2FtZWxDYXNlO1xualF1ZXJ5LnR5cGUgPSB0b1R5cGU7XG5cbmpRdWVyeS5ub3cgPSBEYXRlLm5vdztcblxualF1ZXJ5LmlzTnVtZXJpYyA9IGZ1bmN0aW9uKCBvYmogKSB7XG5cblx0Ly8gQXMgb2YgalF1ZXJ5IDMuMCwgaXNOdW1lcmljIGlzIGxpbWl0ZWQgdG9cblx0Ly8gc3RyaW5ncyBhbmQgbnVtYmVycyAocHJpbWl0aXZlcyBvciBvYmplY3RzKVxuXHQvLyB0aGF0IGNhbiBiZSBjb2VyY2VkIHRvIGZpbml0ZSBudW1iZXJzIChnaC0yNjYyKVxuXHR2YXIgdHlwZSA9IGpRdWVyeS50eXBlKCBvYmogKTtcblx0cmV0dXJuICggdHlwZSA9PT0gXCJudW1iZXJcIiB8fCB0eXBlID09PSBcInN0cmluZ1wiICkgJiZcblxuXHRcdC8vIHBhcnNlRmxvYXQgTmFOcyBudW1lcmljLWNhc3QgZmFsc2UgcG9zaXRpdmVzIChcIlwiKVxuXHRcdC8vIC4uLmJ1dCBtaXNpbnRlcnByZXRzIGxlYWRpbmctbnVtYmVyIHN0cmluZ3MsIHBhcnRpY3VsYXJseSBoZXggbGl0ZXJhbHMgKFwiMHguLi5cIilcblx0XHQvLyBzdWJ0cmFjdGlvbiBmb3JjZXMgaW5maW5pdGllcyB0byBOYU5cblx0XHQhaXNOYU4oIG9iaiAtIHBhcnNlRmxvYXQoIG9iaiApICk7XG59O1xuXG5cblxuXG4vLyBSZWdpc3RlciBhcyBhIG5hbWVkIEFNRCBtb2R1bGUsIHNpbmNlIGpRdWVyeSBjYW4gYmUgY29uY2F0ZW5hdGVkIHdpdGggb3RoZXJcbi8vIGZpbGVzIHRoYXQgbWF5IHVzZSBkZWZpbmUsIGJ1dCBub3QgdmlhIGEgcHJvcGVyIGNvbmNhdGVuYXRpb24gc2NyaXB0IHRoYXRcbi8vIHVuZGVyc3RhbmRzIGFub255bW91cyBBTUQgbW9kdWxlcy4gQSBuYW1lZCBBTUQgaXMgc2FmZXN0IGFuZCBtb3N0IHJvYnVzdFxuLy8gd2F5IHRvIHJlZ2lzdGVyLiBMb3dlcmNhc2UganF1ZXJ5IGlzIHVzZWQgYmVjYXVzZSBBTUQgbW9kdWxlIG5hbWVzIGFyZVxuLy8gZGVyaXZlZCBmcm9tIGZpbGUgbmFtZXMsIGFuZCBqUXVlcnkgaXMgbm9ybWFsbHkgZGVsaXZlcmVkIGluIGEgbG93ZXJjYXNlXG4vLyBmaWxlIG5hbWUuIERvIHRoaXMgYWZ0ZXIgY3JlYXRpbmcgdGhlIGdsb2JhbCBzbyB0aGF0IGlmIGFuIEFNRCBtb2R1bGUgd2FudHNcbi8vIHRvIGNhbGwgbm9Db25mbGljdCB0byBoaWRlIHRoaXMgdmVyc2lvbiBvZiBqUXVlcnksIGl0IHdpbGwgd29yay5cblxuLy8gTm90ZSB0aGF0IGZvciBtYXhpbXVtIHBvcnRhYmlsaXR5LCBsaWJyYXJpZXMgdGhhdCBhcmUgbm90IGpRdWVyeSBzaG91bGRcbi8vIGRlY2xhcmUgdGhlbXNlbHZlcyBhcyBhbm9ueW1vdXMgbW9kdWxlcywgYW5kIGF2b2lkIHNldHRpbmcgYSBnbG9iYWwgaWYgYW5cbi8vIEFNRCBsb2FkZXIgaXMgcHJlc2VudC4galF1ZXJ5IGlzIGEgc3BlY2lhbCBjYXNlLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlXG4vLyBodHRwczovL2dpdGh1Yi5jb20vanJidXJrZS9yZXF1aXJlanMvd2lraS9VcGRhdGluZy1leGlzdGluZy1saWJyYXJpZXMjd2lraS1hbm9uXG5cbmlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XG5cdGRlZmluZSggXCJqcXVlcnlcIiwgW10sIGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBqUXVlcnk7XG5cdH0gKTtcbn1cblxuXG5cblxudmFyXG5cblx0Ly8gTWFwIG92ZXIgalF1ZXJ5IGluIGNhc2Ugb2Ygb3ZlcndyaXRlXG5cdF9qUXVlcnkgPSB3aW5kb3cualF1ZXJ5LFxuXG5cdC8vIE1hcCBvdmVyIHRoZSAkIGluIGNhc2Ugb2Ygb3ZlcndyaXRlXG5cdF8kID0gd2luZG93LiQ7XG5cbmpRdWVyeS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oIGRlZXAgKSB7XG5cdGlmICggd2luZG93LiQgPT09IGpRdWVyeSApIHtcblx0XHR3aW5kb3cuJCA9IF8kO1xuXHR9XG5cblx0aWYgKCBkZWVwICYmIHdpbmRvdy5qUXVlcnkgPT09IGpRdWVyeSApIHtcblx0XHR3aW5kb3cualF1ZXJ5ID0gX2pRdWVyeTtcblx0fVxuXG5cdHJldHVybiBqUXVlcnk7XG59O1xuXG4vLyBFeHBvc2UgalF1ZXJ5IGFuZCAkIGlkZW50aWZpZXJzLCBldmVuIGluIEFNRFxuLy8gKCM3MTAyI2NvbW1lbnQ6MTAsIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5L3B1bGwvNTU3KVxuLy8gYW5kIENvbW1vbkpTIGZvciBicm93c2VyIGVtdWxhdG9ycyAoIzEzNTY2KVxuaWYgKCAhbm9HbG9iYWwgKSB7XG5cdHdpbmRvdy5qUXVlcnkgPSB3aW5kb3cuJCA9IGpRdWVyeTtcbn1cblxuXG5cblxucmV0dXJuIGpRdWVyeTtcbn0gKTtcbiIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXJcdG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW87XG5cblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdHJldHVybiBtZW1vO1xuXHR9O1xufTtcblxudmFyIGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0Ly8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuXHQvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG5cdC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuXHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0cmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xufSk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0LCBwYXJlbnQpIHtcbiAgaWYgKHBhcmVudCl7XG4gICAgcmV0dXJuIHBhcmVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG4gIH1cbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcbn07XG5cbnZhciBnZXRFbGVtZW50ID0gKGZ1bmN0aW9uIChmbikge1xuXHR2YXIgbWVtbyA9IHt9O1xuXG5cdHJldHVybiBmdW5jdGlvbih0YXJnZXQsIHBhcmVudCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHBhc3NpbmcgZnVuY3Rpb24gaW4gb3B0aW9ucywgdGhlbiB1c2UgaXQgZm9yIHJlc29sdmUgXCJoZWFkXCIgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAvLyBVc2VmdWwgZm9yIFNoYWRvdyBSb290IHN0eWxlIGkuZVxuICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAvLyAgIGluc2VydEludG86IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9vXCIpLnNoYWRvd1Jvb3QgfVxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0dmFyIHN0eWxlVGFyZ2V0ID0gZ2V0VGFyZ2V0LmNhbGwodGhpcywgdGFyZ2V0LCBwYXJlbnQpO1xuXHRcdFx0Ly8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblx0XHRcdGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuXHRcdFx0XHRcdC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcblx0XHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcblx0XHR9XG5cdFx0cmV0dXJuIG1lbW9bdGFyZ2V0XVxuXHR9O1xufSkoKTtcblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXJcdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xudmFyXHRzdHlsZXNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhclx0Zml4VXJscyA9IHJlcXVpcmUoXCIuL3VybHNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRpZiAodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XG5cdFx0aWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0b3B0aW9ucy5hdHRycyA9IHR5cGVvZiBvcHRpb25zLmF0dHJzID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5hdHRycyA6IHt9O1xuXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSBcImJvb2xlYW5cIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgPGhlYWQ+IGVsZW1lbnRcbiAgICAgICAgaWYgKCFvcHRpb25zLmluc2VydEludG8pIG9wdGlvbnMuaW5zZXJ0SW50byA9IFwiaGVhZFwiO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdGFyZ2V0XG5cdGlmICghb3B0aW9ucy5pbnNlcnRBdCkgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKTtcblxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUgKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdH1cblxuXHRcdGlmKG5ld0xpc3QpIHtcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyk7XG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XG5cblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykgZG9tU3R5bGUucGFydHNbal0oKTtcblxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn07XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tIChzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyAobGlzdCwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XG5cblx0XHRpZighbmV3U3R5bGVzW2lkXSkgc3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcblx0XHRlbHNlIG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcblx0fVxuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudCAob3B0aW9ucywgc3R5bGUpIHtcblx0dmFyIHRhcmdldCA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvKVxuXG5cdGlmICghdGFyZ2V0KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG5cdH1cblxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZXNJbnNlcnRlZEF0VG9wW3N0eWxlc0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XG5cblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZiAoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCB0YXJnZXQuZmlyc3RDaGlsZCk7XG5cdFx0fSBlbHNlIGlmIChsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHRcdH1cblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGUpO1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKSB7XG5cdFx0dmFyIG5leHRTaWJsaW5nID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEF0LmJlZm9yZSwgdGFyZ2V0KTtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBuZXh0U2libGluZyk7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiW1N0eWxlIExvYWRlcl1cXG5cXG4gSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcgKCdvcHRpb25zLmluc2VydEF0JykgZm91bmQuXFxuIE11c3QgYmUgJ3RvcCcsICdib3R0b20nLCBvciBPYmplY3QuXFxuIChodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlciNpbnNlcnRhdClcXG5cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50IChzdHlsZSkge1xuXHRpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcblxuXHR2YXIgaWR4ID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlKTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cblx0aWYob3B0aW9ucy5hdHRycy50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdH1cblxuXHRpZihvcHRpb25zLmF0dHJzLm5vbmNlID09PSB1bmRlZmluZWQpIHtcblx0XHR2YXIgbm9uY2UgPSBnZXROb25jZSgpO1xuXHRcdGlmIChub25jZSkge1xuXHRcdFx0b3B0aW9ucy5hdHRycy5ub25jZSA9IG5vbmNlO1xuXHRcdH1cblx0fVxuXG5cdGFkZEF0dHJzKHN0eWxlLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlKTtcblxuXHRyZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cblx0aWYob3B0aW9ucy5hdHRycy50eXBlID09PSB1bmRlZmluZWQpIHtcblx0XHRvcHRpb25zLmF0dHJzLnR5cGUgPSBcInRleHQvY3NzXCI7XG5cdH1cblx0b3B0aW9ucy5hdHRycy5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblxuXHRhZGRBdHRycyhsaW5rLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmspO1xuXG5cdHJldHVybiBsaW5rO1xufVxuXG5mdW5jdGlvbiBhZGRBdHRycyAoZWwsIGF0dHJzKSB7XG5cdE9iamVjdC5rZXlzKGF0dHJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRlbC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGdldE5vbmNlKCkge1xuXHRpZiAodHlwZW9mIF9fd2VicGFja19ub25jZV9fID09PSAndW5kZWZpbmVkJykge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0cmV0dXJuIF9fd2VicGFja19ub25jZV9fO1xufVxuXG5mdW5jdGlvbiBhZGRTdHlsZSAob2JqLCBvcHRpb25zKSB7XG5cdHZhciBzdHlsZSwgdXBkYXRlLCByZW1vdmUsIHJlc3VsdDtcblxuXHQvLyBJZiBhIHRyYW5zZm9ybSBmdW5jdGlvbiB3YXMgZGVmaW5lZCwgcnVuIGl0IG9uIHRoZSBjc3Ncblx0aWYgKG9wdGlvbnMudHJhbnNmb3JtICYmIG9iai5jc3MpIHtcblx0ICAgIHJlc3VsdCA9IHR5cGVvZiBvcHRpb25zLnRyYW5zZm9ybSA9PT0gJ2Z1bmN0aW9uJ1xuXHRcdCA/IG9wdGlvbnMudHJhbnNmb3JtKG9iai5jc3MpIFxuXHRcdCA6IG9wdGlvbnMudHJhbnNmb3JtLmRlZmF1bHQob2JqLmNzcyk7XG5cblx0ICAgIGlmIChyZXN1bHQpIHtcblx0ICAgIFx0Ly8gSWYgdHJhbnNmb3JtIHJldHVybnMgYSB2YWx1ZSwgdXNlIHRoYXQgaW5zdGVhZCBvZiB0aGUgb3JpZ2luYWwgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBydW5uaW5nIHJ1bnRpbWUgdHJhbnNmb3JtYXRpb25zIG9uIHRoZSBjc3MuXG5cdCAgICBcdG9iai5jc3MgPSByZXN1bHQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgXHQvLyBJZiB0aGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHJldHVybnMgYSBmYWxzeSB2YWx1ZSwgZG9uJ3QgYWRkIHRoaXMgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBjb25kaXRpb25hbCBsb2FkaW5nIG9mIGNzc1xuXHQgICAgXHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICBcdFx0Ly8gbm9vcFxuXHQgICAgXHR9O1xuXHQgICAgfVxuXHR9XG5cblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG5cblx0XHRzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcblxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG5cblx0fSBlbHNlIGlmIChcblx0XHRvYmouc291cmNlTWFwICYmXG5cdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0XHRzdHlsZSA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblxuXHRcdFx0aWYoc3R5bGUuaHJlZikgVVJMLnJldm9rZU9iamVjdFVSTChzdHlsZS5ocmVmKTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblx0XHR9O1xuXHR9XG5cblx0dXBkYXRlKG9iaik7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlIChuZXdPYmopIHtcblx0XHRpZiAobmV3T2JqKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdG5ld09iai5jc3MgPT09IG9iai5jc3MgJiZcblx0XHRcdFx0bmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiZcblx0XHRcdFx0bmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcFxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlbW92ZSgpO1xuXHRcdH1cblx0fTtcbn1cblxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG5cdH07XG59KSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnIChzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG5cdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcblxuXHRpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcblxuXHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuXHRcdFx0c3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcgKHN0eWxlLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcblxuXHRpZihtZWRpYSkge1xuXHRcdHN0eWxlLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxuXHR9XG5cblx0aWYoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcblx0fSBlbHNlIHtcblx0XHR3aGlsZShzdHlsZS5maXJzdENoaWxkKSB7XG5cdFx0XHRzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcblx0XHR9XG5cblx0XHRzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcblx0fVxufVxuXG5mdW5jdGlvbiB1cGRhdGVMaW5rIChsaW5rLCBvcHRpb25zLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG5cdC8qXG5cdFx0SWYgY29udmVydFRvQWJzb2x1dGVVcmxzIGlzbid0IGRlZmluZWQsIGJ1dCBzb3VyY2VtYXBzIGFyZSBlbmFibGVkXG5cdFx0YW5kIHRoZXJlIGlzIG5vIHB1YmxpY1BhdGggZGVmaW5lZCB0aGVuIGxldHMgdHVybiBjb252ZXJ0VG9BYnNvbHV0ZVVybHNcblx0XHRvbiBieSBkZWZhdWx0LiAgT3RoZXJ3aXNlIGRlZmF1bHQgdG8gdGhlIGNvbnZlcnRUb0Fic29sdXRlVXJscyBvcHRpb25cblx0XHRkaXJlY3RseVxuXHQqL1xuXHR2YXIgYXV0b0ZpeFVybHMgPSBvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyA9PT0gdW5kZWZpbmVkICYmIHNvdXJjZU1hcDtcblxuXHRpZiAob3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgfHwgYXV0b0ZpeFVybHMpIHtcblx0XHRjc3MgPSBmaXhVcmxzKGNzcyk7XG5cdH1cblxuXHRpZiAoc291cmNlTWFwKSB7XG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcblx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XG5cdH1cblxuXHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcblxuXHR2YXIgb2xkU3JjID0gbGluay5ocmVmO1xuXG5cdGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cblx0aWYob2xkU3JjKSBVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XG59XG4iLCJcbi8qKlxuICogV2hlbiBzb3VyY2UgbWFwcyBhcmUgZW5hYmxlZCwgYHN0eWxlLWxvYWRlcmAgdXNlcyBhIGxpbmsgZWxlbWVudCB3aXRoIGEgZGF0YS11cmkgdG9cbiAqIGVtYmVkIHRoZSBjc3Mgb24gdGhlIHBhZ2UuIFRoaXMgYnJlYWtzIGFsbCByZWxhdGl2ZSB1cmxzIGJlY2F1c2Ugbm93IHRoZXkgYXJlIHJlbGF0aXZlIHRvIGFcbiAqIGJ1bmRsZSBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IHBhZ2UuXG4gKlxuICogT25lIHNvbHV0aW9uIGlzIHRvIG9ubHkgdXNlIGZ1bGwgdXJscywgYnV0IHRoYXQgbWF5IGJlIGltcG9zc2libGUuXG4gKlxuICogSW5zdGVhZCwgdGhpcyBmdW5jdGlvbiBcImZpeGVzXCIgdGhlIHJlbGF0aXZlIHVybHMgdG8gYmUgYWJzb2x1dGUgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IHBhZ2UgbG9jYXRpb24uXG4gKlxuICogQSBydWRpbWVudGFyeSB0ZXN0IHN1aXRlIGlzIGxvY2F0ZWQgYXQgYHRlc3QvZml4VXJscy5qc2AgYW5kIGNhbiBiZSBydW4gdmlhIHRoZSBgbnBtIHRlc3RgIGNvbW1hbmQuXG4gKlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzcykge1xuICAvLyBnZXQgY3VycmVudCBsb2NhdGlvblxuICB2YXIgbG9jYXRpb24gPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5sb2NhdGlvbjtcblxuICBpZiAoIWxvY2F0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7XG4gIH1cblxuXHQvLyBibGFuayBvciBudWxsP1xuXHRpZiAoIWNzcyB8fCB0eXBlb2YgY3NzICE9PSBcInN0cmluZ1wiKSB7XG5cdCAgcmV0dXJuIGNzcztcbiAgfVxuXG4gIHZhciBiYXNlVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyBsb2NhdGlvbi5ob3N0O1xuICB2YXIgY3VycmVudERpciA9IGJhc2VVcmwgKyBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sIFwiL1wiKTtcblxuXHQvLyBjb252ZXJ0IGVhY2ggdXJsKC4uLilcblx0Lypcblx0VGhpcyByZWd1bGFyIGV4cHJlc3Npb24gaXMganVzdCBhIHdheSB0byByZWN1cnNpdmVseSBtYXRjaCBicmFja2V0cyB3aXRoaW5cblx0YSBzdHJpbmcuXG5cblx0IC91cmxcXHMqXFwoICA9IE1hdGNoIG9uIHRoZSB3b3JkIFwidXJsXCIgd2l0aCBhbnkgd2hpdGVzcGFjZSBhZnRlciBpdCBhbmQgdGhlbiBhIHBhcmVuc1xuXHQgICAoICA9IFN0YXJ0IGEgY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgKD86ICA9IFN0YXJ0IGEgbm9uLWNhcHR1cmluZyBncm91cFxuXHQgICAgICAgICBbXikoXSAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKD86ICA9IFN0YXJ0IGFub3RoZXIgbm9uLWNhcHR1cmluZyBncm91cHNcblx0ICAgICAgICAgICAgICAgICBbXikoXSsgID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgICAgIFteKShdKiAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICBcXCkgID0gTWF0Y2ggYSBlbmQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICkgID0gRW5kIEdyb3VwXG4gICAgICAgICAgICAgICpcXCkgPSBNYXRjaCBhbnl0aGluZyBhbmQgdGhlbiBhIGNsb3NlIHBhcmVuc1xuICAgICAgICAgICkgID0gQ2xvc2Ugbm9uLWNhcHR1cmluZyBncm91cFxuICAgICAgICAgICogID0gTWF0Y2ggYW55dGhpbmdcbiAgICAgICApICA9IENsb3NlIGNhcHR1cmluZyBncm91cFxuXHQgXFwpICA9IE1hdGNoIGEgY2xvc2UgcGFyZW5zXG5cblx0IC9naSAgPSBHZXQgYWxsIG1hdGNoZXMsIG5vdCB0aGUgZmlyc3QuICBCZSBjYXNlIGluc2Vuc2l0aXZlLlxuXHQgKi9cblx0dmFyIGZpeGVkQ3NzID0gY3NzLnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLCBmdW5jdGlvbihmdWxsTWF0Y2gsIG9yaWdVcmwpIHtcblx0XHQvLyBzdHJpcCBxdW90ZXMgKGlmIHRoZXkgZXhpc3QpXG5cdFx0dmFyIHVucXVvdGVkT3JpZ1VybCA9IG9yaWdVcmxcblx0XHRcdC50cmltKClcblx0XHRcdC5yZXBsYWNlKC9eXCIoLiopXCIkLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pXG5cdFx0XHQucmVwbGFjZSgvXicoLiopJyQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSk7XG5cblx0XHQvLyBhbHJlYWR5IGEgZnVsbCB1cmw/IG5vIGNoYW5nZVxuXHRcdGlmICgvXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcL3xcXHMqJCkvaS50ZXN0KHVucXVvdGVkT3JpZ1VybCkpIHtcblx0XHQgIHJldHVybiBmdWxsTWF0Y2g7XG5cdFx0fVxuXG5cdFx0Ly8gY29udmVydCB0aGUgdXJsIHRvIGEgZnVsbCB1cmxcblx0XHR2YXIgbmV3VXJsO1xuXG5cdFx0aWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiLy9cIikgPT09IDApIHtcblx0XHQgIFx0Ly9UT0RPOiBzaG91bGQgd2UgYWRkIHByb3RvY29sP1xuXHRcdFx0bmV3VXJsID0gdW5xdW90ZWRPcmlnVXJsO1xuXHRcdH0gZWxzZSBpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvXCIpID09PSAwKSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYmFzZSB1cmxcblx0XHRcdG5ld1VybCA9IGJhc2VVcmwgKyB1bnF1b3RlZE9yaWdVcmw7IC8vIGFscmVhZHkgc3RhcnRzIHdpdGggJy8nXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIGN1cnJlbnQgZGlyZWN0b3J5XG5cdFx0XHRuZXdVcmwgPSBjdXJyZW50RGlyICsgdW5xdW90ZWRPcmlnVXJsLnJlcGxhY2UoL15cXC5cXC8vLCBcIlwiKTsgLy8gU3RyaXAgbGVhZGluZyAnLi8nXG5cdFx0fVxuXG5cdFx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCB1cmwoLi4uKVxuXHRcdHJldHVybiBcInVybChcIiArIEpTT04uc3RyaW5naWZ5KG5ld1VybCkgKyBcIilcIjtcblx0fSk7XG5cblx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCBjc3Ncblx0cmV0dXJuIGZpeGVkQ3NzO1xufTtcbiIsImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgSW5saW5lRWRpdG9yIGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtYnVpbGQtaW5saW5lJztcblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuICAkKCdbZGF0YS1lZGl0b3JdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgbGV0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCAkKHRoaXMpLmRhdGEoJ2VkaXRvcicpKTtcbiAgICBsZXQgJHRhcmdldCA9ICQoJCh0aGlzKS5kYXRhKCd0YXJnZXQnKSk7XG5cbiAgICBJbmxpbmVFZGl0b3IuY3JlYXRlKHRoaXMsIG9wdGlvbnMpXG4gICAgICAudGhlbihlZGl0b3IgPT4ge1xuICAgICAgICBlZGl0b3Iuc2V0RGF0YSgkdGFyZ2V0LnZhbCgpKTtcblxuICAgICAgICAkKGRvY3VtZW50KS5vbignc3VibWl0JywgJ2Zvcm0nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgbGV0IGNvbnRlbnQgPSBlZGl0b3IuZ2V0RGF0YSgpO1xuICAgICAgICAgICR0YXJnZXQgJiYgJHRhcmdldC52YWwoY29udGVudCk7XG4gICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgIH0pO1xuICB9KTtcbn0pO1xuIiwiaW1wb3J0ICcuL2VkaXRvci5zY3NzJztcbmltcG9ydCAnLi9lZGl0b3ItaW5saW5lLmpzJztcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ltcG9ydC1nbG9iLWxvYWRlci9pbmRleC5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTUtNCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcz8/cmVmLS01LTUhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BlcGVnenovc2Fzcy12YXJzLWxvYWRlci9kaXN0L3Nhc3NWYXJzTG9hZGVyLmpzPz9yZWYtLTUtNiEuL2VkaXRvci5zY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2ltcG9ydC1nbG9iLWxvYWRlci9pbmRleC5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9yZWYtLTUtNCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcz8/cmVmLS01LTUhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BlcGVnenovc2Fzcy12YXJzLWxvYWRlci9kaXN0L3Nhc3NWYXJzTG9hZGVyLmpzPz9yZWYtLTUtNiEuL2VkaXRvci5zY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9pbXBvcnQtZ2xvYi1sb2FkZXIvaW5kZXguanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cmVmLS01LTQhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanM/P3JlZi0tNS01IS4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZXBlZ3p6L3Nhc3MtdmFycy1sb2FkZXIvZGlzdC9zYXNzVmFyc0xvYWRlci5qcz8/cmVmLS01LTYhLi9lZGl0b3Iuc2Nzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSJdLCJzb3VyY2VSb290IjoiIn0=